(function(){var t={6700:function(t,e,r){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function s(t){var e=l(t);return r(e)}function l(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=l,t.exports=s,s.id=6700},71:function(t,e,r){"use strict";r.d(e,{Z:function(){return spe}});var a=r(9242),s=r(3396),l=r(7718);function o(t,e,r,a,o,i){const w=(0,s.up)("router-view"),n=(0,s.up)("AppProvider");return(0,s.wg)(),(0,s.j4)(l.q,{class:"my-application"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{i18n:t.locales},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1},8,["i18n"])])),_:1})}var i=r(7139);const w="https://codsquad.net/",n="https://api.codsquad.net/",d="1.0.1",c="$",u="cods";var p=r(9641),g={name:"App",data:()=>({theme:"light",version:d,locales:p}),methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions"]),checkVersion(){const t=localStorage.getItem("app_version");t!=this.version&&(localStorage.setItem("app_version",this.version),location.reload(!0))}},mounted(){this.checkVersion(),document.documentElement.style.setProperty("--p-color-scrollbar-thumb-bg-hover","none"),document.documentElement.style.scrollbarColor="auto",document.documentElement.style.scrollbarWidth="auto"}},m=r(89);const h=(0,m.Z)(g,[["render",o],["__scopeId","data-v-6dc71e7d"]]);var f=h,b=r(2483);r(7658);let v={roles:localStorage.getItem("roles")?JSON.parse(localStorage.getItem("roles")):[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):[],isLoggedIn:"true"==localStorage.getItem("isLoggedIn"),permissions:localStorage.getItem("permissions")?JSON.parse(localStorage.getItem("permissions")):[],users:[],agents:[],deliveries:[],fetched:!1,fetchedRoles:!1};var x={name:"user",namespaced:!0,state:v,getters:{fetched:t=>t.fetched,fetchedRoles:t=>t.fetchedRoles,isLoggedIn:t=>t.isLoggedIn,permissions:t=>t.permissions,user:t=>t.user,users:t=>t.users,roles:t=>t.roles,agents:t=>t.agents,deliveries:t=>t.deliveries},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FETCHED_ROLES:(t,e)=>{t.fetchedRoles=e},SET_IS_LOGGED_IN:(t,e)=>{localStorage.setItem("isLoggedIn",e),t.isLoggedIn=e},SET_USER:(t,e)=>{localStorage.setItem("user",JSON.stringify(e)),t.user=e},SET_USERS:(t,e)=>{t.users=e},SET_PERMISSIONS:(t,e)=>{localStorage.setItem("permissions",JSON.stringify(e)),t.permissions=e},SET_ROLES:(t,e)=>{localStorage.setItem("roles",JSON.stringify(e)),t.roles=e},SET_DELIVERIES:(t,e)=>{t.deliveries=e},SET_AGENTS:(t,e)=>{t.agents=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFetchedRoles:({commit:t},e)=>{t("SET_FETCHED_ROLES",e)},setUser:({commit:t},e)=>{t("SET_USER",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)},setAgents:({commit:t},e)=>{t("SET_AGENTS",e)},setDeliveries:({commit:t},e)=>{t("SET_DELIVERIES",e)},setIsLoggedIn:({commit:t},e)=>{t("SET_IS_LOGGED_IN",e)},setPermissions:({commit:t},e)=>{t("SET_PERMISSIONS",e)},setRoles:({commit:t},e)=>{t("SET_ROLES",e)},logout:({commit:t})=>{t("SET_USER",{}),t("SET_IS_LOGGED_IN",!1),t("SET_PERMISSIONS",[]),t("SET_ROLES",[])}}},y={name:"alert",namespaced:!0,state:{active:!1,alert:{type:"success",title:"Toast",body:"Hello body"}},getters:{alert:t=>t},mutations:{TOGGLE_TOAST:(t,e)=>{t.alert=e,t.active=!0,setTimeout((()=>{t.active=!1}),4500)}},actions:{toggleAlert:({commit:t},e)=>{t("TOGGLE_TOAST",e)}}};let _={products:[],fetched:!1};var k={name:"product",namespaced:!0,state:_,getters:{products:t=>t.products,fetched:t=>t.fetched},mutations:{SET_PRODUCTS:(t,e)=>{t.products=e},SET_PRODUCT:(t,e)=>{t.products=t.products.map((t=>t.id===e.id?e:t))},ADD_PRODUCT:(t,e)=>{t.products.push(e)},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setProducts:({commit:t},e)=>{t("SET_PRODUCTS",e)},setProduct:({commit:t},e)=>{t("SET_PRODUCT",e)},addProduct:({commit:t},e)=>{t("ADD_PRODUCT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};r(541);let C={fetched:!1,sales:[],count:0};var D={name:"sale",namespaced:!0,state:C,getters:{sales:t=>t.sales,count:t=>t.count,fetched:t=>t.fetched},mutations:{SET_SALES:(t,e)=>{t.sales=e},SET_COUNT:(t,e)=>{t.count=e},SET_FETCHED:(t,e)=>{t.fetched=e},UPDATE_SALE:(t,e)=>{t.sales=t.sales.map((t=>t.id===e.id?e.sale:t))},ADD_SALE:(t,e)=>{t.sales.unshift(e)},ADD_SALES:(t,e)=>{t.sales=[...e,...t.sales]},UPDATE_CONFIRMATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,console.log("sale updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.affectation=e.affectation,null!=e.affectation?t.delivery="dispatch":t.delivery=null,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,console.log("order updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))},RESET_SALES:(t,e)=>{t.sales=t.sales.map((t=>(e.includes(t.id)&&(t.agente_id=null,t.upsell=null,t.confirmation=null,t.affectation=null,t.note=null,t.note_d=null,t.delivery=null,t.reported_agente_date=null,t.reported_agente_note=null,t.reported_delivery_date=null,t.reported_delivery_note=null),t)))}},actions:{setSales:({commit:t},e)=>{t("SET_SALES",e)},setCount:({commit:t},e)=>{t("SET_COUNT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},update:({commit:t},e)=>{t("UPDATE_SALE",e)},add:({commit:t},e)=>{t("ADD_SALE",e)},addSales:({commit:t},e)=>{t("ADD_SALES",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)},resetSales:({commit:t},e)=>{t("RESET_SALES",e)}}};let S={orders:[],order:null,all_orders:[],fetched:!1};var z={name:"order",namespaced:!0,state:S,getters:{fetched:t=>t.fetched,orders:t=>t.orders,order:t=>t.order,allOrders:t=>t.all_orders},mutations:{SET_ORDERS:(t,e)=>{t.orders=e},ADD_ORDER:(t,e)=>{t.orders.unshift(e),t.all_orders.unshift(e)},SET_FETCHED:(t,e)=>{t.fetched=e},SET_ALL_ORDERS:(t,e)=>{t.all_orders=e},SET_ORDER:(t,e)=>{t.order=e},UPDATE_ORDER:(t,e)=>{t.orders=t.orders.map((t=>t.id===e.id?e.order:t)),t.all_orders=t.all_orders.map((t=>t.id===e.id?e.order:t))},UPDATE_CONFIRMATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))}},actions:{setOrders:({commit:t},e)=>{t("SET_ORDERS",e)},addOrder:({commit:t},e)=>{t("ADD_ORDER",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setAllOrders:({commit:t},e)=>{t("SET_ALL_ORDERS",e)},setOrder:({commit:t},e)=>{t("SET_ORDER",e)},update:({commit:t},e)=>{t("UPDATE_ORDER",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)}}};let U={fetcehd:!1,inventoryList:[],inventoryState:[],inventoryMovements:[]};var q={name:"inventory",namespaced:!0,state:U,getters:{fetched:t=>t.fetched,inventoryList:t=>t.inventoryList,inventoryState:t=>t.inventoryState,inventoryMovements:t=>t.inventoryMovements},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_INVENTORY_LIST:(t,e)=>{t.inventoryList=e},SET_INVENTORY_STATE:(t,e)=>{t.inventoryState=e},SET_INVENTORY_MOVEMENTS:(t,e)=>{t.inventoryMovements=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setInventoryList:({commit:t},e)=>{t("SET_INVENTORY_LIST",e)},setInventoryState:({commit:t},e)=>{t("SET_INVENTORY_STATE",e)},setInventoryMovements:({commit:t},e)=>{t("SET_INVENTORY_MOVEMENTS",e)}}},P=r(6943);const L=P.Z.create({baseURL:n}),W=P.Z.create({baseURL:n});W.defaults.withCredentials=!0,W.defaults.headers={"Content-Type":"multipart/form-data",Accept:"application/json"},L.defaults.withCredentials=!0,L.defaults.headers={"Content-Type":"application/json",Accept:"application/json"};var A=L,$=r(680),E={getCookie(){let t=$.Z.get("XSRF-TOKEN");return t?new Promise((t=>{t()})):A.get("sanctum/csrf-cookie")}};class T{async statistics(t){return await E.getCookie(),A.post("api/v1/agent/statistics",t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/agent/orders"+t,e)}async counts(){return await E.getCookie(),A.get("api/v1/agent/orders/counts")}async update(t,e){return await E.getCookie(),A.post("api/v1/agent/orders/"+t+"/update",e)}async toConfirm(){return await E.getCookie(),A.get("api/orders/toconfirmate")}async getOrder(){return await E.getCookie(),A.get("api/orders/add")}async create(t){return await E.getCookie(),A.post("api/v1/agent/orders/create",t)}}var F=new T;let j={fetched:!1,totalAvailable:0,totalConfirmed:0,totalNotConfirmed:0};var I={name:"agent",namespaced:!0,state:j,getters:{fetched:t=>t.fetched,state:t=>t},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_TOTAL_CONFIRMED:(t,e)=>{t.totalConfirmed=e},SET_TOTAL_NOT_CONFIRMED:(t,e)=>{t.totalNotConfirmed=e},SET_TOTAL_AVAILABLE:(t,e)=>{t.totalAvailable=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setTotalConfirmed:({commit:t},e)=>{t("SET_TOTAL_CONFIRMED",e)},setTotalNotConfirmed:({commit:t},e)=>{t("SET_TOTAL_NOT_CONFIRMED",e)},setTotalAvailable:({commit:t},e)=>{t("SET_TOTAL_AVAILABLE",e)},refreshCounts:t=>{t.commit("SET_FETCHED",!1),console.log(t),F.counts().then((e=>{if("SUCCESS"==e?.data.code){const r=e.data.data;t.commit("SET_TOTAL_CONFIRMED",r.confirmed),t.commit("SET_TOTAL_NOT_CONFIRMED",r.not_confirmed),t.commit("SET_TOTAL_AVAILABLE",r.available),t.commit("SET_FETCHED",!0)}}))}}};const V=localStorage.getItem("cities");let O={fetched:!1,cities:V?JSON.parse(V):[]};var H={name:"city",namespaced:!0,state:O,getters:{cities:t=>t.cities,fetched:t=>t.fetched},mutations:{SET_CITIES:(t,e)=>{localStorage.setItem("cities",JSON.stringify(e)),t.cities=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setCities:({commit:t},e)=>{t("SET_CITIES",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}},M={name:"app",namespaced:!0,state:{notifications:{fetched:!1,all:[],data:[],count:0,highlighted:null},factorisations:{fetched:!1,tobepaid:0},alerts:{fetched:!1,data:[]}},getters:{notifications:t=>t.notifications,factorisations:t=>t.factorisations,alerts:t=>t.alerts},mutations:{SET_DATA:(t,e)=>{t.notifications.data=e},SET_ALERTS_FETCHED:(t,e)=>{t.alerts.fetched=e},SET_ALERTS_DATA:(t,e)=>{t.alerts.data=e},SET_TO_BE_PAID:(t,e)=>{t.factorisations.tobepaid=e},SET_ALL_NOTIFICATIONS:(t,e)=>{t.notifications.all=e},SET_COUNT:(t,e)=>{t.notifications.count=e},SET_HIGHLIGHTED:(t,e)=>{t.notifications.highlighted=e},CHANGE_STATUS:t=>{t.notifications.data=t.notifications.data.map((t=>(t.status="read",t)),t.notifications.count=0)}},actions:{setData({commit:t},e){t("SET_DATA",e)},setAlertsFetched({commit:t},e){t("SET_ALERTS_FETCHED",e)},setAlertsData({commit:t},e){t("SET_ALERTS_DATA",e)},settobepaid({commit:t},e){t("SET_TO_BE_PAID",e)},setAllNotifications({commit:t},e){t("SET_ALL_NOTIFICATIONS",e)},sethighlighted({commit:t},e){t("SET_HIGHLIGHTED",e)},setCount({commit:t},e){t("SET_COUNT",e)},updatestatus({commit:t},e){t("CHANGE_STATUS",e)}}};let R={shops:[]};var N={name:"shop",namespaced:!0,state:R,getters:{shops:t=>t.shops},mutations:{SET_SHOPS:(t,e)=>{t.shops=e}},actions:{setShops:({commit:t},e)=>{t("SET_SHOPS",e)}}};let Y={fetched:!1,notifications:{productStockAlert:[],reportedSale:[],reportedOrderAgente:[],reportedOrderDelivery:[]}};var Z={name:"notification",namespaced:!0,state:Y,getters:{notifications:t=>t.notifications,fetched:t=>t.fetched},mutations:{SET_NOTIFICATIONS:(t,e)=>{t.notifications=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setNotifications:({commit:t},e)=>{t("SET_NOTIFICATIONS",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let K={fetched:!1,warehouses:[]};var B={name:"warehouse",namespaced:!0,state:K,getters:{fetched:t=>t.fetched,warehouses:t=>t.warehouses},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_WAREHOUSES:(t,e)=>{t.warehouses=e},ADD_WAREHOUSE:(t,e)=>{t.warehouses.push(e)},DELETE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.filter((t=>t.id!=e))},UPDATE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setWarehouses:({commit:t},e)=>{t("SET_WAREHOUSES",e)},addWarehouse:({commit:t},e)=>{t("ADD_WAREHOUSE",e)},update:({commit:t},e)=>{t("UPDATE_WAREHOUSE",e)},delete:({commit:t},e)=>{t("DELETE_WAREHOUSE",e)}}};let Q={fetched:!1,factorisations:[]};var J={name:"factorisation",namespaced:!0,state:Q,getters:{fetched:t=>t.fetched,factorisations:t=>t.factorisations},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FACTORISATIONS:(t,e)=>{t.factorisations=e},ADD_FACTORISATION:(t,e)=>{t.factorisations.push(e)},DELETE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.filter((t=>t.id!=e))},UPDATE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFactorisations:({commit:t},e)=>{t("SET_FACTORISATIONS",e)},addFactorisation:({commit:t},e)=>{t("ADD_FACTORISATION",e)},update:({commit:t},e)=>{t("UPDATE_FACTORISATION",e)},delete:({commit:t},e)=>{t("DELETE_FACTORISATION",e)}}};let G={fetched:!1,sheets:[]};var X={name:"sheet",namespaced:!0,state:G,getters:{fetched:t=>t.fetched,sheets:t=>t.sheets},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_SHEETS:(t,e)=>{t.sheets=e},ADD_SHEET:(t,e)=>{t.sheets.push(e)},DELETE_SHEET:(t,e)=>{t.sheets=t.sheets.filter((t=>t.id!=e))},UPDATE_SHEET:(t,e)=>{t.sheets=t.sheets.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setSheets:({commit:t},e)=>{t("SET_SHEETS",e)},addSheet:({commit:t},e)=>{t("ADD_SHEET",e)},update:({commit:t},e)=>{t("UPDATE_SHEET",e)},delete:({commit:t},e)=>{t("DELETE_SHEET",e)}}};let tt={users:[],fetched:!1};var et={name:"online",namespaced:!0,state:tt,getters:{fetched:t=>t.fetched,users:t=>t.users},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_USERS:(t,e)=>{t.users=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)}}};let rt={supply_requests:[]};var at={name:"supply-request",namespaced:!0,state:rt,getters:{supply_requests:t=>t.supply_requests},mutations:{SET_SUPPLY_REQUESTS:(t,e)=>{t.supply_requests=e},ADD_SUPPLY_REQUEST:(t,e)=>{t.supply_requests.unshift(e)},DELETE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.filter((t=>t.id!=e))},UPDATE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.map((t=>t.id==e.id?e:t))}},actions:{setSupplyRequests:({commit:t},e)=>{t("SET_SUPPLY_REQUESTS",e)},addSupplyRequest:({commit:t},e)=>{t("ADD_SUPPLY_REQUEST",e)},deleteSupplyRequest:({commit:t},e)=>{t("DELETE_SUPPLY_REQUEST",e)},updateSupplyRequest:({commit:t},e)=>{t("UPDATE_SUPPLY_REQUEST",e)}}},st=(0,i.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:x,product:k,alert:y,sale:D,order:z,inventory:q,city:H,agent:I,shop:N,notification:Z,warehouse:B,factorisation:J,sheet:X,app:M,online:et,"supply-request":at}});class lt{async login(t){return await E.getCookie(),A.post("api/auth/login",{email:t.email,password:t.password})}async register(t){return await E.getCookie(),A.post("api/users/new",{email:t.email,password:t.password,phone:t.phone,status:t.status,role:t.role,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,city:t?.city,deliverycity:t?.deliveryCities,having_all:t.having_all})}async update(t,e){return await E.getCookie(),A.post("api/users/update/"+t.id,{email:t.email,password:t.password,phone:t.phone,status:t.status,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,role:t.role,city:t?.city,deliverycity:t?.deliveryCities,updatePassword:e,having_all:t.having_all})}async updateProfile(t,e){return await E.getCookie(),A.post("api/users/profile",{password:t.password,phone:t.phone,firstname:t.firstname,lastname:t.lastname,updatePassword:e})}async online(){return await E.getCookie(),A.get("api/user")}async lastAction(){return await E.getCookie(),A.get("api/users/last-action")}async profile(){return await E.getCookie(),A.get("api/users/profile")}async logout(){return await E.getCookie(),A.get("api/auth/logout")}async clear(){return await E.getCookie(),A.get("api/auth/clear")}async permessions(){return await E.getCookie(),A.get("api/permissions")}async permession(){return await E.getCookie(),A.get("api/auth/permission")}async roles(){return await E.getCookie(),A.get("api/auth/roles")}async all(){return await E.getCookie(),A.get("api/users")}async updateStatus({id:t,status:e}){return await E.getCookie(),A.post("api/users/status/"+t,{status:e})}async delete(t){return await E.getCookie(),A["delete"]("api/users/delete/"+t)}async getUser(t){return await E.getCookie(),A.get("api/users/"+t)}async createPermission(t){return await E.getCookie(),A.post("api/permissions/new",{name:t})}async createRole({name:t,permissions:e}){return await E.getCookie(),A.post("api/roles/new",{name:t,permissions:e})}async updateRole(t,{name:e,permissions:r}){return await E.getCookie(),A.post("api/roles/update/"+t,{name:e,permissions:r})}async deleteRole(t){return await E.getCookie(),A["delete"]("api/roles/delete/"+t)}async getRole(t){return await E.getCookie(),A.get("api/roles/"+t)}async agents(){return await E.getCookie(),A.get("api/agents")}async deliveries(){return await E.getCookie(),A.get("api/delevries")}async allDeliveries(){return await E.getCookie(),A.get("api/deliveries")}async allSellers(){return await E.getCookie(),A.get("api/sellers")}async cities(){return await E.getCookie(),A.get("api/cities")}}var ot=new lt;function it(t,e,r){if(document.title=t.meta?.title+" | COD Squad",!st.getters["user/isLoggedIn"])return"/login"==t.path||{name:"login"};if(ot.online().then((t=>{"USER_SHOWED"==t.data.code&&t.data.data.user.email!=st.getters["user/user"]?.email&&(st.dispatch("user/logout"),r.push({name:"login"}))})).catch(spe.$handleApiError),"/login"==t.path)return{name:"404"};const{gate:a}=t.meta,s=st.getters["user/permissions"];return"all"===a||(!!t.meta.role?.includes(st.getters["user/user"].role)||((a||"/404"===t.path)&&!(!s.includes(a)&&"/404"!==t.path)||{name:"404"}))}var wt=r(2268),nt=r(7312),dt=r(3369),ct=r(3289),ut=r(165);const pt={class:"tw-min-h-screen tw-overflow-auto tw-bg-slate-50"},gt={class:"tw-grid tw-h-fit tw-overflow-hidden md:tw-grid-cols-2 tw-grid-cols-1"},mt={class:"py-md-5 py-10 pb-0 tw-flex tw-justify-center md:tw-items-center"},ht={class:"px-md-10 tw-w-full"},ft={class:"tw-w-[270px] tw-h-[60px]"},bt=["src"],vt={class:"mt-md-10 mt-15 pt-5 px-md-5 px-lg-16 tw-w-full d-felx justify-center align-center"},xt={class:"pa-5 py-7 tw-border bg-white tw-rounded-lg tw-mx-auto tw-max-w-[450px]"},yt=(0,s._)("h1",{class:"text-h5 font-weight-medium !tw-text-gray-600"},"Login",-1),_t=(0,s._)("p",{class:"text-body-1 mt-2 !tw-text-gray-500"},"Please login to your account",-1),kt={key:0,class:"text-body-2 mt-2 !tw-text-red-500"},Ct={class:"mt-5"},Dt=(0,s._)("p",{class:"mb-1"},"Email",-1),St=(0,s._)("p",{class:"mb-1"},"Password",-1),zt={class:"mt-5"},Ut=(0,s._)("span",{class:"text-capitalize text-white"},"Login",-1),qt={class:"bg-primary-color tw-min-h-screen tw-hidden md:tw-flex tw-items-center tw-justify-center"},Pt=["src"];function Lt(t,e,r,l,o,i){const w=(0,s.up)("Alert");return(0,s.wg)(),(0,s.iD)("div",pt,[(0,s.Wm)(w),(0,s._)("div",gt,[(0,s._)("div",mt,[(0,s.Wm)(dt.K,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",ht,[(0,s._)("div",ft,[(0,s._)("img",{class:"tw-w-full",src:o.localUrl+"images/logo.png"},null,8,bt)]),(0,s._)("div",vt,[(0,s._)("div",xt,[yt,_t,o.error.active?((0,s.wg)(),(0,s.iD)("p",kt,(0,wt.zw)(o.error.message),1)):(0,s.kq)("",!0),(0,s._)("div",Ct,[(0,s._)("div",null,[Dt,(0,s.Wm)(ut.hw,{name:"email",onKeyup:e[0]||(e[0]=t=>i.resetError("email")),modelValue:o.email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t),error:!o.emailStatus.valid,"error-messages":o.emailStatus.valid?"":o.emailStatus.message,autofocus:"",onBlur:e[2]||(e[2]=t=>o.emailFocus=!1),onFocus:e[3]||(e[3]=t=>o.emailFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:o.emailFocus?o.emailStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-email-outline")])),_:1},8,["color"])])),_:1},8,["modelValue","error","error-messages"])]),(0,s._)("div",null,[St,(0,s.Wm)(ut.hw,{name:"password",onKeyup:(0,a.D2)(i.login,["enter"]),modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),error:!o.passwordStatus.valid,"error-messages":o.passwordStatus.valid?"":o.passwordStatus.message,type:o.showPassword?"text":"password",onBlur:e[6]||(e[6]=t=>o.passwordFocus=!1),onFocus:e[7]||(e[7]=t=>o.passwordFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(ct.t,{onClick:e[4]||(e[4]=t=>o.showPassword=!o.showPassword),class:"tw-relative tw-z-50 tw-cursor-pointer",color:o.passwordFocus?o.passwordStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(o.showPassword?"mdi-eye-off-outline":"mdi-eye-outline"),1)])),_:1},8,["color"])])),_:1},8,["onKeyup","modelValue","error","error-messages","type"])]),(0,s._)("div",zt,[(0,s.Wm)(nt.T,{disabled:o.isLoading||!o.cookiesCleared,loading:o.isLoading||!o.cookiesCleared,onClick:i.login,block:"",size:"large",color:"primary-color",variant:"flat",class:"!tw-text-white disabled:!tw-bg-gray-200"},{default:(0,s.w5)((()=>[Ut])),_:1},8,["disabled","loading","onClick"])])])])])])])),_:1})]),(0,s._)("div",qt,[(0,s._)("img",{src:o.localUrl+"assets/img/login.jpg",class:"tw-w-full tw-h-full tw-object-cover",alt:""},null,8,Pt)])])])}function Wt(t){var e=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;return t?new RegExp(e).test(t)?{valid:!0}:{valid:!1,message:"Email is not valid."}:{valid:!1,message:"Email is required."}}function At(t){return t?t.length<=4||t.length>=16?{valid:!1,message:"Password length must be between 4 and 16."}:{valid:!0}:{valid:!1,message:"This field is required"}}function $t(t,e="This field"){return t?{valid:!0}:{valid:!1,message:`${e} is required`}}function Et(t,e="This field"){return t?isNaN(t)?{valid:!1,message:`${e} must be a valid number`}:{valid:!0}:{valid:!1,message:`${e} is required`}}function Tt(t,e){return t?t!==e?{valid:!1,message:"Passwords doesn't match"}:{valid:!0}:{valid:!1,message:"This field is required."}}function Ft(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one variant to create a product !"}}function jt(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one permission to create a role !"}}var It=r(7771),Vt=r(8952);const Ot={key:0,class:"pa-2 tw-absolute !tw-z-[510000]"},Ht={class:"tw-text-sm"};function Mt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(Vt.V,null,{default:(0,s.w5)((()=>[o.state.active?((0,s.wg)(),(0,s.iD)("div",Ot,[(0,s.Wm)(It.w,{closable:"",density:"compact",variant:"flat",type:o.state.alert.type,position:"fixed",location:"bottom right",class:"ma-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Ht,(0,wt.zw)(o.state.alert.title),1)])),_:1},8,["type"])])):(0,s.kq)("",!0)])),_:1})])}var Rt={computed:{state(){return this.$store.getters["alert/alert"]}}};const Nt=(0,m.Z)(Rt,[["render",Mt]]);var Yt=Nt,Zt={components:{Alert:Yt},data(){return{localUrl:w,isLoading:!1,cookiesCleared:!1,error:{active:!1,message:""},email:"",password:"",emailStatus:{valid:!0,message:""},passwordStatus:{valid:!0,message:""},emailFocus:!1,passwordFocus:!1,showPassword:!1}},methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions","setUser"]),validateForm(){return this.emailStatus=Wt(this.email),this.passwordStatus=At(this.password),this.passwordStatus.valid&&this.emailStatus.valid},login(){this.validateForm()&&(this.isLoading=!0,this.error={active:!1,message:""},ot.login({email:this.email,password:this.password}).then((t=>{if("AUTHENTICATION_SUCCESSFUL"==t.data.code){this.setUser(t.data.data.user),this.setIsLoggedIn(!0);const e=t.data.data.user.permissions;this.setPermissions(e),this.$router.push("/")}})).catch((t=>{this.$handleApiError(t),"INVALID_CREDENTIALS"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"NOT_ACTIVE_ERROR"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"VALIDATION_ERROR"==t.response?.data.code&&(this.emailStatus={valid:!1,message:t.response.data.error["email"][0]},this.passwordStatus={valid:!1,message:t.response.data.error["password"][0]})})).finally((()=>{this.isLoading=!1})),console.log("login..."))},resetError(t){"email"==t&&(this.emailStatus={valid:!0,message:""}),"password"==t&&(this.passwordStatus={valid:!0,message:""})}},mounted(){ot.clear().then((()=>{this.cookiesCleared=!0}))}};const Kt=(0,m.Z)(Zt,[["render",Lt]]);var Bt=Kt,Qt={name:"login",path:"/login",component:Bt,meta:{title:"Login"}},Jt=r(4454),Gt=r(3140);function Xt(t,e,r,a,l,o){const i=(0,s.up)("AppSidebar"),w=(0,s.up)("AppHeader"),n=(0,s.up)("Alert"),d=(0,s.up)("AlertNotification"),c=(0,s.up)("AppAnnonces"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoggedIn?((0,s.wg)(),(0,s.j4)(Jt.s,{key:0,"full-height":!0},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{active:l.drawer},null,8,["active"]),(0,s.Wm)(w,{onToggleSidebar:o.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Wm)(n),(0,s.Wm)(d),(0,s.Wm)(Gt.O,{class:"tw-bg-gray-50 tw-min-h-screen tw-overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(dt.K,{fluid:"",class:(0,wt.C_)(["scanner/code"==t.$route.name?"tw-p-0":"tw-p-2"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c),(0,s.Wm)(u)])),_:1},8,["class"])])),_:1}),l.showScrollUpButton?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.scrollToTop&&o.scrollToTop(...t)),class:"tw-fixed tw-shadow tw-text-sm tw-bottom-5 tw-right-3 tw-w-10 tw-h-10 tw-z-10 tw-rounded-full tw-bg-orange-400 tw-text-white"},[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-transfer-up")])),_:1})])):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])}var te=r(6439),ee=r(9156);const re={class:"tw-flex tw-items-center tw-gap-2"};function ae(t,e,r,l,o,i){const w=(0,s.up)("ToBePaid"),n=(0,s.up)("GlobalNotification"),d=(0,s.up)("HeaderMenu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(te.L,{color:"white",density:"default",elevation:"0",class:"tw-border-b-0 !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-0 !tw-fixed tw-overflow-visible",absolute:!1},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s._)("div",re,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(w,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(n),(0,s.Wm)(d)])])),default:(0,s.w5)((()=>[(0,s.Wm)(ee.g,{variant:"text",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.handleClick()),["stop"]))})])),_:2},[void 0]),1024)])}var se=r(652),le=r(4075),oe=r(8694),ie=r(8793);const we={class:"tw-relative"},ne=(0,s._)("div",{class:"tw-absolute tw-bottom-0 tw-border-2 tw-border-solid tw-border-white tw-right-0 tw-w-3 tw-h-3 tw-rounded-full tw-bg-green-500"},null,-1),de={key:0,class:"!tw-duration-100"},ce={class:"tw-absolute tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[200px] tw-min-h-[50px]"},ue={class:"pa-2 d-flex tw-items-center tw-gap-2 tw-border-b tw-border-b-neutral-100"},pe={class:"d-flex flex-column justify-center"},ge={class:"tw-text-sm tw-text-neutral-800 text-capitalize"},me={class:"tw-text-xs tw-rounded-lg tw-text-green-500 text-capitalize"},he=(0,s._)("span",{class:"text-capitalize tw-text-neutral-700 tw-text-xs"}," Profile ",-1),fe={class:"d-flex tw-items-center tw-gap-2"},be=(0,s._)("span",{class:"text-capitalize tw-text-red-700 tw-text-xs"}," Logout ",-1);function ve(t,e,r,a,l,o){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",we,[(0,s.Wm)(nt.T,{onClick:o.toggleMenu,icon:"","max-width":"35","max-height":"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(se.V,{size:"32"},{default:(0,s.w5)((()=>[(0,s.Wm)(oe.f,{src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),ne])),_:1},8,["onClick"]),(0,s.Wm)(Vt.Z5,null,{default:(0,s.w5)((()=>[l.isActive?((0,s.wg)(),(0,s.iD)("div",de,[(0,s._)("div",ce,[(0,s._)("div",ue,[(0,s.Wm)(se.V,{size:"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(oe.f,{eager:"",src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),(0,s._)("div",pe,[(0,s._)("div",ge,(0,wt.zw)(o.user.firstname)+" "+(0,wt.zw)(o.user.lastname),1),(0,s._)("div",me,(0,wt.zw)(o.user.role),1)])]),(0,s.Wm)(le.J),(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>o.closeMenu&&o.closeMenu(...t)),class:"d-flex tw-items-center tw-gap-2"},[(0,s.Wm)(nt.T,{block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{class:"mr-2 tw-text-neutral-700"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-account-outline ")])),_:1}),he])),_:1})]),(0,s.Wm)(le.J),(0,s._)("div",fe,[(0,s.Wm)(nt.T,{onClick:o.logout,block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{class:(0,wt.C_)([{"tw-animate-pulse":l.loginOut},"mr-2 tw-text-red-700"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.loginOut?"mdi-power-settings":"mdi-power"),1)])),_:1},8,["class"]),be])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,o.closeMenu]])}var xe={data(){return{localUrl:w,isActive:!1,loginOut:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},logout(){this.loginOut=!0,ot.logout().then((()=>{this.$store.dispatch("user/logout"),this.$router.push("/login")})).finally((()=>{this.loginOut=!1}))}},computed:{user(){return this.$store.getters["user/user"]}}};const ye=(0,m.Z)(xe,[["render",ve]]);var _e=ye,ke=r(4870);class Ce{async AllNotifications(t={}){return await E.getCookie(),A.get("api/app/all",{params:t})}async notifications(){return await E.getCookie(),A.get("api/app/notifications")}async Changestatus(){return await E.getCookie(),A.get("api/app/changestatus")}}var De=new Ce,Se=r(6797),ze=r.n(Se),Ue=r(6562);const qe={class:"tw-relative"},Pe={key:0,class:"!tw-duration-100"},Le={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[350px] tw-min-h-[50px]"},We=(0,s._)("p",{class:"tw-p-2 tw-text-lg"},"Notifications",-1),Ae={key:0},$e={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Ee={key:1},Te={key:0},Fe=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),je=[Fe],Ie={class:"tw-text-sm"},Ve={class:"tw-ml-auto tw-mt-2 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},Oe={class:"tw-flex tw-justify-evenly tw-items-center tw-p-2"};var He={__name:"GlobalNotification",setup(t){const e=(0,i.oR)(),r=(0,ke.iH)(!1),a=(0,ke.iH)(!1),l=()=>{r.value=!r.value},o=()=>{r.value=!1},n=t=>{switch(t.priority){case"low":return"tw-bg-blue-50";case"medium":return"tw-bg-orange-100";case"high":return"tw-bg-red-100";default:return"tw-bg-gray-50"}},d=()=>{De.notifications().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setData",t.data.data),e.dispatch("app/setCount",t.data.count),e.dispatch("app/sethighlighted",t.data.highlighted))})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))},c=()=>{De.Changestatus().then((t=>{"SUCCESS"==t.data.code&&e.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))};(0,s.bv)((()=>{d()}));const u=(0,s.Fl)((()=>e.getters["app/notifications"]));return(t,e)=>{const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",qe,[(0,s.Wm)(nt.T,{onClick:l,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(oe.f,{width:"22",height:"22",src:(0,ke.SU)(w)+"assets/img/icons/notification-bing.svg"},null,8,["src"]),a.value&&u.value.count>0?((0,s.wg)(),(0,s.j4)(Ue.G,{key:0,class:"tw-animate-bounce tw-scale-50",floating:"","offset-y":"20","offset-x":"5",color:"red",bordered:!0,location:"bottom right",content:u.value.count},null,8,["content"])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Vt.Z5,null,{default:(0,s.w5)((()=>[r.value?((0,s.wg)(),(0,s.iD)("div",Pe,[(0,s._)("div",Le,[We,a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ae,[(0,s._)("div",$e,[(0,s.Wm)(ct.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),a.value?((0,s.wg)(),(0,s.iD)("div",Ee,[""==u.value.data?((0,s.wg)(),(0,s.iD)("div",Te,je)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value.data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",{class:(0,wt.C_)([n(t),"tw-p-2 tw-border-y tw-flex tw-flex-col tw-border-neutral-100"])},[(0,s.Wm)(i,{to:`/sourcings/${t.action}`},{default:(0,s.w5)((()=>[(0,s._)("p",Ie,(0,wt.zw)(t.message),1)])),_:2},1032,["to"]),(0,s._)("div",Ve,(0,wt.zw)((0,ke.SU)(ze())(t.created_at).fromNow()),1)],2)])))),128)),(0,s._)("div",Oe,[(0,s.Wm)(i,{to:"/notifications"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:e[0]||(e[0]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("View All")])),_:1})])),_:1}),(0,s.Wm)(nt.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:c},{default:(0,s.w5)((()=>[(0,s.Uk)("Mark all as Read")])),_:1})])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,o]])}}};const Me=He;var Re=Me;class Ne{async update(t,e){return await E.getCookie(),A.post("api/factorisations/update/"+t,{factorisation_id:e.factorisation_id,delivery_id:e.delivery_id,price:e.price,commands_number:e.commands_number})}async updateComment(t,e){return await E.getCookie(),A.post("api/factorisations/update/comment/"+t,{comment:e.comment})}async updateMethod(t,e){return await E.getCookie(),A.post("api/v1/factorisation/update/"+t+"/method",{withdrawal_method_id:e})}async updatePaid(t,e){return await E.getCookie(),A.post("api/factorisations/update/payment/"+t,{paid:e})}async updateClose(t,e){return await E.getCookie(),A.post("api/factorisations/update/closing/"+t,{close:e})}async updateFees(t,e){return await E.getCookie(),A.post("api/factorisations/update/fees/"+t,{fees:e})}async uploadImage(t,e){return await E.getCookie(),W.post("api/factorisations/update/"+t+"/attachement",e)}async sumToBePaid(){return await E.getCookie(),A.get("api/v1/factorisation/sum")}async delete(t){return await E.getCookie(),A["delete"]("api/v1/factorisation/delete/"+t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/factorisation"+t,e)}async history(t){return await E.getCookie(),A.get("api/v1/factorisation/"+t+"/history")}}var Ye=new Ne;const Ze={key:0,class:"tw-text-emerald-600 tw-text-sm tw-font-semibold tw-rounded"},Ke={key:1};var Be={__name:"ToBePaid",setup(t){const e=(0,i.oR)(),r=(0,ke.iH)(!1),a=()=>{Ye.sumToBePaid().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("app/settobepaid",t.data.data.totalPrice),console.log(parseFloat(t.data.data.totalPrice).toFixed(2)))})).catch((t=>{console.error("API Error",t)})).finally((()=>{r.value=!0}))};(0,s.bv)((()=>{a()}));const l=(0,s.Fl)((()=>e.getters["app/factorisations"]));return(t,e)=>r.value?((0,s.wg)(),(0,s.iD)("div",Ze,(0,wt.zw)((0,ke.SU)(c))+(0,wt.zw)(parseFloat(l.value.tobepaid).toFixed(2)),1)):((0,s.wg)(),(0,s.iD)("div",Ke,[(0,s.Wm)(ct.t,{size:"medium",class:"tw-animate-spin",color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}};const Qe=Be;var Je=Qe,Ge={emits:["toggleSidebar"],components:{HeaderMenu:_e,GlobalNotification:Re,ToBePaid:Je},data(){return{localUrl:w}},computed:{},methods:{handleClick(){this.$emit("toggleSidebar")}}};const Xe=(0,m.Z)(Ge,[["render",ae]]);var tr=Xe,er=r(9457),rr=r(2329),ar=r(9657);const sr={class:"tw-h-[60px] tw-flex tw-items-center tw-justify-center tw-max-w-[200px]"},lr=["src"];function or(t,e,r,a,l,o){const i=(0,s.up)("SidebarItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(ar.V,{modelValue:l.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>l.drawer=t),location:"left",absolute:!1,class:"!tw-top-0 !tw-fixed"},{default:(0,s.w5)((()=>[(0,s.Wm)(er.l,{class:"tw-py-3"},{default:(0,s.w5)((()=>[(0,s._)("div",sr,[(0,s._)("img",{class:"tw-w-full",src:l.localUrl+"images/logo.png"},null,8,lr)])])),_:1}),(0,s.Wm)(rr.i,{class:"mt-2",nav:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.links,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,link:t},null,8,["link"])))),128))])),_:1})])),_:1},8,["modelValue"])])}const ir=[4,6,7],wr=[{id:1,title:"Dashboard",module:"dashboard",hasChildren:!0,gate:"all",icon:{type:"icon",value:"mdi-chart-box-outline"},children:[{id:1,title:"Overview",subModule:"dashboard/dashboard",gate:"all",to:"/"},{id:2,title:"Finance",subModule:"dashboard/analytics",role:["admin"],to:"/analytics"}]},{id:1,title:"Analytics",module:"analytics",hasChildren:!0,role:["admin"],icon:{type:"icon",value:"mdi-chart-arc"},children:[{id:1,title:"Sellers",subModule:"analytics.admin.sellers",gate:"all",to:"/admin/analytics/sellers"}]},{id:2,module:"sourcing",title:"Sourcing",hasChildren:!0,role:["admin","seller"],icon:{type:"icon",value:"mdi-truck-outline"},children:[{id:1,title:"Request a new product",subModule:"sourcing/new",role:["seller"],to:"/sourcings/new"},{id:2,title:"All Requests",subModule:"sourcing/index",role:["seller","admin"],to:"/sourcings"}]},{id:2,module:"product",title:"Product",hasChildren:!0,gate:"access_to_products",icon:{type:"svg",value:"assets/img/icons/product.svg"},children:[{id:1,title:"Products List",subModule:"product/list",gate:"show_all_products",to:"/products"},{id:2,title:"New Products List",subModule:"product/newlist",gate:"show_all_products",to:"/newproducts"},{id:3,title:"Add Product",subModule:"product/add",gate:"create_product",to:"/products/add"},{id:4,title:"Supply Requests",subModule:"product/seller/request",gate:"access_to_seller_sales",to:"/products/seller/request"},{id:5,title:"Supply Requests",subModule:"product/admin/request",gate:"access_to_sales",to:"/products/admin/request"}]},{id:3,module:"track",title:"Tracking",hasChildren:!0,gate:"none",icon:{type:"icon",value:"mdi-radar"},children:[{id:1,title:"Deliveries",subModule:"track/delivery",gate:"none",to:"/tracking/delivery"}]},{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Sales list",subModule:"sale/list",gate:"show_all_sales",to:"/sales"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]},{id:10,module:"sellersale",title:"Seller Sales",hasChildren:!0,gate:"access_to_seller_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Seller Sales",subModule:"seller/list",gate:"show_seller_sales",to:"/seller/list"}]},{id:5,module:"factorisation",title:"Factorisation",hasChildren:!0,gate:"access_to_factorisations",icon:{type:"icon",value:"mdi-note-multiple"},children:[{id:1,title:"Factorisation list",subModule:"factorisation/list",gate:"show_all_factorisations",to:"/factorisations"}]},{id:20,module:"ads",title:"Ads",hasChildren:!0,gate:"access_to_ads",icon:{type:"icon",value:"mdi-google-ads"},children:[{id:1,title:"Ads list",subModule:"ads/list",gate:"show_all_factorisations",to:"/ads"}]},{id:10,module:"affiliate",title:"Affiliate",hasChildren:!0,gate:"manage_affiliate_products",role:["admin","seller","affiliate-manager"],icon:{type:"icon",value:"mdi-bookshelf"},children:[{id:1,title:"All Products",subModule:"affiliate.admin.list",to:{name:"affiliate.admin.list"}},{id:2,title:"Create new product",subModule:"affiliate.admin.create",role:["admin","affiliate-manager"],gate:"manage_affiliate_products",to:{name:"affiliate.admin.create"}},{id:3,title:"Winning Products",subModule:"affiliate.index",role:["admin","seller","affiliate-manager"],gate:"access_to_affiliate",to:{name:"affiliate.index"}},{id:4,title:"Import list",subModule:"affiliate.import",role:["admin","seller"],gate:"access_to_affiliate",to:{name:"affiliate.import"}},{id:5,title:"My wishlist",subModule:"affiliate.wishlist",role:["admin","seller"],gate:"access_to_affiliate",to:{name:"affiliate.wishlist"}}]},{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Order",subModule:"order/show",gate:"show_all_orders",to:"/order"},{id:2,title:"My Orders",subModule:"order/list",gate:"show_all_orders",to:"/orders"},{id:3,title:"Confirmed Orders",subModule:"order/confirmed",gate:"show_all_orders",to:"/orders/confirmed"}]},{id:7,module:"delivery",title:"Orders",hasChildren:!0,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders List",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries"},{id:2,title:"Orders Delivered",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered"}]},{id:8,module:"inventory",title:"Inventory",hasChildren:!0,gate:"access_to_inventory x",icon:{type:"icon",value:"mdi-warehouse"},children:[{id:1,title:"Inventory State",gate:"show_all_inventory_states",subModule:"inventory/state",to:"/inventories"},{id:2,title:"Inventory Movements",gate:"show_all_inventory_movements",subModule:"inventory/movements",to:"/inventories/movements"},{id:4,title:"Add Movement",gate:"create_inventory_movement",subModule:"inventory/add",to:"/inventories/add"}]},{id:9,module:"shop",title:"Shop",hasChildren:!0,gate:"access_to_shop",icon:{type:"icon",value:"mdi-store"},children:[{id:1,title:"Shop List",gate:"show_all_shops",subModule:"shop/list",to:"/shops"},{id:2,title:"Add Shop",gate:"create_shop",subModule:"shop/add",to:"/shops/add"}]},{id:10,module:"warehouse",title:"Warehouses",hasChildren:!0,gate:"access_to_warehouse",icon:{type:"icon",value:"mdi-home-group"},children:[{id:1,title:"Warehouses list",subModule:"warehouse/list",gate:"show_all_warehouses",to:"/warehouses"}]},{id:11,title:"Users",module:"user",gate:"access_to_users",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/users1.svg"},children:[{id:1,title:"Users List",subModule:"user/list",gate:"show_all_users",to:"/users"},{id:2,title:"Add User",subModule:"user/add",gate:"create_user",to:"/users/add"},{id:3,title:"Roles List",subModule:"user/roles",gate:"show_all_roles",to:"/users/roles"},{id:4,title:"Add Role",subModule:"user/addRole",gate:"create_role",to:"/users/addRole"}]},{id:15,title:"Sheets",module:"sheets",to:"/sheets",gate:"access_to_sheets",hasChildren:!1,icon:{type:"icon",value:"mdi-note-text-outline"}},{id:15,title:"Alerts",module:"alert",role:["admin"],to:"/alerts",icon:{type:"icon",value:"mdi-bell-alert-outline"}},{id:16,title:"Scanner",module:"scanner",to:"/scanner",role:"admin",gate:"stock_management",hasChildren:!1,icon:{type:"icon",value:"mdi-qrcode"}},{id:12,title:"Settings",module:"settings",role:["admin","seller"],hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/settings.svg"},children:[{id:1,title:"Cron Jobs",subModule:"settings/cronJobs",role:"admin",to:"/settings/cronJobs"},{id:2,title:"Account",subModule:"settings/account",role:"admin",to:"/settings/account"},{id:3,title:"Withdrawal methods",subModule:"settings/account",role:["admin","seller"],to:{name:"settings.seller.withdrawal-methods"}}]},{id:13,title:"Orders",module:"followup",to:"/followup",hasChildren:!1,gate:"follow_up_orders",icon:{type:"icon",value:"mdi-package-variant-closed"}}];var nr=r(9234),dr=r(2127);const cr={key:0},ur={class:"d-flex align-center"},pr={class:"tw-rounded-md tw-bg-gray-50"},gr={class:"tw-h-full py-2"},mr={key:1},hr={key:2},fr={key:3};function br(t,e,r,a,l,o){const i=(0,s.up)("SidebarSales"),w=(0,s.up)("SidebarDelivery"),n=(0,s.up)("SidebarAgente");return(0,s.wg)(),(0,s.iD)("div",null,[!t.$can(r.link.gate)&&!r.link.role?.includes(o.user.role)&&"all"!=r.link.gate||l.disabled_links.includes(r.link.id)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cr,[(0,s.Wm)(er.l,{class:(0,wt.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.link.hasChildren?"":r.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",ur,["icon"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,icon:r.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(oe.f,{key:1,src:l.localUrl+r.link.icon.value,"max-width":"18",class:(0,wt.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(dr.V,{class:(0,wt.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,wt.zw)(r.link.title)},null,8,["class","textContent"]),(0,s.Wm)(nr.C),r.link.hasChildren?((0,s.wg)(),(0,s.j4)(ct.t,{key:2,class:(0,wt.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),r.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",pr,[(0,s.Wm)(rr.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(er.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",gr,[(0,s.Wm)(ct.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,wt.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,wt.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])),4==r.link.id?((0,s.wg)(),(0,s.iD)("div",mr,[(0,s.Wm)(i)])):(0,s.kq)("",!0),7==r.link.id?((0,s.wg)(),(0,s.iD)("div",hr,[(0,s.Wm)(w)])):(0,s.kq)("",!0),8==r.link.id?((0,s.wg)(),(0,s.iD)("div",fr,[(0,s.Wm)(n)])):(0,s.kq)("",!0)])}const vr={key:0},xr={class:"d-flex align-center"},yr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},_r={key:1,class:"tw-text-xs"},kr={class:"tw-rounded-md tw-bg-gray-50"},Cr={class:"tw-h-full py-2"};function Dr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",vr,[(0,s.Wm)(er.l,{class:(0,wt.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:l.link.hasChildren?"":l.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",xr,["icon"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,icon:l.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(oe.f,{key:1,src:l.localUrl+l.link.icon.value,"max-width":"18",class:(0,wt.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(dr.V,{class:(0,wt.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,wt.zw)(l.link.title)},null,8,["class","textContent"]),(0,s._)("div",yr,[(l.isLoaded,(0,s.kq)("",!0)),(l.isLoaded,(0,s.wg)(),(0,s.iD)("p",_r,(0,wt.zw)(o.count),1))]),(0,s.Wm)(nr.C),l.link.hasChildren?((0,s.wg)(),(0,s.j4)(ct.t,{key:2,class:(0,wt.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),l.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",kr,[(0,s.Wm)(rr.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(er.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",Cr,[(0,s.Wm)(ct.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,wt.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,wt.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var Sr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:4,title:"New Sales list",subModule:"sale/newlist",gate:"show_all_sales",to:"/sales/new"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},sales(){return this.$store.getters["sale/sales"]},count(){return this.$store.getters["sale/count"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const zr=(0,m.Z)(Sr,[["render",Dr],["__scopeId","data-v-419eeb7c"]]);var Ur=zr;const qr={key:0},Pr={class:"d-flex align-center"},Lr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Wr={key:1,class:"tw-text-xs"};function Ar(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",qr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(er.l,{class:(0,wt.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Pr,[(0,s.Wm)(ct.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(dr.V,{class:(0,wt.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,wt.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(nr.C),(0,s._)("div",Lr,[o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.fetched?((0,s.wg)(),(0,s.iD)("p",Wr,(0,wt.zw)(1==r.id?o.orders.length-o.deliveredOrders.length:o.deliveredOrders.length),1)):(0,s.kq)("",!0)])])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}class $r{async delivery(){return await E.getCookie(),A.get("api/dashboard/delivery")}async agente(){return await E.getCookie(),A.get("api/dashboard/agente")}}var Er=new $r,Tr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:7,module:"delivery",title:"Orders",hasChildren:!1,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries",icon:"mdi-truck"},{id:2,title:"Delivered Orders",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered",icon:"mdi-truck-check"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path},getOrders(){return this.isLoaded=!1,Er.delivery().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("order/setAllOrders",e),this.$store.dispatch("order/setFetched",!0),this.isLoaded=!0}console.log(t)})).catch(this.$handleApiError)}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},orders(){return this.$store.getters["order/allOrders"].filter((t=>"confirmer"==t.confirmation))},deliveredOrders(){return this.orders.filter((t=>"livrer"==t.delivery))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive(),this.$can(this.link.gate)&&this.getOrders()}};const Fr=(0,m.Z)(Tr,[["render",Ar],["__scopeId","data-v-69fa82e9"]]);var jr=Fr;const Ir={key:0},Vr={class:"d-flex align-center"},Or={key:0,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Hr={key:1,class:"tw-text-xs"},Mr={key:1,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Rr={key:1,class:"tw-text-xs"};function Nr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",Ir,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(er.l,{class:(0,wt.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Vr,[(0,s.Wm)(ct.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(dr.V,{class:(0,wt.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,wt.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(nr.C),1!=r.id?((0,s.wg)(),(0,s.iD)("div",Or,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Hr,(0,wt.zw)(4==r.id?o.state.totalNotConfirmed:o.state.totalConfirmed),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),1==r.id?((0,s.wg)(),(0,s.iD)("div",Mr,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Rr,(0,wt.zw)(o.state.totalAvailable),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}var Yr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Add Order",subModule:"agent/orders/add",gate:"show_all_orders",to:"/agent/orders/add",icon:"mdi-plus-box"},{id:4,title:"Orders",subModule:"agent/orders",gate:"show_all_orders",to:"/agent/orders",icon:"mdi-package-variant-closed"},{id:5,title:"Confirmed Orders",subModule:"agent/orders/confirmed",gate:"show_all_orders",to:"/agent/orders/confirmed",icon:"mdi-checkbox-marked"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},state(){return this.$store.getters["agent/state"]},orders(){return this.$store.getters["order/allOrders"]},myOrders(){return this.orders.filter((t=>"confirmer"!=t.confirmation))},confirmedOrders(){return this.orders.filter((t=>"confirmer"==t.confirmation))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Zr=(0,m.Z)(Yr,[["render",Nr],["__scopeId","data-v-26146d6f"]]);var Kr=Zr,Br={props:["link"],components:{SidebarSales:Ur,SidebarDelivery:jr,SidebarAgente:Kr},data(){return{localUrl:w,disabled_links:ir,isActive:!1}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to||this.$route.name==t.to?.name},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate||t.role?.includes(this.user.role)))},user(){return this.$store.getters["user/user"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Qr=(0,m.Z)(Br,[["render",br],["__scopeId","data-v-5df4c53a"]]);var Jr=Qr,Gr={components:{SidebarItem:Jr},props:["active"],data(){return{localUrl:w,drawer:!0,links:wr}},computed:{},watch:{active(){this.drawer=!this.drawer}},methods:{},mounted(){this.$vuetify.display.mdAndDown&&(this.drawer=!1)}};const Xr=(0,m.Z)(Gr,[["render",or]]);var ta=Xr;const ea={key:0,class:"tw-space-y-2 tw-mb-5 tw-opacity-100"},ra=["dir"],aa={class:"tw-flex tw-items-start"},sa={class:"tw-p-2"},la={class:"tw-p-2"},oa={class:"tw-text-white tw-font-semibold"},ia={key:0,class:"tw-flex-1"},wa={key:1,class:"tw-pt-2 tw-pr-2"},na=["onClick"];var da={__name:"AppAnnonces",setup(t){const e=(0,s.Fl)((()=>st.getters["app/alerts"])),r=(0,s.Fl)((()=>st.getters["user/user"])),l=(0,ke.iH)([]),o=(0,s.Fl)((()=>e.value.data.filter((t=>!l.value.includes(r.value.id+"*"+t.id))))),i=t=>{l.value.push(r.value.id+"*"+t),localStorage.setItem("closed_alerts",JSON.stringify(l.value))},w=()=>{const t=localStorage.getItem("closed_alerts");null==t?localStorage.setItem("closed_alerts",JSON.stringify([])):l.value=JSON.parse(t)};return w(),(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(a.uT,{class:"tw-duration-500","enter-from-class":"!tw-opacity-0","leave-to-class":"!tw-opacity-0"},{default:(0,s.w5)((()=>[e.value.fetched&&o.value.length?((0,s.wg)(),(0,s.iD)("div",ea,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,dir:t.direction,class:(0,wt.C_)([["danger"==t.variant&&"tw-bg-rose-500","info"==t.variant&&"tw-bg-cyan-500","warning"==t.variant&&"tw-bg-amber-500","success"==t.variant&&"tw-bg-emerald-500"],"tw-h-fit tw-w-full tw-border tw-border-solid"])},[(0,s._)("div",aa,[(0,s._)("div",sa,[(0,s.Wm)(l,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl tw-text-white"})]),(0,s._)("div",la,[(0,s._)("p",oa,(0,wt.zw)(t.content),1)]),t.closeable?((0,s.wg)(),(0,s.iD)("div",ia)):(0,s.kq)("",!0),t.closeable?((0,s.wg)(),(0,s.iD)("div",wa,[(0,s._)("button",{onClick:e=>i(t.id),class:"tw-p-1 hover:tw-bg-white/10 tw-duration-200 tw-rounded-full"},[(0,s.Wm)(l,{icon:"iconamoon:close-duotone",class:"tw-text-white tw-text-lg"})],8,na)])):(0,s.kq)("",!0)])],10,ra)))),128))])):(0,s.kq)("",!0)])),_:1})}}};const ca=da;var ua=ca;class pa{async paginate(t="",e){return await E.getCookie(),A.get("api/alerts"+t,{params:e})}async alerts(){return await E.getCookie(),A.get("api/my-alerts")}async create(t){return await E.getCookie(),A.post("api/alerts",t)}async update(t,e){return await E.getCookie(),A.post("api/alerts/"+t,e)}async get(t){return await E.getCookie(),A.get("api/alerts/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/alerts/"+t)}}var ga=new pa;class ma{async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/products"+t,e)}async create(t){await E.getCookie();const e=new FormData;return e.append("name",t.name),e.append("buying_price",t.buyingPrice),e.append("selling_price",t.sellingPrice),e.append("ref",t.reference),e.append("link_video",t.link_video),e.append("link_store",t.link_store),e.append("transport_mode",t.transport_mode),e.append("expedition_date",t.expedition_date),e.append("country_of_purchase",t.country_of_purchase),e.append("variations",JSON.stringify(t.variants)),e.append("offers",JSON.stringify(t.offers)),e.append("description",t.description),e.append("image",t.image),e.append("deliveries",JSON.stringify(t.selectedDeliveries)),W.post("api/products/new",e)}async update(t,e){await E.getCookie();const r=new FormData;return r.append("name",e.name),r.append("buying_price",e.buyingPrice),r.append("selling_price",e.sellingPrice),r.append("ref",e.reference),r.append("link_video",e.link_video),r.append("link_store",e.link_store),r.append("transport_mode",e.transport_mode),r.append("expedition_date",e.expedition_date),r.append("country_of_purchase",e.country_of_purchase),r.append("variations",JSON.stringify(e.variants)),r.append("offers",JSON.stringify(e.offers)),r.append("description",e.description),r.append("image",e.image),r.append("deliveries",JSON.stringify(e.selectedDeliveries)),W.post("api/products/update/"+t,r)}async updateStatus(t,e){await E.getCookie();const r=new FormData;return r.append("status",e.status),r.append("note",e.note),W.post("api/products/status/update/"+t,r)}async all(){return await E.getCookie(),A.get("api/products")}async allForOrder(t){return await E.getCookie(),A.get("api/products/for-order/"+t)}async getProduct(t){return await E.getCookie(),A.get("api/products/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/products/delete/"+t)}async stockAlert(){return await E.getCookie(),A.get("api/product/stockAlert")}}var ha=new ma;class fa{async all(){return await E.getCookie(),A.get("api/sales")}async delete(t){return await E.getCookie(),A.get("api/sales/delete/"+t)}async update(t,e){return await E.getCookie(),A.post("api/orders/update/"+t,e)}async create(t){return await E.getCookie(),A.post("api/sales/new",t)}async getNewOrders(t){return await E.getCookie(),A.post("api/sales/fresh",{ids:t})}async agenteOrders(){return await E.getCookie(),A.get("api/orders")}async agenteConfirmedOrders(){return await E.getCookie(),A.get("api/orders/confirmer")}async agenteAddOrder(){return await E.getCookie(),A.get("api/orders/add")}async agenteGetOrder(){return await E.getCookie(),A.get("api/orders/toconfirmate")}async agenteUpdateConfirmation(t,e,r={}){return await E.getCookie(),A.post("api/orders/update/confirmation/"+t,{confirmation:e,...r})}async agenteUpdateConfirmationWithNote(t,e,r){return await E.getCookie(),A.post("api/orders/update/confirmationandnote/"+t,{confirmation:e,note:r})}async agenteUpdateUpsell(t,e){return await E.getCookie(),A.post("api/orders/update/upsell/"+t,{upsell:e})}async agenteUpdateAffectaion(t,e){return await E.getCookie(),A.post("api/orders/update/affectation/"+t,{affectation:e})}async agenteUpdateNote(t,e){return await E.getCookie(),A.post("api/orders/update/note/"+t,{note:e})}async deliveryOrders(){return await E.getCookie(),A.get("api/orders/todelivery")}async deliveryDeliveredOrders(){return await E.getCookie(),A.get("api/orders/delivred")}async deliveryUpdateDelivery(t,e,r){return await E.getCookie(),A.post("api/orders/update/delivery/"+t,{delivery:e,...r})}async history(t){return await E.getCookie(),A.get("api/orders/history/show/"+t)}async itemHistory(t){return await E.getCookie(),A.get("api/orders/item/history/show/"+t)}async resetSale(t){return await E.getCookie(),A.post("api/sales/reset",{ids:t})}async scanSale(t){return await E.getCookie(),A.post("api/sales/scan",t)}async availableOrders(){return await E.getCookie(),A.get("api/orders/count")}async warehouseControl(t,e){return await E.getCookie(),A.post("api/warehouse-control",{id:t,target:e.target,scanned:e.scanned})}}var ba=new fa;const va={key:0,class:"tw-w-[400px] tw-fixed tw-top-[70px] !tw-z-[510000] tw-right-[5px]"},xa={class:"tw-flex tw-items-center tw-justify-between tw-text-neutral-400 tw-mt-2"},ya={class:"tw-text-xs"},_a=["disabled"],ka=(0,s._)("div",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap tw-ml-[70%]"},null,-1);var Ca={__name:"AlertNotification",setup(t){const e=(0,ke.iH)(!0),r=(0,i.oR)(),a=(0,ke.iH)(!1),l=async()=>{a.value=!0,await De.Changestatus().then((t=>{"SUCCESS"==t.data.code&&r.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})),e.value=!1,a.value=!1},o=(0,s.Fl)((()=>r.getters["app/notifications"].highlighted));return(t,r)=>((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[o.value&&e.value?((0,s.wg)(),(0,s.iD)("div",va,[(0,s.Wm)(It.w,{color:"white",border:"start","border-color":"success",elevation:"2",density:"compact"},{text:(0,s.w5)((()=>[(0,s._)("p",null,(0,wt.zw)(o.value.message),1),(0,s._)("div",xa,[(0,s._)("span",ya,(0,wt.zw)((0,ke.SU)(ze())(o.value.created_at).fromNow()),1),(0,s._)("button",{disabled:a.value,onClick:l,class:"tw-p-0.5 tw-px-4 hover:tw-bg-neutral-100 tw-text-sm"},(0,wt.zw)(a.value?"Closing...":"Close"),9,_a)])])),default:(0,s.w5)((()=>[ka])),_:1})])):(0,s.kq)("",!0)]))}};const Da=Ca;var Sa=Da,za=r(4410),Ua=r.n(za),qa=r(6027),Pa={components:{AppHeader:tr,AppSidebar:ta,Alert:Yt,AlertNotification:Sa,AppAnnonces:ua},data(){return{drawer:!1,subscribed:!1,fetching:null,delay:6e4,showScrollUpButton:!1,firstFetch:!1,echo:null,presenceChannelId:1}},computed:{isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},sales(){return this.$store.getters["sale/sales"]},salesFetched(){return this.$store.getters["sale/fetched"]}},methods:{toggleSidebar(){this.drawer=!this.drawer},checkScroll(){this.showScrollUpButton=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},async getCities(){if(0==this.cities.length||1!=localStorage.getItem("update_cities"))return ot.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e),localStorage.setItem("update_cities",1)}))},getUsers(){ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getSales(){return this.isLoaded=!1,ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)},async fetchNewOrders(){if(this.salesFetched||!this.firstFetch){const t=this.sales.map((t=>t.id));return ba.getNewOrders(t).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders,r=t.data.data.count;this.$store.dispatch("sale/setCount",r),e.length>0&&(this.$store.dispatch("sale/addSales",e),this.$alert({type:"info",title:e.length+" New orders has been added"})),this.firstFetch=!0}}))}},async getAlerts(){return ga.alerts().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.alerts;this.$store.dispatch("app/setAlertsData",e),this.$store.dispatch("app/setAlertsFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)},async subscribe(){Ua().Runtime.createXHR=function(){var t=new XMLHttpRequest;return t.withCredentials=!0,t},window.Pusher=Ua();const t=new qa.ZP({broadcaster:"pusher",key:"96c60637f1b07ace1345",cluster:"eu",channelAuthorization:{endpoint:n+"api/pusher",withCredentials:!0}});this.echo=t;const e=this.presenceChannelId;t.join(`channel.${e}`).here((t=>{this.$store.dispatch("online/setUsers",t),this.$store.dispatch("online/setFetched",!0)})).joining((t=>{const e=this.$store.getters["online/users"],r=e.find((e=>e.id===t.id));r?delete r.left_at:e.push(t),this.$store.dispatch("online/setUsers",e)})).leaving((t=>{let e=this.$store.getters["online/users"];e=e.map((e=>e.id===t.id?{...e,left_at:(new Date).toISOString()}:e)),this.$store.dispatch("online/setUsers",e)}))},unsubscribe(){this.echo.leaveChannel(`channel.${this.presenceChannelId}`)}},watch:{$route(){"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts")}},mounted(){this.getCities(),this.getAlerts(),"admin"==this.user.role&&this.fetchNewOrders(),this.$can("show_all_products")&&this.getProducts(),"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts"),this.getUsers(),this.subscribe(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll),this.unsubscribe()}};const La=(0,m.Z)(Pa,[["render",Xt]]);var Wa=La;const Aa={key:0};function $a(t,e,r,a,l,o){return l.exists?((0,s.wg)(),(0,s.iD)("div",Aa,[((0,s.wg)(),(0,s.j4)((0,s.LL)(o.dashboard)))])):(0,s.kq)("",!0)}var Ea=r(6824),Ta=r(8521);const Fa={key:0},ja={key:1},Ia=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Va={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Oa={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Ha={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},Ma=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),Ra=["disabled"],Na={key:0,class:"tw-flex tw-items-center tw-gap-2"},Ya={key:1},Za=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Ka={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Ba(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable"),n=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fa,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ja,[Ia,(0,s._)("div",Va,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1})]),(0,s._)("div",Oa,[(0,s._)("div",Ha,[Ma,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Na,[(0,s.Wm)(ct.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Ya,[Za,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,Ra)])]),(0,s._)("div",Ka,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Qa=r(4286);const Ja={class:"tw-flex tw-items-center"},Ga={class:"tw-flex tw-flex-col tw-h-full tw-text-neutral-600"},Xa={class:"tw-text-lg tw-font-bold"},ts={class:"tw-text-sm"};function es(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(Qa.C,{class:"tw-rounded-lg tw-border pa-5 py-2",color:"white",height:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",Ja,[(0,s._)("div",{class:(0,wt.C_)([o.bgColor,"pa-3 rounded-circle tw-w-fit tw-mr-3"])},[(0,s.Wm)(ct.t,{color:r.dash.color,size:"large",icon:r.dash.icon},null,8,["color","icon"])],2),(0,s._)("div",Ga,[(0,s._)("p",Xa,(0,wt.zw)(r.dash.value),1),(0,s.Wm)(nr.C),(0,s._)("p",ts,(0,wt.zw)(r.dash.title),1)])])])),_:1})}var rs={props:["dash"],computed:{bgColor(){const t={orange:"tw-bg-orange-500/10",green:"tw-bg-green-500/10",blue:"tw-bg-blue-500/10",pink:"tw-bg-pink-500/10",red:"tw-bg-red-500/10",yellow:"tw-bg-yellow-500/10"};return t[this.dash.color]}}};const as=(0,m.Z)(rs,[["render",es]]);var ss=as;const ls={key:0,class:""},os={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},is=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),ws=[is],ns={key:1,class:"tw-min-h-[50px]"},ds={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},cs={class:"py-2 px-3 tw-rounded tw-border tw-grid tw-grid-cols-12"},us={class:"tw-col-span-12 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},ps={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs"},gs={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},ms=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-red-400"},null,-1),hs={key:1},fs={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},bs=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),vs={key:1,class:"tw-flex tw-items-center tw-gap-2"},xs=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-yellow-400"},null,-1);function ys(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ls,[(0,s._)("div",os,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},ws))),64))])])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",ns,[(0,s._)("div",ds,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",cs,[(0,s._)("div",us,(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),1),(0,s._)("div",ps,[t.last_action?((0,s.wg)(),(0,s.iD)("div",hs,[1==o.isOnline(o.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",fs,[bs,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",vs,[xs,(0,s.Uk)(" "+(0,wt.zw)(o.lastSeen(t.last_action)),1)]))])):((0,s.wg)(),(0,s.iD)("div",gs,[ms,(0,s.Uk)(" Never Connected ")]))])])])))),128))]),(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var _s=r(8777),ks={components:{},data(){return{isLoaded:!1}},computed:{users(){return this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name))}},methods:{getUsers(){ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),console.log(t),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,_s.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const Cs=(0,m.Z)(ks,[["render",ys]]);var Ds=Cs,Ss=r(1489),zs=r(3144),Us=r(9870),qs=r(6161),Ps=r(4722);function Ls(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(Ss._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(zs.d,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>l.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Us.L,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(qs.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Ps.H,{key:t.id,value:t.id,transition:"fade-transition","reverse-transition":"fade-transition"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component),{"filtered-sales":r.filteredSales},null,8,["filtered-sales"]))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const Ws={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},As={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},$s={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Es={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ts={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Fs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},js={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Is={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Vs(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ws,[(0,s._)("div",As,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",$s,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Es,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Ts,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Fs,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",js,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Is,[(0,s.Wm)(i,{dash:o.transferSales},null,8,["dash"])])])])}const Os={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},Hs={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},Ms={class:"tw-text-xl tw-font-bold"},Rs={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},Ns={class:"tw-text-sm"},Ys={class:"rounded-circle tw-w-fit tw-mr-3"};function Zs(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Qa.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",Os,[(0,s._)("div",Hs,[(0,s._)("p",Ms,(0,wt.zw)(isNaN(r.dash.pourcentage)?"0.00%":r.dash.pourcentage)+" "+(0,wt.zw)(r.symbol),1),(0,s._)("span",Rs,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",Ns,(0,wt.zw)(r.dash.title),1)])]),(0,s._)("div",Ys,[(0,s.Wm)(ct.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var Ks={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Bs=(0,m.Z)(Ks,[["render",Zs]]);var Qs=Bs,Js={components:{DashItemTwo:Qs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.sales.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"livrer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.delivery))).length,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"expidier"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-orange",icon:"mdi-truck"}},transferSales(){return{id:8,title:"Transferred",value:this.sales.filter((t=>"transfer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"transfer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"purple-darken-1",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},mounted(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Gs=(0,m.Z)(Js,[["render",Vs]]);var Xs=Gs;const tl={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},el={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},rl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},al={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},sl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ll={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ol={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},il={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},wl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function nl(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",tl,[(0,s._)("div",el,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",rl,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",al,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",sl,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",ll,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",ol,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",il,[(0,s.Wm)(i,{dash:o.doubledSales},null,8,["dash"])]),(0,s._)("div",wl,[(0,s.Wm)(i,{dash:o.wrongNumberSales},null,8,["dash"])])])])}var dl={components:{DashItemTwo:Qs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",pourcentage:100,value:this.sales.length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>!t.confirmation)).length/this.sales.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.confirmation)).length/this.sales.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}},doubledSales(){return{id:8,title:"Doubled",pourcentage:(100*this.sales.filter((t=>"double"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"double"==t.confirmation)).length,color:"purple-accent-4",icon:"mdi mdi-selection-multiple"}},wrongNumberSales(){return{id:9,title:"Wrong Number",pourcentage:(100*this.sales.filter((t=>"wrong-number"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"wrong-number"==t.confirmation)).length,color:"purple-lighten-1",icon:"mdi mdi-phone-remove"}}},mounted(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const cl=(0,m.Z)(dl,[["render",nl]]);var ul=cl,pl={components:{DeliveryTab:Xs,ConfirmationTab:ul},props:["filteredSales"],data(){return{tab:1,tabs:[{id:1,name:"Confirmation",component:"ConfirmationTab"},{id:2,name:"Delivery",component:"DeliveryTab"}]}}};const gl=(0,m.Z)(pl,[["render",Ls]]);var ml=gl;const hl={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4 py-5"},fl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},bl={class:"tw-relative"},vl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},xl={class:"tw-relative"},yl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},_l=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agents",-1),kl={class:"tw-relative"},Cl=(0,s._)("option",{value:"all"},"Select",-1),Dl=["value"],Sl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},zl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Deliveries",-1),Ul={class:"tw-relative"},ql=(0,s._)("option",{value:"all"},"Select",-1),Pl=["value"],Ll={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Wl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Cities",-1),Al={class:"tw-relative"},$l=(0,s._)("option",{value:"all"},"Select",-1),El=["value"],Tl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Fl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Products",-1),jl={class:"tw-relative"},Il=(0,s._)("option",{value:"all"},"Select",-1),Vl=["value"],Ol={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Hl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Shops",-1),Ml={class:"tw-relative"},Rl=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Nl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Yl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Sources",-1),Zl={class:"tw-relative"},Kl=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Bl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Ql=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),Jl={class:"tw-relative"},Gl=(0,s._)("option",{value:"all"},"Select",-1),Xl=(0,s._)("option",{value:"oui"},"Oui",-1),to=(0,s._)("option",{value:"non"},"Non",-1),eo=[Gl,Xl,to];function ro(t,e,r,l,o,i){const w=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",hl,[(0,s._)("div",fl,[(0,s._)("div",bl,[(0,s.Wm)(w,{name:"Created Date",filter:o.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>o.dateFilter=t)},null,8,["filter"])])]),(0,s._)("div",vl,[(0,s._)("div",xl,[(0,s.Wm)(w,{name:"Dropped Date",filter:o.droppedAtFilter,"onUpdate:filter":e[1]||(e[1]=t=>o.droppedAtFilter=t)},null,8,["filter"])])]),(0,s._)("div",yl,[_l,(0,s._)("div",kl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.agentFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Cl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,Dl)))),128))],512),[[a.bM,o.agentFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Sl,[zl,(0,s._)("div",Ul,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[ql,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,Pl)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ll,[Wl,(0,s._)("div",Al,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.cityFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[$l,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,El)))),128))],512),[[a.bM,o.cityFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Tl,[Fl,(0,s._)("div",jl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Il,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Vl)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ol,[Hl,(0,s._)("div",Ml,[Rl,(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Nl,[Yl,(0,s._)("div",Zl,[Kl,(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Bl,[Ql,(0,s._)("div",Jl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.upsellFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},eo,512),[[a.bM,o.upsellFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0)])}const ao={class:"tw-text-sm tw-text-neutral-600"},so=["onClick"];function lo(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",ao,(0,wt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,so)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var oo=r(1271),io=r(2292),wo=r(1745),no=r(4253),co=r(4819),uo=r(2143),po={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const go=(0,m.Z)(po,[["render",lo]]);var mo=go,ho={components:{DateFilter:mo},props:["filters"],data(){return{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""],isLoaded:!1,dashItems:[{id:1,title:"Total Chiffres d'affaire",value:1200,icon:"mdi-currency-usd",color:"green"},{id:2,title:"Chiffres d'affaire versé",value:"35000 DH",icon:"mdi mdi-credit-card-check-outline",color:"orange"},{id:3,title:"Chiffres d'affaire non versé",value:600,icon:"mdi mdi-credit-card-remove-outline",color:"red"},{id:4,title:"Chiffres d'affaire en caisse",value:543,icon:"mdi mdi-bank",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},watch:{agentFilter(t){this.$emit("update:filters",{...this.filters,agentFilter:t})},deliveryFilter(t){this.$emit("update:filters",{...this.filters,deliveryFilter:t})},productFilter(t){this.$emit("update:filters",{...this.filters,productFilter:t})},cityFilter(t){this.$emit("update:filters",{...this.filters,cityFilter:t})},upsellFilter(t){this.$emit("update:filters",{...this.filters,upsellFilter:t})},dateFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,dateFilter:t})}},droppedAtFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,droppedAtFilter:t})}}},computed:{agents(){return this.$store.getters["user/agents"]},deliveries(){return this.$store.getters["user/deliveries"]},products(){return this.$store.getters["product/products"]},cities(){return this.$store.getters["city/cities"]}},mounted(){ot.deliveries().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setDeliveries",e),this.isLoaded=!0}})).catch(this.$handleApiError),ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.products;console.log(t.data),this.$store.dispatch("product/setProducts",e),this.isLoaded=!0}})).catch(this.$handleApiError),ot.cities().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("city/setCities",e),this.isLoaded=!0}})).catch(this.$handleApiError),ot.agents().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setAgents",e),this.isLoaded=!0}})).catch(this.$handleApiError)}};const fo=(0,m.Z)(ho,[["render",ro]]);var bo=fo;const vo=t=>{if(!t)return 0;const e=t.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return(parseFloat(t.price?t.price:0)+parseFloat(e)).toFixed(2)},xo=t=>t?t.split("api/")[1]:null,yo=t=>JSON.parse(JSON.stringify(t));var _o={components:{DashItem:ss,UsersTable:Ds,TabSwitcher:ml,FilterTabs:bo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],w=this.filters.droppedAtFilter[1];return this.sales.filter((n=>{if("all"!==t&&parseInt(n.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(n.affectation)!=parseInt(e))return!1;if("all"!==s&&n.upsell!=s)return!1;if("all"!==r&&!n.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&n.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(n.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const g=new Date(n.dropped_at),m=g.getDate(),h=g.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&m<t)return!1}if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&m>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=vo(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=vo(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=vo(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const ko=(0,m.Z)(_o,[["render",Ba]]);var Co=ko;const Do=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Dashboard")])],-1),So={key:0},zo={key:1},Uo={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},qo={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},Po={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Lo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Wo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Ao={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},$o={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-5"},Eo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function To(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[Do,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",So,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",zo,[(0,s._)("div",Uo,[(0,s._)("div",qo,[(0,s._)("div",Po,[(0,s.Wm)(w,{dash:o.earningsDash,symbol:"DH",numbers:!1},null,8,["dash"])]),(0,s._)("div",Lo,[(0,s.Wm)(w,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Wo,[(0,s.Wm)(w,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Ao,[(0,s.Wm)(w,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",$o,[(0,s.Wm)(w,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Eo,[(0,s.Wm)(w,{dash:o.canceledSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Fo={components:{DashItemTwo:Qs},data(){return{isLoaded:!0,orders:[],cities:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},totalSales(){return{id:1,title:"Total Orders",value:this.orders.length,pourcentage:100,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.filterByStatus("livrer").length,pourcentage:100*this.filterByStatus("livrer").length/this.orders.length,color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:231,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.filterByStatus("expidier").length,pourcentage:100*this.filterByStatus("expidier").length/this.orders.length,color:"primary-orange",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.filterByStatus("reporter").length,pourcentage:100*this.filterByStatus("reporter").length/this.orders.length,color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.filterByStatus("annuler").length,pourcentage:100*this.filterByStatus("annuler").length/this.orders.length,color:"red-accent-3",icon:"mdi mdi-cancel"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:this.earnings,color:"green-darken-4",icon:"mdi-currency-usd"}},earnings(){return this.orders.reduce(((t,e)=>null==e.factorisations||e.factorisations.paid||e.factorisations.close?t:t+e.factorisations.price),0)}},methods:{filterByStatus(t){return this.orders.filter((e=>e.delivery==t))},getOrders(){this.isLoaded=!1,Er.delivery().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const jo=(0,m.Z)(Fo,[["render",To]]);var Io=jo;const Vo=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Dashboard ")])],-1),Oo={key:0},Ho={key:1},Mo={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ro={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},No={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Yo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Zo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ko={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Bo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Qo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Jo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Go(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[Vo,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Oo,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ho,[(0,s._)("div",Mo,[(0,s._)("div",Ro,[(0,s._)("div",No,[(0,s.Wm)(w,{dash:o.earningsDash,symbol:l.currency,numbers:!1},null,8,["dash","symbol"])]),(0,s._)("div",Yo,[(0,s.Wm)(w,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Zo,[(0,s.Wm)(w,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Ko,[(0,s.Wm)(w,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Bo,[(0,s.Wm)(w,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",Qo,[(0,s.Wm)(w,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Jo,[(0,s.Wm)(w,{dash:o.upsellSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Xo={components:{DashItemTwo:Qs},data(){return{currency:c,isLoaded:!0,orders:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},totalSales(){return{id:1,title:"Total",pourcentage:0===this.orders.length?0:100,value:this.orders.filter((t=>"double"!=t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.orders.filter((t=>!t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>!t.confirmation)).length/this.orders.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.orders.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"confirmer"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.orders.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"reporter"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.orders.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"annuler"==t.confirmation)).length/this.orders.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},upsellSales(){return{id:6,title:"Upsell",value:this.orders.filter((t=>"oui"==t.upsell)).length,pourcentage:(100*this.orders.filter((t=>"oui"==t.upsell)).length/this.orders.length).toFixed(2),color:"#2563eb",icon:"mdi mdi-transfer-up"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:.7*this.orders.filter((t=>"oui"==t.upsell&&"livrer"==t.delivery)).length,color:"green-darken-4",icon:"mdi-currency-usd"}},noanswerSales(){return{id:6,title:"No Answer",value:this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.orders.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},methods:{filterByStatus(t){return this.orders.filter((e=>e.confirmation==t))},getOrders(){this.isLoaded=!1,Er.agente().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const ti=(0,m.Z)(Xo,[["render",Go]]);var ei=ti;const ri=(0,s._)("div",{class:"tw-w-full tw-rounded-lg tw-py-5 tw-px-5 tw-flex tw-flex-center tw-justify-center"},[(0,s._)("h1",{class:"tw-text-lg"},"Welcome to Dashboard !")],-1),ai=[ri];function si(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,ai)}var li={components:{},data(){return{dashItems:[{id:1,title:"Orders",value:1200,icon:"mdi-package-variant-closed",color:"orange"},{id:2,title:"Total Sales",value:"35000 DH",icon:"mdi-currency-usd",color:"green"},{id:3,title:"Orders Confirmed",value:600,icon:"mdi-phone-check-outline",color:"blue"},{id:4,title:"Orders Delivered",value:543,icon:"mdi-truck-check-outline",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role}}};const oi=(0,m.Z)(li,[["render",si]]);var ii=oi;const wi={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},ni=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),di=[ni];function ci(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",wi,[l.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},di))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.dashes,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const ui={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},pi={class:"tw-flex tw-justify-between"},gi={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},mi={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},hi={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},fi={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function bi(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ui,[(0,s._)("div",pi,[(0,s._)("div",null,[(0,s._)("div",gi,[(0,s._)("p",mi,(0,wt.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",hi,[(0,s._)("span",fi,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var vi={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const xi=(0,m.Z)(vi,[["render",bi]]);var yi=xi;class _i{async statistics(){return await E.getCookie(),A.post("api/v1/followup/statistics")}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/followup/orders"+t,e)}async update(t,e){return await E.getCookie(),A.post("api/v1/followup/orders/"+t+"/update",e)}async create(t){return await E.getCookie(),A.post("api/v1/followup/orders/create",t)}}var ki=new _i,Ci={components:{DashCard:yi},data(){return{fetching:!0,dashes:[]}},mounted(){ki.statistics().then((t=>{console.log(t.data.data),this.dashes=t.data.data.statistics,this.fetching=!1}))}};const Di=(0,m.Z)(Ci,[["render",ci]]);var Si=Di;const zi={key:0},Ui={key:1},qi=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Pi={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Li={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Wi={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},Ai=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),$i=["disabled"],Ei={key:0,class:"tw-flex tw-items-center tw-gap-2"},Ti={key:1},Fi=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),ji={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Ii(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable"),n=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",zi,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ui,[qi,(0,s._)("div",Pi,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1})]),(0,s._)("div",Li,[(0,s._)("div",Wi,[Ai,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ei,[(0,s.Wm)(ct.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Ti,[Fi,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,$i)])]),(0,s._)("div",ji,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Vi={components:{DashItem:ss,UsersTable:Ds,TabSwitcher:ml,FilterTabs:bo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],w=this.filters.droppedAtFilter[1];return this.sales.filter((n=>{if("all"!==t&&parseInt(n.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(n.affectation)!=parseInt(e))return!1;if("all"!==s&&n.upsell!=s)return!1;if("all"!==r&&!n.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&n.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(n.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const g=new Date(n.dropped_at),m=g.getDate(),h=g.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&m<t)return!1}if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&m>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=vo(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=vo(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=vo(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const Oi=(0,m.Z)(Vi,[["render",Ii]]);var Hi=Oi,Mi={components:{admin:Co,delivery:Io,agente:ei,default:ii,seller:Hi,"follow-up":Si},data(){return{localUrl:w,exists:!1}},computed:{user(){return this.$store.getters["user/user"]},dashboard(){return["admin","seller","delivery","agente","follow-up"].includes(this.user.role)?this.user.role:"default"}},methods:{check(){switch(this.user.role){case"admin":this.$router.push({name:"dashboards/admin"});break;case"agente":this.$router.push({name:"dashboards/agent"});break;case"seller":this.$router.push({name:"dashboards/seller"});break;default:this.exists=!0;break}}},created(){this.check()}};const Ri=(0,m.Z)(Mi,[["render",$a]]);var Ni=Ri;const Yi={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Zi={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Ki={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Bi={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Qi=["disabled"],Ji=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Gi=(0,s._)("span",null," previous ",-1),Xi=[Ji,Gi],tw=["disabled"],ew=(0,s._)("span",null," Next ",-1),rw=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),aw=[ew,rw];function sw(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Yi,[(0,s._)("div",Zi,[(0,s.Uk)(" Page "),(0,s._)("span",Ki,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",Bi,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Xi,10,Qi),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},aw,10,tw)])])])}var lw={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const ow=(0,m.Z)(lw,[["render",sw]]);var iw=ow;const ww={class:"py-5 tw-min-h-[calc(100dvh-110px)] px-5 tw-border bg-white tw-w-full tw-rounded-md"},nw=(0,s._)("h1",{class:"tw-text-lg tw-pl-1"},"Notifications",-1),dw={key:0},cw={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},uw={key:1,class:"tw-relative tw-h-full tw-flex-col tw-flex tw-overflow-x-auto sm:tw-rounded-lg"},pw={key:0},gw=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),mw=[gw],hw={class:"tw-w-full tw-text-left tw-text-gray-500"},fw={class:"tw-w-fit tw-flex tw-flex-col tw-whitespace-nowrap text-black"},bw={class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},vw=(0,s._)("div",{class:"tw-flex-1 tw-mt-auto"},null,-1);var xw={__name:"NotificationView",setup(t){const e=(0,i.oR)(),r=(0,ke.iH)(!1),a=(0,ke.iH)(null),l=t=>{a.value.page=t,o()},o=async()=>{const t={...a.value,data:null};r.value=!1,await De.AllNotifications(t).then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setAllNotifications",t.data.data),a.value=t.data.data)})).catch((t=>{console.error("API Error",t)})),r.value=!0};(0,s.bv)((()=>{o()}));const w=(0,s.Fl)((()=>e.getters["app/notifications"].all));return(t,e)=>((0,s.wg)(),(0,s.iD)("div",ww,[nw,r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dw,[(0,s._)("div",cw,[(0,s.Wm)(ct.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),r.value?((0,s.wg)(),(0,s.iD)("div",uw,[""==w.value.data?((0,s.wg)(),(0,s.iD)("div",pw,mw)):(0,s.kq)("",!0),(0,s._)("table",hw,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value.data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,scope:"col",class:(0,wt.C_)([{"bg-white":"read"==t.status},"tw-bg-orange-50 tw-py-3 tw-px-1 text-truncate"])},[(0,s._)("div",fw,(0,wt.zw)(t.message),1),(0,s._)("div",bw,(0,wt.zw)((0,ke.SU)(ze())(t.created_at).fromNow()),1)],2)))),128))]),vw,r.value?((0,s.wg)(),(0,s.j4)(iw,{key:1,onPageChange:l,"per-page":a.value.per_page,"last-page":a.value.last_page,from:a.value.from,to:a.value.to,total:a.value.total,"current-page":a.value.current_page},null,8,["per-page","last-page","from","to","total","current-page"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]))}};const yw=xw;var _w=yw,kw={path:"/",name:"home",component:Wa,meta:{module:"dashboard"},children:[{path:"",name:"dashboard",component:Ni,meta:{module:"dashboard",title:"Dashboard",gate:"all"}},{path:"/notifications",name:"notifications",component:_w,meta:{module:"notification",title:"Notifications",gate:"all"}}]};const Cw={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Dw=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your products")],-1),Sw={key:0},zw=(0,s._)("span",{class:"text-white"}," Add Expedition ",-1),Uw={key:0},qw={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Pw={class:"mb-5 tw-flex"},Lw={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Ww={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Aw={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},$w=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Ew={class:"tw-relative"},Tw={class:""};function Fw(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.products.length},[(0,s._)("div",Cw,[Dw,t.$can("create_product")?((0,s.wg)(),(0,s.iD)("div",Sw,[(0,s.Wm)(nt.T,{color:"primary-color",link:"",to:{name:"product/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),zw])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Uw,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",qw,[(0,s._)("div",Pw,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Lw,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Ww,[(0,s._)("div",Aw,[$w,(0,s._)("div",Ew,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Tw,[(0,s.Wm)(n,{columns:o.columns,products:i.filteredProducts},null,8,["columns","products"])])])):(0,s.kq)("",!0)])}const jw={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Iw={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Vw={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Ow=(0,s._)("th",null,null,-1),Hw={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Mw={class:"tw-w-4 tw-p-4"},Rw={class:"tw-flex tw-items-center"},Nw={key:0,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-green-500"},Yw={key:1,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-yellow-500"},Zw={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Kw={class:"tw-px-6 tw-py-4"},Bw={key:0},Qw={class:"tw-px-6 tw-py-4"},Jw={class:"tw-px-6 tw-py-4"},Gw={class:"tw-px-6 tw-py-4"},Xw={class:"tw-px-6 tw-py-4"},tn={class:"tw-px-6 tw-py-4"},en={class:"tw-px-6 tw-py-4"},rn={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},an={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},sn={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},ln=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),on=["value"],wn={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},nn={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},dn={class:"tw-text-white"};function cn(t,e,r,l,o,i){const w=(0,s.up)("ProductActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jw,[(0,s._)("table",Iw,[(0,s._)("thead",Vw,[(0,s._)("tr",null,[Ow,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Hw,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Mw,[(0,s._)("div",Rw,[1==t.status?((0,s.wg)(),(0,s.iD)("span",Nw)):(0,s.kq)("",!0),0==t.status?((0,s.wg)(),(0,s.iD)("span",Yw)):(0,s.kq)("",!0)])]),(0,s._)("th",Zw,(0,wt.zw)(t.id),1),(0,s._)("td",Kw,[t.seller_user?((0,s.wg)(),(0,s.iD)("span",Bw,(0,wt.zw)(t.seller_user.firstname)+" "+(0,wt.zw)(t.seller_user.lastname),1)):(0,s.kq)("",!0)]),(0,s._)("td",Qw,(0,wt.zw)(t.ref),1),(0,s._)("td",Jw,(0,wt.zw)(t.name),1),(0,s._)("td",Gw,(0,wt.zw)(t.buying_price)+" "+(0,wt.zw)(o.currency),1),(0,s._)("td",Xw,(0,wt.zw)(t.selling_price)+" "+(0,wt.zw)(o.currency),1),(0,s._)("td",tn,(0,wt.zw)(i.calculQty(t.variations)),1),(0,s._)("td",en,(0,wt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",rn,[(0,s.Wm)(w,{product:t},null,8,["product"])])])))),128))])])]),(0,s._)("div",an,[(0,s._)("div",sn,[ln,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,on)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",wn,[(0,s._)("div",nn,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.products.length:i.nextRange)+" of "+(0,wt.zw)(r.products.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",dn,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const un={class:"tw-flex tw-items-center tw-gap-1"},pn=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12 2C11.8 2 11.6 2.1 11.4 2.2L3.5 6.6C3.2 6.8 3 7.1 3 7.5V16.5C3 16.9 3.2 17.2 3.5 17.4L11.4 21.8C11.6 21.9 11.8 22 12 22S12.4 21.9 12.6 21.8L13.5 21.3C13.2 20.7 13.1 20 13 19.3V12.6L19 9.2V13C19.7 13 20.4 13.1 21 13.3V7.5C21 7.1 20.8 6.8 20.5 6.6L12.6 2.2C12.4 2.1 12.2 2 12 2M12 4.2L18 7.5L16 8.6L10.1 5.2L12 4.2M8.1 6.3L14 9.8L12 10.9L6 7.5L8.1 6.3M5 9.2L11 12.6V19.3L5 15.9V9.2M21.3 15.8L17.7 19.4L16.1 17.8L15 19L17.8 22L22.6 17.2L21.3 15.8Z",fill:"white"})],-1),gn={key:4};function mn(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("ProductStatusPopup");return(0,s.wg)(),(0,s.iD)("div",un,[t.$can("update_product")&&"admin"==this.user.role?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showStatusPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[pn])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_product")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,to:"/products/update/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(nt.T,{key:2,to:"/products/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.j4)(nt.T,{key:3,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"]),l.showStatusPopup?((0,s.wg)(),(0,s.iD)("div",gn,[(0,s.Wm)(w,{visible:l.showStatusPopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showStatusPopup=t),onCancel:e[3]||(e[3]=t=>l.showStatusPopup=!1),product:r.product},null,8,["visible","product"])])):(0,s.kq)("",!0)])}const hn={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},fn=(0,s._)("h1",{class:"tw-text-lg"},"Update Product Status",-1),bn={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},vn={class:"tw-w-full tw-col-span-6"},xn={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},yn=["disabled"],_n=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),kn={class:"tw-w-full tw-col-span-12"},Cn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),Dn={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Sn=(0,s._)("span",{class:"text-white"}," Cancel ",-1),zn=(0,s._)("span",{class:"text-white"}," Update ",-1);function Un(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",hn,[fn,(0,s._)("div",bn,[(0,s._)("div",vn,[(0,s._)("label",xn,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingStatus,"onUpdate:modelValue":e[0]||(e[0]=t=>o.currentStatus=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,yn),[[a.e8,o.currentStatus]]),_n]),o.isLoadingStatus?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",kn,[Cn,(0,s.wy)((0,s._)("textarea",{"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",512),[[a.nr,o.note]])])]),(0,s._)("div",Dn,[(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Sn])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[zn])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var qn={components:{},props:["product","visible","updated"],data(){return{isLoading:!1,isLoadingStatus:!1,currentStatus:!1,note:""}},computed:{},methods:{update(){this.isLoading=!0;const t={status:this.currentStatus,note:this.note};ha.updateStatus(this.product.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("product/setProduct",t.data.data.product),this.$emit("updated",t.data.data.product),this.$emit("cancel")),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))}},mounted(){this.Product={...this.product},this.currentStatus=1==this.product.status,this.note=this.product.note}};const Pn=(0,m.Z)(qn,[["render",Un]]);var Ln=Pn,Wn={components:{ProductStatusPopup:Ln},props:["rowIndex","product"],name:"productActions",data(){return{showStatusPopup:!1,showPopup:!1,isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,ha["delete"](this.product.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"})),ha.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const An=(0,m.Z)(Wn,[["render",mn]]);var $n=An,En={props:["columns","products"],components:{ProductActions:$n},data(){return{currency:c,allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.products.length/this.paginationLimit)},items(){return this.products.slice(this.prevRange,this.nextRange)}},methods:{calculQty(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Tn=(0,m.Z)(En,[["render",cn]]);var Fn=Tn;const jn=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:16,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:15,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:12,value:"wrong-number",name:"Wrong number",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:13,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:14,value:"double",name:"Double",text:"tw-text-purple-500",textLight:"tw-text-purple-800",bg:"tw-bg-purple-500/10",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"}],In=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:2,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"}],Vn=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:13,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-cyan-500",textLight:"tw-text-cyan-800",bg:"tw-bg-cyan-500/10",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"}],On=[{id:0,value:null,name:"Select",text:"tw-text-neutral-600",bg:"tw-bg-neutral-500/10",ring:"tw-ring-neutral-300"},{id:1,value:"oui",name:"Oui",text:"tw-text-green-500",bg:"tw-bg-green-500/10",ring:"tw-ring-green-300"},{id:2,value:"non",name:"Non",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",ring:"tw-ring-pink-300"}],Hn=[{id:0,value:null,name:"Select",text:"tw-text-gray-500",textLight:"tw-text-gray-800",bg:"tw-bg-gray-500/10",bgLight:"tw-bg-gray-100",ring:"tw-ring-gray-300"},{id:1,value:"dispatch",name:"Dispatched",text:"tw-text-yellow-500",textLight:"tw-text-yellow-800",bg:"tw-bg-yellow-500/10",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:2,value:"expidier",name:"Shipped",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:3,value:"livrer",name:"Delivered",text:"tw-text-green-500",bg:"tw-bg-green-500/10",textLight:"tw-text-green-800",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:4,value:"reporter",name:"Reported",text:"tw-text-orange-500",bg:"tw-bg-orange-500/10",textLight:"tw-text-orange-800",bgLight:"tw-bg-orange-100",ring:"tw-ring-orange-300"},{id:5,value:"refuser",name:"Refused",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",textLight:"tw-text-pink-800",bgLight:"tw-bg-pink-100",ring:"tw-ring-pink-300"},{id:6,value:"annuler",name:"Canceled",text:"tw-text-red-500",bg:"tw-bg-red-500/10",textLight:"tw-text-red-800",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:9,value:"pas-de-reponse",name:"No Answer",text:"tw-text-yellow-500",bg:"tw-bg-yellow-500/10",textLight:"tw-text-yellow-800",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:8,value:"printed",name:"Printed",text:"tw-text-blue-500",bg:"tw-bg-blue-500/10",textLight:"tw-text-blue-800",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:10,value:"retourner",name:"Returned",text:"tw-text-purple-500",bg:"tw-bg-purple-500/10",textLight:"tw-text-purple-800",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:11,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-indigo-500",bg:"tw-bg-indigo-500/10",textLight:"tw-text-indigo-800",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:12,value:"paid",name:"Paid",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:13,value:"transfer",name:"Transferd",text:"tw-text-violet-500",bg:"tw-bg-violet-500/10",textLight:"tw-text-violet-800",bgLight:"tw-bg-violet-100",ring:"tw-ring-violet-300"},{id:14,value:"livrer-et-retourner",name:"Delivered & Return",text:"tw-text-teal-500",bg:"tw-bg-teal-500/10",textLight:"tw-text-teal-800",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:15,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:17,value:"in-warehouse",name:"In Warehouse",text:"tw-text-lime-500",bg:"tw-bg-lime-500/10",ring:"tw-ring-lime-300",textLight:"tw-text-lime-800",bgLight:"tw-bg-lime-100"},{id:18,value:"cleared",name:"Cleared",text:"tw-text-cyan-500",bg:"tw-bg-cyan-500/10",ring:"tw-ring-cyan-300",textLight:"tw-text-cyan-800",bgLight:"tw-bg-cyan-100"}],Mn=[null,"expidier","paid","transfer","dispatch"];var Rn={components:{ProductsTable:Fn},data(){return{localUrl:w,confirmations:jn,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"seller",name:"Seller"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},filteredProducts(){const t=this.date;return this.products.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!(e.ref.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase())||e.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{getProducts(){ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts()}};const Nn=(0,m.Z)(Rn,[["render",Fw]]);var Yn=Nn;const Zn={class:"py-5 !tw-pt-0 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Kn={class:"tw-px-3"},Bn=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},null,-1),Qn={key:0};function Jn(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Zn,[(0,s._)("section",Kn,[Bn,(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Qn,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Gn={class:"tw-flex tw-flex-col"},Xn={class:"tw-overflow-x-auto"},td={class:"tw-inline-block tw-min-w-full tw-align-middle"},ed={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},rd={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},ad={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},sd={scope:"col",class:"rtl:tw-text-right tw-w-7 tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},ld={class:"tw-max-w-[25px]"},od={class:"tw-inline-flex tw-items-center"},id={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},wd=["checked"],nd=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),dd=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),cd={key:0,scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},ud=(0,s._)("span",null,"Seller",-1),pd=[ud],gd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," SKU ",-1),md=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),hd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Pricing ( $ ) ",-1),fd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-whitespace-nowrap !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Qty ",-1),bd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivered ",-1),vd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Shipped ",-1),xd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Available ",-1),yd={scope:"col",class:"tw-py-3.5 tw-w-5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},_d=(0,s._)("span",null,"Created",-1),kd=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Cd=[_d,kd],Dd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Actions")],-1),Sd={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},zd={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ud=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),qd=[Ud],Pd={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ld={colspan:"13"},Wd={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Ad=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),$d=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Ed=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Td=[$d,Ed],Fd={class:"tw-mt-6"};function jd(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Gn,[(0,s._)("div",Xn,[(0,s._)("div",td,[(0,s._)("div",ed,[(0,s._)("table",rd,[(0,s._)("thead",ad,[(0,s._)("tr",null,[(0,s._)("th",sd,[(0,s._)("div",ld,[(0,s._)("div",od,[(0,s._)("label",id,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,wd),nd])])])]),dd,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",cd,pd)):(0,s.kq)("",!0),gd,md,hd,fd,bd,vd,xd,(0,s._)("th",yd,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Cd)]),Dd])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Sd,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,l)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:l,index:a,key:r.id,item:r},null,8,["selected","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",zd,qd)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Pd,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Ld,[(0,s._)("div",Wd,[Ad,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Td)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Fd,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Id={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Vd={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Od={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Hd={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Md=["disabled"],Rd=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Nd=(0,s._)("span",null," previous ",-1),Yd=[Rd,Nd],Zd=["disabled"],Kd=(0,s._)("span",null," Next ",-1),Bd=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Qd=[Kd,Bd];function Jd(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Id,[(0,s._)("div",Vd,[(0,s.Uk)(" Page "),(0,s._)("span",Od,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",Hd,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Yd,10,Md),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Qd,10,Zd)])])])}var Gd={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Xd=(0,m.Z)(Gd,[["render",Jd]]);var tc=Xd;const ec={class:"tw-p-2 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},rc={class:"tw-max-w-[25px]"},ac={class:"tw-inline-flex tw-items-center"},sc={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},lc=["checked","id"],oc=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),ic={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},wc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},nc={key:0,class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},dc={key:0},cc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},uc={key:1},pc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},gc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},mc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},hc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fc={class:"tw-flex tw-items-center tw-gap-1"},bc={title:"Buying Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},vc={class:"tw-text-blue-700"},xc={title:"Selling Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},yc={class:"tw-text-green-700"},_c={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Cc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Dc={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},Sc={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},zc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Uc={class:"tw-flex tw-font-medium tw-text-purple-600 tw-rounded tw-items-center"},qc={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Pc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Lc={class:"tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Wc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-max-w-[100px]"},Ac={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-max-w-[100px] tw-flex tw-items-center tw-gap-2"},$c={class:"tw-px-4 tw-py-1 tw-text-sm tw-whitespace-nowrap"};function Ec(t,e,r,a,l,o){const i=(0,s.up)("router-link"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,wt.C_)(["hover:tw-bg-gray-50",[o.availableQuantity<=0&&"!tw-border !tw-border-red-300 tw-bg-red-50 hover:tw-bg-red-100 "]])},[(0,s._)("td",ec,[(0,s._)("div",rc,[(0,s._)("div",ac,[(0,s._)("label",sc,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,lc),oc])])])]),(0,s._)("td",ic,[(0,s._)("div",null,[(0,s._)("h2",wc,(0,wt.zw)(r.item.id),1)])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",nc,["affiliate"!=r.item.type?((0,s.wg)(),(0,s.iD)("div",dc,[(0,s._)("h2",cc,(0,wt.zw)(r.item.seller_user.firstname)+" "+(0,wt.zw)(r.item.seller_user.lastname),1)])):((0,s.wg)(),(0,s.iD)("div",uc,[(0,s.Wm)(i,{to:{name:"affiliate.show.sellers",params:{id:r.item.id}},class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-underline-offset-2 tw-underline"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.item.imported_count)+" sellers ",1)])),_:1},8,["to"])]))])):(0,s.kq)("",!0),(0,s._)("td",pc,[(0,s._)("div",null,[(0,s._)("h2",{class:(0,wt.C_)([{"!tw-text-emerald-500":r.item.status,"!tw-text-amber-500":!r.item.status},"tw-font-bold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[70px] tw-truncate"])},(0,wt.zw)(r.item.ref),3)])]),(0,s._)("td",gc,[(0,s._)("div",null,[(0,s._)("h2",mc,(0,wt.zw)(r.item.name),1)])]),(0,s._)("td",hc,[(0,s._)("div",fc,[(0,s._)("div",bc,[(0,s._)("span",vc,(0,wt.zw)(r.item.buying_price),1),(0,s.Wm)(ct.t,{class:"tw-text-lg tw-text-blue-400 tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-down-bold")])),_:1})]),(0,s._)("div",xc,[(0,s.Wm)(ct.t,{class:"tw-text-lg tw-mr-1 tw-text-green-400"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-up-bold")])),_:1}),(0,s._)("span",yc,(0,wt.zw)(r.item.selling_price),1)])])]),(0,s._)("td",_c,[(0,s._)("div",null,[(0,s._)("h2",kc,(0,wt.zw)(o.quantityTotal),1)])]),(0,s._)("td",Cc,[(0,s._)("div",Dc,[(0,s._)("h2",Sc,(0,wt.zw)(o.deliveredQuantity),1)])]),(0,s._)("td",zc,[(0,s._)("div",Uc,[(0,s._)("h2",qc,(0,wt.zw)(o.shippedQuantity),1)])]),(0,s._)("td",Pc,[(0,s._)("div",{class:(0,wt.C_)([{"tw-text-red-500 !tw-font-bold":o.availableQuantity<=0},"tw-flex tw-font-medium tw-text-blue-600 tw-rounded tw-items-center"])},[(0,s._)("h2",Lc,(0,wt.zw)(o.availableQuantity),1)],2)]),(0,s._)("td",Wc,[(0,s._)("div",null,[(0,s._)("h2",Ac,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[-]MM[-]YY")),1)])])]),(0,s._)("td",$c,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const Tc=(t,e="success")=>{st.dispatch("alert/toggleAlert",{type:e,title:t})},Fc={key:0,class:"tw-h-full"},jc={class:"tw-flex tw-items-center tw-gap-2"},Ic={key:5},Vc={key:1,class:"tw-h-full"},Oc={class:"tw-flex tw-items-center tw-gap-2"};var Hc={__name:"TableActions",props:["item"],emits:["update"],setup(t,{emit:e}){const r=t,a=(0,ke.Vh)(r,"item"),l=(0,s.f3)("refresh"),o=(0,s.f3)("update"),i=(0,ke.iH)({delete:!1,status:!1}),w=(0,ke.iH)({delete:!1,status:!1}),n=async t=>{if(!t)return i.value.delete=!1,!1;w.value.delete=!0,await ha["delete"](a.value.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(Tc("Product Deleted Successfully"),l())})).catch((t=>{console.log(t),Tc("Something wrong happened","danger")})),w.value.delete=!1,i.value.delete=!1},d=t=>{o({...a.value,status:t.status})};return(t,e)=>{const r=(0,s.up)("icon"),l=(0,s.up)("router-link"),o=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,["normal"==a.value.type?((0,s.wg)(),(0,s.iD)("div",Fc,[(0,s._)("div",jc,[(0,s.kq)("",!0),t.$can("update_product")&&"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>i.value.status=!0),class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-emerald-500/20 hover:tw-bg-emerald-500/10 hover:tw-border-emerald-500/70 tw-duration-300 tw-text-emerald-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(r,{icon:"ci:check-big",class:"tw-text-base tw-text-emerald-500"})])):(0,s.kq)("",!0),t.$can("view_product")&&"affiliate-manager"!=t.$user.role?((0,s.wg)(),(0,s.j4)(l,{key:2,to:"/products/"+a.value.id,class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-sky-500/20 hover:tw-bg-sky-500/10 hover:tw-border-sky-500/70 tw-duration-300 tw-text-sky-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"solar:eye-bold-duotone",class:"tw-text-base tw-text-sky-500"})])),_:1},8,["to"])):(0,s.kq)("",!0),"affiliate-manager"!=t.$user.role?((0,s.wg)(),(0,s.j4)(l,{key:3,title:"Edit",to:"/products/update/"+a.value.id,class:"!tw-bg-white tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 hover:!tw-bg-amber-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")&&"affiliate-manager"!=t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:4,onClick:e[1]||(e[1]=t=>i.value.delete=!0),class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-rose-500/20 hover:tw-bg-rose-500/10 hover:tw-border-rose-500/70 tw-duration-300 tw-text-rose-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1})])):(0,s.kq)("",!0),(0,s.Wm)(o,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:w.value.delete,visible:i.value.delete,onResolved:n},null,8,["loading","visible"]),i.value.status?((0,s.wg)(),(0,s.iD)("div",Ic,[(0,s.Wm)((0,ke.SU)(Ln),{visible:i.value.status,"onUpdate:visible":e[2]||(e[2]=t=>i.value.status=t),onCancel:e[3]||(e[3]=t=>i.value.status=!1),onUpdated:d,product:a.value},null,8,["visible","product"])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"affiliate"==a.value.type&&["admin","affiliate-manager"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",Vc,[(0,s._)("div",Oc,[["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.j4)(l,{key:0,title:"Show",to:{name:"affiliate.admin.show",params:{id:a.value.id}},class:"!tw-bg-white tw-aspect-square tw-cursor-pointer tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-blue-100 hover:tw-border-blue-400 hover:!tw-bg-blue-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"solar:eye-bold-duotone",class:"tw-text-xl tw-text-blue-500"})])),_:1},8,["to"])):(0,s.kq)("",!0),["admin","affiliate-manager"].includes(t.$user.role)?((0,s.wg)(),(0,s.j4)(l,{key:1,title:"Edit",to:{name:"affiliate.admin.edit",params:{id:a.value.id}},class:"!tw-bg-white tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 hover:!tw-bg-amber-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})])),_:1},8,["to"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)],64)}}};const Mc=Hc;var Rc=Mc,Nc={components:{TableActions:Rc},props:{item:{required:!0},selected:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ze(),currency:c}},computed:{isSelected(){return this.selected.includes(this.item.id)},quantityTotal(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.quantity)),0)},deliveredQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.delivered_quantity)),0)},shippedQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.shipped_quantity)),0)},availableQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.available_quantity)),0)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const Yc=(0,m.Z)(Nc,[["render",Ec]]);var Zc=Yc,Kc={components:{TablePaginationNoNums:tc,TableRow:Zc},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const Bc=(0,m.Z)(Kc,[["render",jd]]);var Qc=Bc;const Jc={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Gc={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Xc=["disabled"],tu=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),eu=[tu],ru=["disabled"],au=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),su=[au],lu={class:"tw-relative"},ou=["value"],iu=(0,s._)("option",{value:5},"5",-1),wu=(0,s._)("option",{value:10},"10",-1),nu=(0,s._)("option",{value:20},"20",-1),du=(0,s._)("option",{value:50},"50",-1),cu=(0,s._)("option",{value:100},"100",-1),uu=(0,s._)("option",{value:250},"250",-1),pu=(0,s._)("option",{value:500},"500",-1),gu=[iu,wu,nu,du,cu,uu,pu],mu=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),hu={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},fu=["value"],bu={class:"tw-overflow-hidden tw-col-span-1"},vu={class:"tw-overflow-hidden tw-col-span-1"},xu={class:"tw-overflow-hidden tw-col-span-1"};function yu(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Jc,[(0,s._)("div",Gc,[(0,s._)("button",{class:(0,wt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,Xc),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,wt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},eu,2),(r.activeStatistics&&r.statistics,(0,s.kq)("",!0)),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},su,8,ru),(0,s.kq)("",!0),(0,s._)("div",lu,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},gu,40,ou),mu])]),(0,s._)("div",hu,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,fu),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",bu,["admin"==this.user.role?((0,s.wg)(),(0,s.j4)(w,{key:0,onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])):(0,s.kq)("",!0)])],2),(0,s._)("div",{class:(0,wt.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",vu,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",xu,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const _u={class:"tw-mb-4"},ku={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Cu={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Du={class:"tw-flex tw-items-center tw-justify-between"},Su={class:"tw-text-xl tw-font-bold tw-text-gray-900"},zu={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function Uu(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",_u,[(0,s._)("div",ku,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Cu,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",Du,[(0,s._)("span",Su,(0,wt.zw)(t.total),1),(0,s._)("span",zu,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var qu={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const Pu=(0,m.Z)(qu,[["render",Uu]]);var Lu=Pu;const Wu={class:"tw-mb-4"},Au={class:"tw-flex tw-items-center tw-gap-2"},$u=["disabled"],Eu=(0,s._)("span",null,"Select Filtered",-1),Tu={class:"tw-flex tw-justify-end"},Fu=["disabled"];function ju(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",Wu,[(0,s._)("div",Au,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Eu],8,$u)]),(0,s._)("div",Tu,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,wt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,Fu)])])}class Iu{async statistics(t){return await E.getCookie(),A.post("api/v1/admin/statistics",t)}async analytics(t){return await E.getCookie(),A.post("api/v1/admin/analytics",t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/admin/orders"+t,e)}async update(t,e){return await E.getCookie(),A.post("api/v1/admin/orders/"+t+"/update",e)}async create(t){return await E.getCookie(),A.post("api/v1/admin/orders/create",t)}async export(t={}){return await E.getCookie(),A.post("api/v1/admin/orders/export",t)}}var Vu=new Iu,Ou={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Vu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const Hu=(0,m.Z)(Ou,[["render",ju]]);var Mu=Hu;const Ru={class:"tw-mb-4"},Nu={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Yu={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Zu=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Ku=(0,s._)("span",null,"Clear",-1),Bu=[Zu,Ku],Qu=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Ju=(0,s._)("span",null,"Filter",-1),Gu=[Qu,Ju];function Xu(t,e,r,a,l,o){(0,s.up)("DateFilter"),(0,s.up)("ProductFilter");const i=(0,s.up)("SellerFilter");return(0,s.wg)(),(0,s.iD)("div",Ru,[(0,s._)("div",Nu,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Yu,[(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Bu),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Gu)])])])}const tp={class:"tw-text-sm tw-text-neutral-600"},ep=["onClick"];function rp(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",tp,(0,wt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,ep)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var ap={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const sp=(0,m.Z)(ap,[["render",rp]]);var lp=sp;const op={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ip=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),wp=["value"],np=(0,s._)("option",{value:"all"},"All",-1),dp=["value"];function cp(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",op,[ip,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[np,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.name),9,dp)))),128))],40,wp)])}var up={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const pp=(0,m.Z)(up,[["render",cp]]);var gp=pp;const mp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),fp=["value"],bp=(0,s._)("option",{value:"all"},"All",-1),vp=["value"];function xp(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",mp,[hp,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[bp,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,vp)))),128))],40,fp)])}var yp={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const _p=(0,m.Z)(yp,[["render",xp]]);var kp=_p,Cp={components:{DateFilter:lp,ProductFilter:gp,SellerFilter:kp},props:{filters:{required:!0,default:{}}},data(){return{dateFilter:["",""]}}};const Dp=(0,m.Z)(Cp,[["render",Xu]]);var Sp=Dp,zp={components:{IndexStatistics:Lu,FiltersWrapper:Sp,IndexExport:Mu},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ze()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const Up=(0,m.Z)(zp,[["render",yu]]);var qp=Up;const Pp={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Lp=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),Wp={class:"tw-bg-white tw-p-4"},Ap={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},$p={class:"tw-col-span-2 md:tw-col-span-1"},Ep=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),Tp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Fp={class:"tw-col-span-2 md:tw-col-span-1"},jp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Ip={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Vp={class:"tw-col-span-2 md:tw-col-span-1"},Op=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Hp={class:"tw-relative"},Mp=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Rp=["value"],Np=["value"],Yp=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Zp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Kp={class:"tw-col-span-2 md:tw-col-span-1"},Bp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Qp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Jp={class:"tw-col-span-2"},Gp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Xp={class:"tw-relative"},tg=["value"],eg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ag={key:0,class:"md:tw-col-span-1 tw-col-span-2"},sg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),lg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},og={key:1,class:"md:tw-col-span-1 tw-col-span-2"},ig=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),wg={class:"tw-col-span-2"},ng=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),dg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cg={class:"md:tw-col-span-1 tw-col-span-2"},ug={class:"md:tw-col-span-1 tw-col-span-2"},pg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),gg={class:"tw-relative"},mg=["value"],hg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),fg={class:"tw-col-span-2"},bg={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},vg={key:0,class:"tw-text-red-400 tw-text-xs"},xg={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},yg=["disabled"],_g=(0,s._)("span",null,"Create",-1);function kg(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Pp,[Lp,(0,s._)("div",Wp,[(0,s._)("div",Ap,[(0,s._)("div",$p,[Ep,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",Tp,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Fp,[jp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",Ip,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Vp,[Op,(0,s._)("div",Hp,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Mp,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,Rp),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,Np)))),128))],34),[[a.bM,o.itemCopy.city]]),Yp]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",Zp,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Kp,[Bp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Qp,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Jp,[Gp,(0,s._)("div",Xp,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,tg)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),eg]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",rg,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",ag,[sg,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",lg,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",og,[ig,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",wg,[ng,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",dg,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",cg,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",ug,[pg,(0,s._)("div",gg,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,mg)))),128))],512),[[a.bM,o.itemCopy.upsell]]),hg])]),(0,s._)("div",fg,[(0,s._)("label",bg,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",vg," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",xg,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),_g],8,yg)])])])),_:1},8,["visible","onCancel"])])}const Cg=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!Dg(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),Dg=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Sg=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},zg=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Ug=(t,e)=>{t.isLoading=!0,t.errors={},Vu.create(e).then((e=>Sg(t,e.data))).catch((e=>zg(t,e.response.data))).finally((()=>t.isLoading=!1))},qg={key:0},Pg=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Lg={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Wg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Ag=(0,s._)("span",null,"Add Item",-1),$g=[Wg,Ag],Eg={key:1,class:"md:tw-col-span-12 tw-col-span-12"},Tg={class:"tw-max-w-full tw-overflow-auto"},Fg={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},jg={class:"tw-bg-gray-50"},Ig={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Vg={key:0},Og={colspan:"6"},Hg={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Mg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Rg=(0,s._)("span",null,"Add Item",-1),Ng=[Mg,Rg],Yg=(0,s._)("td",{colspan:"4"},null,-1),Zg=(0,s._)("td",null,null,-1),Kg={colspan:"1",class:"tw-p-2"},Bg={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Qg={key:1},Jg={colspan:"6"},Gg={class:"tw-scale-75 tw-p-5"};function Xg(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qg,[Pg,(0,s._)("div",Lg,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},$g)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",Eg,[(0,s._)("div",Tg,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Fg,[(0,s._)("tr",jg,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Ig,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",Vg,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",Og,[(0,s._)("div",Hg,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Ng)])])]),(0,s._)("tr",null,[Yg,Zg,(0,s._)("td",Kg,[(0,s._)("div",Bg,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Qg,[(0,s._)("tr",null,[(0,s._)("td",Jg,[(0,s._)("div",Gg,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const tm=(0,s._)("td",null,null,-1),em={class:"tw-p-2"},rm={class:"tw-relative"},am=["value"],sm=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),lm=["value"],om=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),im={class:"tw-p-2"},wm={key:0,class:"tw-relative"},nm=["value"],dm=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),cm=["value"],um={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},pm=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),gm=[pm],mm={class:"tw-p-2"},hm=["value"],fm={class:"tw-p-2"},bm=["value"],vm={class:"tw-flex tw-justify-center"};function xm(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[tm,(0,s._)("td",null,[(0,s._)("div",em,[(0,s._)("div",rm,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[sm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,lm)))),128))],40,am),om])])]),(0,s._)("td",null,[(0,s._)("div",im,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",wm,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[dm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,cm)))),128))],40,nm)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",um,gm)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",mm,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,hm)])]),(0,s._)("td",null,[(0,s._)("div",fm,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,bm)])]),(0,s._)("td",null,[(0,s._)("div",vm,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var ym={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const _m=(0,m.Z)(ym,[["render",xm]]);var km=_m,Cm={components:{ItemRow:km},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Dm=(0,m.Z)(Cm,[["render",Xg]]);var Sm=Dm;const zm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Um={key:0,class:"tw-relative"},qm=["value","disabled"],Pm=(0,s._)("option",{value:""},"Choose a Delivery",-1),Lm=["value"],Wm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Am={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$m={key:2,class:"tw-relative"},Em={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Tm=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Fm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function jm(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[zm,l.fetched?((0,s.wg)(),(0,s.iD)("div",Um,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,wt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Pm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Lm)))),128))],42,qm),Wm])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Am,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$m,[(0,s._)("div",Em,[(0,s.Wm)(i)]),Tm,Fm]))])}var Im={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const Vm=(0,m.Z)(Im,[["render",jm]]);var Om=Vm,Hm={components:{OrderItems:Sm,OrderAffectation:Om},props:{visible:{required:!0}},data(){return{confirmations:jn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=Cg(this,this.itemCopy);if(!t)return!1;Ug(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const Mm=(0,m.Z)(Hm,[["render",kg]]);var Rm=Mm,Nm={components:{IndexTable:Qc,IndexFilters:qp,CreatePopup:Rm},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,user_id:"all",product_id:"all"}}},methods:{async paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ha.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()},provide(){return{refresh:this.paginateProducts,update:t=>{this.items=this.items.map((e=>e.id==t.id?t:e))}}}};const Ym=(0,m.Z)(Nm,[["render",Jn]]);var Zm=Ym;const Km={class:"py-5 !tw-pt-0 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Bm={class:"tw-px-3"},Qm=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},null,-1),Jm={key:0};function Gm(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Km,[(0,s._)("section",Bm,[Qm,(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Jm,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var Xm={components:{IndexTable:Qc,IndexFilters:qp,CreatePopup:Rm},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,user_id:"all",product_id:"all"}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,is_affiliate:!0};return this.fetching=!0,ha.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()},provide(){return{refresh:this.paginateProducts,update:t=>{this.items=this.items.map((e=>e.id==t.id?t:e))}}}};const th=(0,m.Z)(Xm,[["render",Gm]]);var eh=th;const rh={key:0,class:"tw-p-2 tw-flex tw-items-center tw-gap-2x tw-mb-2"};var ah={__name:"IndexProducts",setup(t){const e=(0,ke.iH)(null),r=(0,ke.iH)("affiliate-manager"==e.value?"affiliate":"normal");return(t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[["admin","affiliate-manager"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",rh,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value="normal"),class:(0,wt.C_)(["normal"==r.value?"!tw-border-orange-500":"tw-border-gray-200","tw-py-1 tw-px-4 tw-border-b-2 tw-border-solid tw-border-gray-200 hover:tw-border-orange-200"])},"Normal",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value="affiliate"),class:(0,wt.C_)(["affiliate"==r.value?"!tw-border-orange-500":"tw-border-gray-200","tw-py-1 tw-px-4 tw-border-b-2 tw-border-solid tw-border-gray-200 hover:tw-border-orange-200"])},"Affiliate",2)])):(0,s.kq)("",!0),(0,s._)("div",null,["normal"==r.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Zm),{key:0})):(0,s.kq)("",!0),"affiliate"==r.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(eh),{key:1})):(0,s.kq)("",!0)])],64))}};const sh=ah;var lh=sh,oh=r(240),ih=r(3104),wh=r(4842);const nh=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Expedition "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new expedition")],-1),dh={key:0},ch={key:1},uh={class:"mb-5"},ph=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),gh={class:"tw-w-full"},mh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),hh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},fh={class:"tw-w-full"},bh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Reference ",-1),vh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xh={class:"tw-w-full"},yh={class:"mb-1 text-body-2 tw-text-zinc-700"},_h={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kh={class:"mb-1 text-body-2 tw-text-zinc-700"},Ch={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Dh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),Sh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zh={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},Uh=(0,s._)("span",null,"Add Variants: ",-1),qh={key:0,class:"tw-h-fit tw-mb-"},Ph=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Lh={class:"tw-relative"},Wh=(0,s._)("option",{value:0},"Select",-1),Ah=["value"],$h={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Eh={key:1},Th={class:"md:tw-col-span-3 tw-col-span-12"},Fh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),jh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ih={class:"md:tw-col-span-3 tw-col-span-12"},Vh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Oh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Hh={key:2},Mh={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Rh={class:"md:tw-col-span-3 tw-col-span-12"},Nh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Yh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zh={class:"md:tw-col-span-3 tw-col-span-12"},Kh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Bh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Qh={class:"md:tw-col-span-3 tw-col-span-12"},Jh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Quantity ",-1),Gh=(0,s._)("div",{class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},null,-1),Xh={class:"md:tw-col-span-3 tw-col-span-12"},tf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),ef={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rf={class:"tw-col-span-12 tw-flex tw-justify-end"},af=["disabled"],sf=(0,s._)("span",{class:"tw-text-white"},"Add",-1),lf={class:""},of={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},wf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Variants ",-1),nf={class:"mb-1 text-body-2 tw-text-zinc-700"},df={key:1,class:"tw-max-w-full tw-overflow-x-auto"},cf={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},uf={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},pf={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},gf={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},mf={class:"tw-px-6 tw-py-2"},hf={class:"tw-px-6 tw-py-2"},ff={class:"tw-px-6 tw-py-2"},bf={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},vf=(0,s._)("h1",{class:"tw-font-medium"},"Image",-1),xf={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},yf={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},_f={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},kf={class:"tw-w-max tw-relative"},Cf=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),Df={class:"md:tw-col-span-6 tw-col-span-12"},Sf={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},zf=(0,s._)("span",null,"No image available",-1),Uf=[zf],qf={class:"mb-5"},Pf=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),Lf={class:"tw-w-full"},Wf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Af={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$f={class:"tw-w-full"},Ef=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Tf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ff={class:"tw-w-full"},jf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),If={class:"tw-relative"},Vf=["error"],Of=(0,s._)("option",{value:"",disabled:""},"Select",-1),Hf=(0,s._)("option",{value:"Sea"},"Sea",-1),Mf=(0,s._)("option",{value:"Air"},"Air",-1),Rf=[Of,Hf,Mf],Nf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Yf={class:"tw-w-full"},Zf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),Kf={class:"tw-relative"},Bf=["error"],Qf=(0,s._)("option",{value:""},"Select",-1),Jf=(0,s._)("option",{value:"China"},"China",-1),Gf=(0,s._)("option",{value:"Dubai"},"Dubai",-1),Xf=(0,s._)("option",{value:"Turky"},"Turky",-1),tb=[Qf,Jf,Gf,Xf],eb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rb={class:"tw-w-full"},ab=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),sb={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},lb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ob={class:"mb-5"},ib=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),wb={key:0,class:"mb-5"},nb=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),db=(0,s._)("h1",{class:"tw-font-medium"},"Deliveries",-1),cb={class:"tw-mt-2"},ub={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},pb=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),gb=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function mb(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("VariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[nh,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dh,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ch,[(0,s._)("div",null,[(0,s._)("div",uh,[ph,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",gh,[mh,(0,s.Wm)(ut.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",hh,(0,wt.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",fh,[bh,(0,s.Wm)(ut.hw,{error:!o.formStatus.reference.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("reference")),"hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",vh,(0,wt.zw)(o.formStatus.reference.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xh,[(0,s._)("div",yh," Buying Price ("+(0,wt.zw)(o.currency)+") ",1),(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",_h,(0,wt.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",kh," Selling Price ("+(0,wt.zw)(o.currency)+") ",1),(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Ch,(0,wt.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Dh,(0,s.Wm)(wh.z,{error:!o.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",Sh,(0,wt.zw)(o.formStatus.description.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",zh,[Uh,(0,s.Wm)(ih.G,{modelValue:o.addVariants,"onUpdate:modelValue":e[10]||(e[10]=t=>o.addVariants=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6",class:"tw-border-l tw-border-r-neutral-700 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",qh,[Ph,(0,s._)("div",Lh,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.warehouse=t),onChange:e[12]||(e[12]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Wh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,Ah)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",$h,(0,wt.zw)(o.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),o.addVariants?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Eh,[(0,s._)("div",Th,[Fh,(0,s.Wm)(ut.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[13]||(e[13]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[14]||(e[14]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",jh,(0,wt.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",Ih,[Vh,(0,s.Wm)(ut.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[15]||(e[15]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[16]||(e[16]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Oh,(0,wt.zw)(o.formStatus.stockAlert.message),1)])])),o.addVariants?((0,s.wg)(),(0,s.iD)("div",Hh,[(0,s._)("div",Mh,[(0,s._)("div",Rh,[Nh,(0,s.Wm)(ut.hw,{error:!o.formStatus.size.valid,onKeyup:e[17]||(e[17]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[18]||(e[18]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Yh,(0,wt.zw)(o.formStatus.size.message),1)]),(0,s._)("div",Zh,[Kh,(0,s.Wm)(ut.hw,{error:!o.formStatus.color.valid,onKeyup:e[19]||(e[19]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[20]||(e[20]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Bh,(0,wt.zw)(o.formStatus.color.message),1)]),(0,s._)("div",Qh,[Jh,(0,s.Wm)(ut.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid&&!1,onKeyup:e[21]||(e[21]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[22]||(e[22]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),Gh]),(0,s._)("div",Xh,[tf,(0,s.Wm)(ut.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[24]||(e[24]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ef,(0,wt.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",rf,[(0,s._)("button",{disabled:!o.quantity,class:(0,wt.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[25]||(e[25]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),sf],10,af)])]),(0,s._)("div",lf,[(0,s._)("div",of,[wf,(0,s._)("div",nf," Quantity Total: "+(0,wt.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,wt.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",df,[(0,s._)("table",cf,[(0,s._)("thead",uf,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","stockAlert","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",pf,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",gf,(0,wt.zw)(t.size),1),(0,s._)("td",mf,(0,wt.zw)(t.color),1),(0,s._)("td",hf,(0,wt.zw)(t.quantity),1),(0,s._)("td",ff,(0,wt.zw)(t.stockAlert),1),(0,s._)("td",bf,[(0,s._)("div",null,[(0,s.Wm)(n,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[vf,(0,s._)("div",xf,[(0,s._)("div",yf,[(0,s._)("label",_f,[(0,s._)("div",kf,[(0,s.Wm)(ct.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),Cf]),(0,s._)("input",{onChange:e[26]||(e[26]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",Df,[(0,s._)("div",Sf,[(0,s._)("img",{class:(0,wt.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",id:"image-preview",alt:"Image Preview"},null,2),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},Uf,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",qf,[Pf,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Lf,[Wf,(0,s.Wm)(ut.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[27]||(e[27]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[28]||(e[28]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Af,(0,wt.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$f,[Ef,(0,s.Wm)(ut.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[29]||(e[29]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[30]||(e[30]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Tf,(0,wt.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ff,[jf,(0,s._)("div",If,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.transport_mode.valid,onKeyup:e[31]||(e[31]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[32]||(e[32]=t=>o.product.transport_mode=t)},Rf,40,Vf),[[a.bM,o.product.transport_mode]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Nf,(0,wt.zw)(o.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Yf,[Zf,(0,s._)("div",Kf,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.country_of_purchase.valid,onKeyup:e[33]||(e[33]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[34]||(e[34]=t=>o.product.country_of_purchase=t)},tb,40,Bf),[[a.bM,o.product.country_of_purchase]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",eb,(0,wt.zw)(o.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",rb,[ab,(0,s._)("div",sb,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[35]||(e[35]=t=>o.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,o.product.expedition_date]])]),(0,s._)("div",lb,(0,wt.zw)(o.formStatus.expedition_date.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",ob,[ib,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[36]||(e[36]=t=>o.offers=t)},null,8,["offers"])])])),_:1})])),_:1})]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",wb,[nb,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[db,(0,s._)("div",cb,[(0,s.Wm)(oh.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[37]||(e[37]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",ub,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[pb])),_:1}),(0,s.Wm)(nt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[gb])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}function hb(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("UpdateProductVariant"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(nt.T,{onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(n,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"])])}const fb={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},bb={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},vb={class:"tw-col-span-12"},xb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),yb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},_b={class:"tw-col-span-12"},kb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Cb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Db={class:"tw-col-span-12"},Sb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),zb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ub={class:"tw-col-span-12"},qb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),Pb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lb={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end"},Wb=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),Ab=[Wb],$b=["disabled"],Eb=(0,s._)("span",{class:"tw-text-white"},"Save",-1),Tb=[Eb];function Fb(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",fb,[(0,s._)("div",bb,[(0,s._)("div",vb,[xb,(0,s.Wm)(ut.hw,{error:!l.formStatus.size.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[1]||(e[1]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",yb,(0,wt.zw)(l.formStatus.size.message),1)]),(0,s._)("div",_b,[kb,(0,s.Wm)(ut.hw,{error:!l.formStatus.color.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[3]||(e[3]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Cb,(0,wt.zw)(l.formStatus.color.message),1)]),(0,s._)("div",Db,[Sb,(0,s.Wm)(ut.hw,{onChange:o.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[5]||(e[5]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",zb,(0,wt.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",Ub,[qb,(0,s.Wm)(ut.hw,{onChange:o.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[6]||(e[6]=t=>o.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[7]||(e[7]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Pb,(0,wt.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Lb,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},Ab),(0,s._)("button",{disabled:!l.quantity,class:(0,wt.C_)([{"tw-bg-orange-500":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[9]||(e[9]=(...t)=>o.updateVariant&&o.updateVariant(...t))},Tb,10,$b)])])])}var jb={props:["variant"],data(){return{size:"",color:"",quantity:0,stockAlert:0,newVariant:null,formStatus:{quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""}}}},methods:{updateVariant(){console.log("updated");const t=this.quantity-this.newVariant.quantity;this.newVariant.size=this.size?this.size.toLocaleUpperCase():"",this.newVariant.color=this.color?this.color.toLocaleUpperCase():"",this.newVariant.quantity=this.quantity,this.newVariant.stockAlert=this.stockAlert,this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(t),this.cancel()},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},cancel(){this.$emit("cancel")},resetError(t){this.formStatus[t]={valid:!0,message:""}}},mounted(){this.size=this.variant.size,this.color=this.variant.color,this.quantity=this.variant.quantity,this.stockAlert=this.variant.stockAlert,this.newVariant=this.variant}};const Ib=(0,m.Z)(jb,[["render",Fb]]);var Vb=Ib,Ob={components:{UpdateProductVariant:Vb},props:["variant"],data(){return{visible:!1,deletePopup:!1}},methods:{cancel(){this.visible=!1},update(t){console.log("from actions: ",t)},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}}};const Hb=(0,m.Z)(Ob,[["render",hb]]);var Mb=Hb;class Rb{async create(t){return await E.getCookie(),A.post("api/warehouses/new",{name:t.name})}async update(t,e){return await E.getCookie(),A.post("api/warehouses/update/"+t,{name:e.name})}async all(){return await E.getCookie(),A.get("api/warehouses")}async getWarehouse(t){return await E.getCookie(),A.get("api/warehouses/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/warehouses/delete/"+t)}}var Nb=new Rb;const Yb=(0,s._)("h1",{class:"tw-font-medium"},"Offers",-1),Zb={class:"tw-grid tw-grid-cols-12 tw-mb-5 tw-mt-3 tw-gap-3"},Kb={class:"md:tw-col-span-3 tw-col-span-12"},Bb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Qb={class:"md:tw-col-span-3 tw-col-span-12"},Jb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),Gb={class:"md:tw-col-span-5 tw-col-span-12"},Xb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),tv={class:"md:tw-col-span-1 tw-col-span-12"},ev=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-transparent"},"Note",-1),rv={class:"tw-mt-2"},av={class:"tw-relative tw-overflow-x-auto tw-shadow sm:tw-rounded"},sv={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},lv=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-24"},"Action")])],-1),ov={class:"tw-px-6 tw-py-4"},iv={class:"tw-px-6 tw-py-4"},wv={class:"tw-px-6 tw-py-4"},nv={class:"tw-max-w-[250px] tw-text-sm"},dv={class:"tw-px-6 tw-py-4"},cv={key:0},uv=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),pv=[uv];function gv(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[Yb,(0,s._)("div",Zb,[(0,s._)("div",Kb,[Bb,(0,s.Wm)(ut.hw,{type:"number","hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[0]||(e[0]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Qb,[Jb,(0,s.Wm)(ut.hw,{type:"number","hide-details":!0,modelValue:l.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Gb,[Xb,(0,s.Wm)(ut.hw,{type:"text","hide-details":!0,modelValue:l.note,"onUpdate:modelValue":e[2]||(e[2]=t=>l.note=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",tv,[ev,(0,s.Wm)(nt.T,{onClick:o.handleAdd,class:"mx-auto !tw-px-0 !tw-py-0","min-height":"40px","min-width":"40",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])]),(0,s._)("div",rv,[(0,s._)("div",av,[(0,s._)("table",sv,[lv,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",ov,(0,wt.zw)(t.quantity),1),(0,s._)("td",iv,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",wv,[(0,s._)("p",nv,(0,wt.zw)(t.note),1)]),(0,s._)("td",dv,[(0,s.Wm)(nt.T,{onClick:e=>o.handleDeleteClicked(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==r.offers.length?((0,s.wg)(),(0,s.iD)("tr",cv,pv)):(0,s.kq)("",!0)])])])]),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this offer?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"])])}var mv={props:["offers"],data(){return{currency:c,deletePopup:!1,toDeleteID:null,quantity:1,price:0,note:""}},methods:{handleDeleteClicked(t){this.toDeleteID=t,this.deletePopup=!0},handleDelete(t){if(this.deletePopup=!1,!t)return!1;this.$emit("update:offers",this.offers.filter((t=>t.id!=this.toDeleteID)))},handleAdd(){const t=this.offers.length>0?this.offers[this.offers.length-1].id:0,e=t+1,r={id:e,quantity:this.quantity,price:this.price,note:this.note};this.$emit("update:offers",[...this.offers,r]),this.quantity=1,this.price=0,this.note=""}}};const hv=(0,m.Z)(mv,[["render",gv]]);var fv=hv,bv={components:{VariantActions:Mb,ProductOffers:fv},data(){return{currency:c,isLoading:!1,isLoaded:!1,addVariants:!1,variantId:1,variants:[],image:"",imageFile:null,color:"",size:"",quantity:0,warehouse:0,stockAlert:0,offers:[],product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},reference:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},warehouse:{valid:!0,message:""},variants:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;if(t.addVariants=this.addVariants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t}))),this.addVariants)t.variants=this.variants;else{const e=[{id:this.variantId,color:null,size:null,quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert}];t.variants=e}ha.create(t).then((t=>{"PRODUCT_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.product={name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},this.offers=[],this.selectedDeliveries=[],this.variants=[],this.$store.dispatch("product/addProduct",t.data.data.product)),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.product.name,"Product name"),this.formStatus.reference=$t(this.product.reference,"Reference"),this.formStatus.buyingPrice=$t(this.product.buyingPrice,"Buying price"),this.formStatus.link_store=$t(this.product.link_store,"Link store"),this.formStatus.link_video=$t(this.product.link_video,"Link video"),this.formStatus.transport_mode=$t(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=$t(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=$t(this.product.country_of_purchase,"Country of purchase"),this.formStatus.quantity=$t(this.quantity,"Quantity"),this.formStatus.sellingPrice=$t(this.product.sellingPrice,"Selling price"),this.formStatus.description=$t(this.product.description,"Description"),this.formStatus.variants=Ft(this.variants),this.addVariants||"admin"!=this.user.role||(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"}),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.reference.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&(!this.addVariants||this.formStatus.variants.valid)&&(!!this.addVariants||this.formStatus.quantity.valid)&&(!!this.addVariants||this.formStatus.warehouse.valid)},addVariant(){if("admin"==this.user.role&&(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"},!this.formStatus.warehouse.valid))return!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.stockAlert=0,this.color="",this.size="",this.quantity=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return this.isLoaded=!1,Nb.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getWarhouses();const t=this.deliveries[1];t&&(this.selectedDeliveries=[t.id])}};const vv=(0,m.Z)(bv,[["render",mb]]);var xv=vv;const yv=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update product informations")],-1),_v={key:0},kv={key:1},Cv={key:0,class:"tw-flex py-3 px-5 tw-border tw-justify-between bg-white tw-w-full tw-rounded-md tw-text-neutral-800 tw-items-center tw-mb-5"},Dv={class:"tw-flex tw-items-center"},Sv={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},zv={class:"tw-w-full tw-flex tw-items-center"},Uv=(0,s._)("div",{class:"text-body-2 tw-text-zinc-700"},"Status Approval :",-1),qv={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Pv=["disabled"],Lv=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Wv={class:"mb-5 px-3"},Av=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),$v={class:"tw-w-full"},Ev=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),Tv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Fv={class:"tw-w-full"},jv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),Iv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vv={class:"tw-w-full"},Ov={class:"mb-1 text-body-2 tw-text-zinc-700"},Hv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Mv={class:"mb-1 text-body-2 tw-text-zinc-700"},Rv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Nv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),Yv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zv={key:0,class:"tw-h-fit tw-mb-"},Kv=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Bv={class:"tw-relative"},Qv=(0,s._)("option",{value:0},"Select",-1),Jv=["value"],Gv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xv={key:0,class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},tx={class:"md:tw-col-span-3 tw-col-span-12"},ex=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),rx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ax={class:"md:tw-col-span-3 tw-col-span-12"},sx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),lx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ox={class:"md:tw-col-span-3 tw-col-span-12"},ix=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),wx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},nx={class:"md:tw-col-span-3 tw-col-span-12"},dx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),cx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ux={key:1},px={class:"tw-col-span-12 tw-flex tw-justify-end"},gx=["disabled"],mx=(0,s._)("span",{class:"tw-text-white"},"Add",-1),hx={class:""},fx={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},bx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),vx={class:"mb-1 text-body-2 tw-text-zinc-700"},xx={key:1,class:"tw-max-w-full tw-overflow-x-auto"},yx={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},_x={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},kx={key:0,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},Cx=(0,s._)("div",{class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"}," warehouse ",-1),Dx=[Cx],Sx={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},zx={key:0,class:"tw-px-6 tw-py-2 tw-capitalize"},Ux={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},qx={class:"tw-px-6 tw-py-2"},Px={class:"tw-px-6 tw-py-2"},Lx={class:"tw-flex tw-flex-col"},Wx={key:0,class:"tw-text-xs tw-text-green-500"},Ax={class:"tw-px-6 tw-py-2"},$x={key:1,class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},Ex=(0,s._)("h1",null,"Image",-1),Tx={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},Fx={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},jx={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},Ix={class:"tw-w-max tw-relative"},Vx=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),Ox={class:"md:tw-col-span-6 tw-col-span-12"},Hx={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},Mx=["src"],Rx=(0,s._)("span",null,"No image available",-1),Nx=[Rx],Yx={class:"mb-5"},Zx=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),Kx={class:"tw-w-full"},Bx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Qx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jx={class:"tw-w-full"},Gx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Xx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ty={class:"tw-w-full"},ey=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),ry={class:"tw-relative"},ay=["error"],sy=(0,s._)("option",{value:""},"Select",-1),ly=(0,s._)("option",{value:"Sea"},"Sea",-1),oy=(0,s._)("option",{value:"Air"},"Air",-1),iy=[sy,ly,oy],wy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ny={class:"tw-w-full"},dy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),cy={class:"tw-relative"},uy=["error"],py=(0,s._)("option",{value:""},"Select",-1),gy=(0,s._)("option",{value:"China"},"China",-1),my=(0,s._)("option",{value:"Dubai"},"Dubai",-1),hy=(0,s._)("option",{value:"Turky"},"Turky",-1),fy=[py,gy,my,hy],by={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},vy={class:"tw-w-full"},xy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),yy={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},_y={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ky={class:"mb-5"},Cy=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),Dy={class:"mb-5"},Sy=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),zy=(0,s._)("h1",null,"Deliveries",-1),Uy={class:"tw-mt-2"},qy={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Py=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Ly=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Wy(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UpdateVariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[yv,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_v,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",kv,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("div",Cv,[(0,s._)("div",Dv,[(0,s.Uk)(" Product ID: "),(0,s._)("span",Sv,(0,wt.zw)(i.id),1)]),(0,s._)("div",null,[(0,s._)("div",zv,[Uv,(0,s._)("label",qv,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingStatus,"onUpdate:modelValue":e[0]||(e[0]=t=>o.status=t),onChange:e[1]||(e[1]=(...t)=>i.updateApprouved&&i.updateApprouved(...t)),type:"checkbox",class:"tw-sr-only tw-peer"},null,40,Pv),[[a.e8,o.status]]),Lv]),o.isLoadingStatus?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("div",Wv,[Av,(0,s.Wm)(Ea.o,{class:"py-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$v,[Ev,(0,s.Wm)(ut.hw,{error:!o.formStatus.name.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Tv,(0,wt.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Fv,[jv,(0,s.Wm)(ut.hw,{error:!o.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("quantity")),disabled:"","hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Iv,(0,wt.zw)(o.formStatus.quantity.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Vv,[(0,s._)("div",Ov," Buying Price ("+(0,wt.zw)(o.currency)+") ",1),(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Hv,(0,wt.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Mv," Selling Price ("+(0,wt.zw)(o.currency)+") ",1),(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Rv,(0,wt.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Nv,(0,s.Wm)(wh.z,{error:!o.formStatus.description.valid,onKeyup:e[10]||(e[10]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[11]||(e[11]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",Yv,(0,wt.zw)(o.formStatus.description.message),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"12",class:"tw-border-t tw-border-t-neutral-300 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Zv,[Kv,(0,s._)("div",Bv,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.warehouse=t),onChange:e[13]||(e[13]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Qv,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,Jv)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Gv,(0,wt.zw)(o.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),(0,s._)("div",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Xv,[(0,s._)("div",tx,[ex,(0,s.Wm)(ut.hw,{error:!o.formStatus.size.valid,onKeyup:e[14]||(e[14]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[15]||(e[15]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rx,(0,wt.zw)(o.formStatus.size.message),1)]),(0,s._)("div",ax,[sx,(0,s.Wm)(ut.hw,{error:!o.formStatus.color.valid,onKeyup:e[16]||(e[16]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[17]||(e[17]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",lx,(0,wt.zw)(o.formStatus.color.message),1)]),(0,s._)("div",ox,[ix,(0,s.Wm)(ut.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[18]||(e[18]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[19]||(e[19]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",wx,(0,wt.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",nx,[dx,(0,s.Wm)(ut.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[20]||(e[20]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[21]||(e[21]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",cx,(0,wt.zw)(o.formStatus.stockAlert.message),1)])])):(0,s.kq)("",!0),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",ux,[(0,s._)("div",px,[(0,s._)("button",{disabled:!o.quantity,class:(0,wt.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[22]||(e[22]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),mx],10,gx)])])):(0,s.kq)("",!0),(0,s._)("div",hx,[(0,s._)("div",fx,[bx,(0,s._)("div",vx," Quantity Total: "+(0,wt.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,wt.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",xx,[(0,s._)("table",yx,[(0,s._)("thead",_x,[(0,s._)("tr",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("th",kx,Dx)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","Stock Alert","admin"==i.user.role?"actions":""],(t=>((0,s.wg)(),(0,s.iD)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Sx,(0,wt.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",zx,(0,wt.zw)(t.warehouse.name),1)):(0,s.kq)("",!0),(0,s._)("td",Ux,(0,wt.zw)(t.size),1),(0,s._)("td",qx,(0,wt.zw)(t.color),1),(0,s._)("td",Px,[(0,s._)("div",Lx,[(0,s._)("span",null,(0,wt.zw)(t.quantity),1),t.created_at?((0,s.wg)(),(0,s.iD)("span",Wx,(0,wt.zw)(t.available_quantity),1)):(0,s.kq)("",!0)])]),(0,s._)("td",Ax,(0,wt.zw)(t.stockAlert),1),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",$x,[(0,s._)("div",null,[(0,s.Wm)(n,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])):(0,s.kq)("",!0)])))),128))])])]))])])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Ex,(0,s._)("div",Tx,[(0,s._)("div",Fx,[(0,s._)("label",jx,[(0,s._)("div",Ix,[(0,s.Wm)(ct.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),Vx]),(0,s._)("input",{onChange:e[23]||(e[23]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",Ox,[(0,s._)("div",Hx,[(0,s._)("img",{class:(0,wt.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",src:o.serverUrl+"storage/"+o.image,id:"image-preview",alt:"Image Preview"},null,10,Mx),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},Nx,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",Yx,[Zx,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Kx,[Bx,(0,s.Wm)(ut.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[24]||(e[24]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[25]||(e[25]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Qx,(0,wt.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Jx,[Gx,(0,s.Wm)(ut.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[26]||(e[26]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[27]||(e[27]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Xx,(0,wt.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ty,[ey,(0,s._)("div",ry,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.transport_mode.valid,onKeyup:e[28]||(e[28]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[29]||(e[29]=t=>o.product.transport_mode=t)},iy,40,ay),[[a.bM,o.product.transport_mode]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",wy,(0,wt.zw)(o.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ny,[dy,(0,s._)("div",cy,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.country_of_purchase.valid,onKeyup:e[30]||(e[30]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[31]||(e[31]=t=>o.product.country_of_purchase=t)},fy,40,uy),[[a.bM,o.product.country_of_purchase]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",by,(0,wt.zw)(o.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vy,[xy,(0,s._)("div",yy,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[32]||(e[32]=t=>o.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,o.product.expedition_date]])]),(0,s._)("div",_y,(0,wt.zw)(o.formStatus.expedition_date.message),1)])])),_:1})])),_:1})]),(0,s._)("div",ky,[Cy,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[33]||(e[33]=t=>o.offers=t)},null,8,["offers"])])])),_:1})])),_:1})])]),(0,s._)("div",Dy,[Sy,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[zy,(0,s._)("div",Uy,[(0,s.Wm)(oh.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[34]||(e[34]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",qy,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Py])),_:1}),(0,s.Wm)(nt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Ly])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}const Ay={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},$y={class:"tw-w-full"},Ey=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Add quantity",-1),Ty={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end tw-mt-3"},Fy=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),jy=[Fy],Iy=["disabled"],Vy=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Oy=[Vy];function Hy(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("UpdateProductVariant"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[r.variant.created_at?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.visibleAdd=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1})):(0,s.kq)("",!0),void 0===r.variant.on_hold||r.variant.available_quantity==r.variant.quantity?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(n,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"]),(0,s.Wm)(n,{visible:l.visibleAdd,onCancel:o.cancelAdd},{default:(0,s.w5)((()=>[(0,s._)("div",Ay,[(0,s._)("div",$y,[Ey,(0,s.Wm)(ut.hw,{"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>l.quantity=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Ty,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.cancelAdd&&o.cancelAdd(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},jy),(0,s._)("button",{disabled:!l.quantity||0==l.quantity,class:(0,wt.C_)([{"!tw-bg-green-500":0!=l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[5]||(e[5]=(...t)=>o.addQuantity&&o.addQuantity(...t))},Oy,10,Iy)])])])),_:1},8,["visible","onCancel"])])}var My={components:{UpdateProductVariant:Vb},props:["variant"],data(){return{visible:!1,visibleAdd:!1,deletePopup:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1},cancelAdd(){this.visibleAdd=!1},update(t){console.log("from actions: ",t)},addQuantity(){this.newVariant.quantity=parseInt(this.newVariant.quantity)+parseInt(this.quantity),this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(this.quantity),this.quantity=1,this.cancelAdd()},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}},mounted(){this.newVariant=this.variant}};const Ry=(0,m.Z)(My,[["render",Hy]]);var Ny=Ry,Yy={components:{UpdateVariantActions:Ny,ProductOffers:fv},data(){return{currency:c,serverUrl:n,isLoading:!1,isLoaded:!1,variantId:1,variants:[],color:"",size:"",quantity:0,stockAlert:0,image:"",imageFile:null,offers:[],isLoadingStatus:!1,status:!1,note:null,warehouse:0,product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},variants:{valid:!0,message:""},warehouse:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},id(){return this.$route.params.id},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;t.variants=this.variants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t,product_id:this.id}))),ha.update(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message}),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},updateApprouved(){this.isLoadingStatus=!0;const t={status:!!this.status,note:this.note};ha.updateStatus(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("product/setProduct",t.data.data.product),this.$emit("cancel")),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingStatus=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},getLastVariantId(t){return Math.max(...t.map((t=>t.id)))+1},validate(){return this.formStatus.name=$t(this.product.name,"Product name"),this.formStatus.buyingPrice=$t(this.product.buyingPrice,"Buying price"),this.formStatus.sellingPrice=$t(this.product.sellingPrice,"Selling price"),this.formStatus.link_store=$t(this.product.link_store,"Link store"),this.formStatus.link_video=$t(this.product.link_video,"Link video"),this.formStatus.transport_mode=$t(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=$t(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=$t(this.product.country_of_purchase,"Country of purchase"),this.formStatus.description=$t(this.product.description,"Description"),this.formStatus.variants=Ft(this.variants),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.sellingPrice&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.description.valid&&this.formStatus.variants.valid},addVariant(){if(0==this.warehouse)return this.$alert({type:"warning",title:"Select warehouse"}),!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,warehouse:this.warehouses.find((t=>t.id==this.warehouse)),stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.color="",this.size="",this.quantity=0,this.stockAlert=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.quantity<=0&&(this.quantity=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return Nb.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),t)),this.$handleApiError)},getProduct(){return ha.getProduct(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{variations:e,buying_price:r,selling_price:a,ref:s,link_video:l,link_store:o,expedition_date:i,transport_mode:w,country_of_purchase:n,name:d,description:c,deliveries:u,image:p,offers:g,status:m}=t.data.data.products;return this.variants=e,this.product.buyingPrice=r,this.product.sellingPrice=a,this.product.name=d,this.product.reference=s,this.product.link_video=l,this.product.link_store=o,this.product.expedition_date=i?i.split(" ")[0]:null,this.product.transport_mode=w,this.product.country_of_purchase=n,this.product.description=c,this.image=p,this.offers=g,this.status=Boolean(m),this.variantId=this.getLastVariantId(e),this.selectedDeliveries=u.map((t=>t.delivery_id)),this.isLoaded=!0,t}}),this.$handleApiError)},getData(){this.isLoaded=!1,Promise.allSettled([this.getWarhouses(),this.getProduct()]).then((t=>{t.every((t=>"fulfilled"==t.status))&&(this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getData()}};const Zy=(0,m.Z)(Yy,[["render",Wy]]);var Ky=Zy;const By={class:"tw-pb-14"},Qy=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Show product informations")],-1),Jy={key:0},Gy={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Xy={class:"tw-grid tw-grid-cols-12 tw-gap-2"},t_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},e_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Name:",-1),r_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},a_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},s_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Reference:",-1),l_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},o_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},i_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Buying Price:",-1),w_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},n_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},d_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Selling Price:",-1),c_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},u_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},p_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Delivered:",-1),g_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},m_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},h_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Sent:",-1),f_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},b_={class:"tw-col-span-12 md:tw-col-span-12 tw-flex tw-gap-2 tw-flex-col tw-flex-wrap"},v_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Description:",-1),x_={class:"tw-text-neutral-800 tw-font-medium"},y_={key:2,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},__={key:3,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},k_={class:"tw-grid tw-grid-cols-12 tw-gap-2"},C_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},D_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Store Link:",-1),S_=["href"],z_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},U_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Video Link:",-1),q_=["href"],P_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},L_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Expidition Date:",-1),W_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},A_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},$_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Transport Mode:",-1),E_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},T_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},F_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Country Of Purchase:",-1),j_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},I_={key:4,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},V_={key:5,class:"tw-border bg-white tw-w-full tw-rounded-md"},O_={key:6,class:"tw-text-neutral-700 tw-font-bold tw-mt-5 tw-mb-1"},H_={key:7,class:"tw-overflow-hidden tw-border bg-white tw-w-full tw-rounded-md"},M_={class:"tw-max-w-full tw-overflow-auto"},R_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},N_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Y_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Z_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},K_={key:0},B_={key:1},Q_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},J_={class:"tw-px-6 tw-py-2"},G_={class:"tw-px-6 tw-py-2"},X_={class:"tw-flex tw-flex-col"},tk={class:"tw-px-6 tw-py-2"},ek={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},rk=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),ak=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),sk=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1),lk={class:"tw-px-6 tw-py-2"},ok={class:"tw-flex tw-flex-col tw-font-medium"},ik=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1);function wk(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ProductTracking");return(0,s.wg)(),(0,s.iD)("div",By,[Qy,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Jy,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Gy,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",Xy,[(0,s._)("div",t_,[e_,(0,s._)("p",r_,(0,wt.zw)(l.product.name),1)]),(0,s._)("div",a_,[s_,(0,s._)("p",l_,(0,wt.zw)(l.product.ref),1)]),(0,s._)("div",o_,[i_,(0,s._)("p",w_,(0,wt.zw)(l.product.buying_price)+" "+(0,wt.zw)(l.currency),1)]),(0,s._)("div",n_,[d_,(0,s._)("p",c_,(0,wt.zw)(l.product.selling_price)+" "+(0,wt.zw)(l.currency),1)]),(0,s._)("div",u_,[p_,(0,s._)("p",g_,(0,wt.zw)(o.qtyTotalDelivered),1)]),(0,s._)("div",m_,[h_,(0,s._)("p",f_,(0,wt.zw)(o.qtyTotalSent),1)]),(0,s._)("div",b_,[v_,(0,s._)("p",x_,(0,wt.zw)(l.product.description),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",y_,"Expidition Infos")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",__,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",k_,[(0,s._)("div",C_,[D_,(0,s._)("a",{target:"_blank",href:l.product.link_store,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,wt.zw)(l.product.link_store),9,S_)]),(0,s._)("div",z_,[U_,(0,s._)("a",{target:"_blank",href:l.product.link_video,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,wt.zw)(l.product.link_video),9,q_)]),(0,s._)("div",P_,[L_,(0,s._)("p",W_,(0,wt.zw)(l.product.expedition_date.split(" ")[0]),1)]),(0,s._)("div",A_,[$_,(0,s._)("p",E_,(0,wt.zw)(l.product.transport_mode),1)]),(0,s._)("div",T_,[F_,(0,s._)("p",j_,(0,wt.zw)(l.product.country_of_purchase),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",I_,"Tracking")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",V_,[(0,s.Wm)(w,{product:l.product},null,8,["product"])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",O_,"Variations")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",H_,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",M_,[(0,s._)("table",R_,[(0,s._)("thead",N_,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","size","color","qty","Stock Alert"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Y_,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",Z_,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",K_,(0,wt.zw)(t.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",B_,(0,wt.zw)(e+1),1)):(0,s.kq)("",!0)]),(0,s._)("th",Q_,(0,wt.zw)(t.size),1),(0,s._)("td",J_,(0,wt.zw)(t.color),1),(0,s._)("td",G_,[(0,s._)("div",X_,[(0,s._)("span",null,"Initial: "+(0,wt.zw)(t.quantity),1)])]),(0,s._)("td",tk,(0,wt.zw)(t.stockAlert),1)])))),128)),(0,s._)("tr",ek,[rk,ak,sk,(0,s._)("td",lk,[(0,s._)("div",ok,[(0,s._)("span",null,"Total: "+(0,wt.zw)(o.qtyTotal),1)])]),ik])])])])])])])):(0,s.kq)("",!0)])}const nk={class:"tw-flex tw-items-ce tw-gap-1 tw-border-b tw-border-solid tw-border-neutral-200"},dk=["onClick"];function ck(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingTable");return(0,s.wg)(),(0,s.j4)(Ss._,{flat:"",class:"tw-p-1"},{default:(0,s.w5)((()=>[(0,s._)("div",nk,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,onClick:e=>l.tab=t.id,class:(0,wt.C_)(["tw-px-4 tw-py-2 tw-rounded-t hover:tw-border-orange-500/50 tw-duration-300 tw-border tw-border-solid tw-border-neutral-200 tw-text-neutral-500 tw-border-b-0",{"tw-bg-orange-500 !tw-text-white tw-border-transparent":t.id==l.tab}])},(0,wt.zw)(t.name),11,dk)))),128))]),(0,s.kq)("",!0),(0,s.Wm)(qs.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Ps.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{product:r.product,source:t.source},null,8,["product","source"])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const uk={class:"tw-mt-5"},pk={class:"tw-max-w-full tw-overflow-auto"},gk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},mk={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},hk={key:0},fk={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},bk={key:1},vk={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"};function xk(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingRow");return(0,s.wg)(),(0,s.iD)("div",uk,[(0,s._)("div",pk,[(0,s._)("table",gk,[(0,s._)("thead",mk,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",hk,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","name","quantity","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",fk,(0,wt.zw)(t),1)],2))),64))])):(0,s.kq)("",!0),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",bk,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","quantity","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",vk,(0,wt.zw)(t),1)],2))),64))])):(0,s.kq)("",!0)]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{item:t,index:e+1,key:t.id,source:r.source},null,8,["item","index","source"])))),128))])])])])}const yk={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},_k={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},kk={class:"tw-flex tw-items-start tw-h-full"},Ck={key:0},Dk={key:1},Sk={key:0,scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},zk={class:"tw-px-6 tw-py-2"},Uk={key:0},qk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Pk={key:0,class:"tw-h-fit tw-py-2"},Lk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Wk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Ak=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),$k={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Ek=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Tk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Fk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),jk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Ik={key:1},Vk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Ok={key:0,class:"tw-h-fit tw-py-2"},Hk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Mk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Rk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),Nk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Yk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Zk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Kk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Bk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Qk={class:"tw-px-6 tw-py-2 tw-space-x-3"};function Jk(t,e,r,a,l,o){const i=(0,s.up)("ShowProductVariantActions");return(0,s.wg)(),(0,s.iD)("tr",yk,[(0,s._)("th",_k,[(0,s._)("div",kk,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",Ck,(0,wt.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",Dk,(0,wt.zw)(r.index),1)):(0,s.kq)("",!0)])]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("th",Sk,(0,wt.zw)(r.item.name),1)):(0,s.kq)("",!0),(0,s._)("td",zk,["warehouses"==r.source?((0,s.wg)(),(0,s.iD)("div",Uk,[(0,s._)("div",qk,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,wt.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Vt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",Pk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Lk,(0,s._)("td",Wk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[Ak,(0,s._)("td",$k,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[Ek,(0,s._)("td",Tk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Fk,(0,s._)("td",jk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0),"deliveries"==r.source?((0,s.wg)(),(0,s.iD)("div",Ik,[(0,s._)("div",Vk,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,wt.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Vt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",Ok,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Hk,(0,s._)("td",Mk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[Rk,(0,s._)("td",Nk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[Yk,(0,s._)("td",Zk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Kk,(0,s._)("td",Bk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("td",Qk,[(0,s._)("div",null,[(0,s.Wm)(i,{type:r.source,source:r.item},null,8,["type","source"])])])])}function Gk(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetails");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue-lighten-2",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})])),_:1}),(0,s.Wm)(i,{visible:l.visible,onCancel:o.cancel,type:r.type,source:r.source},null,8,["visible","onCancel","type","source"])])}const Xk={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},tC={class:"tw-p-5"},eC={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},rC=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},"SIZE"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"},"COLOR"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1);function aC(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetailsRow"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Xk,[(0,s.Wm)(nt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",tC,[(0,s._)("table",eC,[rC,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.source.product_variations,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{index:e,key:t.id,item:t,type:r.type},null,8,["index","item","type"])))),128))])]),(0,s.kq)("",!0)])])])),_:1},8,["visible","onCancel"])])}const sC={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},lC={class:"tw-w-4 tw-px-2 tw-py-1"},oC={key:0},iC={key:1},wC={class:"tw-w-4 tw-px-2 tw-py-1"},nC={class:"tw-w-4 tw-px-2 tw-py-1"},dC={class:"tw-w-4 tw-px-2 tw-py-1"},cC={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},uC={key:0,class:"tw-h-fit tw-py-2"},pC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),gC={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},mC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),hC={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},fC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),bC={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},vC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),xC={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"};function yC(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",sC,[(0,s._)("td",lC,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",oC,(0,wt.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",iC,(0,wt.zw)(r.index+1),1)):(0,s.kq)("",!0)]),(0,s._)("td",wC,(0,wt.zw)(r.item.size),1),(0,s._)("td",nC,(0,wt.zw)(r.item.color),1),(0,s._)("td",dC,[(0,s._)("div",null,[(0,s._)("div",cC,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null," Total: "+(0,wt.zw)(r.item.on_hand_quantity),1),(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Vt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",uC,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[pC,(0,s._)("td",gC,(0,wt.zw)(r.item.movements_total_confirmed_quantity),1)]),(0,s._)("tr",null,[mC,(0,s._)("td",hC,(0,wt.zw)(r.item.movements_total_not_confirmed_quantity),1)]),(0,s._)("tr",null,[fC,(0,s._)("td",bC,(0,wt.zw)(r.item.total_shipped_quantity),1)]),(0,s._)("tr",null,[vC,(0,s._)("td",xC,(0,wt.zw)(r.item.total_delivered_quantity),1)])])])])):(0,s.kq)("",!0)])),_:1})])])])}var _C={props:["type","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}}};const kC=(0,m.Z)(_C,[["render",yC]]);var CC=kC,DC={props:["visible","source","type"],components:{ProductVariantDetailsRow:CC},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const SC=(0,m.Z)(DC,[["render",aC]]);var zC=SC,UC={props:["product","source","type"],components:{ProductVariantDetails:zC},data(){return{visible:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1}},mounted(){console.log(this.source)}};const qC=(0,m.Z)(UC,[["render",Gk]]);var PC=qC,LC={components:{ShowProductVariantActions:PC},props:["source","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{get_total_quantity(t,e="on_hand_quantity"){let r=0;return t.forEach((t=>{r+=t[e]})),r}}};const WC=(0,m.Z)(LC,[["render",Jk]]);var AC=WC,$C={props:["product","source"],components:{ProductTrackingRow:AC},computed:{user(){return this.$store.getters["user/user"]},items(){return this.product.tracking[this.source]}},methods:{},mounted(){}};const EC=(0,m.Z)($C,[["render",xk]]);var TC=EC,FC={components:{ProductTrackingTable:TC},props:["product"],data(){return{tab:1,tabs:[{id:1,name:"Deliveries",source:"deliveries"},{id:2,name:"Warehouses",source:"warehouses"}]}}};const jC=(0,m.Z)(FC,[["render",ck]]);var IC=jC,VC={components:{ProductTracking:IC},data(){return{currency:c,isLoading:!1,isLoaded:!1,variantId:1,variants:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""}}},computed:{user(){return this.$store.getters["user/user"]},qtyTotalDelivered(){let t=0;return this.product.tracking.deliveries.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),t},qtyTotalSent(){let t=0;return this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.movements_total_confirmed_quantity,t+=e.movements_total_not_confirmed_quantity}))})),t},qtyTotal(){if(this.isLoaded){let t=0;return this.product.variations.forEach((e=>{t+=e.quantity})),t}return 0}},methods:{getProduct(){const t=this.$route.params.id;ha.getProduct(t).then((t=>{"SUCCESS"==t.data.code&&(this.product=t.data.data.products,this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getProduct()}};const OC=(0,m.Z)(VC,[["render",wk]]);var HC=OC;class MC{async paginate(t="",e){return await E.getCookie(),A.post("api/supply-requests"+t,e)}async create(t){return await E.getCookie(),A.post("api/supply-requests/new",t)}async update(t,e){return await E.getCookie(),A.post("api/supply-requests/"+t,e)}async delete(t){return await E.getCookie(),A["delete"]("api/supply-requests/"+t)}}var RC=new MC;const NC={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},YC=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),ZC={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},KC=["disabled"],BC=["disabled"];var QC={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=(0,ke.iH)(!1),l=t,o=(0,i.oR)(),w=async()=>{a.value=!0,await RC["delete"](l.item.id).then((t=>{"SUCCESS"==t.data.code&&(o.dispatch("supply-request/deleteSupplyRequest",l.item.id),Tc("Deleted Successfully"),n())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),Tc(e,"error"),n()})),a.value=!1},n=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:l.visible,onCancel:n,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",NC,[YC,(0,s._)("div",ZC,[(0,s._)("button",{onClick:n,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,KC),(0,s._)("button",{onClick:w,disabled:a.value,type:"button",class:(0,wt.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,wt.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,BC)])])])),_:1},8,["visible","closeable"])])}}};const JC=QC;var GC=JC;const XC=[{name:"Pending",value:"pending",style:"tw-text-yellow-600 tw-bg-yellow-100",text:"tw-text-yellow-600"},{name:"Accepted",value:"accepted",style:"tw-text-emerald-600 tw-bg-emerald-100",text:"tw-text-emerald-600"},{name:"Refused",value:"refused",style:"tw-text-red-600 tw-bg-red-100",text:"tw-text-red-600"}],tD={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},eD={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},rD=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),aD={class:"tw-p-5 tw-space-y-4"},sD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),lD={class:"tw-font-semibold tw-mt-1"},oD={class:"tw-flex tw-items-center"},iD={key:0,class:"tw-flex-1"},wD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),nD={class:"tw-font-semibold tw-mt-1"},dD={class:"tw-text-blue-500"},cD={class:"tw-text-green-500"},uD={class:"tw-flex-1"},pD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),gD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),mD={class:"tw-font-semibold tw-mt-1"},hD={key:0},fD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),bD={class:"tw-font-semibold tw-mt-1"};var vD={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=t,l=(0,ke.Vh)(a,"item"),o=(0,s.Fl)((()=>XC.find((t=>t.value==l.value.status)))),i=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:a.visible,onCancel:i},{default:(0,s.w5)((()=>[(0,s._)("div",tD,[(0,s._)("div",eD,[rD,(0,s._)("div",aD,[(0,s._)("div",null,[sD,(0,s._)("p",lD,(0,wt.zw)(l.value.product.name),1)]),(0,s._)("div",oD,[l.value.product_variation.color||l.value.product_variation.size?((0,s.wg)(),(0,s.iD)("div",iD,[wD,(0,s._)("p",nD,[(0,s._)("span",dD,(0,wt.zw)(l.value.product_variation.color),1),(0,s.Uk)(),(0,s._)("span",cD,(0,wt.zw)(l.value.product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",uD,[pD,(0,s._)("p",{class:(0,wt.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[o.value.style]])},(0,wt.zw)(o.value.name),3)])]),(0,s._)("div",null,[gD,(0,s._)("p",mD,(0,wt.zw)(l.value.note),1)]),l.value.admin_note?((0,s.wg)(),(0,s.iD)("div",hD,[fD,(0,s._)("p",bD,(0,wt.zw)(l.value.admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:i,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const xD=vD;var yD=xD;const _D={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var kD={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,ke.qj)({delete:!1,show:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",_D,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,ke.SU)(yD),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[1]||(a[1]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,ke.SU)(GC),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[3]||(a[3]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const CD=kD;var DD=CD;const SD={class:"tw-px-4 tw-py-2"},zD={class:"tw-px-4 tw-py-2 tw-truncate"},UD={class:"tw-max-w-[200px] tw-truncate"},qD={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},PD={class:"tw-text-blue-500"},LD={class:"tw-text-green-500"},WD={class:"tw-px-4 tw-py-2 tw-truncate"},AD={class:"tw-max-w-[200px] tw-truncate"},$D={class:"tw-px-4 tw-py-2 tw-truncate"},ED={class:"tw-px-4 tw-py-2"},TD={class:"tw-text-sm tw-whitespace-nowrap"};var FD={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,ke.Vh)(e,"item"),a=(0,s.Fl)((()=>XC.find((t=>t.value==r.value.status))));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",SD,(0,wt.zw)(r.value.id),1),(0,s._)("td",zD,[(0,s._)("p",UD,(0,wt.zw)(r.value.product.name),1)]),(0,s._)("td",qD,[(0,s._)("p",null,[(0,s._)("span",PD,(0,wt.zw)(r.value.product_variation.color),1),(0,s.Uk)(),(0,s._)("span",LD,(0,wt.zw)(r.value.product_variation.size),1)])]),(0,s._)("td",WD,[(0,s._)("p",AD,(0,wt.zw)(r.value.quantity),1)]),(0,s._)("td",$D,[(0,s._)("p",{class:(0,wt.C_)(["tw-max-w-[200px] tw-w-fit tw-truncate tw-px-2 tw-py-1 tw-rounded tw-font-semibold tw-text-xs tw-uppercase",[a.value.style]])},(0,wt.zw)(r.value.status),3)]),(0,s._)("td",ED,[(0,s._)("p",TD,(0,wt.zw)((0,ke.SU)(ze())(r.value.created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,ke.SU)(DD),{item:r.value},null,8,["item"])])]))}};const jD=FD;var ID=jD;const VD={class:""},OD={class:"tw-overflow-x-auto tw-bg-white"},HD={class:"tw-inline-block tw-min-w-full tw-align-middle"},MD={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},RD={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},ND=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),YD={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},ZD={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},KD=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),BD=[KD],QD={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},JD={colspan:"11"},GD={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},XD=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),tS=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),eS=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),rS=[tS,eS],aS={class:"tw-mt-6"};var sS={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=e,a=t,l=(0,ke.Vh)(a,"options"),o=(0,ke.Vh)(a,"data"),i=(0,ke.Vh)(a,"loading"),w=t=>{r("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",VD,[(0,s._)("div",OD,[(0,s._)("div",HD,[(0,s._)("div",MD,[(0,s._)("table",RD,[ND,!i.value&&o.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",YD,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(ID),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),i.value||0!=o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",ZD,BD)),i.value?((0,s.wg)(),(0,s.iD)("tbody",QD,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",JD,[(0,s._)("div",GD,[XD,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},rS))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",aS,[(0,s.Wm)((0,ke.SU)(iw),{from:l.value.from,to:l.value.to,"last-page":l.value.last_page,"per-page":l.value.per_page,total:l.value.total,"current-page":l.value.current_page,onPageChange:w},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const lS=sS;var oS=lS;const iS={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},wS={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},nS=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),dS={class:"tw-p-5 tw-space-y-4"},cS={class:""},uS={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},pS={key:0,class:"tw-text-xs tw-text-gray-400"},gS={class:"tw-relative"},mS=["disabled"],hS=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),fS=["value"],bS=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),vS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xS={key:0},yS={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},_S={key:0,class:"tw-text-xs tw-text-gray-400"},kS={class:"tw-relative"},CS=["disabled"],DS=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),SS=["value"],zS=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),US={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),PS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},LS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Message",-1),WS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},AS={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},$S=["disabled"],ES=(0,s._)("span",null,"Add",-1);var TS={__name:"SupplyRequestAdd",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,i.oR)(),w=(0,ke.iH)(!1),n=(0,ke.qj)({request:{product_id:"no-value-selected",product_variation_id:"no-value-selected",quantity:0,note:""},errors:{}}),d=(0,s.Fl)((()=>o.getters["product/products"])),c=(0,s.Fl)((()=>o.getters["product/fetched"])),u=(0,s.Fl)((()=>"no-value-selected"==n.request.product_id?[]:d.value.find((t=>t.id==n.request.product_id)).variations));(0,s.YP)((()=>n.request.product_id),(()=>{1!=u.value.length?n.request.product_variation_id="no-value-selected":n.request.product_variation_id=u.value[0].id}));const p=()=>{r("update:visible",!1)},g=async()=>{w.value=!0,await RC.create(n.request).then((t=>{"SUCCESS"==t.data.code&&(Tc("Request has been added"),o.dispatch("supply-request/addSupplyRequest",t.data.supply_request),p())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)n.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&Tc("Something went wrong","error")})),w.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(r,{visible:l.visible,onCancel:p},{default:(0,s.w5)((()=>[(0,s._)("div",iS,[(0,s._)("div",wS,[nS,(0,s._)("div",dS,[(0,s._)("div",cS,[(0,s._)("label",uS,[(0,s.Uk)("Product "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",pS," loading..."))]),(0,s._)("div",gS,[(0,s.wy)((0,s._)("select",{disabled:!c.value,onChange:e[0]||(e[0]=t=>n.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>n.request.product_id=t),class:(0,wt.C_)([[n.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[hS,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.name]),value:t.id,key:t.id},(0,wt.zw)(t.name),11,fS)))),128))],42,mS),[[a.bM,n.request.product_id]]),bS]),n.errors.product_id?((0,s.wg)(),(0,s.iD)("label",vS,(0,wt.zw)(n.errors.product_id),1)):(0,s.kq)("",!0)]),u.value.length>1?((0,s.wg)(),(0,s.iD)("div",xS,[(0,s._)("label",yS,[(0,s.Uk)("Variation "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",_S," loading..."))]),(0,s._)("div",kS,[(0,s.wy)((0,s._)("select",{disabled:!c.value||"no-value-selected"==n.request.product_id,onChange:e[2]||(e[2]=t=>n.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>n.request.product_variation_id=t),class:(0,wt.C_)([[n.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[DS,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.name]),value:t.id,key:t.id},(0,wt.zw)(t.size)+" "+(0,wt.zw)(t.size&&t.color?"|":"")+" "+(0,wt.zw)(t.color),11,SS)))),128))],42,CS),[[a.bM,n.request.product_variation_id]]),zS]),n.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",US,(0,wt.zw)(n.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[qS,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>n.request.quantity=t),onInput:e[5]||(e[5]=t=>n.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,34),[[a.nr,n.request.quantity]]),n.errors.quantity?((0,s.wg)(),(0,s.iD)("label",PS,(0,wt.zw)(n.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[LS,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[6]||(e[6]=t=>n.request.note=t),onInput:e[7]||(e[7]=t=>n.errors.note=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for your request",rows:"2",required:""},null,34),[[a.nr,n.request.note]]),n.errors.note?((0,s.wg)(),(0,s.iD)("label",WS,(0,wt.zw)(n.errors.note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",AS,[(0,s._)("button",{onClick:p,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:g,disabled:w.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[w.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ES],8,$S)])])])])),_:1},8,["visible"])}}};const FS=TS;var jS=FS;const IS={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},VS={class:"mb-5 tw-flex tw-w-full tw-justify-between"},OS=(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ",-1),HS=(0,s._)("span",null,"Create",-1),MS=[HS],RS=(0,s._)("div",{class:"tw-mt-5"},null,-1);var NS={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,ke.qj)({create:!1}),a=(0,ke.qj)({}),l=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),o=(0,ke.iH)(!0),w=async()=>{o.value=!0,await RC.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(a,t.data.data.supply_requests))})),o.value=!1},n=t=>{console.log(t)};return w(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",IS,[(0,s._)("div",VS,[OS,(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.create=!0),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-orange-100 tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},MS),r.create?((0,s.wg)(),(0,s.j4)((0,ke.SU)(jS),{key:0,visible:r.create,"onUpdate:visible":e[1]||(e[1]=t=>r.create=t)},null,8,["visible"])):(0,s.kq)("",!0)])]),RS,(0,s.Wm)((0,ke.SU)(oS),{onPageChange:n,data:l.value,loading:o.value,options:a},null,8,["data","loading","options"])]))}};const YS=NS;var ZS=YS;const KS={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},BS=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),QS={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},JS=["disabled"],GS=["disabled"];var XS={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=(0,ke.iH)(!1),l=t,o=(0,i.oR)(),w=async()=>{a.value=!0,await RC["delete"](l.item.id).then((t=>{"SUCCESS"==t.data.code&&(o.dispatch("supply-request/deleteSupplyRequest",l.item.id),Tc("Deleted Successfully"),n())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),Tc(e,"error"),n()})),a.value=!1},n=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:l.visible,onCancel:n,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",KS,[BS,(0,s._)("div",QS,[(0,s._)("button",{onClick:n,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,JS),(0,s._)("button",{onClick:w,disabled:a.value,type:"button",class:(0,wt.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,wt.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,GS)])])])),_:1},8,["visible","closeable"])])}}};const tz=XS;var ez=tz;const rz={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},az={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},sz=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),lz={class:"tw-p-5 tw-space-y-4"},oz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),iz={class:"tw-font-semibold tw-mt-1"},wz={class:"tw-flex tw-items-center"},nz={key:0,class:"tw-flex-1"},dz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),cz={class:"tw-font-semibold tw-mt-1"},uz={class:"tw-text-blue-500"},pz={class:"tw-text-green-500"},gz={class:"tw-flex-1"},mz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),hz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),fz={class:"tw-font-semibold tw-mt-1"},bz={key:0},vz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),xz={class:"tw-font-semibold tw-mt-1"};var yz={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=t,l=(0,ke.Vh)(a,"item"),o=(0,s.Fl)((()=>XC.find((t=>t.value==l.value.status)))),i=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:a.visible,onCancel:i},{default:(0,s.w5)((()=>[(0,s._)("div",rz,[(0,s._)("div",az,[sz,(0,s._)("div",lz,[(0,s._)("div",null,[oz,(0,s._)("p",iz,(0,wt.zw)(l.value.product.name),1)]),(0,s._)("div",wz,[l.value.product_variation.color||l.value.product_variation.size?((0,s.wg)(),(0,s.iD)("div",nz,[dz,(0,s._)("p",cz,[(0,s._)("span",uz,(0,wt.zw)(l.value.product_variation.color),1),(0,s.Uk)(),(0,s._)("span",pz,(0,wt.zw)(l.value.product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",gz,[mz,(0,s._)("p",{class:(0,wt.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[o.value.style]])},(0,wt.zw)(o.value.name),3)])]),(0,s._)("div",null,[hz,(0,s._)("p",fz,(0,wt.zw)(l.value.note),1)]),l.value.admin_note?((0,s.wg)(),(0,s.iD)("div",bz,[vz,(0,s._)("p",xz,(0,wt.zw)(l.value.admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:i,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const _z=yz;var kz=_z;const Cz={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},Dz={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},Sz=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),zz={class:"tw-p-5 tw-space-y-4"},Uz={class:""},qz={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Pz={key:0,class:"tw-text-xs tw-text-gray-400"},Lz={class:"tw-relative"},Wz=["disabled"],Az=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),$z=["value"],Ez=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Tz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Fz={key:0},jz={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Iz={key:0,class:"tw-text-xs tw-text-gray-400"},Vz={class:"tw-relative"},Oz=["disabled"],Hz=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),Mz=["value"],Rz=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Nz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Yz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),Zz=["disabled"],Kz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},Bz={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Qz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's Message",-1),Jz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Gz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leave note for seller",-1),Xz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},tU={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},eU=["disabled"],rU=(0,s._)("span",null,"Save",-1);var aU={__name:"SupplyRequestTableActionsEdit",props:["visible","item"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,i.oR)(),w=(0,ke.iH)(!1),n=(0,ke.qj)({request:JSON.parse(JSON.stringify(l.item)),errors:{}}),d=(0,s.Fl)((()=>o.getters["product/products"])),c=(0,s.Fl)((()=>o.getters["product/fetched"])),u=(0,s.Fl)((()=>"no-value-selected"==n.request.product_id?[]:d.value.find((t=>t.id==n.request.product_id)).variations));(0,s.YP)((()=>n.request.product_id),(()=>{1!=u.value.length?n.request.product_variation_id="no-value-selected":n.request.product_variation_id=u.value[0].id}));const p=()=>{r("update:visible",!1)},g=async()=>{w.value=!0,await RC.update(l.item.id,n.request).then((t=>{"SUCCESS"==t.data.code&&(Tc("Request has been updated"),o.dispatch("supply-request/updateSupplyRequest",t.data.supply_request),p())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)n.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&Tc("Something went wrong","error")})),w.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(r,{visible:l.visible,onCancel:p},{default:(0,s.w5)((()=>[(0,s._)("div",Cz,[(0,s._)("div",Dz,[Sz,(0,s._)("div",zz,[(0,s._)("div",Uz,[(0,s._)("label",qz,[(0,s.Uk)("Product "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",Pz," loading..."))]),(0,s._)("div",Lz,[(0,s.wy)((0,s._)("select",{disabled:!c.value||!0,onChange:e[0]||(e[0]=t=>n.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>n.request.product_id=t),class:(0,wt.C_)([[n.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Az,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.name]),value:t.id,key:t.id},(0,wt.zw)(t.name),11,$z)))),128))],42,Wz),[[a.bM,n.request.product_id]]),Ez]),n.errors.product_id?((0,s.wg)(),(0,s.iD)("label",Tz,(0,wt.zw)(n.errors.product_id),1)):(0,s.kq)("",!0)]),u.value.length>1?((0,s.wg)(),(0,s.iD)("div",Fz,[(0,s._)("label",jz,[(0,s.Uk)("Variation "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",Iz," loading..."))]),(0,s._)("div",Vz,[(0,s.wy)((0,s._)("select",{disabled:!c.value||"no-value-selected"==n.request.product_id||!0,onChange:e[2]||(e[2]=t=>n.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>n.request.product_variation_id=t),class:(0,wt.C_)([[n.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Hz,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.name]),value:t.id,key:t.id},(0,wt.zw)(t.size)+" "+(0,wt.zw)(t.size&&t.color?"|":"")+" "+(0,wt.zw)(t.color),11,Mz)))),128))],42,Oz),[[a.bM,n.request.product_variation_id]]),Rz]),n.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",Nz,(0,wt.zw)(n.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[Yz,(0,s.wy)((0,s._)("input",{disabled:"accepted"==n.request.status,"onUpdate:modelValue":e[4]||(e[4]=t=>n.request.quantity=t),onInput:e[5]||(e[5]=t=>n.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,42,Zz),[[a.nr,n.request.quantity]]),"accepted"==n.request.status?((0,s.wg)(),(0,s.iD)("label",Kz,(0,wt.zw)("cannot edit, request has already been accepted"))):(0,s.kq)("",!0),n.errors.quantity?((0,s.wg)(),(0,s.iD)("label",Bz,(0,wt.zw)(n.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[Qz,(0,s.wy)((0,s._)("textarea",{disabled:"","onUpdate:modelValue":e[6]||(e[6]=t=>n.request.note=t),onInput:e[7]||(e[7]=t=>n.errors.note=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Seller's note here",rows:"2",required:""},null,34),[[a.nr,n.request.note]]),n.errors.note?((0,s.wg)(),(0,s.iD)("label",Jz,(0,wt.zw)(n.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[Gz,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>n.request.admin_note=t),onInput:e[9]||(e[9]=t=>n.errors.admin_note=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.admin_note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for the seller",rows:"2",required:""},null,34),[[a.nr,n.request.admin_note]]),n.errors.admin_note?((0,s.wg)(),(0,s.iD)("label",Xz,(0,wt.zw)(n.errors.admin_note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",tU,[(0,s._)("button",{onClick:p,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:g,disabled:w.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[w.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),rU],8,eU)])])])])),_:1},8,["visible"])}}};const sU=aU;var lU=sU;const oU={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var iU={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,ke.qj)({delete:!1,show:!1,edit:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",oU,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.edit=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-amber-500/20 hover:tw-bg-amber-600 tw-bg-amber-500 hover:tw-border-amber-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil")])),_:1})]),r.edit?((0,s.wg)(),(0,s.j4)((0,ke.SU)(lU),{key:0,item:e.item,visible:r.edit,"onUpdate:visible":a[1]||(a[1]=t=>r.edit=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,ke.SU)(kz),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[3]||(a[3]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[4]||(a[4]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,ke.SU)(ez),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[5]||(a[5]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const wU=iU;var nU=wU;const dU={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},cU={class:"tw-relative tw-inline-block tw-text-left"},uU=["disabled"],pU={key:0,class:"tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},gU=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),mU=[gU],hU={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},fU={class:"tw-w-full tw-max-w-[200px] tw-mx-auto tw-p-2"},bU={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},vU=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-2"}," Select a status ",-1),xU={class:"tw-bg-white tw-divide-y"},yU=["onClick"];var _U={__name:"SupplyRequestStatus",props:["item"],setup(t){const e=t,r=(0,ke.iH)(!1),a=(0,ke.iH)(!1),l=(0,ke.qj)({}),o=(0,i.oR)(),w=(0,ke.iH)(XC[0]),n=()=>{r.value&&(r.value=!1)},d=async t=>{a.value=!0,await RC.update(e.item.id,{...e.item,status:t.value}).then((e=>{"SUCCESS"==e.data.code&&(Tc("Updated successfully"),o.dispatch("supply-request/updateSupplyRequest",e.data.supply_request),w.value=t)})),a.value=!1};return w.value=XC.find((t=>t.value==e.item.status)),(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",dU,[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",cU,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),type:"button",disabled:a.value,class:(0,wt.C_)([[w.value.style,a.value&&"!tw-bg-gray-50 !tw-text-gray-200 tw-cursor-not-allowed hover:!tw-shadow-none"],"tw-inline-flex tw-relative tw-w-[120px] tw-truncate tw-justify-center tw-items-center tw-gap-x-1.5 tw-rounded-md tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm"]),id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[(0,s._)("p",{class:(0,wt.C_)([[w.value.style,a.value&&"tw-invisible"],"tw-w-full tw-mx-auto tw-text-center tw-truncate tw-text-gray-500 tw-px-2"])},(0,wt.zw)(w.value.name),3),a.value?((0,s.wg)(),(0,s.iD)("svg",pU,mU)):(0,s.kq)("",!0)],10,uU),l.status?((0,s.wg)(),(0,s.iD)("p",hU,(0,wt.zw)(l.status),1)):(0,s.kq)("",!0)]),(0,s.Wm)(o,{visible:r.value,onCancel:e[1]||(e[1]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",fU,[(0,s._)("div",bU,[vU,(0,s._)("div",xU,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(XC).filter((t=>t.value!=w.value.value)),(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>d(t),key:t.value,class:(0,wt.C_)([[t.text],"hover:tw-bg-gray-100 tw-border-solid tw-justify-start tw-items-center tw-w-full tw-text-start tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm"]),role:"menuitem"},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],10,yU)))),128))])])])])),_:1},8,["visible"])])),[[ie.L,n]])])}}};const kU=_U;var CU=kU;const DU={class:"tw-px-4 tw-py-2"},SU={class:"tw-px-4 tw-py-2 tw-truncate"},zU={class:"tw-max-w-[200px] tw-truncate"},UU={class:"tw-px-4 tw-py-2 tw-truncate"},qU={class:"tw-max-w-[200px] tw-truncate"},PU={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},LU={class:"tw-flex tw-items-center tw-gap-2 tw-text-sm"},WU={key:0,class:"tw-px-1 tw-rounded-md tw-bg-orange-500 tw-text-white"},AU={key:1,class:"tw-px-1 tw-rounded-md tw-bg-green-500 tw-text-white"},$U={class:"tw-px-4 tw-py-2 tw-truncate"},EU={class:"tw-max-w-[200px] tw-truncate"},TU={class:"tw-px-4 tw-py-2 tw-truncate"},FU={class:"tw-px-4 tw-py-2"},jU={class:"tw-text-sm tw-whitespace-nowrap"};var IU={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,ke.Vh)(e,"item");return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",DU,(0,wt.zw)(r.value.id),1),(0,s._)("td",SU,[(0,s._)("p",zU,(0,wt.zw)(r.value.seller.firstname)+" "+(0,wt.zw)(r.value.seller.lastname),1)]),(0,s._)("td",UU,[(0,s._)("p",qU,(0,wt.zw)(r.value.product.name),1)]),(0,s._)("td",PU,[(0,s._)("div",LU,[r.value.product_variation.color?((0,s.wg)(),(0,s.iD)("div",WU,(0,wt.zw)(r.value.product_variation.color),1)):(0,s.kq)("",!0),r.value.product_variation.size?((0,s.wg)(),(0,s.iD)("div",AU,(0,wt.zw)(r.value.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("td",$U,[(0,s._)("p",EU,(0,wt.zw)(r.value.quantity),1)]),(0,s._)("td",TU,[(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(CU),{item:r.value},null,8,["item"])])]),(0,s._)("td",FU,[(0,s._)("p",jU,(0,wt.zw)((0,ke.SU)(ze())(r.value.created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,ke.SU)(nU),{item:r.value},null,8,["item"])])]))}};const VU=IU;var OU=VU;const HU={class:""},MU={class:"tw-overflow-x-auto tw-bg-white"},RU={class:"tw-inline-block tw-min-w-full tw-align-middle"},NU={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},YU={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},ZU=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[50px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),KU={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},BU={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},QU=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),JU=[QU],GU={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},XU={colspan:"11"},tq={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},eq=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),rq=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),aq=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),sq=[rq,aq],lq={class:"tw-mt-6"};var oq={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=e,a=t,l=(0,ke.Vh)(a,"options"),o=(0,ke.Vh)(a,"data"),i=(0,ke.Vh)(a,"loading"),w=t=>{r("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",HU,[(0,s._)("div",MU,[(0,s._)("div",RU,[(0,s._)("div",NU,[(0,s._)("table",YU,[ZU,!i.value&&o.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",KU,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(OU),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),i.value||0!=o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",BU,JU)),i.value?((0,s.wg)(),(0,s.iD)("tbody",GU,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",XU,[(0,s._)("div",tq,[eq,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},sq))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",lq,[(0,s.Wm)((0,ke.SU)(iw),{from:l.value.from,to:l.value.to,"last-page":l.value.last_page,"per-page":l.value.per_page,total:l.value.total,"current-page":l.value.current_page,onPageChange:w},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const iq=oq;var wq=iq;const nq={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},dq=(0,s._)("div",{class:"mb-5 tw-flex tw-w-full tw-justify-between"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ")],-1),cq=(0,s._)("div",{class:"tw-mt-5"},null,-1);var uq={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,ke.qj)({}),a=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),l=(0,ke.iH)(!0),o=async()=>{l.value=!0,await RC.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(r,t.data.data.supply_requests))})),l.value=!1},w=t=>{console.log(t)};return o(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",nq,[dq,cq,(0,s.Wm)((0,ke.SU)(wq),{onPageChange:w,data:a.value,loading:l.value,options:r},null,8,["data","loading","options"])]))}};const pq=uq;var gq=pq,mq={name:"products",path:"/products",component:Wa,meta:{module:"product"},children:[{name:"product/list",path:"",component:Yn,meta:{module:"product",subModule:"product/list",title:"Products List",gate:"show_all_products"}},{name:"product/newlist",path:"/newproducts",component:lh,meta:{module:"product",subModule:"product/newlist",title:"Products List",gate:"show_all_products"}},{name:"product/add",path:"add",component:xv,meta:{module:"product",subModule:"product/add",title:"Add Product",gate:"create_product"}},{name:"product/seller/request",path:"seller/request",component:ZS,meta:{module:"product",subModule:"product/seller/request",title:"Supply Request",gate:"access_to_seller_sales"}},{name:"product/admin/request",path:"admin/request",component:gq,meta:{module:"product",subModule:"product/admin/request",title:"Supply Request",gate:"access_to_sales"}},{name:"product/update",path:"update/:id",component:Ky,meta:{module:"product",subModule:"product/update",title:"Update Product",gate:"update_product"}},{name:"product/show",path:":id",component:HC,meta:{module:"product",subModule:"product/show",title:"Product Informations",gate:"view_product"}}]};const hq={class:"mb-5 tw-flex tw-justify-between tw-items-center"},fq=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Users List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all users")],-1),bq={key:0},vq=(0,s._)("span",{class:"text-white"}," Add User ",-1),xq={key:0},yq={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_q={class:"mb-5 tw-flex"},kq={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Cq={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Dq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Sq=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Role",-1),zq={class:"tw-relative"},Uq=["value"],qq={class:""};function Pq(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.users.length},[(0,s._)("div",hq,[fq,t.$can("create_user")?((0,s.wg)(),(0,s.iD)("div",bq,[(0,s.Wm)(nt.T,{color:"primary-color",link:"",to:{name:"user/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),vq])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xq,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",yq,[(0,s._)("div",_q,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",kq,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Cq,[(0,s._)("div",Dq,[Sq,(0,s._)("div",zq,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.role=t),class:"tw-w-full focus:tw-border-orange-400 tw-capitalize tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.roles,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t},(0,wt.zw)(t),9,Uq)))),128))],512),[[a.bM,o.role]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),(0,s._)("div",qq,[(0,s.Wm)(n,{users:i.filteredUsers,columns:o.columns},null,8,["users","columns"])])])):(0,s.kq)("",!0)])}const Lq={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Wq={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Aq={class:"tw-text-xs tw-text-gray-700 tw- tw-bg-gray-50"},$q=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Eq={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Tq=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Fq={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},jq={class:"tw-px-6 tw-py-4"},Iq={class:"tw-px-6 tw-py-4"},Vq={class:"tw-px-6 tw-py-4"},Oq={class:"tw-px-6 tw-py-4"},Hq={class:"tw-px-6 tw-py-4"},Mq={key:0,class:"tw-text-red-500"},Rq={key:1},Nq={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},Yq=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),Zq={key:1,class:"tw-text-neutral-700"},Kq={class:"tw-px-6 tw-py-4"},Bq={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Qq={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Jq={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Gq=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Xq=["value"],tP={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},eP={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},rP={class:"tw-text-white"};function aP(t,e,r,l,o,i){const w=(0,s.up)("RoleName"),n=(0,s.up)("UserStatus"),d=(0,s.up)("UserActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Lq,[(0,s._)("table",Wq,[(0,s._)("thead",Aq,[(0,s._)("tr",null,[$q,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Eq,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Tq,(0,s._)("th",Fq,(0,wt.zw)(e.id),1),(0,s._)("td",jq,(0,wt.zw)(e.firstname)+" "+(0,wt.zw)(e.lastname),1),(0,s._)("td",Iq,[(0,s.Wm)(w,{role:e.role_name},null,8,["role"])]),(0,s._)("td",Vq,(0,wt.zw)(e.email),1),(0,s._)("td",Oq,(0,wt.zw)(e.phone),1),(0,s._)("td",Hq,[e.last_action?((0,s.wg)(),(0,s.iD)("div",Rq,[1==i.isOnline(i.lastSeen(e.last_action))?((0,s.wg)(),(0,s.iD)("div",Nq,[Yq,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",Zq,(0,wt.zw)(i.lastSeen(e.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",Mq," Never Connected "))]),(0,s._)("td",Kq,[t.$can("update_user_status")?((0,s.wg)(),(0,s.j4)(n,{key:0,user:e},null,8,["user"])):(0,s.kq)("",!0)]),(0,s._)("td",Bq,[(0,s.Wm)(d,{user:e},null,8,["user"])])])))),128))])])]),(0,s._)("div",Qq,[(0,s._)("div",Jq,[Gq,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,Xq)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",tP,[(0,s._)("div",eP,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.users.length:i.nextRange)+" of "+(0,wt.zw)(r.users.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",rP,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function sP(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[t.$can("update_user")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,to:"/users/update/"+r.user.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_user")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_user")&&"admin"!==r.user.role_name?((0,s.wg)(),(0,s.j4)(nt.T,{key:2,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this user?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var lP={props:["rowIndex","user"],name:"userActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,ot["delete"](this.user.id).then((t=>{"USER_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"User Deleted Successfully"})),ot.all().then((t=>{"SHOW_ALL_USERS"==t.data.code&&this.$store.dispatch("user/setUsers",t.data.data.users)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const oP=(0,m.Z)(lP,[["render",sP]]);var iP=oP;const wP={key:0,class:"tw-flex tw-items-center"};function nP(t,e,r,a,l,o){return"admin"!==r.user.role_name?((0,s.wg)(),(0,s.iD)("div",wP,[(0,s.Wm)(ih.G,{disabled:l.isLoading,loading:l.isLoading,onChange:o.handleChange,color:"primary-color",flat:!0,modelValue:l.checked,"onUpdate:modelValue":e[0]||(e[0]=t=>l.checked=t),density:"compact","hide-details":!0},null,8,["disabled","loading","onChange","modelValue"])])):(0,s.kq)("",!0)}var dP={props:["rowIndex","prop","user"],data(){return{isLoading:!1,checked:!1}},watch:{},methods:{handleChange(){const t={id:this.user.id,status:this.checked?"true":"false"};this.isLoading=!0,ot.updateStatus(t).then((t=>{"STATUS_USER_UPDATED"==t.data.code&&(this.$alert({type:"success",title:"Status updated"}),this.setUpdatedUser(this.user.id,this.checked))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},setUpdatedUser(t,e){let r=localStorage.getItem("updatedUsers"),a={};r?(a=JSON.parse(r),a[t]=e):a[t]=e,localStorage.setItem("updatedUsers",JSON.stringify(a))},getUpdatedUsers(){let t=localStorage.getItem("updatedUsers");if(!t)return{};let e=JSON.parse(t);return e}},mounted(){const t=this.getUpdatedUsers();Object.keys(t).includes(`${this.user.id}`)?this.checked=1==t[this.model.id]:this.checked=1==this.user.status}};const cP=(0,m.Z)(dP,[["render",nP]]);var uP=cP;const pP={class:"tw-flex tw-items-center tw-h-full"};function gP(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",pP,[(0,s._)("div",{class:(0,wt.C_)([o.current.bg,"tw-px-2 tw-py-1 tw-rounded-lg"])},[(0,s._)("div",{class:(0,wt.C_)([o.current.text,"tw-text-sm tw-uppercase"])},(0,wt.zw)(r.role),3)],2)])}var mP={props:["role"],data(){return{variants:{default:{bg:"tw-bg-neutral-500/10",text:"tw-text-neutral-500"},admin:{bg:"tw-bg-pink-500/10",text:"tw-text-pink-500"},agente:{bg:"tw-bg-green-500/10",text:"tw-text-green-500"},delivery:{bg:"tw-bg-blue-500/10",text:"tw-text-blue-500"}}}},computed:{current(){return["admin","delivery","agente"].includes(this.role)?this.variants[this.role]:this.variants["default"]}}};const hP=(0,m.Z)(mP,[["render",gP]]);var fP=hP,bP={props:["columns","users"],components:{UserActions:iP,UserStatus:uP,RoleName:fP},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.users.length/this.paginationLimit)},items(){return this.users.slice(this.prevRange,this.nextRange)}},methods:{lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,_s.x)(e)},isOnline(t){let e=["Just Now","one minute ago","2 minutes ago","3 minutes ago"];return e.includes(t)}}};const vP=(0,m.Z)(bP,[["render",aP]]);var xP=vP,yP={components:{UsersTable:xP},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,role:"All",search:"",columns:[{prop:"id",name:"#"},{prop:"fullname",name:"Name"},{prop:"role_name",name:"Role"},{prop:"email",name:"Email"},{prop:"phone",name:"Phone Number"},{prop:"last_seen",name:"Last Seen"},{prop:"status",name:"Active"},{name:"Acions",prop:"users"}]}},computed:{fetched(){return this.$store.getters["user/fetched"]},users(){return this.$store.getters["user/users"]},roles(){let t=new Set(["All",...this.users.map((t=>t.role_name))]);return t},filteredUsers(){const t=this.role,e=this.search;return this.users.filter((r=>("all"===t.toLocaleLowerCase()||t.toLocaleLowerCase()===r.role_name)&&!!(r.firstname.toLowerCase().includes(e.toLowerCase())||r.lastname.toLowerCase().includes(e.toLowerCase())||r.role_name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase())||r.phone.toLowerCase().includes(e.toLowerCase()))))}},methods:{getRoles(){ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},getUsers(){ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)}},mounted(){localStorage.removeItem("updatedUsers"),this.fetched||this.getUsers()}};const _P=(0,m.Z)(yP,[["render",Pq]]);var kP=_P,CP=r(988);const DP=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new user")],-1),SP={key:0},zP={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},UP={class:"tw-w-full"},qP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),PP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},LP={class:"tw-w-full"},WP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),AP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$P={class:"tw-w-full"},EP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),TP={class:"tw-w-full"},FP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),jP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},IP={class:"tw-w-full"},VP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),OP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},HP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),MP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),RP=["value"],NP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),YP=["value"],ZP=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),KP=(0,s._)("span",{class:"text-white"},"Add",-1),BP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),QP={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},JP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),GP={class:"tw-w-full"},XP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),tL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},eL={class:"tw-w-full"},rL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),aL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),lL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},oL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),iL=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function wL(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[DP,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",SP,[(0,s.Wm)(w)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",zP,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",UP,[qP,(0,s.Wm)(ut.hw,{error:!o.formStatus.firstname.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:o.user.firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.user.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",PP,(0,wt.zw)(o.formStatus.firstname.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LP,[WP,(0,s.Wm)(ut.hw,{error:!o.formStatus.lastname.valid,"hide-details":!0,onKeyup:e[2]||(e[2]=t=>i.resetError("lastname")),modelValue:o.user.lastname,"onUpdate:modelValue":e[3]||(e[3]=t=>o.user.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",AP,(0,wt.zw)(o.formStatus.lastname.message),1)])])),_:1}),i.isSeller?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$P,[EP,(0,s.Wm)(ut.hw,{"hide-details":!0,modelValue:o.user.username,"onUpdate:modelValue":e[4]||(e[4]=t=>o.user.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",TP,[FP,(0,s.Wm)(ut.hw,{error:!o.formStatus.email.valid,"hide-details":!0,onKeyup:e[5]||(e[5]=t=>i.resetError("email")),modelValue:o.user.email,"onUpdate:modelValue":e[6]||(e[6]=t=>o.user.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",jP,(0,wt.zw)(o.formStatus.email.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",IP,[VP,(0,s.Wm)(ut.hw,{error:!o.formStatus.phone.valid,"hide-details":!0,onKeyup:e[7]||(e[7]=t=>i.resetError("phone")),modelValue:o.user.phone,"onUpdate:modelValue":e[8]||(e[8]=t=>o.user.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",OP,(0,wt.zw)(o.formStatus.phone.message),1)])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(ih.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),HP,(0,s._)("div",null,[(0,s.Wm)(CP.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:2,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[MP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,RP)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:3,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[NP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,YP)))),128))],512),[[a.bM,o.deliveryCity]]),ZP,(0,s.Wm)(ut.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(nt.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[KP])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[BP,(0,s.Wm)(oh.r,{class:"text-capitalize",items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[14]||(e[14]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["items","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",QP,[JP,(0,s.Wm)(ih.G,{modelValue:o.user.status,"onUpdate:modelValue":e[15]||(e[15]=t=>o.user.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",GP,[XP,(0,s.Wm)(ut.hw,{error:!o.formStatus.password.valid,"hide-details":!0,onKeyup:e[16]||(e[16]=t=>i.resetError("password")),modelValue:o.user.password,"onUpdate:modelValue":e[17]||(e[17]=t=>o.user.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",tL,(0,wt.zw)(o.formStatus.password.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",eL,[rL,(0,s.Wm)(ut.hw,{error:!o.formStatus.confirmPassword.valid,"hide-details":!0,onKeyup:e[18]||(e[18]=t=>i.resetError("confirmPassword")),modelValue:o.user.confirmPassword,"onUpdate:modelValue":e[19]||(e[19]=t=>o.user.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",aL,(0,wt.zw)(o.formStatus.confirmPassword.message),1)])])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[sL,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,wt.zw)(i.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,wt.zw)(t.fee)+" "+(0,wt.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(ct.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",lL,[(0,s.Wm)(nt.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[oL])),_:1}),(0,s.Wm)(nt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[iL])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var nL={data(){return{localUrl:w,currency:c,isFormReady:!1,isLoading:!1,city:1,isMultipleProducts:!1,isHavingAllProducts:!1,id:1,deliveryCity:1,deliveryCityFee:0,deliveryCities:[],product:0,selectedProducts:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},user:{firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},role:3}},computed:{roles(){return this.$store.getters["user/roles"]},rolesFetched(){return this.$store.getters["user/fetchedRoles"]},cities(){return this.$store.getters["city/cities"]},citiesFetched(){return this.$store.getters["city/fetched"]},products(){return this.$store.getters["product/products"]},productsFethched(){return this.$store.getters["product/fetched"]},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},isSeller(){return 4===this.role},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{},methods:{removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.id,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.id+=1,this.deliveryCity=1,this.deliveryCityFee=0},create(){if(!this.validate())return!1;this.isLoading=!0;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};ot.register(t).then((t=>{"USER_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.user={firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},this.role=3,this.product_id=null,this.deliveryCities=[],this.id=1)})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){this.formStatus.email=Wt(this.user.email),this.formStatus.firstname=$t(this.user.firstname),this.formStatus.lastname=$t(this.user.lastname),this.formStatus.phone=$t(this.user.phone),this.formStatus.password=At(this.user.password),this.formStatus.confirmPassword=Tt(this.user.password,this.user.confirmPassword);const t=this.formStatus.email.valid,e=this.formStatus.firstname.valid,r=this.formStatus.lastname.valid,a=this.formStatus.phone.valid,s=this.formStatus.password.valid,l=this.formStatus.confirmPassword.valid;return t&&e&&r&&s&&l&&a},getRoles(){return this.rolesFetched?new Promise((t=>t())):ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)},async getCities(){return this.citiesFetched?new Promise((t=>t())):ot.cities().then((t=>{this.$store.dispatch("city/cities",t.data.data),this.$store.dispatch("city/setFetched",!0)}))},async getProducts(){return this.productsFethched?new Promise((t=>t())):ha.all().then((t=>{this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0)}),(t=>this.$handleApiError(t)))}},mounted(){Promise.allSettled([this.getRoles(),this.getCities(),this.getProducts()]).then((t=>{console.log(t),this.isFormReady=!0}),(t=>this.$handleApiError(t)))}};const dL=(0,m.Z)(nL,[["render",wL]]);var cL=dL;const uL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update user informations")],-1),pL={key:0},gL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},mL={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},hL={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},fL={class:"tw-w-full"},bL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),vL={class:"tw-w-full"},xL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),yL={class:"tw-w-full"},_L=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),kL={class:"tw-w-full"},CL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),DL={class:"tw-w-full"},SL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),zL={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},UL=(0,s._)("span",null,"Update Password: ",-1),qL={class:"tw-w-full"},PL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),LL={class:"tw-w-full"},WL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),AL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),$L={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},EL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),TL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),FL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),jL=["value"],IL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),VL=["value"],OL=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),HL=(0,s._)("span",{class:"text-white"},"Add",-1),ML=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),RL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},NL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),YL=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function ZL(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[uL,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",pL,[(0,s.Wm)(w)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",gL,[(0,s._)("div",mL,[(0,s.Uk)(" User ID: "),(0,s._)("span",hL,(0,wt.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",fL,[bL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.firstname.message,modelValue:o.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>o.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vL,[xL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.lastname.message,modelValue:o.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",yL,[_L,(0,s.Wm)(ut.hw,{modelValue:o.username,"onUpdate:modelValue":e[2]||(e[2]=t=>o.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",kL,[CL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.email.message,modelValue:o.email,"onUpdate:modelValue":e[3]||(e[3]=t=>o.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",DL,[SL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.phone.message,modelValue:o.phone,"onUpdate:modelValue":e[4]||(e[4]=t=>o.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",zL,[UL,(0,s.Wm)(ih.G,{modelValue:o.updatePassword,"onUpdate:modelValue":e[5]||(e[5]=t=>o.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),o.updatePassword?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qL,[PL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.password.message,modelValue:o.password,"onUpdate:modelValue":e[6]||(e[6]=t=>o.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),o.updatePassword?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LL,[WL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.confirmPassword.message,modelValue:o.confirmPassword,"onUpdate:modelValue":e[7]||(e[7]=t=>o.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[AL,(0,s.Wm)(oh.r,{class:"text-capitalize","error-messages":o.formStatus.role,items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[8]||(e[8]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","items","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$L,[EL,(0,s.Wm)(ih.G,{modelValue:o.status,"onUpdate:modelValue":e[9]||(e[9]=t=>o.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(ih.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),TL,(0,s._)("div",null,[(0,s.Wm)(CP.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[11]||(e[11]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[FL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,jL)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[IL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,VL)))),128))],512),[[a.bM,o.deliveryCity]]),OL,(0,s.Wm)(ut.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[14]||(e[14]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(nt.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[HL])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ML,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,wt.zw)(o.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,wt.zw)(t.fee)+" "+(0,wt.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(ct.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",RL,[(0,s.Wm)(nt.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[NL])),_:1}),(0,s.Wm)(nt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[YL])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var KL={data(){return{serverUrl:n,currency:c,isFetched:!1,isRolesFetched:!1,isUserFetched:!1,isProductsFetched:!1,isLoading:!1,updatePassword:!1,autoId:1,cities:[],deliveryCity:1,deliveryCityFee:0,city:1,deliveryCities:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",username:"",role:"",user_image:null,status:!1,product:null,products:[],selectedProducts:[],isMultipleProducts:!1,isHavingAllProducts:!1}},computed:{roles(){return this.$store.getters["user/roles"]},isFormReady(){return this.isFetched},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,username:this.username,phone:this.phone,email:this.email,password:this.password,product_id:this.product,deliveryCities:this.deliveryCities,city:this.city,role:this.role,status:this.status?1:0}},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{role(t){console.log("changed"),2===t&&0===this.products.length&&(this.isProductsFetched=!1)}},methods:{update(){if(!this.validate())return!1;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};this.isLoading=!0,ot.update(t,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["email"]=Wt(this.email),this.formStatus["firstname"]=$t(this.firstname),this.formStatus["lastname"]=$t(this.lastname),this.formStatus["phone"]=$t(this.phone),this.formStatus["password"]=At(this.password),this.formStatus["confirmPassword"]=Tt(this.password,this.confirmPassword);const t=this.formStatus["email"].valid,e=this.formStatus["firstname"].valid,r=this.formStatus["lastname"].valid,a=this.formStatus["phone"].valid;if(this.updatePassword){const s=this.formStatus["password"].valid,l=this.formStatus["confirmPassword"].valid;return t&&e&&r&&s&&l&&a}return t&&e&&r&&a},removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.autoId,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.autoId+=1,this.deliveryCity=1,this.deliveryCityFee=0},async getRoles(){await ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isRolesFetched=!0}})).catch(this.$handleApiError)},async getUser(){return ot.getUser(this.$route.params.id).then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;if(this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.username=e.username,this.email=e.email,this.phone=e.phone,this.role=e.role,2==e.role&&(this.isHavingAllProducts=1==e.having_all,this.selectedProducts=e?.product),this.user_image=e.photo,this.status=1==e.status,this.isUserFetched=!0,3==e.role){console.log("this is delivery"),this.city=e?.city?.id;let t=0;this.deliveryCities=e.deliveryPlaces.map((e=>(parseInt(e.id)>=t&&(t=parseInt(e.id)+1),{id:e.id,city_id:e.city_id,fee:e.fee}))),this.autoId=t}}})).catch(this.$handleApiError)},async getProducts(){return ha.all().then((t=>{this.products=t.data.data.products,this.products.length>0?this.product=this.user.product_id:this.product=null,this.isProductsFetched=!0}),(t=>this.$handleApiError(t)))},async getCities(){return ot.cities().then((t=>{console.log(t.data),this.cities=t.data.data}))}},async mounted(){0==this.roles.length?await this.getRoles():this.isRolesFetched=!0,Promise.allSettled([this.getRoles(),this.getProducts(),this.getCities(),this.getUser()]).then((()=>{this.selectedProducts.length==this.products.length&&(this.product=0,this.isMultipleProducts=!1),this.isFetched=!0}),(t=>this.$handleApiError(t)))}};const BL=(0,m.Z)(KL,[["render",ZL]]);var QL=BL;const JL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add New Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new Role")],-1),GL={key:0},XL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},tW={class:"md:tw-w-1/2 tw-w-full"},eW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role Name",-1),rW={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},aW={class:"mb-3 text-body-2 tw-text-zinc-700"},sW={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},lW={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},oW=["onClick"],iW={key:0},wW={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},nW=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),dW=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function cW(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[JL,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",GL,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",XL,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",tW,[eW,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rW,(0,wt.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",aW,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",sW,(0,wt.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",lW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,wt.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},[(0,s._)("span",null,(0,wt.zw)(t),1)],10,oW)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",iW,(0,wt.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",wW,[(0,s.Wm)(nt.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[nW])),_:1}),(0,s.Wm)(nt.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[dW])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var uW={data(){return{localUrl:w,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0,ot.createRole({name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_ADDED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles(),this.name="",this.selectedPermissions=[])})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.name,"Name"),this.formStatus.permissions=jt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRoles(){ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},async getPermissions(){return await ot.permessions().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.permissions;this.permissions=e.map((t=>t.name)),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getPermissions(),this.isFormReady=!0}};const pW=(0,m.Z)(uW,[["render",cW]]);var gW=pW;const mW={class:"mb-5 tw-flex tw-justify-between tw-items-center"},hW=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Roles List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all Roles")],-1),fW={class:"tw-flex tw-items-center tw-gap-2"},bW={key:0},vW=(0,s._)("span",{class:"text-white"}," Role ",-1),xW={key:0},yW={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_W={class:"mb-5 tw-flex"},kW={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},CW={class:""};function DW(t,e,r,l,o,i){const w=(0,s.up)("CreatePermission"),n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("RolesTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.roles.length},[(0,s._)("div",mW,[hW,(0,s._)("div",fW,[(0,s.Wm)(w,{visible:o.visible,"onUpdate:visible":e[0]||(e[0]=t=>o.visible=t)},null,8,["visible"]),t.$can("create_role")?((0,s.wg)(),(0,s.iD)("div",bW,[(0,s.Wm)(nt.T,{color:"primary-color",link:"",to:{name:"user/addRole"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),vW])),_:1})])):(0,s.kq)("",!0)])]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xW,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",yW,[(0,s._)("div",_W,[(0,s.Wm)(nt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",kW,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",CW,[(0,s.Wm)(d,{roles:i.filteredRoles,columns:o.columns},null,8,["roles","columns"])])])):(0,s.kq)("",!0)])}const SW={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},zW={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},UW={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},qW=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),PW={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},LW=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),WW={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},AW={class:"tw-px-6 tw-py-4 tw-uppercase"},$W={class:"tw-px-6 tw-py-4"},EW={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},TW={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},FW={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},jW=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),IW=["value"],VW={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},OW={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},HW={class:"tw-text-white"};function MW(t,e,r,l,o,i){const w=(0,s.up)("RolePermissions"),n=(0,s.up)("RoleActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",SW,[(0,s._)("table",zW,[(0,s._)("thead",UW,[(0,s._)("tr",null,[qW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",PW,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[LW,(0,s._)("th",WW,(0,wt.zw)(t.id),1),(0,s._)("td",AW,(0,wt.zw)(t.name),1),(0,s._)("td",$W,[(0,s.Wm)(w,{role:t},null,8,["role"])]),(0,s._)("td",EW,[(0,s.Wm)(n,{role:t},null,8,["role"])])])))),128))])])]),(0,s._)("div",TW,[(0,s._)("div",FW,[jW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,IW)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",VW,[(0,s._)("div",OW,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.roles.length:i.nextRange)+" of "+(0,wt.zw)(r.roles.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",HW,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const RW={key:0},NW={class:"tw-flex tw-flex-wrap tw-gap-2"};function YW(t,e,r,a,l,o){const i=(0,s.up)("popup");return["admin","agente","delivery"].includes(r.role.name)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",RW,[t.$can("update_role")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,to:"/users/roles/update/"+r.role.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_role")&&"admin"!==r.role.name?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopupDelete=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this Role?</p> You won't be able to revert this!",loading:l.isLoadingDelete,visible:l.showPopupDelete,onResolved:o.handleResolvedDelete},null,8,["loading","visible","onResolved"]),(0,s.Wm)(i,{noConfirm:!0,type:"info",title:"Permissions",loading:l.isLoadingShow,visible:l.showPopupShow,onResolved:o.handleResolvedShow},{default:(0,s.w5)((()=>[(0,s._)("div",NW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer",key:t},(0,wt.zw)(t),1)))),128))])])),_:1},8,["loading","visible","onResolved"])]))}var ZW={props:["rowIndex","prop","role"],name:"roleActions",data(){return{showPopupDelete:!1,showPopupShow:!1,isLoadingDelete:!1,isLoadingShow:!1,permissions:["create_user","delete_user","update_user","show_user"]}},methods:{handleResolvedDelete(t){t?(this.isLoadingDelete=!0,ot.deleteRole(this.role.id).then((t=>{"ROLE_DELETED"==t.data.code&&(this.isLoadingDelete=!1,this.$alert({type:"success",title:"Role Deleted Successfully"})),ot.roles().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("user/setRoles",t.data.data.roles)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoadingDelete=!1,this.showPopupDelete=!1}))):this.showPopupDelete=!1},handleResolvedShow(t){t?console.log(t):this.showPopupShow=!1}}};const KW=(0,m.Z)(ZW,[["render",YW]]);var BW=KW;const QW={class:"tw-h-100 tw-flex tw-items-center tw-max-w-[750px] tw-flex-wrap tw-gap-2"},JW=["title"];function GW(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",QW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-0 tw-px-2 tw-text-xs tw-h-5 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg",title:t.description,key:t.name},(0,wt.zw)(t.name),9,JW)))),128))])}var XW={props:["role"],name:"rolePermissions",data(){return{}},computed:{permissions(){return this.role.permissions.map((t=>t))}}};const tA=(0,m.Z)(XW,[["render",GW]]);var eA=tA,rA={props:["columns","roles"],components:{RoleActions:BW,RolePermissions:eA},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.roles.length/this.paginationLimit)},items(){return this.roles.slice(this.prevRange,this.nextRange)}},methods:{}};const aA=(0,m.Z)(rA,[["render",MW]]);var sA=aA;const lA=(0,s._)("span",{class:"text-white"}," Permission ",-1),oA={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},iA={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},wA=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Add permission ",-1),nA={class:"tw-p-5"},dA={class:""},cA=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),uA={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pA={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},gA=["disabled"],mA=["disabled"],hA=(0,s._)("span",null,"Add",-1);var fA={__name:"CreatePermission",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,ke.iH)(!1),i=(0,ke.iH)({}),w=(0,ke.iH)({name:""}),n=t=>{r("update:visible",t)},d=async()=>{if(!w.value.name)return i.value.name="Name is required",!1;i.value.name="",o.value=!0,await ot.createPermission(w.value.name).then((t=>{if("SUCCESS"==t.data.code){const e=st.getters["user/permissions"];e.push(t.data.permission.name),Tc("Permission added successfully"),n(!1)}})).catch((t=>{Tc("Something went wrong!","danger"),console.log(t)})),o.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>n(!0)),color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),lA])),_:1}),(0,s.Wm)(r,{visible:l.visible},{default:(0,s.w5)((()=>[(0,s._)("div",oA,[(0,s._)("div",iA,[wA,(0,s._)("div",nA,[(0,s._)("div",dA,[cA,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>w.value.name=t),onInput:e[2]||(e[2]=t=>i.value.name=null),type:"text",class:(0,wt.C_)([[i.value.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter permission name",required:""},null,34),[[a.nr,w.value.name]]),i.value.name?((0,s.wg)(),(0,s.iD)("label",uA,(0,wt.zw)(i.value.name),1)):(0,s.kq)("",!0)])]),(0,s._)("div",pA,[(0,s._)("button",{onClick:e[3]||(e[3]=t=>n(!1)),disabled:o.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,gA),(0,s._)("button",{onClick:d,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),hA],8,mA)])])])])),_:1},8,["visible"])])}}};const bA=fA;var vA=bA,xA={components:{RolesTable:sA,CreatePermission:vA},data(){return{localUrl:w,visible:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Role Name"},{prop:"permissions",name:"Permissions"},{name:"Acions",prop:"roles"}]}},computed:{roles(){return this.$store.getters["user/roles"]},fetched(){return this.$store.getters["user/fetchedRoles"]},filteredRoles(){return this.roles.filter((t=>{const e=t.permissions.map((t=>t.name));return!!(""===this.search||t.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())||e.includes(this.search.toLocaleLowerCase())||e.some((t=>t.toLowerCase().includes(this.search.toLocaleLowerCase()))))}))}},methods:{getRoles(){return ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)}},mounted(){this.rolesFetched||this.getRoles()}};const yA=(0,m.Z)(xA,[["render",DW]]);var _A=yA;const kA=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update existing role")],-1),CA={key:0},DA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},SA={class:"md:tw-w-1/2 tw-w-full"},zA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Role Name ",-1),UA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qA={class:"mb-3 text-body-2 tw-text-zinc-700"},PA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},LA={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},WA=["onClick"],AA={key:0},$A={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},EA=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),TA=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function FA(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[kA,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",CA,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",DA,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",SA,[zA,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",UA,(0,wt.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",qA,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",PA,(0,wt.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",LA,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,wt.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},(0,wt.zw)(t),11,WA)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",AA,(0,wt.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",$A,[(0,s.Wm)(nt.T,{link:"",to:"/users/roles",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[EA])),_:1}),(0,s.Wm)(nt.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[TA])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var jA={data(){return{localUrl:w,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,ot.updateRole(this.$route.params.id,{name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_UPDATED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles())})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},addPermissions(t){return t},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.name,"Name"),this.formStatus.permissions=jt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRole(){ot.getRole(this.$route.params.id).then((t=>{this.name=t.data.data.role,this.selectedPermissions=[...t.data.data.permission],this.isFormReady=!0}))},getRoles(){ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getRole(),this.permissions=this.$store.getters["user/permissions"]}};const IA=(0,m.Z)(jA,[["render",FA]]);var VA=IA,OA={name:"users",path:"/users",component:Wa,meta:{module:"user"},children:[{name:"user/list",path:"",component:kP,meta:{module:"user",subModule:"user/list",title:"Users List",gate:"show_all_users"}},{name:"user/add",path:"add",component:cL,meta:{module:"user",subModule:"user/add",title:"Add User",gate:"create_user"}},{name:"user/update",path:"update/:id",component:QL,meta:{module:"user",subModule:"user/update",title:"Update User",gate:"update_user"}},{name:"user/addRole",path:"addRole",component:gW,meta:{module:"user",subModule:"user/addRole",title:"Add Role",gate:"create_role"}},{name:"user/roles",path:"roles",component:_A,meta:{module:"user",subModule:"user/roles",title:"Roles List",gate:"show_all_roles"}},{name:"user/updateRole",path:"roles/update/:id",component:VA,meta:{module:"user",subModule:"user/updateRole",title:"Update Role",gate:"view_role"}}]};const HA={class:"mb-5 tw-flex tw-justify-between tw-items-center"},MA=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Sales List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your sales")],-1),RA={key:0},NA=(0,s._)("span",{class:"text-white"}," Add Sale ",-1),YA={key:0},ZA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},KA={class:"mb-5 tw-flex"},BA={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},QA={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},JA={class:""};function GA(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("SalesAnalytics"),d=(0,s.up)("IndexFilter"),c=(0,s.up)("SalesTable"),u=(0,s.up)("AddSale"),p=(0,s.up)("NewAddSale");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",HA,[MA,t.$can("create_sale")&&i.fetched?((0,s.wg)(),(0,s.iD)("div",RA,[(0,s.Wm)(nt.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),NA])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",YA,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",ZA,[(0,s.Wm)(n,{sales:i.sales},null,8,["sales"]),(0,s._)("div",KA,[(0,s.Wm)(nt.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",BA,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by client, phone..."},null,512),[[a.nr,o.search]])]),(0,s._)("div",QA,[(0,s.Wm)(ct.t,{class:"tw-text-gray-500",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pound")])),_:1}),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.searchId=t),type:"number",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search By ID"},null,512),[[a.nr,o.searchId]])]),(0,s.Wm)(nr.C),(0,s.Wm)(nt.T,{onClick:i.handleReset,icon:"",rounded:"lg",variant:"flat",size:"small",disabled:o.isButtonDisabled,loading:o.isLoadingReset,color:"red",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",icon:"mdi-restart-alert",size:"xx-large"})])),_:1},8,["onClick","disabled","loading"]),(0,s.Wm)(nt.T,{onClick:i.getSales,icon:"",rounded:"lg",variant:"flat",size:"small",color:"blue",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",icon:"mdi-autorenew",size:"xx-large"})])),_:1},8,["onClick"])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[1000px] !tw-overflow-visible":o.showFilters}])},[(0,s.Wm)(d,{sales:i.sales,search:o.search,"search-id":o.searchId,filtered:o.filteredSales,"onUpdate:filtered":e[4]||(e[4]=t=>o.filteredSales=t),selected:i.selectedSales},null,8,["sales","search","search-id","filtered","selected"])],2),(0,s._)("div",JA,[((0,s.wg)(),(0,s.j4)(c,{onSelected:i.handleSelected,"selected-reset":o.selected,key:o.filteredSales.length,sales:o.filteredSales},null,8,["onSelected","selected-reset","sales"]))]),(0,s.Wm)(u,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:!1}),(0,s.Wm)(p,{onCancel:e[6]||(e[6]=t=>o.showPopup=!1),visible:o.showPopup,"onUpdate:visible":e[7]||(e[7]=t=>o.showPopup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const XA={class:"tw-grid tw-grid-cols-12 tw-mb-5"},t$={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-items-center"},e$=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),r$=["value"],a$={class:"tw-relative tw-pb-5 tw-overflow-x-auto tw-min-h-[400px] tw-overflow-y-visible sm:tw-rounded-lg"},s$={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},l$={scope:"col",class:"tw-p-4"},o$={class:"tw-flex tw-items-center"},i$=(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox",-1),w$={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},n$={class:"tw-w-4 tw-p-4 tw-relative"},d$={class:"tw-flex tw-items-center"},c$=["onChange","checked"],u$=(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox",-1),p$={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},g$={class:"tw-px-6 tw-py-4 tw-relative"},m$={key:0},h$={class:"tw-px-6 tw-py-4"},f$=["title"],b$={class:"tw-px-6 tw-py-4 tw-relative"},v$={class:"tw-pb-2"},x$={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},y$={key:0},_$={key:1},k$={class:"tw-absolute tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-text-xs"},C$={key:0,class:"tw-bg-emerald-500/10 tw-text-emerald-500 tw-px-2 tw-rounded-t"},D$={key:1,class:"tw-bg-blue-500/10 tw-text-blue-500 tw-px-2 tw-rounded-t"},S$={class:"tw-px-6 tw-py-4"},z$={class:"tw-px-6 tw-py-4 tw-relative"},U$={class:"tw-flex tw-items-center tw-justify-center"},q$={class:"tw-flex tw-gap-1"},P$={key:0},L$={class:"tw-px-6 tw-py-4"},W$={class:"tw-px-6 tw-py-4 tw-relative"},A$={class:"tw-flex tw-items-center tw-justify-center"},$$={class:"tw-flex tw-gap-1"},E$={key:0},T$={class:"tw-px-6 tw-py-4"},F$={class:"tw-px-6 tw-py-4"},j$={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},I$={class:"tw-col-span-12 md:tw-col-span-12 d-flex tw-justify-end tw-flex-wrap align-center"},V$={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},O$={class:"tw-flex tw-flex-wrap tw-gap-2"},H$={class:"tw-text-white"};function M$(t,e,r,l,o,i){const w=(0,s.up)("SaleConfirmation"),n=(0,s.up)("SaleAffectation"),d=(0,s.up)("SaleDelivery"),c=(0,s.up)("SaleActions");return(0,s.wg)(),(0,s.iD)("div",{key:i.items.length},[(0,s._)("div",XA,[(0,s._)("div",t$,[e$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,r$)))),128))],512),[[a.bM,o.paginationLimit]])])]),(0,s._)("div",a$,[((0,s.wg)(),(0,s.iD)("table",{key:i.reportedForToday.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",s$,[(0,s._)("tr",null,[(0,s._)("th",l$,[(0,s._)("div",o$,[(0,s.wy)((0,s._)("input",{onClick:e[1]||(e[1]=(...t)=>i.handleSelectAll&&i.handleSelectAll(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>o.isAllSelected=t),id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,512),[[a.e8,o.isAllSelected]]),i$])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,wt.C_)([["city"==t&&"!tw-max-w-[150px]"],"tw-px-6 tw-py-3 tw-truncate"]),scope:"col"},[(0,s._)("div",w$,(0,wt.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:(0,wt.C_)([[[t.confirmation,t.delivery].includes("reporter")&&"tw-relative",i.isReportedToday(t)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[(0,s._)("td",n$,[(0,s._)("div",d$,[(0,s._)("input",{onChange:e=>i.handleSelect(e,t.id),checked:i.isSelected(t.id),id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,40,c$),u$])]),(0,s._)("td",p$,(0,wt.zw)(t.id),1),(0,s._)("td",g$,[(0,s.Uk)((0,wt.zw)(t?.created_at?.split("T")[0])+" ",1),"reporter"==t.confirmation||"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[i.isReportedToday(t)?((0,s.wg)(),(0,s.iD)("span",m$," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",h$,[(0,s._)("div",{title:t.city,class:"!tw-max-w-[200px] tw-truncate"},(0,wt.zw)(t.city),9,f$)]),(0,s._)("td",b$,[(0,s._)("div",v$,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",x$,(0,wt.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,wt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",y$,"| "+(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",_$,"| "+(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",k$,[t.counts_from_warehouse?((0,s.wg)(),(0,s.iD)("p",C$," warehouse ")):(0,s.kq)("",!0),t.counts_from_warehouse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",D$," delivery "))])])]),(0,s._)("td",S$,(0,wt.zw)(t.fullname),1),(0,s._)("td",z$,[(0,s._)("div",U$,[((0,s.wg)(),(0,s.j4)(w,{class:(0,wt.C_)("reporter"==t.confirmation&&"tw-mb-1"),sale:t,id:t.id,confirmation:t.confirmation,key:t.confirmation},null,8,["class","sale","id","confirmation"])),"reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",q$,["reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("span",P$,[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,wt.zw)(t?.reported_agente_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",L$,["confirmer"==t.confirmation?((0,s.wg)(),(0,s.j4)(n,{sale:t,affectation:t.affectation,id:t.id,key:t.affectation},null,8,["sale","affectation","id"])):(0,s.kq)("",!0)]),(0,s._)("td",W$,[(0,s._)("div",A$,[((0,s.wg)(),(0,s.j4)(d,{class:(0,wt.C_)("reporter"==t.delivery&&"tw-mb-1"),sale:t,id:t.id,key:t.delivery,delivery:t.delivery},null,8,["class","sale","id","delivery"])),"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",$$,["reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("span",E$,[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,wt.zw)(t.reported_delivery_date),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",T$,(0,wt.zw)(i.getPrice(t)),1),(0,s._)("td",F$,[((0,s.wg)(),(0,s.j4)(c,{id:t.id,key:t.delivery,sale:t},null,8,["id","sale"]))])],2)))),128))])]))]),(0,s._)("div",j$,[(0,s._)("div",I$,[(0,s._)("div",V$,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.sales.length:i.nextRange)+" of "+(0,wt.zw)(r.sales.length)+" items ",1),(0,s._)("div",O$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",H$,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const R$={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},N$=["onClick"],Y$={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Z$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),K$={class:"tw-flex tw-justify-end tw-mt-2"};function B$(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("SaleConfirmationReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,wt.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,wt.zw)(i.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",R$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,wt.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,wt.zw)(t.name),3)],8,N$)))),128))])],2),(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",Y$,[Z$,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",K$,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(n,{order:r.sale,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])),[[ie.L,i.close]])}const Q$={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},J$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),G$=(0,s._)("br",null,null,-1),X$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),tE={class:"tw-flex tw-justify-end tw-mt-2"};function eE(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Q$,[J$,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),G$,X$,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",tE,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var rE={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.isLoading=!0,ba.agenteUpdateConfirmation(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const aE=(0,m.Z)(rE,[["render",eE]]);var sE=aE,lE={props:["confirmation","id","sale"],components:{SaleConfirmationReporting:sE},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",noteReporter:"",selectedId:0,allOptions:jn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleClick(){this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))},handleClickReporter(){this.showPopupReporter=!1},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ba.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},async updateOrderWithNote(){return this.isLoading=!0,ba.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("sale/updateConfirmation",{id:t,confirmation:e})},updateConfirmationNote(t,e,r){this.$store.dispatch("sale/updateConfirmationWithNote",{id:t,confirmation:e,note:r})}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const oE=(0,m.Z)(lE,[["render",B$]]);var iE=oE;const wE={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},nE=["onClick"],dE={class:"tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100"},cE={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function uE(t,e,r,a,l,o){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:"tw-whitespace-nowrap focus:tw-ring-4 tw-ring-neutral-200 tw-bg-neutral-600/10 tw-text-neutral-800 focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center",type:"button"},[(0,s.Uk)((0,wt.zw)(o.selected.firstname)+" "+(0,wt.zw)(o.selected.lastname)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",wE,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",dE,(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),1)],8,nE)))),128))])],2)])),[[ie.L,o.close]]):((0,s.wg)(),(0,s.iD)("div",cE,[(0,s.Wm)(ct.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var pE={props:["affectation","id","sale"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,old:null}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},fetched(){return this.$store.getters["user/fetched"]},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.sale.items.some((e=>e.product_id==t.product_id))))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(this.old=this.affectation,t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},updateOrder(){ba.agenteUpdateAffectaion(this.id,this.selectedId).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateAffectation(this.id,this.selected.id),this.isLoading=!1)}),(t=>{this.$handleApiError(t),this.isLoading=!1,this.selectedId=this.old}))},updateAffectation(t,e){this.$store.dispatch("sale/updateAffectation",{id:t,affectation:e})}},mounted(){this.selectedId=this.affectation}};const gE=(0,m.Z)(pE,[["render",uE]]);var mE=gE;const hE={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},fE=["onClick"];function bE(t,e,r,a,l,o){const i=(0,s.up)("SaleDeliveryReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,wt.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,wt.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",hE,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,wt.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,wt.zw)(t.name),3)],8,fE)))),128))])],2),(0,s.Wm)(i,{order:r.sale,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])),[[ie.L,o.close]])}const vE={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},xE=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),yE=(0,s._)("br",null,null,-1),_E=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),kE={class:"tw-flex tw-justify-end tw-mt-2"};function CE(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",vE,[xE,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),yE,_E,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",kE,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var DE={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ba.deliveryUpdateDelivery(t.id,"reporter",t).then((()=>{this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const SE=(0,m.Z)(DE,[["render",CE]]);var zE=SE,UE={props:["delivery","id","sale"],components:{SaleDeliveryReporting:zE},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Hn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){return t.id!==this.selectedId&&("reporter"!==t.value?(this.selectedId=t.id,this.updateOrder(),this.close(),!0):void("reporter"==t.value&&(this.showPopupReporter=!0,this.close())))},async updateOrder(){return this.isLoading=!0,ba.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("sale/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const qE=(0,m.Z)(UE,[["render",bE]]);var PE=qE;const LE={key:0};function WE(t,e,r,a,l,o){const i=(0,s.up)("SaleHistory"),w=(0,s.up)("popup-full"),n=(0,s.up)("UpdateSale");return r.sale?((0,s.wg)(),(0,s.iD)("div",LE,[(0,s.Wm)(nt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.sale.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"]),t.$can("update_sale")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(t.$can("view_sale"),(0,s.kq)("",!0)),(t.$can("delete_sale"),(0,s.kq)("",!0)),(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=t=>l.showHistoryPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"teal",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-ascending-outline")])),_:1})])),_:1}),(0,s.Wm)(w,{visible:l.showHistoryPopup,onCancel:e[4]||(e[4]=t=>l.showHistoryPopup=!1)},{default:(0,s.w5)((()=>[l.showHistoryPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[3]||(e[3]=t=>l.showHistoryPopup=!1),sale:r.sale},null,8,["sale"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(n,{visible:l.showUpdatePopup,"onUpdate:visible":e[5]||(e[5]=t=>l.showUpdatePopup=t),order:r.sale},null,8,["visible","order"])])):(0,s.kq)("",!0)}var AE=r(7103),$E=r(795),EE=r(2773);const TE={class:"md:tw-w-[50%] tw-max-h-full tw-relative tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},FE={key:0,class:"tw-w-full tw-h-full"},jE={key:1,class:"tw-p-5"},IE={class:"d-flextw-flex-col justify-space-between flex-grow-1"},VE={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},OE={class:"tw-text-sm tw-capitalize tw-text-neutral-600"},HE={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},ME={class:"d-flextw-flex-col justify-space-between flex-grow-1"},RE={class:"tw-flex tw-flex-col tw-my-2"},NE=(0,s._)("div",null," New Order Created ",-1),YE={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"};function ZE(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",TE,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",FE,[(0,s.Wm)(i,{class:"text-primary-color"})])),(0,s.Wm)(nt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",jE,[(0,s.Wm)($E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(EE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",IE,[(0,s._)("div",VE,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",OE,(0,wt.zw)(t.users.firstname)+" "+(0,wt.zw)(t.users.lastname),1),(0,s._)("div",HE,[(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(EE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",ME,[(0,s._)("div",RE,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),NE]),(0,s._)("div",YE,[(0,s._)("span",null,(0,wt.zw)(r.sale.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(r.sale.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)])}var KE={props:["sale"],data(){return{isLoaded:!1,allEvents:[]}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("cancel")},getHistory(){this.isLoaded=!1,ba.history(this.sale.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const BE=(0,m.Z)(KE,[["render",ZE]]);var QE=BE;const JE={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},GE={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},XE=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),tT={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},eT={class:"md:tw-col-span-6 tw-col-span-12"},rT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),aT={class:"md:tw-col-span-6 tw-col-span-12"},sT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),lT={class:"md:tw-col-span-6 tw-col-span-12"},oT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),iT=["value"],wT=["value"],nT={class:"md:tw-col-span-6 tw-col-span-12"},dT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),cT={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},uT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),pT={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},gT={class:"tw-col-span-12"},mT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),hT={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},fT={class:"tw-col-span-12 md:tw-col-span-4"},bT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),vT={class:"tw-col-span-12 md:tw-col-span-8"},xT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),yT={class:"md:tw-col-span-6 tw-col-span-12"},_T=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),kT={class:"md:tw-col-span-6 tw-col-span-12"},CT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),DT=["value"],ST={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},zT={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},UT={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},qT=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),PT={class:"tw-flex tw-flex-col tw-justify-center"},LT=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),WT={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},AT={key:2,class:"md:tw-col-span-12 tw-col-span-12"},$T={class:"tw-max-w-full tw-overflow-auto"},ET={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},TT={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},FT={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},jT=["src"],IT={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},VT=["onUpdate:modelValue"],OT=(0,s._)("option",{value:0},"Select",-1),HT=["value"],MT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},RT=["disabled","onUpdate:modelValue"],NT=(0,s._)("option",{value:0},"Select",-1),YT=["value"],ZT={key:0},KT={key:1},BT={key:2},QT={key:3},JT=["value"],GT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},XT={class:"md:tw-col-span-6 tw-col-span-12"},tF=["onUpdate:modelValue"],eF={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},rF={key:0},aF={key:1,class:"md:tw-col-span-6 tw-col-span-12"},sF=["onUpdate:modelValue"],lF={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},oF={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},iF=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),wF={class:"md:tw-col-span-12 tw-col-span-12"},nF={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},dF=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),cF={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},uF=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),pF={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},gF=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),mF={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},hF=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),fF={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},bF={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},vF=(0,s._)("span",{class:"text-white"}," Cancel ",-1),xF=(0,s._)("span",{class:"text-white"}," Update ",-1);function yF(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",JE,[(0,s.Wm)(w)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",GE,[XE,(0,s._)("div",tT,[(0,s._)("div",eT,[rT,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",aT,[sT,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",lT,[oT,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,wt.zw)(o.sale.city),9,iT),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,wT)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",nT,[dT,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",cT,[uT,(0,s.Wm)(n,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",pT,[(0,s._)("div",gT,[mT,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",hT,[(0,s._)("div",fT,[bT,(0,s._)("div",null,(0,wt.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",vT,[xT,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",yT,[_T,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",kT,[CT,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,wt.zw)(t.name),9,DT)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",ST,[(0,s._)("div",zT,[(0,s._)("label",UT,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),qT]),(0,s._)("label",PT,[(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),LT,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",WT," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",AT,[(0,s._)("div",$T,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",ET,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",TT,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",FT,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,jT)):(0,s.kq)("",!0)])])),(0,s._)("th",IT,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[OT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,HT)))),128))],8,VT),[[a.bM,t.product.id]])])])]),(0,s._)("th",MT,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[NT,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",KT,(0,wt.zw)(t.size)+" / "+(0,wt.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",BT,(0,wt.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",QT,(0,wt.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",ZT,"-"))],8,YT)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,JT))],8,RT)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",GT,[(0,s._)("div",XT,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,tF),[[a.nr,t.quantity]])])]),(0,s._)("th",eF,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",rF," - ")):((0,s.wg)(),(0,s.iD)("div",aF,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,sF),[[a.nr,t.price]])]))])]),(0,s._)("th",lF,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",oF,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),iF])),_:1},8,["onClick"])])]),(0,s._)("div",wF,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",nF,[dF,(0,s._)("div",cF,[uF,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",pF,[gF,(0,s._)("div",mF,[hF,(0,s._)("div",fF,(0,wt.zw)(o.currency)+" "+(0,wt.zw)(i.total_price),1)])])]),(0,s._)("div",bF,[(0,s.Wm)(nt.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[vF])),_:1},8,["onClick"]),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[xF])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const _F={class:"tw-relative"},kF=["value"],CF={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},DF=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),SF={class:"tw-flex tw-justify-end tw-mt-2"};function zF(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("AddOrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px] tw-w-full"},[(0,s._)("div",null,[(0,s._)("div",_F,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.confirmationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text,!t.value&&"!tw-text-gray-700"]),key:t.id,value:t.value},(0,wt.zw)(t.name),11,kF)))),128))],512),[[a.bM,i.confirmationValue]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",CF,[DF,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",SF,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(n,{order:r.order,onConfirm:i.handleReportedDate,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","onConfirm","visible"])])),[[ie.L,i.close]])}const UF={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},qF=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),PF=(0,s._)("br",null,null,-1),LF=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),WF={class:"tw-flex tw-justify-end tw-mt-2"};function AF(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",UF,[qF,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),PF,LF,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",WF,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var $F={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.$emit("confirm",{reported_agente_date:this.realDate,reported_agente_note:this.note}),this.isLoading=!0},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}}};const EF=(0,m.Z)($F,[["render",AF]]);var TF=EF,FF={props:["confirmation","id","order"],components:{AddOrderReporting:TF},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:jn,reported_agente_date:null,reported_agente_note:"",showPopupReporter:!1}},watch:{},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},confirmationValue:{get(){return this.confirmation},set(t){switch(t){case"reporter":this.showPopupReporter=!0;break;case"confirmer":this.showPopup=!0;break;default:this.$emit("update:confirmation",t);break}}},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleReportedDate(t){this.reported_agente_date=t.reported_agente_date,this.reported_agente_note=t.reported_agente_note,this.$emit("update:confirmation","reporter"),this.$emit("reported",t),this.showPopupReporter=!1},handleClick(){this.showPopup=!1,this.$emit("update:confirmation","confirmer"),this.$emit("confirmed",this.note)},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ba.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t)))},async updateOrderWithNote(){return this.isLoading=!0,ba.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationWithNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("order/updateConfirmation",{id:t,confirmation:e}),this.$emit("update",e)},updateConfirmationWithNote(t,e,r){this.$store.dispatch("order/updateConfirmationWithNote",{id:t,confirmation:e,note:r}),this.$emit("update",e)}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const jF=(0,m.Z)(FF,[["render",zF]]);var IF=jF;const VF={class:"tw-relative"},OF=["disabled"],HF=["value"],MF={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function RF(t,e,r,l,o,i){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("div",null,[(0,s._)("div",VF,[(0,s.wy)((0,s._)("select",{disabled:"confirmer"!=r.confirmation,"onUpdate:modelValue":e[0]||(e[0]=t=>i.affectationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.firstname+" "+t.lastname),9,HF)))),128))],8,OF),[[a.bM,i.affectationValue]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),[[ie.L,i.close]]):((0,s.wg)(),(0,s.iD)("div",MF,[(0,s.Wm)(ct.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var NF={props:["affectation","id","order","confirmation","items","productIds"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,fetched:!1}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},order_items(){return this.items},affectationValue:{get(){return this.affectation},set(t){this.$emit("update:affectation",t)}},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.productIds.includes(t.product_id)))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},getUsers(){this.fetched=!1,ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0),this.fetched=!0}})).catch(this.$handleApiError)}},mounted(){this.selectedId=this.affectation,this.getUsers()}};const YF=(0,m.Z)(NF,[["render",RF]]);var ZF=YF;const KF=(0,s._)("h1",{class:"tw-mb-2 tw-font-medium"},"Offers",-1),BF={class:"tw-relative tw-overflow-x-auto tw-border-b sm:tw-rounded"},QF={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},JF=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),GF={class:"tw-px-6 tw-py-4"},XF={class:"tw-px-6 tw-py-4"},tj={class:"tw-px-6 tw-py-4"},ej={class:"tw-px-6 tw-py-4"},rj={class:"tw-max-w-[250px] tw-text-sm"},aj={key:0},sj=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),lj=[sj];function oj(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[KF,(0,s._)("div",null,[(0,s._)("div",BF,[(0,s._)("table",QF,[JF,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",GF,(0,wt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",XF,(0,wt.zw)(t.quantity),1),(0,s._)("td",tj,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",ej,[(0,s._)("p",rj,(0,wt.zw)(t.note),1)])])))),128)),0==o.offers.length?((0,s.wg)(),(0,s.iD)("tr",aj,lj)):(0,s.kq)("",!0)])])])])])}var ij={props:["productIds"],data(){return{currency:c}},computed:{products(){return this.$store.getters["product/products"]},offers(){return this.products.filter((t=>this.productIds.includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}}};const wj=(0,m.Z)(ij,[["render",oj]]);var nj=wj,dj={components:{AddOrderConfirmation:IF,AddOrderAffectation:ZF,ProductOffers:nj},props:["visible","order"],data(){return{upsells:On,serverUrl:n,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!1}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,order_id:this.order.id,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},update(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={id:this.sale.id,fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};"confirmer"!=t.confirmation&&(t.affectation=null,t.delivery=null),this.isLoading=!0,ba.update(t.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"Order updated"}),this.$store.dispatch("sale/update",{id:t.id,sale:e.data.data.sale}),this.$emit("update:visible",!1),this.$emit("updateOrder",e.data.data.sale))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.sale={...this.order},this.items=[...this.order.items],this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.sale={...this.order},this.items=[...this.order.items]}};const cj=(0,m.Z)(dj,[["render",yF]]);var uj=cj,pj={props:["sale"],name:"saleActions",components:{SaleHistory:QE,UpdateSale:uj},data(){return{showPopup:!1,showUpdatePopup:!1,showHistoryPopup:!1,isLoading:!1}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{}};const gj=(0,m.Z)(pj,[["render",WE]]);var mj=gj,hj={props:{sales:{required:!0},selectedReset:{required:!1,default:[]}},components:{SaleConfirmation:iE,SaleAffectation:mE,SaleDelivery:PE,SaleActions:mj},data(){return{allowedLimit:[5,10,20,50,100,300,500],currentPage:1,paginationLimit:50,todayDate:null,selected:[],isAllSelected:!1,columns:["id","date","city","products","client","confirmation","affectation","delivery","price","actions"]}},watch:{selectedReset(t){this.selected=t,0==this.selected.length&&(this.isAllSelected=!1)},paginationLimit(){this.currentPage=1},selected(t){this.$emit("selected",t)}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sales.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.sales.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.sales.filter(this.isReportedToday)}},methods:{getPrice(t){return vo(t)},isReportedToday(t){return this.isConfirmationReportedToday(t)||this.isDeliveryReportedToday(t)},isDeliveryReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date?.split("T")[0]==this.todayDate},isConfirmationReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date?.split("T")[0]==this.todayDate},handleSelect(t,e){t.target.checked?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!=e))},isSelected(t){return this.selected.includes(t)},handleSelectAll(t){t.target.checked?this.selected=[...this.items.map((t=>t.id))]:this.selected=[]}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const fj=(0,m.Z)(hj,[["render",M$]]);var bj=fj;const vj={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},xj={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},yj=(0,s._)("h1",{class:"tw-text-lg"},"Create Order",-1),_j={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},kj={class:"md:tw-col-span-6 tw-col-span-12"},Cj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),Dj={class:"md:tw-col-span-6 tw-col-span-12"},Sj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),zj={class:"md:tw-col-span-6 tw-col-span-12"},Uj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),qj=["value"],Pj={class:"md:tw-col-span-6 tw-col-span-12"},Lj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),Wj={class:"md:tw-col-span-12 tw-col-span-12"},Aj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),$j={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},Ej=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse",-1),Tj=(0,s._)("option",{value:0}," Select ",-1),Fj=["value"],jj={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},Ij=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),Vj=(0,s._)("option",{value:0}," Select ",-1),Oj=["value"],Hj={class:"md:tw-col-span-6 tw-col-span-12"},Mj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variations",-1),Rj=(0,s._)("option",{value:0}," Select ",-1),Nj=["value"],Yj={class:"md:tw-col-span-6 tw-col-span-12"},Zj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Kj={class:"md:tw-col-span-6 tw-col-span-12"},Bj={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Qj={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},Jj=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Gj={class:"tw-flex tw-flex-col tw-justify-center"},Xj={class:"md:tw-col-span-6 tw-col-span-12"},tI={key:0,class:"md:tw-col-span-12 tw-col-span-12"},eI={class:"tw-max-w-full tw-overflow-auto"},rI={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},aI={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},sI={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},lI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},oI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},iI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},wI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},nI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},dI={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},cI=(0,s._)("span",{class:"text-white"}," Cancel ",-1),uI=(0,s._)("span",{class:"text-white"}," Save ",-1);function pI(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[12]||(e[12]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vj,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",xj,[yj,(0,s._)("div",_j,[(0,s._)("div",kj,[Cj,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",Dj,[Sj,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",zj,[Uj,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,qj)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",Pj,[Lj,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",Wj,[Aj,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>o.sale.price=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])]),(0,s._)("div",$j,[Ej,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.warehouse_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Tj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Fj)))),128))],512),[[a.bM,o.warehouse_id]])]),(0,s._)("div",jj,[Ij,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.product_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Vj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Oj)))),128))],512),[[a.bM,o.product_id]])]),(0,s._)("div",Hj,[Mj,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.product_variation_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Rj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.size)+" / "+(0,wt.zw)(t.color),9,Nj)))),128))],512),[[a.bM,o.product_variation_id]])]),(0,s._)("div",Yj,[Zj,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>o.quantity=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.quantity]])]),(0,s._)("div",Kj,[(0,s._)("div",Bj,[(0,s._)("label",Qj,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),Jj]),(0,s._)("label",Gj,[(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),(0,s._)("div",Xj,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-block tw-ml-auto tw-py-1 tw-px-4 tw-rounded tw-bg-emerald-500 tw-text-white"}," Add ")]),o.items.length?((0,s.wg)(),(0,s.iD)("div",tI,[(0,s._)("div",eI,[(0,s._)("table",rI,[(0,s._)("thead",aI,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","warehouse","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",sI,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",lI,(0,wt.zw)(t.product.name),1),(0,s._)("th",oI,(0,wt.zw)(t.product_variation.size)+" / "+(0,wt.zw)(t.product_variation.color),1),(0,s._)("th",iI,(0,wt.zw)(t.quantity),1),(0,s._)("th",wI,(0,wt.zw)(t.product_variation.warehouse.name),1),(0,s._)("th",nI,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])):(0,s.kq)("",!0)]),(0,s._)("div",dI,[(0,s.Wm)(nt.T,{onClick:e[11]||(e[11]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[cI])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[uI])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var gI={props:["visible"],data(){return{isLoading:!1,isLoaded:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],sale:{fullname:"",phone:"",city:"",adresse:"",price:0,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0}},computed:{products(){return this.$store.getters["product/products"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return 0==this.warehouse_id?[]:this.products.filter((t=>t.variations.some((t=>t.warehouse_id==this.warehouse_id))))},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,orderItems:this.items,counts_from_warehouse:!0};ba.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sale created successfully"}),this.$store.dispatch("sale/add",t.data.data.sale))}),this.$handleApiError).finally((()=>this.isLoading=!1))},deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},addItem(){if([this.warehouse_id,this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:0};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.item_id+=1},getProducts(){ha.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}},mounted(){this.getProducts(),this.sale.city=this.cities[0].name||1}};const mI=(0,m.Z)(gI,[["render",pI]]);var hI=mI;const fI={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},bI={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},vI=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),xI={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},yI={class:"md:tw-col-span-6 tw-col-span-12"},_I=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),kI={class:"md:tw-col-span-6 tw-col-span-12"},CI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),DI={class:"md:tw-col-span-6 tw-col-span-12"},SI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),zI=["value"],UI=["value"],qI={class:"md:tw-col-span-6 tw-col-span-12"},PI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),LI={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},WI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),AI={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},$I={class:"tw-col-span-12"},EI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),TI={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},FI={class:"tw-col-span-12 md:tw-col-span-4"},jI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),II={class:"tw-col-span-12 md:tw-col-span-8"},VI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),OI={class:"md:tw-col-span-6 tw-col-span-12"},HI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),MI={class:"md:tw-col-span-6 tw-col-span-12"},RI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),NI=["value"],YI={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},ZI={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},KI={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},BI=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),QI={class:"tw-flex tw-flex-col tw-justify-center"},JI=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),GI={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},XI={key:2,class:"md:tw-col-span-12 tw-col-span-12"},tV={class:"tw-max-w-full tw-overflow-auto"},eV={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},rV={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},aV={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},sV=["src"],lV={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},oV=["onUpdate:modelValue"],iV=(0,s._)("option",{value:0},"Select",-1),wV=["value"],nV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},dV=["disabled","onUpdate:modelValue"],cV=(0,s._)("option",{value:0},"Select",-1),uV=["value"],pV={key:0},gV={key:1},mV={key:2},hV={key:3},fV=["value"],bV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},vV={class:"md:tw-col-span-6 tw-col-span-12"},xV=["onUpdate:modelValue"],yV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},_V={key:0},kV={key:1,class:"md:tw-col-span-6 tw-col-span-12"},CV=["onUpdate:modelValue"],DV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},SV={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},zV=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),UV={class:"md:tw-col-span-12 tw-col-span-12"},qV={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},PV=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),LV={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},WV=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),AV={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},$V=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),EV={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},TV=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),FV={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},jV={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},IV=(0,s._)("span",{class:"text-white"}," Cancel ",-1),VV=(0,s._)("span",{class:"text-white"}," Create ",-1);function OV(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fI,[(0,s.Wm)(w)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",bI,[vI,(0,s._)("div",xI,[(0,s._)("div",yI,[_I,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",kI,[CI,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",DI,[SI,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,wt.zw)(o.sale.city),9,zI),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,UI)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",qI,[PI,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",LI,[WI,(0,s.Wm)(n,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",AI,[(0,s._)("div",$I,[EI,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",TI,[(0,s._)("div",FI,[jI,(0,s._)("div",null,(0,wt.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",II,[VI,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",OI,[HI,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",MI,[RI,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,wt.zw)(t.name),9,NI)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",YI,[(0,s._)("div",ZI,[(0,s._)("label",KI,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),BI]),(0,s._)("label",QI,[(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),JI,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",GI," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",XI,[(0,s._)("div",tV,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",eV,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",rV,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",aV,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,sV)):(0,s.kq)("",!0)])])),(0,s._)("th",lV,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[iV,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,wV)))),128))],8,oV),[[a.bM,t.product.id]])])])]),(0,s._)("th",nV,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[cV,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",gV,(0,wt.zw)(t.size)+" / "+(0,wt.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",mV,(0,wt.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",hV,(0,wt.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",pV,"-"))],8,uV)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,fV))],8,dV)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",bV,[(0,s._)("div",vV,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,xV),[[a.nr,t.quantity]])])]),(0,s._)("th",yV,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",_V," - ")):((0,s.wg)(),(0,s.iD)("div",kV,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,CV),[[a.nr,t.price]])]))])]),(0,s._)("th",DV,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",SV,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),zV])),_:1},8,["onClick"])])]),(0,s._)("div",UV,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",qV,[PV,(0,s._)("div",LV,[WV,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",AV,[$V,(0,s._)("div",EV,[TV,(0,s._)("div",FV,(0,wt.zw)(o.currency)+" "+(0,wt.zw)(i.total_price),1)])])]),(0,s._)("div",jV,[(0,s.Wm)(nt.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[IV])),_:1},8,["onClick"]),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[VV])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var HV={components:{AddOrderConfirmation:IF,AddOrderAffectation:ZF,ProductOffers:nj},props:["visible","order"],data(){return{upsells:On,serverUrl:n,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},create(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};this.isLoading=!0,ba.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"New Order Added"}),this.$store.dispatch("sale/add",t.data.data.sale),this.$emit("update:visible",!1))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){}};const MV=(0,m.Z)(HV,[["render",OV]]);var RV=MV;const NV={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},YV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ZV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},KV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},BV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},QV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},JV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},GV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},XV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"};function tO(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),w=(0,s.up)("UpsellFilter"),n=(0,s.up)("ConfirmationFilter"),d=(0,s.up)("AffectationFilter"),c=(0,s.up)("AgenteFilter"),u=(0,s.up)("DeliveryFilter"),p=(0,s.up)("ProductFilter"),g=(0,s.up)("ExcelExport");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",NV,[(0,s._)("div",YV,[(0,s.Wm)(i,{filter:l.config.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>l.config.dateFilter=t)},null,8,["filter"])]),(0,s._)("div",ZV,[(0,s.Wm)(w,{filter:l.config.upsellFilter,"onUpdate:filter":e[1]||(e[1]=t=>l.config.upsellFilter=t)},null,8,["filter"])]),(0,s._)("div",KV,[(0,s.Wm)(n,{filter:l.config.confirmationFilter,"onUpdate:filter":e[2]||(e[2]=t=>l.config.confirmationFilter=t)},null,8,["filter"])]),(0,s._)("div",BV,[(0,s.Wm)(d,{filter:l.config.affectationFilter,"onUpdate:filter":e[3]||(e[3]=t=>l.config.affectationFilter=t)},null,8,["filter"])]),(0,s._)("div",QV,[(0,s.Wm)(c,{filter:l.config.agenteFilter,"onUpdate:filter":e[4]||(e[4]=t=>l.config.agenteFilter=t)},null,8,["filter"])]),(0,s._)("div",JV,[(0,s.Wm)(u,{filter:l.config.deliveryFilter,"onUpdate:filter":e[5]||(e[5]=t=>l.config.deliveryFilter=t)},null,8,["filter"])]),(0,s._)("div",GV,[(0,s.Wm)(p,{filter:l.config.productFilter,"onUpdate:filter":e[6]||(e[6]=t=>l.config.productFilter=t)},null,8,["filter"])]),(0,s._)("div",XV,[(0,s.Wm)(g,{selected:r.selected,filtered:r.filtered,sales:r.sales},null,8,["selected","filtered","sales"])])])])}const eO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),rO=["onClick"];function aO(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[eO,(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,rO)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var sO={data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const lO=(0,m.Z)(sO,[["render",aO]]);var oO=lO;const iO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),wO={class:"tw-relative"},nO=(0,s._)("option",{value:"all"},"Select",-1),dO=(0,s._)("option",{value:"oui"},"Oui",-1),cO=(0,s._)("option",{value:"non"},"Non",-1),uO=[nO,dO,cO];function pO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[iO,(0,s._)("div",wO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},uO,512),[[a.bM,o.value]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var gO={data(){return{value:"all"}},watch:{value(t){this.$emit("update:filter",t)}}};const mO=(0,m.Z)(gO,[["render",pO]]);var hO=mO;const fO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),bO={class:"tw-relative"},vO=["value"];function xO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[fO,(0,s._)("div",bO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value?t.value:"all",key:t.id},(0,wt.zw)(t.value?t.name:"Select"),9,vO)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var yO={props:["filter"],data(){return{deliveryFilter:"all",deliveryStatus:Hn}},watch:{deliveryFilter(t){this.$emit("update:filter",t)}}};const _O=(0,m.Z)(yO,[["render",xO]]);var kO=_O;const CO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Confirmation",-1),DO={class:"tw-relative"},SO=(0,s._)("option",{value:"all"}," Select ",-1),zO=["value"];function UO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[CO,(0,s._)("div",DO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.confirmationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[SO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value},(0,wt.zw)(t.name),9,zO)))),128))],512),[[a.bM,o.confirmationFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var qO={props:["filter"],data(){return{confirmationFilter:"all",confirmations:jn}},watch:{confirmationFilter(t){this.$emit("update:filter",t)}}};const PO=(0,m.Z)(qO,[["render",UO]]);var LO=PO;const WO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Affecté",-1),AO={class:"tw-relative"},$O=(0,s._)("option",{value:"all"},"Select",-1),EO=(0,s._)("option",{value:null},"Without delivery",-1),TO=["value"];function FO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[WO,(0,s._)("div",AO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.affectationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[$O,EO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,TO)))),128))],512),[[a.bM,o.affectationFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var jO={props:["filter"],data(){return{affectationFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))}},watch:{affectationFilter(t){this.$emit("update:filter",t)}}};const IO=(0,m.Z)(jO,[["render",FO]]);var VO=IO;const OO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agente",-1),HO={class:"tw-relative"},MO=(0,s._)("option",{value:"all"},"Select",-1),RO=(0,s._)("option",{value:null},"Without agente",-1),NO=["value"];function YO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[OO,(0,s._)("div",HO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.agenteFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[MO,RO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agentes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,NO)))),128))],512),[[a.bM,o.agenteFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var ZO={props:["filter"],data(){return{agenteFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},agentes(){return this.users.filter((t=>2==t.role.id))}},watch:{agenteFilter(t){this.$emit("update:filter",t)}}};const KO=(0,m.Z)(ZO,[["render",YO]]);var BO=KO;const QO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Product",-1),JO={key:0},GO={key:1,class:"tw-relative"},XO=(0,s._)("option",{value:"all"},"Select",-1),tH=["value"];function eH(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[QO,i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",JO,[(0,s._)("div",null,[(0,s.Wm)(ct.t,{class:"tw-text-orange-500 tw-animate-spin tw-text-lg tw-"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),i.fetched?((0,s.wg)(),(0,s.iD)("div",GO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[XO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,tH)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])):(0,s.kq)("",!0)])}var rH={props:["filter"],data(){return{productFilter:"all"}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},watch:{productFilter(t){this.$emit("update:filter",t)}},methods:{getProducts(){ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts(),console.log(this.products)}};const aH=(0,m.Z)(rH,[["render",eH]]);var sH=aH;function lH(t,e,r,{confirmationFilter:a,affectationFilter:s,upsellFilter:l,deliveryFilter:o,agenteFilter:i,dateFilter:w,productFilter:n}){const d=w[0],c=w[1];return t.filter((t=>{const w=new Date(t.created_at);if(""!=r&&r!=t.id)return!1;if("all"!==a&&t.confirmation!==a)return!1;if("all"!==s&&t.affectation!=s)return!1;if("all"!==l&&t.upsell!=l)return!1;if("all"!==o&&t.delivery!=o)return!1;if("all"!==i&&t.agente_id!=i)return!1;const u=((t,e)=>{for(const r in t)if(!["created_at","updated_at","sheets_id","reported_agente_note","reported_agente_note","reported_agente_date","reported_delivery_note","reported_delivery_date"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(t,e);if(!u)return!1;if("all"!==n&&!t.items.some((t=>t.product_id==n)))return!1;const p=w.getDate(),g=w.getMonth(),m=w.getFullYear();if(d){const t=d.getDate(),e=d.getMonth(),r=d.getFullYear();if(m<r||m===r&&g<e||m===r&&g===e&&p<t)return!1}if(c){const t=c.getDate(),e=c.getMonth(),r=c.getFullYear();if(m>r||m===r&&g>e||m===r&&g===e&&p>t)return!1}return!0}))}function oH(t){return{id:1,title:"New",value:t.filter((t=>!t.confirmation||"new"==t.confirmation)).length,pourcentage:(100*t.filter((t=>!t.confirmation||"new"==t.confirmation)).length/t.length).toFixed(2),color:"primary-green",icon:"mdi mdi-new-box"}}function iH(t){return{id:3,title:"Confirmed",value:t.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*t.filter((t=>"confirmer"==t.confirmation)).length/t.length).toFixed(2),color:"deep-purple-accent-2",icon:"mdi-phone-check"}}function wH(t){return{id:4,title:"Delivered",value:t.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*t.filter((t=>"livrer"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi-account-check-outline"}}function nH(t){return{id:5,title:"Shipped",value:t.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*t.filter((t=>"expidier"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red",icon:"mdi-truck"}}const dH=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Export",-1),cH={class:"tw-relative tw-flex tw-items-center tw-gap-2 tw-justify-between"},uH={class:"tw-relative tw-w-full"},pH=(0,s._)("option",{value:"all"},"All Sales",-1),gH=(0,s._)("option",{value:"selected"},"Selected Sales",-1),mH=(0,s._)("option",{value:"filtered"},"Filtered Sales",-1),hH=[pH,gH,mH];function fH(t,e,r,l,o,i){const w=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",null,[dH,(0,s._)("div",cH,[(0,s._)("div",uH,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.selection=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},hH,512),[[a.bM,o.selection]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s.Wm)(w,{delimiter:";",data:i.toImport},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.T,{onClick:i.handleImport,icon:"",rounded:"lg",variant:"flat",size:"x-small",color:"green",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",icon:"mdi-download",size:"x-large"})])),_:1},8,["onClick"])])),_:1},8,["data"])])])}var bH={props:["selected","filtered","sales"],data(){return{selection:"all"}},computed:{toImport(){const t=this.data.map((t=>({...t}))),e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));return a.map((t=>(delete t["items"],t)))},data(){switch(this.selection){case"selected":return this.selected;case"filtered":return this.filtered;default:return this.sales}}},methods:{handleImport(){0==this.data.length&&this.$alert({title:"No Data To Export",type:"warning"})}}};const vH=(0,m.Z)(bH,[["render",fH]]);var xH=vH,yH={components:{DateFilter:oO,UpsellFilter:hO,DeliveryFilter:kO,ConfirmationFilter:LO,AffectationFilter:VO,AgenteFilter:BO,ProductFilter:sH,ExcelExport:xH},props:["sales","filtered","search","searchId","selected"],data(){return{config:{confirmationFilter:"all",affectationFilter:"all",upsellFilter:"all",deliveryFilter:"all",agenteFilter:"all",productFilter:"all",dateFilter:[null,null]}}},computed:{results(){return lH(this.sales,this.search,this.searchId,this.config)}},watch:{results(t){this.$emit("update:filtered",t)}},mounted(){this.$emit("update:filtered",this.sales)}};const _H=(0,m.Z)(yH,[["render",tO]]);var kH=_H;const CH={class:"mb-5 tw-border-b tw-border-solid tw-pb-5 tw-border-neutral-200"},DH={class:"tw-grid tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2"},SH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},zH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},UH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},qH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-4"};function PH(t,e,r,a,l,o){const i=(0,s.up)("DashItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",CH,[(0,s._)("div",DH,[(0,s._)("div",SH,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",zH,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",UH,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",qH,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])])])])])}const LH={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},WH={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},AH={class:"tw-text-xl tw-font-bold"},$H={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},EH={class:"tw-text-sm"},TH={class:"rounded-circle tw-w-fit tw-mr-3"};function FH(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Qa.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",LH,[(0,s._)("div",WH,[(0,s._)("p",AH,(0,wt.zw)(isNaN(r.dash.pourcentage)?"0.00":r.dash.pourcentage)+" "+(0,wt.zw)(r.symbol),1),(0,s._)("span",$H,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",EH,(0,wt.zw)(r.dash.title),1)])]),(0,s._)("div",TH,[(0,s.Wm)(ct.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var jH={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const IH=(0,m.Z)(jH,[["render",FH]]);var VH=IH,OH={components:{DashItem:VH},props:["sales"],computed:{newSales(){return oH(this.sales)},confirmedSales(){return iH(this.sales)},deliveredSales(){return wH(this.sales)},shippedSales(){return nH(this.sales)}}};const HH=(0,m.Z)(OH,[["render",PH]]);var MH=HH,RH={components:{SalesTable:bj,AddSale:hI,SalesAnalytics:MH,IndexFilter:kH,NewAddSale:RV},data(){return{localUrl:w,isLoaded:!1,isLoadingReset:!1,showFilters:!1,isButtonDisabled:!0,filteredSales:[],search:"",searchId:"",selected:[],showPopup:!1}},computed:{fetched(){return this.$store.getters["sale/fetched"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))},agentes(){return this.users.filter((t=>2==t.role.id))},sales(){return this.$store.getters["sale/sales"]},cities(){return this.$store.getters["city/cities"]},selectedSales(){return this.sales.filter((t=>this.selected.includes(t.id)))}},methods:{handleSelected(t){this.selected=t,this.selected.length>0?this.isButtonDisabled=!1:this.isButtonDisabled=!0},async getDeliveries(){await ot.deliveries().then((t=>{this.$store.dispatch("user/setDeliveries",t.data.data)}),this.$handleApiError)},async getUsers(){await ot.all().then((t=>{this.$store.dispatch("user/setUsers",t.data.data.users)}),this.$handleApiError)},getSales(){return ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getCities(){if(0==this.cities.length)return ot.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e)}))},handleReset(){this.isLoadingReset=!0,0!=this.selected.length&&ba.resetSale(this.selected).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("sale/resetSales",this.selected),this.selected=[])})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingReset=!1))}},async mounted(){0==this.deliveries.length&&(await this.getDeliveries(),this.getUsers()),this.fetched&&(this.isLoaded=!0),this.fetched&&(this.getProducts(),this.getCities())}};const NH=(0,m.Z)(RH,[["render",GA]]);var YH=NH;const ZH={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},KH={class:"tw-px-3"},BH={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},QH={class:"tw-flex tw-items-center tw-gap-x-3"},JH=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),GH={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},XH=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all orders. ",-1),tM={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},eM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),rM=(0,s._)("span",null,"Create",-1),aM=[eM,rM],sM={class:"tw-overflow-hidden tw-col-span-1"},lM={key:0};function oM(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",ZH,[(0,s._)("section",KH,[(0,s._)("div",BH,[(0,s._)("div",null,[(0,s._)("div",QH,[JH,(0,s._)("span",GH,(0,wt.zw)(l.totalOrders)+" order",1)]),XH]),(0,s._)("div",tM,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},aM)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),"search-by-field":l.searchByField,"onUpdate:searchByField":e[2]||(e[2]=t=>l.searchByField=t),filters:l.filters,"onUpdate:filters":e[3]||(e[3]=t=>l.filters=t),onFilter:e[4]||(e[4]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",sM,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[6]||(e[6]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",lM,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const iM={class:"tw-flex tw-flex-col"},wM={class:"tw-overflow-x-auto"},nM={class:"tw-inline-block tw-min-w-full tw-align-middle"},dM={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},cM={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},uM={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},pM={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},gM={class:"tw-max-w-[25px]"},mM={class:"tw-inline-flex tw-items-center"},hM={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},fM=["checked"],bM=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),vM=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),xM={scope:"col",class:"tw-py-3.5 tw-px-2 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},yM=(0,s._)("span",null,"Created",-1),_M=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),kM=[yM,_M],CM={key:0,scope:"col",class:"tw-py-3.5 tw-px-2 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},DM=(0,s._)("span",null,"Updated",-1),SM=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),zM=[DM,SM],UM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller ",-1),qM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),PM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),LM=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),WM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),AM=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),$M=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),EM=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),TM=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),FM={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},jM={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},IM=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),VM=[IM],OM={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},HM={colspan:"11"},MM={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},RM=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),NM=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),YM=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),ZM=[NM,YM],KM={class:"tw-mt-6"};function BM(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",iM,[(0,s._)("div",wM,[(0,s._)("div",nM,[(0,s._)("div",dM,[(0,s._)("table",cM,[(0,s._)("thead",uM,[(0,s._)("tr",null,[(0,s._)("th",pM,[(0,s._)("div",gM,[(0,s._)("div",mM,[(0,s._)("label",hM,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,fM),bM])])])]),vM,(0,s._)("th",xM,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},kM)]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",CM,[(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("sortOrder",{name:"updated_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},zM)])):(0,s.kq)("",!0),UM,qM,PM,LM,WM,AM,$M,EM,TM])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",FM,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,w)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[3]||(e[3]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),all:w,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",jM,VM)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",OM,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",HM,[(0,s._)("div",MM,[RM,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},ZM)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",KM,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[5]||(e[5]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const QM={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},JM={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},GM={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},XM={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},tR=["disabled"],eR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),rR=(0,s._)("span",null," previous ",-1),aR=[eR,rR],sR=["disabled"],lR=(0,s._)("span",null," Next ",-1),oR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),iR=[lR,oR];function wR(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",QM,[(0,s._)("div",JM,[(0,s.Uk)(" Page "),(0,s._)("span",GM,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",XM,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},aR,10,tR),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},iR,10,sR)])])])}var nR={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const dR=(0,m.Z)(nR,[["render",wR]]);var cR=dR;const uR={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},pR={class:"tw-max-w-[25px]"},gR={class:"tw-inline-flex tw-items-center"},mR={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},hR=["checked","id"],fR=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),bR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},vR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},xR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},yR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},_R={key:0,class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},CR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},DR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},SR={key:0},zR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},UR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},qR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},PR={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},LR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},WR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},AR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$R={class:"tw-space-y-1"},ER={class:"tw-font-bold tw-text-green-500"},TR={class:"tw-block tw-max-w-[150px] tw-truncate"},FR={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},jR={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},IR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},VR={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},OR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},HR={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function MR(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,wt.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300",r.item.is_paid_by_delivery&&r.item.is_delivered&&" tw-bg-emerald-50 tw-bg-gradient-to-r tw-via-white tw-from-emerald-200/50 tw-to-white",r.item.is_canceled&&" tw-bg-rose-50 tw-bg-gradient-to-r tw-via-white tw-from-rose-200/50 tw-to-white",r.item.is_paid_to_seller&&" tw-bg-cyan-50 tw-bg-gradient-to-r tw-via-white tw-from-cyan-200/50 tw-to-white"]])},[(0,s._)("td",uR,[(0,s._)("div",pR,[(0,s._)("div",gR,[(0,s._)("label",mR,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,hR),fR])])])]),(0,s._)("td",bR,[(0,s._)("div",null,[(0,s._)("h2",vR,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",xR,[(0,s._)("div",null,[(0,s._)("h2",yR,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("HH[:]mm[:]ss")),1)])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",_R,[(0,s._)("div",null,[(0,s._)("h2",kR,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.updated_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.updated_at).format("HH[:]mm[:]ss")),1)])])])):(0,s.kq)("",!0),(0,s._)("td",CR,[(0,s._)("div",null,[(0,s._)("h2",DR,[r.item.seller_user?((0,s.wg)(),(0,s.iD)("span",SR,(0,wt.zw)(r.item.seller_user.username),1)):(0,s.kq)("",!0)])])]),(0,s._)("td",zR,[(0,s._)("div",null,[(0,s._)("h2",UR,(0,wt.zw)(r.item.fullname),1)])]),(0,s._)("td",qR,[(0,s._)("div",null,[(0,s._)("h2",PR,(0,wt.zw)(r.item.city),1)])]),(0,s._)("td",LR,[(0,s._)("div",null,[(0,s._)("h2",WR,(0,wt.zw)(r.item.phone),1)])]),(0,s._)("td",AR,[(0,s._)("div",null,[(0,s._)("ul",$R,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",ER,(0,wt.zw)(t.quantity)+" x ",1),(0,s._)("span",TR,(0,wt.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",FR,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",jR,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",IR,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3)])]),(0,s._)("td",VR,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",OR,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",HR,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const RR={class:"tw-h-full"},NR={class:"tw-flex tw-items-center tw-gap-2"},YR=["href"],ZR={key:0},KR={key:1},BR={key:2};function QR(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),w=(0,s.up)("HistoryPopup"),n=(0,s.up)("HistoryItemPopup");return(0,s.wg)(),(0,s.iD)("div",RR,[(0,s._)("div",NR,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,YR),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>l.historyItem=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-yellow-500/20 hover:tw-bg-yellow-500/10 hover:tw-border-yellow-500/70 tw-duration-300 tw-text-yellow-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-alphabetical-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",ZR,[(0,s.Wm)(i,{onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[4]||(e[4]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",KR,[(0,s.Wm)(w,{visible:l.history,"onUpdate:visible":e[5]||(e[5]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.historyItem?((0,s.wg)(),(0,s.iD)("div",BR,[(0,s.Wm)(n,{visible:l.historyItem,"onUpdate:visible":e[6]||(e[6]=t=>l.historyItem=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const JR={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},GR=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),XR={class:"tw-bg-white tw-p-4"},tN={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},eN={class:"tw-col-span-2 md:tw-col-span-1"},rN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),aN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},sN={class:"tw-col-span-2 md:tw-col-span-1"},lN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),oN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},iN={class:"tw-col-span-2 md:tw-col-span-1"},wN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),nN={class:"tw-relative"},dN=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),cN=["value"],uN=["value"],pN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),gN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mN={class:"tw-col-span-2 md:tw-col-span-1"},hN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),fN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bN={class:"tw-col-span-2"},vN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),xN={class:"tw-relative"},yN=["value"],_N=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),kN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},CN={key:0,class:"md:tw-col-span-1 tw-col-span-2"},DN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),SN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zN={key:1,class:"md:tw-col-span-1 tw-col-span-2"},UN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),qN={class:"tw-col-span-2"},PN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),LN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},WN={class:"md:tw-col-span-1 tw-col-span-2"},AN={class:"tw-col-span-1"},$N=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),EN={class:"tw-relative"},TN=["value"],FN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),jN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},IN={key:2,class:"tw-col-span-1"},VN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),ON={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},HN={class:"md:tw-col-span-1 tw-col-span-2"},MN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),RN={class:"tw-relative"},NN=["value"],YN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ZN={class:"tw-col-span-2"},KN={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},BN={key:0,class:"tw-text-red-400 tw-text-xs"},QN={key:3,class:"tw-col-span-2"},JN={key:0},GN={key:0},XN={class:"tw-w-full tw-table-auto tw-border-collapse"},tY=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-border tw-px-4 tw-py-2"},"Product Name"),(0,s._)("th",{class:"tw-border tw-px-4 tw-py-2"},"Link video"),(0,s._)("th",{class:"tw-border tw-px-4 tw-py-2"},"Link Store")])],-1),eY={class:"tw-border tw-px-4 tw-py-2"},rY={class:"tw-border tw-px-4 tw-py-2"},aY=["href"],sY=(0,s._)("i",{class:"mdi mdi-youtube tw-mx-2 tw-text-orange-400 tw-text-2xl"},null,-1),lY={class:"tw-border tw-px-4 tw-py-2"},oY=["href"],iY=(0,s._)("i",{class:"mdi mdi-store tw-mx-2 tw-text-orange-400 tw-text-2xl"},null,-1),wY={class:"tw-my-2 tw-flex tw-justify-end"},nY={key:1,class:"tw-text-center"},dY={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},cY=["disabled"],uY=(0,s._)("span",null,"Update",-1);function pY(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",JR,[GR,(0,s._)("div",XR,[(0,s._)("div",tN,[(0,s._)("div",eN,[rN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",aN,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",sN,[lN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",oN,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",iN,[wN,(0,s._)("div",nN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[dN,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,cN),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,uN)))),128))],34),[[a.bM,o.itemCopy.city]]),pN]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",gN,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",mN,[hN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",fN,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",bN,[vN,(0,s._)("div",xN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,yN)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),_N]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",kN,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",CN,[DN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",SN,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",zN,[UN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",qN,[PN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",LN,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",WN,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",AN,[$N,(0,s._)("div",EN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.delivery=t),onChange:e[18]||(e[18]=t=>o.errors.delivery=null),class:(0,wt.C_)([[o.errors.delivery&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,TN)))),128))],34),[[a.bM,o.itemCopy.delivery]]),FN]),o.errors.delivery?((0,s.wg)(),(0,s.iD)("label",jN,(0,wt.zw)(o.errors.delivery),1)):(0,s.kq)("",!0)]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",IN,[VN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.parent_id=t),onInput:e[20]||(e[20]=t=>o.errors.parent_id=null),type:"text",class:(0,wt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",ON,(0,wt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",HN,[MN,(0,s._)("div",RN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[21]||(e[21]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,NN)))),128))],512),[[a.bM,o.itemCopy.upsell]]),YN])]),(0,s._)("div",ZN,[(0,s._)("label",KN,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",BN," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[22]||(e[22]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",QN,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"]),(0,s._)("button",{onClick:e[23]||(e[23]=t=>o.showProducts=!o.showProducts),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-my-5 tw-w-[150px] tw-h-[30px] tw-border tw-border-solid tw-border-emerald-500/20 hover:tw-bg-emerald-500/10 hover:tw-border-emerald-500/70 tw-duration-300 tw-text-emerald-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"}," Suggested Products "),o.showProducts?((0,s.wg)(),(0,s.iD)("div",JN,[i.paginatedProducts.length>0?((0,s.wg)(),(0,s.iD)("div",GN,[(0,s._)("table",XN,[tY,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.paginatedProducts,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",eY,(0,wt.zw)(t.name),1),(0,s._)("td",rY,[(0,s._)("a",{href:"https://"+t.video,target:"_blank",class:"tw-flex tw-items-center tw-text-blue-500 tw-hover:text-blue-800 hover:tw-underline"},[sY,(0,s.Uk)((0,wt.zw)(t.video),1)],8,aY)]),(0,s._)("td",lY,[(0,s._)("a",{href:"https://"+t.store,target:"_blank",class:"tw-flex tw-items-center tw-text-blue-500 tw-hover:text-blue-800 hover:tw-underline"},[iY,(0,s.Uk)(" "+(0,wt.zw)(t.store),1)],8,oY)])])))),128))])]),(0,s._)("div",wY,[(0,s._)("button",{class:"tw-border-solid tw-border-2 tw-rounded-lg tw-border-gray-400 tw-py-1 tw-px-3 tw-mr-2",onClick:e[24]||(e[24]=(...t)=>i.previousPage&&i.previousPage(...t))},"Previous"),(0,s._)("button",{class:"tw-border-solid tw-border-2 tw-rounded-lg tw-border-gray-400 tw-py-1 tw-px-3",onClick:e[25]||(e[25]=(...t)=>i.nextPage&&i.nextPage(...t))},"Next")])])):((0,s.wg)(),(0,s.iD)("div",nY," No other products "))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("div",dY,[(0,s._)("button",{onClick:e[26]||(e[26]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[27]||(e[27]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),uY],8,cY)])])])),_:1},8,["visible","onCancel"])])}const gY=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.parent_id||"refund"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!mY(t,e.items):(t.errors.parent_id="Add Parent id !",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),mY=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},hY=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},fY=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},bY=(t,e)=>{t.isLoading=!0,t.errors={},Vu.update(e.id,e).then((e=>hY(t,e.data))).catch((e=>fY(t,e.response.data))).finally((()=>t.isLoading=!1))},vY={key:0},xY=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),yY={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},_Y=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),kY=(0,s._)("span",null,"Add Item",-1),CY=[_Y,kY],DY={key:1,class:"md:tw-col-span-12 tw-col-span-12"},SY={class:"tw-max-w-full tw-overflow-auto"},zY={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},UY={class:"tw-bg-gray-50"},qY={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},PY={key:0},LY={colspan:"6"},WY={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},AY=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),$Y=(0,s._)("span",null,"Add Item",-1),EY=[AY,$Y],TY=(0,s._)("td",{colspan:"4"},null,-1),FY={colspan:"1",class:"tw-p-2"},jY={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},IY={key:1},VY={colspan:"5"},OY={class:"tw-scale-75 tw-p-5"};function HY(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vY,[xY,(0,s._)("div",yY,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},CY)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",DY,[(0,s._)("div",SY,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",zY,[(0,s._)("tr",UY,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",qY,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",PY,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",LY,[(0,s._)("div",WY,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},EY)])])]),(0,s._)("tr",null,[TY,(0,s._)("td",FY,[(0,s._)("div",jY,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",IY,[(0,s._)("tr",null,[(0,s._)("td",VY,[(0,s._)("div",OY,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const MY={class:"tw-p-2"},RY={class:"tw-p-2"},NY={key:0,class:"tw-relative"},YY=["value"],ZY=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),KY=["value"],BY={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},QY=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),JY=[QY],GY={class:"tw-p-2"},XY=["value"],tZ={class:"tw-p-2"},eZ=["value"],rZ={class:"tw-flex tw-justify-center"};function aZ(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("div",MY,[((0,s.wg)(),(0,s.j4)(i,{"append-to-body":"",reduce:t=>t.id,key:r.item.id,"onOption:selected":e[0]||(e[0]=t=>o.handleProductChange(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Product",modelValue:o.product,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),options:o.allProducts,label:"name"},null,8,["reduce","modelValue","options"])),(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",RY,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",NY,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[3]||(e[3]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[ZY,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,KY)))),128))],40,YY)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",BY,JY)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",GY,[(0,s._)("input",{onInput:e[4]||(e[4]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,XY)])]),(0,s._)("td",null,[(0,s._)("div",tZ,[(0,s._)("input",{onInput:e[5]||(e[5]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,eZ)])]),(0,s._)("td",null,[(0,s._)("div",rZ,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var sZ=r(3636),lZ={components:{"vue-select":sZ.Z},props:{item:{required:!0},products:{required:!0}},computed:{allProducts(){return[{id:0,name:"Choose Product"},...this.products]},product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t,e){const r=1===e?parseInt(t.target.value):t.id;if(!r)return!1;const a=this.products.find((t=>t.id==r)),s={...this.item,product_id:r,product:a,product_ref:a.ref,product_variation_id:a.variations.length>0?a.variations[0].id:null,product_variation:a.variations.length>0?a.variations[0]:null};this.$emit("update",s)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const oZ=(0,m.Z)(lZ,[["render",aZ]]);var iZ=oZ,wZ={components:{ItemRow:iZ},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const nZ=(0,m.Z)(wZ,[["render",HY]]);var dZ=nZ;const cZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),uZ={key:0,class:"tw-relative"},pZ=["value","disabled"],gZ=(0,s._)("option",{value:""},"Choose a Delivery",-1),mZ=["value"],hZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),fZ={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bZ={key:2,class:"tw-relative"},vZ={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},xZ=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),yZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function _Z(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[cZ,l.fetched?((0,s.wg)(),(0,s.iD)("div",uZ,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,wt.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[gZ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,mZ)))),128))],42,pZ),hZ])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",fZ,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",bZ,[(0,s._)("div",vZ,[(0,s.Wm)(i)]),xZ,yZ]))])}var kZ={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const CZ=(0,m.Z)(kZ,[["render",_Z]]);var DZ=CZ;const SZ={key:0},zZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),UZ={class:"md:tw-col-span-12 tw-col-span-12"},qZ={class:"tw-max-w-full tw-overflow-auto"},PZ={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},LZ=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),WZ={class:"tw-px-3 tw-py-2"},AZ={class:"tw-px-3 tw-py-2"},$Z={class:"tw-px-3 tw-py-2"},EZ={class:"tw-px-3 tw-py-2"},TZ={class:"tw-max-w-[250px] tw-text-sm"};function FZ(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",SZ,[zZ,(0,s._)("div",UZ,[(0,s._)("div",qZ,[(0,s._)("table",PZ,[LZ,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",WZ,(0,wt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",AZ,(0,wt.zw)(t.quantity),1),(0,s._)("td",$Z,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",EZ,[(0,s._)("p",TZ,(0,wt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var jZ={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const IZ=(0,m.Z)(jZ,[["render",FZ]]);var VZ=IZ,OZ={components:{OrderItems:dZ,OrderAffectation:DZ,ProductOffersTable:VZ},props:{visible:{required:!0},item:{required:!0}},data(){return{currentPage:1,itemsPerPage:5,confirmations:jn,deliveryStatus:Hn,upsells:On,isLoading:!1,showProducts:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{paginatedProducts(){const t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.filteredProducts.slice(t,e)},cities(){return this.$store.getters["city/cities"]},filteredProducts(){const t=this.itemCopy.items.map((t=>t.product_id));return this.products.filter((e=>e.user_id===this.itemCopy.user_id&&!t.includes(e.id)))}},methods:{nextPage(){this.currentPage*this.itemsPerPage<this.filteredProducts.length&&this.currentPage++},previousPage(){this.currentPage>1&&this.currentPage--},handleUpdate(){const t=gY(this,this.itemCopy);if(!t)return!1;bY(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?(this.products=t.data.data.products,console.log("Fetched products:",this.products)):this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const HZ=(0,m.Z)(OZ,[["render",pY]]);var MZ=HZ;const RZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},NZ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),YZ={class:"tw-bg-white tw-p-4"},ZZ={key:0},KZ={key:1,class:"tw-p-5"},BZ={class:"d-flex tw-flex-col justify-space-between flex-grow-1"},QZ={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},JZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},GZ={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},XZ={class:"d-flextw-flex-col justify-space-between flex-grow-1"},tK={class:"tw-flex tw-flex-col tw-my-2"},eK=(0,s._)("div",null,"New Order Created",-1),rK={class:"tw-flex tw-flex-col"},aK={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},sK={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},lK={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function oK(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",RZ,[NZ,(0,s._)("div",YZ,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ZZ,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",KZ,[(0,s.Wm)($E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(EE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",BZ,[(0,s._)("div",QZ,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.type in l.keys?l.keys[t.type]:t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(!t.historique&&["affectation","delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",JZ,[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,wt.zw)(t.users.firstname)+" "+(0,wt.zw)(t.users.lastname),1)]),(0,s._)("div",GZ,[(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(EE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",XZ,[(0,s._)("div",tK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),eK]),(0,s._)("div",rK,[(0,s._)("div",aK,[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,wt.zw)(r.item.created_by.firstname)+" "+(0,wt.zw)(r.item.created_by.lastname),1)]),(0,s._)("div",sK,[(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",lK,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var iK={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1,keys:{in_warehouse:"Warehouse State"}}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ba.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const wK=(0,m.Z)(iK,[["render",oK]]);var nK=wK;const dK={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},cK=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Item History ",-1),uK={class:"tw-bg-white tw-p-4"},pK={key:0},gK={key:1,class:"tw-p-5"},mK={class:"d-flextw-flex-col justify-space-between flex-grow-1"},hK={key:0,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},fK={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},bK={key:2,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},vK={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},xK={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},yK={class:"d-flextw-flex-col justify-space-between flex-grow-1"},_K={class:"tw-flex tw-flex-col tw-my-2"},kK=(0,s._)("div",null,"No Changes Happend Yet",-1),CK={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},DK={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function SK(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",dK,[cK,(0,s._)("div",uK,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",pK,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",gK,[(0,s.Wm)($E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(EE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",mK,[t.old_product.id!=t.new_product.id?((0,s.wg)(),(0,s.iD)("div",hK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"purple",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Product ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.old_product.name),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.new_product.name),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_quantity!=t.new_quantity?((0,s.wg)(),(0,s.iD)("div",fK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"blue",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Quantity ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.old_quantity),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.new_quantity),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_price!=t.new_price?((0,s.wg)(),(0,s.iD)("div",bK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"#118C4F",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Price ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.old_price),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.new_price),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",vK,[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,wt.zw)(t.users.firstname)+" "+(0,wt.zw)(t.users.lastname),1)]),(0,s._)("div",xK,[(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(EE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",yK,[(0,s._)("div",_K,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),kK]),(0,s._)("div",CK,[(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",DK,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var zK={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getItemHistory(){this.isLoaded=!1,ba.itemHistory(this.item.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={old_product:"red",old_price:"green",old_quantity:"blue"};return["old_product","old_price","old_quantity"].includes(t)?e[t]:"primary-color"}},mounted(){this.getItemHistory()}};const UK=(0,m.Z)(zK,[["render",SK]]);var qK=UK,PK={components:{UpdatePopup:MZ,HistoryPopup:nK,HistoryItemPopup:qK},props:{item:{required:!0}},data(){return{update:!1,history:!1,historyItem:!1,isLoading:!1}},methods:{handle(){}}};const LK=(0,m.Z)(PK,[["render",QR]]);var WK=LK;const AK={key:0},$K={key:0,class:"tw-relative tw-inline-block tw-text-left"},EK={key:0},TK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),FK=[TK],jK={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},IK={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},VK=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),OK=[VK],HK={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},MK={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},RK={class:"tw-py-1",role:"none"},NK=["onClick"],YK={key:1},ZK={class:"tw-p-2 tw-scale-75"};function KK(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",AK,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",$K,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",EK,FK)):(0,s.kq)("",!0),(0,s._)("p",jK,(0,wt.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",IK,OK)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",HK,(0,wt.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Vt.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",MK,[(0,s._)("div",RK,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],8,NK)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",YK,[(0,s._)("div",ZK,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var BK={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};bY(this,e,!1)}}};const QK=(0,m.Z)(BK,[["render",KK]]);var JK=QK,GK={components:{TableActions:WK,TableRowAffectation:JK},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ze()}},computed:{confirmation(){return jn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Hn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const XK=(0,m.Z)(GK,[["render",MR]]);var tB=XK,eB={components:{TablePaginationNoNums:cR,TableRow:tB},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const rB=(0,m.Z)(eB,[["render",BM]]);var aB=rB;const sB={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},lB={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},oB=["disabled"],iB=["disabled"],wB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),nB=[wB],dB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),cB=[dB],uB=["disabled"],pB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),gB=[pB],mB=["disabled"],hB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),fB=[hB],bB=["disabled"],vB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),xB=[vB],yB={class:"tw-relative"},_B=["value"],kB=(0,s._)("option",{value:5},"5",-1),CB=(0,s._)("option",{value:10},"10",-1),DB=(0,s._)("option",{value:20},"20",-1),SB=(0,s._)("option",{value:50},"50",-1),zB=(0,s._)("option",{value:100},"100",-1),UB=(0,s._)("option",{value:250},"250",-1),qB=(0,s._)("option",{value:500},"500",-1),PB=[kB,CB,DB,SB,zB,UB,qB],LB=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),WB={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},AB=["value"],$B=(0,s._)("option",{value:"all"},"All",-1),EB=(0,s._)("option",{value:"id"},"ID",-1),TB=[$B,EB],FB=["value"],jB={class:"tw-overflow-hidden tw-col-span-1"},IB={class:"tw-overflow-hidden tw-col-span-1"},VB={class:"tw-overflow-hidden tw-col-span-1"};function OB(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",sB,[(0,s._)("div",lB,[(0,s._)("button",{class:(0,wt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,oB),(0,s._)("button",{title:"Orders Created Today",class:(0,wt.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,iB),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,wt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},nB,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,wt.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},cB,2)):(0,s.kq)("",!0),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[4]||(e[4]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,wt.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},gB,10,uB),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},fB,8,mB),(0,s._)("button",{title:"Show Export Options",onClick:e[6]||(e[6]=t=>o.showExport=!o.showExport),class:(0,wt.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},xB,10,bB),(0,s._)("div",yB,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},PB,40,_B),LB])]),(0,s._)("div",WB,[(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},TB,40,AB),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[9]||(e[9]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[10]||(e[10]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,FB),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",jB,[(0,s.Wm)(w,{onClear:e[12]||(e[12]=e=>t.$emit("clear")),onFilter:e[13]||(e[13]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[14]||(e[14]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,wt.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",IB,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",VB,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const HB={class:"tw-mb-4"},MB={class:"tw-grid tw-grid-cols-12 tw-gap-4"},RB={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},NB={class:"tw-flex tw-items-center tw-justify-between"},YB={class:"tw-text-xl tw-font-bold tw-text-gray-900"},ZB={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function KB(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",HB,[(0,s._)("div",MB,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",RB,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",NB,[(0,s._)("span",YB,(0,wt.zw)(t.total),1),(0,s._)("span",ZB,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var BB={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const QB=(0,m.Z)(BB,[["render",KB]]);var JB=QB;const GB={class:"tw-mb-4"},XB={class:"tw-flex tw-items-center tw-gap-2"},tQ=["disabled"],eQ=(0,s._)("span",null,"Select Filtered",-1),rQ={class:"tw-flex tw-justify-end"},aQ=["disabled"];function sQ(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",GB,[(0,s._)("div",XB,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),eQ],8,tQ)]),(0,s._)("div",rQ,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,wt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,aQ)])])}var lQ={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Vu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const oQ=(0,m.Z)(lQ,[["render",sQ]]);var iQ=oQ;const wQ={class:"tw-mb-4"},nQ={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},dQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},cQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),uQ=["value"],pQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),mQ=["value"],hQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),bQ=["value"],vQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),yQ=["value"],_Q={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),CQ=["value"],DQ=(0,s._)("option",{value:"all",selected:""},"All",-1),SQ=["value"],zQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},UQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),qQ=["value"],PQ=(0,s._)("option",{value:"all",selected:""},"All",-1),LQ=["value"],WQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},AQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),$Q=["value"],EQ=(0,s._)("option",{value:"all",selected:""},"All",-1),TQ=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),FQ=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),jQ=[EQ,TQ,FQ],IQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},VQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Warehouse state",-1),OQ=["value"],HQ=(0,s._)("option",{value:"all",selected:""},"All",-1),MQ=(0,s._)("option",{value:"in",selected:""},"In",-1),RQ=(0,s._)("option",{value:"out",selected:""},"Out",-1),NQ=[HQ,MQ,RQ],YQ={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},ZQ=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),KQ=(0,s._)("span",null,"Clear",-1),BQ=[ZQ,KQ],QQ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),JQ=(0,s._)("span",null,"Filter",-1),GQ=[QQ,JQ];function XQ(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),w=(0,s.up)("AgentFilter"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",wQ,[(0,s._)("div",nQ,[(0,s.kq)("",!0),(0,s._)("div",dQ,[cQ,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,uQ)]),(0,s._)("div",pQ,[gQ,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,mQ)]),(0,s._)("div",hQ,[fQ,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,bQ)]),(0,s._)("div",vQ,[xQ,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,yQ)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",_Q,[kQ,(0,s._)("select",{value:r.filters.confirmation,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[DQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,wt.zw)(t.name),11,SQ)))),128))],40,CQ)]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",zQ,[UQ,(0,s._)("select",{onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[PQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,wt.zw)(t.name),11,LQ)))),128))],40,qQ)]),(0,s._)("div",WQ,[AQ,(0,s._)("select",{value:r.filters.upsell,onChange:e[11]||(e[11]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},jQ,40,$Q)]),(0,s._)("div",IQ,[VQ,(0,s._)("select",{value:r.filters.in_warehouse,onChange:e[12]||(e[12]=e=>t.$emit("update",{...r.filters,in_warehouse:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},NQ,40,OQ)]),(0,s._)("div",YQ,[(0,s._)("button",{onClick:e[13]||(e[13]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},BQ),(0,s._)("button",{onClick:e[14]||(e[14]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},GQ)])])])}const tJ={class:"tw-text-sm tw-text-neutral-600"},eJ=["onClick"];function rJ(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",tJ,(0,wt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,eJ)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var aJ={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const sJ=(0,m.Z)(aJ,[["render",rJ]]);var lJ=sJ;const oJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},iJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),wJ=["value"],nJ=(0,s._)("option",{value:"all"},"All",-1),dJ=(0,s._)("option",{value:""},"No Delivery",-1),cJ=["value"];function uJ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",oJ,[iJ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[nJ,dJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,cJ)))),128))],40,wJ)])}var pJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const gJ=(0,m.Z)(pJ,[["render",uJ]]);var mJ=gJ;const hJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),bJ=["value"],vJ=(0,s._)("option",{value:"all"},"All",-1),xJ=(0,s._)("option",{value:""},"No Agent",-1),yJ=["value"];function _J(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",hJ,[fJ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[vJ,xJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,yJ)))),128))],40,bJ)])}var kJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const CJ=(0,m.Z)(kJ,[["render",_J]]);var DJ=CJ;const SJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),UJ=["value"],qJ=(0,s._)("option",{value:"all"},"All",-1),PJ=["value"];function LJ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",SJ,[zJ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[qJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,PJ)))),128))],40,UJ)])}var WJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const AJ=(0,m.Z)(WJ,[["render",LJ]]);var $J=AJ;const EJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},TJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function FJ(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",EJ,[TJ,(0,s.Wm)(i,{"append-to-body":"",dense:"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var jJ={components:{"vue-select":sZ.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const IJ=(0,m.Z)(jJ,[["render",FJ]]);var VJ=IJ,OJ={components:{DateFilter:lJ,AffectationFilter:mJ,AgentFilter:DJ,ProductFilter:VJ,SellerFilter:$J},props:{filters:{required:!0,default:{}}},data(){return{confirmations:jn,deliveries:Hn,dateFilter:["",""]}}};const HJ=(0,m.Z)(OJ,[["render",XQ]]);var MJ=HJ,RJ={components:{IndexStatistics:JB,FiltersWrapper:MJ,IndexExport:iQ},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ze()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const NJ=(0,m.Z)(RJ,[["render",OB]]);var YJ=NJ;const ZJ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},KJ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),BJ={class:"tw-bg-white tw-p-4"},QJ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},JJ={class:"tw-col-span-2 md:tw-col-span-1"},GJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),XJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},tG={class:"tw-col-span-2 md:tw-col-span-1"},eG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),rG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},aG={class:"tw-col-span-2 md:tw-col-span-1"},sG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),lG={class:"tw-relative"},oG=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),iG=["value"],wG=["value"],nG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),dG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cG={class:"tw-col-span-2 md:tw-col-span-1"},uG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),pG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gG={class:"tw-col-span-2"},mG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),hG={class:"tw-relative"},fG=["value"],bG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),vG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xG={key:0,class:"md:tw-col-span-1 tw-col-span-2"},yG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),_G={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},kG={key:1,class:"md:tw-col-span-1 tw-col-span-2"},CG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),DG={class:"tw-col-span-2"},SG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),zG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},UG={class:"md:tw-col-span-1 tw-col-span-2"},qG={key:2,class:"tw-col-span-1"},PG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),LG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},WG={class:"md:tw-col-span-1 tw-col-span-2"},AG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),$G={class:"tw-relative"},EG=["value"],TG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),FG={class:"tw-col-span-2"},jG={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},IG={key:0,class:"tw-text-red-400 tw-text-xs"},VG={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},OG=["disabled"],HG=(0,s._)("span",null,"Create",-1);function MG(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",ZJ,[KJ,(0,s._)("div",BJ,[(0,s._)("div",QJ,[(0,s._)("div",JJ,[GJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",XJ,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",tG,[eG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",rG,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",aG,[sG,(0,s._)("div",lG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[oG,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,iG),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,wG)))),128))],34),[[a.bM,o.itemCopy.city]]),nG]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",dG,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",cG,[uG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",pG,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",gG,[mG,(0,s._)("div",hG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,fG)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),bG]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",vG,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",xG,[yG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",_G,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",kG,[CG,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",DG,[SG,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",zG,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",UG,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",qG,[PG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,wt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",LG,(0,wt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",WG,[AG,(0,s._)("div",$G,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,EG)))),128))],512),[[a.bM,o.itemCopy.upsell]]),TG])]),(0,s._)("div",FG,[(0,s._)("label",jG,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",IG," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",VG,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),HG],8,OG)])])])),_:1},8,["visible","onCancel"])])}const RG=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},NG=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},YG=(t,e)=>{t.isLoading=!0,t.errors={},Vu.create(e).then((e=>RG(t,e.data))).catch((e=>NG(t,e.response.data))).finally((()=>t.isLoading=!1))};var ZG={components:{OrderItems:dZ,OrderAffectation:DZ},props:{visible:{required:!0}},data(){return{confirmations:jn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=gY(this,this.itemCopy);if(!t)return!1;YG(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const KG=(0,m.Z)(ZG,[["render",MG]]);var BG=KG;const QG={class:"tw-mb-4"},JG={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},GG={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},XG={class:"tw-flex tw-items-center tw-gap-2"},tX={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},eX=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),rX={class:"tw-flex tw-items-center tw-gap-2"},aX=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),sX=(0,s._)("span",null," Clear Selection ",-1),lX=[aX,sX],oX=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),iX=(0,s._)("span",null," Actions ",-1),wX=[oX,iX],nX={key:0};function dX(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",QG,[(0,s._)("div",JG,[(0,s._)("div",GG,[(0,s._)("div",XG,[(0,s._)("div",tX,(0,wt.zw)(r.selected.length),1),eX]),(0,s._)("div",rX,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},lX),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},wX)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",nX,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const cX={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},uX={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},pX=(0,s._)("span",null,"Quick Actions",-1),gX={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},mX={class:"tw-bg-white tw-p-4"},hX={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},fX={class:"tw-col-span-2 md:tw-col-span-1"},bX={key:0,class:"tw-col-span-2 md:tw-col-span-1"},vX={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},xX=(0,s._)("span",null,"Apply",-1);function yX(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",cX,[(0,s._)("div",uX,[pX,(0,s._)("span",gX,(0,wt.zw)(r.selected.length),1)]),(0,s._)("div",mX,[(0,s._)("div",hX,[(0,s._)("div",fX,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",bX,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",vX,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),xX])])])])),_:1},8,["visible","closeable","onCancel"])])}const _X=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),kX={class:"tw-relative"},CX=["value"],DX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function SX(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[_X,(0,s._)("div",kX,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,CX)))),128))],512),[[a.bM,i.vaction]]),DX]),(0,s.kq)("",!0)])}var zX={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const UX=(0,m.Z)(zX,[["render",SX]]);var qX=UX;const PX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),LX={class:"tw-relative"},WX=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),AX=["value"],$X=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function EX(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[PX,(0,s._)("div",LX,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[WX,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,AX)))),128))],512),[[a.bM,i.vvalue]]),$X]),(0,s.kq)("",!0)])}var TX={props:{value:{required:!0}},data(){return{statuses:Hn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const FX=(0,m.Z)(TX,[["render",EX]]);var jX=FX;class IX{async execute(t){return await E.getCookie(),A.post("api/v1/bulk/execute",t)}}var VX=new IX,OX=(t,e)=>{t.isLoading=!0,VX.execute(e).then((e=>HX(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const HX=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var MX={components:{BulkSelectAction:qX,BulkDeliveryAction:jX},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};OX(this,t)}}};const RX=(0,m.Z)(MX,[["render",yX]]);var NX=RX,YX={components:{BulkPopup:NX},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const ZX=(0,m.Z)(YX,[["render",dX]]);var KX=ZX,BX={components:{IndexTable:aB,IndexFilters:YJ,CreatePopup:BG,BulkActions:KX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,Vu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(t){this.sort_order="asc"==this.sort_order?"desc":"asc",this.sort_by=t.name,this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const QX=(0,m.Z)(BX,[["render",oM]]);var JX=QX;const GX={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},XX={class:"tw-px-3"},t0={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},e0={class:"tw-flex tw-items-center tw-gap-x-3"},r0=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Dispatched Orders ",-1),a0={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},s0=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of dispatched orders. ",-1),l0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},o0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),i0=(0,s._)("span",null,"Create",-1),w0=[o0,i0],n0={class:"tw-overflow-hidden tw-col-span-1"},d0={key:0};function c0(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",GX,[(0,s._)("section",XX,[(0,s._)("div",t0,[(0,s._)("div",null,[(0,s._)("div",e0,[r0,(0,s._)("span",a0,(0,wt.zw)(l.totalOrders)+" order",1)]),s0]),(0,s._)("div",l0,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},w0)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",n0,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",d0,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var u0={components:{IndexTable:aB,IndexFilters:YJ,CreatePopup:BG,BulkActions:KX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Vu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const p0=(0,m.Z)(u0,[["render",c0]]);var g0=p0;const m0={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},h0={class:"tw-px-3"},f0={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},b0={class:"tw-flex tw-items-center tw-gap-x-3"},v0=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Shipped Orders ",-1),x0={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},y0=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of shipped orders. ",-1),_0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},k0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),C0=(0,s._)("span",null,"Create",-1),D0=[k0,C0],S0={class:"tw-overflow-hidden tw-col-span-1"},z0={key:0};function U0(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",m0,[(0,s._)("section",h0,[(0,s._)("div",f0,[(0,s._)("div",null,[(0,s._)("div",b0,[v0,(0,s._)("span",x0,(0,wt.zw)(l.totalOrders)+" order",1)]),y0]),(0,s._)("div",_0,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},D0)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",S0,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",z0,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var q0={components:{IndexTable:aB,IndexFilters:YJ,CreatePopup:BG,BulkActions:KX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Vu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const P0=(0,m.Z)(q0,[["render",U0]]);var L0=P0;const W0={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},A0={class:"tw-px-3"},$0={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},E0={class:"tw-flex tw-items-center tw-gap-x-3"},T0=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),F0={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},j0=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),I0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},V0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),O0=(0,s._)("span",null,"Create",-1),H0=[V0,O0],M0={class:"tw-overflow-hidden tw-col-span-1"},R0={key:0};function N0(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",W0,[(0,s._)("section",A0,[(0,s._)("div",$0,[(0,s._)("div",null,[(0,s._)("div",E0,[T0,(0,s._)("span",F0,(0,wt.zw)(l.totalOrders)+" order",1)]),j0]),(0,s._)("div",I0,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},H0)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",M0,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",R0,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Y0={class:"tw-flex tw-flex-col"},Z0={class:"tw-overflow-x-auto"},K0={class:"tw-inline-block tw-min-w-full tw-align-middle"},B0={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Q0={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},J0={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},G0={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},X0={class:"tw-max-w-[25px]"},t1={class:"tw-inline-flex tw-items-center"},e1={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},r1=["checked"],a1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),s1=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),l1={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},o1=(0,s._)("span",null,"Created",-1),i1=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),w1=[o1,i1],n1=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),d1=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),c1=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),u1=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),p1=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),g1=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),m1=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),h1=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),f1={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},b1={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},v1=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),x1=[v1],y1={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},_1={colspan:"11"},k1={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},C1=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),D1=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),S1=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),z1=[D1,S1],U1={class:"tw-mt-6"};function q1(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Y0,[(0,s._)("div",Z0,[(0,s._)("div",K0,[(0,s._)("div",B0,[(0,s._)("table",Q0,[(0,s._)("thead",J0,[(0,s._)("tr",null,[(0,s._)("th",G0,[(0,s._)("div",X0,[(0,s._)("div",t1,[(0,s._)("label",e1,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,r1),a1])])])]),s1,(0,s._)("th",l1,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},w1)]),n1,d1,c1,u1,p1,g1,m1,h1])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",f1,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,w)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:w,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",b1,x1)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",y1,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",_1,[(0,s._)("div",k1,[C1,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},z1)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",U1,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const P1={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},L1={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},W1={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},A1={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},$1=["disabled"],E1=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),T1=(0,s._)("span",null," previous ",-1),F1=[E1,T1],j1=["disabled"],I1=(0,s._)("span",null," Next ",-1),V1=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),O1=[I1,V1];function H1(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",P1,[(0,s._)("div",L1,[(0,s.Uk)(" Page "),(0,s._)("span",W1,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",A1,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},F1,10,$1),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},O1,10,j1)])])])}var M1={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const R1=(0,m.Z)(M1,[["render",H1]]);var N1=R1;const Y1={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Z1={class:"tw-max-w-[25px]"},K1={class:"tw-inline-flex tw-items-center"},B1={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},Q1=["checked","id"],J1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),G1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},X1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},t2={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},e2={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},r2={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},a2={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},s2={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},l2={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},o2={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},i2={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},w2={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},n2={class:"tw-space-y-1"},d2={class:"tw-font-bold tw-text-green-500"},c2={class:"tw-block tw-max-w-[150px] tw-truncate"},u2={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},p2={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},g2={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},m2={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},h2={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},f2={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function b2(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,wt.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",Y1,[(0,s._)("div",Z1,[(0,s._)("div",K1,[(0,s._)("label",B1,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,Q1),J1])])])]),(0,s._)("td",G1,[(0,s._)("div",null,[(0,s._)("h2",X1,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",t2,[(0,s._)("div",null,[(0,s._)("h2",e2,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",r2,[(0,s._)("div",null,[(0,s._)("h2",a2,(0,wt.zw)(r.item.fullname),1)])]),(0,s._)("td",s2,[(0,s._)("div",null,[(0,s._)("h2",l2,(0,wt.zw)(r.item.city),1)])]),(0,s._)("td",o2,[(0,s._)("div",null,[(0,s._)("h2",i2,(0,wt.zw)(r.item.phone),1)])]),(0,s._)("td",w2,[(0,s._)("div",null,[(0,s._)("ul",n2,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",d2,(0,wt.zw)(t.quantity)+" x ",1),(0,s._)("span",c2,(0,wt.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",u2,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",p2,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",g2,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3)])]),(0,s._)("td",m2,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",h2,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",f2,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const v2={class:"tw-h-full"},x2={class:"tw-flex tw-items-center tw-gap-2"},y2=["href"],_2={key:0};function k2(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",v2,[(0,s._)("div",x2,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,y2),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",_2,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[2]||(e[2]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const C2={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},D2=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),S2={class:"tw-bg-white tw-p-4"},z2={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},U2={class:"tw-col-span-2 md:tw-col-span-1"},q2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),P2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},L2={class:"tw-col-span-2 md:tw-col-span-1"},W2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),A2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$2={class:"tw-col-span-2 md:tw-col-span-1"},E2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),T2={class:"tw-relative"},F2=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),j2=["value"],I2=["value"],V2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),O2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},H2={class:"tw-col-span-2 md:tw-col-span-1"},M2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),R2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},N2={class:"tw-col-span-2"},Y2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),Z2={class:"tw-relative"},K2=["value"],B2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Q2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},J2={key:0,class:"md:tw-col-span-1 tw-col-span-2"},G2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),X2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},t5={key:1,class:"md:tw-col-span-1 tw-col-span-2"},e5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),r5={class:"tw-col-span-2"},a5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),s5={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},l5={class:"md:tw-col-span-1 tw-col-span-2"},o5={class:"md:tw-col-span-1 tw-col-span-2"},i5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),w5={class:"tw-relative"},n5=["value"],d5=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),c5={class:"tw-col-span-2"},u5={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},p5={key:0,class:"tw-text-red-400 tw-text-xs"},g5={key:3,class:"tw-col-span-2"},m5={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},h5=["disabled"],f5=(0,s._)("span",null,"Update",-1);function b5(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",C2,[D2,(0,s._)("div",S2,[(0,s._)("div",z2,[(0,s._)("div",U2,[q2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",P2,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",L2,[W2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",A2,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",$2,[E2,(0,s._)("div",T2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[F2,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,j2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,I2)))),128))],34),[[a.bM,o.itemCopy.city]]),V2]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",O2,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",H2,[M2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",R2,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",N2,[Y2,(0,s._)("div",Z2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,wt.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,K2)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),B2]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",Q2,(0,wt.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",J2,[G2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,wt.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",X2,(0,wt.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",t5,[e5,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",r5,[a5,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",s5,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",l5,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",o5,[i5,(0,s._)("div",w5,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,n5)))),128))],512),[[a.bM,o.itemCopy.upsell]]),d5])]),(0,s._)("div",c5,[(0,s._)("label",u5,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",p5," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",g5,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",m5,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),f5],8,h5)])])])),_:1},8,["visible","onCancel"])])}const v5=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!x5(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),x5=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},y5=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},_5=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},k5=(t,e)=>{t.isLoading=!0,t.errors={},Vu.update(e.id,e).then((e=>y5(t,e.data))).catch((e=>_5(t,e.response.data))).finally((()=>t.isLoading=!1))},C5={key:0},D5=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),S5={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},z5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),U5=(0,s._)("span",null,"Add Item",-1),q5=[z5,U5],P5={key:1,class:"md:tw-col-span-12 tw-col-span-12"},L5={class:"tw-max-w-full tw-overflow-auto"},W5={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},A5={class:"tw-bg-gray-50"},$5={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},E5={key:0},T5={colspan:"6"},F5={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},j5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),I5=(0,s._)("span",null,"Add Item",-1),V5=[j5,I5],O5=(0,s._)("td",{colspan:"4"},null,-1),H5=(0,s._)("td",null,null,-1),M5={colspan:"1",class:"tw-p-2"},R5={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},N5={key:1},Y5={colspan:"6"},Z5={class:"tw-scale-75 tw-p-5"};function K5(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",C5,[D5,(0,s._)("div",S5,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},q5)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",P5,[(0,s._)("div",L5,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",W5,[(0,s._)("tr",A5,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",$5,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",E5,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",T5,[(0,s._)("div",F5,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},V5)])])]),(0,s._)("tr",null,[O5,H5,(0,s._)("td",M5,[(0,s._)("div",R5,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",N5,[(0,s._)("tr",null,[(0,s._)("td",Y5,[(0,s._)("div",Z5,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const B5=(0,s._)("td",null,null,-1),Q5={class:"tw-p-2"},J5={class:"tw-relative"},G5=["value"],X5=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),t4=["value"],e4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),r4={class:"tw-p-2"},a4={key:0,class:"tw-relative"},s4=["value"],l4=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),o4=["value"],i4={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},w4=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),n4=[w4],d4={class:"tw-p-2"},c4=["value"],u4={class:"tw-p-2"},p4=["value"],g4={class:"tw-flex tw-justify-center"};function m4(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[B5,(0,s._)("td",null,[(0,s._)("div",Q5,[(0,s._)("div",J5,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[X5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,t4)))),128))],40,G5),e4])])]),(0,s._)("td",null,[(0,s._)("div",r4,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",a4,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[l4,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,o4)))),128))],40,s4)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",i4,n4)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",d4,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,c4)])]),(0,s._)("td",null,[(0,s._)("div",u4,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,p4)])]),(0,s._)("td",null,[(0,s._)("div",g4,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var h4={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const f4=(0,m.Z)(h4,[["render",m4]]);var b4=f4,v4={components:{ItemRow:b4},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const x4=(0,m.Z)(v4,[["render",K5]]);var y4=x4;const _4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),k4={key:0,class:"tw-relative"},C4=["value","disabled"],D4=(0,s._)("option",{value:""},"Choose a Delivery",-1),S4=["value"],z4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),U4={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},q4={key:2,class:"tw-relative"},P4={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},L4=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),W4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function A4(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[_4,l.fetched?((0,s.wg)(),(0,s.iD)("div",k4,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,wt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[D4,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,S4)))),128))],42,C4),z4])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",U4,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",q4,[(0,s._)("div",P4,[(0,s.Wm)(i)]),L4,W4]))])}var $4={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const E4=(0,m.Z)($4,[["render",A4]]);var T4=E4;const F4={key:0},j4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),I4={class:"md:tw-col-span-12 tw-col-span-12"},V4={class:"tw-max-w-full tw-overflow-auto"},O4={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},H4=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),M4={class:"tw-px-3 tw-py-2"},R4={class:"tw-px-3 tw-py-2"},N4={class:"tw-px-3 tw-py-2"},Y4={class:"tw-px-3 tw-py-2"},Z4={class:"tw-max-w-[250px] tw-text-sm"};function K4(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",F4,[j4,(0,s._)("div",I4,[(0,s._)("div",V4,[(0,s._)("table",O4,[H4,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",M4,(0,wt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",R4,(0,wt.zw)(t.quantity),1),(0,s._)("td",N4,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",Y4,[(0,s._)("p",Z4,(0,wt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var B4={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const Q4=(0,m.Z)(B4,[["render",K4]]);var J4=Q4,G4={components:{OrderItems:y4,OrderAffectation:T4,ProductOffersTable:J4},props:{visible:{required:!0},item:{required:!0}},data(){return{followup_confirmations:Vn,deliveryStatus:Hn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=v5(this,this.itemCopy);if(!t)return!1;k5(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const X4=(0,m.Z)(G4,[["render",b5]]);var t3=X4,e3={components:{UpdatePopup:t3},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const r3=(0,m.Z)(e3,[["render",k2]]);var a3=r3;const s3={key:0},l3={key:0,class:"tw-relative tw-inline-block tw-text-left"},o3={key:0},i3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),w3=[i3],n3={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},d3={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},c3=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),u3=[c3],p3={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},g3={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},m3={class:"tw-py-1",role:"none"},h3=["onClick"],f3={key:1},b3={class:"tw-p-2 tw-scale-75"};function v3(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",s3,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",l3,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",o3,w3)):(0,s.kq)("",!0),(0,s._)("p",n3,(0,wt.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",d3,u3)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",p3,(0,wt.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Vt.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",g3,[(0,s._)("div",m3,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],8,h3)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",f3,[(0,s._)("div",b3,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var x3={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};k5(this,e,!1)}}};const y3=(0,m.Z)(x3,[["render",v3]]);var _3=y3,k3={components:{TableActions:a3,TableRowAffectation:_3},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ze()}},computed:{confirmation(){return jn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Hn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const C3=(0,m.Z)(k3,[["render",b2]]);var D3=C3,S3={components:{TablePaginationNoNums:N1,TableRow:D3},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const z3=(0,m.Z)(S3,[["render",q1]]);var U3=z3;const q3={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},P3={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},L3=["disabled"],W3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),A3=[W3],$3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),E3=[$3],T3=["disabled"],F3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),j3=[F3],I3={class:"tw-relative"},V3=["value"],O3=(0,s._)("option",{value:5},"5",-1),H3=(0,s._)("option",{value:10},"10",-1),M3=(0,s._)("option",{value:20},"20",-1),R3=(0,s._)("option",{value:50},"50",-1),N3=(0,s._)("option",{value:100},"100",-1),Y3=(0,s._)("option",{value:250},"250",-1),Z3=(0,s._)("option",{value:500},"500",-1),K3=[O3,H3,M3,R3,N3,Y3,Z3],B3=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Q3={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},J3=["value"],G3={class:"tw-overflow-hidden tw-col-span-1"},X3={class:"tw-overflow-hidden tw-col-span-1"};function t8(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=((0,s.up)("IndexExport"),(0,s.up)("IndexStatistics"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",q3,[(0,s._)("div",P3,[(0,s._)("button",{class:(0,wt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,L3),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,wt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},A3,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:1,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,wt.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},E3,2)):(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},j3,8,T3),(0,s.kq)("",!0),(0,s._)("div",I3,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},K3,40,V3),B3])]),(0,s._)("div",Q3,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,J3),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",G3,[(0,s.Wm)(w,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s.kq)("",!0),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",X3,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const e8={class:"tw-mb-4"},r8={class:"tw-grid tw-grid-cols-12 tw-gap-4"},a8={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},s8={class:"tw-flex tw-items-center tw-justify-between"},l8={class:"tw-text-xl tw-font-bold tw-text-gray-900"},o8={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function i8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",e8,[(0,s._)("div",r8,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",a8,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",s8,[(0,s._)("span",l8,(0,wt.zw)(t.total),1),(0,s._)("span",o8,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var w8={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const n8=(0,m.Z)(w8,[["render",i8]]);var d8=n8;const c8={class:"tw-mb-4"},u8={class:"tw-flex tw-items-center tw-gap-2"},p8=["disabled"],g8=(0,s._)("span",null,"Select Filtered",-1),m8={class:"tw-flex tw-justify-end"},h8=["disabled"];function f8(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",c8,[(0,s._)("div",u8,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),g8],8,p8)]),(0,s._)("div",m8,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,wt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,h8)])])}var b8={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Vu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const v8=(0,m.Z)(b8,[["render",f8]]);var x8=v8;const y8={class:"tw-mb-4"},_8={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},k8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},C8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),D8=["value"],S8=(0,s._)("option",{value:"all",selected:""},"All",-1),z8=["value"],U8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},q8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),P8=["value"],L8=(0,s._)("option",{value:"all",selected:""},"All",-1),W8=["value"],A8={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},$8=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),E8=(0,s._)("span",null,"Clear",-1),T8=[$8,E8],F8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),j8=(0,s._)("span",null,"Filter",-1),I8=[F8,j8];function V8(t,e,r,a,l,o){(0,s.up)("ProductFilter"),(0,s.up)("AgentFilter");const i=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",y8,[(0,s._)("div",_8,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",k8,[C8,(0,s._)("select",{value:r.filters.followup_confirmation,onChange:e[6]||(e[6]=e=>t.$emit("update",{...r.filters,followup_confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[S8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,wt.zw)(t.name),11,z8)))),128))],40,D8)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",U8,[q8,(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[L8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,wt.zw)(t.name),11,W8)))),128))],40,P8)]),(0,s.kq)("",!0),(0,s._)("div",A8,[(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},T8),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},I8)])])])}const O8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},H8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),M8=["value"],R8=(0,s._)("option",{value:"all"},"All",-1),N8=(0,s._)("option",{value:""},"No Delivery",-1),Y8=["value"];function Z8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",O8,[H8,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[R8,N8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,Y8)))),128))],40,M8)])}var K8={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const B8=(0,m.Z)(K8,[["render",Z8]]);var Q8=B8;const J8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},G8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),X8=["value"],t6=(0,s._)("option",{value:"all"},"All",-1),e6=(0,s._)("option",{value:""},"No Agent",-1),r6=["value"];function a6(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",J8,[G8,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[t6,e6,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,r6)))),128))],40,X8)])}var s6={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const l6=(0,m.Z)(s6,[["render",a6]]);var o6=l6;const i6={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},w6=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),n6=["value"],d6=(0,s._)("option",{value:"all"},"All",-1),c6=["value"];function u6(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",i6,[w6,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[d6,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.name),9,c6)))),128))],40,n6)])}var p6={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const g6=(0,m.Z)(p6,[["render",u6]]);var m6=g6,h6={components:{AffectationFilter:Q8,AgentFilter:o6,ProductFilter:m6},props:{filters:{required:!0,default:{}}},data(){return{followup_confirmations:Vn,deliveries:Hn,dateFilter:["",""]}}};const f6=(0,m.Z)(h6,[["render",V8]]);var b6=f6,v6={components:{IndexStatistics:d8,FiltersWrapper:b6,IndexExport:x8},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ze()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const x6=(0,m.Z)(v6,[["render",t8]]);var y6=x6;const _6={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},k6=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),C6={class:"tw-bg-white tw-p-4"},D6={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},S6={class:"tw-col-span-2 md:tw-col-span-1"},z6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),U6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},q6={class:"tw-col-span-2 md:tw-col-span-1"},P6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),L6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},W6={class:"tw-col-span-2 md:tw-col-span-1"},A6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),$6={class:"tw-relative"},E6=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),T6=["value"],F6=["value"],j6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),I6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},V6={class:"tw-col-span-2 md:tw-col-span-1"},O6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),H6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},M6={class:"tw-col-span-2"},R6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),N6={class:"tw-relative"},Y6=["value"],Z6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),K6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},B6={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Q6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),J6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},G6={key:1,class:"md:tw-col-span-1 tw-col-span-2"},X6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),t7={class:"tw-col-span-2"},e7=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),r7={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},a7={class:"md:tw-col-span-1 tw-col-span-2"},s7={class:"md:tw-col-span-1 tw-col-span-2"},l7=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),o7={class:"tw-relative"},i7=["value"],w7=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),n7={class:"tw-col-span-2"},d7={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},c7={key:0,class:"tw-text-red-400 tw-text-xs"},u7={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},p7=["disabled"],g7=(0,s._)("span",null,"Create",-1);function m7(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",_6,[k6,(0,s._)("div",C6,[(0,s._)("div",D6,[(0,s._)("div",S6,[z6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",U6,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",q6,[P6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",L6,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",W6,[A6,(0,s._)("div",$6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[E6,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,T6),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,F6)))),128))],34),[[a.bM,o.itemCopy.city]]),j6]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",I6,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",V6,[O6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",H6,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",M6,[R6,(0,s._)("div",N6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,wt.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,Y6)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),Z6]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",K6,(0,wt.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",B6,[Q6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,wt.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",J6,(0,wt.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",G6,[X6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",t7,[e7,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",r7,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",a7,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",s7,[l7,(0,s._)("div",o7,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,i7)))),128))],512),[[a.bM,o.itemCopy.upsell]]),w7])]),(0,s._)("div",n7,[(0,s._)("label",d7,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",c7," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",u7,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),g7],8,p7)])])])),_:1},8,["visible","onCancel"])])}const h7=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},f7=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},b7=(t,e)=>{t.isLoading=!0,t.errors={},ki.create(e).then((e=>h7(t,e.data))).catch((e=>f7(t,e.response.data))).finally((()=>t.isLoading=!1))};var v7={components:{OrderItems:y4,OrderAffectation:T4},props:{visible:{required:!0}},data(){return{followup_confirmations:Vn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=v5(this,this.itemCopy);if(!t)return!1;b7(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:"confirmer",upsell:null,items:[]},this.getProducts()}};const x7=(0,m.Z)(v7,[["render",m7]]);var y7=x7,_7={components:{IndexTable:U3,IndexFilters:y6,CreatePopup:y7,BulkActions:KX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ki.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const k7=(0,m.Z)(_7,[["render",N0]]);var C7=k7,D7={name:"sales",path:"/sales",component:Wa,meta:{module:"sale"},children:[{name:"sale/list",path:"",component:YH,meta:{module:"sale",subModule:"sale/list",title:"Sales List",gate:"show_all_sales"}},{name:"sale/newlist",path:"new",component:JX,meta:{module:"sale",subModule:"sale/newlist",title:"Sales List",gate:"show_all_sales"}},{name:"sale/expidation",path:"expidation",component:g0,meta:{module:"sale",subModule:"sale/expidation",title:"Expidation",gate:"show_all_expidations"}},{name:"sale/shipping",path:"shipping",component:L0,meta:{module:"sale",subModule:"sale/shipping",title:"Shipping",gate:"show_all_expidations"}},{name:"sale/followup",path:"followup",component:C7,meta:{module:"followup",subModule:"sale/followup",title:"Follow Up",gate:"show_all_expidations"}}]};const S7={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},z7={class:"tw-px-3"},U7={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},q7={class:"tw-flex tw-items-center tw-gap-x-3"},P7=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),L7={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},W7=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"List of all orders.",-1),A7={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},$7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),E7=(0,s._)("span",null,"Create",-1),T7=[$7,E7],F7={key:0};function j7(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",S7,[(0,s._)("section",z7,[(0,s._)("div",U7,[(0,s._)("div",null,[(0,s._)("div",q7,[P7,(0,s._)("span",L7,(0,wt.zw)(l.totalOrders)+" order",1)]),W7]),(0,s._)("div",A7,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},T7)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",F7,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const I7={class:"tw-flex tw-flex-col"},V7={class:"tw-overflow-x-auto"},O7={class:"tw-inline-block tw-min-w-full tw-align-middle"},H7={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},M7={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},R7={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},N7=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Y7={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Z7=(0,s._)("span",null,"Created",-1),K7=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),B7=[Z7,K7],Q7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),J7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),G7=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Products ",-1),X7=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),t9=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),e9=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),r9={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},a9={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},s9=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),l9=[s9],o9={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},i9={colspan:"8"},w9={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},n9=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),d9=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),c9=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),u9=[d9,c9],p9={class:"tw-mt-6"};function g9(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",I7,[(0,s._)("div",V7,[(0,s._)("div",O7,[(0,s._)("div",H7,[(0,s._)("table",M7,[(0,s._)("thead",R7,[(0,s._)("tr",null,[N7,(0,s._)("th",Y7,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},B7)]),Q7,J7,G7,X7,t9,e9])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",r9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",a9,l9)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",o9,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",i9,[(0,s._)("div",w9,[n9,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},u9)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",p9,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const m9={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},h9={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},f9={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},b9={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},v9=["disabled"],x9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),y9=(0,s._)("span",null," previous ",-1),_9=[x9,y9],k9=["disabled"],C9=(0,s._)("span",null," Next ",-1),D9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),S9=[C9,D9];function z9(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",m9,[(0,s._)("div",h9,[(0,s.Uk)(" Page "),(0,s._)("span",f9,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",b9,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},_9,10,v9),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},S9,10,k9)])])])}var U9={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const q9=(0,m.Z)(U9,[["render",z9]]);var P9=q9;const L9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},W9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},A9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},E9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},T9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},F9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},j9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},I9={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},V9={class:"tw-space-y-1"},O9={class:"tw-font-bold tw-text-green-500"},H9={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},M9={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},R9={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},N9={class:"tw-px-12 tw-py-2 tw-text-sm tw-whitespace-nowrap"},Y9=(0,s._)("div",{class:"tw-w-1.5 tw-h-1.5 tw-rounded-full tw-bg-emerald-500"},null,-1),Z9={key:1},K9={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function B9(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",L9,[(0,s._)("div",null,[(0,s._)("h2",W9,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",A9,[(0,s._)("div",null,[(0,s._)("h2",$9,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",E9,[(0,s._)("div",null,[(0,s._)("h2",T9,(0,wt.zw)(r.item.fullname),1)])]),(0,s._)("td",F9,[(0,s._)("div",null,[(0,s._)("h2",j9,(0,wt.zw)(r.item.phone),1)])]),(0,s._)("td",I9,[(0,s._)("div",null,[(0,s._)("ul",V9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",O9,(0,wt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,wt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",H9,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",M9,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",R9,[(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3)]),(0,s._)("td",N9,[r.item.delivery_fullname?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([["tw-text-emerald-800","tw-bg-emerald-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-pl-1.5 tw-py-0.5 tw-rounded tw-w-fit tw-flex tw-items-center tw-gap-2"])},[Y9,(0,s._)("span",null,(0,wt.zw)(r.item.delivery_fullname),1)])):((0,s.wg)(),(0,s.iD)("div",Z9,[(0,s._)("span",{class:(0,wt.C_)([["tw-text-gray-800","tw-bg-gray-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},"No Delivery")]))]),(0,s._)("td",K9,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const Q9={class:"tw-h-full"},J9={class:"tw-flex tw-items-center tw-gap-2"},G9=["href"],X9={key:0};function ttt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",Q9,[(0,s._)("div",J9,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,G9),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",X9,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const ett={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},rtt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),att={class:"tw-bg-white tw-p-4"},stt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},ltt={class:"tw-col-span-2 md:tw-col-span-1"},ott=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),itt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},wtt={class:"tw-col-span-2 md:tw-col-span-1"},ntt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),dtt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ctt={class:"tw-col-span-2 md:tw-col-span-1"},utt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),ptt={class:"tw-relative"},gtt=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),mtt=["value"],htt=["value"],ftt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),btt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},vtt={class:"tw-col-span-2 md:tw-col-span-1"},xtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),ytt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_tt={class:"tw-col-span-2"},ktt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Ctt={class:"tw-relative"},Dtt=["value"],Stt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ztt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Utt={key:0,class:"md:tw-col-span-1 tw-col-span-2"},qtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Ptt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ltt={key:1,class:"md:tw-col-span-1 tw-col-span-2"},Wtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Att={class:"tw-col-span-2"},$tt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Ett={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ttt={class:"md:tw-col-span-1 tw-col-span-2"},Ftt={key:2,class:"tw-col-span-1"},jtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),Itt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Vtt={class:"md:tw-col-span-1 tw-col-span-2"},Ott=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Htt={class:"tw-relative"},Mtt=["value"],Rtt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Ntt={class:"tw-col-span-2"},Ytt={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Ztt={key:0,class:"tw-text-red-400 tw-text-xs"},Ktt={key:3,class:"tw-col-span-2"},Btt={class:"tw-grid lg:tw-grid-cols-2 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},Qtt={class:"tw-space-y-2 tw-px-5"},Jtt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-youtube tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Video Link")],-1),Gtt=["href"],Xtt={class:"tw-space-y-2 tw-px-5"},tet=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-store tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Store Link")],-1),eet=["href"],ret={key:4,class:"tw-col-span-2"},aet={key:0},set={key:0},oet={class:"tw-w-full tw-table-auto tw-border-collapse"},iet=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-border tw-px-4 tw-py-2"},"Product Name"),(0,s._)("th",{class:"tw-border tw-px-4 tw-py-2"},"Link video"),(0,s._)("th",{class:"tw-border tw-px-4 tw-py-2"},"Link Store")])],-1),wet={class:"tw-border tw-px-4 tw-py-2"},net={class:"tw-border tw-px-4 tw-py-2"},det=["href"],cet=(0,s._)("i",{class:"mdi mdi-youtube tw-mx-2 tw-text-orange-400 tw-text-2xl"},null,-1),uet={class:"tw-border tw-px-4 tw-py-2"},pet=["href"],get=(0,s._)("i",{class:"mdi mdi-store tw-mx-2 tw-text-orange-400 tw-text-2xl"},null,-1),met={class:"tw-my-2 tw-flex tw-justify-end"},het={key:1,class:"tw-text-center"},fet={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},bet=["disabled"],vet=(0,s._)("span",null,"Update",-1);function xet(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",ett,[rtt,(0,s._)("div",att,[(0,s._)("div",stt,[(0,s._)("div",ltt,[ott,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",itt,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",wtt,[ntt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",dtt,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",ctt,[utt,(0,s._)("div",ptt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[gtt,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,mtt),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,htt)))),128))],34),[[a.bM,o.itemCopy.city]]),ftt]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",btt,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",vtt,[xtt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",ytt,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",_tt,[ktt,(0,s._)("div",Ctt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,Dtt)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),Stt]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",ztt,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Utt,[qtt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",Ptt,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Ltt,[Wtt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",Att,[$tt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",Ett,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",Ttt,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Ftt,[jtt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,wt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",Itt,(0,wt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",Vtt,[Ott,(0,s._)("div",Htt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,Mtt)))),128))],512),[[a.bM,o.itemCopy.upsell]]),Rtt])]),(0,s._)("div",Ntt,[(0,s._)("label",Ytt,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",Ztt," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{action:"update",order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",Ktt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",Btt,[(0,s._)("div",Qtt,[Jtt,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.video},(0,wt.zw)(i.truncateText(t.video,30)),9,Gtt)]),(0,s._)("div",Xtt,[tet,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.store},(0,wt.zw)(i.truncateText(t.store,30)),9,eet)])])])))),128))])):(0,s.kq)("",!0),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",ret,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"]),(0,s._)("button",{onClick:e[21]||(e[21]=t=>o.showProducts=!o.showProducts),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-my-5 tw-w-[150px] tw-h-[30px] tw-border tw-border-solid tw-border-emerald-500/20 hover:tw-bg-emerald-500/10 hover:tw-border-emerald-500/70 tw-duration-300 tw-text-emerald-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"}," Suggested Products "),o.showProducts?((0,s.wg)(),(0,s.iD)("div",aet,[i.paginatedProducts.length>0?((0,s.wg)(),(0,s.iD)("div",set,[(0,s._)("table",oet,[iet,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.paginatedProducts,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",wet,(0,wt.zw)(t.name),1),(0,s._)("td",net,[(0,s._)("a",{href:"https://"+t.video,target:"_blank",class:"tw-flex tw-items-center tw-text-blue-500 tw-hover:text-blue-800 hover:tw-underline"},[cet,(0,s.Uk)((0,wt.zw)(t.video),1)],8,det)]),(0,s._)("td",uet,[(0,s._)("a",{href:"https://"+t.store,target:"_blank",class:"tw-flex tw-items-center tw-text-blue-500 tw-hover:text-blue-800 hover:tw-underline"},[get,(0,s.Uk)(" "+(0,wt.zw)(t.store),1)],8,pet)])])))),128))])]),(0,s._)("div",met,[(0,s._)("button",{class:"tw-border-solid tw-border-2 tw-rounded-lg tw-border-gray-400 tw-py-1 tw-px-3 tw-mr-2",onClick:e[22]||(e[22]=(...t)=>i.previousPage&&i.previousPage(...t))},"Previous"),(0,s._)("button",{class:"tw-border-solid tw-border-2 tw-rounded-lg tw-border-gray-400 tw-py-1 tw-px-3",onClick:e[23]||(e[23]=(...t)=>i.nextPage&&i.nextPage(...t))},"Next")])])):((0,s.wg)(),(0,s.iD)("div",het," No other products "))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("div",fet,[(0,s._)("button",{onClick:e[24]||(e[24]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[25]||(e[25]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),vet],8,bet)])])])),_:1},8,["visible","onCancel"])])}const yet=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.parent_id||"refund"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!_et(t,e.items):(t.errors.parent_id="Add Parent id !",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),_et=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},ket=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={},t.$store.dispatch("agent/refreshCounts")},Cet=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Det=(t,e)=>{t.isLoading=!0,t.errors={},F.update(e.id,e).then((e=>ket(t,e.data))).catch((e=>Cet(t,e.response.data))).finally((()=>t.isLoading=!1))},zet={key:0},Uet=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),qet={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Pet=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Let=(0,s._)("span",null,"Add Item",-1),Wet=[Pet,Let],Aet={key:1,class:"md:tw-col-span-12 tw-col-span-12"},$et={class:"tw-max-w-full tw-overflow-auto"},Eet={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},Tet={class:"tw-bg-gray-50"},Fet={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},jet={key:0},Iet={colspan:"5"},Vet={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Oet=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Het=(0,s._)("span",null,"Add Item",-1),Met=[Oet,Het],Ret=(0,s._)("td",{colspan:"4"},null,-1),Net={colspan:"1",class:"tw-p-2"},Yet={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Zet={key:1},Ket={colspan:"6"},Bet={class:"tw-scale-75 tw-p-5"};function Qet(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",zet,[Uet,(0,s._)("div",qet,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Wet)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",Aet,[(0,s._)("div",$et,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Eet,[(0,s._)("tr",Tet,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Fet,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",jet,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,action:r.action,item:t,order:r.order,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["action","item","order","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",Iet,[(0,s._)("div",Vet,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Met)])])]),(0,s._)("tr",null,[Ret,(0,s._)("td",Net,[(0,s._)("div",Yet,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Zet,[(0,s._)("tr",null,[(0,s._)("td",Ket,[(0,s._)("div",Bet,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const Jet={class:"tw-p-2"},Get={class:"tw-p-2"},Xet={key:0,class:"tw-relative"},trt=["value"],ert=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),rrt=["value"],art={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},srt=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),lrt=[srt],ort={class:"tw-p-2"},irt=["value"],wrt={class:"tw-p-2"},nrt=["value"],drt={class:"tw-flex tw-justify-center"};function crt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("div",Jet,[((0,s.wg)(),(0,s.j4)(i,{"append-to-body":"",reduce:t=>t.id,key:r.item.id,"onOption:selected":e[0]||(e[0]=t=>o.handleProductChange(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Product",modelValue:o.product,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),options:o.allProducts,label:"name"},null,8,["reduce","modelValue","options"])),(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",Get,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",Xet,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[3]||(e[3]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[ert,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,rrt)))),128))],40,trt)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",art,lrt)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",ort,[(0,s._)("input",{onInput:e[4]||(e[4]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,irt)])]),(0,s._)("td",null,[(0,s._)("div",wrt,[(0,s._)("input",{onInput:e[5]||(e[5]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,nrt)])]),(0,s._)("td",null,[(0,s._)("div",drt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var urt={components:{"vue-select":sZ.Z},props:{item:{required:!0},products:{required:!0},order:{required:!1},action:{required:!0}},computed:{allProducts(){return[{id:0,name:"Choose Product"},...this.products]},product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))},productsForUpdate(){return this.products.filter((t=>t.user_id==this.order.user_id))},productsForCreate(){if(!this.order.items.length)return this.products;const t=this.order.items[0];return t.product_id?this.products.filter((e=>e.user_id==t.product.user_id)):this.products},filteredProducts(){return"update"==this.action?this.productsForUpdate:this.productsForCreate}},methods:{handleProductChange(t,e){const r=1===e?parseInt(t.target.value):t.id;if(!r)return!1;const a=this.products.find((t=>t.id==r));console.log(a.variations.length>0?a.variations[0].id:null);const s={...this.item,product_id:r,product:a,product_ref:a.ref,product_variation_id:a.variations.length>0?a.variations[0].id:null,product_variation:a.variations.length>0?a.variations[0]:null};if(this.$emit("update",s),console.log(this.order),this.order.items.length){const t=this.order.items[0];console.log(t)}},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const prt=(0,m.Z)(urt,[["render",crt]]);var grt=prt,mrt={components:{ItemRow:grt},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0},action:{required:!1,default:"update"}},data(){return{currency:c}},computed:{price(){return vo(this.order)},filteredProducts(){return this.products.filter((t=>t.user_id==this.order.user_id))}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const hrt=(0,m.Z)(mrt,[["render",Qet]]);var frt=hrt;const brt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),vrt={key:0,class:"tw-relative"},xrt=["value","disabled"],yrt=(0,s._)("option",{value:""},"Choose a Delivery",-1),_rt=["value"],krt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Crt={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Drt={key:2,class:"tw-relative"},Srt={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},zrt=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Urt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function qrt(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[brt,l.fetched?((0,s.wg)(),(0,s.iD)("div",vrt,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,wt.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[yrt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,_rt)))),128))],42,xrt),krt])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Crt,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Drt,[(0,s._)("div",Srt,[(0,s.Wm)(i)]),zrt,Urt]))])}var Prt={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const Lrt=(0,m.Z)(Prt,[["render",qrt]]);var Wrt=Lrt;const Art={key:0},$rt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),Ert={class:"md:tw-col-span-12 tw-col-span-12"},Trt={class:"tw-max-w-full tw-overflow-auto"},Frt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},jrt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),Irt={class:"tw-px-3 tw-py-2"},Vrt={class:"tw-px-3 tw-py-2"},Ort={class:"tw-px-3 tw-py-2"},Hrt={class:"tw-px-3 tw-py-2"},Mrt={class:"tw-max-w-[250px] tw-text-sm"};function Rrt(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",Art,[$rt,(0,s._)("div",Ert,[(0,s._)("div",Trt,[(0,s._)("table",Frt,[jrt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Irt,(0,wt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",Vrt,(0,wt.zw)(t.quantity),1),(0,s._)("td",Ort,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",Hrt,[(0,s._)("p",Mrt,(0,wt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var Nrt={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const Yrt=(0,m.Z)(Nrt,[["render",Rrt]]);var Zrt=Yrt,Krt={components:{OrderItems:frt,OrderAffectation:Wrt,ProductOffersTable:Zrt},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:jn,upsells:On,isLoading:!1,currentPage:1,itemsPerPage:5,showProducts:!1,products_fetched:null,products:null,itemCopy:null,product:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,parent_id:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]},paginatedProducts(){const t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.filteredProducts.slice(t,e)},filteredProducts(){const t=this.itemCopy.items.map((t=>t.product_id));return this.products.filter((e=>e.user_id===this.itemCopy.user_id&&!t.includes(e.id)))}},methods:{nextPage(){this.currentPage*this.itemsPerPage<this.filteredProducts.length&&this.currentPage++},previousPage(){this.currentPage>1&&this.currentPage--},handleUpdate(){const t=yet(this,this.itemCopy);if(!t)return!1;Det(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder(this.itemCopy.user_id).then((t=>{if("SUCCESS"==t.data.code){this.products=t.data.data.products;const e=this.itemCopy.items.map((t=>t.product_id));this.product=this.products.filter((t=>e.includes(t.id)))}else this.products=[];this.products_fetched=!0})).catch(this.$handleApiError)},truncateText(t,e){return t.length>e?t.slice(0,e)+"...":t}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const Brt=(0,m.Z)(Krt,[["render",xet]]);var Qrt=Brt,Jrt={components:{UpdatePopup:Qrt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const Grt=(0,m.Z)(Jrt,[["render",ttt]]);var Xrt=Grt,tat={components:{TableActions:Xrt},props:{item:{required:!0}},data(){return{moment:ze()}},computed:{confirmation(){return jn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Hn.find((t=>t.value==this.item.delivery))}},methods:{}};const eat=(0,m.Z)(tat,[["render",B9]]);var rat=eat,aat={components:{TablePaginationNoNums:P9,TableRow:rat},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const sat=(0,m.Z)(aat,[["render",g9]]);var lat=sat;const oat={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},iat=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),wat={class:"tw-bg-white tw-p-4"},nat={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},dat={class:"tw-col-span-2 md:tw-col-span-1"},cat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),uat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pat={class:"tw-col-span-2 md:tw-col-span-1"},gat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),mat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},hat={class:"tw-col-span-2 md:tw-col-span-1"},fat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),bat={class:"tw-relative"},vat=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),xat=["value"],yat=["value"],_at=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),kat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Cat={class:"tw-col-span-2 md:tw-col-span-1"},Dat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Sat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zat={class:"tw-col-span-2"},Uat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),qat={class:"tw-relative"},Pat=["value"],Lat=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Wat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Aat={key:0,class:"md:tw-col-span-1 tw-col-span-2"},$at=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Eat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Tat={key:1,class:"md:tw-col-span-1 tw-col-span-2"},Fat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),jat={class:"tw-col-span-2"},Iat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Vat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Oat={class:"md:tw-col-span-1 tw-col-span-2"},Hat={key:2,class:"tw-col-span-1"},Mat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),Rat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Nat={class:"md:tw-col-span-1 tw-col-span-2"},Yat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Zat={class:"tw-relative"},Kat=["value"],Bat=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Qat={class:"tw-col-span-2"},Jat={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Gat={key:0,class:"tw-text-red-400 tw-text-xs"},Xat={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},tst=["disabled"],est=(0,s._)("span",null,"Create",-1);function rst(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",oat,[iat,(0,s._)("div",wat,[(0,s._)("div",nat,[(0,s._)("div",dat,[cat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",uat,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",pat,[gat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",mat,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",hat,[fat,(0,s._)("div",bat,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[vat,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,xat),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,yat)))),128))],34),[[a.bM,o.itemCopy.city]]),_at]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",kat,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Cat,[Dat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Sat,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",zat,[Uat,(0,s._)("div",qat,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,Pat)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),Lat]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",Wat,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Aat,[$at,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",Eat,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Tat,[Fat,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",jat,[Iat,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",Vat,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",Oat,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Hat,[Mat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,wt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",Rat,(0,wt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",Nat,[Yat,(0,s._)("div",Zat,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,Kat)))),128))],512),[[a.bM,o.itemCopy.upsell]]),Bat])]),(0,s._)("div",Qat,[(0,s._)("label",Jat,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",Gat," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{action:"create",order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",Xat,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),est],8,tst)])])])),_:1},8,["visible","onCancel"])])}const ast=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},sst=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},lst=(t,e)=>{t.isLoading=!0,t.errors={},F.create(e).then((e=>ast(t,e.data))).catch((e=>sst(t,e.response.data))).finally((()=>t.isLoading=!1))};var ost={components:{OrderItems:frt,OrderAffectation:Wrt},props:{visible:{required:!0}},data(){return{confirmations:In,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=yet(this,this.itemCopy);if(!t)return!1;lst(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?(this.products=t.data.data.products,console.log(this.products)):this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const ist=(0,m.Z)(ost,[["render",rst]]);var wst=ist;const nst={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},dst={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},cst=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),ust=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),pst=[ust],gst=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),mst=[gst],hst=["disabled"],fst=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),bst=[fst],vst={class:"tw-relative"},xst=["value"],yst=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),_st=[yst],kst=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Cst={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},Dst=["value"],Sst={class:"tw-overflow-hidden tw-col-span-1"},zst={class:"tw-overflow-hidden tw-col-span-1"};function Ust(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",nst,[(0,s._)("div",dst,[cst,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},pst),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},mst)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},bst,8,hst),(0,s._)("div",vst,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},_st,40,xst),kst])]),(0,s._)("div",Cst,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,Dst),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Sst,[(0,s.Wm)(w,{onFilter:e[7]||(e[7]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",zst,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const qst={class:"tw-mb-4"},Pst={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Lst={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Wst={class:"tw-flex tw-items-center tw-justify-between"},Ast={class:"tw-text-xl tw-font-bold tw-text-gray-900"},$st={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function Est(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",qst,[(0,s._)("div",Pst,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Lst,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",Wst,[(0,s._)("span",Ast,(0,wt.zw)(t.total),1),(0,s._)("span",$st,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var Tst={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const Fst=(0,m.Z)(Tst,[["render",Est]]);var jst=Fst;const Ist={class:"tw-mb-4"},Vst={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Ost={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},Hst=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created",-1),Mst=["value"],Rst={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},Nst=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Yst=["value"],Zst=(0,s._)("option",{value:"all",selected:""},"All",-1),Kst=["value"],Bst=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})]),(0,s._)("span",null,"Filter")],-1),Qst=[Bst];function Jst(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Ist,[(0,s._)("div",Vst,[(0,s._)("div",Ost,[Hst,(0,s._)("input",{value:r.filters.created_at,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_at:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Mst)]),(0,s._)("div",Rst,[Nst,(0,s._)("select",{value:r.filters.confirmation,onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Zst,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.name),9,Kst)))),128))],40,Yst)]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",{onClick:e[3]||(e[3]=e=>t.$emit("filter")),class:"tw-col-span-12 tw-flex tw-justify-end"},Qst)])])}var Gst={props:{filters:{required:!0,default:{}}},data(){return{confirmations:jn,deliveryStatus:Hn,deliveries:[{id:1,value:"annuler",name:"Cancelled"},{id:2,value:"pas-de-reponse",name:"No Answer"}]}}};const Xst=(0,m.Z)(Gst,[["render",Jst]]);var tlt=Xst,elt={components:{IndexStatistics:jst,FiltersWrapper:tlt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const rlt=(0,m.Z)(elt,[["render",Ust]]);var alt=rlt,slt={components:{IndexTable:lat,IndexFilters:alt,CreatePopup:wst},data(){return{fetching:!0,items:[],statistics:null,create_popup:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",delivery:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,F.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const llt=(0,m.Z)(slt,[["render",j7]]);var olt=llt;const ilt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},wlt={class:"tw-px-3 tw-h-fit"},nlt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},dlt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"New Orders")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"take responsibility for new orders.")],-1),clt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},ult=["disabled"],plt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),glt=(0,s._)("span",null,"Get Order",-1),mlt=[plt,glt],hlt={key:0,class:"tw-p-5"},flt={key:1,class:"tw-mt-5 tw-space-y-5"},blt={class:"tw-flex tw-items-center tw-justify-end"},vlt={key:2},xlt=(0,s._)("div",{class:"tw-p-5 tw-border tw-border-solid tw-shadow-sm tw-mt-5 tw-text-center tw-font-medium tw-text-xl tw-text-gray-600 tw-bg-gray-100 tw-w-full tw-rounded-lg"}," No Orders ",-1),ylt=[xlt];function _lt(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",ilt,[(0,s._)("section",wlt,[(0,s._)("div",nlt,[dlt,(0,s._)("div",clt,[(0,s._)("button",{disabled:l.fetching,onClick:e[0]||(e[0]=(...t)=>o.getOrder&&o.getOrder(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},mlt,8,ult)])]),l.fetching?((0,s.wg)(),(0,s.iD)("div",hlt,[(0,s.Wm)(i)])):(0,s.kq)("",!0),!l.fetching&&l.order_exists?((0,s.wg)(),(0,s.iD)("div",flt,[(0,s.Wm)(w,{order:l.order,onUpdate:e[1]||(e[1]=t=>l.order=t)},null,8,["order"]),l.doubles.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.doubles,(t=>((0,s.wg)(),(0,s.j4)(w,{double:!0,key:t.id,order:t,onUpdate:e[2]||(e[2]=t=>l.doubles=l.doubles.map((e=>e.id==t.id?t:e)))},null,8,["order"])))),128)):(0,s.kq)("",!0),(0,s._)("div",blt,[(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.save&&o.save(...t)),type:"button",class:"tw-px-5 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-orange-500 hover:tw-bg-orange-600 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-orange-100 tw-rounded-lg tw-text-center dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 dark:focus:tw-ring-orange-800"}," Save ")])])):(0,s.kq)("",!0),l.fetching||l.order_exists?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vlt,ylt))])])}const klt=t=>{t.fetching=!0,F.toConfirm().then((e=>{const r=e.data;if("NO_ORDER"===r.code)return t.order_exists=!1,!1;"SUCCESS"==r.code&&r.data.orders.length>0&&(t.order=r.data.orders[0],t.order_exists=!0),t.doubles=1==r.data.double?r.data.double_orders.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},Clt=t=>null==t.order.confirmation?(t.$alert({title:"Confirmation Not Changed",type:"warning"}),!1):t.doubles.some((t=>null==t.confirmation))?(t.$alert({title:"Double Order Confirmation Not Changed",type:"warning"}),!1):(t.order_exists=!1,t.order=null,t.doubles=[],void t.$alert({title:"Your changes has been saved !",type:"success"})),Dlt=t=>{let e=t.order;if(null!=e&&null==e.confirmation)return t.$alert({type:"warning",title:"Order Not Confirmed"}),!1;t.fetching=!0,F.getOrder().then((e=>{let r=e.data;if("ORDER_NOT_CONFIRMED"==r.code){t.$alert({type:"warning",title:"Order Not Confirmed"});let r=e.data.orders[0];return t.order=JSON.parse(JSON.stringify(r)),t.order_exists=!0,!1}if("SUCCESS"==r.code&&!e.data.orders?.id){let e=r.data.orders;t.order=JSON.parse(JSON.stringify(e)),t.order_exists=!0}if("NO_ORDERS"===r.code)return t.order_exists=!1,!1;t.doubles=1==r.data.double?r.data.double_orders?.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},Slt={class:"tw-bg-gray-50 tw-border tw-shadow-sm tw-rounded-lg tw-relative"},zlt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"white","fill-rule":"evenodd",d:"M21.455 5.416a.75.75 0 0 1-.096.943l-9.193 9.192a.75.75 0 0 1-.34.195l-3.829 1a.75.75 0 0 1-.915-.915l1-3.828a.778.778 0 0 1 .161-.312L17.47 2.47a.75.75 0 0 1 1.06 0l2.829 2.828a.756.756 0 0 1 .096.118Zm-1.687.412L18 4.061l-8.518 8.518l-.625 2.393l2.393-.625l8.518-8.519Z","clip-rule":"evenodd"}),(0,s._)("path",{fill:"white",d:"M19.641 17.16a44.4 44.4 0 0 0 .261-7.04a.403.403 0 0 1 .117-.3l.984-.984a.198.198 0 0 1 .338.127a45.91 45.91 0 0 1-.21 8.372c-.236 2.022-1.86 3.607-3.873 3.832a47.77 47.77 0 0 1-10.516 0c-2.012-.225-3.637-1.81-3.873-3.832a45.922 45.922 0 0 1 0-10.67c.236-2.022 1.86-3.607 3.873-3.832a47.75 47.75 0 0 1 7.989-.213a.2.2 0 0 1 .128.34l-.993.992a.402.402 0 0 1-.297.117a46.164 46.164 0 0 0-6.66.255a2.89 2.89 0 0 0-2.55 2.516a44.421 44.421 0 0 0 0 10.32a2.89 2.89 0 0 0 2.55 2.516c3.355.375 6.827.375 10.183 0a2.89 2.89 0 0 0 2.55-2.516Z"})],-1),Ult={class:"tw-p-5 tw-flex tw-items-center tw-gap-2"},qlt={class:"tw-text-xl tw-font-bold tw-text-gray-600"},Plt=(0,s._)("span",{class:"tw-text-sm tw-text-gray-500"},null,-1),Llt={key:0,class:"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded tw-bg-purple-100 tw-text-purple-600"},Wlt={class:"tw-grid lg:tw-grid-cols-4 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},Alt={class:"tw-space-y-2 tw-px-5"},$lt=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke-linecap="round" stroke-width="1.5"><path d="M7 18v-1a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v1"></path><path stroke-linejoin="round" d="M12 12a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"></path><path stroke-linejoin="round" d="M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6Z"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">Client Name</span></div>',1),Elt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Tlt={class:"tw-space-y-2 tw-px-5"},Flt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{class:"tw-stroke-orange-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.118 14.702L14 15.5c-2.782-1.396-4.5-3-5.5-5.5l.77-4.13L7.815 2H4.064c-1.128 0-2.016.932-1.847 2.047c.42 2.783 1.66 7.83 5.283 11.453c3.805 3.805 9.286 5.456 12.302 6.113c1.165.253 2.198-.655 2.198-1.848v-3.584l-3.882-1.479Z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Phone Number")],-1),jlt={class:"tw-flex tw-items-center tw-gap-2"},Ilt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Vlt={class:"tw-space-y-2 tw-px-5"},Olt=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path d="M3.75 18a.75.75 0 0 0-1.5 0h1.5Zm-1.5-4a.75.75 0 0 0 1.5 0h-1.5ZM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08v1.5ZM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094h1.5ZM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066v-1.5ZM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294h1.5Zm0 10v-4h-1.5v4h1.5Zm0-8v-2h-1.5v2h1.5Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 22v-6c0-1.886 0-2.828.586-3.414C8.172 12 9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525c-.356-.514-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707C4.586 4.5 5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293C10 5.086 10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">City</span></div>',1),Hlt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Mlt={class:"tw-space-y-2 tw-px-5"},Rlt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[(0,s._)("path",{fill:"#f97316",d:"m19.799 5.165l-2.375-1.83a1.997 1.997 0 0 0-.521-.237A2.035 2.035 0 0 0 16.336 3H9.5l.801 5h6.035c.164 0 .369-.037.566-.098s.387-.145.521-.236l2.375-1.832c.135-.091.202-.212.202-.334s-.067-.243-.201-.335zM8.5 1h-1a.5.5 0 0 0-.5.5V5H3.664c-.166 0-.37.037-.567.099c-.198.06-.387.143-.521.236L.201 7.165C.066 7.256 0 7.378 0 7.5c0 .121.066.242.201.335l2.375 1.832c.134.091.323.175.521.235c.197.061.401.098.567.098H7v8.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-17a.5.5 0 0 0-.5-.5z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Address")],-1),Nlt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Ylt={class:"tw-p-5 tw-py-3 tw-w-full tw-border-t tw-border-solid tw-mt-3"},Zlt={class:""},Klt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 2048 2048"},[(0,s._)("path",{fill:"#f97316",d:"M1024 1000v959l-64 32l-832-415V536l832-416l832 416v744h-128V680l-640 320zm-64-736L719 384l621 314l245-122l-625-312zm-64 1552v-816L256 680v816l640 320zM335 576l625 312l238-118l-622-314l-241 120zm1073 1216v-128h640v128h-640zm0-384h640v128h-640v-128zm-256 640v-128h128v128h-128zm0-512v-128h128v128h-128zm0 256v-128h128v128h-128zm-128 24h1h-1zm384 232v-128h640v128h-640z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Product")],-1),Blt={class:"tw-p-3 tw-pl-10 tw-space-y-2"},Qlt={class:"tw-font-bold tw-text-green-500"},Jlt={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},Glt={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},Xlt={class:"tw-font-[cairo] tw-mt-2 tw-flex tw-items-center tw-justify-end tw-gap-1 tw-text-2xl tw-text-green-400 tw-font-bold"},tot={key:0};function eot(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Slt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),type:"button",class:"tw-px-5 tw-absolute tw-right-3 tw-top-3 tw-z-10 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-green-400 hover:tw-bg-green-500 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-green-100 tw-rounded-lg tw-text-center dark:tw-bg-green-600 dark:hover:tw-bg-green-700 dark:focus:tw-ring-green-800"},[zlt,(0,s.Uk)(" Edit ")]),(0,s._)("div",Ult,[(0,s._)("span",qlt,[Plt,(0,s.Uk)(" ID: "+(0,wt.zw)(r.order.id),1)]),(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3),r.double?((0,s.wg)(),(0,s.iD)("span",Llt,"Maybe double")):(0,s.kq)("",!0)]),(0,s._)("div",Wlt,[(0,s._)("div",Alt,[$lt,(0,s._)("span",Elt,(0,wt.zw)(r.order.fullname),1)]),(0,s._)("div",Tlt,[Flt,(0,s._)("div",jlt,[(0,s._)("span",Ilt,(0,wt.zw)(r.order.phone),1),(0,s.Wm)(nt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"text",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])]),(0,s._)("div",Vlt,[Olt,(0,s._)("span",Hlt,(0,wt.zw)(r.order.city),1)]),(0,s._)("div",Mlt,[Rlt,(0,s._)("span",Nlt,(0,wt.zw)(r.order.adresse),1)])]),(0,s._)("div",Ylt,[(0,s._)("div",Zlt,[Klt,(0,s._)("ul",Blt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",Qlt,(0,wt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,wt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",Jlt,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",Glt,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128)),(0,s._)("li",Xlt,[(0,s._)("span",null,(0,wt.zw)(l.currency),1),(0,s._)("span",null,(0,wt.zw)(o.price),1)])])])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",tot,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.order},null,8,["visible","item"])])):(0,s.kq)("",!0)])}var rot={components:{UpdatePopup:Qrt},props:{order:{required:!0},double:{required:!1}},data(){return{currency:c,popup:!1}},computed:{price(){return vo(this.order)},confirmation(){return jn.find((t=>t.value==this.order.confirmation))}}};const aot=(0,m.Z)(rot,[["render",eot]]);var sot=aot,lot={components:{OrderCard:sot},data(){return{fetching:!0,order_exists:!1,doubles:[],order:null}},methods:{toConfirm(){klt(this)},getOrder(){Dlt(this)},save(){Clt(this)}},mounted(){this.toConfirm()}};const oot=(0,m.Z)(lot,[["render",_lt]]);var iot=oot;const wot={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},not={class:"tw-px-3"},dot={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},cot={class:"tw-flex tw-items-center tw-gap-x-3"},uot=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),pot={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},got=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Show all confirmed orders.",-1);function mot(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",wot,[(0,s._)("section",not,[(0,s._)("div",dot,[(0,s._)("div",null,[(0,s._)("div",cot,[uot,(0,s._)("span",pot,(0,wt.zw)(l.totalOrders)+" order",1)]),got]),(0,s.kq)("",!0)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}var hot={components:{IndexTable:lat,IndexFilters:alt},data(){return{fetching:!0,items:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,confirmation:"confirmer"};return this.fetching=!0,F.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const fot=(0,m.Z)(hot,[["render",mot]]);var bot=fot,vot={name:"orders",path:"/agent/orders",component:Wa,meta:{module:"order"},children:[{name:"order/list",path:"",component:olt,meta:{module:"order",subModule:"order/list",title:"Orders List",gate:"show_all_orders"}},{name:"order/show",path:"add",component:iot,meta:{module:"order",subModule:"order/show",title:"Current Order",gate:"show_all_orders"}},{name:"order/confirmed",path:"confirmed",component:bot,meta:{module:"order",subModule:"order/confirmed",title:"Confirmed Orders",gate:"show_all_orders"}}]};const xot=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Orders")])],-1),yot={key:0},_ot={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},kot={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-5"},Cot={key:1},Dot={class:"tw-min-h-[400px] tw-flex tw-flex-col tw-justify-center tw-items-center"},Sot=(0,s._)("p",{class:"tw-font-medium tw-text-neutral-400 tw-text-lg tw-mb-n3"},"No Confirmed orders for now.",-1),zot=["src"];function Uot(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",null,[xot,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yot,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",_ot,[o.orders.length>0?((0,s.wg)(),(0,s.iD)("div",kot,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.filteredOrders,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tw-col-span-12 md:tw-col-span-4"},[((0,s.wg)(),(0,s.j4)(w,{order:t,key:t.id},null,8,["order"]))])))),128))])):((0,s.wg)(),(0,s.iD)("div",Cot,[(0,s._)("div",Dot,[Sot,(0,s._)("img",{src:l.localUrl+"images/delivery.jpg",class:"tw-mt-0 tw-mx-auto tw-max-w-[600px] tw-w-full",alt:""},null,8,zot)])]))])):(0,s.kq)("",!0)])}var qot=r(9875),Pot=r(1888),Lot=r(1334);const Wot={class:"tw-text-sm tw-text-orange-500x tw-bg-orange-500x/10 tw-underline tw-underline-offset-2 tw-px-1 tw-w-fit tw-rounded"},Aot={class:"tw-w-full tw-whitespace-normal"},$ot=(0,s._)("div",{class:"tw-border-b tw-mb-1 tw-border-dashed"},null,-1),Eot={class:"tw-flex tw-items-center"},Tot={key:0},Fot={key:1},jot={class:"tw-min-w-fit tw-w-[25px] tw-h-[25px] tw-flex tw-items-center tw-justify-center tw-text-md tw-font-bold tw-p-1 tw-rounded tw-text-orange-400 tw-bg-orange-400/10"},Iot=(0,s._)("span",{class:"tw-text-sm"},"x",-1),Vot={key:0},Oot={key:0,class:"tw-px-5 tw-py-2 tw-mt-2 tw-border-neutral-200 tw-border-t tw-border-dashed"},Hot=(0,s._)("p",{class:"tw-text-md tw-font-bold tw-text-pink-500"},"NOTE",-1),Mot={class:"tw-flex tw-items-center tw-text-gray-500"},Rot={class:"tw-flex tw-items-center tw-text-gray-500"};function Not(t,e,r,a,l,o){const i=(0,s.up)("OrderCardDelivery");return(0,s.wg)(),(0,s.j4)(Ss._,{class:(0,wt.C_)(["tw-mx-auto tw-relative tw-border-dashed !tw-shadow-lg !tw-shadow-gray-100/70",[!!r.order.note&&"tw-border-pink-00","livrer"==r.order.delivery&&"tw-border-emerald-400"]]),flat:"",border:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,wt.C_)(["tw-absolute tw-top-0 tw-right-0 tw-py-1 tw-px-2 tw-rounded-bl tw-text-xs",[o.delivery?.bg,o.delivery?.text]])},(0,wt.zw)(r.order.delivery),3),(0,s.Wm)(qot._,null,{title:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("p",Wot,(0,wt.zw)(r.order.city),1),(0,s._)("p",Aot,(0,wt.zw)(r.order.adresse),1)]),$ot])),_:1}),(0,s.Wm)(Pot.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,{align:"center","no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",class:"tw-flex tw-items-center tw-flex-wrap tw-text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-account",size:"small",class:"tw-mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,wt.zw)(r.order.fullname)+" ",1),r.order.note?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,icon:"mdi-note-outline",size:"small",class:"tw-ml-2 tw-text-sm !tw-text-pink-500"})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",class:"tw-text-gray-500 tw-space-y-1 tw-mt-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-3",key:t.id},[(0,s._)("div",Eot,[(0,s._)("span",null,[(0,s.Uk)((0,wt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Tot,"| "+(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Fot,"| "+(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s._)("p",jot,[Iot,(0,s.Uk)(" "+(0,wt.zw)(t.quantity),1)])])])))),128))])),_:1}),(0,s.Wm)(Ta.D,{class:"text-h4 tw-my-3",cols:"12"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(o.getPrice(r.order)),1)])),_:1})])),_:1})])),_:1}),(0,s.kq)("",!0),(0,s.Wm)(Vt.Fx,null,{default:(0,s.w5)((()=>[t.expand?((0,s.wg)(),(0,s.iD)("div",Vot,[r.order.note?((0,s.wg)(),(0,s.iD)("div",Oot,[Hot,(0,s._)("p",null,(0,wt.zw)(r.order.note),1)])):(0,s.kq)("",!0),(0,s.Wm)(rr.i,{class:"bg-transparent tw-space-y-2 !tw-px-5 tw-py-3 tw-border-neutral-200 tw-border-dashed tw-border-t tw-mt-5"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Mot,[(0,s.Wm)(ct.t,{icon:"mdi-phone",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,wt.zw)(r.order.phone),1)])]),(0,s._)("div",null,[(0,s._)("div",Rot,[(0,s.Wm)(ct.t,{icon:"mdi-calendar",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,wt.zw)(r.order.created_at?.split("T")[0].split("-").reverse().join(".")),1)])])])),_:1})])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(le.J),(0,s.Wm)(Lot.h,{class:"tw-flex tw-justify-end tw-gap-2 tw-flex-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.T,{class:"tw-capitalize tw-mx-auto tw-bg-orange-500/5 tw-text-orange-500",rounded:"lg",density:"comfortable",icon:"",variant:"flat",onClick:e[0]||(e[0]=e=>t.expand=!t.expand)},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.expand?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1}),(0,s.Wm)(nr.C),r.order.phone?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-capitalize tw-bg-green-500/5 tw-text-green-500 tw-border tw-border-green-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),r.order.phone?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,link:"",target:"_blank",href:"tel:"+r.order.phone,class:"tw-capitalize tw-bg-blue-500/5 tw-text-blue-500 tw-border tw-border-blue-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-phone")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),(0,s.Wm)(nt.T,{onClick:e[1]||(e[1]=e=>t.confirmPopup=!0),class:"tw-capitalize tw-bg-emerald-500 tw-text-white tw-border tw-border-emerald-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])),_:1})])),_:1}),((0,s.wg)(),(0,s.j4)(i,{delivery:r.order.delivery,order:r.order,key:r.order,visible:t.confirmPopup,onCancel:e[2]||(e[2]=e=>t.confirmPopup=!1)},null,8,["delivery","order","visible"]))])),_:1},8,["class"])}const Yot={class:"md:tw-w-[80%] tw-overflow-hidden tw-w-[95%] tw-max-w-[550px] tw-mx-auto tw-my-3 tw-min-h-[200px] tw-bg-white tw-rounded-lg tw-shadow-lg"},Zot={class:"tw-px-5 tw-pt-5"},Kot=(0,s._)("h1",{class:"tw-font-bold tw-text-gray-600"},"Select Status",-1),Bot={class:"tw-mt-3 tw-flex tw-gap-3 tw-flex-wrap"},Qot=["disabled","onClick"],Jot={class:"tw-mt-5 tw-px-5 tw-py-3 tw-bg-gray-50 tw-border-t tw-flex tw-gap-2 tw-justify-end"},Got=(0,s._)("span",{class:"!tw-text-gray-500"},"Cancel",-1),Xot=(0,s._)("span",{class:"!tw-text-white"},"Confirm",-1);function tit(t,e,r,a,l,o){const i=(0,s.up)("popup-full"),w=(0,s.up)("OrderReporting");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:o.cancel,visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Yot,[(0,s._)("div",Zot,[Kot,(0,s._)("div",Bot,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(e=>((0,s.wg)(),(0,s.iD)("button",{disabled:o.isDisabled(e),onClick:t=>o.handleChange(e),key:e.value,class:(0,wt.C_)([[o.isDisabled(e)&&"tw-saturate-0",e.text,e.bg,e.id==t.delivery&&[e.ring,"tw-ring"]],"tw-px-4 tw-py-2 tw-rounded"])},(0,wt.zw)(e.name),11,Qot)))),128))])]),(0,s._)("div",Jot,[(0,s.Wm)(nt.T,{onClick:o.cancel,class:"!tw-capitalize",color:"grey-lighten-3",flat:""},{default:(0,s.w5)((()=>[Got])),_:1},8,["onClick"]),(0,s.Wm)(nt.T,{onClick:o.handleConfirm,loading:t.isLoading,class:"!tw-capitalize",color:"primary-color",flat:""},{default:(0,s.w5)((()=>[Xot])),_:1},8,["onClick","loading"])])])])),_:1},8,["onCancel","visible"]),(0,s.Wm)(w,{onOrderReported:o.cancel,order:r.order,visible:t.showPopupReporter,onCancel:e[0]||(e[0]=e=>t.showPopupReporter=!1)},null,8,["onOrderReported","order","visible"])])}const eit={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},rit=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),ait=(0,s._)("br",null,null,-1),sit=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),lit={class:"tw-flex tw-justify-end tw-mt-2"};function oit(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",eit,[rit,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),ait,sit,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",lit,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var iit={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ba.deliveryUpdateDelivery(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$emit("orderReported"),this.$store.dispatch("order/update",{id:t.id,order:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){console.log(this.order)}};const wit=(0,m.Z)(iit,[["render",oit]]);var nit=wit,dit={props:["visible","order"],components:{OrderReporting:nit},data:()=>({status:Hn,disabled:Mn,delivery:2,isLoading:!1,note:"",showPopupReporter:!1}),computed:{deliveryStatus(){return this.status.filter((t=>!!t.value))},selected(){return this.status.find((t=>t.id==this.delivery))}},watch:{order:{handler(t){this.delivery=this.getDeliveryId(t.delivery)},deep:!0,immediate:!0}},methods:{cancel(){this.getCurrentStatus(),this.$emit("cancel")},isDisabled(t){return this.disabled.includes(t.value)},handleChange(t){if(this.isDisabled(t))return!1;this.delivery=t.id},handleConfirm(){const t=this.selected;if(t.value===this.order.delivery)return this.cancel(),!1;"reporter"!=t.value&&this.updateOrder().then((()=>{this.cancel()})),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ba.deliveryUpdateDelivery(this.order.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.order.id,this.selected.value),this.isLoading=!1,this.cancel())}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})},getDeliveryId(t){return this.status.find((e=>e.value==t)).id||0},getCurrentStatus(){this.delivery=this.getDeliveryId(this.order.delivery)}},mounted(){this.getCurrentStatus()}};const cit=(0,m.Z)(dit,[["render",tit]]);var uit=cit,pit={components:{OrderCardDelivery:uit},props:["order"],data:()=>({deliveryStatus:Hn,expand:!1,confirmPopup:!1,labels:[{name:"Telephone",field:"phone",icon:"mdi-phone"},{name:"Date",field:"created_at",icon:"mdi-calendar"}]}),computed:{delivery(){return this.getDeliveryStatus(this.order.delivery)}},methods:{getDeliveryStatus(t){return this.deliveryStatus.find((e=>e.value==t))||this.deliveryStatus[0]},getPrice(t){return vo(t)}}};const git=(0,m.Z)(pit,[["render",Not]]);var mit=git,hit={components:{OrderCard:mit},data(){return{localUrl:w,deliveryStatus:Hn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"].filter((t=>"livrer"!=t.delivery))},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ba.deliveryOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const fit=(0,m.Z)(hit,[["render",Uot]]);var bit=fit;const vit=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Delivered Orders"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Delivered orders list")])],-1),xit={key:0},yit={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_it={class:"mb-5 tw-flex"},kit={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Cit={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Dit={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Sit=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),zit={class:"tw-relative"},Uit=["value"],qit={key:0,class:""},Pit={key:1},Lit=(0,s._)("p",null,"No orders for now",-1),Wit=[Lit];function Ait(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("OrdersTable");return(0,s.wg)(),(0,s.iD)("div",null,[vit,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xit,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",yit,[(0,s._)("div",_it,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",kit,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Cit,[(0,s._)("div",Dit,[Sit,(0,s._)("div",zit,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value?t.value:"all"},(0,wt.zw)(t.name),9,Uit)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),i.orders.length>0?((0,s.wg)(),(0,s.iD)("div",qit,[(0,s.Wm)(n,{orders:i.filteredOrders},null,8,["orders"])])):((0,s.wg)(),(0,s.iD)("div",Pit,Wit))])):(0,s.kq)("",!0)])}const $it={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Eit={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Tit={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Fit=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),jit={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Iit={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Vit={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Oit=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Hit=["value"],Mit={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Rit={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Nit={class:"tw-text-white"};function Yit(t,e,r,l,o,i){const w=(0,s.up)("OrderRow");return(0,s.wg)(),(0,s.iD)("div",{key:r.orders.length},[(0,s._)("div",$it,[(0,s._)("table",Eit,[(0,s._)("thead",Tit,[(0,s._)("tr",null,[Fit,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",jit,(0,wt.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.j4)(w,{key:t.id,order:t},null,8,["order"])))),128))])])]),(0,s._)("div",Iit,[(0,s._)("div",Vit,[Oit,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,Hit)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Mit,[(0,s._)("div",Rit,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.orders.length:i.nextRange)+" of "+(0,wt.zw)(r.orders.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Nit,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Zit=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Kit={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Bit={class:"tw-px-6 tw-py-4 tw-relative"},Qit={key:0},Jit={class:"tw-px-6 tw-py-4"},Git={class:"tw-px-6 tw-py-4"},Xit={class:"tw-px-6 tw-py-4"},twt={class:"tw-px-6 tw-py-4"},ewt={class:"tw-pb-2"},rwt={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},awt={key:0},swt={key:1},lwt={class:"tw-px-6 tw-py-4 tw-relative"},owt={class:"tw-flex tw-items-center tw-justify-center"},iwt={class:"tw-flex tw-gap-1"},wwt={key:0},nwt={class:"tw-px-6 tw-py-4"},dwt={class:"tw-px-6 tw-py-4"},cwt={class:"tw-px-6 tw-py-4"},uwt={class:"tw-max-w-[300px] tw-min-w-[150px] tw-whitespace-normal"},pwt={class:"tw-px-6 tw-py-4"};function gwt(t,e,r,a,l,o){const i=(0,s.up)("OrderDelivery"),w=(0,s.up)("OrderActions");return(0,s.wg)(),(0,s.iD)("tr",{key:r.order.id,class:(0,wt.C_)([["reporter"==r.order.delivery&&"tw-relative",o.isReportedToday(r.order)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[Zit,(0,s._)("th",Kit,(0,wt.zw)(r.order.id),1),(0,s._)("td",Bit,[(0,s.Uk)((0,wt.zw)(r.order?.created_at?.split("T")[0])+" ",1),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[o.isReportedToday(r.order)?((0,s.wg)(),(0,s.iD)("span",Qit," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",Jit,(0,wt.zw)(r.order.fullname),1),(0,s._)("td",Git,(0,wt.zw)(r.order.adresse),1),(0,s._)("td",Xit,(0,wt.zw)(r.order.phone),1),(0,s._)("td",twt,[(0,s._)("div",ewt,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",rwt,(0,wt.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,wt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",awt,"| "+(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",swt,"| "+(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",lwt,[(0,s._)("div",owt,[((0,s.wg)(),(0,s.j4)(i,{class:(0,wt.C_)("reporter"==r.order.delivery&&"tw-mb-1"),order:r.order,id:r.order.id,key:r.order.delivery,delivery:r.order.delivery},null,8,["class","order","id","delivery"])),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",iwt,["reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("span",wwt,[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,wt.zw)(r.order?.reported_delivery_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",nwt,(0,wt.zw)(o.getPrice(r.order)),1),(0,s._)("td",dwt,(0,wt.zw)(r.order.city),1),(0,s._)("td",cwt,[(0,s._)("div",uwt,(0,wt.zw)(r.order.note),1)]),(0,s._)("td",pwt,[((0,s.wg)(),(0,s.j4)(w,{key:r.order.id,order:r.order},null,8,["order"]))])],2)}const mwt={key:0,class:"focus:tw-ring-4 tw-min-w-fit focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between tw-bg-green-500/10 tw-text-green-500"},hwt={key:1},fwt={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},bwt=["onClick"];function vwt(t,e,r,a,l,o){const i=(0,s.up)("OrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},["livrer"==r.delivery?((0,s.wg)(),(0,s.iD)("div",mwt,(0,wt.zw)(o.selected.name),1)):(0,s.kq)("",!0),"livrer"!=r.delivery?((0,s.wg)(),(0,s.iD)("div",hwt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,wt.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,wt.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",fwt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>!l.disabled.includes(t.value)&&o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,wt.C_)(["tw-block tw-px-4 tw-py-2",[l.disabled.includes(t.value)?"tw-text-neutral-400/80 tw-bg-neutral-400/10":[t.text,t.bg]]])},(0,wt.zw)(t.name),3)],8,bwt)))),128))])],2),(0,s.Wm)(i,{order:r.order,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])):(0,s.kq)("",!0)])),[[ie.L,o.close]])}var xwt={props:["delivery","id","order"],components:{OrderReporting:nit},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Hn,disabled:Mn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;"reporter"!=t.value&&(this.selectedId=t.id,this.updateOrder(),this.close()),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ba.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const ywt=(0,m.Z)(xwt,[["render",vwt]]);var _wt=ywt;const kwt={key:0};function Cwt(t,e,r,a,l,o){return l.newOrder?((0,s.wg)(),(0,s.iD)("div",kwt,[(0,s.Wm)(nt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])):(0,s.kq)("",!0)}var Dwt={props:["order"],name:"orderActions",data(){return{newOrder:null}},computed:{},methods:{},mounted(){this.newOrder={...this.order}}};const Swt=(0,m.Z)(Dwt,[["render",Cwt]]);var zwt=Swt,Uwt={props:["order","showNote"],components:{OrderDelivery:_wt,OrderActions:zwt},data(){return{showPopup:!1,isLoading:!1,todayDate:null}},methods:{handleClick(){this.showPopup=!0},isReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date==this.todayDate},getPrice(t){return vo(t)}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const qwt=(0,m.Z)(Uwt,[["render",gwt]]);var Pwt=qwt,Lwt={props:["orders"],components:{OrderRow:Pwt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,todayDate:null,columns:["#","Date","Client","Address","Phone","Product","Delivery","Price","City","Note","Actions"]}},computed:{deliveries(){return this.$store.getters["user/deliveries"]},prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.orders.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.orders.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.orders.filter(this.isReportedToday)}},methods:{isReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date==this.todayDate}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const Wwt=(0,m.Z)(Lwt,[["render",Yit]]);var Awt=Wwt,$wt={components:{OrdersTable:Awt},data(){return{localUrl:w,deliveryStatus:Hn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"]},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ba.deliveryDeliveredOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Ewt=(0,m.Z)($wt,[["render",Ait]]);var Twt=Ewt,Fwt={name:"deliveries",path:"/deliveries",component:Wa,meta:{module:"delivery"},children:[{name:"delivery/list",path:"",component:bit,meta:{module:"delivery",subModule:"delivery/list",title:"Orders List",gate:"all"}},{name:"delivery/delivered",path:"/delivered",component:Twt,meta:{module:"delivery",subModule:"delivery/delivered",title:"Delivered Orders List",gate:"all"}}]};const jwt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Inventory State List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),Iwt={key:0},Vwt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Owt={class:"mb-5 tw-flex"},Hwt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Mwt={key:0,class:""};function Rwt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("InventoryStateTable");return(0,s.wg)(),(0,s.iD)("div",null,[jwt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Iwt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Vwt,[(0,s._)("div",Owt,[(0,s.Wm)(nt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Hwt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryState.length>0?((0,s.wg)(),(0,s.iD)("div",Mwt,[(0,s.Wm)(n,{columns:o.columns,states:i.filteredInventoryState},null,8,["columns","states"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}class Nwt{async inventoryStates(){return await E.getCookie(),A.get("api/inventorystates")}async inventoryMovements(){return await E.getCookie(),A.get("api/inventorymovements")}async getMovement(t){return await E.getCookie(),A.get("api/inventorymovements/"+t)}async inventoryMovementCreate({product_id:t,delivery_id:e,variants:r}){return await E.getCookie(),A.post("api/inventorymovements/new",{product_id:t,delivery_id:e,variations:r})}async inventoryMovementUpdate(t,{product_id:e,delivery_id:r,variants:a,quantity:s}){return await E.getCookie(),A.post("api/inventorymovements/update/"+t,{product_id:e,delivery_id:r,variants:a,quantity:s})}async deliveryUpdateMovement(t,e,r){return await E.getCookie(),A.post("api/delivery/inventorymovements/update/"+t,{is_received:e,note:r})}async delete(t){return await E.getCookie(),A["delete"]("api/inventorymovements/delete/"+t)}}var Ywt=new Nwt;const Zwt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Kwt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Bwt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Qwt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Jwt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Gwt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Xwt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},tnt={class:"tw-px-6 tw-py-4 tw-underline tw-underline-offset-1 tw-font-medium"},ent={class:"tw-px-6 tw-py-4"},rnt={class:"tw-px-6 tw-py-4"},ant={class:"tw-px-6 tw-py-4 tw-font-bold tw-text-green-500"},snt={class:"tw-px-6 tw-py-4"},lnt={class:"tw-px-6 tw-py-4"},ont=(0,s._)("br",null,null,-1),int={class:"tw-px-6 tw-py-4"},wnt={class:"mt-5 tw-flex tw-justify-between"},nnt={class:"d-flex align-center"},dnt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700"},"Show per page: ",-1),cnt={class:"d-flex align-center"},unt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},pnt={class:"tw-text-white"};function gnt(t,e,r,a,l,o){const i=(0,s.up)("router-link"),w=(0,s.up)("InventoryStateActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Zwt,[(0,s._)("table",Kwt,[(0,s._)("thead",Bwt,[(0,s._)("tr",null,[Qwt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Jwt,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Gwt,(0,s._)("th",Xwt,(0,wt.zw)(t.id),1),(0,s._)("td",tnt,[(0,s.Wm)(i,{to:"products/"+t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.name),1)])),_:2},1032,["to"])]),(0,s._)("td",ent,(0,wt.zw)(t.buying_price)+" DH ",1),(0,s._)("td",rnt,(0,wt.zw)(t.selling_price)+" DH ",1),(0,s._)("td",ant,(0,wt.zw)(o.availableQuantity(t)),1),(0,s._)("td",snt,(0,wt.zw)(t.total_quantity),1),(0,s._)("td",lnt,[(0,s.Uk)((0,wt.zw)(t.updated_at?.split("T")[0])+" ",1),ont,(0,s.Uk)(" "+(0,wt.zw)(t.updated_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",int,[(0,s.Wm)(w,{state:t},null,8,["state"])])])))),128))])])]),(0,s._)("div",wnt,[(0,s._)("div",nnt,[dnt,(0,s.Wm)(oh.r,{"hide-details":!0,modelValue:l.paginationLimit,"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),items:l.allowedLimit,variant:"outlined",density:"compact",color:"primary-color"},null,8,["modelValue","items"])]),(0,s._)("div",cnt,[(0,s._)("div",unt,(0,wt.zw)(o.prevRange+1)+" - "+(0,wt.zw)(l.currentPage==o.pageCount?r.states.length:o.nextRange)+" of "+(0,wt.zw)(r.states.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",pnt,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function mnt(t,e,r,a,l,o){const i=(0,s.up)("InventoryStateDetails"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.state.id,class:"tw-flex tw-items-center"},[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>l.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1}),(0,s.Wm)(w,{visible:l.detailsPopup,onCancel:e[2]||(e[2]=t=>l.detailsPopup=!1)},{default:(0,s.w5)((()=>[l.detailsPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[1]||(e[1]=t=>l.detailsPopup=!1),state:r.state},null,8,["state"])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const hnt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},fnt={class:"tw-p-5"},bnt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},vnt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),xnt={class:"tw-w-4 tw-p-4"},ynt={class:"tw-w-4 tw-p-4"},_nt={class:"tw-w-4 tw-p-4"},knt={class:"tw-w-4 tw-p-4"},Cnt={class:"tw-flex tw-items-center tw-gap-1"},Dnt={class:"tw-text-green-500"},Snt={key:0},znt={class:"tw-text-red-400"},Unt=(0,s.uE)('<div class="tw-flex tw-gap-3 mt-5"><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-green-500"></div><span>Available</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-neutral-700"></div><span>Initial</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-red-400"></div><span>Not Received</span></div></div>',1);function qnt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",hnt,[(0,s.Wm)(nt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",fnt,[(0,s._)("table",bnt,[vnt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",xnt,(0,wt.zw)(t.id),1),(0,s._)("td",ynt,(0,wt.zw)(t.size),1),(0,s._)("td",_nt,(0,wt.zw)(t.color),1),(0,s._)("td",knt,[(0,s._)("div",Cnt,[(0,s._)("span",Dnt,(0,wt.zw)(t.available_quantity),1),(0,s._)("span",null,"/ "+(0,wt.zw)(t.quantity),1),t.on_hold>0?((0,s.wg)(),(0,s.iD)("span",Snt,[(0,s.Uk)(" / "),(0,s._)("span",znt,(0,wt.zw)(t.on_hold),1)])):(0,s.kq)("",!0)])])])))),128))])]),Unt])])}var Pnt={props:["state"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){console.log(this.state)}};const Lnt=(0,m.Z)(Pnt,[["render",qnt]]);var Wnt=Lnt,Ant={props:["rowIndex","state"],components:{InventoryStateDetails:Wnt},name:"inventoryStateActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{},mounted(){}};const $nt=(0,m.Z)(Ant,[["render",mnt]]);var Ent=$nt,Tnt={props:["columns","states"],components:{InventoryStateActions:Ent},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.states.length/this.paginationLimit)},items(){return this.states.slice(this.prevRange,this.nextRange)}},methods:{availableQuantity(t){let e=0;return t.variations.forEach((t=>{e+=t.available_quantity})),e}}};const Fnt=(0,m.Z)(Tnt,[["render",gnt]]);var jnt=Fnt,Int={components:{InventoryStateTable:jnt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"product_name",name:"Product Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"available",name:"Available"},{prop:"quantity",name:"Quantity"},{prop:"updated_at",name:"Updated At"},{prop:"actions",name:"Actions"}]}},computed:{inventoryState(){return this.$store.getters["inventory/inventoryState"]},filteredInventoryState(){return this.inventoryState.filter((t=>!!(t.ref.toLowerCase().includes(this.search.toLowerCase())||t.name.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{async getInventoryStates(){await Ywt.inventoryStates().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryState",e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryStates()}};const Vnt=(0,m.Z)(Int,[["render",Rwt]]);var Ont=Vnt;const Hnt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Add Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create New Movement")],-1),Mnt={key:0},Rnt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Nnt={class:"tw-w-full"},Ynt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Znt={class:"tw-relative"},Knt=["disabled"],Bnt=["value"],Qnt={class:"tw-w-full"},Jnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product Name",-1),Gnt={class:"tw-relative"},Xnt=["disabled"],tdt=["value"],edt={class:"tw-w-full"},rdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),adt={class:"tw-relative"},sdt=["value"],ldt={class:"tw-w-full"},odt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),idt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},wdt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),ndt={class:"tw-max-w-full"},ddt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},cdt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),udt={class:"tw-w-4 tw-p-4"},pdt={class:"tw-w-4 tw-p-4"},gdt={class:"tw-w-4 tw-p-4"},mdt={class:"tw-w-4 tw-p-4"},hdt={class:"tw-w-4 tw-p-4"},fdt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},bdt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},vdt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),xdt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function ydt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Hnt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Mnt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Rnt,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Nnt,[Ynt,(0,s._)("div",Znt,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length,"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname+" "+t.lastname),9,Bnt)))),128))],8,Knt),[[a.bM,o.delivery]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Qnt,[Jnt,(0,s._)("div",Gnt,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length>0,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,tdt)))),128))],8,Xnt),[[a.bM,o.product]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",edt,[rdt,(0,s._)("div",adt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.color+" - "+t.size+"  ("+t.available_quantity+" items)"),9,sdt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",ldt,[odt,(0,s._)("div",null,[(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",idt,[(0,s.Wm)(nt.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[wdt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",ndt,[(0,s._)("table",ddt,[cdt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",udt,(0,wt.zw)(t.id),1),(0,s._)("td",pdt,(0,wt.zw)(t.size),1),(0,s._)("td",gdt,(0,wt.zw)(t.color),1),(0,s._)("td",mdt,(0,wt.zw)(t.quantity),1),(0,s._)("td",hdt,[(0,s._)("div",fdt,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",bdt,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[vdt])),_:1}),(0,s.Wm)(nt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[xdt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var _dt={data(){return{isLoading:!1,isLoaded:!1,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.available_quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.available_quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},create(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,Ywt.inventoryMovementCreate({product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.selectedVariations=[],this.getData()),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await ot.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return Ywt.inventoryStates().then((t=>{if("SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;if(this.$store.dispatch("product/setProducts",e),e.length>0){const t=e[0];this.product=t.id,this.variations.length>0&&(this.variation=this.variations[0].id)}else this.product=null}}),(t=>{this.$handleApiError(t)}))},getData(){this.isLoaded=!1,Promise.allSettled([this.getProducts(),this.getDeliveries()]).then((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const kdt=(0,m.Z)(_dt,[["render",ydt]]);var Cdt=kdt;const Ddt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Edit an existing Movement")],-1),Sdt={key:0},zdt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Udt={class:"tw-w-full"},qdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Pdt={class:"tw-relative"},Ldt=["value"],Wdt={class:"tw-w-full"},Adt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),$dt={class:"tw-relative"},Edt=["value"],Tdt={class:"tw-w-full"},Fdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),jdt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Idt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),Vdt={class:"tw-max-w-full"},Odt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Hdt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Mdt={class:"tw-w-4 tw-p-4"},Rdt={class:"tw-w-4 tw-p-4"},Ndt={class:"tw-w-4 tw-p-4"},Ydt={class:"tw-w-4 tw-p-4"},Zdt={class:"tw-w-4 tw-p-4"},Kdt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Bdt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Qdt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Jdt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Gdt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Ddt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Sdt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",zdt,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Udt,[qdt,(0,s._)("div",Pdt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname+" "+t.lastname),9,Ldt)))),128))],512),[[a.bM,o.delivery]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Wdt,[Adt,(0,s._)("div",$dt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.color+" / "+t.size+" / "+t.quantity),9,Edt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Tdt,[Fdt,(0,s._)("div",null,[(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[2]||(e[2]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",jdt,[(0,s.Wm)(nt.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Idt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Vdt,[(0,s._)("table",Odt,[Hdt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Mdt,(0,wt.zw)(t.id),1),(0,s._)("td",Rdt,(0,wt.zw)(t.size),1),(0,s._)("td",Ndt,(0,wt.zw)(t.color),1),(0,s._)("td",Ydt,(0,wt.zw)(t.quantity),1),(0,s._)("td",Zdt,[(0,s._)("div",Kdt,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Bdt,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Qdt])),_:1}),(0,s.Wm)(nt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Jdt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Xdt={data(){return{isLoading:!1,isLoaded:!1,movement:null,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},id(){return this.$route.params.id},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},update(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,Ywt.inventoryMovementUpdate(this.id,{product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await ot.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return ha.all().then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.products;this.$store.dispatch("product/setProducts",e),e.length>0?this.product=e[0].id:this.product=null}}),(t=>{this.$handleApiError(t)}))},getMovement(){return Ywt.getMovement(this.id).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.movement;this.product=e.product.id,this.delivery=e.delivery.id,this.selectedVariations=e.inventory_movement_variations;let r=0;this.selectedVariations.forEach((t=>{r+=t.quantity})),this.quantity_total=r}}),(t=>{this.$handleApiError(t)}))}},mounted(){Promise.allSettled([this.getProducts(),this.getDeliveries(),this.getMovement()]).then((()=>{this.isLoaded=!0}))}};const tct=(0,m.Z)(Xdt,[["render",Gdt]]);var ect=tct;const rct=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Inventory State List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),act={key:0},sct={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},lct={class:"mb-5 tw-flex"},oct={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},ict={key:0,class:""};function wct(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("InventoryMovementsTable");return(0,s.wg)(),(0,s.iD)("div",null,[rct,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",act,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",sct,[(0,s._)("div",lct,[(0,s.Wm)(nt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",oct,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryMovements.length>0?((0,s.wg)(),(0,s.iD)("div",ict,[(0,s.Wm)(n,{columns:o.columns,movements:i.inventoryMovements},null,8,["columns","movements"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}const nct={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},dct={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},cct={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},uct=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),pct={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},gct=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),mct={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},hct={class:"tw-px-6 tw-py-4"},fct=(0,s._)("br",null,null,-1),bct={class:"tw-px-6 tw-py-4"},vct={class:"tw-px-6 tw-py-4"},xct={class:"tw-px-6 tw-py-4"},yct={class:"tw-px-6 tw-py-4"},_ct={class:"tw-px-6 tw-py-4"},kct={class:"tw-w-[200px] !tw-whitespace-normal"},Cct={class:"tw-px-6 tw-py-4"},Dct={class:"tw-px-6 tw-py-4"},Sct={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},zct={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Uct=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),qct=["value"],Pct={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Lct={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Wct={class:"tw-text-white"};function Act(t,e,r,l,o,i){const w=(0,s.up)("router-link"),n=(0,s.up)("InventoryMovementsActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",nct,[(0,s._)("table",dct,[(0,s._)("thead",cct,[(0,s._)("tr",null,[uct,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",pct,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movements,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[gct,(0,s._)("th",mct,(0,wt.zw)(t.id),1),(0,s._)("td",hct,[(0,s.Uk)((0,wt.zw)(t.created_at?.split("T")[0])+" ",1),fct,(0,s.Uk)(" "+(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",bct,(0,wt.zw)(t.delivery.firstname+" "+t.delivery.lastname),1),(0,s._)("td",vct,[(0,s.Wm)(w,{to:"products/"+t.product.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.product.name),1)])),_:2},1032,["to"])]),(0,s._)("td",xct,(0,wt.zw)(i.quantityTotal(t.inventory_movement_variations)),1),(0,s._)("td",yct,[(0,s._)("div",{class:(0,wt.C_)([[t.is_received?"tw-text-green-500 tw-bg-green-500/10":"tw-text-red-500 tw-bg-red-500/10"],"tw-flex tw-justify-center tw-py-1 tw-rounded-lg tw-items-center"])},[(0,s._)("span",null,(0,wt.zw)(t.is_received?"Yes":"No"),1)],2)]),(0,s._)("td",_ct,[(0,s._)("div",kct,(0,wt.zw)(t.note?t.note:"-"),1)]),(0,s._)("td",Cct,(0,wt.zw)(t.delivery.city?.name),1),(0,s._)("td",Dct,[(0,s.Wm)(n,{movement:t},null,8,["movement"])])])))),128))])])]),(0,s._)("div",Sct,[(0,s._)("div",zct,[Uct,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,qct)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Pct,[(0,s._)("div",Lct,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.movements.length:i.nextRange)+" of "+(0,wt.zw)(r.movements.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Wct,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const $ct={class:"md:tw-w-[50%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Ect=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-blue-500"},"Confirmation",-1),Tct={class:"mt-3"},Fct=(0,s._)("h2",{class:"mb-2"},"Received",-1),jct={class:"tw-mt-3"},Ict=(0,s._)("h2",{class:"tw-text-md mb-1"},"Add note",-1),Vct={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},Oct=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Hct=(0,s._)("span",{class:"text-white"}," Update ",-1);function Mct(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("MovementDetails"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",{key:r.movement.id,class:"tw-flex tw-items-center"},[["delivery","admin"].includes(i.user.role)?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>o.confirmPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-checkbox-marked-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.kq)("",!0),(t.$can("view_inventory_movement"),(0,s.wg)(),(0,s.j4)(nt.T,{key:2,onClick:e[1]||(e[1]=t=>o.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})),t.$can("delete_inventory_movement")?((0,s.wg)(),(0,s.j4)(nt.T,{key:3,onClick:e[2]||(e[2]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("confirmation_inventory_movement")?((0,s.wg)(),(0,s.j4)(w,{key:4,visible:o.confirmPopup,onCancel:e[6]||(e[6]=t=>o.confirmPopup=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",$ct,[Ect,(0,s._)("div",Tct,[Fct,(0,s.Wm)(ih.G,{density:"compact","hide-details":!0,modelValue:o.isConfirmed,"onUpdate:modelValue":e[3]||(e[3]=t=>o.isConfirmed=t),color:"blue"},null,8,["modelValue"])]),(0,s._)("div",jct,[Ict,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n\r\n              ",512),[[a.nr,o.note]])]),(0,s._)("div",Vct,[(0,s.Wm)(nt.T,{onClick:e[5]||(e[5]=t=>o.confirmPopup=!1),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Oct])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.updateMovement,color:"blue",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Hct])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])):(0,s.kq)("",!0),(0,s.Wm)(w,{visible:o.detailsPopup,onCancel:e[8]||(e[8]=t=>o.detailsPopup=!1)},{default:(0,s.w5)((()=>[o.detailsPopup?((0,s.wg)(),(0,s.j4)(n,{key:0,onCancel:e[7]||(e[7]=t=>o.detailsPopup=!1),movement:r.movement},null,8,["movement"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this movement?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const Rct={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Nct={class:"tw-p-5"},Yct={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Zct=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Kct={class:"tw-w-4 tw-p-4"},Bct={class:"tw-w-4 tw-p-4"},Qct={class:"tw-w-4 tw-p-4"},Jct={class:"tw-w-4 tw-p-4"};function Gct(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Rct,[(0,s.Wm)(nt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Nct,[(0,s._)("table",Yct,[Zct,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movement.inventory_movement_variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Kct,(0,wt.zw)(t.id),1),(0,s._)("td",Bct,(0,wt.zw)(t.product_variation.size),1),(0,s._)("td",Qct,(0,wt.zw)(t.product_variation.color),1),(0,s._)("td",Jct,(0,wt.zw)(t.quantity),1)])))),128))])])])])}var Xct={props:["movement"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const tut=(0,m.Z)(Xct,[["render",Gct]]);var eut=tut,rut={props:["rowIndex","movement"],components:{MovementDetails:eut},name:"inventoryActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,Ywt["delete"](this.movement.id).then((t=>{"SUCCESS"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Inventory Movement Deleted Successfully"})),this.getMovements()})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1},updateMovement(){this.isLoading=!0,Ywt.deliveryUpdateMovement(this.movement.id,this.isConfirmed?1:0,this.note).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:"Inventory Movement Updated Successfully"}),this.getMovements())}),this.$handleApiError).finally((()=>{this.isLoading=!1,this.confirmPopup=!1}))},getMovements(){Ywt.inventoryMovements().then((t=>{if("SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e)}})).catch(this.$handleApiError)}},mounted(){this.note=this.movement.note,this.isConfirmed=1==this.movement.is_received}};const aut=(0,m.Z)(rut,[["render",Mct]]);var sut=aut,lut={props:["columns","movements"],components:{InventoryMovementsActions:sut},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.movements.length/this.paginationLimit)},items(){return this.movements.slice(this.prevRange,this.nextRange)}},methods:{quantityTotal(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const out=(0,m.Z)(lut,[["render",Act]]);var iut=out,wut={components:{InventoryMovementsTable:iut},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"created_at",name:"Date"},{prop:"delivery",name:"Delivery"},{prop:"product",name:"Product"},{prop:"quantity",name:"Quantity"},{prop:"received",name:"Received"},{prop:"note",name:"Note"},{prop:"city",name:"City"},{prop:"actions",name:"Actions"}]}},computed:{inventoryMovements(){return this.$store.getters["inventory/inventoryMovements"]},filteredInventoryState(){return this.inventoryMovements.filter((()=>!0))}},methods:{async getInventoryMovements(){await Ywt.inventoryMovements().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e),console.log(e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryMovements()}};const nut=(0,m.Z)(wut,[["render",wct]]);var dut=nut,cut={name:"inventory/list",path:"/inventories",component:Wa,meta:{module:"inventory"},children:[{name:"inventory/state",path:"",component:Ont,meta:{module:"inventory",subModule:"inventory/list",title:"Inventory State",gate:"show_all_inventory_states"}},{name:"inventory/movememnts",path:"movements",component:dut,meta:{module:"inventory",subModule:"inventory/movements",title:"Inventory Movements",gate:"show_all_inventory_movements"}},{name:"inventory/add",path:"add",component:Cdt,meta:{module:"inventory",subModule:"inventory/add",title:"Add Inventory Movement",gate:"create_inventory_movement"}},{name:"inventory/update",path:"update/:id",component:ect,meta:{module:"inventory",subModule:"inventory/update",title:"Update Inventory Movement",gate:"update_inventory_movement"}}]},uut=r(3012);const put={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},gut={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},mut=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Scan the QR code ",-1),hut={class:"tw-p-5"},fut={class:"tw-rounded tw-overflow-hidden tw-ring tw-ring-orange-400"},but={key:1,class:"error"},vut={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"};var xut={__name:"ScanPopUp",props:["visible"],emits:["update:visible","detect"],setup(t,{emit:e}){const r=new Audio(w+"assets/bip.mp3"),a=e,l=t,o=t=>{a("update:visible",t)};function i(t,e){for(const r of t){const[t,...a]=r.cornerPoints;e.strokeStyle="red",e.beginPath(),e.moveTo(t.x,t.y);for(const{x:r,y:s}of a)e.lineTo(r,s);e.lineTo(t.x,t.y),e.closePath(),e.stroke()}}function n(t,e){for(const r of t){const{boundingBox:{x:t,y:a,width:s,height:l}}=r;e.lineWidth=2,e.strokeStyle="#007bff",e.strokeRect(t,a,s,l)}}function d(t,e){for(const r of t){const{boundingBox:t,rawValue:a}=r,s=t.x+t.width/2,l=t.y+t.height/2,o=Math.max(12,50*t.width/e.canvas.width);e.font=`bold ${o}px sans-serif`,e.textAlign="center",e.lineWidth=3,e.strokeStyle="#35495e",e.strokeText(r.rawValue,s,l),e.fillStyle="#5cb984",e.fillText(a,s,l)}}const c=[{text:"nothing (default)",value:void 0},{text:"outline",value:i},{text:"centered text",value:d},{text:"bounding box",value:n}],u=(0,ke.iH)(c[1]),p=(0,ke.iH)(null),g=(0,ke.iH)([]);(0,s.bv)((async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){if(g.value=(await navigator.mediaDevices.enumerateDevices()).filter((({kind:t})=>"videoinput"===t)),g.value.length>0){const t=g.value.find((({label:t})=>t.toLowerCase().includes("back")||t.toLowerCase().includes("rear")));p.value=t||g.value[0]}}else console.error("MediaDevices API not supported")}));const m=(0,ke.iH)("");function h(t){const e=t.map((t=>t.rawValue)).join(", ");console.log("Detected Code: "),console.log(e),a("detect",e),o(!1),r.play(),m.value=e}const f=(0,ke.iH)({qr_code:!0}),b=(0,s.Fl)((()=>Object.keys(f.value||{}).filter((t=>f.value&&f.value[t])))),v=(0,ke.iH)("");function x(t){"NotAllowedError"===t.name?v.value+="you need to grant camera access permission":"NotFoundError"===t.name?v.value+="no camera on this device":"NotSupportedError"===t.name?v.value+="secure context required (HTTPS, localhost)":"NotReadableError"===t.name?v.value+="is the camera already in use?":"OverconstrainedError"===t.name?v.value+="installed cameras are not suitable":"StreamApiNotSupportedError"===t.name?v.value+="Stream API is not supported in this browser":"InsecureContextError"===t.name?v.value+="Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":v.value+=t.message}return(t,e)=>{const r=(0,s.up)("icon"),a=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o(!0)),class:"tw-fixed tw-bottom-5 tw-shadow tw-shadow-orange-300 tw-right-5 tw-flex tw-items-center tw-justify-center tw-w-[60px] tw-h-[60px] tw-gap-2 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-border-orange-300 tw-rounded-md tw-mb-2 tw-z-20"},[(0,s.Wm)(r,{icon:"iconamoon:scanner-light",class:"lg:tw-text-3xl tw-text-2xl"})]),(0,s.Wm)(a,{visible:l.visible},{default:(0,s.w5)((()=>[(0,s._)("div",put,[(0,s._)("div",gut,[mut,(0,s._)("div",hut,[(0,s._)("div",fut,[null!==p.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(uut.vG),{key:0,constraints:{deviceId:p.value.deviceId},track:u.value.value,formats:b.value,"facing-mode":"environment",onError:x,onDetect:h},null,8,["constraints","track","formats"])):((0,s.wg)(),(0,s.iD)("p",but," No cameras on this device "))])]),(0,s._)("div",vut,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o(!1)),disabled:!1,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])])),_:1},8,["visible"])])}}};const yut=xut;var _ut=yut;const kut=t=>((0,s.dD)("data-v-3fcb733e"),t=t(),(0,s.Cn)(),t),Cut={class:"!tw-w-[25px] !tw-h-[25px] tw-relative"},Dut=kut((()=>(0,s._)("div",{class:"check-container tw-scale-[0.2] tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2"},[(0,s._)("div",{class:"check-background"},[(0,s._)("svg",{viewBox:"0 0 65 51",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M7 25L27.3077 44L58.5 7",stroke:"white","stroke-width":"13","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1))),Sut=[Dut];function zut(t,e){return(0,s.wg)(),(0,s.iD)("div",Cut,Sut)}const Uut={},qut=(0,m.Z)(Uut,[["render",zut],["__scopeId","data-v-3fcb733e"]]);var Put=qut;const Lut={class:"tw-translate-y-0 tw-opacity-100 tw-w-full tw-p-2 tw-min-h-[60px] tw-bg-white tw-duration-300 tw-rounded tw-shadow-md"},Wut={class:"tw-flex tw-justify-between tw-items-center"},Aut={class:"tw-space-y-4"},$ut={class:"tw-flex tw-items-center tw-gap-4"},Eut={class:"tw-flex tw-items-center tw-gap-2"},Tut={style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},Fut={key:0,class:"tw-flex tw-items-center tw-gap-0.5 tw-bg-blue-100 tw-p-1 tw-rounded"},jut=(0,s._)("span",{style:{"line-height":"10px"},class:"tw-text-xs tw-capitalize tw-font-medium tw-text-blue-600"},"Double Scan",-1),Iut=[jut],Vut={class:"tw-flex tw-items-center tw-gap-5"},Out={key:0,class:"tw-flex tw-items-center"},Hut=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse"},null,-1),Mut=(0,s._)("div",{class:"tw-w-[70px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),Rut=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-5"},null,-1),Nut=(0,s._)("div",{class:"tw-w-[100px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),Yut=[Hut,Mut,Rut,Nut],Zut={key:1,class:"tw-flex tw-items-center tw-gap-2"},Kut={key:0,style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},But={key:2,class:"tw-flex tw-items-center tw-gap-2"},Qut={key:0,style:{"line-height":"16px"},class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-max-w-[120px] tw-truncate"},Jut={key:3,class:"tw-w-fit tw-px-2 tw-bg-rose-100 tw-text-rose-500 tw-text-sm tw-uppercase tw-h-[25px] tw-rounded-md tw-flex tw-items-center tw-justify-center"},Gut={class:"tw-h-full tw-space-y-2 tw-flex-col tw-flex tw-items-end tw-justify-between"},Xut={key:0,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},tpt={class:"tw-text-blue-500 tw-text-sm"},ept={key:1,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},rpt={class:"tw-text-amber-500 tw-text-sm"};var apt={__name:"OrderRow",props:["order"],emits:["update"],setup(t,{emit:e}){const r=t,a=e,l=()=>{const t=r.order.scanned.replace(/[^0-9]/g,"");ba.warehouseControl(t,{target:r.order.target,scanned:r.order.scanned}).then((t=>{if("SUCCESS"==t.data.code){const e={...r.order,...t.data.order,loading:!1,check:!0};a("update",r.order.scan_id,e)}else a("update",r.order.scan_id,{...r.order,loading:!1,check:!1})}),(t=>{a("update",r.order.scan_id,{...r.order,loading:!1,check:!1}),console.log(t)}))};return l(),(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Lut,[(0,s._)("div",Wut,[(0,s._)("div",Aut,[(0,s._)("div",$ut,[(0,s._)("div",Eut,[(0,s.Wm)(a,{icon:"solar:qr-code-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),(0,s._)("span",Tut,(0,wt.zw)(r.order.scanned),1)]),r.order.already_scanned?((0,s.wg)(),(0,s.iD)("div",Fut,Iut)):(0,s.kq)("",!0)]),(0,s._)("div",Vut,[r.order.loading?((0,s.wg)(),(0,s.iD)("div",Out,Yut)):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",Zut,[(0,s.Wm)(a,{icon:"solar:hashtag-square-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.id?((0,s.wg)(),(0,s.iD)("span",Kut,(0,wt.zw)(r.order.id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",But,[(0,s.Wm)(a,{icon:"solar:user-id-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.fullname?((0,s.wg)(),(0,s.iD)("span",Qut,(0,wt.zw)(r.order.fullname),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Jut,"Not Found"))])]),(0,s._)("div",Gut,[(0,s._)("div",null,[!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Put),{key:0})):(0,s.kq)("",!0),r.order.loading?((0,s.wg)(),(0,s.j4)(a,{key:1,class:"tw-text-lg tw-text-orange-400 tw-animate-spin",icon:"mingcute:loading-line"})):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(a,{key:2,class:"tw-text-2xl tw-text-rose-500",icon:"material-symbols-light:error-outline"}))]),(0,s._)("div",null,["in"==r.order.target?((0,s.wg)(),(0,s.iD)("div",Xut,[(0,s.Wm)(a,{icon:"lets-icons:sign-in-squre-duotone",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",tpt,(0,wt.zw)(r.order.target),1)])):(0,s.kq)("",!0),"out"==r.order.target?((0,s.wg)(),(0,s.iD)("div",ept,[(0,s.Wm)(a,{icon:"lets-icons:sign-out-squre-duotone",class:"tw-text-xl tw-text-amber-500"}),(0,s._)("span",rpt,(0,wt.zw)(r.order.target),1)])):(0,s.kq)("",!0)])])])])}}};const spt=apt;var lpt=spt;const opt={class:"lg:tw-p-6"},ipt={class:"tw-p-5 lg:tw-border tw-min-h-[calc(100vh-135px)] tw-flex tw-flex-col tw-bg-white tw-w-full lg:tw-rounded-md tw-mb-5"},wpt={class:"tw-grid tw-grid-cols-12 tw-h-full tw-flex-1 tw-gap-5"},npt={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},dpt=(0,s._)("h1",{class:"tw-text-lg"},"Target",-1),cpt={class:"tw-grid tw-grid-cols-2 tw-gap-5 tw-mt-2"},upt={class:"tw-grid tw-px-2 tw-grid-cols-12 tw-justify-center tw-mt-10"},ppt=(0,s._)("p",{class:"tw-text-xl tw-font-semibold tw-py-4"},"Scan the order reference ID.",-1),gpt={class:"tw-grid tw-grid-cols-8 tw-mt-16 col-span-12 tw-gap-2 tw-w-full tw-max-w-[23rem]"},mpt={id:"success-message",class:"tw-inline-flex tw-items-center"},hpt=(0,s._)("div",{class:"tw-grid tw-grid-cols-8 tw-py-5 tw-gap-2 tw-w-full tw-max-w-[23rem]"},[(0,s._)("button",{class:"tw-col-span-8 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",{id:"success-message",class:"tw-inline-flex tw-items-center"}," Confirm ")])],-1),fpt={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},bpt={class:"tw-min-h-[600px] tw-flex-1 tw-w-full tw-bg-gray-100 tw-rounded-md tw-p-2 tw-space-y-2 tw-shadow-inner"};var vpt={__name:"ScannerView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)([]),l=(0,ke.iH)(""),o=(0,ke.iH)("in"),i=(0,s.Fl)((()=>{if(""==l.value)return!1;const t=l.value.replace(/[^a-zA-Z]/g,"").toLocaleLowerCase(),e=l.value.replace(/[^0-9]/g,"");return t!=u||!e})),w=t=>{l.value=t,g()},n=()=>{var t=document.getElementById("code");t.select(),navigator.clipboard.writeText(t.value)},d=(t,e)=>{r.value=r.value.map((r=>r.scan_id==t?e:r))},c=t=>r.value.some((e=>e.scanned==t)),p=()=>{const t=Date.now().toString(36),e=Math.random().toString(36).substr(2,5);return t+e},g=()=>{const t={scan_id:p(),scanned:l.value,loading:!0,check:!1,target:o.value};if(""==l.value)return Tc("Reference ID is not valid","warning"),!1;c(l.value)&&(t.already_scanned=!0),i.value||""==l.value||(r.value.unshift(t),l.value="")};return(t,c)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",opt,[(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(_ut),{visible:e.value,"onUpdate:visible":c[0]||(c[0]=t=>e.value=t),onDetect:w},null,8,["visible"])]),(0,s._)("div",ipt,[(0,s._)("div",wpt,[(0,s._)("div",npt,[(0,s._)("div",null,[dpt,(0,s._)("div",cpt,[(0,s._)("button",{onClick:c[1]||(c[1]=t=>o.value="in"),class:(0,wt.C_)([["in"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-plus",class:(0,wt.C_)(["tw-text-2xl",["in"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,wt.C_)(["in"==o.value?"tw-text-white":"tw-text-neutral-500"])},"IN",2)],2),(0,s._)("button",{onClick:c[2]||(c[2]=t=>o.value="out"),class:(0,wt.C_)([["out"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-minus",class:(0,wt.C_)(["tw-text-2xl",["out"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,wt.C_)(["out"==o.value?"tw-text-white":"tw-text-neutral-500"])},"OUT",2)],2)])]),(0,s._)("div",upt,[(0,s._)("form",{onSubmit:(0,a.iM)(g,["prevent"]),class:"lg:tw-col-span-12 tw-col-span-12 tw-flex tw-flex-col tw-items-center tw-justify-center"},[ppt,(0,s._)("div",{onClick:c[3]||(c[3]=t=>e.value=!0),class:(0,wt.C_)([[i.value&&"tw-border-rose-400 tw-ring tw-ring-rose-400"],"tw-relative hover:tw-scale-110 tw-duration-300 tw-cursor-pointer tw-h-[150px] tw-w-[150px] tw-border-2 tw-rounded-3xl tw-mt-10 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(u,{class:"tw-w-[150px] tw-h-[150px] tw-border-2 tw-rounded-3xl",icon:"fluent:scan-dash-28-regular"}),(0,s._)("div",{class:(0,wt.C_)([[i.value&&"!tw-opacity-100"],"tw-opacity-0 tw-absolute tw-top-1/2 tw-left-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-w-full tw-h-[30px] tw-bg-rose-500 tw-flex tw-items-center tw-justify-center tw-font-medium tw-text-sm tw-text-white"])}," ID NOT VALID ",2)],2),(0,s.kq)("",!0),(0,s._)("div",gpt,[(0,s.wy)((0,s._)("input",{placeholder:"Reference ID",id:"code",type:"text","onUpdate:modelValue":c[4]||(c[4]=t=>l.value=t),class:"tw-bg-gray-50 border tw-col-span-6 tw-rounded-lg tw-outline-none focus:tw-ring-gray-500 focus:tw-border-gray-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-gray-400 dark:tw-focus:tw-ring-blue-500 dark:focus:tw-border-blue-500"},null,512),[[a.nr,l.value]]),(0,s._)("button",{type:"button",onClick:n,class:"tw-col-span-2 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",mpt,[(0,s.Wm)(u,{icon:"mdi:content-copy"})])])]),hpt],32)])]),(0,s._)("div",fpt,[(0,s._)("div",bpt,[(0,s.Wm)(a.W3,{"enter-from-class":"tw-translate-y-[10px] tw-opacity-0"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(lpt),{onUpdate:d,order:t,key:t.scan_id},null,8,["order"])))),128))])),_:1})])])])])])}}};const xpt=vpt;var ypt=xpt,_pt={name:"scanner",path:"/scanner",component:Wa,meta:{module:"qrcode"},children:[{name:"scanner/code",path:"",component:ypt,meta:{module:"scaanner",subModule:"scaanner/code",title:"Scanner",role:"admin",gate:"stock_management"}}]};const kpt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Cpt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Shop List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your shops")],-1),Dpt={key:0},Spt=(0,s._)("span",{class:"text-white"}," Add Shop ",-1),zpt={key:0},Upt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},qpt={class:"mb-5 tw-flex"},Ppt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Lpt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Wpt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Apt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),$pt={class:"tw-relative"},Ept={class:""};function Tpt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ShopsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.shops.length},[(0,s._)("div",kpt,[Cpt,t.$can("create_shop")?((0,s.wg)(),(0,s.iD)("div",Dpt,[(0,s.Wm)(nt.T,{color:"primary-color",link:"",to:{name:"shop/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Spt])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",zpt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Upt,[(0,s._)("div",qpt,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Ppt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Lpt,[(0,s._)("div",Wpt,[Apt,(0,s._)("div",$pt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Ept,[(0,s.Wm)(n,{columns:o.columns,shops:i.filteredShops},null,8,["columns","shops"])])])):(0,s.kq)("",!0)])}class Fpt{async create(t){return await E.getCookie(),A.post("api/shops/new",{name:t.name})}async update(t,e){return await E.getCookie(),A.post("api/shops/update/"+t,{name:e.name})}async all(){return await E.getCookie(),A.get("api/shops")}async getShop(t){return await E.getCookie(),A.get("api/shops/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/shops/delete/"+t)}}var jpt=new Fpt;const Ipt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Vpt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Opt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Hpt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Mpt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Rpt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Npt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Ypt={class:"tw-px-6 tw-py-4"},Zpt={class:"tw-px-6 tw-py-4"},Kpt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Bpt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Qpt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Jpt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Gpt=["value"],Xpt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},tgt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},egt={class:"tw-text-white"};function rgt(t,e,r,l,o,i){const w=(0,s.up)("ShopActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ipt,[(0,s._)("table",Vpt,[(0,s._)("thead",Opt,[(0,s._)("tr",null,[Hpt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Mpt,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shops,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Rpt,(0,s._)("th",Npt,(0,wt.zw)(t.id),1),(0,s._)("td",Ypt,(0,wt.zw)(t.name),1),(0,s._)("td",Zpt,(0,wt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Kpt,[(0,s.Wm)(w,{shop:t},null,8,["shop"])])])))),128))])])]),(0,s._)("div",Bpt,[(0,s._)("div",Qpt,[Jpt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,Gpt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Xpt,[(0,s._)("div",tgt,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.shops.length:i.nextRange)+" of "+(0,wt.zw)(r.shops.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",egt,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const agt={class:"tw-flex tw-items-center tw-gap-1"};function sgt(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",agt,[t.$can("update_shop")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,to:"/shops/update/"+r.shop.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_shop")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this shop?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var lgt={props:["rowIndex","shop"],name:"shopActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,jpt["delete"](this.shop.id).then((t=>{"SHOP_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Shop Deleted Successfully"})),jpt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const ogt=(0,m.Z)(lgt,[["render",sgt]]);var igt=ogt,wgt={props:["columns","shops"],components:{ShopActions:igt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.shops.length/this.paginationLimit)},items(){return this.shops.slice(this.prevRange,this.nextRange)}},methods:{}};const ngt=(0,m.Z)(wgt,[["render",rgt]]);var dgt=ngt,cgt={components:{ShopsTable:dgt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{shops(){return this.$store.getters["shop/shops"]},filteredShops(){const t=this.date;return this.shops.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){jpt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const ugt=(0,m.Z)(cgt,[["render",Tpt]]);var pgt=ugt;const ggt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Shop "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new shop")],-1),mgt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},hgt={class:"tw-w-full"},fgt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Shop Name ",-1),bgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},vgt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},xgt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),ygt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function _gt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[ggt,(0,s._)("div",mgt,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",hgt,[fgt,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",bgt,(0,wt.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",vgt,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[xgt])),_:1}),(0,s.Wm)(nt.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[ygt])),_:1},8,["onClick","loading"])])])])}var kgt={components:{},data(){return{isLoading:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;jpt.create(t).then((t=>{"SHOP_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.shop={name:""}),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.shop.name,"Shop name"),this.formStatus.name.valid}}};const Cgt=(0,m.Z)(kgt,[["render",_gt]]);var Dgt=Cgt;const Sgt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Shop"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update shop informations")],-1),zgt={key:0},Ugt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},qgt={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},Pgt={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},Lgt={class:"tw-w-full"},Wgt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Shop Name",-1),Agt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$gt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Egt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Tgt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Fgt(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Sgt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",zgt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ugt,[(0,s._)("div",qgt,[(0,s.Uk)(" Shop ID: "),(0,s._)("span",Pgt,(0,wt.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Lgt,[Wgt,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Agt,(0,wt.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",$gt,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Egt])),_:1}),(0,s.Wm)(nt.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Tgt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var jgt={components:{},data(){return{isLoading:!1,isLoaded:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{id(){return this.$route.params.id}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;jpt.update(this.$route.params.id,t).then((t=>{"SHOP_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"SHOP_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.shop.name,"Shop name"),this.formStatus.name.valid}},mounted(){jpt.getShop(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{name:e}=t.data.data.shops;this.shop.name=e,this.isLoaded=!0}}),this.$handleApiError)}};const Igt=(0,m.Z)(jgt,[["render",Fgt]]);var Vgt=Igt,Ogt={name:"shops",path:"/shops",component:Wa,meta:{module:"shop"},children:[{name:"shop/list",path:"",component:pgt,meta:{module:"shop",subModule:"shop/list",title:"Shop List",gate:"show_all_sales"}},{name:"shop/add",path:"add",component:Dgt,meta:{module:"shop",subModule:"shop/add",title:"Shop Add",gate:"create_shop"}},{name:"shop/update",path:"update/:id",component:Vgt,meta:{module:"shop",subModule:"shop/update",title:"Update Shop",gate:"update_shop"}}]};const Hgt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Mgt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Warehouse List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your warehouses")],-1),Rgt={key:0},Ngt=(0,s._)("span",{class:"text-white"}," Add Warehouse ",-1),Ygt={key:0},Zgt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Kgt={class:"mb-5 tw-flex"},Bgt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Qgt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Jgt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Ggt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Xgt={class:"tw-relative"},tmt={class:""};function emt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("WarehousesTable"),d=(0,s.up)("AddWarehouse");return(0,s.wg)(),(0,s.iD)("div",{key:i.warehouses.length},[(0,s._)("div",Hgt,[Mgt,t.$can("create_warehouse")?((0,s.wg)(),(0,s.iD)("div",Rgt,[(0,s.Wm)(nt.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Ngt])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ygt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Zgt,[(0,s._)("div",Kgt,[(0,s.Wm)(nt.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Bgt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Qgt,[(0,s._)("div",Jgt,[Ggt,(0,s._)("div",Xgt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",tmt,[(0,s.Wm)(n,{columns:o.columns,warehouses:i.filteredWarehouses},null,8,["columns","warehouses"])]),(0,s.Wm)(d,{onCancel:e[4]||(e[4]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const rmt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},amt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},smt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},lmt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),omt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},imt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),wmt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},nmt={class:"tw-px-6 tw-py-4"},dmt={class:"tw-px-6 tw-py-4"},cmt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},umt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},pmt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},gmt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),mmt=["value"],hmt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},fmt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},bmt={class:"tw-text-white"};function vmt(t,e,r,l,o,i){const w=(0,s.up)("WarehouseActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",rmt,[(0,s._)("table",amt,[(0,s._)("thead",smt,[(0,s._)("tr",null,[lmt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",omt,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.warehouses,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[imt,(0,s._)("th",wmt,(0,wt.zw)(t.id),1),(0,s._)("td",nmt,(0,wt.zw)(t.name),1),(0,s._)("td",dmt,(0,wt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",cmt,[(0,s.Wm)(w,{warehouse:t},null,8,["warehouse"])])])))),128))])])]),(0,s._)("div",umt,[(0,s._)("div",pmt,[gmt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,mmt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",hmt,[(0,s._)("div",fmt,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.warehouses.length:i.nextRange)+" of "+(0,wt.zw)(r.warehouses.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",bmt,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const xmt={class:"tw-flex tw-items-center tw-gap-1"};function ymt(t,e,r,a,l,o){const i=(0,s.up)("UpdateWarehouse"),w=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",xmt,[t.$can("update_warehouse")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_warehouse")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[2]||(e[2]=t=>l.showUpdatePopup=!1),key:r.warehouse.id,warehouse:r.warehouse},null,8,["visible","warehouse"])),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this warehouse?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const _mt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},kmt=(0,s._)("h1",{class:"tw-text-lg"},"Update Warehouse",-1),Cmt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Dmt={class:"tw-w-full tw-col-span-12"},Smt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),zmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Umt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},qmt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Pmt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Lmt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",_mt,[kmt,(0,s._)("div",Cmt,[(0,s._)("div",Dmt,[Smt,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.Warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",zmt,(0,wt.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",Umt,[(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[qmt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Pmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Wmt={components:{},props:["warehouse","visible"],data(){return{isLoading:!1,isLoaded:!1,Warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Nb.update(this.warehouse.id,this.Warehouse).then((t=>{"WAREHOUSE_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("warehouse/update",this.Warehouse),this.$emit("cancel")),"WAREHOUSE_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.Warehouse.name,"Warehouse name"),this.formStatus.name.valid}},mounted(){this.Warehouse={...this.warehouse}}};const Amt=(0,m.Z)(Wmt,[["render",Lmt]]);var $mt=Amt,Emt={components:{UpdateWarehouse:$mt},props:["rowIndex","warehouse"],name:"warehouseActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Nb["delete"](this.warehouse.id).then((t=>{"WAREHOUSE_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Warehouse Deleted Successfully"}),this.$store.dispatch("warehouse/delete",this.warehouse.id))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Tmt=(0,m.Z)(Emt,[["render",ymt]]);var Fmt=Tmt,jmt={props:["columns","warehouses"],components:{WarehouseActions:Fmt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.warehouses.length/this.paginationLimit)},items(){return this.warehouses.slice(this.prevRange,this.nextRange)}},methods:{}};const Imt=(0,m.Z)(jmt,[["render",vmt]]);var Vmt=Imt;const Omt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Hmt=(0,s._)("h1",{class:"tw-text-lg"},"Create Warehouse",-1),Mmt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Rmt={class:"tw-w-full tw-col-span-12"},Nmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Ymt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zmt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Kmt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Bmt=(0,s._)("span",{class:"text-white"}," Create ",-1);function Qmt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Omt,[Hmt,(0,s._)("div",Mmt,[(0,s._)("div",Rmt,[Nmt,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ymt,(0,wt.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",Zmt,[(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Kmt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Bmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Jmt={props:["visible"],components:{},data(){return{isLoading:!1,warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.warehouse;Nb.create(t).then((t=>{if("WAREHOUSE_CREATED"==t.data.code){this.$alert({type:"success",title:t.data.message});const e=t.data.data.warehouse;this.$store.dispatch("warehouse/addWarehouse",e),this.$emit("cancel"),this.warehouse={name:""}}"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.warehouse.name,"Warehouse name"),this.formStatus.name.valid}}};const Gmt=(0,m.Z)(Jmt,[["render",Qmt]]);var Xmt=Gmt,tht={components:{WarehousesTable:Vmt,AddWarehouse:Xmt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{warehouses(){return this.$store.getters["warehouse/warehouses"]},filteredWarehouses(){const t=this.date;return this.warehouses.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){Nb.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const eht=(0,m.Z)(tht,[["render",emt]]);var rht=eht,aht={name:"warehouses",path:"/warehouses",component:Wa,meta:{module:"warehouse"},children:[{name:"warehouse/list",path:"",component:rht,meta:{module:"warehouse",subModule:"warehouse/list",title:"Warehouse List",gate:"show_all_warehouses"}}]};const sht=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Factorisation List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your factorisations")])],-1),lht={key:0},oht={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},iht={class:"mb-5 tw-flex"},wht={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},nht={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},dht={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},cht=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),uht={class:"tw-relative"},pht={class:""};function ght(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("FactorisationsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.factorisations.length},[sht,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",lht,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",oht,[(0,s._)("div",iht,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",wht,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",nht,[(0,s._)("div",dht,[cht,(0,s._)("div",uht,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",pht,[(0,s.Wm)(n,{columns:i.columns,factorisations:i.filteredFactorisations},null,8,["columns","factorisations"])])])):(0,s.kq)("",!0)])}const mht={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},hht={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},fht={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},bht=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),vht={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},xht={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},yht={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},_ht=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),kht=["value"],Cht={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Dht={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Sht={class:"tw-text-white"};function zht(t,e,r,l,o,i){const w=(0,s.up)("FactorisationRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",mht,[(0,s._)("table",hht,[(0,s._)("thead",fht,[(0,s._)("tr",null,[bht,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",vht,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.factorisations,(t=>((0,s.wg)(),(0,s.j4)(w,{factorisation:t,key:t.id},null,8,["factorisation"])))),128))])])]),(0,s._)("div",xht,[(0,s._)("div",yht,[_ht,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,kht)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Cht,[(0,s._)("div",Dht,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.factorisations.length:i.nextRange)+" of "+(0,wt.zw)(r.factorisations.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Sht,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Uht={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},qht=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Pht={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Lht={class:"tw-px-6 tw-py-4"},Wht={key:0,class:"tw-px-6 tw-py-4"},Aht={key:0},$ht={key:1},Eht={class:"tw-px-6 tw-py-4"},Tht={key:0},Fht={key:1},jht={class:"tw-px-6 tw-py-4"},Iht={class:"tw-px-6 tw-py-4"},Vht=(0,s._)("td",{class:"tw-px-6 tw-py-4"},[(0,s._)("div",null," Payment Method ")],-1),Oht={class:"tw-px-6 tw-py-4"},Hht={class:"tw-px-6 tw-py-4"},Mht={key:1,class:"tw-px-6 tw-py-4"},Rht={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Nht={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Yht=["disabled"],Zht=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Kht={key:2,class:"tw-px-6 tw-py-4"},Bht={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Qht={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Jht=["disabled"],Ght=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Xht={class:"tw-px-6 tw-py-4"},tft={key:3,class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function eft(t,e,r,l,o,i){const w=(0,s.up)("FactorisationActions");return(0,s.wg)(),(0,s.iD)("tr",Uht,[qht,(0,s._)("th",Pht,(0,wt.zw)(r.factorisation.id),1),(0,s._)("td",Lht,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>i.download(r.factorisation.id))},(0,wt.zw)(r.factorisation.factorisation_id),1)]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Wht,[r.factorisation.delivery?((0,s.wg)(),(0,s.iD)("span",Aht,(0,wt.zw)(i.deliveryName),1)):((0,s.wg)(),(0,s.iD)("span",$ht,"-"))])):(0,s.kq)("",!0),(0,s._)("td",Eht,[r.factorisation.seller?((0,s.wg)(),(0,s.iD)("span",Tht,(0,wt.zw)(i.sellerName),1)):((0,s.wg)(),(0,s.iD)("span",Fht,"-"))]),(0,s._)("td",jht,(0,wt.zw)(r.factorisation.commands_number),1),(0,s._)("td",Iht,(0,wt.zw)(r.factorisation.price),1),Vht,(0,s._)("td",Oht,(0,wt.zw)(r.factorisation.close_at?.split("T")[0]),1),(0,s._)("td",Hht,(0,wt.zw)(r.factorisation.paid_at?.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Mht,[(0,s._)("div",Rht,[(0,s._)("label",Nht,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[1]||(e[1]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Yht),[[a.e8,i.close]]),Zht]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Kht,[(0,s._)("div",Bht,[(0,s._)("label",Qht,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[2]||(e[2]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Jht),[[a.e8,i.paid]]),Ght]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",Xht,(0,wt.zw)(r.factorisation.created_at.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",tft,[(0,s.Wm)(w,{factorisation:r.factorisation},null,8,["factorisation"])])):(0,s.kq)("",!0)])}const rft={class:"tw-flex tw-items-center tw-gap-1"};function aft(t,e,r,a,l,o){const i=(0,s.up)("UpdateFactorisation"),w=(0,s.up)("UpdateComment"),n=(0,s.up)("UpdateFees"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",rft,[t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdateCommentPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[1]||(e[1]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_factorisation")?((0,s.wg)(),(0,s.j4)(nt.T,{key:2,onClick:e[2]||(e[2]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")&&"seller"==this.factorisation.type?((0,s.wg)(),(0,s.j4)(nt.T,{key:3,onClick:e[3]||(e[3]=t=>l.showUpdateFeesPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-format-list-text")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[4]||(e[4]=t=>l.showUpdatePopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(w,{visible:l.showUpdateCommentPopup,onCancel:e[5]||(e[5]=t=>l.showUpdateCommentPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(n,{visible:l.showUpdateFeesPopup,onCancel:e[6]||(e[6]=t=>l.showUpdateFeesPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this factorisation?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const sft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},lft=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),oft={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},ift={class:"tw-w-full tw-col-span-6"},wft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),nft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},dft={class:"tw-w-full tw-col-span-6"},cft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),uft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},pft={class:"tw-w-full tw-col-span-6"},gft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),mft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},hft={class:"tw-w-full tw-col-span-6"},fft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),bft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},vft={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},xft=(0,s._)("span",{class:"text-white"}," Cancel ",-1),yft=(0,s._)("span",{class:"text-white"}," Update ",-1);function _ft(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[9]||(e[9]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",sft,[lft,(0,s._)("div",oft,[(0,s._)("div",ift,[wft,(0,s.Wm)(ut.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.Factorisation.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Factorisation.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",nft,(0,wt.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",dft,[cft,(0,s.Wm)(ut.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",uft,(0,wt.zw)(l.formStatus.delivery_id.message),1)]),(0,s._)("div",pft,[gft,(0,s.Wm)(ut.hw,{error:!l.formStatus.price.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("price")),"hide-details":!0,modelValue:l.Factorisation.price,"onUpdate:modelValue":e[5]||(e[5]=t=>l.Factorisation.price=t),disabled:!0,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",mft,(0,wt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",hft,[fft,(0,s.Wm)(ut.hw,{error:!l.formStatus.commands_number.valid,disabled:!0,onKeyup:e[6]||(e[6]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:l.Factorisation.commands_number,"onUpdate:modelValue":e[7]||(e[7]=t=>l.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",bft,(0,wt.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",vft,[(0,s.Wm)(nt.T,{onClick:e[8]||(e[8]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[xft])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[yft])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var kft={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{factorisation_id:"",delivery_id:0,price:0,commands_number:0,note:""},formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.Factorisation.delivery.firstname+" "+this.Factorisation.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ye.update(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=$t(this.Factorisation.factorisation_id,"Factorisation Code"),this.formStatus.price=Et(this.Factorisation.price,"Factorisation Price"),this.formStatus.commands_number=Et(this.Factorisation.commands_number,"Factorisation Nb Commands"),this.formStatus.factorisation_id.valid&&this.formStatus.price.valid&&this.formStatus.commands_number.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Cft=(0,m.Z)(kft,[["render",_ft]]);var Dft=Cft;const Sft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},zft=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Uft={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},qft={class:"tw-w-full tw-col-span-6"},Pft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Lft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Wft={class:"tw-w-full tw-col-span-6"},Aft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),$ft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Eft={class:"tw-w-full tw-col-span-12"},Tft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),Fft=["error"],jft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ift={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Vft=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Oft=(0,s._)("span",{class:"text-white"}," Update ",-1);function Hft(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[7]||(e[7]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Sft,[zft,(0,s._)("div",Uft,[(0,s._)("div",qft,[Pft,(0,s.Wm)(ut.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.Factorisation.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Factorisation.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Lft,(0,wt.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Wft,[Aft,(0,s.Wm)(ut.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.Factorisation.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",$ft,(0,wt.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",Eft,[Tft,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.Factorisation.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n            ",40,Fft),[[a.nr,o.Factorisation.comment]]),(0,s._)("div",jft,(0,wt.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Ift,[(0,s.Wm)(nt.T,{onClick:e[6]||(e[6]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Vft])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Oft])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Mft={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ye.updateComment(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=$t(this.Factorisation.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Rft=(0,m.Z)(Mft,[["render",Hft]]);var Nft=Rft;const Yft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Zft=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),Kft={class:"tw-w-full tw-col-span-6"},Bft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),Qft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jft={class:"tw-w-full tw-col-span-6"},Gft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),Xft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},tbt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},ebt=["onClick"],rbt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),abt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},sbt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),lbt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},obt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),ibt=(0,s._)("span",{class:"text-white"}," Update ",-1);function wbt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Yft,[Zft,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",Kft,[Bft,(0,s.Wm)(ut.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",Qft,(0,wt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",Jft,[Gft,(0,s.Wm)(ut.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",Xft,(0,wt.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",tbt,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),rbt],8,ebt)])])])))),128)),(0,s._)("div",abt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),sbt])]),(0,s._)("div",lbt,[(0,s.Wm)(nt.T,{onClick:e[3]||(e[3]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[obt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ibt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var nbt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Ye.updateFees(this.factorisation.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.Factorisation={...this.factorisation},this.fees=JSON.parse(JSON.stringify(this.factorisation.fees))}};const dbt=(0,m.Z)(nbt,[["render",wbt]]);var cbt=dbt,ubt={components:{UpdateFactorisation:Dft,UpdateComment:Nft,UpdateFees:cbt},props:["rowIndex","factorisation"],name:"factorisationActions",data(){return{showPopup:!1,isLoading:!1,showUpdateCommentPopup:!1,showUpdateFeesPopup:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Ye["delete"](this.factorisation.id).then((t=>{"FACTORISATION_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Factorisation Deleted Successfully"}),this.$store.dispatch("factorisation/delete",this.factorisation.id)),"DELETE_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const pbt=(0,m.Z)(ubt,[["render",aft]]);var gbt=pbt,mbt={props:["factorisation"],components:{FactorisationActions:gbt},data(){return{isLoadingPaid:!1,isLoadingClose:!1}},computed:{deliveryName:{get(){return this.factorisation.delivery.firstname+" "+this.factorisation.delivery.lastname},set(t){console.log(t)}},sellerName:{get(){return this.factorisation.seller.firstname+" "+this.factorisation.seller.lastname},set(t){console.log(t)}},paid:{get(){return 1==this.factorisation.paid},set(t){this.updatePaid(t)}},close:{get(){return 1==this.factorisation.close},set(t){this.updateClose(t)}},user(){return this.$store.getters["user/user"]}},methods:{updatePaid(t){this.isLoadingPaid=!0,Ye.updatePaid(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))},updateClose(t){this.isLoadingClose=!0,Ye.updateClose(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))},download(t){const e=n+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const hbt=(0,m.Z)(mbt,[["render",eft]]);var fbt=hbt,bbt={props:["columns","factorisations"],components:{FactorisationRow:fbt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.factorisations.length/this.paginationLimit)},items(){return this.factorisations.slice(this.prevRange,this.nextRange)}},methods:{}};const vbt=(0,m.Z)(bbt,[["render",zht]]);var xbt=vbt,ybt={components:{FactorisationsTable:xbt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,userColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"payment_method",name:"Payment Method"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"created_at",name:"Created at"}],adminColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"delivery_id",name:"Delivery"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"close",name:"Close"},{prop:"paid",name:"Paid"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{user(){return this.$store.getters["user/user"]},columns(){return"admin"==this.user.role?this.adminColumns:this.userColumns},factorisations(){return this.$store.getters["factorisation/factorisations"]},filteredFactorisations(){const t=this.date;return this.factorisations.filter((e=>!t||e?.created_at.split("T")[0]===t))}},mounted(){Ye.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("factorisation/setFactorisations",t.data.data.factorisations)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const _bt=(0,m.Z)(ybt,[["render",ght]]);var kbt=_bt;const Cbt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Dbt={class:"tw-px-3"},Sbt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},zbt={class:"tw-flex tw-items-center tw-gap-x-3"},Ubt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Factorisation",-1),qbt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Pbt={key:0};function Lbt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",Cbt,[(0,s._)("section",Dbt,[(0,s._)("div",Sbt,[(0,s._)("div",null,[(0,s._)("div",zbt,[Ubt,(0,s._)("span",qbt,(0,wt.zw)(l.totalOrders),1)])])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,"per-page":l.per_page,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","per-page","loading"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,"withdrawal-methods":l.withdrawal_methods,"is-withdrawal-methods-fetched":l.is_withdrawal_methods_fetched,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","withdrawal-methods","is-withdrawal-methods-fetched","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Pbt)):(0,s.kq)("",!0)])}const Wbt={class:"tw-flex tw-flex-col tw-mt-5"},Abt={class:"tw-overflow-x-auto"},$bt={class:"tw-inline-block tw-min-w-full tw-align-middle"},Ebt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Tbt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Fbt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},jbt=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-w-fit tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID ",-1),Ibt={key:1,scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Vbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Orders ",-1),Obt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),Hbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Payment Method ",-1),Mbt={key:2,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Rbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Closed At ",-1),Nbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid At ",-1),Ybt={key:3,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Zbt={key:4,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Kbt={key:6,scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},Bbt=(0,s._)("span",{class:"tw-sr-only"},"Actions",-1),Qbt=[Bbt],Jbt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Gbt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Xbt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Factorisation was found ! ")])],-1),tvt=[Xbt],evt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},rvt={colspan:"11"},avt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},svt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),lvt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),ovt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),ivt=[lvt,ovt],wvt={class:"tw-mt-6"};function nvt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Wbt,[(0,s._)("div",Abt,[(0,s._)("div",$bt,[(0,s._)("div",Ebt,[(0,s._)("table",Tbt,[(0,s._)("thead",Fbt,[(0,s._)("tr",null,[(0,s.kq)("",!0),jbt,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Ibt," User ")):(0,s.kq)("",!0),Vbt,Obt,Hbt,"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Mbt," Status ")):(0,s.kq)("",!0),Rbt,Nbt,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Ybt," Close ")):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Zbt," Paid ")):(0,s.kq)("",!0),(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Kbt,Qbt)):(0,s.kq)("",!0)])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Jbt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(a=>((0,s.wg)(),(0,s.j4)(i,{"withdrawal-methods":r.withdrawalMethods,"is-withdrawal-methods-fetched":r.isWithdrawalMethodsFetched,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:a.id,item:a},null,8,["withdrawal-methods","is-withdrawal-methods-fetched","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Gbt,tvt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",evt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",rvt,[(0,s._)("div",avt,[svt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},ivt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",wvt,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const dvt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},cvt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},uvt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},pvt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},gvt=["disabled"],mvt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),hvt=(0,s._)("span",null," previous ",-1),fvt=[mvt,hvt],bvt=["disabled"],vvt=(0,s._)("span",null," Next ",-1),xvt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),yvt=[vvt,xvt];function _vt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",dvt,[(0,s._)("div",cvt,[(0,s.Uk)(" Page "),(0,s._)("span",uvt,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",pvt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},fvt,10,gvt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},yvt,10,bvt)])])])}var kvt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Cvt=(0,m.Z)(kvt,[["render",_vt]]);var Dvt=Cvt;const Svt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-w-fit"},zvt={key:1,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Uvt={key:0,class:"tw-flex tw-items-center tw-gap-2"},qvt=(0,s._)("div",{title:"Delivery",class:"tw-text-sm tw-w-[24px] tw-rounded tw-aspect-square tw-bg-cyan-100 tw-text-cyan-500 tw-flex tw-items-center tw-justify-center"}," D ",-1),Pvt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Lvt={key:1,class:"tw-flex tw-items-center tw-gap-2"},Wvt=(0,s._)("div",{title:"Seller",class:"tw-text-sm tw-w-[24px] tw-rounded tw-aspect-square tw-bg-orange-100 tw-text-orange-500 tw-flex tw-items-center tw-justify-center"}," S ",-1),Avt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},$vt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Evt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-text-center tw-font-[cairo]"},Tvt={key:0},Fvt={key:1},jvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ivt={class:"tw-text-emerald-500 tw-text-end tw-font-semibold darkx:tw-text-white tw-font-[cairo]"},Vvt={key:0},Ovt={key:1},Hvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Mvt={key:0},Rvt={key:0},Nvt={key:1},Yvt={key:2,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Zvt={key:0,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-blue-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},Kvt={key:1,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-yellow-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},Bvt={key:2,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-emerald-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},Qvt={class:"tw-px-8 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Jvt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Gvt={key:0},Xvt={key:0},txt={key:1},ext={class:"tw-px-8 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},rxt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},axt={key:0},sxt={key:0},lxt={key:1},oxt={key:3,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ixt={key:4,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},wxt={key:0},nxt={key:6,class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function dxt(t,e,r,a,l,o){const i=(0,s.up)("PdfFactorisation"),w=(0,s.up)("WithdrawalMethodSeller"),n=(0,s.up)("WithdrawalMethodAdmin"),d=(0,s.up)("CloseFactorisation"),c=(0,s.up)("PaidFactorisation"),u=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Svt,[(0,s._)("div",null,[(0,s.Wm)(i,{item:r.item},null,8,["item"])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",zvt,["delivery"==r.item.type?((0,s.wg)(),(0,s.iD)("div",Uvt,[qvt,(0,s._)("h2",Pvt,(0,wt.zw)(r.item.delivery.firstname)+" "+(0,wt.zw)(r.item.delivery.lastname),1)])):(0,s.kq)("",!0),"seller"==r.item.type?((0,s.wg)(),(0,s.iD)("div",Lvt,[Wvt,(0,s._)("h2",Avt,(0,wt.zw)(r.item.seller.firstname)+" "+(0,wt.zw)(r.item.seller.lastname),1)])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("td",$vt,[(0,s._)("div",null,[(0,s._)("h2",Evt,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",Tvt,(0,wt.zw)(r.item.seller_order_count),1)):((0,s.wg)(),(0,s.iD)("span",Fvt,(0,wt.zw)(r.item.delivery_order_count),1))])])]),(0,s._)("td",jvt,[(0,s._)("div",null,[(0,s._)("h2",Ivt,[(0,s.Uk)((0,wt.zw)(l.currency)+" ",1),"seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",Vvt,(0,wt.zw)(r.item.seller_order_price),1)):((0,s.wg)(),(0,s.iD)("span",Ovt,(0,wt.zw)(r.item.delivery_order_price),1))])])]),(0,s._)("td",Hvt,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("div",Mvt,["seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",Rvt,[(0,s.Wm)(w,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),factorisation:r.item,"withdrawal-methods":r.withdrawalMethods,"is-withdrawal-methods-fetched":r.isWithdrawalMethodsFetched},null,8,["factorisation","withdrawal-methods","is-withdrawal-methods-fetched"])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",Nvt,[(0,s.Wm)(n,{factorisation:r.item,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["factorisation"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Yvt,[(0,s._)("div",null,[r.item.close||r.item.paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Zvt," Active ")),r.item.close&&!r.item.paid?((0,s.wg)(),(0,s.iD)("div",Kvt," Prending ")):(0,s.kq)("",!0),r.item.close&&r.item.paid?((0,s.wg)(),(0,s.iD)("div",Bvt," Paid ")):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",Qvt,[(0,s._)("div",null,[(0,s._)("h2",Jvt,[r.item.close_at?((0,s.wg)(),(0,s.iD)("span",Gvt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.close_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",Xvt,(0,wt.zw)(l.moment(r.item.close_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",txt," - "))])])]),(0,s._)("td",ext,[(0,s._)("div",null,[(0,s._)("h2",rxt,[r.item.paid_at?((0,s.wg)(),(0,s.iD)("span",axt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.paid_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",sxt,(0,wt.zw)(l.moment(r.item.paid_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",lxt," - "))])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",oxt,[(0,s._)("div",null,[((0,s.wg)(),(0,s.j4)(d,{item:r.item,key:r.item.id,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["item"]))])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",ixt,[r.item.close?((0,s.wg)(),(0,s.iD)("div",wxt,[((0,s.wg)(),(0,s.j4)(c,{item:r.item,key:r.item.id,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e))},null,8,["item"]))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",nxt,[(0,s._)("div",null,[(0,s.Wm)(u,{onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])):(0,s.kq)("",!0)])}const cxt={class:"tw-h-full"},uxt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-end tw-relative"},pxt={key:0,class:"tw-absolute tw-right-0 tw-z-10"},gxt={class:"tw-absolute tw-top-1/2 -tw-translate-y-1/2 tw-right-10 tw-bg-white tw-border tw-border-solid tw-p-2 tw-rounded tw-flex tw-items-center tw-gap-2"},mxt=["href"],hxt={key:0},fxt={key:1},bxt={key:2},vxt={key:3};function xxt(t,e,r,l,o,i){const w=(0,s.up)("icon"),n=(0,s.up)("TableActionsUploadImage"),d=(0,s.up)("CommentFactorisation"),c=(0,s.up)("UpdateFactorisation"),u=(0,s.up)("UpdateFees"),p=(0,s.up)("FactorisationHistory");return(0,s.wg)(),(0,s.iD)("div",cxt,[(0,s._)("div",uxt,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-x-[10px]  tw-opacity-0","leave-to-class":"tw-translate-x-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[o.visible?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",pxt,[(0,s._)("div",gxt,["admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show history",onClick:e[0]||(e[0]=t=>o.HistoryPopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-teal-100 hover:tw-border-teal-400 tw-bg-teal-50/10 hover:tw-bg-teal-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"uim:history",class:"tw-text-xl tw-text-teal-500"})])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("a",{key:1,title:"Download Excel File",target:"_blank",href:o.serverUrl+"api/export/factorisations/"+r.item.factorisation_id,class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-green-100 hover:tw-border-green-400 tw-bg-green-50/10 hover:tw-bg-green-200 tw-duration-200"},[(0,s.Wm)(w,{icon:"vscode-icons:file-type-excel",class:"tw-text-xl"})],8,mxt)):(0,s.kq)("",!0),(t.$user.role,(0,s.kq)("",!0)),(t.$user.role,(0,s.kq)("",!0)),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:4,title:"Delete",onClick:e[3]||(e[3]=t=>o.DeletePopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-rose-100 hover:tw-border-rose-400 tw-bg-rose-50/10 hover:tw-bg-rose-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"solar:trash-bin-trash-bold-duotone",class:"tw-text-xl tw-text-rose-500"})])):(0,s.kq)("",!0)])])),[[ie.L,()=>o.visible=!1]]):(0,s.kq)("",!0)])),_:1}),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Add fees",onClick:e[4]||(e[4]=t=>o.FeesPopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-emerald-100 hover:tw-border-emerald-400 tw-bg-emerald-50/10 hover:tw-bg-emerald-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"solar:bill-list-bold-duotone",class:"tw-text-xl tw-text-emerald-500"})])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(n,{title:"Upload image",onUpdate:e[5]||(e[5]=e=>t.$emit("update",e)),key:r.item.id,item:r.item},null,8,["item"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[6]||(e[6]=t=>o.visible=!o.visible),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-gray-100 hover:tw-border-gray-400 tw-bg-gray-50/10 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(w,{icon:o.visible?"iconamoon:close-duotone":"solar:menu-dots-bold",class:"tw-text-xl tw-text-gray-500"},null,8,["icon"])])):(0,s.kq)("",!0),(0,s.kq)("",!0)]),o.CommentPopup?((0,s.wg)(),(0,s.iD)("div",hxt,[((0,s.wg)(),(0,s.j4)(d,{onUpdate:e[11]||(e[11]=e=>t.$emit("update",e)),visible:o.CommentPopup,"onUpdate:visible":e[12]||(e[12]=t=>o.CommentPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.popup?((0,s.wg)(),(0,s.iD)("div",fxt,[((0,s.wg)(),(0,s.j4)(c,{onUpdate:e[13]||(e[13]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[14]||(e[14]=t=>o.popup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.FeesPopup?((0,s.wg)(),(0,s.iD)("div",bxt,[((0,s.wg)(),(0,s.j4)(u,{onUpdate:e[15]||(e[15]=e=>t.$emit("update",e)),visible:o.FeesPopup,"onUpdate:visible":e[16]||(e[16]=t=>o.FeesPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.HistoryPopup?((0,s.wg)(),(0,s.iD)("div",vxt,[(0,s.Wm)(p,{visible:o.HistoryPopup,"onUpdate:visible":e[17]||(e[17]=t=>o.HistoryPopup=t),factorisation:r.item},null,8,["visible","factorisation"])])):(0,s.kq)("",!0)])}const yxt={key:0},_xt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},kxt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Cxt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Dxt={class:"tw-w-full tw-col-span-6"},Sxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),zxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Uxt={class:"tw-w-full tw-col-span-6"},qxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Pxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lxt={class:"tw-w-full tw-col-span-12"},Wxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),Axt=["error"],$xt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ext={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Txt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Fxt=(0,s._)("span",{class:"text-white"}," Update ",-1);function jxt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return o.itemCopy?((0,s.wg)(),(0,s.iD)("div",yxt,[(0,s.Wm)(w,{onCancel:e[7]||(e[7]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",_xt,[kxt,(0,s._)("div",Cxt,[(0,s._)("div",Dxt,[Sxt,(0,s.Wm)(ut.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.itemCopy.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.itemCopy.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",zxt,(0,wt.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Uxt,[qxt,(0,s.Wm)(ut.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.itemCopy.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.itemCopy.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Pxt,(0,wt.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",Lxt,[Wxt,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.itemCopy.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",40,Axt),[[a.nr,o.itemCopy.comment]]),(0,s._)("div",$xt,(0,wt.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Ext,[(0,s.Wm)(nt.T,{onClick:e[6]||(e[6]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Txt])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Fxt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Ixt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ye.updateComment(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=$t(this.itemCopy.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const Vxt=(0,m.Z)(Ixt,[["render",jxt]]);var Oxt=Vxt;const Hxt={key:0},Mxt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Rxt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),Nxt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Yxt={class:"tw-w-full tw-col-span-6"},Zxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Kxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Bxt={class:"tw-w-full tw-col-span-6"},Qxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Jxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Gxt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Xxt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),tyt=(0,s._)("span",{class:"text-white"}," Update ",-1);function eyt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",Hxt,[(0,s.Wm)(i,{onCancel:e[5]||(e[5]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Mxt,[Rxt,(0,s._)("div",Nxt,[(0,s._)("div",Yxt,[Zxt,(0,s.Wm)(ut.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.itemCopy.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.itemCopy.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Kxt,(0,wt.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",Bxt,[Qxt,(0,s.Wm)(ut.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Jxt,(0,wt.zw)(l.formStatus.delivery_id.message),1)])]),(0,s._)("div",Gxt,[(0,s.Wm)(nt.T,{onClick:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Xxt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[tyt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var ryt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.itemCopy.delivery.firstname+" "+this.itemCopy.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ye.update(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=$t(this.itemCopy.factorisation_id,"Factorisation Code"),this.formStatus.factorisation_id.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const ayt=(0,m.Z)(ryt,[["render",eyt]]);var syt=ayt;const lyt={key:0},oyt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},iyt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),wyt={class:"tw-w-full tw-col-span-6"},nyt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),dyt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},cyt={class:"tw-w-full tw-col-span-6"},uyt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),pyt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gyt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},myt=["onClick"],hyt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),fyt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},byt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),vyt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},xyt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),yyt=(0,s._)("span",{class:"text-white"}," Update ",-1);function _yt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",lyt,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",oyt,[iyt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",wyt,[nyt,(0,s.Wm)(ut.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",dyt,(0,wt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",cyt,[uyt,(0,s.Wm)(ut.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",pyt,(0,wt.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",gyt,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),hyt],8,myt)])])])))),128)),(0,s._)("div",fyt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),byt])]),(0,s._)("div",vyt,[(0,s.Wm)(nt.T,{onClick:e[3]||(e[3]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[xyt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[yyt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var kyt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Ye.updateFees(this.itemCopy.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$emit("update",this.itemCopy),this.$emit("update:visible",!1)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.fees=this.itemCopy.fees??[]}};const Cyt=(0,m.Z)(kyt,[["render",_yt]]);var Dyt=Cyt;const Syt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-3 tw-h-3 tw-bg-neutral-100 tw-rounded-full -tw-left-1.5 tw-translate-y-1.5 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),zyt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},Uyt={class:"tw-text-gray-500 tw-flex tw-items-center tw-gap-2 tw-mb-2"},qyt={class:"tw-text-black tw-font-semibold tw-capitalize"},Pyt={class:"tw-uppercase tw-text-xs"},Lyt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600 tw-w-full"},Wyt={key:0,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},Ayt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},$yt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},Eyt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},Tyt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},Fyt={key:1,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},jyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},Iyt={class:"tw-font-semibold tw-text-emerald-600 dark:tw-text-emerald-500 hover:tw-underline"},Vyt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-cyan-100 dark:tw-text-cyan-500"},Oyt={key:2,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},Hyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},Myt={class:"tw-font-semibold tw-text-emerald-600 dark:tw-text-emerald-500 hover:tw-underline"},Ryt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-cyan-100 dark:tw-text-cyan-500"};var Nyt={__name:"FactorisationHistoryForFee",props:["history"],setup(t){const e=["event","factorisation_fee:factorisation_id","factorisation_fee:id"],r=t,a=(0,ke.Vh)(r,"history"),l=(0,ke.iH)(a.value.fields.find((t=>"event"==t.field))),o=(0,ke.iH)(a.value.fields.find((t=>"factorisation_fee:fee"==t.field)));console.log(a.value),console.log(o.value);const i={"factorisation_fee:feeprice":"Amount"},w={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}};return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[Syt,(0,s._)("div",zyt,[(0,s._)("p",Uyt,[(0,s._)("span",qyt,(0,wt.zw)(a.value.action_by),1),(0,s._)("span",Pyt,"*"+(0,wt.zw)(l.value.new_value)+" FEE*",1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:r[0]||(r[0]=t=>a.value.isHovering=!0),onMouseleave:r[1]||(r[1]=t=>a.value.isHovering=!1)},(0,wt.zw)(a.value.isHovering?(0,ke.SU)(ze())(a.value.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ke.SU)(ze())(a.value.created_at).fromNow()),33)]),(0,s._)("div",Lyt,["updated"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",Wyt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value.fields.filter((t=>!e.includes(t.field))),(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[[].includes(t.field)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ayt,[(0,s.Uk)("Changed "),(0,s._)("span",$yt,(0,wt.zw)(i[t.field]??t.field),1),(0,s.Uk)(" from "),(0,s._)("span",Eyt,(0,wt.zw)(t.field in w?w[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",Tyt,(0,wt.zw)(t.field in w?w[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])):(0,s.kq)("",!0),"created"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",Fyt,[(0,s._)("div",jyt,[(0,s.Uk)("Added "),(0,s._)("span",Iyt,(0,wt.zw)(a.value.fields.find((t=>"factorisation_fee:feeprice"==t.field))?.new_value)+(0,wt.zw)((0,ke.SU)(c)),1),(0,s.Uk)(" fee for "),(0,s._)("span",Vyt,(0,wt.zw)(a.value.fields.find((t=>"factorisation_fee:feename"==t.field))?.new_value),1)])])):(0,s.kq)("",!0),"deleted"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",Oyt,[(0,s._)("div",Hyt,[(0,s.Uk)("Deleted "),(0,s._)("span",Myt,(0,wt.zw)(o.value.new_value.feeprice)+(0,wt.zw)((0,ke.SU)(c)),1),(0,s.Uk)(" fee for "),(0,s._)("span",Ryt,(0,wt.zw)(o.value.new_value.feename),1)])])):(0,s.kq)("",!0)])]))}};const Yyt=Nyt;var Zyt=Yyt;const Kyt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Byt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},Qyt=(0,s._)("span",null,"History",-1),Jyt={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},Gyt={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},Xyt={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},t_t={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},e_t={key:1},r_t=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-3 tw-h-3 tw-bg-neutral-100 tw-rounded-full -tw-left-1.5 tw-translate-y-1.5 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),a_t={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},s_t={class:"tw-text-gray-500"},l_t={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},o_t=["onMouseenter","onMouseleave"],i_t={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600 tw-w-full"},w_t={class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},n_t={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},d_t={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},c_t={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},u_t={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},p_t={key:1,class:"tw-w-full"},g_t=(0,s._)("div",{class:"tw-items-center tw-justify-between sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300 tw-mb-2"},"Uploaded:")],-1),m_t={class:"tw-mx-auto tw-rounded tw-bg-gray-100 tw-overflow-hidden tw-flex tw-items-center tw-justify-center tw-border tw-border-solid tw-border-neutral-200 tw-relative"},h_t=["src"],f_t={class:"tw-absolute tw-bottom-4 tw-right-4 tw-flex tw-items-center tw-gap-2"},b_t=["href"],v_t=(0,s._)("span",null,"View",-1),x_t={key:2,class:"tw-w-full"},y_t={class:"tw-items-center tw-justify-between sm:tw-flex"},__t={class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},k_t={key:3,class:"tw-w-full"},C_t={class:"tw-items-center tw-justify-between sm:tw-flex"},D_t={class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},S_t={key:4,class:"tw-w-full tw-order-[10]"},z_t={class:"tw-items-center tw-justify-between sm:tw-flex"},U_t={class:"tw-text-sm tw-font-normal tw-text-gray-500 tw-mb-3 dark:tw-text-gray-300"},q_t={class:"tw-flex tw-flex-col"},P_t={class:"tw-border-b-0 tw-border tw-border-solid tw-border-neutral-200 tw-bg-neutral-800 tw-text-white tw-grid tw-grid-cols-12 tw-divide-x"},L_t=(0,s._)("div",{class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},"ID",-1),W_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-xs"},"CONFIRMATION",-1),A_t=(0,s._)("div",{class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},"DELIVERY",-1),$_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-xs"},"DELIVERED AT",-1),E_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},T_t={class:"tw-border tw-border-solid tw-border-neutral-200 tw-grid tw-grid-cols-12 tw-divide-x"},F_t={class:"tw-col-span-2 tw-py-1 tw-px-2 tw-font-bold"},j_t={class:"tw-col-span-3 tw-py-1 tw-px-2"},I_t={class:"tw-col-span-2 tw-py-1 tw-px-2"},V_t={class:"tw-col-span-3 tw-py-1 tw-px-2 tw-text-center"},O_t={class:"tw-col-span-2 tw-py-1 tw-px-2 tw-font-medium tw-text-end"},H_t={class:"tw-text-black tw-grid tw-grid-cols-12"},M_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),R_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"SHIPPING FEES",-1),N_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},Y_t={class:"tw-text-black tw-grid tw-grid-cols-12"},Z_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),K_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"COD FEES",-1),B_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},Q_t={class:"tw-text-black tw-grid tw-grid-cols-12"},J_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),G_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"OTHER FEES",-1),X_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},tkt={class:"tw-text-black tw-grid tw-grid-cols-12"},ekt=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),rkt=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-end tw-font-bold tw-text-lg tw-text-emerald-600"},"TOTAL",-1),akt={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-lg tw-font-bold tw-text-emerald-600 tw-text-end"},skt={key:5,class:"tw-w-full"},lkt={class:"tw-items-center tw-justify-between sm:tw-flex"},okt=(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300 tw-mb-3"},"Withdrawal Details:",-1),ikt={key:0,class:"tw-flex tw-items-center tw-gap-2"},wkt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),nkt={key:1,class:"tw-flex tw-items-center tw-gap-2"},dkt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),ckt={key:0,class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var ukt={__name:"FactorisationHistory",props:["visible","factorisation"],emits:["update:visible"],setup(t,{emit:e}){const r=["commands_number","type","price","paid_at","amount_paid","close_at","total_cod_fees","total_shipping_fees","total_other_fees","commands_number","price"],a=(0,s.Fl)((()=>jn.reduce(((t,e)=>(t[e.value]=e.name,t)),{}))),l=(0,s.Fl)((()=>Hn.reduce(((t,e)=>(t[e.value]=e.name,t)),{}))),o={user_id:"Seller ID",factorisation_id:"ID",delivery_id:"Delivery ID",close:"Close",paid:"Paid",commands_number:"Order's number",type:"Type",price:"Amount",close_at:"Closed at",paid_at:"Paid at",comment:"Comment",note:"Note",withdrawal_method_id:"Withdrawal Method ID",attachement_image:"Attachement",orders:"Orders",withdrawal_method_details:"Withdrawal Details"},i={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}},w=t,n=e,d=(0,ke.Vh)(w,"visible"),u=(0,ke.Vh)(w,"factorisation"),p=(0,ke.iH)(!0),g=(0,ke.iH)([!0]),m=async()=>{p.value=!0,await Ye.history(u.value.id).then((t=>{"SUCCESS"==t.data.code&&(g.value=t.data.data.history.filter((t=>t.fields.every((t=>!["commands_number","price"].includes(t.field))))),g.value.reverse())})),p.value=!1};return m(),(t,e)=>{const w=(0,s.up)("icon"),u=(0,s.up)("loading"),m=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(m,{visible:d.value,onCancel:e[1]||(e[1]=t=>n("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",Kyt,[(0,s._)("div",Byt,[Qyt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>n("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(w,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),p.value?((0,s.wg)(),(0,s.iD)("div",Jyt,[(0,s.Wm)(u)])):(0,s.kq)("",!0),p.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Gyt,[g.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",Xyt,"There is no history for this invoice yet.")),g.value.length?((0,s.wg)(),(0,s.iD)("ol",t_t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.value,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id,class:"tw-mb-10 tw-mx-6"},[e.fields.some((t=>t.field.includes("factorisation_fee:")))?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Zyt),{key:0,history:e},null,8,["history"])):((0,s.wg)(),(0,s.iD)("div",e_t,[r_t,(0,s._)("div",a_t,[(0,s._)("p",s_t,[(0,s._)("span",l_t,(0,wt.zw)(e.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:t=>e.isHovering=!0,onMouseleave:t=>e.isHovering=!1},(0,wt.zw)(e.isHovering?(0,ke.SU)(ze())(e.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ke.SU)(ze())(e.created_at).fromNow()),41,o_t)]),(0,s._)("div",i_t,[(0,s._)("div",w_t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.fields.filter((t=>!r.includes(t.field))),(r=>((0,s.wg)(),(0,s.iD)(s.HY,{key:r.field},[["attachement_image","withdrawal_method_details","orders","paid","close"].includes(r.field)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",n_t,[(0,s.Uk)("Changed "),(0,s._)("span",d_t,(0,wt.zw)(o[r.field]??r.field),1),(0,s.Uk)(" from "),(0,s._)("span",c_t,(0,wt.zw)(r.field in i?i[r.field][r.old_value]:r.old_value),1),(0,s.Uk)("to "),(0,s._)("span",u_t,(0,wt.zw)(r.field in i?i[r.field][r.new_value]:r.new_value),1)])),"attachement_image"==r.field&&r.new_value?((0,s.wg)(),(0,s.iD)("div",p_t,[g_t,(0,s._)("div",m_t,[(0,s._)("img",{class:"tw-w-full tw-h-auto tw-max-w-[300px] tw-max-h-[300px] tw-object-contain",src:t.$backend(r.new_value.startsWith("/")?r.new_value.substring(1):r.new_value)},null,8,h_t),(0,s._)("div",f_t,[(0,s._)("a",{target:"_blank",href:t.$backend(r.new_value.startsWith("/")?r.new_value.substring(1):r.new_value),class:"tw-px-2 tw-py-1 tw-flex tw-items-center tw-gap-2 tw-rounded tw-bg-green-500 tw-text-white"},[(0,s.Wm)(w,{icon:"carbon:view-filled",class:"tw-text-white tw-text-2xl"}),v_t],8,b_t)])])])):(0,s.kq)("",!0),"paid"==r.field?((0,s.wg)(),(0,s.iD)("div",x_t,[(0,s._)("div",y_t,[(0,s._)("div",__t,[(0,s.Uk)("Marked this invoice as "),(0,s._)("span",{class:(0,wt.C_)([[r.new_value?"tw-text-green-600 tw-bg-green-50":"tw-text-amber-600 tw-bg-amber-50"],"tw-px-2 tw-py-0.5"])},(0,wt.zw)(r.new_value?"PAID":"UNPAID"),3)])])])):(0,s.kq)("",!0),"close"==r.field?((0,s.wg)(),(0,s.iD)("div",k_t,[(0,s._)("div",C_t,[(0,s._)("div",D_t,[(0,s.Uk)("Marked this invoice as "),(0,s._)("span",{class:(0,wt.C_)([[r.new_value?"tw-text-rose-600 tw-bg-rose-50":"tw-text-green-600 tw-bg-green-50"],"tw-px-2 tw-py-0.5"])},(0,wt.zw)(r.new_value?"CLOSED":"OPEN"),3)])])])):(0,s.kq)("",!0),"orders"==r.field?((0,s.wg)(),(0,s.iD)("div",S_t,[(0,s._)("div",z_t,[(0,s._)("div",U_t,"Orders: ("+(0,wt.zw)(r.new_value.length)+")",1),(0,s.kq)("",!0)]),(0,s._)("div",q_t,[(0,s._)("div",P_t,[L_t,W_t,A_t,$_t,(0,s._)("div",E_t,"PRICE ("+(0,wt.zw)((0,ke.SU)(c))+")",1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.new_value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:""},[(0,s._)("div",T_t,[(0,s._)("div",F_t,(0,wt.zw)(t.id),1),(0,s._)("div",j_t,(0,wt.zw)(a.value[t.confirmation]??null),1),(0,s._)("div",I_t,(0,wt.zw)(l.value[t.delivery]),1),(0,s._)("div",V_t,(0,wt.zw)(t.delivery_date?.split("T")[0]??t.delivery_date),1),(0,s._)("div",O_t,(0,wt.zw)(t.price),1)])])))),128)),(0,s._)("div",H_t,[M_t,R_t,(0,s._)("div",N_t,(0,wt.zw)(e.fields.find((t=>"total_shipping_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",Y_t,[Z_t,K_t,(0,s._)("div",B_t,(0,wt.zw)(e.fields.find((t=>"total_cod_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",Q_t,[J_t,G_t,(0,s._)("div",X_t,(0,wt.zw)(e.fields.find((t=>"total_other_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",tkt,[ekt,rkt,(0,s._)("div",akt,(0,wt.zw)((0,ke.SU)(c))+(0,wt.zw)(e.fields.find((t=>"amount_paid"==t.field))?.new_value??0),1)])])])):(0,s.kq)("",!0),"withdrawal_method_details"==r.field?((0,s.wg)(),(0,s.iD)("div",skt,[(0,s._)("div",lkt,[okt,"bank_transfer"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",ikt,[(0,s.Wm)(w,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),wkt])):(0,s.kq)("",!0),"binance"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",nkt,[(0,s.Wm)(w,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),dkt])):(0,s.kq)("",!0)]),"binance"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",ckt,(0,wt.zw)(r.new_value.metadata.binance_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)))),128))])])]))])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const pkt=ukt;var gkt=pkt;const mkt={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},hkt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},fkt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Upload image ",-1),bkt={class:"tw-p-5"},vkt=["id"],xkt={class:"tw-text-center tw-flex tw-items-center tw-justify-center tw-flex-col tw-gap-5"},ykt=(0,s._)("p",null,"Click to upload",-1),_kt={key:0,class:"tw-absolute tw-h-full tw-w-full tw-left-0 tw-top-0 tw-bg-white tw-flex tw-items-center tw-justify-center"},kkt=["src"],Ckt={key:1,class:"tw-absolute tw-h-full tw-w-full tw-left-0 tw-top-0 tw-bg-white tw-flex tw-items-center tw-justify-center"},Dkt=["src"],Skt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},zkt=["disabled"],Ukt=["disabled"],qkt=(0,s._)("span",null,"Save",-1);var Pkt={__name:"TableActionsUploadImage",props:["item"],emits:["update"],setup(t,{emit:e}){const r=(0,ke.iH)(!1),a=(0,ke.iH)(!1),l=(0,ke.iH)(null),o=t,i=e,w=(0,ke.iH)(""),n=async()=>{if(!l.value)return Tc("Add image to update","warning"),!1;a.value=!0;try{const t=new FormData;t.append("image",l.value);const e=await Ye.uploadImage(o.item.id,t);if(console.log(e.data),"SUCCESS"==e.data.code){const t={...o.item,attachement_image:e.data.factorisation.attachement_image};i("update",t),Tc("Image attachement updated"),r.value=!1}}catch(t){console.error("Error uploading image:",t)}a.value=!1},d=()=>{document.getElementById("invoice-image-"+o.item.id).click()},c=t=>{t.target.files.length<=0||(l.value=t.target.files[0],w.value=URL.createObjectURL(l.value))};return(t,e)=>{const l=(0,s.up)("icon"),i=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-fuchsia-100 hover:tw-border-fuchsia-400 tw-bg-fuchsia-50/10 hover:tw-bg-fuchsia-100 tw-duration-200"},[(0,s.Wm)(l,{icon:"uim:image-v",class:"tw-text-xl tw-text-fuchsia-500"})]),(0,s.Wm)(i,{visible:r.value,onCancel:e[2]||(e[2]=t=>r.value=!1),closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",mkt,[(0,s._)("div",hkt,[fkt,(0,s._)("div",bkt,[(0,s._)("input",{onChange:c,ref:"image-field",type:"file",name:"image",id:"invoice-image-"+o.item.id,class:"tw-invisible"},null,40,vkt),(0,s._)("div",{role:"button",onClick:d,class:"tw-relative tw-min-h-[350px] tw-w-full tw-cursor-pointer tw-border tw-border-dashed hover:tw-border-orange-400 tw-duration-200 tw-rounded tw-flex tw-overflow-hidden tw-items-center tw-justify-center"},[(0,s._)("div",xkt,[(0,s.Wm)(l,{icon:"ep:upload-filled",class:"tw-text-7xl tw-text-neutral-500"}),ykt,o.item.attachement_image&&!w.value?((0,s.wg)(),(0,s.iD)("div",_kt,[(0,s._)("img",{class:"tw-w-full tw-h-full tw-object-contain",src:t.$backend(o.item.attachement_image.startsWith("/")?o.item.attachement_image.substring(1):o.item.attachement_image)},null,8,kkt)])):(0,s.kq)("",!0),w.value?((0,s.wg)(),(0,s.iD)("div",Ckt,[(0,s._)("img",{class:"tw-w-full tw-h-full tw-object-contain",src:w.value},null,8,Dkt)])):(0,s.kq)("",!0),(0,s.kq)("",!0)])])]),(0,s._)("div",Skt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),disabled:a.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,zkt),(0,s._)("button",{disabled:a.value,onClick:n,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[a.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),qkt],8,Ukt)])])])])),_:1},8,["visible","closeable"])])}}};const Lkt=Pkt;var Wkt=Lkt,Akt={components:{CommentFactorisation:Oxt,UpdateFactorisation:syt,UpdateFees:Dyt,TableActionsUploadImage:Wkt,FactorisationHistory:gkt},props:{item:{required:!0}},data(){return{CommentPopup:!1,HistoryPopup:!1,popup:!1,DeletePopup:!1,FeesPopup:!1,isLoading:!1,visible:!1,serverUrl:n}},computed:{},methods:{}};const $kt=(0,m.Z)(Akt,[["render",xxt]]);var Ekt=$kt;const Tkt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Fkt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},jkt=["disabled"],Ikt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function Vkt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",Tkt,[(0,s._)("label",Fkt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[0]||(e[0]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,jkt),[[a.e8,i.close]]),Ikt]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var Okt={props:{item:{required:!0}},data(){return{isLoadingClose:!1}},computed:{close:{get(){return this.item.close},set(t){this.updateClose(t)}}},methods:{updateClose(t){this.isLoadingClose=!0,Ye.updateClose(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))}}};const Hkt=(0,m.Z)(Okt,[["render",Vkt]]);var Mkt=Hkt;const Rkt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Nkt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Ykt=["disabled"],Zkt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function Kkt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",Rkt,[(0,s._)("label",Nkt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[0]||(e[0]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Ykt),[[a.e8,i.paid]]),Zkt]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var Bkt={props:{item:{required:!0}},data(){return{isLoadingPaid:!1}},computed:{paid:{get(){return this.item.paid},set(t){this.updatePaid(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Ye.updatePaid(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))}}};const Qkt=(0,m.Z)(Bkt,[["render",Kkt]]);var Jkt=Qkt;const Gkt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Xkt={class:"tw-text-gray-700"},tCt=["href"];function eCt(t,e,r,a,l,o){const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("h2",Gkt,[(0,s._)("span",Xkt,(0,wt.zw)(r.item.factorisation_id),1),(0,s._)("button",{class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-shadowx tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5",onClick:e[0]||(e[0]=t=>o.download(r.item.id))},[(0,s.Wm)(i,{icon:"ci:arrow-down-sm",class:"tw-text-xl"})]),r.item.close&&r.item.paid&!!r.item.attachement_image?((0,s.wg)(),(0,s.iD)("a",{key:0,target:"_blank",href:t.$backend(r.item.attachement_image.startsWith("/")?r.item.attachement_image.substring(1):r.item.attachement_image),class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-border-cyan-200 tw-shadowx tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5"},[(0,s.Wm)(i,{icon:"uim:image-v",class:"tw-text-xl tw-text-cyan-400"})],8,tCt)):(0,s.kq)("",!0)])}var rCt={props:{item:{required:!0}},methods:{download(t){const e=n+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const aCt=(0,m.Z)(rCt,[["render",eCt]]);var sCt=aCt;const lCt={class:"tw-px-4"},oCt=["disabled"],iCt={key:0,class:"tw-flex tw-items-center tw-gap-2"},wCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Not Specified",-1),nCt=[wCt],dCt={key:0,class:"tw-flex tw-items-center tw-gap-2"},cCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),uCt={key:1,class:"tw-flex tw-items-center tw-gap-2"},pCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),gCt={key:2,class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-shadow tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5"},mCt={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},hCt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},fCt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Switch payment method ",-1),bCt={key:0,class:"tw-p-5 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5"},vCt=["onClick"],xCt={key:0,class:"tw-"},yCt={class:"tw-flex tw-items-center tw-gap-3"},_Ct=(0,s._)("h1",{class:"tw-text-lg tw-font-bold"},"Bank Transfer",-1),kCt={key:1},CCt={class:"tw-flex tw-items-center tw-gap-3"},DCt=(0,s._)("h1",{class:"tw-text-lg tw-font-bold"},"Binance",-1),SCt={key:1,class:"tw-p-5 tw-text-center"},zCt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},UCt=["disabled"],qCt=["disabled"],PCt=(0,s._)("span",null,"Save",-1);var LCt={__name:"WithdrawalMethodSeller",props:["factorisation","withdrawalMethods","isWithdrawalMethodsFetched"],emits:["update"],setup(t,{emit:e}){const r=(0,ke.iH)(!1),a=(0,ke.iH)(!1),l=e,o=t,i=(0,ke.iH)(null),w=(0,ke.Vh)(o,"factorisation"),n=(0,ke.Vh)(o,"withdrawalMethods"),d=(0,ke.Vh)(o,"isWithdrawalMethodsFetched");i.value=w.value.withdrawal_method_id;const c=async()=>{w.value.withdrawal_method_id!=i.value&&(r.value=!0,await Ye.updateMethod(w.value.id,i.value).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.factorisation;l("update",e),Tc("Withdrawal method has been updated"),a.value=!1}}),(t=>{Tc("NOT_ALLOWED"==t?.response?.data?.code?t?.response?.data?.message:"Something went wrong!","error")})),r.value=!1)},u=t=>{i.value=t.id};return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("router-link"),p=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",lCt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>w.value.paid?"":a.value=!a.value),disabled:w.value.paid,class:"tw-rounded tw-flex tw-justify-between tw-items-center tw-gap-2 tw-overflow-hidden"},[w.value.withdrawal_method?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["bank_transfer"==w.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",dCt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),cCt])):(0,s.kq)("",!0),"binance"==w.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",uCt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),pCt])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("div",iCt,nCt)),w.value.paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",gCt,[(0,s.Wm)(l,{icon:"uil:exchange",class:"tw-text-xl"})]))],8,oCt),(0,s.Wm)(p,{visible:a.value,closeable:!1,onCancel:e[2]||(e[2]=t=>a.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",mCt,[(0,s._)("div",hCt,[fCt,d.value&&n.value.length?((0,s.wg)(),(0,s.iD)("div",bCt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.value,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>u(t),key:t.id,class:(0,wt.C_)([i.value==t.id&&["!tw-border-orange-300 tw-ring tw-ring-orange-300"],"tw-border tw-flex tw-items-center tw-justify-center tw-border-solid tw-rounded tw-shadow tw-bg-white tw-p-5"])},["bank_transfer"==t.type?((0,s.wg)(),(0,s.iD)("div",xCt,[(0,s._)("div",yCt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-3xl tw-text-gray-600"}),_Ct])])):(0,s.kq)("",!0),"binance"==t.type?((0,s.wg)(),(0,s.iD)("div",kCt,[(0,s._)("div",CCt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-3xl tw-text-[#F3BA2F]"}),DCt])])):(0,s.kq)("",!0)],10,vCt)))),128))])):((0,s.wg)(),(0,s.iD)("div",SCt,[(0,s._)("p",null,[(0,s.Uk)("You haven't added any withdrawal method yet. Click "),(0,s.Wm)(o,{to:{name:"settings.seller.withdrawal-methods"},class:"tw-text-orange-500 hover:tw-underline"},{default:(0,s.w5)((()=>[(0,s.Uk)("here")])),_:1}),(0,s.Uk)(" to add a withdrawal method and manage your funds")])])),(0,s._)("div",zCt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>a.value=!1),disabled:r.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,UCt),(0,s._)("button",{disabled:r.value,onClick:c,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),PCt],8,qCt)])])])])),_:1},8,["visible"])])}}};const WCt=LCt;var ACt=WCt;const $Ct={class:"tw-px-4 tw-mx-auto"},ECt={key:0,class:"tw-flex tw-items-center tw-gap-2"},TCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Not Specified",-1),FCt=[TCt],jCt={key:0,class:"tw-flex tw-items-center tw-gap-2"},ICt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),VCt={key:1,class:"tw-flex tw-items-center tw-gap-2"},OCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),HCt={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},MCt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},RCt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Withdrawal method details ",-1),NCt={key:0,class:"tw-p-5 tw-space-y-4"},YCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Bank Name",-1),ZCt=["value"],KCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Account Holder Name",-1),BCt=["value"],QCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"RIB",-1),JCt=["value"],GCt={key:1,class:"tw-p-5 tw-space-y-4"},XCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Binance ID",-1),tDt=["value"],eDt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"};var rDt={__name:"WithdrawalMethodAdmin",props:["factorisation"],setup(t){const e=(0,ke.iH)(!1),r=t,a=(0,ke.Vh)(r,"factorisation");(0,s.f3)("withdrawal_methods"),(0,s.f3)("is_withdrawal_methods_fetched");return(t,r)=>{const l=(0,s.up)("icon"),o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",$Ct,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>e.value=!e.value),class:"tw-mx-auto tw-rounded tw-flex tw-justify-between tw-items-center tw-gap-2 tw-overflow-hidden tw-border tw-border-solid tw-p-2 tw-py-1 tw-duration-200 hover:tw-shadow-sm tw-shadow-black/10"},[a.value.withdrawal_method?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["bank_transfer"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",jCt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),ICt])):(0,s.kq)("",!0),"binance"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",VCt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),OCt])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("div",ECt,FCt))]),a.value.withdrawal_method?((0,s.wg)(),(0,s.j4)(o,{key:0,visible:e.value,closeable:!1,onCancel:r[2]||(r[2]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",HCt,[(0,s._)("div",MCt,[RCt,"bank_transfer"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",NCt,[(0,s._)("div",null,[YCt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.bank_name,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,ZCt)]),(0,s._)("div",null,[KCt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.account_holder_name,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,BCt)]),(0,s._)("div",null,[QCt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.rib,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,JCt)])])):(0,s.kq)("",!0),"binance"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",GCt,[(0,s._)("div",null,[XCt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.binance_id,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,tDt)])])):(0,s.kq)("",!0),(0,s._)("div",eDt,[(0,s._)("button",{onClick:r[1]||(r[1]=t=>e.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])):(0,s.kq)("",!0)])}}};const aDt=rDt;var sDt=aDt,lDt={components:{TableActions:Ekt,CloseFactorisation:Mkt,PaidFactorisation:Jkt,PdfFactorisation:sCt,WithdrawalMethodSeller:ACt,WithdrawalMethodAdmin:sDt},props:{item:{required:!0},withdrawalMethods:{required:!0},isWithdrawalMethodsFetched:{required:!0}},data(){return{moment:ze(),currency:c}},computed:{},methods:{}};const oDt=(0,m.Z)(lDt,[["render",dxt]]);var iDt=oDt,wDt={components:{TablePaginationNoNums:Dvt,TableRow:iDt},props:{items:{default:[]},withdrawalMethods:{required:!0},isWithdrawalMethodsFetched:{required:!0},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const nDt=(0,m.Z)(wDt,[["render",nvt]]);var dDt=nDt;const cDt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},uDt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},pDt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),gDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),mDt=[gDt],hDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),fDt=[hDt],bDt=["disabled"],vDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),xDt=[vDt],yDt={class:"tw-relative"},_Dt=["value"],kDt=(0,s._)("option",{value:5},"5",-1),CDt=(0,s._)("option",{value:10},"10",-1),DDt=(0,s._)("option",{value:20},"20",-1),SDt=(0,s._)("option",{value:50},"50",-1),zDt=(0,s._)("option",{value:100},"100",-1),UDt=(0,s._)("option",{value:250},"250",-1),qDt=(0,s._)("option",{value:500},"500",-1),PDt=[kDt,CDt,DDt,SDt,zDt,UDt,qDt],LDt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),WDt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},ADt=["value"],$Dt={class:"tw-overflow-hidden tw-col-span-1"},EDt=(0,s._)("div",{class:"tw-overflow-hidden tw-col-span-1"},null,-1),TDt=[EDt];function FDt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",cDt,[(0,s._)("div",uDt,[pDt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},mDt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},fDt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},xDt,8,bDt),(0,s._)("div",yDt,[(0,s._)("select",{onChange:e[3]||(e[3]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},PDt,40,_Dt),LDt])]),(0,s._)("div",WDt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,ADt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",$Dt,[(0,s.Wm)(w,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},TDt,2)):(0,s.kq)("",!0)])}const jDt={class:"tw-mb-4"},IDt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},VDt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},ODt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),HDt=(0,s._)("span",null,"Clear",-1),MDt=[ODt,HDt],RDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),NDt=(0,s._)("span",null,"Filter",-1),YDt=[RDt,NDt];function ZDt(t,e,r,a,l,o){const i=(0,s.up)("SellerFilter"),w=(0,s.up)("CloseFilter"),n=(0,s.up)("PaidFilter");return(0,s.wg)(),(0,s.iD)("div",jDt,[(0,s._)("div",IDt,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,filters:r.filters,onUpdate:e[0]||(e[0]=e=>t.$emit("update",e))},null,8,["filters"])):(0,s.kq)("",!0),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",VDt,[(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},MDt),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},YDt)])])])}const KDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},BDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),QDt=["value"],JDt=(0,s._)("option",{value:"all"},"All",-1),GDt=["value"];function XDt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",KDt,[BDt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[JDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,GDt)))),128))],40,QDt)])}var tSt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const eSt=(0,m.Z)(tSt,[["render",XDt]]);var rSt=eSt;const aSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Close",-1),lSt=["value"],oSt=(0,s._)("option",{value:"all"},"All",-1),iSt=["value"];function wSt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",aSt,[sSt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,close:e.target.value})),value:r.filters.close,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[oSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.close,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,wt.zw)(t.title),9,iSt)))),128))],40,lSt)])}var nSt={props:{filters:{required:!0}},data(){return{close:[{id:1,title:"Close",value:1},{id:2,title:"Not Close",value:0}]}}};const dSt=(0,m.Z)(nSt,[["render",wSt]]);var cSt=dSt;const uSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Paid",-1),gSt=["value"],mSt=(0,s._)("option",{value:"all"},"All",-1),hSt=["value"];function fSt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",uSt,[pSt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,paid:e.target.value})),value:r.filters.paid,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[mSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.paid,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,wt.zw)(t.title),9,hSt)))),128))],40,gSt)])}var bSt={props:{filters:{required:!0}},data(){return{paid:[{id:1,title:"Paid",value:1},{id:2,title:"Not Paid",value:0}]}}};const vSt=(0,m.Z)(bSt,[["render",fSt]]);var xSt=vSt,ySt={components:{SellerFilter:rSt,CloseFilter:cSt,PaidFilter:xSt},props:{filters:{required:!0,default:{}}},data(){return{}}};const _St=(0,m.Z)(ySt,[["render",ZDt]]);var kSt=_St,CSt={components:{FiltersWrapper:kSt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value),console.log(t.target.value)}},data(){return{showFilters:!1,showStatistics:!1}}};const DSt=(0,m.Z)(CSt,[["render",FDt]]);var SSt=DSt;class zSt{async all(){return await E.getCookie(),A.get("api/withdrawal-methods")}async update(t,e){return await E.getCookie(),A.post("api/withdrawal-methods/"+t,e)}async setup(t){return await E.getCookie(),A.post("api/withdrawal-methods/setup",t)}}var USt=new zSt,qSt={components:{IndexTable:dDt,IndexFilters:SSt},data(){return{fetching:!0,create_popup:!1,items:[],withdrawal_methods:[],is_withdrawal_methods_fetched:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{user_id:"all",close:"all",paid:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Ye.paginate(t,e).then((({data:t})=>{const e=t.data.factorisation;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={user_id:"all",close:"all",paid:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){t&&(this.items=this.items.map((e=>e.id==t.id?t:e))),console.log("Item: ",t)},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},async getWithdrawalMethods(){return this.is_withdrawal_methods_fetched=!1,await USt.all().then((t=>{"SUCCESS"==t.data.code&&(this.withdrawal_methods=t.data.withdrawal_methods,this.is_withdrawal_methods_fetched=!0,console.log(this.withdrawal_methods))}),(t=>{console.log(t)}))}},computed:{user(){return this.$store.getters["user/user"]}},provide(){return{withdrawal_methods:this.withdrawal_methods,is_withdrawal_methods_fetched:this.is_withdrawal_methods_fetched}},mounted(){this.paginateOrders(),"seller"==this.user.role&&this.getWithdrawalMethods()}};const PSt=(0,m.Z)(qSt,[["render",Lbt]]);var LSt=PSt,WSt={name:"factorisations",path:"/factorisations",component:Wa,meta:{module:"factorisation"},children:[{name:"factorisation/list",path:"",component:kbt,meta:{module:"factorisation",subModule:"factorisation/list",title:"Factorisations List",gate:"show_all_factorisations"}},{name:"factorisation/list",path:"",component:LSt,meta:{module:"factorisation",subModule:"factorisation/list",title:"New Factorisations List",gate:"show_all_factorisations"}}]};const ASt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},$St=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Google Sheets"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your google sheets")],-1),ESt=(0,s._)("span",{class:"text-white"}," Add Sheet ",-1),TSt={key:0},FSt={key:1,class:"py-5 px-5 tw-mb-5 tw-border bg-white tw-w-full tw-rounded-md"},jSt={class:"tw-flex tw-items-center tw-gap-2"},ISt=(0,s._)("h1",null,"Application's email",-1),VSt={class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-py-2 tw-px-2 tw-text-sm tw-mt-2 tw-text-gray-700"},OSt=(0,s._)("p",{class:"tw-mt-1 tw-text-xs tw-text-gray-400"}," Use this email to give access to Google Sheets ",-1),HSt={key:2,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},MSt={class:"mb-5 tw-flex"},RSt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},NSt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},YSt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ZSt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),KSt={class:"tw-relative"},BSt={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},QSt={class:""};function JSt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("SheetsTable"),c=(0,s.up)("AddSheet");return(0,s.wg)(),(0,s.iD)("div",{key:i.sheets.length},[(0,s._)("div",ASt,[$St,(0,s._)("div",null,[t.$can("create_sheet")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),ESt])),_:1})):(0,s.kq)("",!0)])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",TSt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",FSt,[(0,s._)("div",jSt,[ISt,(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.copy&&i.copy(...t)),class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-w-[30px] tw-h-[30px] tw-text-gray-500 hover:tw-text-gray-700 tw-duration-300 tw-border-solid hover:tw-border-gray-400"},[(0,s.Wm)(ct.t,{class:"tw-text-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-content-copy")])),_:1})])]),(0,s._)("div",VSt,(0,wt.zw)(o.email),1),OSt])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",HSt,[(0,s._)("div",MSt,[(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",RSt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",NSt,[(0,s._)("div",YSt,[ZSt,(0,s._)("div",KSt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",BSt,[(0,s.Wm)(n,{filters:o.filters,onUpdate:i.updateFilters},null,8,["filters","onUpdate"])])):(0,s.kq)("",!0),(0,s._)("div",QSt,[(0,s.Wm)(d,{sheets:i.sheets},null,8,["sheets"])]),(0,s.Wm)(c,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const GSt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},XSt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},tzt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},ezt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),rzt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},azt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},szt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},lzt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),ozt=["value"],izt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},wzt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},nzt={class:"tw-text-white"};function dzt(t,e,r,l,o,i){const w=(0,s.up)("SheetRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",GSt,[(0,s._)("table",XSt,[(0,s._)("thead",tzt,[(0,s._)("tr",null,[ezt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",rzt,(0,wt.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sheets,(t=>((0,s.wg)(),(0,s.j4)(w,{sheet:t,key:t.id},null,8,["sheet"])))),128))])])]),(0,s._)("div",azt,[(0,s._)("div",szt,[lzt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,ozt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",izt,[(0,s._)("div",wzt,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.sheets.length:i.nextRange)+" of "+(0,wt.zw)(r.sheets.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",nzt,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const czt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},uzt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),pzt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},gzt={class:"tw-px-6 tw-py-4"},mzt={class:"tw-px-6 tw-py-4"},hzt={class:"tw-px-6 tw-py-4"},fzt={class:"tw-px-6 tw-py-4"},bzt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},vzt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},xzt=["disabled"],yzt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),_zt={class:"tw-px-6 tw-py-4"},kzt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function Czt(t,e,r,l,o,i){const w=(0,s.up)("SheetActions");return(0,s.wg)(),(0,s.iD)("tr",czt,[uzt,(0,s._)("th",pzt,(0,wt.zw)(r.sheet.id),1),(0,s._)("td",gzt,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)(["tw-inline-block tw-w-[8px] tw-h-[8px] tw-rounded-full tw-mr-1",[1==r.sheet.active&&1==r.sheet.auto_fetch?"tw-bg-emerald-500":"tw-bg-red-500"]])},null,2),(0,s.Uk)(" "+(0,wt.zw)(r.sheet.name),1)])]),(0,s._)("td",mzt,[(0,s._)("div",null,(0,wt.zw)(r.sheet.username),1)]),(0,s._)("td",hzt,[(0,s._)("div",null,(0,wt.zw)(r.sheet.sheet_name),1)]),(0,s._)("td",fzt,[(0,s._)("div",bzt,[(0,s._)("label",vzt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>i.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,xzt),[[a.e8,i.autoFetch]]),yzt]),o.isLoadingAuto?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",_zt,(0,wt.zw)(r.sheet.created_at.split("T")[0]),1),(0,s._)("td",kzt,[(0,s.Wm)(w,{sheet:r.sheet},null,8,["sheet"])])])}const Dzt={key:0};function Szt(t,e,r,a,l,o){const i=(0,s.up)("UpdateSheet"),w=(0,s.up)("SheetOrders"),n=(0,s.up)("popup");return r.sheet?((0,s.wg)(),(0,s.iD)("div",Dzt,[t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:o.sync,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{class:(0,wt.C_)([l.isLoadingSheet&&"tw-animate-spin"]),color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1},8,["class"])])),_:1},8,["onClick"])):(0,s.kq)("",!0),t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_sheet")?((0,s.wg)(),(0,s.j4)(nt.T,{key:2,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{visible:l.showUpdatePopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showUpdatePopup=t),sheet:r.sheet,onCancel:e[3]||(e[3]=t=>l.showUpdatePopup=!1)},null,8,["visible","sheet"]),(0,s.Wm)(w,{visible:l.showSheetPopup,"onUpdate:visible":e[4]||(e[4]=t=>l.showSheetPopup=t),sheet:r.sheet,orders:l.orders,onCancel:e[5]||(e[5]=t=>l.showSheetPopup=!1)},null,8,["visible","sheet","orders"]),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this sale?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleDelete},null,8,["loading","visible","onResolved"])])):(0,s.kq)("",!0)}const zzt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Uzt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),qzt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Pzt={class:"md:tw-col-span-6 tw-col-span-12"},Lzt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),Wzt={class:"md:tw-col-span-6 tw-col-span-12"},Azt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),$zt={class:"md:tw-col-span-12 tw-col-span-12"},Ezt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),Tzt={class:"md:tw-col-span-6 tw-col-span-12"},Fzt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),jzt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Izt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Vzt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Ozt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Hzt=(0,s._)("span",{class:"text-white"}," Save ",-1);function Mzt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",zzt,[Uzt,(0,s._)("div",qzt,[(0,s._)("div",Pzt,[Lzt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.newSheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.name]])]),(0,s._)("div",Wzt,[Azt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.newSheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_name]])]),(0,s._)("div",$zt,[Ezt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.newSheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_id]])]),(0,s._)("div",Tzt,[Fzt,(0,s._)("label",jzt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.newSheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.newSheet.auto_fetch]]),Izt])])]),(0,s._)("div",Vzt,[(0,s.Wm)(nt.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Ozt])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Hzt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}class Rzt{async all(t){return await E.getCookie(),A.get("api/sheets",{params:t})}async create(t){await E.getCookie();const e={name:t.name,sheet_id:t.sheet_id,sheet_name:t.sheet_name,auto_fetch:t.auto_fetch};return A.post("api/sheets",e)}async update(t,e){await E.getCookie();const r={name:e.name,sheet_id:e.sheet_id,sheet_name:e.sheet_name,auto_fetch:e.auto_fetch};return A.post("api/sheets/"+t,r)}async delete(t){return await E.getCookie(),A["delete"]("api/sheets/"+t)}async updateAutoFetch(t,e){return await E.getCookie(),A.post("api/sheets/"+t+"/auto-fetch",{autoFetch:e})}async sync(t){return await E.getCookie(),A.get("api/sync/"+t)}async sync_all(){return await E.getCookie(),A.get("api/sync")}async auto(){return await E.getCookie(),A.post("api/sync")}async saveOrders(t){return await E.getCookie(),A.get("api/sync/"+t+"/save")}}var Nzt=new Rzt,Yzt={props:["visible","sheet"],data(){return{isLoading:!1,newSheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},watch:{visible(t){t&&(this.newSheet={...this.sheet,auto_fetch:1==this.sheet.auto_fetch})}},computed:{isFormValid(){return!!this.newSheet.name&&!!this.newSheet.sheet_id&&!!this.newSheet.sheet_name}},methods:{update(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.newSheet;Nzt.update(this.sheet.id,t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet updated successfully"}),this.$store.dispatch("sheet/update",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const Zzt=(0,m.Z)(Yzt,[["render",Mzt]]);var Kzt=Zzt;const Bzt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Qzt={key:0},Jzt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},Gzt=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-neutral-700"},"Sheet's New Orders",-1),Xzt={class:"tw-bg-emerald-500 tw-text-white tw-px-1 tw-text-sm tw-rounded"},tUt={class:"tw-relative tw-overflow-x-auto"},eUt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-border tw-rounded"},rUt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50 tw-rounded-t tw-overflow-hidden"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Fullname"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"SKU"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Qty"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Price")])],-1),aUt={class:"tw-px-6 tw-py-2"},sUt={class:"tw-px-6 tw-py-2"},lUt={class:"tw-px-6 tw-py-2"},oUt={class:"tw-px-6 tw-py-2"},iUt={class:"tw-px-6 tw-py-2"},wUt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},nUt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),dUt=(0,s._)("span",{class:"text-white"}," Save Orders",-1);function cUt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[1]||(e[1]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Bzt,[r.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Qzt,[(0,s._)("div",Jzt,[Gzt,(0,s._)("div",Xzt,(0,wt.zw)(r.orders.length),1)]),(0,s._)("div",null,[(0,s._)("div",tUt,[(0,s._)("table",eUt,[rUt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b"},[(0,s._)("td",aUt,(0,wt.zw)(t["Full name"]),1),(0,s._)("td",sUt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Product name"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},"- "+(0,wt.zw)(t),1)))),128))])]),(0,s._)("td",lUt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["SKU"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,wt.zw)(t),1)))),128))])]),(0,s._)("td",oUt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Total quantity"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,wt.zw)(t),1)))),128))])]),(0,s._)("td",iUt,(0,wt.zw)(t["Total charge"]),1)])))),128))])])])]),(0,s._)("div",wUt,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[nUt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.save,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[dUt])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])])}var uUt={props:["visible","sheet","orders"],data(){return{isLoading:!1}},computed:{sales(){return this.$store.getters["sale/sales"]}},methods:{save(){this.isLoading=!0,Nzt.saveOrders(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:t.data.data.orders.length+" Order has been added",type:"success"}),this.$store.dispatch("sale/setSales",[...t.data.data.orders,...this.sales]),this.$emit("cancel"))}),(t=>{this.$handleApiError(t),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this sheet",type:"warning"})})).finally((()=>{this.isLoading=!1}))}}};const pUt=(0,m.Z)(uUt,[["render",cUt]]);var gUt=pUt,mUt={props:["sheet"],name:"sheetActions",components:{UpdateSheet:Kzt,SheetOrders:gUt},data(){return{showPopup:!1,showUpdatePopup:!1,showSheetPopup:!1,isLoading:!1,isLoadingSheet:!1,orders:[]}},computed:{},methods:{handleDelete(t){if(console.log(t),!t)return this.showPopup=!1,!1;this.delete()},delete(){this.isLoading=!0,Nzt["delete"](this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:"Deleted successfully",type:"success"}),this.$store.dispatch("sheet/delete",this.sheet.id),this.showPopup=!1)}),this.$handleApiError).finally((()=>{this.isLoading=!1}))},sync(){this.isLoadingSheet=!0,Nzt.sync(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(0==t.data.data.orders.length?this.$alert({title:"0 Orders found",type:"info"}):(this.orders=t.data.data.orders,this.showSheetPopup=!0),console.log(t.data.data.sheet),this.$store.dispatch("sheet/update",t.data.data.sheet)),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log(t),this.$store.dispatch("sheet/update",t.response.data.data.sheet),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this Google Sheet",type:"error"})})).finally((()=>{this.isLoadingSheet=!1}))}},mounted(){}};const hUt=(0,m.Z)(mUt,[["render",Szt]]);var fUt=hUt,bUt={props:["sheet"],components:{SheetActions:fUt},data(){return{isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.sheet.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,Nzt.updateAutoFetch(this.sheet.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("sheet/update",e.data.data.sheet))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const vUt=(0,m.Z)(bUt,[["render",Czt]]);var xUt=vUt,yUt={props:["sheets"],components:{SheetRow:xUt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,columns:["id","name","username","sheet name","auto fetch","created","actions"]}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sheets.length/this.paginationLimit)},items(){return this.sheets.slice(this.prevRange,this.nextRange)}},methods:{}};const _Ut=(0,m.Z)(yUt,[["render",dzt]]);var kUt=_Ut;const CUt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},DUt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),SUt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},zUt={class:"md:tw-col-span-6 tw-col-span-12"},UUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),qUt={class:"md:tw-col-span-6 tw-col-span-12"},PUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),LUt={class:"md:tw-col-span-12 tw-col-span-12"},WUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),AUt={class:"md:tw-col-span-6 tw-col-span-12"},$Ut=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),EUt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},TUt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),FUt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},jUt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),IUt=(0,s._)("span",{class:"text-white"}," Save ",-1);function VUt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",CUt,[DUt,(0,s._)("div",SUt,[(0,s._)("div",zUt,[UUt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.name]])]),(0,s._)("div",qUt,[PUt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_name]])]),(0,s._)("div",LUt,[WUt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.sheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_id]])]),(0,s._)("div",AUt,[$Ut,(0,s._)("label",EUt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.sheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sheet.auto_fetch]]),TUt])])]),(0,s._)("div",FUt,[(0,s.Wm)(nt.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[jUt])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[IUt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var OUt={props:["visible"],data(){return{isLoading:!1,sheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},computed:{isFormValid(){return!!this.sheet.name&&!!this.sheet.sheet_id&&!!this.sheet.sheet_name}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.sheet;Nzt.create(t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet created successfully"}),this.$store.dispatch("sheet/addSheet",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const HUt=(0,m.Z)(OUt,[["render",VUt]]);var MUt=HUt;const RUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},NUt=(0,s._)("label",{for:"seller",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),YUt=["value"],ZUt=(0,s._)("option",{value:"all"},"All",-1),KUt=["value"];function BUt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",RUt,[NUt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[ZUt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,KUt)))),128))],40,YUt)])}var QUt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const JUt=(0,m.Z)(QUt,[["render",BUt]]);var GUt=JUt,XUt={components:{SheetsTable:kUt,AddSheet:MUt,SellerFilter:GUt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,email:"new-service-account@testing-379416.iam.gserviceaccount.com",filters:{user_id:"all"}}},computed:{sheets(){return this.$store.getters["sheet/sheets"]},user(){return this.$store.getters["user/user"]}},methods:{updateFilters(t){this.filters=t,this.getSheets()},getSheets(){return this.isLoaded=!1,Nzt.all(this.filters).then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("sheet/setSheets",t.data.data.sheets),t)),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},copy(){navigator.clipboard.writeText(this.email),this.$alert({title:"Email Copied !",type:"success"})}},mounted(){this.getSheets()}};const tqt=(0,m.Z)(XUt,[["render",JSt]]);var eqt=tqt,rqt={name:"sheets",path:"/sheets",component:Wa,meta:{module:"sheet"},children:[{name:"sheet/list",path:"",component:eqt,meta:{module:"sheet",subModule:"sheet/list",title:"Google Sheets List",gate:"show_all_sheets"}}]};const aqt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},sqt={class:"tw-px-3"},lqt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},oqt={class:"tw-flex tw-items-center tw-gap-x-3"},iqt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),wqt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},nqt=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),dqt=[nqt],cqt={key:0};function uqt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",aqt,[(0,s._)("section",sqt,[(0,s._)("div",lqt,[(0,s._)("div",null,[(0,s._)("div",oqt,[iqt,(0,s._)("span",wqt,(0,wt.zw)(l.totalOrders)+" order",1)])]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},dqt)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",cqt,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class pqt{async create(t){return await E.getCookie(),A.post("api/ads/new",t)}async update(t,e){return await E.getCookie(),A.post("api/ads/update/"+t,e)}async delete(t){return await E.getCookie(),A["delete"]("api/ads/delete/"+t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/ads"+t,e)}}var gqt=new pqt;const mqt={class:"tw-flex tw-flex-col"},hqt={class:"tw-overflow-x-auto"},fqt={class:"tw-inline-block tw-min-w-full tw-align-middle"},bqt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},vqt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},xqt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},yqt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),_qt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},kqt=(0,s._)("span",null,"Created",-1),Cqt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Dqt=[kqt,Cqt],Sqt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},zqt=(0,s._)("span",null,"Ads For",-1),Uqt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),qqt=[zqt,Uqt],Pqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Marketer ",-1),Lqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),Wqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),Aqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Leads ",-1),$qt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),Eqt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),Tqt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Fqt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},jqt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),Iqt=[jqt],Vqt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Oqt={colspan:"8"},Hqt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Mqt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Rqt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Nqt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Yqt=[Rqt,Nqt],Zqt={class:"tw-mt-6"};function Kqt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",mqt,[(0,s._)("div",hqt,[(0,s._)("div",fqt,[(0,s._)("div",bqt,[(0,s._)("table",vqt,[(0,s._)("thead",xqt,[(0,s._)("tr",null,[yqt,(0,s._)("th",_qt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Dqt)]),(0,s._)("th",Sqt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},qqt)]),Pqt,Lqt,Wqt,Aqt,$qt,Eqt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Tqt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Fqt,Iqt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Vqt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Oqt,[(0,s._)("div",Hqt,[Mqt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Yqt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Zqt,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Bqt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Qqt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Jqt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Gqt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Xqt=["disabled"],tPt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),ePt=(0,s._)("span",null," previous ",-1),rPt=[tPt,ePt],aPt=["disabled"],sPt=(0,s._)("span",null," Next ",-1),lPt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),oPt=[sPt,lPt];function iPt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Bqt,[(0,s._)("div",Qqt,[(0,s.Uk)(" Page "),(0,s._)("span",Jqt,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",Gqt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},rPt,10,Xqt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},oPt,10,aPt)])])])}var wPt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const nPt=(0,m.Z)(wPt,[["render",iPt]]);var dPt=nPt;const cPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},pPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},gPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},mPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},hPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},fPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},vPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},xPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},yPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_Pt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},kPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},CPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},DPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},SPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},zPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function UPt(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",cPt,[(0,s._)("div",null,[(0,s._)("h2",uPt,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",pPt,[(0,s._)("div",null,[(0,s._)("h2",gPt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",mPt,[(0,s._)("div",null,[(0,s._)("h2",hPt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",fPt,[(0,s._)("div",null,[(0,s._)("h2",bPt,(0,wt.zw)(r.item.marketers.firstname)+" "+(0,wt.zw)(r.item.marketers.lastname),1)])]),(0,s._)("td",vPt,[(0,s._)("div",null,[(0,s._)("h2",xPt,(0,wt.zw)(r.item.source),1)])]),(0,s._)("td",yPt,[(0,s._)("div",null,[(0,s._)("h2",_Pt,(0,wt.zw)(r.item.amount),1)])]),(0,s._)("td",kPt,[(0,s._)("div",null,[(0,s._)("h2",CPt,(0,wt.zw)(r.item.leads),1)])]),(0,s._)("td",DPt,[(0,s._)("div",null,[(0,s._)("h2",SPt,(0,wt.zw)(r.item.products.name),1)])]),(0,s._)("td",zPt,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const qPt={class:"tw-h-full"},PPt={class:"tw-flex tw-items-center tw-gap-2"},LPt={key:0};function WPt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",qPt,[(0,s._)("div",PPt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",LPt,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const APt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},$Pt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),EPt={class:"tw-bg-white tw-p-4"},TPt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},FPt={class:"tw-col-span-2 md:tw-col-span-1"},jPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),IPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},VPt={class:"tw-col-span-2 md:tw-col-span-1"},OPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),HPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},MPt={class:"tw-col-span-2 md:tw-col-span-1"},RPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),NPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},YPt={class:"tw-col-span-2 md:tw-col-span-1"},ZPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),KPt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),BPt=["value"],QPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},JPt={class:"tw-col-span-2 md:tw-col-span-1"},GPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),XPt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),tLt=["value"],eLt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rLt={class:"md:tw-col-span-1 tw-col-span-2"},aLt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),sLt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lLt={class:"tw-col-span-2"},oLt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),iLt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},wLt=["disabled"],nLt=(0,s._)("span",null,"Update",-1);function dLt(t,e,r,l,o,i){const w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",APt,[$Pt,(0,s._)("div",EPt,[(0,s._)("div",TPt,[(0,s._)("div",FPt,[jPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.source=t),onInput:e[1]||(e[1]=t=>o.errors.source=null),type:"text",class:(0,wt.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",IPt,(0,wt.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",VPt,[OPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,wt.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",HPt,(0,wt.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",MPt,[RPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,wt.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",NPt,(0,wt.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",YPt,[ZPt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>o.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>o.items.product_id=t),class:(0,wt.C_)([[o.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[KPt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,BPt)))),128))],34),[[a.bM,o.items.product_id]]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",QPt,(0,wt.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",JPt,[GPt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.marketer_id=t),class:(0,wt.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[XPt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,tLt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",eLt,(0,wt.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",rLt,[aLt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.items.ads_at=t),onInput:e[11]||(e[11]=t=>o.errors.ads_at=null),class:(0,wt.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",sLt,(0,wt.zw)(o.errors.ads_at),1)]),(0,s._)("div",lLt,[oLt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",iLt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),nLt],8,wLt)])])])),_:1},8,["visible","onCancel"])])}const cLt=(t,e)=>e.source?!e.product_id||parseInt(e.product_id)<=0?(t.errors.product_id="Product is required",!1):!e.amount||parseInt(e.amount)<=0?(t.errors.amount="Amount is required",!1):!!e.ads_at||(t.errors.ads_at="Add Ads Date !",!1):(t.errors.source="Source Name is required",!1),uLt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},pLt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},gLt=(t,e)=>{t.isLoading=!0,t.errors={},gqt.update(e.id,e).then((e=>uLt(t,e.data))).catch((e=>pLt(t,e.response.data))).finally((()=>t.isLoading=!1))};var mLt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,source:null,amount:null,ads_at:null}}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=cLt(this,this.items);if(!t)return!1;gLt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts(),this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const hLt=(0,m.Z)(mLt,[["render",dLt]]);var fLt=hLt,bLt={components:{UpdatePopup:fLt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const vLt=(0,m.Z)(bLt,[["render",WPt]]);var xLt=vLt,yLt={components:{TableActions:xLt},props:{item:{required:!0}},data(){return{moment:ze()}},computed:{},methods:{}};const _Lt=(0,m.Z)(yLt,[["render",UPt]]);var kLt=_Lt,CLt={components:{TablePaginationNoNums:dPt,TableRow:kLt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const DLt=(0,m.Z)(CLt,[["render",Kqt]]);var SLt=DLt;const zLt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},ULt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},qLt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),PLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),LLt=[PLt],WLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),ALt=[WLt],$Lt=["disabled"],ELt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),TLt=[ELt],FLt={class:"tw-relative"},jLt=["value"],ILt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),VLt=[ILt],OLt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),HLt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},MLt=["value"],RLt={class:"tw-overflow-hidden tw-col-span-1"},NLt={class:"tw-overflow-hidden tw-col-span-1"};function YLt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",zLt,[(0,s._)("div",ULt,[qLt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},LLt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},ALt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},TLt,8,$Lt),(0,s._)("div",FLt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},VLt,40,jLt),OLt])]),(0,s._)("div",HLt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,MLt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",RLt,[(0,s.Wm)(w,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",NLt,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const ZLt={class:"tw-mb-4"},KLt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},BLt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},QLt={class:"tw-flex tw-items-center tw-justify-between"},JLt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},GLt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function XLt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",ZLt,[(0,s._)("div",KLt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",BLt,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",QLt,[(0,s._)("span",JLt,(0,wt.zw)(t.total),1),(0,s._)("span",GLt,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var tWt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Vn.find((e=>e.value==t))}}};const eWt=(0,m.Z)(tWt,[["render",XLt]]);var rWt=eWt;const aWt={class:"tw-mb-4"},sWt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},lWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),iWt=["value"],wWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),dWt=["value"],cWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},uWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads From",-1),pWt=["value"],gWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},mWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads To",-1),hWt=["value"],fWt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},bWt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),vWt=(0,s._)("span",null,"Clear",-1),xWt=[bWt,vWt],yWt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),_Wt=(0,s._)("span",null,"Filter",-1),kWt=[yWt,_Wt];function CWt(t,e,r,a,l,o){const i=(0,s.up)("MarketerFilter"),w=(0,s.up)("ProductFilter"),n=(0,s.up)("SourceFilter");return(0,s.wg)(),(0,s.iD)("div",aWt,[(0,s._)("div",sWt,[(0,s._)("div",lWt,[oWt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,iWt)]),(0,s._)("div",wWt,[nWt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,dWt)]),(0,s._)("div",cWt,[uWt,(0,s._)("input",{value:r.filters.ads_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,ads_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,pWt)]),(0,s._)("div",gWt,[mWt,(0,s._)("input",{value:r.filters.ads_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,ads_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,hWt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",fWt,[(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},xWt),(0,s._)("button",{onClick:e[8]||(e[8]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},kWt)])])])}const DWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},SWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),zWt=["value"],UWt=(0,s._)("option",{value:"all"},"All",-1),qWt=["value"];function PWt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",DWt,[SWt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[UWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,qWt)))),128))],40,zWt)])}var LWt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const WWt=(0,m.Z)(LWt,[["render",PWt]]);var AWt=WWt;const $Wt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},EWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function TWt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",$Wt,[EWt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var FWt={components:{"vue-select":sZ.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const jWt=(0,m.Z)(FWt,[["render",TWt]]);var IWt=jWt;const VWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},OWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Source",-1),HWt=["value"],MWt=(0,s._)("option",{value:"all"},"All",-1),RWt=["value"];function NWt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",VWt,[OWt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,source:e.target.value})),value:r.filters.source,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[MWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t,class:"tw-capitalize"},(0,wt.zw)(t),9,RWt)))),128))],40,HWt)])}var YWt={props:{filters:{required:!0}},data(){return{sources:["facebook","instagram","tiktok"]}}};const ZWt=(0,m.Z)(YWt,[["render",NWt]]);var KWt=ZWt,BWt={components:{MarketerFilter:AWt,ProductFilter:IWt,SourceFilter:KWt},props:{filters:{required:!0,default:{}}},data(){return{}}};const QWt=(0,m.Z)(BWt,[["render",CWt]]);var JWt=QWt,GWt={components:{IndexStatistics:rWt,FiltersWrapper:JWt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const XWt=(0,m.Z)(GWt,[["render",YLt]]);var tAt=XWt;const eAt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},rAt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),aAt={class:"tw-bg-white tw-p-4"},sAt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},lAt={class:"tw-col-span-2 md:tw-col-span-1"},oAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),iAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},wAt={class:"tw-col-span-2 md:tw-col-span-1"},nAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),dAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cAt={class:"tw-col-span-2 md:tw-col-span-1"},uAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),pAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gAt={class:"tw-col-span-2 md:tw-col-span-1"},mAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),hAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fAt={class:"tw-col-span-2 md:tw-col-span-1"},bAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),vAt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),xAt=["value"],yAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_At={class:"md:tw-col-span-1 tw-col-span-2"},kAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),CAt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DAt={class:"tw-col-span-2"},SAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),zAt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},UAt=["disabled"],qAt=(0,s._)("span",null,"Create",-1);function PAt(t,e,r,l,o,i){const w=(0,s.up)("vue-select"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",eAt,[rAt,(0,s._)("div",aAt,[(0,s._)("div",sAt,[(0,s._)("div",lAt,[oAt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.source=t),onInput:e[1]||(e[1]=t=>o.errors.source=null),type:"text",class:(0,wt.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",iAt,(0,wt.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",wAt,[nAt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,wt.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",dAt,(0,wt.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",cAt,[uAt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,wt.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",pAt,(0,wt.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",gAt,[mAt,(0,s.Wm)(w,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[6]||(e[6]=t=>{o.items.product_id=t.id,o.errors.product_id=null}),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"Choose Product","v-model":i.product,options:i.allProducts,label:"name"},null,8,["reduce","v-model","options"]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",hAt,(0,wt.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",fAt,[bAt,(0,s.wy)((0,s._)("select",{onChange:e[7]||(e[7]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[8]||(e[8]=t=>o.items.marketer_id=t),class:(0,wt.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[vAt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,xAt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",yAt,(0,wt.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",_At,[kAt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.ads_at=t),onInput:e[10]||(e[10]=t=>o.errors.ads_at=null),class:(0,wt.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",CAt,(0,wt.zw)(o.errors.ads_at),1)]),(0,s._)("div",DAt,[SAt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.items.note=t),onInput:e[12]||(e[12]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",zAt,[(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),qAt],8,UAt)])])])),_:1},8,["visible","onCancel"])])}const LAt=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},WAt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},AAt=(t,e)=>{t.isLoading=!0,t.errors={},gqt.create(e).then((e=>LAt(t,e.data))).catch((e=>WAt(t,e.response.data))).finally((()=>t.isLoading=!1))};var $At={components:{"vue-select":sZ.Z},props:{visible:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,marketer_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,marketer_id:null,source:null,leads:null,amount:null,ads_at:null}}},computed:{cities(){return this.$store.getters["city/cities"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]},product(){return this.$store.getters["product/products"]},allProducts(){return[...this.product]}},methods:{Test(){console.log("check")},handleCreate(){const t=cLt(this,this.items);if(!t)return!1;AAt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){console.log(this.marketers),this.getProducts()}};const EAt=(0,m.Z)($At,[["render",PAt]]);var TAt=EAt,FAt={components:{IndexTable:SLt,IndexFilters:tAt,CreatePopup:TAt},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,gqt.paginate(t,e).then((({data:t})=>{const e=t.data.ads;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const jAt=(0,m.Z)(FAt,[["render",uqt]]);var IAt=jAt,VAt={name:"ads",path:"/ads",component:Wa,meta:{module:"ads"},children:[{name:"ads/list",path:"",component:IAt,meta:{module:"ads",subModule:"ads/list",title:"Ads List",gate:"show_all_ads"}}]};const OAt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},HAt={class:"tw-px-3"},MAt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},RAt={class:"tw-flex tw-items-center tw-gap-x-3"},NAt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),YAt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},ZAt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"These orders have needs to reconfirmed.",-1),KAt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"};function BAt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=((0,s.up)("BulkActions"),(0,s.up)("IndexTable"));return(0,s.wg)(),(0,s.iD)("div",OAt,[(0,s._)("section",HAt,[(0,s._)("div",MAt,[(0,s._)("div",null,[(0,s._)("div",RAt,[NAt,(0,s._)("span",YAt,(0,wt.zw)(l.totalOrders)+" order",1)]),ZAt]),(0,s._)("div",KAt,[(0,s.kq)("",!0)])]),(0,s.Wm)(i,{"search-by-field":l.searchByField,"onUpdate:searchByField":e[0]||(e[0]=t=>l.searchByField=t),search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":"","per-page":l.per_page},null,8,["search-by-field","search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s.kq)("",!0)],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}class QAt{async statistics(t){return await E.getCookie(),A.post("api/v1/seller/statistics",t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/seller/orders"+t,e)}async update(t,e){return await E.getCookie(),A.post("api/v1/seller/orders/"+t+"/update",e)}async export(t={}){return await E.getCookie(),A.post("api/v1/seller/orders/export",t)}}var JAt=new QAt;const GAt={class:"tw-flex tw-flex-col"},XAt={class:"tw-overflow-x-auto"},t$t={class:"tw-inline-block tw-min-w-full tw-align-middle"},e$t={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},r$t={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},a$t={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},s$t={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},l$t={class:"tw-max-w-[25px]"},o$t={class:"tw-inline-flex tw-items-center"},i$t={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},w$t=["checked"],n$t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),d$t=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),c$t={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},u$t=(0,s._)("span",null,"Created",-1),p$t=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),g$t=[u$t,p$t],m$t=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),h$t=(0,s._)("th",{scope:"col",class:"tw-px-6 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),f$t=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),b$t=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),v$t=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),x$t=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),y$t={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},_$t={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},k$t=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),C$t=[k$t],D$t={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},S$t={colspan:"9"},z$t={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},U$t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),q$t=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),P$t=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),L$t=[q$t,P$t],W$t={class:"tw-mt-6"};function A$t(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",GAt,[(0,s._)("div",XAt,[(0,s._)("div",t$t,[(0,s._)("div",e$t,[(0,s._)("table",r$t,[(0,s._)("thead",a$t,[(0,s._)("tr",null,[(0,s._)("th",s$t,[(0,s._)("div",l$t,[(0,s._)("div",o$t,[(0,s._)("label",i$t,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,w$t),n$t])])])]),d$t,(0,s._)("th",c$t,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},g$t)]),m$t,h$t,f$t,b$t,v$t,x$t])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",y$t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["selected","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",_$t,C$t)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",D$t,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",S$t,[(0,s._)("div",z$t,[U$t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},L$t)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",W$t,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const $$t={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},E$t={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},T$t={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},F$t={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},j$t=["disabled"],I$t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),V$t=(0,s._)("span",null," previous ",-1),O$t=[I$t,V$t],H$t=["disabled"],M$t=(0,s._)("span",null," Next ",-1),R$t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),N$t=[M$t,R$t];function Y$t(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",$$t,[(0,s._)("div",E$t,[(0,s.Uk)(" Page "),(0,s._)("span",T$t,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",F$t,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},O$t,10,j$t),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},N$t,10,H$t)])])])}var Z$t={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const K$t=(0,m.Z)(Z$t,[["render",Y$t]]);var B$t=K$t;const Q$t={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},J$t={class:"tw-max-w-[25px]"},G$t={class:"tw-inline-flex tw-items-center"},X$t={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},tEt=["checked","id"],eEt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),rEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},aEt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},sEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lEt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},oEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},iEt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},wEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nEt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},dEt={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cEt={class:"tw-space-y-1"},uEt={class:"tw-font-bold tw-text-green-500"},pEt={class:"tw-block tw-max-w-[150px] tw-truncate"},gEt={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},mEt={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},hEt={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fEt={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function vEt(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",Q$t,[(0,s._)("div",J$t,[(0,s._)("div",G$t,[(0,s._)("label",X$t,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,tEt),eEt])])])]),(0,s._)("td",rEt,[(0,s._)("div",null,[(0,s._)("h2",aEt,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",sEt,[(0,s._)("div",null,[(0,s._)("h2",lEt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",oEt,[(0,s._)("div",null,[(0,s._)("h2",iEt,(0,wt.zw)(r.item.fullname),1)])]),(0,s._)("td",wEt,[(0,s._)("div",null,[(0,s._)("h2",nEt,(0,wt.zw)(r.item.phone),1)])]),(0,s._)("td",dEt,[(0,s._)("div",null,[(0,s._)("ul",cEt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",uEt,(0,wt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",pEt,(0,wt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",gEt,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",mEt,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",hEt,[(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3)]),(0,s._)("td",fEt,[(0,s._)("span",{class:(0,wt.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)]),(0,s._)("td",bEt,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const xEt={class:"tw-h-full"},yEt={class:"tw-flex tw-items-center tw-gap-2"},_Et={key:0},kEt={key:1};function CEt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),w=(0,s.up)("HistoryPopup");return(0,s.wg)(),(0,s.iD)("div",xEt,[(0,s._)("div",yEt,[(0,s.kq)("",!0),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",_Et,[(0,s.Wm)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[3]||(e[3]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",kEt,[(0,s.Wm)(w,{visible:l.history,"onUpdate:visible":e[4]||(e[4]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const DEt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},SEt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),zEt={class:"tw-bg-white tw-p-4"},UEt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},qEt={class:"tw-col-span-2 md:tw-col-span-1"},PEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),LEt=["readonly"],WEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},AEt={class:"tw-col-span-2 md:tw-col-span-1"},$Et=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),EEt=["readonly"],TEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},FEt={class:"tw-col-span-2 md:tw-col-span-1"},jEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),IEt={class:"tw-relative"},VEt=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),OEt=["value"],HEt=["value"],MEt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),REt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},NEt={class:"tw-col-span-2 md:tw-col-span-1"},YEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),ZEt=["readonly"],KEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},BEt={key:3,class:"tw-col-span-2"},QEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),JEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},GEt={class:"tw-col-span-2"},XEt={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},tTt={key:0,class:"tw-text-red-400 tw-text-xs"},eTt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},rTt=["disabled"],aTt=(0,s._)("span",null,"Update",-1);function sTt(t,e,r,l,o,i){(0,s.up)("OrderAffectation");const w=(0,s.up)("OrderItems"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",DEt,[SEt,(0,s._)("div",zEt,[(0,s._)("div",UEt,[(0,s._)("div",qEt,[PEt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,42,LEt),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",WEt,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",AEt,[$Et,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,42,EEt),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",TEt,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",FEt,[jEt,(0,s._)("div",IEt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),readonly:"",onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[VEt,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,OEt),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,HEt)))),128))],34),[[a.bM,o.itemCopy.city]]),MEt]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",REt,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",NEt,[YEt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,42,ZEt),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",KEt,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s.kq)("",!0),(o.itemCopy.confirmation,(0,s.kq)("",!0)),(o.itemCopy.confirmation,(0,s.kq)("",!0)),["change","refund"].includes(o.itemCopy.confirmation)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",BEt,[QEt,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",JEt,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)])),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",GEt,[(0,s._)("label",XEt,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",tTt," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",eTt,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),o.itemCopy.affectation||o.itemCopy.confirmation?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),aTt],8,rTt))])])])),_:1},8,["visible","onCancel"])])}const lTt=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!oTt(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),oTt=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},iTt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},wTt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},nTt=(t,e)=>{t.isLoading=!0,t.errors={},ki.update(e.id,e).then((e=>iTt(t,e.data))).catch((e=>wTt(t,e.response.data))).finally((()=>t.isLoading=!1))},dTt={key:0,class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},cTt={key:1,class:"md:tw-col-span-12 tw-col-span-12"},uTt={class:"tw-max-w-full tw-overflow-auto"},pTt={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},gTt={class:"tw-bg-gray-50"},mTt={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},hTt={key:0},fTt=(0,s._)("td",{colspan:"3"},null,-1),bTt=(0,s._)("td",null,[(0,s._)("div",{class:"tw-p-2"},[(0,s._)("p",null,"Total: ")])],-1),vTt={colspan:"2",class:"tw-p-2"},xTt={class:"tw-p-2 tw-py-1 tw-text-sm tw-text-green-500 tw-w-24 tw-font-medium tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},yTt={colspan:"6"},_Tt={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},kTt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),CTt=(0,s._)("span",null,"Add Item",-1),DTt=[kTt,CTt],STt={key:1},zTt={colspan:"6"},UTt={class:"tw-scale-75 tw-p-5"};function qTt(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",dTt," No Order items ")),r.items.length?((0,s.wg)(),(0,s.iD)("div",cTt,[(0,s._)("div",uTt,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",pTt,[(0,s._)("tr",gTt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",mTt,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",hTt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,order:r.order,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["order","item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[fTt,bTt,(0,s._)("td",vTt,[(0,s._)("div",xTt,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])]),(0,s._)("tr",null,[(0,s._)("td",yTt,[(0,s._)("div",_Tt,[r.order.affectation||r.order.confirmation?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},DTt))])])])])):((0,s.wg)(),(0,s.iD)("tbody",STt,[(0,s._)("tr",null,[(0,s._)("td",zTt,[(0,s._)("div",UTt,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const PTt=(0,s._)("td",null,null,-1),LTt={class:"tw-p-2"},WTt={class:"tw-relative"},ATt=["readonly","value"],$Tt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),ETt=["value"],TTt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),FTt={class:"tw-p-2"},jTt={key:0,class:"tw-relative"},ITt=["readonly","value"],VTt=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),OTt=["value"],HTt={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},MTt=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),RTt=[MTt],NTt={class:"tw-p-2"},YTt=["value","readonly"],ZTt={class:"tw-p-2"},KTt=["value","readonly"],BTt={class:"tw-flex tw-justify-center"};function QTt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[PTt,(0,s._)("td",null,[(0,s._)("div",LTt,[(0,s._)("div",WTt,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),readonly:r.order.affectation||r.order.confirmation,value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[$Tt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,ETt)))),128))],40,ATt),TTt])])]),(0,s._)("td",null,[(0,s._)("div",FTt,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",jTt,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,readonly:r.order.affectation||r.order.confirmation,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[VTt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,OTt)))),128))],40,ITt)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",HTt,RTt)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",NTt,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,readonly:r.order.affectation||r.order.confirmation,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,YTt)])]),(0,s._)("td",null,[(0,s._)("div",ZTt,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,readonly:r.order.affectation||r.order.confirmation,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,KTt)])]),(0,s._)("td",null,[(0,s._)("div",BTt,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var JTt={props:{item:{required:!0},products:{required:!0},order:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const GTt=(0,m.Z)(JTt,[["render",QTt]]);var XTt=GTt,tFt={components:{ItemRow:XTt},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0,default:!1},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1]:1,e=t?t.id+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const eFt=(0,m.Z)(tFt,[["render",qTt]]);var rFt=eFt;const aFt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),sFt={key:0,class:"tw-relative"},lFt=["value","disabled"],oFt=(0,s._)("option",{value:""},"Choose a Delivery",-1),iFt=["value"],wFt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),nFt={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dFt={key:2,class:"tw-relative"},cFt={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},uFt=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),pFt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function gFt(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[aFt,l.fetched?((0,s.wg)(),(0,s.iD)("div",sFt,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,wt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[oFt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,iFt)))),128))],42,lFt),wFt])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",nFt,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dFt,[(0,s._)("div",cFt,[(0,s.Wm)(i)]),uFt,pFt]))])}var mFt={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const hFt=(0,m.Z)(mFt,[["render",gFt]]);var fFt=hFt,bFt={components:{OrderItems:rFt,OrderAffectation:fFt},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:jn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=lTt(this,this.itemCopy);if(!t)return!1;this.itemCopy.note=this.item.note,nTt(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const vFt=(0,m.Z)(bFt,[["render",sTt]]);var xFt=vFt;const yFt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},_Ft=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),kFt={class:"tw-bg-white tw-p-4"},CFt={key:0},DFt={key:1,class:"tw-p-5"},SFt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},zFt={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},UFt=(0,s._)("div",{class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},null,-1),qFt={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},PFt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},LFt={class:"tw-flex tw-flex-col tw-my-2"},WFt=(0,s._)("div",null,"New Order Created",-1),AFt={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},$Ft={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function EFt(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",yFt,[_Ft,(0,s._)("div",kFt,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",CFt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",DFt,[(0,s.Wm)($E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(EE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",SFt,[(0,s._)("div",zFt,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(!t.historique&&["delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),UFt,(0,s._)("div",qFt,[(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(EE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",PFt,[(0,s._)("div",LFt,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),WFt]),(0,s._)("div",AFt,[(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",$Ft,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var TFt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){const t=[...this.allEvents].reverse();return t.filter((t=>"affectation"!==t.type&&"responsibility"!==t.type))}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ba.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple"};return["confirmation","delivery","upsell"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const FFt=(0,m.Z)(TFt,[["render",EFt]]);var jFt=FFt,IFt={components:{UpdatePopup:xFt,HistoryPopup:jFt},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const VFt=(0,m.Z)(IFt,[["render",CEt]]);var OFt=VFt,HFt={components:{TableActions:OFt},props:{item:{required:!0},selected:{required:!0}},data(){return{moment:ze()}},computed:{confirmation(){return jn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Hn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}}};const MFt=(0,m.Z)(HFt,[["render",vEt]]);var RFt=MFt,NFt={components:{TablePaginationNoNums:B$t,TableRow:RFt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const YFt=(0,m.Z)(NFt,[["render",A$t]]);var ZFt=YFt;const KFt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},BFt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},QFt=["disabled"],JFt=["disabled"],GFt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),XFt=[GFt],tjt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),ejt=[tjt],rjt=["disabled"],ajt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),sjt=[ajt],ljt=["disabled"],ojt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),ijt=[ojt],wjt={class:"tw-relative"},njt=["value"],djt=(0,s._)("option",{value:5},"5",-1),cjt=(0,s._)("option",{value:10},"10",-1),ujt=(0,s._)("option",{value:20},"20",-1),pjt=(0,s._)("option",{value:50},"50",-1),gjt=(0,s._)("option",{value:100},"100",-1),mjt=(0,s._)("option",{value:200},"200",-1),hjt=[djt,cjt,ujt,pjt,gjt,mjt],fjt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),bjt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},vjt=["value"],xjt=(0,s._)("option",{value:"all"},"All",-1),yjt=(0,s._)("option",{value:"id"},"ID",-1),_jt=[xjt,yjt],kjt=["value"],Cjt={class:"tw-overflow-hidden tw-col-span-1"},Djt={class:"tw-overflow-hidden tw-col-span-1"},Sjt={class:"tw-overflow-hidden tw-col-span-1"};function zjt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",KFt,[(0,s._)("div",BFt,[(0,s._)("button",{class:(0,wt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,QFt),(0,s._)("button",{class:(0,wt.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,JFt),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,wt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},XFt,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,wt.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},ejt,2)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},sjt,8,rjt),(0,s._)("button",{onClick:e[5]||(e[5]=t=>o.showExport=!o.showExport),class:(0,wt.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},ijt,10,ljt),(0,s._)("div",wjt,[(0,s._)("select",{onChange:e[6]||(e[6]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},hjt,40,njt),fjt])]),(0,s._)("div",bjt,[(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},_jt,40,vjt),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,kjt),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Cjt,[(0,s.Wm)(w,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,wt.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Djt,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Sjt,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const Ujt={class:"tw-mb-4"},qjt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Pjt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Ljt={class:"tw-flex tw-items-center tw-justify-between"},Wjt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},Ajt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function $jt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Ujt,[(0,s._)("div",qjt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Pjt,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",Ljt,[(0,s._)("span",Wjt,(0,wt.zw)(t.total),1),(0,s._)("span",Ajt,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var Ejt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const Tjt=(0,m.Z)(Ejt,[["render",$jt]]);var Fjt=Tjt;const jjt={class:"tw-mb-4"},Ijt={class:"tw-flex tw-items-center tw-gap-2"},Vjt=["disabled"],Ojt=(0,s._)("span",null,"Select Filtered",-1),Hjt={class:"tw-flex tw-justify-end"},Mjt=["disabled"];function Rjt(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",jjt,[(0,s._)("div",Ijt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Ojt],8,Vjt)]),(0,s._)("div",Hjt,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,wt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,Mjt)])])}var Njt={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,JAt["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const Yjt=(0,m.Z)(Njt,[["render",Rjt]]);var Zjt=Yjt;const Kjt={class:"tw-mb-4"},Bjt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Qjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Jjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),Gjt=["value"],Xjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),eIt=["value"],rIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},aIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),sIt=["value"],lIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),iIt=["value"],wIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),dIt=["value"],cIt=(0,s._)("option",{value:"all",selected:""},"All",-1),uIt=["value"],pIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),mIt=["value"],hIt=(0,s._)("option",{value:"all",selected:""},"All",-1),fIt=["value"],bIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),xIt=["value"],yIt=(0,s._)("option",{value:"all",selected:""},"All",-1),_It=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),kIt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),CIt=[yIt,_It,kIt],DIt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},SIt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),zIt=(0,s._)("span",null,"Clear",-1),UIt=[SIt,zIt],qIt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),PIt=(0,s._)("span",null,"Filter",-1),LIt=[qIt,PIt];function WIt(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",Kjt,[(0,s._)("div",Bjt,[(0,s.kq)("",!0),(0,s._)("div",Qjt,[Jjt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Gjt)]),(0,s._)("div",Xjt,[tIt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,eIt)]),(0,s._)("div",rIt,[aIt,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,sIt)]),(0,s._)("div",lIt,[oIt,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,iIt)]),(0,s._)("div",wIt,[nIt,(0,s._)("select",{value:r.filters.confirmation,onChange:e[5]||(e[5]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[cIt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,uIt)))),128))],40,dIt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",pIt,[gIt,(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[hIt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,fIt)))),128))],40,mIt)]),(0,s._)("div",bIt,[vIt,(0,s._)("select",{value:r.filters.upsell,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},CIt,40,xIt)]),(0,s._)("div",DIt,[(0,s._)("button",{onClick:e[9]||(e[9]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},UIt),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},LIt)])])])}const AIt={class:"tw-text-sm tw-text-neutral-600"},$It=["onClick"];function EIt(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",AIt,(0,wt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,$It)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var TIt={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const FIt=(0,m.Z)(TIt,[["render",EIt]]);var jIt=FIt;const IIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},VIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function OIt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",IIt,[VIt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var HIt={components:{"vue-select":sZ.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const MIt=(0,m.Z)(HIt,[["render",OIt]]);var RIt=MIt,NIt={components:{DateFilter:jIt,ProductFilter:RIt},props:{filters:{required:!0,default:{}}},data(){return{confirmations:jn,deliveries:Hn,dateFilter:["",""]}}};const YIt=(0,m.Z)(NIt,[["render",WIt]]);var ZIt=YIt,KIt={components:{IndexStatistics:Fjt,FiltersWrapper:ZIt,IndexExport:Zjt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ze()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const BIt=(0,m.Z)(KIt,[["render",zjt]]);var QIt=BIt;const JIt={class:"tw-mb-4"},GIt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},XIt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},tVt={class:"tw-flex tw-items-center tw-gap-2"},eVt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},rVt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),aVt={class:"tw-flex tw-items-center tw-gap-2"},sVt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),lVt=(0,s._)("span",null," Clear Selection ",-1),oVt=[sVt,lVt],iVt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),wVt=(0,s._)("span",null," Actions ",-1),nVt=[iVt,wVt],dVt={key:0};function cVt(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",JIt,[(0,s._)("div",GIt,[(0,s._)("div",XIt,[(0,s._)("div",tVt,[(0,s._)("div",eVt,(0,wt.zw)(r.selected.length),1),rVt]),(0,s._)("div",aVt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},oVt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},nVt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",dVt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const uVt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},pVt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},gVt=(0,s._)("span",null,"Quick Actions",-1),mVt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},hVt={class:"tw-bg-white tw-p-4"},fVt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},bVt={class:"tw-col-span-2 md:tw-col-span-1"},vVt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},xVt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},yVt=(0,s._)("span",null,"Apply",-1);function _Vt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",uVt,[(0,s._)("div",pVt,[gVt,(0,s._)("span",mVt,(0,wt.zw)(r.selected.length),1)]),(0,s._)("div",hVt,[(0,s._)("div",fVt,[(0,s._)("div",bVt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",vVt,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",xVt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),yVt])])])])),_:1},8,["visible","closeable","onCancel"])])}const kVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),CVt={class:"tw-relative"},DVt=["value"],SVt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function zVt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[kVt,(0,s._)("div",CVt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,DVt)))),128))],512),[[a.bM,i.vaction]]),SVt]),(0,s.kq)("",!0)])}var UVt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const qVt=(0,m.Z)(UVt,[["render",zVt]]);var PVt=qVt;const LVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),WVt={class:"tw-relative"},AVt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),$Vt=["value"],EVt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function TVt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[LVt,(0,s._)("div",WVt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[AVt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,$Vt)))),128))],512),[[a.bM,i.vvalue]]),EVt]),(0,s.kq)("",!0)])}var FVt={props:{value:{required:!0}},data(){return{statuses:Hn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const jVt=(0,m.Z)(FVt,[["render",TVt]]);var IVt=jVt,VVt=(t,e)=>{t.isLoading=!0,VX.execute(e).then((e=>OVt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const OVt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var HVt={components:{BulkSelectAction:PVt,BulkDeliveryAction:IVt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};VVt(this,t)}}};const MVt=(0,m.Z)(HVt,[["render",_Vt]]);var RVt=MVt,NVt={components:{BulkPopup:RVt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const YVt=(0,m.Z)(NVt,[["render",cVt]]);var ZVt=YVt,KVt={components:{IndexTable:ZFt,IndexFilters:QIt,BulkActions:ZVt},data(){return{fetching:!0,items:[],selected:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,JAt.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"},this.handlePageChange(1)},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){console.log(t),this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},handleBulkUpdate(){this.selected=[],this.paginateOrders()}},mounted(){this.paginateOrders()}};const BVt=(0,m.Z)(KVt,[["render",BAt]]);var QVt=BVt,JVt={name:"seller",path:"/seller/list",component:Wa,meta:{module:"seller"},children:[{name:"seller/list",path:"",component:QVt,meta:{module:"sellersale",subModule:"seller/list",title:"Seller List",gate:"show_seller_sales"}}]};const GVt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},XVt={class:"tw-px-3"},tOt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},eOt={class:"tw-flex tw-items-center tw-gap-x-3"},rOt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),aOt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},sOt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),lOt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},oOt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),iOt=(0,s._)("span",null,"Create",-1),wOt=[oOt,iOt],nOt={key:1};function dOt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=((0,s.up)("BulkActions"),(0,s.up)("IndexTable")),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",GVt,[(0,s._)("section",XVt,[(0,s._)("div",tOt,[(0,s._)("div",null,[(0,s._)("div",eOt,[rOt,(0,s._)("span",aOt,(0,wt.zw)(l.totalOrders)+" order",1)]),sOt]),(0,s._)("div",lOt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},wOt)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",nOt,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const cOt={class:"tw-mb-4"},uOt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},pOt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},gOt={class:"tw-flex tw-items-center tw-gap-2"},mOt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},hOt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),fOt={class:"tw-flex tw-items-center tw-gap-2"},bOt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),vOt=(0,s._)("span",null," Clear Selection ",-1),xOt=[bOt,vOt],yOt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),_Ot=(0,s._)("span",null," Actions ",-1),kOt=[yOt,_Ot],COt={key:0};function DOt(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",cOt,[(0,s._)("div",uOt,[(0,s._)("div",pOt,[(0,s._)("div",gOt,[(0,s._)("div",mOt,(0,wt.zw)(r.selected.length),1),hOt]),(0,s._)("div",fOt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},xOt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},kOt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",COt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const SOt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},zOt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},UOt=(0,s._)("span",null,"Quick Actions",-1),qOt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},POt={class:"tw-bg-white tw-p-4"},LOt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},WOt={class:"tw-col-span-2 md:tw-col-span-1"},AOt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},$Ot={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},EOt=(0,s._)("span",null,"Apply",-1);function TOt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",SOt,[(0,s._)("div",zOt,[UOt,(0,s._)("span",qOt,(0,wt.zw)(r.selected.length),1)]),(0,s._)("div",POt,[(0,s._)("div",LOt,[(0,s._)("div",WOt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",AOt,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",$Ot,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),EOt])])])])),_:1},8,["visible","closeable","onCancel"])])}const FOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),jOt={class:"tw-relative"},IOt=["value"],VOt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function OOt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[FOt,(0,s._)("div",jOt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,IOt)))),128))],512),[[a.bM,i.vaction]]),VOt]),(0,s.kq)("",!0)])}var HOt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const MOt=(0,m.Z)(HOt,[["render",OOt]]);var ROt=MOt;const NOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),YOt={class:"tw-relative"},ZOt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),KOt=["value"],BOt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function QOt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[NOt,(0,s._)("div",YOt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[ZOt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,KOt)))),128))],512),[[a.bM,i.vvalue]]),BOt]),(0,s.kq)("",!0)])}var JOt={props:{value:{required:!0}},data(){return{statuses:Hn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const GOt=(0,m.Z)(JOt,[["render",QOt]]);var XOt=GOt,tHt=(t,e)=>{t.isLoading=!0,VX.execute(e).then((e=>eHt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const eHt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var rHt={components:{BulkSelectAction:ROt,BulkDeliveryAction:XOt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};tHt(this,t)}}};const aHt=(0,m.Z)(rHt,[["render",TOt]]);var sHt=aHt,lHt={components:{BulkPopup:sHt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const oHt=(0,m.Z)(lHt,[["render",DOt]]);var iHt=oHt,wHt={components:{IndexTable:U3,IndexFilters:y6,CreatePopup:y7,BulkActions:iHt},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ki.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const nHt=(0,m.Z)(wHt,[["render",dOt]]);var dHt=nHt,cHt={path:"/followup",name:"followup",component:Wa,meta:{module:"dashboard"},children:[{name:"followup/index",path:"",component:dHt,meta:{module:"followup",title:"Follow Up Orders",gate:"follow_up_orders"}}]};const uHt={class:"tw-pb-40"},pHt={class:"tw-space-y-3"};function gHt(t,e,r,a,l,o){const i=(0,s.up)("RealTimeOnlineUsers"),w=((0,s.up)("OnlineUsers"),(0,s.up)("IndexFilters")),n=(0,s.up)("IndexRevenue"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",uHt,[(0,s._)("div",pHt,[(0,s.Wm)(i),(0,s.kq)("",!0),(0,s.Wm)(w,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(d,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const mHt={class:"tw-bg-white tw-p-5"},hHt={class:"tw-flex tw-items-center tw-justify-between"},fHt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Users",-1),bHt={class:"tw-relative tw-flex tw-items-center"},vHt=(0,s._)("span",{class:"tw-text-xs tw-absolute tw-right-0 tw-top-0 -tw-translate-y-full tw-whitespace-nowrap"},"Show All",-1),xHt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-scale-75"},yHt=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none peer-focus:tw-ring-4 peer-focus:tw-ring-orange-200 dark:peer-focus:tw-ring-orange-500 tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600 peer-checked:tw-bg-orange-500"},null,-1),_Ht={key:0,class:""},kHt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},CHt=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),DHt=[CHt],SHt={key:1,class:"tw-min-h-[50px]"},zHt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},UHt={class:"py-2 px-3 tw-rounded tw-bg-white tw-shadow-sm tw-grid tw-grid-cols-12 tw-relative tw-overflow-hidden"},qHt={class:"tw-col-span-12 tw-flex tw-items-center tw-gap-2 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},PHt={key:0,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-red-400 tw-absolute tw-top-0 tw-right-0"},LHt={key:1,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-green-500 tw-absolute tw-top-0 tw-right-0"},WHt={key:2,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-yellow-400 tw-absolute tw-top-0 tw-right-0"},AHt={class:"tw-font-bold"},$Ht={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs tw-mt-1"},EHt={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},THt={key:1},FHt={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},jHt={key:1,class:"tw-flex tw-items-center tw-gap-2"};function IHt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",mHt,[(0,s._)("div",hHt,[fHt,(0,s._)("div",bHt,[vHt,(0,s._)("label",xHt,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>o.showAll=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.showAll]]),yHt])])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_Ht,[(0,s._)("div",kHt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},DHt))),64))])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",SHt,[(0,s._)("div",zHt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",UHt,[(0,s._)("div",qHt,[t.last_action?1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",LHt)):((0,s.wg)(),(0,s.iD)("div",WHt)):((0,s.wg)(),(0,s.iD)("div",PHt)),(0,s._)("span",AHt,(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),1)]),(0,s._)("div",$Ht,[t.last_action?((0,s.wg)(),(0,s.iD)("div",THt,[1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",FHt," Online ")):((0,s.wg)(),(0,s.iD)("div",jHt,(0,wt.zw)(i.lastSeen(t.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",EHt," Never Connected "))])])])))),128))])])):(0,s.kq)("",!0)])}var VHt={components:{},data(){return{isLoaded:!1,showAll:!1}},computed:{users(){return this.showAll?this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?ze()(t.last_action).isAfter(e.last_action)?-1:1:-1)):this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?ze()(t.last_action).isAfter(e.last_action)?-1:1:-1)).slice(0,8)}},methods:{getUsers(){ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,_s.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const OHt=(0,m.Z)(VHt,[["render",IHt]]);var HHt=OHt;const MHt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[700px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},RHt={class:"tw-py-2 tw-px-4 tw-text-lg tw-flex tw-items-center tw-justify-between tw-border-b tw-border-solid tw-font-medium dark:tw-text-neutral-400 tw-text-neutral-500 tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},NHt=(0,s._)("span",null,"Users",-1),YHt={class:"tw-bg-white tw-p-4"},ZHt={key:0,class:"tw-mt-5"},KHt=(0,s._)("div",{class:"tw-p-4 tw-bg-gray-100 tw-rounded"},null,-1),BHt=(0,s._)("div",{class:"tw-p-4 tw-bg-gray-100 tw-mt-2 tw-rounded"},null,-1),QHt=(0,s._)("div",{class:"tw-p-4 tw-bg-gray-100 tw-mt-2 tw-rounded"},null,-1),JHt=(0,s._)("div",{class:"tw-p-4 tw-bg-gray-100 tw-mt-2 tw-rounded"},null,-1),GHt=[KHt,BHt,QHt,JHt],XHt={key:1,class:"tw-w-full tw-mt-5"},tMt={class:"tw-w-full tw-border tw-border-solid tw-border-gray-200 tw-rounded"},eMt=(0,s._)("thead",{class:"tw-bg-gray-100 tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-p-2 tw-text-xs tw-w-[70px] tw-text-start"},"ID"),(0,s._)("th",{class:"tw-p-2 tw-text-xs tw-text-start"},"NAME"),(0,s._)("th",{class:"tw-p-2 tw-text-xs tw-w-[150px] tw-text-start"},"LAST ACTION")])],-1),rMt={class:"tw-p-2"},aMt={class:"tw-p-2"},sMt={class:"tw-flex tw-items-center tw-gap-2"},lMt={class:"tw-p-2 tw-font-semibold tw-"},oMt={key:0},iMt={key:1};var wMt={__name:"UsersLastAction",setup(t){const e=(0,i.oR)(),r=(0,ke.iH)(""),l=(0,ke.iH)(!1),o=(0,ke.iH)([]),w=(0,s.Fl)((()=>e.getters["user/user"])),n=(0,s.Fl)((()=>e.getters["online/users"])),d=(0,s.Fl)((()=>o.value.map((t=>({...t,is_online:n.value.some((e=>e.id==t.id))}))).filter((t=>t.id!=w.value.id)).filter((t=>t.firstname.toLocaleLowerCase().includes(r.value.toLocaleLowerCase())||t.lastname.toLocaleLowerCase().includes(r.value.toLocaleLowerCase()))))),c=async()=>{l.value=!0,await ot.lastAction().then((t=>{"SUCCESS"==t.data.code&&(o.value=t.data.users)})),l.value=!1};return c(),(t,e)=>{const o=(0,s.up)("icon"),i=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{visible:!0,onCancel:e[2]||(e[2]=e=>t.$emit("cancel"))},{default:(0,s.w5)((()=>[(0,s._)("div",MHt,[(0,s._)("div",RHt,[NHt,(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),class:"tw-flex tw-items-center tw-justify-center tw-p-1 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(o,{icon:"ic:round-close",class:"tw-text-lg tw-text-gray-700"})])]),(0,s._)("div",YHt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),type:"text",placeholder:"Search",class:"tw-bg-white tw-outline-none tw-px-4 tw-py-2 tw-w-[250px] tw-rounded tw-border tw-border-solid tw-border-gray-200"},null,512),[[a.nr,r.value]]),l.value?((0,s.wg)(),(0,s.iD)("div",ZHt,GHt)):((0,s.wg)(),(0,s.iD)("div",XHt,[(0,s._)("table",tMt,[eMt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"hover:tw-bg-gray-100 tw-duration-200"},[(0,s._)("td",rMt,(0,wt.zw)(t.id),1),(0,s._)("td",aMt,[(0,s._)("div",sMt,[(0,s._)("div",{class:(0,wt.C_)([[t.is_online&&"!tw-bg-emerald-400"],"tw-w-2 tw-h-2 tw-rounded tw-bg-red-400"])},null,2),(0,s._)("p",null,(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),1)])]),(0,s._)("td",lMt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",oMt,(0,wt.zw)((0,ke.SU)(ze())(t.last_action).fromNow()),1)):(0,s.kq)("",!0),t.last_action?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",iMt," - "))])])))),128))])])]))])])])),_:1})])}}};const nMt=wMt;var dMt=nMt;const cMt={class:"tw-bg-white tw-p-4 tw-rounded tw-border tw-border-solid tw-border-gray-200"},uMt={class:"tw-flex tw-items-center tw-justify-between"},pMt=(0,s._)("h1",{class:"tw-font-semibold tw-text-lg"},"Users",-1),gMt={class:"tw-flex tw-items-center tw-gap-2"},mMt={key:0},hMt={key:0,class:"tw-flex tw-gap-2 tw-flex-wrap tw-mt-4"},fMt={class:"tw-flex tw-items-center tw-gap-2"},bMt={class:"tw-flex tw-items-center tw-gap-1 tw-font-bold"},vMt={key:0,class:"tw-uppercasex tw-font-semibold tw-text-xs tw-px-4"},xMt={key:1,class:"tw-uppercasex tw-font-semibold tw-text-xs tw-px-4"},yMt={key:1,class:"tw-mt-4 tw-flex tw-items-center tw-justify-center tw-p-4 tw-bg-gray-100 tw-rounded"},_Mt=(0,s._)("p",null,"All users are offline now",-1),kMt=[_Mt];var CMt={__name:"RealTimeOnlineUsers",setup(t){const e=(0,ke.iH)({users:!0,lastAction:!1,all:!1}),r=(0,i.oR)(),a=(0,s.Fl)((()=>{const t=r.getters["online/users"],a=t.filter((t=>!t.left_at)),s=t.filter((t=>t.left_at)).sort(((t,e)=>new Date(t.left_at)-new Date(e.left_at)));return[...a,...s].filter((t=>t.id!==r.getters["user/user"]?.id&&(!!e.value.all||"agente"==t.role)))}));return setTimeout((()=>{console.log("online: ",r.getters["online/users"])}),2e3),(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",cMt,[(0,s._)("div",uMt,[pMt,(0,s._)("div",gMt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>e.value.all=!e.value.all),title:"Show all users",class:(0,wt.C_)([[e.value.all&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-items-center tw-text-gray-700 tw-justify-center tw-p-1 tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(l,{icon:"ph:users-three",class:"tw-text-lg"})],2),(0,s._)("div",null,[(0,s._)("button",{title:"Show last action",onClick:r[1]||(r[1]=t=>e.value.lastAction=!0),class:"tw-flex tw-items-center tw-justify-center tw-p-1 tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(l,{icon:"ph:user-list",class:"tw-text-lg tw-text-gray-700"})]),e.value.lastAction?((0,s.wg)(),(0,s.j4)((0,ke.SU)(dMt),{key:0,onCancel:r[2]||(r[2]=t=>e.value.lastAction=!1)})):(0,s.kq)("",!0)]),(0,s._)("button",{onClick:r[3]||(r[3]=t=>e.value.users=!e.value.users),class:"tw-flex tw-items-center tw-justify-center tw-p-1 tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(l,{icon:e.value.users?"ion:chevron-up-outline":"ion:chevron-down-outline",class:"tw-text-lg tw-text-gray-700"},null,8,["icon"])])])]),e.value.users?((0,s.wg)(),(0,s.iD)("div",mMt,[a.value.length?((0,s.wg)(),(0,s.iD)("div",hMt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("div",{class:(0,wt.C_)([[t.left_at?"tw-border-t-gray-200":"tw-border-t-emerald-500"],"tw-p-1 tw-px-2 tw-border tw-border-solid tw-border-gray-200 tw-border-t-4 tw-rounded tw-shadow-sm tw-shadow-gray-100"])},[(0,s._)("div",fMt,[(0,s._)("div",{class:(0,wt.C_)([[t.left_at?"tw-bg-gray-200":"tw-bg-emerald-500"],"tw-w-1.5 tw-h-1.5 tw-rounded-full"])},null,2),(0,s._)("div",bMt,[(0,s._)("span",null,(0,wt.zw)(t.firstname),1),(0,s._)("span",null,(0,wt.zw)(t.lastname),1)])]),t.left_at?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",vMt,"Online")),t.left_at?((0,s.wg)(),(0,s.iD)("p",xMt,(0,wt.zw)((0,ke.SU)(ze())(t.left_at).fromNow()),1)):(0,s.kq)("",!0)],2)])))),128))])):((0,s.wg)(),(0,s.iD)("div",yMt,kMt))])):(0,s.kq)("",!0)])}}};const DMt=CMt;var SMt=DMt;const zMt={class:"tw-bg-white"},UMt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},qMt={class:"tw-p-5"};function PMt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),w=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",zMt,[(0,s._)("div",UMt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,wt.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,wt.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",qMt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(w,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const LMt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},WMt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),AMt=[WMt],$Mt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function EMt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",LMt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},AMt))),64))])):((0,s.wg)(),(0,s.iD)("div",$Mt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const TMt={class:"tw-flex tw-justify-between"},FMt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},jMt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},IMt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},VMt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function OMt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,wt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",TMt,[(0,s._)("div",null,[(0,s._)("div",FMt,[(0,s._)("p",jMt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",IMt,[(0,s._)("span",VMt,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var HMt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const MMt=(0,m.Z)(HMt,[["render",OMt]]);var RMt=MMt,NMt={components:{DashboardCard:RMt},props:{statistics:{required:!0},fetching:{required:!0}}};const YMt=(0,m.Z)(NMt,[["render",EMt]]);var ZMt=YMt;const KMt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},BMt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),QMt=[BMt],JMt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function GMt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",KMt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},QMt))),64))])):((0,s.wg)(),(0,s.iD)("div",JMt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var XMt={components:{DashboardCard:RMt},props:{statistics:{required:!0},fetching:{required:!0}}};const tRt=(0,m.Z)(XMt,[["render",GMt]]);var eRt=tRt,rRt={components:{ConfirmationTab:ZMt,DeliveryTab:eRt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const aRt=(0,m.Z)(rRt,[["render",PMt]]);var sRt=aRt;const lRt={class:"tw-bg-white tw-p-5"},oRt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),iRt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},wRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),dRt=(0,s._)("option",{value:"all",selected:""},"All",-1),cRt=["value"],uRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),gRt=(0,s._)("option",{value:"all",selected:""},"All",-1),mRt=["value"],hRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),bRt=(0,s._)("option",{value:"all",selected:""},"All",-1),vRt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),xRt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),yRt=[bRt,vRt,xRt],_Rt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},kRt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),CRt=(0,s._)("span",null,"Clear",-1),DRt=[kRt,CRt],SRt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),zRt=(0,s._)("span",null,"Filter",-1),URt=[SRt,zRt];function qRt(t,e,r,l,o,i){const w=(0,s.up)("DateFilter"),n=(0,s.up)("AgentFilter"),d=(0,s.up)("SellerFilter"),c=(0,s.up)("AffectationFilter"),u=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",lRt,[oRt,(0,s._)("div",iRt,[(0,s.Wm)(w,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.delivered_from,"onUpdate:from":e[4]||(e[4]=t=>o.filters.delivered_from=t),to:o.filters.delivered_to,"onUpdate:to":e[5]||(e[5]=t=>o.filters.delivered_to=t),label:"Delivered"},null,8,["from","to"]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[6]||(e[6]=t=>o.filters=t)},null,8,["filters"]),(0,s.Wm)(d,{filters:o.filters,onUpdate:e[7]||(e[7]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",wRt,[nRt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[dRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,cRt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s.Wm)(c,{filters:o.filters,onUpdate:e[9]||(e[9]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",uRt,[pRt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[gRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,mRt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(u,{filters:o.filters,onUpdate:e[11]||(e[11]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",hRt,[fRt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},yRt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",_Rt,[(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},DRt),(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},URt)])])])}const PRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},LRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),WRt=["value"],ARt=(0,s._)("option",{value:"all"},"All",-1),$Rt=(0,s._)("option",{value:""},"No Delivery",-1),ERt=["value"];function TRt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",PRt,[LRt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[ARt,$Rt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,ERt)))),128))],40,WRt)])}var FRt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const jRt=(0,m.Z)(FRt,[["render",TRt]]);var IRt=jRt;const VRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ORt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),HRt=["value"],MRt=(0,s._)("option",{value:"all"},"All",-1),RRt=(0,s._)("option",{value:""},"No Agent",-1),NRt=["value"];function YRt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",VRt,[ORt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[MRt,RRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,NRt)))),128))],40,HRt)])}var ZRt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const KRt=(0,m.Z)(ZRt,[["render",YRt]]);var BRt=KRt;const QRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},JRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),GRt=["value"],XRt=(0,s._)("option",{value:"all"},"All",-1),tNt=["value"];function eNt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",QRt,[JRt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[XRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,tNt)))),128))],40,GRt)])}var rNt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const aNt=(0,m.Z)(rNt,[["render",eNt]]);var sNt=aNt;const lNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oNt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function iNt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",lNt,[oNt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"]),(0,s.kq)("",!0)])}var wNt={components:{"vue-select":sZ.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return"all"!=this.filters.user_id?this.$store.getters["product/products"]?.filter((t=>t.user_id==this.filters.user_id)):this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const nNt=(0,m.Z)(wNt,[["render",iNt]]);var dNt=nNt;const cNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},uNt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},pNt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),gNt=[pNt],mNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hNt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},fNt=["value"],bNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vNt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},xNt=["value"];function yNt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",cNt,[(0,s._)("label",uNt,(0,wt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},gNt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",mNt,[(0,s._)("label",hNt,(0,wt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,fNt)]),(0,s._)("div",bNt,[(0,s._)("label",vNt,(0,wt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,xNt)])],64)):(0,s.kq)("",!0)],64)}var _Nt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ze()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ze()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ze()().startOf("month").format("YYYY-MM-DD"),a=ze()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ze()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ze()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const kNt=(0,m.Z)(_Nt,[["render",yNt]]);var CNt=kNt,DNt={components:{AffectationFilter:IRt,AgentFilter:BRt,ProductFilter:dNt,DateFilter:CNt,SellerFilter:sNt},props:{},data(){return{confirmations:jn,deliveries:Hn,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const SNt=(0,m.Z)(DNt,[["render",qRt]]);var zNt=SNt;const UNt={key:0},qNt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function PNt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",UNt,[(0,s._)("div",qNt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const LNt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},WNt={class:"tw-flex tw-justify-between"},ANt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},$Nt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},ENt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},TNt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function FNt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",LNt,[(0,s._)("div",WNt,[(0,s._)("div",null,[(0,s._)("div",ANt,[(0,s._)("p",$Nt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",ENt,[(0,s._)("span",TNt,(0,wt.zw)(o.format(r.value)),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var jNt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const INt=(0,m.Z)(jNt,[["render",FNt]]);var VNt=INt,ONt={components:{RevenueCard:VNt},props:{statistics:{required:!0},fetching:{required:!0}}};const HNt=(0,m.Z)(ONt,[["render",PNt]]);var MNt=HNt,RNt={components:{OnlineUsers:HHt,IndexStatistics:sRt,IndexFilters:zNt,IndexRevenue:MNt,RealTimeOnlineUsers:SMt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Vu.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const NNt=(0,m.Z)(RNt,[["render",gHt]]);var YNt=NNt;const ZNt={class:"tw-pb-40"},KNt={class:"tw-space-y-3"};function BNt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexRevenue"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",ZNt,[(0,s._)("div",KNt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const QNt={class:"tw-bg-white"},JNt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},GNt={class:"tw-p-5"};function XNt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),w=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",QNt,[(0,s._)("div",JNt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,wt.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,wt.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",GNt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(w,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const tYt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},eYt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),rYt=[eYt],aYt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function sYt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",tYt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},rYt))),64))])):((0,s.wg)(),(0,s.iD)("div",aYt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const lYt={class:"tw-flex tw-justify-between"},oYt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},iYt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},wYt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},nYt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function dYt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,wt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",lYt,[(0,s._)("div",null,[(0,s._)("div",oYt,[(0,s._)("p",iYt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",wYt,[(0,s._)("span",nYt,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var cYt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const uYt=(0,m.Z)(cYt,[["render",dYt]]);var pYt=uYt,gYt={components:{DashboardCard:pYt},props:{statistics:{required:!0},fetching:{required:!0}}};const mYt=(0,m.Z)(gYt,[["render",sYt]]);var hYt=mYt;const fYt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},bYt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),vYt=[bYt],xYt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function yYt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",fYt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},vYt))),64))])):((0,s.wg)(),(0,s.iD)("div",xYt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var _Yt={components:{DashboardCard:pYt},props:{statistics:{required:!0},fetching:{required:!0}}};const kYt=(0,m.Z)(_Yt,[["render",yYt]]);var CYt=kYt,DYt={components:{ConfirmationTab:hYt,DeliveryTab:CYt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const SYt=(0,m.Z)(DYt,[["render",XNt]]);var zYt=SYt;const UYt={class:"tw-bg-white tw-p-5"},qYt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),PYt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},LYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},WYt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),AYt=(0,s._)("option",{value:"all",selected:""},"All",-1),$Yt=["value"],EYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},TYt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),FYt=(0,s._)("option",{value:"all",selected:""},"All",-1),jYt=["value"],IYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},VYt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),OYt=(0,s._)("option",{value:"all",selected:""},"All",-1),HYt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),MYt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),RYt=[OYt,HYt,MYt],NYt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},YYt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),ZYt=(0,s._)("span",null,"Clear",-1),KYt=[YYt,ZYt],BYt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),QYt=(0,s._)("span",null,"Filter",-1),JYt=[BYt,QYt];function GYt(t,e,r,l,o,i){const w=(0,s.up)("DateFilter"),n=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",UYt,[qYt,(0,s._)("div",PYt,[(0,s.Wm)(w,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",LYt,[WYt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[AYt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,$Yt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s._)("div",EYt,[TYt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[FYt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,jYt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[6]||(e[6]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",IYt,[VYt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},RYt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",NYt,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},KYt),(0,s._)("button",{onClick:e[9]||(e[9]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},JYt)])])])}const XYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tZt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function eZt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",XYt,[tZt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var rZt={components:{"vue-select":sZ.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const aZt=(0,m.Z)(rZt,[["render",eZt]]);var sZt=aZt;const lZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oZt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},iZt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),wZt=[iZt],nZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dZt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},cZt=["value"],uZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pZt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},gZt=["value"];function mZt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",lZt,[(0,s._)("label",oZt,(0,wt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},wZt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",nZt,[(0,s._)("label",dZt,(0,wt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,cZt)]),(0,s._)("div",uZt,[(0,s._)("label",pZt,(0,wt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,gZt)])],64)):(0,s.kq)("",!0)],64)}var hZt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ze()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ze()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ze()().startOf("month").format("YYYY-MM-DD"),a=ze()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ze()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ze()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const fZt=(0,m.Z)(hZt,[["render",mZt]]);var bZt=fZt,vZt={components:{ProductFilter:sZt,DateFilter:bZt},props:{},data(){return{confirmations:jn,deliveries:Hn,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const xZt=(0,m.Z)(vZt,[["render",GYt]]);var yZt=xZt;const _Zt={key:0},kZt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function CZt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",_Zt,[(0,s._)("div",kZt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const DZt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},SZt={class:"tw-flex tw-justify-between"},zZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},UZt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},qZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},PZt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function LZt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",DZt,[(0,s._)("div",SZt,[(0,s._)("div",null,[(0,s._)("div",zZt,[(0,s._)("p",UZt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",qZt,[(0,s._)("span",PZt,(0,wt.zw)(r.value)+"$ ",1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var WZt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const AZt=(0,m.Z)(WZt,[["render",LZt]]);var $Zt=AZt,EZt={components:{RevenueCard:$Zt},props:{statistics:{required:!0},fetching:{required:!0}}};const TZt=(0,m.Z)(EZt,[["render",CZt]]);var FZt=TZt,jZt={components:{IndexStatistics:zYt,IndexFilters:yZt,IndexRevenue:FZt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,JAt.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"seller"!=this.user.role&&this.$router.push({name:"404"})}};const IZt=(0,m.Z)(jZt,[["render",BNt]]);var VZt=IZt;const OZt={class:"tw-pb-40"},HZt={class:"tw-space-y-3"};function MZt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexAnalytics");return(0,s.wg)(),(0,s.iD)("div",OZt,[(0,s._)("div",HZt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{analytics:l.analytics,fetching:l.fetching},null,8,["analytics","fetching"])])])}const RZt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},NZt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),YZt=[NZt],ZZt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function KZt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return r.fetching?((0,s.wg)(),(0,s.iD)("div",RZt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},YZt))),64))])):((0,s.wg)(),(0,s.iD)("div",ZZt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.analytics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))}const BZt={class:"tw-flex tw-justify-between"},QZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},JZt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},GZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},XZt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function tKt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,wt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",BZt,[(0,s._)("div",null,[(0,s._)("div",QZt,[(0,s._)("p",JZt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",GZt,[(0,s._)("span",XZt,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var eKt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const rKt=(0,m.Z)(eKt,[["render",tKt]]);var aKt=rKt,sKt={components:{DashboardCard:aKt},props:{analytics:{required:!0},fetching:{required:!0}}};const lKt=(0,m.Z)(sKt,[["render",KZt]]);var oKt=lKt;const iKt={class:"tw-bg-white tw-p-5"},wKt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),nKt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},dKt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},cKt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),uKt=(0,s._)("span",null,"Clear",-1),pKt=[cKt,uKt],gKt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),mKt=(0,s._)("span",null,"Filter",-1),hKt=[gKt,mKt];function fKt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),w=(0,s.up)("SellerFilter"),n=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",iKt,[wKt,(0,s._)("div",nKt,[(0,s.Wm)(i,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(i,{from:l.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(w,{filters:l.filters,onUpdate:e[4]||(e[4]=t=>l.filters=t)},null,8,["filters"]),(0,s.Wm)(n,{filters:l.filters,onUpdate:e[5]||(e[5]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",dKt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},pKt),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},hKt)])])])}const bKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vKt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),xKt=["value"],yKt=(0,s._)("option",{value:"all"},"All",-1),_Kt=["value"];function kKt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",bKt,[vKt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[yKt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,_Kt)))),128))],40,xKt)])}var CKt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const DKt=(0,m.Z)(CKt,[["render",kKt]]);var SKt=DKt;const zKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},UKt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function qKt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",zKt,[UKt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var PKt={components:{"vue-select":sZ.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const LKt=(0,m.Z)(PKt,[["render",qKt]]);var WKt=LKt;const AKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$Kt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},EKt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),TKt=[EKt],FKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},jKt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},IKt=["value"],VKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},OKt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},HKt=["value"];function MKt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",AKt,[(0,s._)("label",$Kt,(0,wt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},TKt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",FKt,[(0,s._)("label",jKt,(0,wt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,IKt)]),(0,s._)("div",VKt,[(0,s._)("label",OKt,(0,wt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,HKt)])],64)):(0,s.kq)("",!0)],64)}var RKt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ze()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ze()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ze()().startOf("month").format("YYYY-MM-DD"),a=ze()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ze()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ze()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const NKt=(0,m.Z)(RKt,[["render",MKt]]);var YKt=NKt,ZKt={components:{SellerFilter:SKt,ProductFilter:WKt,DateFilter:YKt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,user_id:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const KKt=(0,m.Z)(ZKt,[["render",fKt]]);var BKt=KKt,QKt={components:{IndexAnalytics:oKt,IndexFilters:BKt},data(){return{filters:null,analytics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Vu.analytics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.analytics=t.data.data.analytics.analytics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const JKt=(0,m.Z)(QKt,[["render",MZt]]);var GKt=JKt;const XKt={class:"tw-flex tw-flex-wrap tw-justify-center md:tw-flex-nowrap tw-items-center tw-gap-2"};function tBt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("ConfirmationChart"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onUpdate:o.updateFilters,onFilter:o.applyFilters},null,8,["onUpdate","onFilter"]),(0,s._)("div",XKt,[(0,s.Wm)(w,{filters:l.appliedFilters},null,8,["filters"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const eBt={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1 tw-py-2"},rBt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),aBt=[rBt];function sBt(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",eBt,[r.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(9,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},aBt))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(r.statistics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])}const lBt={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},oBt={class:"tw-flex tw-justify-between"},iBt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},wBt={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},nBt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},dBt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function cBt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",lBt,[(0,s._)("div",oBt,[(0,s._)("div",null,[(0,s._)("div",iBt,[(0,s._)("p",wBt,(0,wt.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",nBt,[(0,s._)("span",dBt,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var uBt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const pBt=(0,m.Z)(uBt,[["render",cBt]]);var gBt=pBt,mBt={components:{DashCard:gBt},props:{statistics:{required:!0},fetching:{required:!0}}};const hBt=(0,m.Z)(mBt,[["render",sBt]]);var fBt=hBt;class bBt{async getOrdersCountByDays(t){return await E.getCookie(),A.get("api/analytics/orders-count-by-days",{params:t})}async getChartConfirmation(t){return await E.getCookie(),A.get("api/analytics/chart-confirmation",{params:t})}async getRevenue(t){return await E.getCookie(),A.get("api/analytics/revenue",{params:t})}async getConfirmationsCount(t){return await E.getCookie(),A.get("api/analytics/confirmations-count",{params:t})}async getDeliveriesCount(t){return await E.getCookie(),A.get("api/analytics/deliveries-count",{params:t})}async getOrdersBySellers(t){return await E.getCookie(),A.get("api/analytics/orders-by-sellers",{params:t})}async getProductsPerformance(t){return await E.getCookie(),A.get("api/analytics/products-by-performance",{params:t})}}var vBt=new bBt;const xBt={key:0,class:"tw-bg-white tw-p-2 tw-w-fit tw-my-2 tw-rounded-lg tw-h-[300px]"},yBt={class:"tw-flex tw-items-center tw-gap-2"},_Bt=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),kBt={class:"tw-px-1 tw-bg-emerald-400 tw-text-white tw-text-sm tw-rounded"},CBt=(0,s._)("div",{class:"tw-flex tw-gap-x"},[(0,s._)("div",{class:"tw-w-[250px] tw-p-5 tw-h-[230px] tw-flex tw-items-center tw-justify-center"},[(0,s._)("div",{class:"tw-w-[75%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-aspect-square tw-animate-pulse"})])],-1),DBt={key:1,class:"tw-bg-white tw-w-fit tw-my-2 tw-rounded-lg tw-p-2 tw-h-[300px]"},SBt={class:"tw-flex tw-items-center tw-gap-2"},zBt=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),UBt={class:"tw-px-1 tw-bg-emerald-400 tw-text-white tw-text-sm tw-rounded"},qBt={class:"tw-flex tw-gap-2"},PBt={class:"tw-w-fit tw-flex tw-items-center tw-h-full"};var LBt={__name:"ConfirmationChart",props:{filters:{type:Object,default:()=>({})}},setup(t){const e=t,r=(0,ke.iH)(!0),a=(0,ke.iH)(0),l=(0,ke.iH)([77]),o=(0,s.Fl)((()=>({chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front"},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-1,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#111",fontSize:"16px",fontFamily:"cairo",fontWeight:"medium"},value:{formatter:function(t){return parseInt(t)+"%"},color:"#111",fontSize:"25px",fontFamily:"cairo",fontWeight:"bold",show:!0}}}},fill:{type:"gradient",colors:l.value[0]>50?["#10b981"]:["#f43f5e"],gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:l.value[0]>50?["#22c55e","#10b981"]:["#f43f5e","#e11d48"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Confirmed"]}))),i=async()=>{console.log("getData called"),r.value=!0;const{treated_from:t,treated_to:s}=e.filters||{};try{const e=await vBt.getChartConfirmation({treated_from:t,treated_to:s});200===e.status&&e.data&&e.data.data&&(a.value=e.data.data.total,l.value[0]=e.data.data.rate)}catch(o){console.log(o),alert("An error occurred while fetching data. Please try again.")}finally{r.value=!1}};return(0,s.YP)((()=>e.filters),(t=>{console.log("New filters in ConfirmationChart:",t),i()}),{deep:!0}),(t,e)=>{const i=(0,s.up)("icon"),w=(0,s.up)("apexchart");return r.value?((0,s.wg)(),(0,s.iD)("div",xBt,[(0,s._)("div",yBt,[_Bt,(0,s._)("p",kBt,[(0,s.Wm)(i,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),CBt])):((0,s.wg)(),(0,s.iD)("div",DBt,[(0,s._)("div",SBt,[zBt,(0,s._)("p",UBt,(0,wt.zw)((new Intl.NumberFormat).format(a.value)),1)]),(0,s._)("div",qBt,[(0,s._)("div",PBt,[(0,s.Wm)(w,{type:"radialBar",height:"230",width:"230",options:o.value,series:l.value},null,8,["options","series"])])])]))}}};const WBt=LBt;var ABt=WBt;const $Bt={class:"tw-bg-white tw-p-5"},EBt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),TBt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},FBt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},jBt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),IBt=(0,s._)("span",null,"Clear",-1),VBt=[jBt,IBt],OBt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),HBt=(0,s._)("span",null,"Filter",-1),MBt=[OBt,HBt];function RBt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",$Bt,[EBt,(0,s._)("div",TBt,[(0,s.Wm)(i,{from:l.filters.dropped_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(i,{from:l.filters.treated_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.treated_from=t),to:l.filters.treated_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.treated_to=t),label:"Treated"},null,8,["from","to"]),(0,s._)("div",FBt,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},VBt),(0,s._)("button",{onClick:e[5]||(e[5]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},MBt)])])])}const NBt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YBt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},ZBt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),KBt=[ZBt],BBt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},QBt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},JBt=["value"],GBt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},XBt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},tQt=["value"];function eQt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",NBt,[(0,s._)("label",YBt,(0,wt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},KBt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",BBt,[(0,s._)("label",QBt,(0,wt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,JBt)]),(0,s._)("div",GBt,[(0,s._)("label",XBt,(0,wt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,tQt)])],64)):(0,s.kq)("",!0)],64)}var rQt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ze()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ze()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ze()().startOf("month").format("YYYY-MM-DD"),a=ze()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ze()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ze()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}},from:{immediate:!0,handler(t){null===t&&(this.filterBy="all")}},to:{immediate:!0,handler(t){null===t&&(this.filterBy="all")}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const aQt=(0,m.Z)(rQt,[["render",eQt]]);var sQt=aQt,lQt={components:{DateFilter:sQt},props:{},data(){return{dateFilter:["",""],filters:{dropped_from:null,dropped_to:null,treated_from:null,treated_to:null}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={dropped_from:null,dropped_to:null,treated_from:null,treated_to:null}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const oQt=(0,m.Z)(lQt,[["render",RBt]]);var iQt=oQt,wQt={components:{IndexStatistics:fBt,IndexFilters:iQt,ConfirmationChart:ABt},data(){return{currentFilters:{dropped_from:null,dropped_to:null,treated_from:null,treated_to:null},appliedFilters:{dropped_from:null,dropped_to:null,treated_from:null,treated_to:null},statistics:null,fetching:!0}},methods:{updateFilters(t){this.currentFilters=t},async applyFilters(){this.appliedFilters={...this.currentFilters},this.fetching=!0;try{const t=await F.statistics(this.appliedFilters);"SUCCESS"===t.data.code&&(this.statistics=t.data.data.statistics)}catch(t){console.error("Error fetching statistics:",t),this.$handleApiError(t)}finally{this.fetching=!1}}}};const nQt=(0,m.Z)(wQt,[["render",tBt]]);var dQt=nQt,cQt={name:"dashboards",path:"/dashboards",component:Wa,meta:{module:"dashboards",gate:"all"},children:[{name:"dashboards/admin",path:"admin",component:YNt,meta:{module:"dashboards",subModule:"dashboards/admin",title:"Dashboard",gate:"all"}},{name:"dashboards/seller",path:"seller",component:VZt,meta:{module:"dashboards",subModule:"dashboards/seller",title:"Dashboard",gate:"all"}},{name:"dashboards/analytics",path:"/analytics",component:GKt,meta:{module:"dashboards",subModule:"dashboards/analytics",title:"Dashboard Analytics",gate:"show_all_ads"}},{name:"dashboards/agent",path:"agent",component:dQt,meta:{module:"dashboards",subModule:"dashboards/agent",title:"Dashboard",gate:"all"}}]};class uQt{async paginate(t="",e){return await E.getCookie(),A.get("api/sourcings"+t,{params:e})}async create(t){return await E.getCookie(),A.post("api/sourcings/new",t)}async update(t,e){return await E.getCookie(),A.post("api/sourcings/"+t,e)}async get(t){return await E.getCookie(),A.get("api/sourcings/"+t)}async history(t){return await E.getCookie(),A.get("api/sourcings/"+t+"/history")}async delete(t){return await E.getCookie(),A["delete"]("api/sourcings/"+t)}}var pQt=new uQt;const gQt=[{name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-600 tw-font-medium"},{name:"Quoting",value:"quoting",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"},{name:"Confirmed",value:"confirmed",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"}],mQt=[{step:1,name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{step:2,name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-500 tw-font-medium"},{step:3,name:"Packing",value:"packing",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{step:4,name:"Shipped",value:"shipped",class:"tw-text-white tw-bg-violet-500 tw-font-medium"},{step:5,name:"Delivered",value:"delivered",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"},{step:0,name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"}],hQt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fQt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Quotation",-1),bQt=(0,s._)("option",{value:"all"},"All",-1),vQt=["value"];var xQt={__name:"FilterByQuotation",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",hQt,[fQt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ke.SU)(e).setFilter("quotation_status",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[bQt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(gQt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,wt.zw)(t.name),9,vQt)))),128))],32)]))}};const yQt=xQt;var _Qt=yQt;const kQt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},CQt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Sourcing",-1),DQt=(0,s._)("option",{value:"all"},"All",-1),SQt=["value"];var zQt={__name:"FilterBySourcing",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",kQt,[CQt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ke.SU)(e).setFilter("sourcing_status",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[DQt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(mQt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,wt.zw)(t.name),9,SQt)))),128))],32)]))}};const UQt=zQt;var qQt=UQt;const PQt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},LQt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),WQt=(0,s._)("option",{value:"all"},"All",-1),AQt=["value"];var $Qt={__name:"FilterBySeller",setup(t){const e=(0,s.f3)("options"),r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/fetched"])),l=(0,s.Fl)((()=>r.getters["user/users"])),o=(0,s.Fl)((()=>a.value?l.value.filter((t=>"seller"==t.role.name)):[]));return(t,r)=>((0,s.wg)(),(0,s.iD)("div",PQt,[LQt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ke.SU)(e).setFilter("user_id",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[WQt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,AQt)))),128))],32)]))}};const EQt=$Qt;var TQt=EQt;const FQt={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-4"},jQt={key:0,class:"md:tw-col-span-4 tw-col-span-12"},IQt={key:1,class:"md:tw-col-span-4 tw-col-span-12"},VQt={key:2,class:"md:tw-col-span-4 tw-col-span-12"},OQt={class:"tw-col-span-12 tw-flex tw-justify-end"},HQt=(0,s._)("span",null,"Filter",-1),MQt=[HQt];var RQt={__name:"FilterOption",setup(t){const e=(0,s.f3)("options");(0,ke.Vh)(e,"options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",FQt,[["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",jQt,[(0,s.Wm)((0,ke.SU)(TQt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",IQt,[(0,s.Wm)((0,ke.SU)(_Qt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",VQt,[(0,s.Wm)((0,ke.SU)(qQt))])):(0,s.kq)("",!0),(0,s._)("div",OQt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>(0,ke.SU)(e).getData()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},MQt)])])]))}};const NQt=RQt;var YQt=NQt;const ZQt={class:"tw-relative tw-h-[40px] tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},KQt=["value"],BQt=["value"],QQt=["value"];var JQt={__name:"SearchOption",emits:["update:search-by-field","update:search","filter"],setup(t,{emit:e}){const r=e,l=(0,ke.iH)([{field:"all",name:"All"},{field:"id",name:"ID"}]),o=(0,ke.iH)("all"),i=(0,ke.iH)(""),w=t=>{r("update:search-by-field",t.target.value)},n=t=>{r("update:search",t.target.value)},d=()=>{r("filter")};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",ZQt,[(0,s._)("select",{onChange:w,value:o.value,class:"tw-block tw-h-[40px] !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.field,key:t.field},(0,wt.zw)(t.name),9,BQt)))),128))],40,KQt),(0,s._)("input",{type:"text",placeholder:"Search",value:i.value,onInput:n,onKeyup:(0,a.D2)(d,["enter"]),class:"tw-block tw-h-[40px] tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,QQt),(0,s._)("button",{onClick:d,class:"tw-absolute tw-h-[40px] tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])]))}};const GQt=JQt;var XQt=GQt;const tJt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between tw-flex-wrap"},eJt={class:"tw-inline-flex tw-flex-wrap tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},rJt={class:"tw-relative tw-h-[40px]"},aJt=["value"],sJt={class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},lJt={key:0},oJt={class:"tw-overflow-hidden tw-col-span-1"};var iJt={__name:"IndexOptions",setup(t){const e=(0,ke.qj)({filters:!1}),r=(0,s.f3)("options"),a=t=>{r.setOptions({...r.options,per_page:parseInt(t)}),r.getData()};return(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",tJt,[(0,s._)("div",eJt,[(0,s._)("button",{class:(0,wt.C_)([["!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:!0}," View all "),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Filters",class:(0,wt.C_)([[e.filters&&"!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),onClick:r[0]||(r[0]=t=>e.filters=!e.filters)},[(0,s.Wm)(l,{icon:"mi:filter",class:"tw-text-2xl"})],2)):(0,s.kq)("",!0),(0,s._)("div",rJt,[(0,s._)("select",{value:10,onChange:r[1]||(r[1]=t=>a(t.target.value)),class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)([5,10,20,50,100,250,500],(t=>(0,s._)("option",{value:t,key:t},(0,wt.zw)(t),9,aJt))),64))],32),(0,s._)("div",sJt,[(0,s.Wm)(l,{icon:"mdi:chevron-down",class:"tw-text-xl"})])])]),(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(XQt))])]),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",lJt,[(0,s._)("div",{class:(0,wt.C_)([[e.filters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",oJt,[(0,s.Wm)((0,ke.SU)(YQt))])],2)])):(0,s.kq)("",!0)])}}};const wJt=iJt;var nJt=wJt;const dJt={class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},cJt=["colspan"],uJt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},pJt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),gJt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),mJt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),hJt=[gJt,mJt];var fJt={__name:"TableLoading",props:{columns:{type:Number,required:!1,default:10},rows:{type:Number,required:!1,default:10}},setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("tbody",dJt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:e.rows},[(0,s._)("div",uJt,[pJt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.columns,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},hJt)))),128))])],8,cJt)])]))}};const bJt=fJt;var vJt=bJt;const xJt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},yJt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},_Jt=(0,s._)("span",null,"Sourcing History",-1),kJt={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},CJt={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},DJt={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},SJt={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},zJt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-6 tw-h-6 tw-bg-neutral-100 tw-rounded-full -tw-left-3 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),UJt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},qJt={class:"tw-text-gray-500"},PJt={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},LJt=["onMouseenter","onMouseleave"],WJt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600"},AJt={class:"tw-flex tw-flex-col tw-gap-4"},$Jt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},EJt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},TJt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},FJt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},jJt={key:1,class:"tw-w-full"},IJt=(0,s._)("div",{class:"tw-items-center tw-justify-between tw-mb-3 sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},"Added a note:")],-1),VJt={class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var OJt={__name:"TableActionsHistory",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r={product_name:"Product name",product_url:"Product URL",video_url:"Video URL",is_paid:"Paid",paid_at:"Paid at",estimated_quantity:"Estimated Quantity",destination_country:"Destination Country",note_by_seller:"Note by seller",note_by_admin:"Note by admin",shipping_method:"Shipping Method",quotation_status:"Quotation Status",sourcing_status:"Sourcing Status",cost_per_unit:"Unit Price",total_cost:"Total Cost",additional_fees:"Additional Fees"},a={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}},l=t,o=e,i=(0,ke.Vh)(l,"visible"),w=(0,ke.Vh)(l,"sourcing"),n=(0,ke.iH)(!0),d=(0,ke.iH)([!0]),c=async()=>{n.value=!0,await pQt.history(w.value.id).then((t=>{"SUCCESS"==t.data.code&&(d.value=t.data.history,d.value.reverse())})),n.value=!1};return c(),(t,e)=>{const l=(0,s.up)("icon"),w=(0,s.up)("loading"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(c,{visible:i.value,onCancel:e[1]||(e[1]=t=>o("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",xJt,[(0,s._)("div",yJt,[_Jt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(l,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),n.value?((0,s.wg)(),(0,s.iD)("div",kJt,[(0,s.Wm)(w)])):(0,s.kq)("",!0),n.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",CJt,[d.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",DJt,"There is no history for this sourcing yet.")),d.value.length?((0,s.wg)(),(0,s.iD)("ol",SJt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-mb-10 tw-mx-6"},[zJt,(0,s._)("div",UJt,[(0,s._)("p",qJt,[(0,s.Uk)(" by "),(0,s._)("span",PJt,(0,wt.zw)(t.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:e=>t.isHovering=!0,onMouseleave:e=>t.isHovering=!1},(0,wt.zw)(t.isHovering?(0,ke.SU)(ze())(t.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ke.SU)(ze())(t.created_at).fromNow()),41,LJt)]),(0,s._)("div",WJt,[(0,s._)("div",AJt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.fields,(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[["note_by_seller","note_by_admin"].includes(t.field)?((0,s.wg)(),(0,s.iD)("div",jJt,[IJt,(0,s._)("div",VJt,(0,wt.zw)(t.new_value),1)])):((0,s.wg)(),(0,s.iD)("div",$Jt,[(0,s.Uk)("Changed "),(0,s._)("span",EJt,(0,wt.zw)(r[t.field]),1),(0,s.Uk)(" from "),(0,s._)("span",TJt,(0,wt.zw)(t.field in a?a[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",FJt,(0,wt.zw)(t.field in a?a[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])])])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const HJt=OJt;var MJt=HJt;const RJt={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"};var NJt={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,ke.qj)({history:!1}),a=(0,ke.Vh)(e,"item");return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",RJt,["seller"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:0,to:{name:"sourcings.show",params:{id:a.value.id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-blue-300 tw-text-blue-500 tw-duration-200 hover:tw-bg-blue-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"solar:eye-bold"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:1,to:{name:"sourcings.show",params:{id:a.value.id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-emerald-300 tw-text-emerald-500 tw-duration-200 hover:tw-bg-emerald-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"clarity:edit-solid"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[0]||(e[0]=t=>r.history=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-purple-300 tw-text-purple-500 tw-duration-200 hover:tw-bg-purple-500 hover:tw-text-white"},[(0,s.Wm)(l,{icon:"iconamoon:history"})])):(0,s.kq)("",!0)]),"admin"==t.$user.role&&r.history?((0,s.wg)(),(0,s.j4)((0,ke.SU)(MJt),{key:0,visible:r.history,"onUpdate:visible":e[1]||(e[1]=t=>r.history=t),sourcing:a.value},null,8,["visible","sourcing"])):(0,s.kq)("",!0)])}}};const YJt=NJt;var ZJt=YJt;const KJt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},BJt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},QJt={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},JJt={class:"tw-w-[100px] tw-truncate"},GJt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},XJt={class:"tw-w-[200px] tw-truncate"},tGt={class:"tw-px-4 tw-text-sm tw-font-medium tw-whitespace-nowrap"},eGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},rGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},aGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},sGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},lGt={key:0,class:"tw-flex tw-items-center tw-justify-center tw-gap-2"},oGt={key:1,class:"tw-flex tw-items-center tw-justify-center tw-gap-2"},iGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},wGt={class:"tw-px-4"},nGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},dGt={class:"tw-px-4"},cGt=["admin"];var uGt={__name:"TableRow",props:{item:{type:Object,required:!0}},setup(t){const e=(0,i.oR)(),r=(0,s.Fl)((()=>e.getters["user/user"])),a=t,l=(0,ke.Vh)(a,"item"),o=(0,ke.iH)(gQt.find((t=>t.value==l.value.quotation_status))),w=(0,ke.iH)(mQt.find((t=>t.value==l.value.sourcing_status)));return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",KJt,(0,wt.zw)(l.value.id),1),(0,s._)("td",BJt,(0,wt.zw)((0,ke.SU)(ze())(l.value.created_at).format("YYYY-MM-DD HH:mm:ss")),1),"admin"==r.value.role?((0,s.wg)(),(0,s.iD)("td",QJt,[(0,s._)("p",JJt,(0,wt.zw)(l.value.seller_name),1)])):(0,s.kq)("",!0),(0,s._)("td",GJt,[(0,s._)("p",XJt,(0,wt.zw)(l.value.product_name),1)]),(0,s._)("td",tGt,[(0,s._)("p",{class:(0,wt.C_)({"tw-text-xs tw-text-center  tw-py-1 tw-font-medium tw-rounded tw-bg-blue-100 darkx:tw-bg-gray-800 darkx:tw-text-orange-400":"ocean-freight"===l.value.shipping_method,"tw-text-xs tw-text-center tw-py-1 tw-font-medium tw-bg-yellow-100  tw-rounded":"air-freight"===l.value.shipping_method})},(0,wt.zw)("air-freight"===l.value.shipping_method?"By Air":"ocean-freight"===l.value.shipping_method?"By Ocean":l.value.shipping_method),3)]),(0,s._)("td",eGt,(0,wt.zw)((0,ke.SU)(c))+(0,wt.zw)(l.value.total_cost),1),(0,s._)("td",rGt,(0,wt.zw)(l.value.estimated_quantity),1),(0,s._)("td",aGt,(0,wt.zw)(l.value.destination_country),1),(0,s._)("td",sGt,[(0,s._)("div",null,[l.value.is_paid?((0,s.wg)(),(0,s.iD)("div",lGt,[(0,s.Wm)(a,{icon:"mingcute:check-2-fill",class:"tw-text-xl tw-text-emerald-500"})])):((0,s.wg)(),(0,s.iD)("div",oGt,[(0,s.Wm)(a,{icon:"mdi:clock-time-two-outline",class:"tw-text-xl tw-text-yellow-500"})]))])]),(0,s._)("td",iGt,[(0,s._)("div",wGt,[(0,s._)("div",{class:(0,wt.C_)([o.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,wt.zw)(o.value.name),3)])]),(0,s._)("td",nGt,[(0,s._)("div",dGt,[(0,s._)("div",{class:(0,wt.C_)([w.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,wt.zw)(w.value.name),3)])]),(0,s._)("td",{admin:r.value},[(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(ZJt),{item:l.value},null,8,["item"])])],8,cGt)])}}};const pGt=uGt;var gGt=pGt;const mGt={class:"tw-overflow-x-auto"},hGt={class:"tw-inline-block tw-min-w-full tw-align-middle"},fGt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},bGt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},vGt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},xGt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},yGt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},_Gt=["colspan"],kGt=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No request was found ! ",-1),CGt=[kGt];var DGt={__name:"IndexTable",props:{loading:{required:!0,type:Boolean},sourcings:{required:!0,type:Array}},setup(t){const e=(0,i.oR)(),r=(0,s.Fl)((()=>e.getters["user/user"])),a=t,l=(0,ke.Vh)(a,"loading"),o=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"seller",name:"Seller",class:"tw-max-w-[150px] tw-truncate"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"total_cost",name:"Total Price",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"paid",name:"Paid",class:"tw-w-[80px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],w=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"total_cost",name:"Total Price",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"paid",name:"Paid",class:"tw-w-[80px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],n=(0,ke.iH)("admin"==r.value.role?o:w),d=(0,ke.Vh)(a,"sourcings");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",mGt,[(0,s._)("div",hGt,[(0,s._)("div",fGt,[(0,s._)("table",bGt,[(0,s._)("thead",vGt,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.field,class:(0,wt.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],2)))),128))])]),l.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(vJt),{key:1,columns:n.value.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[d.value.length?((0,s.wg)(),(0,s.iD)("tbody",xGt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(gGt),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),d.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",yGt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:n.value.length},CGt,8,_Gt)])]))],64))])])])])]))}};const SGt=DGt;var zGt=SGt;const UGt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},qGt={class:"tw-px-3"},PGt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},LGt={class:"tw-flex tw-items-center tw-gap-x-3"},WGt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Requested Products ",-1),AGt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},$Gt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all requested products. ",-1),EGt={key:0},TGt=(0,s._)("span",null,"Request new product",-1),FGt={class:"tw-mt-5"};var jGt={__name:"IndexSourcingView",setup(t){const e=(0,ke.iH)([]),r=(0,ke.qj)({total:0,current_page:1,last_page:1,from:1,to:1,per_page:10,sort_by:"created_at",sort_order:"desc",filters:{}}),a=(0,ke.iH)(!1),l=async()=>{a.value=!0,await pQt.paginate("",r).then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.sourcings.data,r.total=t.data.sourcings.total,r.current_page=t.data.sourcings.current_page,r.last_page=t.data.sourcings.last_page,r.from=t.data.sourcings.from,r.to=t.data.sourcings.to,r.per_page=t.data.sourcings.per_page,r.page=r.current_page)})),a.value=!1},o=t=>{r.current_page=t,r.page=t,l()};return(0,s.JJ)("options",{options:r,getData:l,setOptions:t=>Object.assign(r,t),setFilter:(t,e)=>r.filters[t]=e}),l(),(t,l)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",UGt,[(0,s._)("section",qGt,[(0,s._)("div",PGt,[(0,s._)("div",null,[(0,s._)("div",LGt,[WGt,(0,s._)("span",AGt,(0,wt.zw)(r.total)+" request",1)]),$Gt]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",EGt,[(0,s.Wm)(i,{to:{name:"sourcings.new"},class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},{default:(0,s.w5)((()=>[TGt])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(nJt))]),(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(zGt),{loading:a.value,sourcings:e.value},null,8,["loading","sourcings"])]),(0,s._)("div",FGt,[(0,s.Wm)((0,ke.SU)(iw),{total:r.total,"current-page":r.current_page,"last-page":r.last_page,from:r.from,to:r.to,"per-page":r.per_page,onPageChange:o},null,8,["total","current-page","last-page","from","to","per-page"])])])])}}};const IGt=jGt;var VGt=IGt;const OGt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},HGt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),MGt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),RGt={class:"tw-p-5"},NGt={class:"tw-grid tw-grid-cols-5"},YGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},ZGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),KGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},BGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),QGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},JGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),GGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},XGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),tXt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},eXt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var rXt={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=(0,b.yj)(),r=t,a=(0,ke.Vh)(r,"sourcing"),l=(0,s.Fl)((()=>gQt.find((t=>t.value==a.value.quotation_status)))),o=(0,s.Fl)((()=>mQt.find((t=>t.value==a.value.sourcing_status))));return(t,r)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",OGt,[(0,s._)("p",null,[HGt,(0,s.Uk)(" "+(0,wt.zw)((0,ke.SU)(e).params.id),1)]),(0,s._)("p",null,[MGt,(0,s.Uk)(" "+(0,wt.zw)((0,ke.SU)(ze())(a.value.created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",RGt,[(0,s._)("div",NGt,[(0,s._)("div",YGt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),ZGt]),(0,s._)("div",KGt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=2&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=2&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),BGt]),(0,s._)("div",QGt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=3&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=3&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),JGt]),(0,s._)("div",GGt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=4&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=4&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),XGt]),(0,s._)("div",tXt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=5&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=5&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),eXt])])])])}}};const aXt=rXt;var sXt=aXt;const lXt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},oXt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Cancel product sourcing ",-1),iXt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to cancel with this sourcing ? ")],-1),wXt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},nXt=["disabled"],dXt=(0,s._)("span",null,"Confirm",-1);var cXt={__name:"SourcingRequestCancel",props:["sourcing"],setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)(!1),a=t,l=(0,ke.Vh)(a,"sourcing"),o=(0,s.f3)("sourcing"),i=async()=>{console.log(a),r.value=!0,await pQt.update(l.value.id,{...l.value,quotation_status:"cancelled"}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Tc("Quotation has been cancelled"))})),e.value=!1,r.value=!1};return(t,a)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>e.value=!0),class:"tw-py-2 tw-px-7 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s.Wm)(l,{visible:e.value,onCancel:a[2]||(a[2]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",lXt,[oXt,iXt,(0,s._)("div",wXt,[(0,s._)("button",{onClick:a[1]||(a[1]=t=>e.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),dXt],8,nXt)])])])),_:1},8,["visible"])])}}};const uXt=cXt;var pXt=uXt;const gXt={class:"tw-p-5"},mXt={class:"tw-space-y-4"},hXt={class:"tw-flex tw-items-center tw-justify-between"},fXt=(0,s._)("span",null,"Destination Country:",-1),bXt={class:"tw-font-black tw-text-neutral-800, tw-capitalize"},vXt={class:"tw-flex tw-items-center tw-justify-between"},xXt=(0,s._)("span",null,"Shipping Method:",-1),yXt={key:0,class:"tw-font-black tw-text-neutral-800"},_Xt={key:1,class:"tw-font-black tw-text-neutral-800"},kXt={class:"tw-flex tw-items-center tw-justify-between"},CXt=(0,s._)("span",null,"Quantity:",-1),DXt={class:"tw-font-black tw-text-neutral-800"},SXt={class:"tw-flex tw-items-center tw-justify-between"},zXt=(0,s._)("span",null,"Unit Price:",-1),UXt={class:"tw-font-black tw-text-neutral-800"},qXt={class:"tw-flex tw-items-center tw-justify-between tw-"},PXt=(0,s._)("span",null,"Additional Fees:",-1),LXt={class:"tw-font-black tw-text-neutral-800"},WXt=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),AXt={class:"tw-flex tw-items-center tw-justify-between"},$Xt=(0,s._)("span",null,"Total:",-1),EXt={class:"tw-font-black tw-text-neutral-800"},TXt={key:0,class:"tw-space-y-2 mt-5"},FXt=(0,s._)("span",null,"Confirm",-1),jXt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},IXt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Confirm product sourcing ",-1),VXt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to proceed with this action ? ")],-1),OXt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},HXt=["disabled"],MXt=(0,s._)("span",null,"Confirm",-1);var RXt={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)(!1),a=t,l=(0,ke.Vh)(a,"sourcing"),o=(0,s.f3)("sourcing"),i=async()=>{r.value=!0,await pQt.update(l.value.id,{...l.value,quotation_status:"confirmed"}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Tc("Quotation has been accepted"))})),e.value=!1,r.value=!1};return(t,a)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",gXt,[(0,s._)("div",null,[(0,s._)("ul",mXt,[(0,s._)("li",hXt,[fXt,(0,s._)("span",bXt,(0,wt.zw)(l.value.destination_country),1)]),(0,s._)("li",vXt,[xXt,"air-freight"==l.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",yXt,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==l.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",_Xt,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",kXt,[CXt,(0,s._)("span",DXt,(0,wt.zw)(l.value.estimated_quantity),1)]),(0,s._)("li",SXt,[zXt,(0,s._)("span",UXt,(0,wt.zw)(l.value.cost_per_unit)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),(0,s._)("li",qXt,[PXt,(0,s._)("span",LXt,(0,wt.zw)(l.value.additional_fees)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),WXt,(0,s._)("li",AXt,[$Xt,(0,s._)("span",EXt,(0,wt.zw)(parseFloat(l.value.total_cost).toFixed(2))+" "+(0,wt.zw)((0,ke.SU)(c)),1)])])]),"quoting"==l.value.quotation_status||["quoting","pending"].includes(l.value.quotation_status)?((0,s.wg)(),(0,s.iD)("div",TXt,["quoting"==l.value.quotation_status?((0,s.wg)(),(0,s.iD)("button",{key:0,disabled:!1,onClick:a[0]||(a[0]=t=>e.value=!0),class:"tw-py-2 tw-px-7 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),FXt])):(0,s.kq)("",!0),["quoting","pending"].includes(l.value.quotation_status)?((0,s.wg)(),(0,s.j4)((0,ke.SU)(pXt),{key:1,sourcing:l.value},null,8,["sourcing"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"quoting"==l.value.quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:1,visible:e.value,onCancel:a[2]||(a[2]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",jXt,[IXt,VXt,(0,s._)("div",OXt,[(0,s._)("button",{onClick:a[1]||(a[1]=t=>e.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),MXt],8,HXt)])])])),_:1},8,["visible"])):(0,s.kq)("",!0)])}}};const NXt=RXt;var YXt=NXt;const ZXt={class:"tw-w-full"},KXt={class:"tw-w-full"},BXt=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Product details "),(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Quantity ")])],-1),QXt={class:"tw-pt-2"},JXt={class:"tw-whitespace-normal tw-max-w-[500px] tw-truncate"},GXt=["href"],XXt={class:"tw-pt-2"};var t0t={__name:"SourcingRequestProductDetails",props:["sourcing"],setup(t){const e=t,r=(0,ke.Vh)(e,"sourcing");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",ZXt,[(0,s._)("table",KXt,[BXt,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",QXt,[(0,s._)("p",JXt,[(0,s._)("a",{href:r.value.product_url,class:"tw-text-blue-500 tw-cursor-pointer hover:tw-underline"},(0,wt.zw)(r.value.product_name),9,GXt)])]),(0,s._)("td",XXt,(0,wt.zw)(r.value.estimated_quantity),1)])])])]))}};const e0t=t0t;var r0t=e0t;const a0t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},s0t={class:"tw-px-3"},l0t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},o0t={class:"tw-flex tw-items-center tw-gap-x-5"},i0t={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},w0t={class:"tw-flex tw-items-center tw-gap-2"},n0t={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},d0t={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},c0t={class:"tw-space-y-4 lg:tw-col-span-8"},u0t={key:0,class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},p0t={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},g0t=(0,s._)("span",null,[(0,s.Uk)("Note from "),(0,s._)("span",{class:"tw-font-bold"},"Admin")],-1),m0t={class:"tw-p-2 tw-border tw-border-t-0 tw-bg-white tw-border-blue-200 tw-rounded-b-md"},h0t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},f0t={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},b0t={class:"lg:tw-col-span-4"},v0t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var x0t={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=(0,b.yj)(),r=(0,s.Fl)((()=>gQt.find((t=>t.value==o.value.quotation_status)))),a=(0,s.Fl)((()=>mQt.find((t=>t.value==o.value.sourcing_status)))),l=t,o=(0,ke.Vh)(l,"sourcing");(0,ke.Vh)(l,"loading");return(t,l)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",a0t,[(0,s._)("section",s0t,[(0,s._)("div",l0t,[(0,s._)("div",null,[(0,s._)("div",o0t,[(0,s._)("h2",i0t," Quotation: #"+(0,wt.zw)((0,ke.SU)(e).params.id),1),(0,s._)("div",w0t,[(0,s._)("div",{class:(0,wt.C_)([r.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,wt.zw)(r.value.name),3),(0,s._)("div",{class:(0,wt.C_)([a.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,wt.zw)(a.value.name),3)])]),(0,s._)("p",n0t,(0,wt.zw)((0,ke.SU)(ze())(o.value.created_at).format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",d0t,[(0,s._)("div",c0t,[o.value.note_by_admin?((0,s.wg)(),(0,s.iD)("div",u0t,[(0,s._)("div",p0t,[(0,s.Wm)(i,{icon:"ph:info-fill",class:"tw-text-xl tw-text-blue-500"}),g0t]),(0,s._)("div",m0t,[(0,s._)("h1",null,(0,wt.zw)(o.value.note_by_admin),1)])])):(0,s.kq)("",!0),(0,s._)("div",h0t,[(0,s.Wm)((0,ke.SU)(sXt),{sourcing:o.value},null,8,["sourcing"])]),(0,s._)("div",f0t,[(0,s.Wm)((0,ke.SU)(r0t),{sourcing:o.value},null,8,["sourcing"])])]),(0,s._)("div",b0t,[(0,s._)("div",v0t,[(0,s.Wm)((0,ke.SU)(YXt),{sourcing:o.value},null,8,["sourcing"])])])])])}}};const y0t=x0t;var _0t=y0t;const k0t={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},C0t=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),D0t=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),S0t={class:"tw-p-3 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-border-b tw-border-solid tw-border-neutral-200"},z0t={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},U0t={class:"tw-relative tw-z-40"},q0t=["disabled","value"],P0t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),L0t={key:0,class:""},W0t={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},A0t={class:"tw-space-y-1 tw-py-1"},$0t=["onClick"],E0t={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},T0t={class:"tw-relative tw-z-30"},F0t=["disabled","value"],j0t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),I0t={key:0,class:""},V0t={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},O0t={class:"tw-space-y-1 tw-py-1"},H0t=["onClick"],M0t={class:"tw-p-5"},R0t={class:"tw-grid tw-grid-cols-5"},N0t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},Y0t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),Z0t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},K0t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),B0t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},Q0t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),J0t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},G0t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),X0t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},t1t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var e1t={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=(0,b.yj)(),r=t,l=(0,ke.Vh)(r,"sourcing"),o=(0,s.f3)("sourcing"),i=(0,ke.qj)({quotation_status:!1,sourcing_status:!1}),w=(0,ke.qj)({quotation_status:!1,sourcing_status:!1}),n=(0,s.Fl)((()=>gQt.find((t=>t.value==l.value.quotation_status)))),d=(0,s.Fl)((()=>mQt.find((t=>t.value==l.value.sourcing_status)))),c=async(t,e)=>{if(i[t]=!1,l.value[t]==e.value)return!1;w[t]=!0,await pQt.update(l.value.id,{...l.value,[t]:e.value}).then((t=>{"SUCCESS"==t.data.code&&o.updateSourcing(t.data.sourcing)})),w[t]=!1};return(t,r)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",k0t,[(0,s._)("p",null,[C0t,(0,s.Uk)(" "+(0,wt.zw)((0,ke.SU)(e).params.id),1)]),(0,s._)("p",null,[D0t,(0,s.Uk)(" "+(0,wt.zw)((0,ke.SU)(ze())(l.value.created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",S0t,[(0,s._)("div",null,[(0,s._)("label",z0t,[(0,s.Uk)(" Quotation Status "),w.quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",U0t,[(0,s._)("input",{class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-text-start tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:w.quotation_status,onClick:r[0]||(r[0]=t=>i.quotation_status=!i.quotation_status),type:"button",value:n.value.name,readonly:"",required:""},null,8,q0t),P0t,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.quotation_status?((0,s.wg)(),(0,s.iD)("div",L0t,[(0,s._)("div",W0t,[(0,s._)("div",A0t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(gQt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("quotation_status",t),class:(0,wt.C_)(["tw-w-full tw-p-2",[t.class]])},(0,wt.zw)(t.name),11,$0t)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,()=>i.quotation_status=!1]]),(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("label",E0t,[(0,s.Uk)(" Sourcing Status "),w.sourcing_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",T0t,[(0,s._)("input",{class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border tw-text-start tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:w.sourcing_status,onClick:r[1]||(r[1]=t=>i.sourcing_status=!i.sourcing_status),type:"button",value:d.value.name,readonly:"",required:""},null,8,F0t),j0t,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.sourcing_status?((0,s.wg)(),(0,s.iD)("div",I0t,[(0,s._)("div",V0t,[(0,s._)("div",O0t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(mQt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("sourcing_status",t),class:(0,wt.C_)(["tw-w-full tw-p-2",[t.class]])},(0,wt.zw)(t.name),11,H0t)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,()=>i.sourcing_status=!1]]),(0,s.kq)("",!0)])]),(0,s._)("div",M0t,[(0,s._)("div",R0t,[(0,s._)("div",N0t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),Y0t]),(0,s._)("div",Z0t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=2&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=2&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),K0t]),(0,s._)("div",B0t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=3&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=3&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),Q0t]),(0,s._)("div",J0t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=4&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=4&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),G0t]),(0,s._)("div",X0t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=5&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=5&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),t1t])])])])}}};const r1t=e1t;var a1t=r1t;const s1t={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},l1t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},o1t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Quotation ",-1),i1t={class:"tw-p-5 tw-space-y-4"},w1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),n1t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),d1t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),c1t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),u1t=[n1t,d1t,c1t],p1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},g1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),m1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},h1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Unit Price for Admin",-1),f1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},b1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Unit Price for Seller",-1),v1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},x1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Additional Fees",-1),y1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_1t=(0,s._)("div",{class:"tw-border-b tw-border-solid tw-border-neutral-300 tw-my-2"},null,-1),k1t={class:"tw-flex tw-items-center tw-justify-between"},C1t=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Total",-1),D1t={class:"tw-text-lg tw-font-bold"},S1t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},z1t=["disabled"],U1t=(0,s._)("span",null,"Send quotation",-1);var q1t={__name:"SourcingRequestPricingEdit",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,s.f3)("sourcing"),i=(0,ke.iH)(!1),w=(0,ke.qj)({sourcing:{},errors:{}}),n=(0,s.Fl)((()=>(w.sourcing.estimated_quantity??0)*(w.sourcing.cost_per_unit??0)+(w.sourcing.additional_fees??0))),d=()=>{r("update:visible",!1)},u=async()=>{i.value=!0;const t="pending"==w.sourcing.quotation_status?"quoting":w.sourcing.quotation_status;await pQt.update(w.sourcing.id,{...w.sourcing,total_cost:n.value,quotation_status:t}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Tc("Quotation sent"),d())}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)w.errors[e]=t?.response?.data?.errors[e][0]})),i.value=!1};return(0,s.YP)((()=>l.visible),(()=>{w.sourcing=yo(l.sourcing)})),(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(r,{visible:l.visible,onCancel:d},{default:(0,s.w5)((()=>[(0,s._)("div",s1t,[(0,s._)("div",l1t,[o1t,(0,s._)("div",i1t,[(0,s._)("div",null,[w1t,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>w.sourcing.shipping_method=t),onInput:e[1]||(e[1]=t=>w.errors.shipping_method=null),class:(0,wt.C_)([[w.errors.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},u1t,34),[[a.bM,w.sourcing.shipping_method,void 0,{number:!0}]]),w.errors.shipping_method?((0,s.wg)(),(0,s.iD)("label",p1t,(0,wt.zw)(w.errors.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[g1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.sourcing.estimated_quantity=t),onInput:e[3]||(e[3]=t=>w.errors.estimated_quantity=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[w.errors.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter the quantity",required:""},null,34),[[a.nr,w.sourcing.estimated_quantity,void 0,{number:!0}]]),w.errors.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",m1t,(0,wt.zw)(w.errors.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[h1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>w.sourcing.buying_price=t),onInput:e[5]||(e[5]=t=>w.errors.buying_price=null),type:"number",class:(0,wt.C_)([[w.errors.buying_price&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter buying price",required:""},null,34),[[a.nr,w.sourcing.buying_price,void 0,{number:!0}]]),w.errors.buying_price?((0,s.wg)(),(0,s.iD)("label",f1t,(0,wt.zw)(w.errors.buying_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[b1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>w.sourcing.cost_per_unit=t),onInput:e[7]||(e[7]=t=>w.errors.cost_per_unit=null),type:"number",class:(0,wt.C_)([[w.errors.cost_per_unit&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a unit price for the quotation",required:""},null,34),[[a.nr,w.sourcing.cost_per_unit,void 0,{number:!0}]]),w.errors.cost_per_unit?((0,s.wg)(),(0,s.iD)("label",v1t,(0,wt.zw)(w.errors.cost_per_unit),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[x1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>w.sourcing.additional_fees=t),onInput:e[9]||(e[9]=t=>w.errors.additional_fees=null),type:"number",class:(0,wt.C_)([[w.errors.additional_fees&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a additional fees for the sourcing",required:""},null,34),[[a.nr,w.sourcing.additional_fees,void 0,{number:!0}]]),w.errors.additional_fees?((0,s.wg)(),(0,s.iD)("label",y1t,(0,wt.zw)(w.errors.additional_fees),1)):(0,s.kq)("",!0)]),_1t,(0,s._)("div",k1t,[C1t,(0,s._)("span",D1t,(0,wt.zw)(n.value.toFixed(2))+" "+(0,wt.zw)((0,ke.SU)(c)),1)])]),(0,s._)("div",S1t,[(0,s._)("button",{onClick:d,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:u,disabled:i.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),U1t],8,z1t)])])])])),_:1},8,["visible"])}}};const P1t=q1t;var L1t=P1t;const W1t={class:"tw-flex tw-items-center tw-justify-between tw-p-2 tw-border-b tw-border-solid tw-border-gray-200"},A1t=(0,s._)("span",null,"Paid",-1),$1t=["disabled"],E1t={class:"tw-p-5"},T1t={class:"tw-space-y-4"},F1t={class:"tw-flex tw-items-center tw-justify-between"},j1t=(0,s._)("span",null,"Destination Country:",-1),I1t={class:"tw-font-black tw-text-neutral-800 tw-capitalize"},V1t={class:"tw-flex tw-items-center tw-justify-between"},O1t=(0,s._)("span",null,"Shipping Method:",-1),H1t={key:0,class:"tw-font-black tw-text-neutral-800"},M1t={key:1,class:"tw-font-black tw-text-neutral-800"},R1t={class:"tw-flex tw-items-center tw-justify-between"},N1t=(0,s._)("span",null,"Quantity:",-1),Y1t={class:"tw-font-black tw-text-neutral-800"},Z1t={class:"tw-flex tw-items-center tw-justify-between"},K1t=(0,s._)("span",null,"Unit Price for admin:",-1),B1t={class:"tw-font-black tw-text-neutral-800"},Q1t={class:"tw-flex tw-items-center tw-justify-between"},J1t=(0,s._)("span",null,"Unit Price for seller:",-1),G1t={class:"tw-font-black tw-text-neutral-800"},X1t={class:"tw-flex tw-items-center tw-justify-between tw-"},t2t=(0,s._)("span",null,"Additional Fees:",-1),e2t={class:"tw-font-black tw-text-neutral-800"},r2t=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),a2t={class:"tw-flex tw-items-center tw-justify-between"},s2t=(0,s._)("span",null,"Total:",-1),l2t={class:"tw-font-black tw-text-neutral-800"},o2t={class:"tw-space-y-2 tw-px-5 tw-pb-5"},i2t=(0,s._)("span",null,"Edit",-1);var w2t={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=t,r=(0,ke.Vh)(e,"sourcing"),a=(0,s.f3)("sourcing"),l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=(0,ke.iH)(!1);l.value=1==e.sourcing.is_paid;const w=async()=>{i.value=!0,l.value=!l.value;const t=(new Date).toISOString().slice(0,19).replace("T"," ");await pQt.update(r.value.id,{...e.sourcing,is_paid:l.value?1:0,paid_at:l.value?t:null}).then((t=>{"SUCCESS"==t.data.code&&(a.updateSourcing(t.data.sourcing),l.value=t.data.sourcing.is_paid)}),(t=>{console.log(t),l.value=1==e.sourcing.is_paid})),i.value=!1};return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",W1t,[A1t,(0,s._)("button",{disabled:i.value,onClick:w,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,wt.C_)([[l.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[(0,s.Wm)(a,{class:(0,wt.C_)([[!l.value&&!i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-yellow-500"]),icon:"mdi:clock-time-two-outline"},null,8,["class"]),(0,s.Wm)(a,{class:(0,wt.C_)([[l.value&&!i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-emerald-500"]),icon:"mingcute:check-2-fill"},null,8,["class"]),(0,s.Wm)(a,{class:(0,wt.C_)([[i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-orange-500"]),icon:"eos-icons:three-dots-loading"},null,8,["class"])],2)],8,$1t)]),(0,s._)("div",E1t,[(0,s._)("ul",T1t,[(0,s._)("li",F1t,[j1t,(0,s._)("span",I1t,(0,wt.zw)(r.value.destination_country),1)]),(0,s._)("li",V1t,[O1t,"air-freight"==r.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",H1t,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==r.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",M1t,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",R1t,[N1t,(0,s._)("span",Y1t,(0,wt.zw)(r.value.estimated_quantity),1)]),(0,s._)("li",Z1t,[K1t,(0,s._)("span",B1t,(0,wt.zw)(r.value.buying_price)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),(0,s._)("li",Q1t,[J1t,(0,s._)("span",G1t,(0,wt.zw)(r.value.cost_per_unit)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),(0,s._)("li",X1t,[t2t,(0,s._)("span",e2t,(0,wt.zw)(r.value.additional_fees)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),r2t,(0,s._)("li",a2t,[s2t,(0,s._)("span",l2t,(0,wt.zw)(r.value.total_cost)+" "+(0,wt.zw)((0,ke.SU)(c)),1)])])]),(0,s._)("div",o2t,[(0,s._)("button",{disabled:!1,onClick:e[0]||(e[0]=t=>o.value=!0),class:"tw-py-2 tw-px-7 tw-gap-2 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),(0,s.Wm)(a,{icon:"clarity:edit-solid",class:"tw-text-lg tw-text-white"}),i2t]),(0,s.kq)("",!0)]),(0,s.Wm)((0,ke.SU)(L1t),{sourcing:r.value,visible:o.value,"onUpdate:visible":e[1]||(e[1]=t=>o.value=t)},null,8,["sourcing","visible"])])}}};const n2t=w2t;var d2t=n2t;const c2t={class:"tw-p-5"},u2t={class:"tw-grid tw-grid-cols-12 tw-gap-5"},p2t={class:"md:tw-col-span-6 tw-col-span-12"},g2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),m2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},h2t={class:"md:tw-col-span-6 tw-col-span-12"},f2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),b2t={class:"tw-relative"},v2t=["href"],x2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},y2t={class:"md:tw-col-span-6 tw-col-span-12"},_2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),k2t={class:"tw-relative"},C2t=["href"],D2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},S2t={class:"md:tw-col-span-6 tw-col-span-12"},z2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),U2t={class:"tw-relative"},q2t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),P2t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),L2t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),W2t=[q2t,P2t,L2t],A2t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),$2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},E2t={class:"md:tw-col-span-6 tw-col-span-12"},T2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),F2t={class:"tw-relative"},j2t=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),I2t=[j2t],V2t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),O2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},H2t={class:"tw-col-span-12"},M2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's note",-1),R2t={class:"tw-col-span-12"},N2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Admin's note",-1),Y2t={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-pt-4 tw-gap-3"},Z2t=["disabled"],K2t=(0,s._)("span",null,"Update",-1);var B2t={__name:"SourcingRequestDetails",props:["sourcing"],setup(t){const e=(0,ke.qj)({}),r=t,l=(0,ke.iH)(!1),o=(0,s.f3)("sourcing"),i=(0,ke.qj)({sourcing:{}}),w=async()=>{l.value=!0,await pQt.update(i.sourcing.id,i.sourcing).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Tc("Updated success"))}),(t=>{if(422==t?.response?.status)for(let r in t?.response?.data?.errors)e[r]=t?.response?.data?.errors[r][0]})),l.value=!1};return(0,s.YP)((()=>r.sourcing),(()=>{i.sourcing=yo(r.sourcing)}),{deep:!0}),i.sourcing=yo(r.sourcing),(t,r)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",c2t,[(0,s._)("div",u2t,[(0,s._)("div",p2t,[g2t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>i.sourcing.product_name=t),onInput:r[1]||(r[1]=t=>e.product_name=null),class:(0,wt.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,i.sourcing.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",m2t,(0,wt.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",h2t,[f2t,(0,s._)("div",b2t,[(0,s._)("a",{href:i.sourcing.product_url,target:"_blank",class:"tw-p-1 tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2"},[(0,s.Wm)(o,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500 hover:tw-text-orange-400 tw-duration-200"})],8,v2t),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>i.sourcing.product_url=t),onInput:r[3]||(r[3]=t=>e.product_url=null),class:(0,wt.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.product_url]])]),e.product_url?((0,s.wg)(),(0,s.iD)("label",x2t,(0,wt.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",y2t,[_2t,(0,s._)("div",k2t,[(0,s._)("a",{href:i.sourcing.video_url,target:"_blank",class:"tw-p-1 tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2"},[(0,s.Wm)(o,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500 hover:tw-text-orange-400 tw-duration-200"})],8,C2t),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[4]||(r[4]=t=>i.sourcing.video_url=t),onInput:r[5]||(r[5]=t=>e.video_url=null),class:(0,wt.C_)([[e.video_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.video_url]])]),e.video_url?((0,s.wg)(),(0,s.iD)("label",D2t,(0,wt.zw)(e.video_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",S2t,[z2t,(0,s._)("div",U2t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":r[6]||(r[6]=t=>i.sourcing.shipping_method=t),onChange:r[7]||(r[7]=t=>e.shipping_method=null),class:(0,wt.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},W2t,34),[[a.bM,i.sourcing.shipping_method]]),A2t]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",$2t,(0,wt.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",E2t,[T2t,(0,s._)("div",F2t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":r[8]||(r[8]=t=>i.sourcing.destination_country=t),onChange:r[9]||(r[9]=t=>e.destination_country=null),class:(0,wt.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},I2t,34),[[a.bM,i.sourcing.destination_country]]),V2t]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",O2t,(0,wt.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",H2t,[M2t,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":r[10]||(r[10]=t=>i.sourcing.note_by_seller=t),rows:"2",class:"tw-bg-gray-50 tw-borderx tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"There is no note"},null,512),[[a.nr,i.sourcing.note_by_seller]])]),(0,s._)("div",R2t,[N2t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":r[11]||(r[11]=t=>i.sourcing.note_by_admin=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Leave a note for seller"},null,512),[[a.nr,i.sourcing.note_by_admin]])]),(0,s._)("div",Y2t,[(0,s._)("button",{disabled:l.value,onClick:w,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),K2t],8,Z2t)])])])}}};const Q2t=B2t;var J2t=Q2t;const G2t={class:"tw-relative"},X2t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},t5t={class:"tw-px-3"},e5t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},r5t={class:"tw-flex tw-items-center tw-gap-x-5"},a5t={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},s5t={class:"tw-flex tw-items-center tw-gap-2"},l5t={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},o5t={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},i5t={class:"tw-space-y-4 lg:tw-col-span-8"},w5t={class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},n5t={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},d5t={class:"tw-font-bold"},c5t={key:0,class:"tw-w-full tw-overflow-hidden"},u5t={class:"tw-p-2 tw-border tw-border-t-0 tw-border-blue-200 tw-rounded-b-md"},p5t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},g5t={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},m5t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},h5t={class:"lg:tw-col-span-4"},f5t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var b5t={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=(0,b.yj)(),r=t,a=(0,ke.Vh)(r,"sourcing"),l=((0,ke.Vh)(r,"loading"),(0,s.Fl)((()=>gQt.find((t=>t.value==a.value.quotation_status))))),o=(0,s.Fl)((()=>mQt.find((t=>t.value==a.value.sourcing_status))));return(t,r)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",G2t,[(0,s._)("div",X2t,[(0,s._)("section",t5t,[(0,s._)("div",e5t,[(0,s._)("div",null,[(0,s._)("div",r5t,[(0,s._)("h2",a5t," Quotation: #"+(0,wt.zw)((0,ke.SU)(e).params.id),1),(0,s._)("div",s5t,[(0,s._)("div",{class:(0,wt.C_)([l.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,wt.zw)(l.value.name),3),(0,s._)("div",{class:(0,wt.C_)([o.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,wt.zw)(o.value.name),3)])]),(0,s._)("p",l5t,(0,wt.zw)((0,ke.SU)(ze())("2023-09-08T17:45:06.000000Z").format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",o5t,[(0,s._)("div",i5t,[(0,s._)("div",w5t,[(0,s._)("div",n5t,[(0,s.Wm)(i,{icon:"solar:user-bold",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",null,[(0,s._)("span",d5t,(0,wt.zw)(a.value.seller.firstname)+" "+(0,wt.zw)(a.value.seller.lastname),1)])]),a.value.note_by_seller?((0,s.wg)(),(0,s.iD)("div",c5t,[(0,s._)("div",u5t,[(0,s._)("h1",null,(0,wt.zw)(a.value.note_by_seller),1)])])):(0,s.kq)("",!0)]),(0,s._)("div",p5t,[(0,s.Wm)((0,ke.SU)(a1t),{sourcing:a.value},null,8,["sourcing"])]),(0,s._)("div",g5t,[(0,s.Wm)((0,ke.SU)(r0t),{sourcing:a.value},null,8,["sourcing"])]),(0,s._)("div",m5t,[(0,s.Wm)((0,ke.SU)(J2t),{sourcing:a.value},null,8,["sourcing"])])]),(0,s._)("div",h5t,[(0,s._)("div",f5t,[(0,s.Wm)((0,ke.SU)(d2t),{sourcing:a.value},null,8,["sourcing"])])])])])}}};const v5t=b5t;var x5t=v5t;const y5t={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"};var _5t={__name:"ShowSourcingView",setup(t){const e=(0,i.oR)(),r=(0,b.yj)(),a=(0,b.tv)(),l=r.params.id,o=(0,ke.iH)(!0),w=(0,ke.iH)(null),n=e.getters["user/user"],d=async()=>{o.value=!0,await pQt.get(l).then((t=>{"SUCCESS"==t.data.code&&(w.value=t.data.sourcing),"NOT_FOUND"==t.data.code&&a.push({name:"404"})})),o.value=!1},c=t=>{w.value=t};return(0,s.JJ)("sourcing",{updateSourcing:c}),d(),(t,e)=>{const r=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.value?((0,s.wg)(),(0,s.iD)("div",y5t,[(0,s.Wm)(r)])):(0,s.kq)("",!0),o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["seller"==(0,ke.SU)(n).role?((0,s.wg)(),(0,s.j4)((0,ke.SU)(_0t),{key:0,sourcing:w.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0),"admin"==(0,ke.SU)(n).role?((0,s.wg)(),(0,s.j4)((0,ke.SU)(x5t),{key:1,sourcing:w.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0)],64))],64)}}};const k5t=_5t;var C5t=k5t;const D5t={class:"tw-p-5 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},S5t={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-12 tw-gap-5 tw-mt-5"},z5t={class:"tw-hidden tw-col-span-4 tw-py-16 md:tw-flex tw-items-center tw-justify-center"},U5t=["src"],q5t={class:"tw-col-span-8"},P5t=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-2xl tw-font-semibold"},"We Source For You"),(0,s._)("p",{class:"tw-text-lg tw-mt-2"},"Let our professional sourcing team take care all of your sourcing.")],-1),L5t={class:"tw-grid tw-grid-cols-12 tw-mt-10 tw-gap-5"},W5t={class:"md:tw-col-span-6 tw-col-span-12"},A5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),$5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},E5t={class:"md:tw-col-span-6 tw-col-span-12"},T5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),F5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},j5t={class:"md:tw-col-span-6 tw-col-span-12"},I5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),V5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},O5t={class:"md:tw-col-span-6 tw-col-span-12"},H5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),M5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},R5t={class:"tw-col-span-12"},N5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Y5t={class:"md:tw-col-span-6 tw-col-span-12"},Z5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),K5t={class:"tw-relative"},B5t=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),Q5t=[B5t],J5t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),G5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},X5t={class:"md:tw-col-span-6 tw-col-span-12"},t4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),e4t={class:"tw-relative"},r4t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),a4t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),s4t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),l4t=[r4t,a4t,s4t],o4t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),i4t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},w4t={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-py-4 tw-gap-3"},n4t=(0,s._)("button",{class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",-1),d4t=["disabled"],c4t=(0,s._)("span",null,"Request the product",-1);var u4t={__name:"CreateSourcingView",setup(t){const e=(0,ke.qj)({}),r=(0,ke.iH)(!1),l=(0,ke.qj)({destination_country:"lebanon",shipping_method:"not-selected"}),o=async()=>{r.value=!0,await pQt.create(l).then((t=>{"SUCCESS"==t.data.code&&(Tc("Your request has been added"),Object.keys(l).forEach((t=>l[t]=null)),l.destination_country="lebanon",l.shipping_method="not-selected")}),(t=>{if(422==t.response.status)for(let r in t.response.data.errors)e[r]=t.response.data.errors[r][0]})),r.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",D5t,[(0,s._)("div",S5t,[(0,s._)("div",z5t,[(0,s._)("img",{src:t.$frontend("images/delivering.svg"),class:"tw-w-full"},null,8,U5t)]),(0,s._)("div",q5t,[P5t,(0,s._)("div",L5t,[(0,s._)("div",W5t,[A5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.product_name=t),onInput:i[1]||(i[1]=t=>e.product_name=null),class:(0,wt.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,l.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",$5t,(0,wt.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",E5t,[T5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[2]||(i[2]=t=>l.estimated_quantity=t),onInput:i[3]||(i[3]=t=>e.estimated_quantity=null),class:(0,wt.C_)([[e.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"number",placeholder:"Estimated quantity",required:""},null,34),[[a.nr,l.estimated_quantity]]),e.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",F5t,(0,wt.zw)(e.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",j5t,[I5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[4]||(i[4]=t=>l.product_url=t),onInput:i[5]||(i[5]=t=>e.product_url=null),class:(0,wt.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.product_url]]),e.product_url?((0,s.wg)(),(0,s.iD)("label",V5t,(0,wt.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",O5t,[H5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[6]||(i[6]=t=>l.video_url=t),onInput:i[7]||(i[7]=t=>e.video_url=null),class:(0,wt.C_)([[e.video_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.video_url]]),e.video_url?((0,s.wg)(),(0,s.iD)("label",M5t,(0,wt.zw)(e.video_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",R5t,[N5t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":i[8]||(i[8]=t=>l.note_by_seller=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Special request..."},null,512),[[a.nr,l.note_by_seller]])]),(0,s._)("div",Y5t,[Z5t,(0,s._)("div",K5t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[9]||(i[9]=t=>l.destination_country=t),onChange:i[10]||(i[10]=t=>e.destination_country=null),class:(0,wt.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},Q5t,34),[[a.bM,l.destination_country]]),J5t]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",G5t,(0,wt.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",X5t,[t4t,(0,s._)("div",e4t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[11]||(i[11]=t=>l.shipping_method=t),onChange:i[12]||(i[12]=t=>e.shipping_method=null),class:(0,wt.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},l4t,34),[[a.bM,l.shipping_method]]),o4t]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",i4t,(0,wt.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",w4t,[n4t,(0,s._)("button",{disabled:r.value,onClick:o,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),c4t],8,d4t)])])])])]))}};const p4t=u4t;var g4t=p4t,m4t={name:"sourcings",path:"/sourcings",component:Wa,meta:{module:"sourcing"},children:[{name:"sourcings.index",path:"",component:VGt,meta:{module:"sourcing",title:"Sourcing",role:["admin","seller"]}},{name:"sourcings.admin",path:"admin",redirect:{name:"sourcings.index"}},{name:"sourcings.seller",path:"seller",redirect:{name:"sourcings.index"}},{name:"sourcings.new",path:"new",component:g4t,meta:{module:"sourcing",title:"New Sourcing",role:"seller"}},{name:"sourcings.show",path:":id",component:C5t,meta:{module:"sourcing",title:"Sourcing",role:["seller","admin"]}}]};class h4t{async create(t){return await E.getCookie(),A.post("api/settings/create",t)}}var f4t=new h4t;const b4t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},v4t={class:"tw-px-3"},x4t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Settings "),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Cron jobs for invoices. ")])],-1),y4t={class:"tw-mt-5"},_4t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},k4t={class:"tw-col-span-2 md:tw-col-span-1"},C4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Interval Time",-1),D4t={class:"tw-relative"},S4t=(0,s.uE)('<option value="" disabled>Select an Interval</option><option value="daily">Daily</option><option value="weekly">Weekly</option><option value="monthly">Monthly</option><option value="yearly">Yearly</option>',5),z4t=[S4t],U4t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),q4t={class:"tw-col-span-2 md:tw-col-span-1"},P4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Cancellation Date Begins",-1),L4t={class:"tw-flex tw-justify-end tw-items-center tw-p-4"},W4t=["disabled"],A4t=(0,s._)("span",null,"Save",-1);var $4t={__name:"CronJobs",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)(null),l=(0,ke.iH)(""),o=async()=>{e.value=!0,await f4t.create([{name:"e",value:r.value},{name:"factorisation_interval_date",value:l.value}]).then((t=>{console.log(t)}),(t=>{console.log(t)})),e.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",b4t,[(0,s._)("section",v4t,[x4t,(0,s._)("div",y4t,[(0,s._)("div",_4t,[(0,s._)("div",k4t,[C4t,(0,s._)("div",D4t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.value=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},z4t,512),[[a.bM,l.value]]),U4t])]),(0,s._)("div",q4t,[P4t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[1]||(i[1]=t=>r.value=t),type:"datetime-local",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"123-45-678",required:""},null,512),[[a.nr,r.value]])])])]),(0,s._)("div",L4t,[(0,s._)("button",{onClick:o,disabled:e.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[e.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),A4t],8,W4t)])])]))}};const E4t=$4t;var T4t=E4t;const F4t=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Settings ")],-1),j4t={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"},I4t={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},V4t={class:"tw-w-full"},O4t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),H4t={class:"tw-w-full"},M4t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),R4t={class:"tw-w-full"},N4t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),Y4t={class:"tw-w-full"},Z4t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),K4t={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},B4t=(0,s._)("span",null,"Update Password: ",-1),Q4t={class:"tw-w-full"},J4t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),G4t={class:"tw-w-full"},X4t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),t3t={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},e3t=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),r3t=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function a3t(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[F4t,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",j4t,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",I4t,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",V4t,[O4t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.firstname.message,modelValue:l.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>l.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",H4t,[M4t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.lastname.message,modelValue:l.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",R4t,[N4t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.email.message,modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.email=t),readonly:"",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Y4t,[Z4t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.phone.message,modelValue:l.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>l.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",K4t,[B4t,(0,s.Wm)(ih.G,{modelValue:l.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>l.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),l.updatePassword?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Q4t,[J4t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.password.message,modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),l.updatePassword?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",G4t,[X4t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.confirmPassword.message,modelValue:l.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>l.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",t3t,[(0,s.Wm)(nt.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[e3t])),_:1}),t.$can("update_account")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[r3t])),_:1},8,["onClick","loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var s3t={data(){return{serverUrl:n,isFetched:!1,isUserFetched:!1,isLoading:!1,updatePassword:!1,formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:""}},computed:{isFormReady(){return this.isFetched},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,password:this.password}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,ot.updateProfile(this.user,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["firstname"]=$t(this.firstname),this.formStatus["lastname"]=$t(this.lastname),this.formStatus["phone"]=$t(this.phone),this.formStatus["password"]=At(this.password),this.formStatus["confirmPassword"]=Tt(this.password,this.confirmPassword);const t=this.formStatus["firstname"].valid,e=this.formStatus["lastname"].valid,r=this.formStatus["phone"].valid;if(this.updatePassword){const a=this.formStatus["password"].valid,s=this.formStatus["confirmPassword"].valid;return t&&e&&a&&s&&r}return t&&e&&r},async getUser(){return ot.profile().then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.isUserFetched=!0}})).catch(this.$handleApiError)}},async mounted(){Promise.allSettled([this.getUser()]).then((()=>this.isFetched=!0),(t=>this.$handleApiError(t)))}};const l3t=(0,m.Z)(s3t,[["render",a3t]]);var o3t=l3t;const i3t={class:"tw-border tw-border-solid tw-shadow-sm tw-rounded tw-p-5"},w3t={class:"tw-flex tw-items-center tw-gap-2"},n3t={class:"tw-flex tw-items-center tw-gap-2"},d3t=(0,s._)("h1",{class:"tw-text-xl tw-font-bold"},"Bank Transfer",-1),c3t={key:0,class:"tw-flex tw-items-center tw-gap-1 tw-bg-teal-100 tw-rounded tw-pr-2 tw-pl-1 tw-py-0.5"},u3t=(0,s._)("span",{class:"tw-text-teal-500 tw-text-sm tw-capitalize"},"Preferred",-1),p3t=(0,s._)("p",{class:"tw-text-gray-500 tw-mt-2"},"Withdraw funds directly to your bank account.",-1),g3t={class:"tw-flex tw-justify-end tw-gap-2 tw-mt-2"},m3t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Setup",-1),h3t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Modify",-1),f3t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},b3t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},v3t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Bank Details ",-1),x3t={class:"tw-p-5 tw-space-y-4"},y3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Bank Name",-1),_3t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},k3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Account Holder Name",-1),C3t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},D3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"RIB",-1),S3t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},z3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Set as Preferred",-1),U3t=["disabled"],q3t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},P3t=["disabled"],L3t=["disabled"],W3t=(0,s._)("span",null,"Save",-1);var A3t={__name:"BankTransferMethod",props:["withdrawalMethods"],emits:["update"],setup(t,{emit:e}){const r=(0,ke.iH)(!1),l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=t,w=e,n=(0,ke.iH)({rib:"",account_holder_name:"",bank_name:""}),d=(0,ke.iH)({}),c=(0,ke.iH)(!1),u=(0,ke.iH)({}),p=()=>{u.value=i.withdrawalMethods.find((t=>"bank_transfer"==t.type)),u.value&&(o.value=!0,c.value=1==u.value.is_preferred,console.log(c.value),console.log(1==u.value.is_preferred),n.value={...u.value.metadata})};p();const g=async()=>{if(!h())return!1;const t={type:"bank_transfer",metadata:n.value,is_preferred:c.value};l.value=!0,await USt.update(u.value.id,t).then((t=>{"SUCCESS"==t.data.code&&(w("update",t.data.withdrawal_methods),Tc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Tc("Something went wrong","danger")})),l.value=!1},m=async()=>{if(!h())return!1;const t={type:"bank_transfer",metadata:n.value,is_preferred:c.value};l.value=!0,await USt.setup(t).then((t=>{"SUCCESS"==t.data.code&&(w("update",t.data.withdrawal_methods),Tc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Tc("Something went wrong","danger")})),l.value=!1},h=()=>{let t=!0;return n.value.rib||(t=!1,d.value.rib="RIB is required"),n.value.account_holder_name||(t=!1,d.value.account_holder_name="Account holder's name is required"),n.value.bank_name||(t=!1,d.value.bank_name="Bank's name is required"),t};return(t,e)=>{const i=(0,s.up)("icon"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",i3t,[(0,s._)("div",w3t,[(0,s._)("div",n3t,[(0,s.Wm)(i,{icon:"ph:bank-duotone",class:"tw-text-3xl tw-text-gray-600"}),d3t]),u.value&&1==u.value.is_preferred?((0,s.wg)(),(0,s.iD)("div",c3t,[(0,s.Wm)(i,{icon:"uil:check",class:"tw-text-xl tw-text-teal-500"}),u3t])):(0,s.kq)("",!0)]),p3t,(0,s._)("div",g3t,[(o.value,(0,s.kq)("",!0)),(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[o.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)(i,{icon:"lets-icons:edit-duotone-line",class:"tw-text-gray-500 tw-text-2xl"}),h3t],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(i,{icon:"ph:gear-six-duotone",class:"tw-text-gray-500 tw-text-2xl"}),m3t],64))])]),(0,s.Wm)(w,{visible:r.value,onCancel:e[10]||(e[10]=t=>r.value=!1),closeable:!1},{default:(0,s.w5)((()=>[(0,s._)("div",f3t,[(0,s._)("div",b3t,[v3t,(0,s._)("div",x3t,[(0,s._)("div",null,[y3t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.value.bank_name=t),onInput:e[2]||(e[2]=t=>d.value.bank_name=null),type:"text",class:(0,wt.C_)([[d.value.bank_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter bank name",required:""},null,34),[[a.nr,n.value.bank_name]]),d.value.bank_name?((0,s.wg)(),(0,s.iD)("label",_3t,(0,wt.zw)(d.value.bank_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[k3t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>n.value.account_holder_name=t),onInput:e[4]||(e[4]=t=>d.value.account_holder_name=null),type:"text",class:(0,wt.C_)([[d.value.account_holder_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter account holder's name",required:""},null,34),[[a.nr,n.value.account_holder_name]]),d.value.account_holder_name?((0,s.wg)(),(0,s.iD)("label",C3t,(0,wt.zw)(d.value.account_holder_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[D3t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>n.value.rib=t),onInput:e[6]||(e[6]=t=>d.value.rib=null),type:"text",class:(0,wt.C_)([[d.value.rib&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter your bank account RIB",required:""},null,34),[[a.nr,n.value.rib]]),d.value.rib?((0,s.wg)(),(0,s.iD)("label",S3t,(0,wt.zw)(d.value.rib),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[z3t,(0,s._)("button",{onClick:e[7]||(e[7]=t=>c.value=!c.value),disabled:l.value,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,wt.C_)([[c.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-yellow-500",icon:"iconamoon:close-duotone"})),c.value?((0,s.wg)(),(0,s.j4)(i,{key:1,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-emerald-500",icon:"mingcute:check-2-fill"})):(0,s.kq)("",!0)],2)],8,U3t)])]),(0,s._)("div",q3t,[(0,s._)("button",{onClick:e[8]||(e[8]=t=>r.value=!1),disabled:l.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,P3t),(0,s._)("button",{disabled:l.value,onClick:e[9]||(e[9]=()=>o.value?g():m()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),W3t],8,L3t)])])])])),_:1},8,["visible"])])}}};const $3t=A3t;var E3t=$3t;const T3t={class:"tw-border tw-border-solid tw-shadow-sm tw-min-h-[400px]x tw-rounded tw-p-5"},F3t={class:"tw-flex tw-items-center tw-gap-2"},j3t={class:"tw-flex tw-items-center tw-gap-2"},I3t=(0,s._)("h1",{class:"tw-text-xl tw-font-bold"},"Binance",-1),V3t={key:0,class:"tw-flex tw-items-center tw-gap-1 tw-bg-teal-100 tw-rounded tw-pr-2 tw-pl-1 tw-py-0.5"},O3t=(0,s._)("span",{class:"tw-text-teal-500 tw-text-sm tw-capitalize"},"Preferred",-1),H3t=(0,s._)("p",{class:"tw-text-gray-500 tw-mt-2"},"Withdraw funds using Binance account",-1),M3t={class:"tw-flex tw-justify-end tw-gap-2 tw-mt-2"},R3t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Setup",-1),N3t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Modify",-1),Y3t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},Z3t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},K3t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Binance account details ",-1),B3t={class:"tw-p-5 tw-space-y-4"},Q3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Binance ID",-1),J3t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},G3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Set as Preferred",-1),X3t=["disabled"],t8t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},e8t=["disabled"],r8t=["disabled"],a8t=(0,s._)("span",null,"Save",-1);var s8t={__name:"BinanceMethod",props:["withdrawalMethods"],emits:["update"],setup(t,{emit:e}){const r=(0,ke.iH)(!1),l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=t,w=(0,ke.iH)({binance_id:""}),n=e,d=(0,ke.iH)(!1),c=(0,ke.iH)({}),u=(0,ke.iH)({}),p=()=>{u.value=i.withdrawalMethods.find((t=>"binance"==t.type)),u.value&&(o.value=!0,d.value=1==u.value.is_preferred,w.value={...u.value.metadata})};p();const g=async()=>{if(!h())return!1;const t={type:"binance",metadata:w.value,is_preferred:d.value};l.value=!0,await USt.update(u.value.id,t).then((t=>{"SUCCESS"==t.data.code&&(n("update",t.data.withdrawal_methods),Tc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Tc("Something went wrong","danger")})),l.value=!1},m=async()=>{if(!h())return!1;const t={type:"binance",metadata:w.value,is_preferred:d.value};l.value=!0,await USt.setup(t).then((t=>{"SUCCESS"==t.data.code&&(n("update",t.data.withdrawal_methods),Tc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Tc("Something went wrong","danger")})),l.value=!1},h=()=>{let t=!0;return w.value.binance_id||(t=!1,c.value.binance_id="Binance ID is required"),t};return(t,e)=>{const i=(0,s.up)("icon"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",T3t,[(0,s._)("div",F3t,[(0,s._)("div",j3t,[(0,s.Wm)(i,{icon:"simple-icons:binance",class:"tw-text-3xl tw-text-[#F3BA2F]"}),I3t]),u.value&&1==u.value.is_preferred?((0,s.wg)(),(0,s.iD)("div",V3t,[(0,s.Wm)(i,{icon:"uil:check",class:"tw-text-xl tw-text-teal-500"}),O3t])):(0,s.kq)("",!0)]),H3t,(0,s._)("div",M3t,[(o.value,(0,s.kq)("",!0)),o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[(0,s.Wm)(i,{icon:"ph:gear-six-duotone",class:"tw-text-gray-500 tw-text-2xl"}),R3t])),o.value?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[1]||(e[1]=t=>r.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[(0,s.Wm)(i,{icon:"lets-icons:edit-duotone-line",class:"tw-text-gray-500 tw-text-2xl"}),N3t])):(0,s.kq)("",!0)]),(0,s.Wm)(n,{visible:r.value,onCancel:e[7]||(e[7]=t=>r.value=!1),closeable:!1},{default:(0,s.w5)((()=>[(0,s._)("div",Y3t,[(0,s._)("div",Z3t,[K3t,(0,s._)("div",B3t,[(0,s._)("div",null,[Q3t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.value.binance_id=t),onInput:e[3]||(e[3]=t=>c.value.binance_id=null),type:"text",class:(0,wt.C_)([[c.value.binance_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter your Binance account ID",required:""},null,34),[[a.nr,w.value.binance_id]]),c.value.binance_id?((0,s.wg)(),(0,s.iD)("label",J3t,(0,wt.zw)(c.value.binance_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[G3t,(0,s._)("button",{onClick:e[4]||(e[4]=t=>d.value=!d.value),disabled:l.value,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,wt.C_)([[d.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-yellow-500",icon:"iconamoon:close-duotone"})),d.value?((0,s.wg)(),(0,s.j4)(i,{key:1,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-emerald-500",icon:"mingcute:check-2-fill"})):(0,s.kq)("",!0)],2)],8,X3t)])]),(0,s._)("div",t8t,[(0,s._)("button",{onClick:e[5]||(e[5]=t=>r.value=!1),disabled:l.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,e8t),(0,s._)("button",{disabled:l.value,onClick:e[6]||(e[6]=()=>o.value?g():m()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),a8t],8,r8t)])])])])),_:1},8,["visible"])])}}};const l8t=s8t;var o8t=l8t;const i8t={class:"tw-px-3"},w8t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Withdrawal Methods ")])],-1),n8t={class:"tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-mt-5"};var d8t={__name:"WithdrawalMethodsView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)({}),a=(0,ke.iH)(0),l=async()=>{e.value=!0,await USt.all().then((t=>{"SUCCESS"==t.data.code&&(r.value=t.data.withdrawal_methods),console.log(t)}),(t=>{console.log(t)})),e.value=!1};l();const o=t=>{r.value=t,a.value++};return(t,l)=>((0,s.wg)(),(0,s.iD)("div",{key:a.value,class:"py-5 px-2 tw-border tw-bg-white tw-min-h-[calc(100dvh-85px)] tw-w-full tw-rounded-md tw-mb-5"},[(0,s._)("section",i8t,[w8t,(0,s._)("div",n8t,[e.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(2,(t=>(0,s._)("div",{key:t,class:"tw-h-[155px] tw-w-full tw-rounded tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-100 tw-animate-pulse tw-shadow-sm"}))),64)):(0,s.kq)("",!0),e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)((0,ke.SU)(E3t),{"withdrawal-methods":r.value,onUpdate:o},null,8,["withdrawal-methods"]),(0,s.Wm)((0,ke.SU)(o8t),{"withdrawal-methods":r.value,onUpdate:o},null,8,["withdrawal-methods"])],64))])])]))}};const c8t=d8t;var u8t=c8t,p8t={path:"/settings",name:"settings",component:Wa,meta:{module:"settings"},children:[{name:"settings/cronJobs",path:"/settings/cronJobs",component:T4t,meta:{module:"settings",subModule:"settings/cronJobs",title:"Cron Jobs",role:"admin"}},{path:"account",name:"settings.account",component:o3t,meta:{module:"settings",title:"Settings",role:"admin"}},{path:"withdrawal-methods",name:"settings.seller.withdrawal-methods",component:u8t,meta:{module:"settings",title:"Settings",role:["seller"]}}]};const g8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Role",-1);var m8t={__name:"RoleSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=e,a=(0,s.Fl)((()=>st.getters["user/roles"])),l=(0,ke.iH)(null),o=(0,ke.iH)(!1),i=(0,ke.iH)([{id:null,name:"Choose Role"},...a.value.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]),w=t=>{i.value=[{id:null,name:"Choose Role"},...t.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]},n=async()=>{if(st.getters["user/fetchedRoles"])return!1;o.value=!0,await ot.roles().then((t=>{"SUCCESS"==t.data.code&&(st.dispatch("user/setRoles",t.data.data.roles),st.dispatch("user/setFetchedRoles",!0),w(a.value))})),o.value=!1},d=t=>{console.log(t),r("update:target",t.name)};return n(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[g8t,(0,s.Wm)((0,ke.SU)(sZ.Z),{"append-to-body":"",loading:o.value,reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>d(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Role",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),options:i.value,label:"name"},{"open-indicator":(0,s.w5)((({attributes:t})=>[(0,s.Wm)(r,(0,s.dG)({icon:"octicon:chevron-down-24"},t,{class:"tw-text-xl"}),null,16)])),_:1},8,["loading","reduce","modelValue","options"])])}}};const h8t=m8t;var f8t=h8t;const b8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"User",-1);var v8t={__name:"UserSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=e,a=(0,s.Fl)((()=>st.getters["user/users"])),l=(0,ke.iH)(null),o=(0,ke.iH)([{id:null,name:"Choose User"},...a.value.map((t=>({id:t.id,name:t.firstname+" "+t.lastname})))]),i=t=>{r("update:target",t.id)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[b8t,(0,s.Wm)((0,ke.SU)(sZ.Z),{"append-to-body":"",class:"tw-min-w-[200px]",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>i(t)),clearable:!1,placeholder:"Choose User",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),options:o.value,label:"name"},null,8,["reduce","modelValue","options"])]))}};const x8t=v8t;var y8t=x8t;const _8t=(0,s._)("span",null,"Make announcement",-1),k8t=[_8t],C8t={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},D8t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},S8t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Make Announcement ",-1),z8t={class:"tw-p-5 tw-space-y-4"},U8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Variant",-1),q8t={class:"tw-grid tw-grid-cols-4 tw-gap-2"},P8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Type",-1),L8t={class:"tw-grid tw-grid-cols-3 tw-gap-2"},W8t={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},A8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Closeable",-1),$8t={class:"tw-grid tw-grid-cols-2 tw-gap-2"},E8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Direction",-1),T8t={class:"tw-grid tw-grid-cols-2 tw-gap-2"},F8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Content",-1),j8t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},I8t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},V8t=["disabled"],O8t=["disabled"],H8t=(0,s._)("span",null,"Send",-1);var M8t={__name:"AddAlertForm",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)(!1),l=(0,s.f3)("alerts"),o=(0,ke.iH)({variant:"success",type:"global",target:null,content:"",closeable:!0,direction:"rtl"});(0,s.YP)((()=>o.value.target),(t=>{console.log("Target has been updated: ",t)})),(0,s.YP)((()=>o.value.type),(()=>{o.value.target=null}));const i=(0,ke.iH)({}),w=async()=>(i.value.content="",i.value.target="","global"==o.value.type||o.value.target?""==o.value.content?(i.value.content="The content can't be empty.",!1):(r.value=!0,await ga.create(o.value).then((t=>{console.log(t),"SUCCESS"==t.data.code&&(e.value=!1,l.data.value.unshift(t.data.alert),Tc("Sent successfully"))})).catch((t=>{console.log(t)})),void(r.value=!1)):(i.value.target="The target cannot be empty.",!1));return(t,l)=>{const n=(0,s.up)("icon"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:l[0]||(l[0]=t=>e.value=!0),role:"button",class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},k8t),(0,s.Wm)(d,{visible:e.value,onCancel:l[17]||(l[17]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",C8t,[(0,s._)("div",D8t,[S8t,(0,s._)("div",z8t,[(0,s._)("div",null,[U8t,(0,s._)("div",q8t,[(0,s._)("button",{onClick:l[1]||(l[1]=t=>o.value.variant="success"),class:(0,wt.C_)([["success"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-emerald-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[2]||(l[2]=t=>o.value.variant="info"),class:(0,wt.C_)([["info"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-cyan-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[3]||(l[3]=t=>o.value.variant="danger"),class:(0,wt.C_)([["danger"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-rose-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[4]||(l[4]=t=>o.value.variant="warning"),class:(0,wt.C_)([["warning"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-amber-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2)])]),(0,s._)("div",null,[P8t,(0,s._)("div",L8t,[(0,s._)("button",{onClick:l[5]||(l[5]=t=>o.value.type="global"),class:(0,wt.C_)([["global"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Global ",2),(0,s._)("button",{onClick:l[6]||(l[6]=t=>o.value.type="role"),class:(0,wt.C_)([["role"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Role ",2),(0,s._)("button",{onClick:l[7]||(l[7]=t=>o.value.type="user"),class:(0,wt.C_)([["user"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," User ",2)])]),(0,s.wy)((0,s._)("div",null,["role"==o.value.type?((0,s.wg)(),(0,s.j4)((0,ke.SU)(f8t),{key:0,target:o.value.target,"onUpdate:target":l[8]||(l[8]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),"user"==o.value.type?((0,s.wg)(),(0,s.j4)((0,ke.SU)(y8t),{key:1,target:o.value.target,"onUpdate:target":l[9]||(l[9]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),i.value.target?((0,s.wg)(),(0,s.iD)("label",W8t,(0,wt.zw)(i.value.target),1)):(0,s.kq)("",!0)],512),[[a.F8,"global"!=o.value.type]]),(0,s._)("div",null,[A8t,(0,s._)("div",$8t,[(0,s._)("button",{onClick:l[10]||(l[10]=t=>o.value.closeable=!0),class:(0,wt.C_)([[1==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Yes ",2),(0,s._)("button",{onClick:l[11]||(l[11]=t=>o.value.closeable=!1),class:(0,wt.C_)([[0==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," No ",2)])]),(0,s._)("div",null,[E8t,(0,s._)("div",T8t,[(0,s._)("button",{onClick:l[12]||(l[12]=t=>o.value.direction="rtl"),class:(0,wt.C_)([["rtl"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Right To Left ",2),(0,s._)("button",{onClick:l[13]||(l[13]=t=>o.value.direction="ltr"),class:(0,wt.C_)([["ltr"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Left To Right ",2)])]),(0,s._)("div",null,[F8t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":l[14]||(l[14]=t=>o.value.content=t),onInput:l[15]||(l[15]=t=>i.value.content=null),class:(0,wt.C_)([[i.value.content&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Announcement content"},null,34),[[a.nr,o.value.content]]),i.value.content?((0,s.wg)(),(0,s.iD)("label",j8t,(0,wt.zw)(i.value.content),1)):(0,s.kq)("",!0)])]),(0,s._)("div",I8t,[(0,s._)("button",{onClick:l[16]||(l[16]=t=>e.value=!1),disabled:r.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,V8t),(0,s._)("button",{onClick:w,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),H8t],8,O8t)])])])])),_:1},8,["visible"])])}}};const R8t=M8t;var N8t=R8t;const Y8t={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"},Z8t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},K8t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Delete Announcement ",-1),B8t=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to delete this announcement ? ")],-1),Q8t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},J8t=["disabled"],G8t=(0,s._)("span",null,"Confirm",-1);var X8t={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,ke.Vh)(e,"item"),a=(0,s.f3)("alerts"),l=(0,ke.iH)({delete:!1}),o=(0,ke.iH)({delete:!1}),i=async()=>{o.value.delete=!0,await ga["delete"](r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Deleted successfully."),l.value.delete=!1,a.data.value=a.data.value.filter((t=>t.id!=r.value.id)))})),o.value.delete=!1};return(t,e)=>{const r=(0,s.up)("icon"),a=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Y8t,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value.delete=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-rose-300 tw-text-rose-500 tw-duration-200 hover:tw-bg-rose-500 hover:tw-text-white"},[(0,s.Wm)(r,{icon:"fluent:delete-28-filled"})])]),(0,s.Wm)(a,{visible:l.value.delete,onCancel:e[2]||(e[2]=t=>l.value.delete=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",Z8t,[K8t,B8t,(0,s._)("div",Q8t,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.value.delete=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:o.value.delete,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.delete&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),G8t],8,J8t)])])])),_:1},8,["visible"])])}}};const t6t=X8t;var e6t=t6t;const r6t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},a6t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},s6t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},l6t={class:"tw-w-[70px] tw-truncate"},o6t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},i6t={class:"tw-w-[80px] tw-truncate"},w6t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},n6t={class:"tw-w-[100px] tw-truncate"},d6t={class:"tw-p-2"};var c6t={__name:"TableRow",props:["item"],setup(t){return(e,r)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",r6t,(0,wt.zw)(t.item.id),1),(0,s._)("td",a6t,(0,wt.zw)((0,ke.SU)(ze())(t.item.created_at).format("YYYY-MM-DD HH:mm:ss")),1),(0,s._)("td",s6t,[(0,s._)("p",l6t,(0,wt.zw)(t.item.type),1)]),(0,s._)("td",o6t,[(0,s._)("p",i6t,(0,wt.zw)(t.item.to),1)]),(0,s._)("td",w6t,[(0,s._)("p",n6t,(0,wt.zw)(t.item.content),1)]),(0,s._)("td",null,[(0,s._)("div",d6t,[(0,s.Wm)((0,ke.SU)(e6t),{item:t.item},null,8,["item"])])])]))}};const u6t=c6t;var p6t=u6t;const g6t={class:"tw-overflow-x-auto"},m6t={class:"tw-inline-block tw-min-w-full tw-align-middle"},h6t={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},f6t={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},b6t={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},v6t={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},x6t={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},y6t=["colspan"],_6t=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No alert was found ! ",-1),k6t=[_6t];var C6t={__name:"AlertsTable",props:["loading","data"],setup(t){const e=t,r=(0,ke.Vh)(e,"loading"),a=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Added at",class:"tw-w-[100px]"},{field:"type",name:"Type",class:"tw-w-[70px] tw-truncate"},{field:"to",name:"To",class:"tw-w-[70px] tw-truncate"},{field:"content",name:"Content",class:"tw-max-w-[150px] tw-truncate"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],l=(0,ke.Vh)(e,"data");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",g6t,[(0,s._)("div",m6t,[(0,s._)("div",h6t,[(0,s._)("table",f6t,[(0,s._)("thead",b6t,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(a,(t=>(0,s._)("th",{key:t.field,class:(0,wt.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],2))),64))])]),r.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(vJt),{key:1,columns:a.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[l.value.length?((0,s.wg)(),(0,s.iD)("tbody",v6t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(p6t),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),l.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",x6t,[(0,s._)("tr",null,[(0,s._)("td",{colspan:a.length},k6t,8,y6t)])]))],64))])])])])]))}};const D6t=C6t;var S6t=D6t;const z6t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},U6t={class:"tw-px-3"},q6t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},P6t=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Manage Alerts ")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Create and manage announcements. ")],-1),L6t={class:"tw-mt-5"};var W6t={__name:"IndexView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)({}),a=(0,ke.iH)({}),l=async()=>{e.value=!0,await ga.paginate("",a.value).then((t=>{const{data:e,...s}=t.data.alerts;r.value=e,a.value=s}),(t=>{console.log(t)})),e.value=!1};return l(),(0,s.JJ)("alerts",{data:r}),(t,a)=>((0,s.wg)(),(0,s.iD)("div",z6t,[(0,s._)("section",U6t,[(0,s._)("div",q6t,[P6t,(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(N8t))])]),(0,s._)("div",L6t,[(0,s.Wm)((0,ke.SU)(S6t),{data:r.value,loading:e.value},null,8,["data","loading"])])])]))}};const A6t=W6t;var $6t=A6t,E6t={name:"alerts",path:"/alerts",component:Wa,meta:{module:"alerts"},children:[{name:"alert/list",path:"",component:$6t,meta:{module:"alert",subModule:"alert/list",title:"Alerts List",role:["admin"]}}]};class T6t{async paginate(t="",e){return await E.getCookie(),A.get("api/affiliate/products"+t,{params:e})}async imported(t="",e){return await E.getCookie(),A.get("api/affiliate/products/imported"+t,{params:e})}async wishlisted(t="",e){return await E.getCookie(),A.get("api/affiliate/products/wishlisted"+t,{params:e})}async get(t){return await E.getCookie(),A.get("api/affiliate/products/"+t)}async details(t){return await E.getCookie(),A.get("api/affiliate/products/"+t+"/details")}async edit(t){return await E.getCookie(),A.get("api/affiliate/products/"+t+"/edit")}async create(t){return await E.getCookie(),A.post("api/affiliate/products",t)}async update(t,e){return await E.getCookie(),A.post("api/affiliate/products/"+t,e)}async setOffers(t,e){return await E.getCookie(),A.post("api/affiliate/products/"+t+"/offers",e)}async getOffers(t){return await E.getCookie(),A.get("api/affiliate/products/"+t+"/offers")}async addImport(t){return await E.getCookie(),A.post("api/affiliate/import",{product_id:t})}async removeImport(t){return await E.getCookie(),A.post("api/affiliate/unimport",{product_id:t})}async addWishlist(t){return await E.getCookie(),A.post("api/affiliate/wishlist",{product_id:t})}async removeWishlist(t){return await E.getCookie(),A.post("api/affiliate/unwishlist",{product_id:t})}}var F6t=new T6t;const j6t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},I6t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Manage Offers ",-1),V6t={key:0,class:"tw-p-2 tw-bg-white"},O6t={class:"tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-p-2 tw-grid tw-grid-cols-2 tw-gap-2"},H6t={class:"tw-col-span-2"},M6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Store URL",-1),R6t={class:"tw-col-span-2"},N6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),Y6t={key:1,class:"tw-p-2 tw-bg-white"},Z6t={key:0,class:"tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-p-5 tw-text-center"},K6t=(0,s._)("p",{class:"tw-text-gray-500 tw-text-lg"},"Loading...",-1),B6t=[K6t],Q6t={key:2,class:"tw-p-2 tw-bg-white"},J6t={key:0,class:"tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-p-5 tw-text-center"},G6t=(0,s._)("p",{class:"tw-text-gray-500 tw-text-lg"},"No offers yet",-1),X6t=[G6t],t7t={key:1,class:"tw-flex tw-flex-col tw-gap-2"},e7t=(0,s._)("h1",{class:"tw-mb-2 tw-text-base tw-font-semibold tw-px-2"},"Offers",-1),r7t={class:"tw-col-span-2 md:tw-col-span-1"},a7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),s7t=["onUpdate:modelValue"],l7t={class:"tw-col-span-2 md:tw-col-span-1"},o7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Price",-1),i7t=["onUpdate:modelValue"],w7t={class:"tw-col-span-2"},n7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),d7t=["onUpdate:modelValue"],c7t={class:"tw-col-span-2 tw-flex tw-items-center tw-justify-end"},u7t=["onClick","disabled"],p7t=(0,s._)("span",null,"Delete",-1),g7t=[p7t],m7t={class:"tw-flex tw-items-center tw-justify-center tw-mt-4"},h7t=(0,s._)("p",{class:""},"Add offer",-1),f7t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},b7t=["disabled"],v7t=(0,s._)("span",null,"Save",-1);var x7t={__name:"ProductOffers",props:["product","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=e,o=(0,ke.iH)([]),i=(0,ke.iH)(null),w=(0,ke.iH)(null),n=(0,ke.iH)(!1),d=(0,ke.iH)(!1),c=()=>{const t={id:Date.now(),product_id:r.product.id,quantity:"",price:"",note:""};o.value.push(t)},u=async()=>{let t=!0;if(o.value.forEach((e=>{e.price&&e.quantity||(t=!1)})),!t)return Tc("The offers are not valid. check price and quantity","warning"),!1;n.value=!0,await F6t.setOffers(r.product.id,{offers:o.value,store_url:i.value,video_url:w.value}).then((t=>{"SUCCESS"==t.data.code&&(Tc("Offers has been updated"),l("update:visible",!1))})),n.value=!1},p=t=>{console.log("deleting...",t),o.value=o.value.filter((e=>e.id!=t))},g=async()=>{d.value=!0,await F6t.getOffers(r.product.id).then((t=>{"SUCCESS"==t.data.code&&(o.value=t.data.offers,w.value=t.data.video_url,i.value=t.data.store_url)})),d.value=!1};return g(),(t,e)=>{const g=(0,s.up)("icon"),m=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(m,{visible:r.visible,closeable:!n.value,onCancel:e[3]||(e[3]=t=>l("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",j6t,[I6t,d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",V6t,[(0,s._)("div",O6t,[(0,s._)("div",H6t,[M6t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Store URL",required:""},null,512),[[a.nr,i.value]])]),(0,s._)("div",R6t,[N6t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>w.value=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Video URL",required:""},null,512),[[a.nr,w.value]])])])])),d.value?((0,s.wg)(),(0,s.iD)("div",Y6t,[o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Z6t,B6t))])):(0,s.kq)("",!0),d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Q6t,[o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",J6t,X6t)),o.value.length?((0,s.wg)(),(0,s.iD)("div",t7t,[e7t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-2 tw-gap-2 tw-border tw-border-solid tw-p-2 tw-rounded-xlx tw-shadow-sm tw-bg-white tw-border-gray-200",key:t},[(0,s._)("div",r7t,[a7t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"0",required:""},null,8,s7t),[[a.nr,t.quantity]])]),(0,s._)("div",l7t,[o7t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"0",required:""},null,8,i7t),[[a.nr,t.price]])]),(0,s._)("div",w7t,[n7t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e=>t.note=e,class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Note",required:""},null,8,d7t),[[a.nr,t.note]])]),(0,s._)("div",c7t,[(0,s._)("button",{onClick:e=>p(t.id),disabled:n.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},g7t,8,u7t)])])))),128))])):(0,s.kq)("",!0),(0,s._)("div",m7t,[(0,s._)("button",{onClick:c,class:"tw-flex tw-items-center tw-bg-orange-400 tw-text-white tw-gap-2 tw-px-4 tw-py-2 hover:tw-bg-orange-600 tw-duration-200 tw-rounded tw-border tw-border-transparent tw-border-solid hover:tw-border-orange-200"},[(0,s.Wm)(g,{icon:"uil:plus",class:"tw-text-sm"}),h7t])])])),(0,s._)("div",f7t,[(0,s._)("button",{onClick:e[2]||(e[2]=t=>l("update:visible",!1)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:u,disabled:n.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[n.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),v7t],8,b7t)])])])),_:1},8,["visible","closeable"])}}};const y7t=x7t;var _7t=y7t;const k7t={key:0,class:"tw-w-full tw-mt-10 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-2"},C7t=["disabled"],D7t={key:2},S7t={key:3},z7t={key:2},U7t={key:3},q7t={class:"tw-flex tw-justify-end tw-gap-2 tw-p-2"},P7t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},L7t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Import ",-1),W7t={class:"tw-p-4 tw-bg-white"},A7t={key:0,class:"tw-text-lg tw-font-medium"},$7t={key:1,class:"tw-text-lg tw-font-medium"},E7t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},T7t=["disabled"],F7t=["disabled"],j7t=(0,s._)("span",null,"Confirm",-1),I7t=["disabled"],V7t=(0,s._)("span",null,"Remove",-1);var O7t={__name:"ProductCardActions",props:{product:{required:!1},isCard:{type:Boolean,default:!0}},setup(t){const e=t,r=(0,ke.Vh)(e,"product"),a=(0,ke.iH)(r.value.wishlisted),l=(0,ke.iH)(r.value.imported),o=(0,ke.iH)({wishlist:!1,import:!1}),i=(0,ke.iH)({wishlist:!1,import:!1,offers:!1}),w=async()=>{o.value.wishlist=!0,a.value?await F6t.removeWishlist(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Removed from wishlist"),i.value.wishlist=!1,a.value=!1)}),(t=>{console.log(t),Tc("Something wrong happend","danger")})):await F6t.addWishlist(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Added to wishlist"),i.value.wishlist=!1,a.value=!0),"ALREADY_WISHLISTED"==t.data.code&&(Tc("Already in wishlist"),i.value.wishlist=!1,a.value=!0)}),(t=>{console.log(t),Tc("Something wrong happend","danger")})),o.value.wishlist=!1},n=()=>{i.value.import=!0},d=()=>{i.value.offers=!0},c=async()=>{o.value.import=!0,l.value?await F6t.removeImport(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Removed from imported"),i.value.import=!1,l.value=!1),"ORDERS_EXISTS"==t.data.code&&(Tc("Product cannot be removed from import list because it has orders","info"),i.value.import=!1)}),(t=>{console.log(t),Tc("Something wrong happend","danger")})):await F6t.addImport(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Imported successfully"),i.value.import=!1,l.value=!0),"ORDERS_EXISTS"==t.data.code&&(Tc("Product cannot be removed from import list because it has orders","info"),i.value.import=!1),"ALREADY_IMPORTED"==t.data.code&&(Tc("Already imported"),i.value.import=!1,l.value=!0)}),(t=>{console.log(t),Tc("Something wrong happend","danger")})),o.value.import=!1};return(t,r)=>{const u=(0,s.up)("icon"),p=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.isCard?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",k7t,[(0,s._)("button",{onClick:n,disabled:o.value.import,class:(0,wt.C_)([[l.value&&"!tw-bg-gray-100 tw-text-emerald-500"],"tw-px-2 tw-flex tw-items-center tw-justify-center tw-gap-4 tw-bg-emerald-500 tw-text-white tw-rounded tw-py-3 hover:tw-saturate-150x tw-duration-200 tw-border-2 tw-border-solid tw-border-white hover:tw-border-emerald-200 tw-text-lg"])},[o.value.import?((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"charm:plus",class:"tw-text-3xl"})),l.value?((0,s.wg)(),(0,s.j4)(u,{key:1,icon:"uis:check",class:"tw-text-3xl tw-text-emerald-500"})):(0,s.kq)("",!0)],64)),l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",D7t,"Add to import list")),l.value?((0,s.wg)(),(0,s.iD)("span",S7t,"Imported")):(0,s.kq)("",!0)],10,C7t),(0,s._)("button",{onClick:w,class:"tw-px-2 tw-flex tw-items-center tw-justify-center tw-gap-4 tw-bg-rose-500/10 tw-text-rose-500 tw-text-whitxe tw-rounded tw-py-3 hover:tw-saturate-150x tw-duration-200 tw-border-2 tw-border-solid tw-border-white hover:tw-border-rose-200 tw-text-lg"},[o.value.wishlist?((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-rose-500"})):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"ph:heart-light",class:"tw-text-3xl tw-text-rose-500"})),a.value?((0,s.wg)(),(0,s.j4)(u,{key:1,icon:"ph:heart-fill",class:"tw-text-3xl tw-text-rose-500"})):(0,s.kq)("",!0)],64)),a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",z7t,"Add to wishlist")),a.value?((0,s.wg)(),(0,s.iD)("span",U7t,"Wishlisted")):(0,s.kq)("",!0)])])),e.isCard?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,wt.C_)([[(o.value.import||o.value.wishlist)&&"!tw-translate-y-0"],"tw-absolute tw-top-0 tw-left-0 tw-z-20 tw-w-full tw-h-[60px] tw-bg-gradient-to-b tw-from-black/40 tw-to-transparent -tw-translate-y-full group-hover:tw-translate-y-0 tw-duration-200"])},[(0,s._)("div",q7t,[(0,s._)("button",{onClick:n,class:"tw-px-2 tw-aspect-square tw-bg-emerald-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[!o.value.import&&l.value?((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"gravity-ui:check",class:"tw-text-2xl tw-text-white"})):(0,s.kq)("",!0),o.value.import||l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(u,{key:1,icon:"charm:plus",class:"tw-text-2xl tw-text-white"})),o.value.import?((0,s.wg)(),(0,s.j4)(u,{key:2,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):(0,s.kq)("",!0)]),(0,s._)("button",{onClick:w,class:"tw-px-2 tw-aspect-square tw-bg-rose-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[o.value.wishlist?((0,s.wg)(),(0,s.j4)(u,{key:1,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):((0,s.wg)(),(0,s.j4)(u,{key:0,icon:a.value?"ph:heart-fill":"ph:heart-light",class:"tw-text-2xl tw-text-white"},null,8,["icon"]))]),l.value?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:d,class:"tw-px-2 tw-aspect-square tw-bg-amber-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[(0,s.Wm)(u,{icon:"ic:outline-local-offer",class:"tw-text-2xl tw-text-white"})])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0),(0,s.Wm)(p,{visible:i.value.import,closeable:!o.value.import,onCancel:r[1]||(r[1]=t=>i.value.import=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",P7t,[L7t,(0,s._)("div",W7t,[l.value?((0,s.wg)(),(0,s.iD)("p",$7t," Are you sure you want to remove from import list ? ")):((0,s.wg)(),(0,s.iD)("p",A7t," Are you sure you want to import with this product ? "))]),(0,s._)("div",E7t,[(0,s._)("button",{disabled:o.value.import,onClick:r[0]||(r[0]=t=>i.value.import=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,T7t),l.value?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:c,disabled:o.value.import,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 tw-border-rose-800 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.import&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),V7t],8,I7t)):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:c,disabled:o.value.import,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.import&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),j7t],8,F7t))])])])),_:1},8,["visible","closeable"]),i.value.offers?((0,s.wg)(),(0,s.j4)(_7t,{key:2,visible:i.value.offers,"onUpdate:visible":r[2]||(r[2]=t=>i.value.offers=t),product:e.product},null,8,["visible","product"])):(0,s.kq)("",!0)],64)}}};const H7t=O7t;var M7t=H7t;const R7t={class:"tw-relative tw-rounded tw-overflow-hidden tw-group tw-border tw-border-solid tw-shadow-sm tw-bg-white"},N7t=["src"],Y7t=(0,s._)("div",{class:"tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-gray-200 tw-animate-pulse"},null,-1),Z7t={class:"tw-absolute tw-bottom-2 tw-right-2 tw-min-w-[80px] tw-min-h-[40px] tw-p-2 tw-gap-2 tw-rounded tw-py-0 tw-flex tw-items-center tw-justify-center tw-bg-white tw-shadow tw-shadow-orange-400 tw-z-10"},K7t={class:"tw-text-lg tw-font-semibold"},B7t={class:"tw-flex tw-items-center tw-gap-2 tw-absolute tw-bottom-2 tw-left-2 tw-z-20"},Q7t={key:0,title:"TikTok videos exists",class:"tw-border tw-border-solid tw-bg-white tw-border-gray-200 tw-p-1 tw-rounded tw-flex tw-items-center tw-gap-2"},J7t={key:1,title:"Facebook videos exists",class:"tw-border tw-border-solid tw-bg-white tw-border-gray-200 tw-p-1 tw-rounded tw-flex tw-items-center tw-gap-2"},G7t={class:"tw-p-4 tw-pb-2 tw-min-h-[20px]"},X7t={class:"tw-relative"},t9t={class:"tw-flex tw-items-center tw-justify-between"};var e9t={__name:"ProductCard",props:["product"],setup(t){const e=t,r=(0,ke.Vh)(e,"product");return(t,e)=>{const a=(0,s.up)("icon"),l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",R7t,[(0,s.Wm)((0,ke.SU)(M7t),{product:r.value},null,8,["product"]),(0,s.Wm)(l,{to:{name:"affiliate.show",params:{id:r.value.id}},class:"tw-h-[400px] tw-block tw-aspect-square tw-w-full tw-overflow-hidden tw-relative tw-border-b tw-border-solid tw-border-gray-200"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:r.value.thumbnail,class:"tw-w-full tw-h-full tw-aspect-square tw-object-cover group-hover:tw-scale-105 tw-duration-200 tw-relative tw-z-10"},null,8,N7t),Y7t,(0,s._)("div",Z7t,[(0,s.Wm)(a,{icon:"hugeicons:sale-tag-02",class:"tw-text-2xl tw-text-orange-500"}),(0,s._)("span",K7t,(0,wt.zw)((0,ke.SU)(c))+(0,wt.zw)(r.value.selling_price),1)]),(0,s._)("div",B7t,[r.value.media.tiktok_ads?((0,s.wg)(),(0,s.iD)("div",Q7t,[(0,s.Wm)(a,{icon:"logos:tiktok-icon",class:"tw-text-lg"})])):(0,s.kq)("",!0),r.value.media.facebook_ads?((0,s.wg)(),(0,s.iD)("div",J7t,[(0,s.Wm)(a,{icon:"basil:facebook-solid",class:"tw-text-lg tw-text-sky-600"})])):(0,s.kq)("",!0)])])),_:1},8,["to"]),(0,s._)("div",G7t,[(0,s._)("div",X7t,[(0,s.Wm)(l,{to:{name:"affiliate.show",params:{id:r.value.id}},class:"tw-text-lg tw-font-medium tw-max-w-full tw-truncate tw-block"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.value.name),1)])),_:1},8,["to"]),(0,s._)("div",t9t,[((0,s.wg)(),(0,s.iD)("p",{key:r.value.category,class:"tw-text-sm tw-text-orange-500 tw-rounded tw-w-fit tw-my-1"},(0,wt.zw)(r.value.category),1))]),(0,s.kq)("",!0)])]),(0,s.kq)("",!0)])}}};const r9t=e9t;var a9t=r9t;const s9t=(0,s._)("div",{class:"tw-px-5 tw-py-2"},[(0,s._)("div",null,[(0,s._)("button",{class:"tw-py-2 tw-border-b-2 tw-border-solid tw-border-orange-500"},"All Products")])],-1),l9t={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},o9t={class:"tw-px-3"},i9t={class:"tw-mt-5x tw-flexx tw-items-centerx"},w9t={key:0},n9t={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},d9t={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},c9t={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},u9t=["src"],p9t=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),g9t={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},m9t=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),h9t={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var f9t={__name:"ProductResearchView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)([]),a=async()=>{e.value=!0,await F6t.paginate().then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[s9t,(0,s._)("div",l9t,[(0,s._)("section",o9t,[(0,s.kq)("",!0),(0,s._)("div",i9t,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",w9t,[r.value.length?((0,s.wg)(),(0,s.iD)("div",n9t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(a9t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",d9t,[(0,s._)("div",c9t,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,u9t),p9t])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",g9t,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[m9t,(0,s._)("div",h9t,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const b9t=f9t;var v9t=b9t;const x9t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},y9t=(0,s.uE)('<section class="tw-px-3"><div class="tw-flex tw-items-center tw-justify-between tw-flex-wrap"><div><div class="tw-flex tw-items-center tw-gap-x-3"><h2 class="tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"> Products </h2><span class="tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded darkx:tw-bg-gray-800 darkx:tw-text-orange-400">0 products</span></div><p class="tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"> List of affiliate products. </p></div></div></section>',1),_9t=[y9t];function k9t(t,e){return(0,s.wg)(),(0,s.iD)("div",x9t,_9t)}const C9t={},D9t=(0,m.Z)(C9t,[["render",k9t]]);var S9t=D9t,z9t=r(7200),U9t=r(6835),q9t=r(6414),P9t=r(3798),L9t=r(4018);const W9t={class:"tw-flex tw-items-center tw-gap-2 tw-p-1 tw-border tw-border-solid tw-border-gray-200 tw-rounded-t tw-border-b-0 tw-bg-gray-100 tw-overflow-auto"},A9t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1),$9t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1),E9t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1);var T9t={__name:"EditorToolbar",props:["editor"],setup(t){const e=t,r=(0,ke.Vh)(e,"editor");return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",W9t,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value?.chain().focus().toggleBold().run()),class:(0,wt.C_)([[r.value?.isActive("bold")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-bold-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value?.chain().focus().toggleItalic().run()),class:(0,wt.C_)([[r.value?.isActive("italic")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-italic-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[2]||(e[2]=t=>r.value?.chain().focus().toggleUnderline().run()),class:(0,wt.C_)([[r.value?.isActive("underline")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-underline-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[3]||(e[3]=t=>r.value?.chain().focus().toggleStrike().run()),class:(0,wt.C_)([[r.value?.isActive("strike")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-cross-bold",class:"tw-text-sm"})],2),A9t,(0,s._)("button",{onClick:e[4]||(e[4]=t=>r.value?.chain().focus().toggleHeading({level:1}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:1})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-one-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>r.value?.chain().focus().toggleHeading({level:2}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:2})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-two-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[6]||(e[6]=t=>r.value?.chain().focus().toggleHeading({level:3}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:3})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-three-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[7]||(e[7]=t=>r.value?.chain().focus().toggleHeading({level:4}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:4})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-four-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[8]||(e[8]=t=>r.value?.chain().focus().toggleHeading({level:5}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:5})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-five-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[9]||(e[9]=t=>r.value?.chain().focus().toggleHeading({level:6}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:6})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-six-bold",class:"tw-text-sm"})],2),$9t,(0,s._)("button",{onClick:e[10]||(e[10]=t=>r.value?.chain().focus().setTextAlign("left").run()),class:(0,wt.C_)([[r.value?.isActive({textAlign:"left"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-left-bold",class:""})],2),(0,s._)("button",{onClick:e[11]||(e[11]=t=>r.value?.chain().focus().setTextAlign("center").run()),class:(0,wt.C_)([[r.value?.isActive({textAlign:"center"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-center-bold",class:""})],2),(0,s._)("button",{onClick:e[12]||(e[12]=t=>r.value?.chain().focus().setTextAlign("right").run()),class:(0,wt.C_)([[r.value?.isActive({textAlign:"right"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-right-bold",class:""})],2),E9t,(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{onClick:e[14]||(e[14]=t=>r.value?.chain().focus().toggleBulletList().run()),class:(0,wt.C_)([[r.value?.isActive("bulletList")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"fluent:text-bullet-list-ltr-20-filled",class:""})],2),(0,s._)("button",{onClick:e[15]||(e[15]=t=>r.value?.chain().focus().toggleOrderedList().run()),class:(0,wt.C_)([[r.value?.isActive("orderedList")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:list-numbers-light",class:""})],2)])}}};const F9t=T9t;var j9t=F9t,I9t={__name:"TiptapEditor",props:{modelValue:{required:!0},editable:{required:!1,default:!0}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,a=e;console.log(r.modelValue);const l=(0,z9t.jE)({editable:r.editable,content:r.modelValue,extensions:[q9t.Z,U9t.Z,L9t.ZP,P9t.Z.configure({types:["heading","paragraph"]})],editorProps:{attributes:{class:r.editable?"tw-outline-none tw-border tw-border-solid tw-border-gray-200 tw-min-h-[250px] tw-p-5 tw-rounded-b":"tw-outline-none"}},onUpdate({editor:t}){a("update:modelValue",t.getHTML())}});return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[r.editable?((0,s.wg)(),(0,s.j4)((0,ke.SU)(j9t),{key:0,editor:(0,ke.SU)(l)},null,8,["editor"])):(0,s.kq)("",!0),(0,s.Wm)((0,ke.SU)(z9t.kg),{editor:(0,ke.SU)(l),class:"tw-w-full tw-min-h-[300px] tw-outline-none no-tailwind"},null,8,["editor"])]))}};const V9t=I9t;var O9t=V9t;class H9t{async create(t){return await E.getCookie(),A.post("api/categories",t)}async all(){return await E.getCookie(),A.get("api/categories")}}var M9t=new H9t;const R9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Category",-1),N9t={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-1"},Y9t={class:"tw-flex-1"},Z9t={class:"tw-relative"},K9t=["disabled"],B9t=(0,s._)("option",{value:"",selected:""},"Choose category",-1),Q9t=["value"],J9t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},G9t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Add category ",-1),X9t={class:"tw-p-5 tw-bg-white"},tte={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},ete={class:"tw-col-span-2 md:tw-col-span-2"},rte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),ate={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ste={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},lte=["disabled"],ote=(0,s._)("span",null,"Create",-1);var ite={__name:"CategoryField",setup(t){const e=(0,s.f3)("product"),r=(0,ke.iH)(!1),l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=(0,ke.iH)({type:"products"}),w=(0,ke.iH)([]),n=(0,ke.iH)({}),d=async()=>{if(n.value={},!i.value.name)return n.value.name="Name is required",!1;l.value=!0,await M9t.create(i.value).then((t=>{"SUCCESS"==t.data.code&&(w.value.unshift(t.data.category),Tc("New category has been added"),c())}),(t=>{console.log(t)})),l.value=!1},c=()=>{i.value={type:"products"},r.value=!1},u=async()=>{o.value=!1,await M9t.all().then((t=>{"SUCCESS"==t.data.code&&(w.value=t.data.categories,o.value=!0)}),(t=>{console.log(t)}))};return o.value||u(),(t,u)=>{const p=(0,s.up)("icon"),g=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[R9t,(0,s._)("div",N9t,[(0,s._)("div",Y9t,[(0,s._)("div",Z9t,[(0,s.wy)((0,s._)("select",{disabled:!o.value,"onUpdate:modelValue":u[0]||(u[0]=t=>(0,ke.SU)(e).category_id=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"},[B9t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t},(0,wt.zw)(t.name),9,Q9t)))),128))],8,K9t),[[a.bM,(0,ke.SU)(e).category_id]])])]),(0,s._)("button",{onClick:u[1]||(u[1]=t=>r.value=!r.value),class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(p,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.Wm)(g,{visible:r.value,closeable:!0,onCancel:u[4]||(u[4]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",J9t,[G9t,(0,s._)("div",X9t,[(0,s._)("div",tte,[(0,s._)("div",ete,[rte,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":u[2]||(u[2]=t=>i.value.name=t),onInput:u[3]||(u[3]=t=>n.value.name=null),type:"text",class:(0,wt.C_)([[n.value.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Name",required:""},null,34),[[a.nr,i.value.name]]),n.value.name?((0,s.wg)(),(0,s.iD)("label",ate,(0,wt.zw)(n.value.name),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",ste,[(0,s._)("button",{onClick:c,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ote],8,lte)])])])),_:1},8,["visible"])])}}};const wte=ite;var nte=wte;const dte={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-10"},cte={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},ute=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Basic Informations")],-1),pte={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},gte={class:"tw-col-span-2"},mte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),hte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fte={class:"tw-col-span-2"},bte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"SKU",-1),vte=["disabled"],xte={key:0,class:"tw-block tw-mb-1 tw-mt-1 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},yte={key:1,class:"tw-block tw-mb-1 tw-mt-1 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},_te={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},kte={class:"tw-col-span-2"},Cte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Buying Price",-1),Dte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ste={class:"tw-col-span-2"},zte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Selling Price",-1),Ute={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qte={class:"tw-col-span-2"},Pte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Description",-1),Lte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Wte={class:"md:tw-col-span-5 tw-col-span-12 tw-w-full tw-rounded-md tw-flex tw-flex-col tw-gap-5 tw-h-fit"},Ate={class:"tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-overflow-hidden tw-h-fit"},$te=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Visibility")],-1),Ete={class:"tw-p-5"},Tte={class:"tw-flex tw-items-center tw-gap-5"},Fte=(0,s._)("span",null,"Visible",-1),jte=(0,s._)("span",null,"Hidden",-1),Ite={class:"md:tw-col-span-5 tw-col-span-12"},Vte={class:"tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-h-fit tw-overflow-hidden"},Ote=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Category")],-1),Hte={class:"tw-p-5 tw-space-y-4"},Mte={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-gap-2 tw-overflow-hidden tw-h-fit"},Rte=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Rates")],-1),Nte={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},Yte={class:"tw-col-span-2 md:tw-col-span-1"},Zte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Confirmation",-1),Kte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Bte={class:"tw-col-span-2 md:tw-col-span-1"},Qte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Delivery",-1),Jte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"};var Gte={__name:"MainDetailsTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.f3)("errors"),l=(0,s.f3)("isUpdate");return(t,o)=>((0,s.wg)(),(0,s.iD)("div",dte,[(0,s._)("div",cte,[ute,(0,s._)("div",pte,[(0,s._)("div",gte,[mte,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>(0,ke.SU)(e).name=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter product name...",required:""},null,512),[[a.nr,(0,ke.SU)(e).name]]),(0,ke.SU)(r).name?((0,s.wg)(),(0,s.iD)("label",hte,(0,wt.zw)((0,ke.SU)(r).name),1)):(0,s.kq)("",!0)]),(0,s._)("div",fte,[bte,(0,s.wy)((0,s._)("input",{disabled:(0,ke.SU)(l),type:"text","onUpdate:modelValue":o[1]||(o[1]=t=>(0,ke.SU)(e).sku=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter product SKU...",required:""},null,8,vte),[[a.nr,(0,ke.SU)(e).sku]]),(0,ke.SU)(l)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("label",xte,"SKU should be unique for all products")),(0,ke.SU)(l)?((0,s.wg)(),(0,s.iD)("label",yte,"SKU cannot be updated")):(0,s.kq)("",!0),(0,ke.SU)(r).sku?((0,s.wg)(),(0,s.iD)("label",_te,(0,wt.zw)((0,ke.SU)(r).sku),1)):(0,s.kq)("",!0)]),(0,s._)("div",kte,[Cte,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[2]||(o[2]=t=>(0,ke.SU)(e).buying_price=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Buying price...",required:""},null,512),[[a.nr,(0,ke.SU)(e).buying_price]]),(0,ke.SU)(r).buying_price?((0,s.wg)(),(0,s.iD)("label",Dte,(0,wt.zw)((0,ke.SU)(r).buying_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",Ste,[zte,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=t=>(0,ke.SU)(e).selling_price=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Selling price...",required:""},null,512),[[a.nr,(0,ke.SU)(e).selling_price]]),(0,ke.SU)(r).selling_price?((0,s.wg)(),(0,s.iD)("label",Ute,(0,wt.zw)((0,ke.SU)(r).selling_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",qte,[Pte,(0,s.Wm)(O9t,{modelValue:(0,ke.SU)(e).description,"onUpdate:modelValue":o[4]||(o[4]=t=>(0,ke.SU)(e).description=t)},null,8,["modelValue"]),(0,ke.SU)(r).description?((0,s.wg)(),(0,s.iD)("label",Lte,(0,wt.zw)((0,ke.SU)(r).description),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",Wte,[(0,s._)("div",Ate,[$te,(0,s._)("div",Ete,[(0,s._)("div",Tte,[(0,s._)("button",{onClick:o[5]||(o[5]=t=>(0,ke.SU)(e).status=!(0,ke.SU)(e).status),class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:(0,wt.C_)([[(0,ke.SU)(e).status&&"tw-bg-gray-700"],"tw-w-5 tw-h-5 tw-rounded-md tw-order tw-border-2 tw-border-solid tw-border-gray-600 tw-duration-200"])},null,2),Fte]),(0,s._)("button",{onClick:o[6]||(o[6]=t=>(0,ke.SU)(e).status=!(0,ke.SU)(e).status),class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:(0,wt.C_)([[!(0,ke.SU)(e).status&&"tw-bg-gray-700"],"tw-w-5 tw-h-5 tw-rounded-md tw-order tw-border-2 tw-border-solid tw-border-gray-600 tw-duration-200"])},null,2),jte])])])]),(0,s._)("div",Ite,[(0,s._)("div",Vte,[Ote,(0,s._)("div",Hte,[(0,s.Wm)(nte),(0,s.kq)("",!0)])])]),(0,s._)("div",Mte,[(0,s._)("div",null,[Rte,(0,s._)("div",Nte,[(0,s._)("div",Yte,[Zte,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[7]||(o[7]=t=>(0,ke.SU)(e).confirmation_rate=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Confirmation rate %",required:""},null,512),[[a.nr,(0,ke.SU)(e).confirmation_rate]]),(0,ke.SU)(r).confirmation_rate?((0,s.wg)(),(0,s.iD)("label",Kte,(0,wt.zw)((0,ke.SU)(r).confirmation_rate),1)):(0,s.kq)("",!0)]),(0,s._)("div",Bte,[Qte,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[8]||(o[8]=t=>(0,ke.SU)(e).delivery_rate=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Delivery rate %",required:""},null,512),[[a.nr,(0,ke.SU)(e).delivery_rate]]),(0,ke.SU)(r).delivery_rate?((0,s.wg)(),(0,s.iD)("label",Jte,(0,wt.zw)((0,ke.SU)(r).delivery_rate),1)):(0,s.kq)("",!0)])])])])])]))}};const Xte=Gte;var tee=Xte;const eee={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},ree=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Add variation ",-1),aee={class:"tw-p-5 tw-bg-white"},see={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},lee={class:"tw-col-span-2 md:tw-col-span-2"},oee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),iee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},wee={class:"tw-col-span-2 md:tw-col-span-2"},nee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Color",-1),dee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cee={class:"tw-col-span-2 md:tw-col-span-2"},uee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Size",-1),pee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gee={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},mee=["disabled"],hee=(0,s._)("span",null,"Create",-1);var fee={__name:"ProductVariationAdd",emits:["create"],setup(t,{emit:e}){const r=e,l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=(0,ke.iH)({}),w=(0,ke.iH)({}),n=()=>{if(!i.value.quantity)return Tc("Quantity is required","error"),!1;i.value.id=Date.now(),r("create",i.value),d()},d=()=>{i.value={},l.value=!1};return(t,e)=>{const r=(0,s.up)("icon"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value=!l.value),class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-aspect-square tw-rounded"},[(0,s.Wm)(r,{icon:"jam:plus",class:"tw"})]),(0,s.Wm)(c,{visible:l.value,closeable:!0,onCancel:e[7]||(e[7]=t=>l.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",eee,[ree,(0,s._)("div",aee,[(0,s._)("div",see,[(0,s._)("div",lee,[oee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.value.quantity=t),onInput:e[2]||(e[2]=t=>w.value.quantity=null),type:"number",class:(0,wt.C_)([[w.value.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"0",required:""},null,34),[[a.nr,i.value.quantity]]),w.value.quantity?((0,s.wg)(),(0,s.iD)("label",iee,(0,wt.zw)(w.value.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",wee,[nee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.value.color=t),onInput:e[4]||(e[4]=t=>w.value.color=null),type:"text",class:(0,wt.C_)([[w.value.color&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"White, Black...",required:""},null,34),[[a.nr,i.value.color]]),w.value.color?((0,s.wg)(),(0,s.iD)("label",dee,(0,wt.zw)(w.value.color),1)):(0,s.kq)("",!0)]),(0,s._)("div",cee,[uee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>i.value.size=t),onInput:e[6]||(e[6]=t=>w.value.size=null),type:"text",class:(0,wt.C_)([[w.value.size&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Small, Large...",required:""},null,34),[[a.nr,i.value.size]]),w.value.size?((0,s.wg)(),(0,s.iD)("label",pee,(0,wt.zw)(w.value.size),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",gee,[(0,s._)("button",{onClick:d,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:n,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),hee],8,mee)])])])),_:1},8,["visible"])])}}};const bee=fee;var vee=bee;const xee={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},yee=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Update variation ",-1),_ee={class:"tw-p-5 tw-bg-white"},kee={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},Cee={class:"tw-col-span-2 md:tw-col-span-2"},Dee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),See={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zee={class:"tw-col-span-2 md:tw-col-span-2"},Uee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Color",-1),qee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Pee={class:"tw-col-span-2 md:tw-col-span-2"},Lee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Size",-1),Wee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Aee={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},$ee=["disabled"],Eee=(0,s._)("span",null,"Create",-1);var Tee={__name:"ProductVariationUpdate",props:["variation"],emits:["update","cancel"],setup(t,{emit:e}){const r=t,l=e,o=(0,ke.iH)(!0),i=(0,ke.iH)(!1),w=(0,ke.iH)({...r.variation}),n=(0,ke.iH)({}),d=()=>{if(!w.value.quantity)return Tc("Quantity is required","error"),!1;l("update",w.value),c()},c=()=>{w.value=r.variation,o.value=!1,l("cancel")};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:o.value,closeable:!0,onCancel:e[6]||(e[6]=t=>o.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",xee,[yee,(0,s._)("div",_ee,[(0,s._)("div",kee,[(0,s._)("div",Cee,[Dee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>w.value.quantity=t),onInput:e[1]||(e[1]=t=>n.value.quantity=null),type:"number",class:(0,wt.C_)([[n.value.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"0",required:""},null,34),[[a.nr,w.value.quantity]]),n.value.quantity?((0,s.wg)(),(0,s.iD)("label",See,(0,wt.zw)(n.value.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",zee,[Uee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.value.color=t),onInput:e[3]||(e[3]=t=>n.value.color=null),type:"text",class:(0,wt.C_)([[n.value.color&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"White, Black...",required:""},null,34),[[a.nr,w.value.color]]),n.value.color?((0,s.wg)(),(0,s.iD)("label",qee,(0,wt.zw)(n.value.color),1)):(0,s.kq)("",!0)]),(0,s._)("div",Pee,[Lee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>w.value.size=t),onInput:e[5]||(e[5]=t=>n.value.size=null),type:"text",class:(0,wt.C_)([[n.value.size&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Small, Large...",required:""},null,34),[[a.nr,w.value.size]]),n.value.size?((0,s.wg)(),(0,s.iD)("label",Wee,(0,wt.zw)(n.value.size),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",Aee,[(0,s._)("button",{onClick:c,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:i.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Eee],8,$ee)])])])),_:1},8,["visible"])])}}};const Fee=Tee;var jee=Fee;const Iee={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},Vee={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},Oee={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},Hee={class:"tw-p-1 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100 tw-flex tw-items-center tw-justify-center tw-gap-2"},Mee={title:"Delete variation",class:"tw-aspect-square tw-scale-90 tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-rose-100 hover:tw-border-rose-400 tw-bg-rose-50/10 hover:tw-bg-rose-100 tw-duration-200"};var Ree={__name:"ProductVariation",props:["variation"],emits:["update"],setup(t,{emit:e}){const r=t,a=e,l=(0,ke.iH)(!1),o=(0,ke.Vh)(r,"variation");return(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",{key:o.value,class:"tw-grid tw-grid-cols-4 tw-divide-x tw-text-center"},[(0,s._)("div",Iee,(0,wt.zw)(o.value.quantity),1),(0,s._)("div",Vee,(0,wt.zw)(o.value.color),1),(0,s._)("div",Oee,(0,wt.zw)(o.value.size),1),(0,s._)("div",Hee,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value=!0),title:"Delete variation",class:"tw-aspect-square tw-scale-90 tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 tw-bg-amber-50/10 hover:tw-bg-amber-100 tw-duration-200"},[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})]),(0,s._)("button",Mee,[(0,s.Wm)(r,{icon:"solar:trash-bin-trash-bold-duotone",class:"tw-text-xl tw-text-rose-500"})])]),l.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(jee),{key:0,variation:o.value,onUpdate:e[1]||(e[1]=t=>a("update",t))},null,8,["variation"])):(0,s.kq)("",!0)])}}};const Nee=Ree;var Yee=Nee;const Zee={class:"tw-grid tw-grid-cols-12 tw-gap-5"},Kee={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},Bee=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Variations")],-1),Qee={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},Jee={class:"tw-col-span-2 tw-flex tw-items-center tw-justify-between tw-mb-2"},Gee=(0,s._)("p",null,"Does the product have variations ?",-1),Xee=(0,s.uE)('<div class="tw-col-span-1"><label class="tw-block tw-text-sm tw-mb-2 tw-font-medium tw-text-gray-900 dark:tw-text-white"> Warehouse</label><div class="tw-relative"><select value="lebanon" class="tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"><option value="a" disabled>Choose warehouse</option><option value="lebanon">Lebanon</option></select></div></div>',1),tre={key:0,class:"tw-col-span-1"},ere=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Initial quantity",-1),rre={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},are={key:0,class:"tw-col-span-2 tw-mt-5"},sre={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},lre=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Variations list",-1),ore={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ire={key:2,class:"tw-p-5 tw-bg-gray-100 tw-text-center"},wre=(0,s._)("p",null,"No variations added yet",-1),nre=[wre],dre={key:3,class:"tw-p-2 tw-bg-gray-100 tw-"},cre=(0,s._)("div",{class:"tw-grid tw-grid-cols-4 tw-mb-1 tw-text-center"},[(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Quantity"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Color"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Size"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Actions")],-1),ure=(0,s.uE)('<div class="md:tw-col-span-5 tw-col-span-12 tw-h-fit"><div class="tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"><div class="tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"><h1 class="tw-font-semibold tw-text-white">Deliveries</h1></div><div class="tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"><div class="tw-col-span-2"><label class="tw-block tw-text-sm tw-mb-2 tw-font-medium tw-text-gray-900 dark:tw-text-white"> Can be delivered by</label><div class="tw-relative"><select value="road-runner" class="tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"><option value="a" disabled>Choose deliveries</option><option value="road-runner">Road Runner</option></select></div></div></div></div></div>',1);var pre={__name:"ProductStockTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.f3)("errors"),l=t=>{e.value.variations.unshift(t)},o=t=>{e.value.variations=e.value.variations.map((e=>e.id==t.id?t:e))};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",Zee,[(0,s._)("div",Kee,[Bee,(0,s._)("div",Qee,[(0,s._)("div",Jee,[Gee,(0,s._)("button",{onClick:i[0]||(i[0]=t=>(0,ke.SU)(e).has_variations=!(0,ke.SU)(e).has_variations),class:"tw-p-1 tw-h-[35px] tw-w-[90px] tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-rounded"},[(0,s._)("div",{class:(0,wt.C_)([[(0,ke.SU)(e).has_variations?"tw-translate-x-full":""],"tw-w-[40px] tw-duration-200 tw-h-full tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded-sm tw-uppercase tw-text-center tw-font-medium tw-text-sm tw-flex tw-items-center tw-justify-center"])},(0,wt.zw)((0,ke.SU)(e).has_variations?"Yes":"No"),3)])]),Xee,(0,ke.SU)(e).has_variations?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",tre,[ere,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":i[1]||(i[1]=t=>(0,ke.SU)(e).initial_quantity=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"0",required:""},null,512),[[a.nr,(0,ke.SU)(e).initial_quantity]]),(0,ke.SU)(r).initial_quantity?((0,s.wg)(),(0,s.iD)("label",rre,(0,wt.zw)((0,ke.SU)(r).initial_quantity),1)):(0,s.kq)("",!0)])),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]"},{default:(0,s.w5)((()=>[(0,ke.SU)(e).has_variations?((0,s.wg)(),(0,s.iD)("div",are,[(0,s._)("div",sre,[lre,(0,s.Wm)((0,ke.SU)(vee),{onCreate:l})]),(0,ke.SU)(r).variations?((0,s.wg)(),(0,s.iD)("label",ore,(0,wt.zw)((0,ke.SU)(r).variations),1)):(0,s.kq)("",!0),Object.keys((0,ke.SU)(r)).find((t=>t.startsWith("variations.")))?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(Object.keys((0,ke.SU)(r)).filter((t=>t.startsWith("variations."))),(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(r)[t],(t=>((0,s.wg)(),(0,s.iD)("label",{key:t,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},(0,wt.zw)(t),1)))),128))])))),128)):(0,s.kq)("",!0),(0,ke.SU)(e).variations.length?((0,s.wg)(),(0,s.iD)("div",dre,[cre,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(e).variations,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(Yee),{key:t,variation:t,onUpdate:o},null,8,["variation"])))),128))])):((0,s.wg)(),(0,s.iD)("div",ire,nre))])):(0,s.kq)("",!0)])),_:1})])]),ure]))}};const gre=pre;var mre=gre;class hre{async store(t,e,r){return await E.getCookie(),W.post("api/temporary-file",{file:t,collection_name:e},r)}}var fre=new hre;const bre={class:"tw-aspect-square tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},vre={class:"tw-w-full tw-bg-gray-50"},xre=["src"],yre={class:"tw-text-sm tw-text-white tw-truncate"},_re={class:"tw-relative"},kre={key:0,class:"tw-absolute tw-h-full tw-flex tw-items-center tw-justify-center tw-w-full tw-bg-neutral-900/80 tw-backdrop-blur tw-border tw-border-gray-700 tw-border-solid tw-roundedx tw-top-0 tw-right-0"},Cre={class:"tw-max-w-2/3 tw-p-5 tw-flex tw-flex-col tw-gap-4"},Dre=(0,s._)("span",{class:"tw-text-lg"},"Delete",-1);var Sre={__name:"ImageCard",props:["file"],emits:["show-preview","update","delete"],setup(t,{emit:e}){const r=t,l=e,o=(0,ke.Vh)(r,"file"),i=(0,ke.iH)(!1),w=(0,ke.iH)(0),n={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(i.value=!1)}},d=async()=>(i.value=!0,fre.store(o.value.file,o.value.collection_name,n).then((t=>{if(t.data.uuid){const e={...o.value,uuid:t.data.uuid};l("update",o.value,e),console.log(e)}}),(t=>{console.log(t)})));return o.value.uuid||!o.value.is_new||i.value||d(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",bre,[(0,s._)("div",vre,[i.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,wt.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("img",{onClick:e[0]||(e[0]=t=>l("show-preview")),src:o.value.url,class:"tw-w-full tw-h-full tw-object-contain group-hover:tw-scale-105 tw-duration-200"},null,8,xre),(0,s._)("div",{class:(0,wt.C_)([[o.value.showOptions&&"!tw-hidden"],"tw-p-2 tw-flex tw-items-center tw-justify-between group-hover:tw-translate-y-0 tw-absolute tw-bottom-0 tw-translate-y-full tw-duration-200 tw-w-full tw-h-fit tw-backdrop-blur-sm tw-bg-black/50 tw-left-0"])},[(0,s._)("p",yre,(0,wt.zw)(o.value.name),1),(0,s._)("div",_re,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"tabler:dots",class:"tw-text-3xl tw-text-white"})])])],2)]),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0","leave-to-class":"tw-opacity-0",mode:"out-in"},{default:(0,s.w5)((()=>[o.value.showOptions?((0,s.wg)(),(0,s.iD)("div",kre,[(0,s._)("div",Cre,[(0,s._)("button",{onClick:e[2]||(e[2]=t=>l("delete")),class:"tw-flex tw-items-center tw-gap-2 tw-text-red-300 hover:tw-text-red-500 tw-duration-200"},[(0,s.Wm)(r,{icon:"mdi:trash-can-empty",class:"tw-text-xl"}),Dre])]),(0,s._)("button",{onClick:e[3]||(e[3]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})])])):(0,s.kq)("",!0)])),_:1})])])}}};const zre=Sre;var Ure=zre;const qre={class:"tw-aspect-square tw-group tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},Pre={class:"tw-w-full tw-h-full tw-bg-gray-50"},Lre=["controls","src"],Wre={class:"tw-text-sm tw-text-white tw-truncate"},Are={class:"tw-relative"},$re={key:0,class:"tw-absolute tw-h-full tw-flex tw-items-center tw-justify-center tw-w-full tw-bg-neutral-900/80 tw-backdrop-blur tw-border tw-border-gray-700 tw-border-solid tw-roundedx tw-top-0 tw-right-0"},Ere={class:"tw-max-w-2/3 tw-p-5 tw-flex tw-flex-col tw-gap-4"},Tre=(0,s._)("span",{class:"tw-text-lg"},"Delete",-1);var Fre={__name:"VideoCard",props:["file"],emits:["show-preview","update","delete"],setup(t,{emit:e}){const r=t,l=e,o=(0,ke.Vh)(r,"file"),i=(0,ke.iH)(null),w=(0,ke.iH)(0),n=(0,ke.iH)(!1),d=(0,ke.iH)(null),c=()=>{l("show-preview")},u={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(n.value=!1)}},p=async()=>(n.value=!0,fre.store(o.value.file,o.value.collection_name,u).then((t=>{if(t.data.uuid){const e={...o.value,uuid:t.data.uuid};l("update",o.value,e),console.log(e)}}),(t=>{console.log(t)})));return o.value.uuid||!o.value.is_new||n.value||p(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",qre,[(0,s._)("div",Pre,[n.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,wt.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("video",{ref_key:"video",ref:i,controls:d.value,preload:"false",src:o.value.url,class:"tw-w-full tw-h-full tw-object-contain tw-duration-200"},null,8,Lre),d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:c,class:"tw-absolute tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center group-hover:tw-scale-110 tw-duration-200 tw-bottom-1/2 tw-right-1/2 tw-translate-x-1/2 tw-translate-y-1/2 tw-p-5"},[(0,s.Wm)(r,{icon:"solar:play-circle-bold",class:"tw-text-7xl tw-drop-shadow-md tw-text-white"})])),(0,s._)("div",{class:(0,wt.C_)([[o.value.showOptions&&"!tw-hidden"],"tw-p-2 tw-flex tw-items-center tw-justify-between group-hover:tw-translate-y-0 tw-absolute tw-bottom-0 tw-translate-y-full tw-duration-200 tw-w-full tw-h-fit tw-backdrop-blur-sm tw-bg-black/50 tw-left-0"])},[(0,s._)("p",Wre,(0,wt.zw)(o.value.name),1),(0,s._)("div",Are,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"tabler:dots",class:"tw-text-3xl tw-text-white"})])])],2)]),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0","leave-to-class":"tw-opacity-0",mode:"out-in"},{default:(0,s.w5)((()=>[o.value.showOptions?((0,s.wg)(),(0,s.iD)("div",$re,[(0,s._)("div",Ere,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l("delete")),class:"tw-flex tw-items-center tw-gap-2 tw-text-red-300 hover:tw-text-red-500 tw-duration-200"},[(0,s.Wm)(r,{icon:"mdi:trash-can-empty",class:"tw-text-xl"}),Tre])]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})])])):(0,s.kq)("",!0)])),_:1})])])}}};const jre=Fre;var Ire=jre;const Vre={key:0},Ore={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function Hre(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",Vre,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",Ore,[(0,s.Wm)(Vt.Z5,null,{default:(0,s.w5)((()=>[o.showContent?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] !tw-overflow-auto !tw-max-h-screen"},[(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)])),_:3}),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,wt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-backdrop-blur-sm tw-bg-black/20 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var Mre={props:{visible:{required:!0,default:!1},closeable:{required:!1,default:!0}},data(){return{showContent:!1}},watch:{visible(t){t?setTimeout((()=>{this.showContent=t}),0):this.showContent=t}},methods:{resolve(t){this.closeable&&this.$emit("cancel",t)}},computed:{},mounted(){this.showContent=this.visible},unmounted(){}};const Rre=(0,m.Z)(Mre,[["render",Hre]]);var Nre=Rre;const Yre={class:"tw-p-4"},Zre={key:0,class:"tw-mb-4"},Kre={class:"tw-flex tw-justify-between tw-items-center"},Bre=["disabled"],Qre=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-6 tw-w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),Jre=[Qre],Gre=["src","alt"],Xre=["src"],tae={key:2},eae=["disabled"],rae=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-6 tw-w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),aae=[rae];var sae={__name:"MediaPreview",props:{files:{type:Array,required:!0},index:{type:Number,default:0},visible:{type:Boolean,default:!1}},emits:["update:visible","update:index"],setup(t,{emit:e}){const r=t,a=e,l=()=>{r.index>0&&a("update:index",r.index-1)},o=()=>{r.index<r.files.length-1&&a("update:index",r.index+1)},i=()=>{a("update:visible",!1)};return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(Nre,{"z-index":"100000",visible:r.visible,closeable:!0,onCancel:i},{default:(0,s.w5)((()=>[(0,s._)("button",{onClick:i,class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(a,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})]),(0,s._)("div",Yre,[r.files.length>0?((0,s.wg)(),(0,s.iD)("div",Zre,[(0,s._)("div",Kre,[(0,s._)("button",{onClick:l,disabled:0===r.index,class:"tw-px-2 tw-py-1 tw-rounded tw-bg-gray-200 tw-text-gray-700 tw-disabled:opacity-50"},Jre,8,Bre),(0,s._)("div",null,[r.files[r.index].type.startsWith("image/")?((0,s.wg)(),(0,s.iD)("img",{key:0,src:r.files[r.index].url,alt:r.files[r.index].name,class:"tw-max-w-full tw-h-auto tw-max-h-[calc(100vh-200px)]"},null,8,Gre)):r.files[r.index].type.startsWith("video/")?((0,s.wg)(),(0,s.iD)("video",{key:1,src:r.files[r.index].url,controls:"",class:"tw-max-w-full tw-h-auto tw-max-h-[calc(100vh-200px)]"},null,8,Xre)):((0,s.wg)(),(0,s.iD)("div",tae,(0,wt.zw)(r.files[r.index].name)+" ("+(0,wt.zw)(r.files[r.index].type)+") ",1))]),(0,s._)("button",{onClick:o,disabled:r.index===r.files.length-1,class:"tw-px-2 tw-py-1 tw-rounded tw-bg-gray-200 tw-text-gray-700 tw-disabled:opacity-50"},aae,8,eae)])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])}}};const lae=sae;var oae=lae;const iae={class:"tw-fixed tw-bottom-4 tw-right-3 tw-z-[1000]"},wae=["multiple"],nae={class:"tw-px-5 tw-mt-5 tw-flex tw-items-center tw-gap-5 tw-justify-between"},dae={class:"tw-text-lg tw-font-medium tw-pl-5 tw-py-1 tw-border-l-2 tw-border-solid tw-border-orange-400"},cae=(0,s._)("span",null,"Upload",-1),uae={class:"tw-p-5"},pae={key:0,class:"tw-p-4 tw-bg-gray-100 tw-rounded tw-text-center tw-border tw-border-solid"},gae=(0,s._)("p",{class:"tw-font-medium tw-text-lg tw-text-gray-600"}," No media has been added yet ",-1),mae=[gae],hae={key:1,class:"tw-grid md:tw-grid-cols-4 lg:tw-grid-cols-4 xl:tw-grid-cols-6 tw-grid-cols-1 tw-gap-4"};var fae={__name:"MediaCollection",props:{label:{type:String,default:"Media"},collection:{type:String,default:"normal"},multiple:{type:Boolean,default:!0}},setup(t){const e=t,r=(0,s.f3)("product"),a=(0,ke.iH)(null),l=(0,ke.iH)(!1),o=(0,ke.iH)(0),i=(0,s.Fl)((()=>r.value.media.filter((t=>t.collection_name==e.collection)))),w=t=>{r.value.media=r.value.media.filter((e=>e.id!=t.id))},n=t=>{const a=t.target.files;for(const s of a){const t=s.type.startsWith("image/")?"image":s.type.startsWith("video/")?"video":"other";if("other"==t)return Tc("Only images and videos are supported","warning"),!1;const a=new FileReader;a.onload=()=>{r.value.media.push({id:Date.now(),name:s.name,url:a.result,file:s,type:s.type,category:t,is_new:!0,collection_name:e.collection})},a.readAsDataURL(s)}},d=t=>{o.value=t,l.value=!0},c=(t,e)=>{const a=r.value.media.indexOf(t);r.value.media[a]=e};return(t,r)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",iae,[(0,s._)("input",{ref_key:"imageFilePicker",ref:a,type:"file",name:"image-input",onChange:n,multiple:e.multiple,class:"tw-invisible tw-absolute tw-pointer-events-none"},null,40,wae)])])),(0,s.Wm)(oae,{files:i.value,visible:l.value,"onUpdate:visible":r[0]||(r[0]=t=>l.value=t),index:o.value,"onUpdate:index":r[1]||(r[1]=t=>o.value=t)},null,8,["files","visible","index"]),(0,s._)("div",nae,[(0,s._)("h1",dae,(0,wt.zw)(e.label),1),e.multiple||!e.multiple&&!i.value.length?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[2]||(r[2]=t=>a.value.click()),class:"tw-bg-gray-200 tw-flex tw-items-center tw-gap-2 tw-pr-6 tw-pl-4 tw-py-1 tw-rounded tw-text-gray-700 tw-border tw-border-solid tw-duration-200 hover:tw-border-gray-700"},[(0,s.Wm)(u,{icon:"mynaui:upload",class:"tw-text-xl"}),cae])):(0,s.kq)("",!0)]),(0,s._)("div",uae,[i.value.length?((0,s.wg)(),(0,s.iD)("div",hae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.id},["image"==t.category?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Ure),{key:0,file:t,onUpdate:c,onShowPreview:t=>d(e),onDelete:e=>w(t)},null,8,["file","onShowPreview","onDelete"])):(0,s.kq)("",!0),"video"==t.category?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Ire),{key:1,file:t,onUpdate:c,onShowPreview:t=>d(e),onDelete:e=>w(t)},null,8,["file","onShowPreview","onDelete"])):(0,s.kq)("",!0)],64)))),128))])):((0,s.wg)(),(0,s.iD)("div",pae,mae))])],64)}}};const bae=fae;var vae=bae,xae={__name:"MediaTab",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)((0,ke.SU)(vae),{label:"Thumbnail",collection:"thumbnail",multiple:!1}),(0,s.Wm)((0,ke.SU)(vae),{label:"Images & Videos",collection:"normal"}),(0,s.Wm)((0,ke.SU)(vae),{label:"Facebook ADS",collection:"facebook_ads"}),(0,s.Wm)((0,ke.SU)(vae),{label:"TikTok ADS",collection:"tiktok_ads"})]))}};const yae=xae;var _ae=yae;const kae={class:"tw-grid tw-grid-cols-12 tw-gap-5"},Cae={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},Dae=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Landing pages")],-1),Sae={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},zae={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-2"},Uae={class:"tw-flex-1"},qae=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Add Landing Page Link",-1),Pae={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-2"},Lae={class:"tw-p-5"},Wae={key:0,class:"tw-bg-gray-100 tw-p-5 tw-rounded tw-text-center"},Aae={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-flex-wrap"},$ae=["href"],Eae={class:"tw-text-sm"},Tae={class:"tw-flex tw-items-center tw-gap-2"},Fae=["href"],jae=["onClick"],Iae=(0,s._)("div",{class:"md:tw-col-span-5"},null,-1),Vae={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},Oae=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Video links")],-1),Hae={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},Mae={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-2"},Rae={class:"tw-flex-1"},Nae=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Add Video Link",-1),Yae={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-2"},Zae={class:"tw-p-5"},Kae={key:0,class:"tw-bg-gray-100 tw-p-5 tw-rounded tw-text-center"},Bae={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-flex-wrap"},Qae=["href"],Jae={class:"tw-text-sm"},Gae={class:"tw-flex tw-items-center tw-gap-2"},Xae=["href"],tse=["onClick"];var ese={__name:"MetadataTab",setup(t){const e=(0,s.f3)("product"),r=((0,s.f3)("errors"),(0,ke.iH)("")),l=(0,s.Fl)((()=>e.value.metadata.filter((t=>"video_link"==t.meta_key)))),o=(0,ke.iH)(""),i=(0,s.Fl)((()=>e.value.metadata.filter((t=>"landing_page_link"==t.meta_key)))),w=()=>{const t={meta_key:"video_link",meta_value:r.value};e.value.metadata.push(t),r.value=""},n=t=>{e.value.metadata=e.value.metadata.filter((e=>!("landing_page_link"==e.meta_key&&e.meta_value==t)))},d=t=>{e.value.metadata=e.value.metadata.filter((e=>!("video_link"==e.meta_key&&e.meta_value==t)))},c=()=>{const t={meta_key:"landing_page_link",meta_value:o.value};e.value.metadata.push(t),o.value=""};return(t,e)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",kae,[(0,s._)("div",Cae,[Dae,(0,s._)("div",Sae,[(0,s._)("div",zae,[(0,s._)("div",Uae,[qae,(0,s._)("div",Pae,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),type:"text",class:"tw-bg-gray-50 tw-border tw-flex-1 tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"https://www...",required:""},null,512),[[a.nr,o.value]]),(0,s._)("button",{onClick:c,class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(u,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.kq)("",!0)])])]),(0,s._)("div",Lae,[i.value.length?((0,s.wg)(),(0,s.iD)("div",Aae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-px-4 tw-py-1 tw-flex tw-items-center tw-gap-4"},[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-uppercase"},[(0,s._)("span",Eae,"LP Link "+(0,wt.zw)(e+1),1)],8,$ae),(0,s._)("div",Tae,[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Fae),(0,s._)("button",{onClick:e=>n(t.meta_value),class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"flowbite:close-outline",class:"tw-text-xl tw-text-gray-500"})],8,jae)])])))),128))])):((0,s.wg)(),(0,s.iD)("div",Wae," No landing pages has been added "))])]),Iae,(0,s._)("div",Vae,[Oae,(0,s._)("div",Hae,[(0,s._)("div",Mae,[(0,s._)("div",Rae,[Nae,(0,s._)("div",Yae,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),class:"tw-bg-gray-50 tw-border tw-flex-1 tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"https://www...",required:""},null,512),[[a.nr,r.value]]),(0,s._)("button",{onClick:w,class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(u,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.kq)("",!0)])])]),(0,s._)("div",Zae,[l.value.length?((0,s.wg)(),(0,s.iD)("div",Bae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-px-4 tw-py-1 tw-flex tw-items-center tw-gap-4"},[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-uppercase"},[(0,s._)("span",Jae,"Video Link "+(0,wt.zw)(e+1),1)],8,Qae),(0,s._)("div",Gae,[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Xae),(0,s._)("button",{onClick:e=>d(t.meta_value),class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"flowbite:close-outline",class:"tw-text-xl tw-text-gray-500"})],8,tse)])])))),128))])):((0,s.wg)(),(0,s.iD)("div",Kae," No videos has been added "))])])])}}};const rse=ese;var ase=rse;const sse={class:"tw-pt-2 tw-pb-20x tw-overflow-hidden"},lse={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},ose={class:"tw-flex tw-items-center tw-gap-1 tw-w-fit tw-h-fit tw-p-1 tw-bg-gray-100 tw-rounded-md tw-border tw-border-solid tw-border-gray-200/80 tw-relative tw-z-10"},ise=["onClick"],wse=["disabled"],nse=(0,s._)("span",null,"Create",-1),dse={class:"tw-mt-4"};var cse={__name:"CreateProductView",setup(t){const e=[{key:"main-details-tab",component:tee,name:"Informations",icon:"clarity:help-info-solid",fields:["name","description","buying_price","selling_price","sku","status","offers","categories","tags"]},{key:"product-stock-tab",component:mre,name:"Inventory",icon:"ic:round-warehouse",fields:["product_variations","warehouse","product_deliveries","has_variations","initial_quantity"]},{key:"media-tab",component:_ae,name:"Media",icon:"mdi:folder-media",fields:["media"]},{key:"metadata-tab",component:ase,name:"Metadata",icon:"dashicons:admin-links",fields:["metadata"]}],r=(0,ke.XI)(e[0]),l=(0,ke.iH)({}),o=(0,ke.iH)(!1),i=(0,ke.iH)({status:!0,tags:[],categories:[],variations:[],has_variations:!1,media:[],metadata:[],category_id:"",initial_quantity:0,description:""});(0,s.JJ)("product",i),(0,s.JJ)("errors",l);const w=async()=>{const t={...i.value,media:i.value.media.map((t=>({uuid:t.uuid,id:t.id,collection_name:t.collection_name})))};o.value=!0,await F6t.create(t).then((t=>{"SUCCESS"==t.data.code&&(Tc("Product created successfully","success"),i.value={status:!0,tags:[],categories:[],variations:[],metadata:[],has_variations:!1,media:[],category_id:"",initial_quantity:0,description:""})}),(t=>{if(t?.response?.data?.errors&&422==t?.response.status)for(const e in t.response.data.errors)e.startsWith("variations.")?l.value[e]=t?.response?.data?.errors[e]:l.value[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return(t,n)=>{const d=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",sse,[(0,s._)("div",lse,[(0,s._)("div",ose,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("div",{key:t.key,onClick:e=>r.value=t,class:(0,wt.C_)([[r.value.key==t.key&&" tw-border-neutral-200 tw-bg-white",r.value.key!=t.key&&"tw-border-transparent hover:tw-bg-white tw-cursor-pointer hover:tw-border-neutral-200",Object.keys(l.value).find((e=>t.fields.includes(e)))&&"!tw-border-red-500 !tw-text-red-400"],"tw-flex tw-items-center tw-relative tw-gap-2 tw-px-8 tw-py-2 tw-rounded tw-duration-200 tw-border tw-border-solid"])},[(0,s.Wm)(d,{icon:t.icon,class:"tw-text-2xl"},null,8,["icon"]),(0,s._)("span",null,(0,wt.zw)(t.name),1)],10,ise))),64))]),(0,s._)("div",null,[(0,s._)("button",{disabled:o.value,class:(0,wt.C_)([[o.value&&"!tw-bg-gray-300 !tw-text-gray-600 tw-cursor-not-allowed"],"tw-bg-gray-800 hover:tw-bg-gray-900 tw-text-white tw-flex tw-items-center tw-gap-2 tw-pr-8 tw-pl-6 tw-py-3 tw-rounded"]),onClick:w},[o.value?((0,s.wg)(),(0,s.j4)(d,{key:0,icon:"eos-icons:three-dots-loading",class:"tw-text-2xl"})):((0,s.wg)(),(0,s.j4)(d,{key:1,icon:"mynaui:plus",class:"tw-text-2xl"})),nse],10,wse)])]),(0,s._)("div",dse,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(r.value.component),{product:i.value,"onUpdate:product":n[0]||(n[0]=t=>i.value=t)},null,40,["product"]))])),_:1})],1024))])])}}};const use=cse;var pse=use;const gse={key:0,class:"tw-p-2"},mse=(0,s.uE)('<div class="tw-w-2/5 tw-h-[60px] tw-bg-gray-200 tw-rounded tw-animate-pulse"></div><div class="tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"><div class="tw-col-span-8 tw-min-h-[500px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div><div class="tw-col-span-4 tw-min-h-[500px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div><div class="tw-col-span-8 tw-min-h-[200px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div></div>',2),hse=[mse],fse={key:1,class:"tw-pt-2 tw-pb-20x tw-overflow-hidden"},bse={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},vse={class:"tw-flex tw-items-center tw-gap-1 tw-w-fit tw-h-fit tw-p-1 tw-bg-gray-100 tw-rounded-md tw-border tw-border-solid tw-border-gray-200/80 tw-relative tw-z-10"},xse=["onClick"],yse=["disabled"],_se=(0,s._)("span",null,"Update",-1),kse={class:"tw-mt-4"};var Cse={__name:"EditProductView",setup(t){const e=[{key:"main-details-tab",component:tee,name:"Informations",icon:"clarity:help-info-solid",fields:["name","description","buying_price","selling_price","sku","status","offers","categories","tags"]},{key:"product-stock-tab",component:mre,name:"Inventory",icon:"ic:round-warehouse",fields:["product_variations","warehouse","product_deliveries","has_variations","initial_quantity"]},{key:"media-tab",component:_ae,name:"Media",icon:"mdi:folder-media",fields:["media"]},{key:"metadata-tab",component:ase,name:"Metadata",icon:"dashicons:admin-links",fields:["metadata"]}],r=(0,b.yj)(),l=(0,ke.iH)(!0),o=(0,ke.iH)(!1),i=(0,ke.XI)(e[0]),w=(0,ke.iH)({}),n=(0,ke.iH)({status:!0,tags:[],categories:[],variations:[],has_variations:!1,media:[],metadata:[],category_id:"",initial_quantity:0,description:""});(0,s.JJ)("product",n),(0,s.JJ)("isUpdate",!0),(0,s.JJ)("errors",w);const d=async t=>{l.value=!0,await F6t.edit(t).then((t=>{"SUCCESS"==t.data.code&&(n.value=t.data.product)})),l.value=!1},c=async()=>{const t={...n.value,media:n.value.media.map((t=>({uuid:t.uuid,id:t.id,collection_name:t.collection_name})))};o.value=!0,await F6t.update(r.params.id,t).then((t=>{"SUCCESS"==t.data.code&&Tc("Product updated successfully","success")}),(t=>{if(t?.response?.data?.errors&&422==t?.response.status)for(const e in t.response.data.errors)e.startsWith("variations.")?w.value[e]=t?.response?.data?.errors[e]:w.value[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return d(r.params.id),(t,r)=>{const d=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l.value?((0,s.wg)(),(0,s.iD)("div",gse,hse)):(0,s.kq)("",!0),l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fse,[(0,s._)("div",bse,[(0,s._)("div",vse,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("div",{key:t.key,onClick:e=>i.value=t,class:(0,wt.C_)([[i.value.key==t.key&&" tw-border-neutral-200 tw-bg-white",i.value.key!=t.key&&"tw-border-transparent hover:tw-bg-white tw-cursor-pointer hover:tw-border-neutral-200",Object.keys(w.value).find((e=>t.fields.includes(e)))&&"!tw-border-red-500 !tw-text-red-400"],"tw-flex tw-items-center tw-relative tw-gap-2 tw-px-8 tw-py-2 tw-rounded tw-duration-200 tw-border tw-border-solid"])},[(0,s.Wm)(d,{icon:t.icon,class:"tw-text-2xl"},null,8,["icon"]),(0,s._)("span",null,(0,wt.zw)(t.name),1)],10,xse))),64))]),(0,s._)("div",null,[(0,s._)("button",{disabled:o.value,class:(0,wt.C_)([[o.value&&"!tw-bg-gray-300 !tw-text-gray-600 tw-cursor-not-allowed"],"tw-bg-gray-800 hover:tw-bg-gray-900 tw-text-white tw-flex tw-items-center tw-gap-2 tw-pr-8 tw-pl-6 tw-py-3 tw-rounded"]),onClick:c},[o.value?((0,s.wg)(),(0,s.j4)(d,{key:0,icon:"eos-icons:three-dots-loading",class:"tw-text-2xl"})):(0,s.kq)("",!0),_se],10,yse)])]),(0,s._)("div",kse,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(i.value.component),{product:n.value,"onUpdate:product":r[0]||(r[0]=t=>n.value=t)},null,40,["product"]))])),_:1})],1024))])]))],64)}}};const Dse=Cse;var Sse=Dse;const zse={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},Use={class:"tw-px-3"},qse={class:"tw-mt-5x tw-flexx tw-items-centerx"},Pse={key:0},Lse={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Wse={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},Ase={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},$se=["src"],Ese=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),Tse={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Fse=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),jse={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var Ise={__name:"ImportListView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)([]),a=async()=>{e.value=!0,await F6t.imported().then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.kq)("",!0),(0,s._)("div",zse,[(0,s._)("section",Use,[(0,s.kq)("",!0),(0,s._)("div",qse,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Pse,[r.value.length?((0,s.wg)(),(0,s.iD)("div",Lse,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(a9t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",Wse,[(0,s._)("div",Ase,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,$se),Ese])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",Tse,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[Fse,(0,s._)("div",jse,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const Vse=Ise;var Ose=Vse;const Hse={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},Mse={class:"tw-px-3"},Rse={class:"tw-mt-5x tw-flexx tw-items-centerx"},Nse={key:0},Yse={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Zse={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},Kse={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},Bse=["src"],Qse=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),Jse={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Gse=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),Xse={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var tle={__name:"WishlistView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)([]),a=async()=>{e.value=!0,await F6t.wishlisted().then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.kq)("",!0),(0,s._)("div",Hse,[(0,s._)("section",Mse,[(0,s.kq)("",!0),(0,s._)("div",Rse,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Nse,[r.value.length?((0,s.wg)(),(0,s.iD)("div",Yse,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(a9t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",Zse,[(0,s._)("div",Kse,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,Bse),Qse])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",Jse,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[Gse,(0,s._)("div",Xse,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const ele=tle;var rle=ele;const ale={class:"tw-min-h-[calc(100dvh-148px)] tw-w-full tw-bg-white tw-rounded tw-overflow-hidden tw-p-5"},sle=(0,s.uE)('<div class="tw-grid tw-grid-cols-12 tw-gap-5"><div class="tw-col-span-full lg:tw-col-span-6 tw-flex tw-flex-col tw-gap-2 tw-animate-pulse"><div class="tw-h-[550px] tw-w-full tw-bg-gray-200 tw-p-5 tw-rounded"></div><div class="tw-w-full tw-grid tw-grid-cols-12 tw-gap-2"><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div></div></div><div class="tw-col-span-full lg:tw-col-span-6 lg:tw-p-5 tw-animate-pulse"><div class="tw-w-full tw-h-[50px] tw-bg-gray-100 tw-rounded"></div><div class="tw-w-1/3 tw-h-[30px] tw-bg-gray-50 tw-mt-2 tw-rounded"></div><div class="tw-w-full tw-h-[300px] tw-bg-gray-50 tw-mt-10 tw-rounded"></div></div></div>',1),lle=[sle];function ole(t,e){return(0,s.wg)(),(0,s.iD)("div",ale,lle)}const ile={},wle=(0,m.Z)(ile,[["render",ole]]);var nle=wle,dle=r(1618);const cle={class:"tw-flex tw-flex-col tw-gap-4"},ule={class:"tw-h-[550px] tw-w-full tw-bg-gray-50 tw-border tw-border-solid tw-rounded tw-overflow-hidden"},ple=["src"],gle={class:"tw-relative"},mle=["onClick"],hle=["src"];var fle={__name:"ProductImageSlider",setup(t){(0,dle.z2)();const e=(0,s.f3)("product"),r=(0,ke.iH)(e.value.thumbnail);return(t,a)=>{const l=(0,s.up)("swiper-slide"),o=(0,s.up)("swiper-container");(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",cle,[(0,s._)("div",ule,[(0,s._)("img",{class:"tw-h-full tw-w-full tw-object-contain tw-drop-shadow",src:r.value.url},null,8,ple)]),(0,s._)("div",gle,[(0,s.Wm)(o,{ref:"swiper-container","slides-per-view":5.5,"space-between":8},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(e).media.filter((t=>["thumbnail","normal"].includes(t.collection_name))),(t=>((0,s.wg)(),(0,s.j4)(l,{key:t,navigation:!0},{default:(0,s.w5)((()=>[(0,s._)("button",{onClick:e=>r.value=t,class:(0,wt.C_)([[r.value.url==t.url&&"!tw-border-orange-500"],"tw-aspect-square tw-border-2 tw-border-solid tw-border-transparent tw-rounded tw-overflow-hidden tw-cursor-pointer"])},[(0,s._)("img",{src:t.url,class:"tw-w-full tw-h-full tw-object-cover"},null,8,hle)],10,mle)])),_:2},1024)))),128))])),_:1},512),(0,s.kq)("",!0),(0,s.kq)("",!0)])])}}};const ble=fle;var vle=ble;const xle={class:"tw-w-full tw-h-[50px] md:tw-text-4xl tw-text-3xl tw-font-bold tw-rounded tw-truncate tw-font-[cairo]"},yle={class:"tw-flex tw-items-center tw-gap-4"},_le={key:0,class:"tw-w-fit tw-h-[30px] md:tw-text-xl tw-text-lg tw-font-bold tw-rounded tw-truncate tw-text-orange-500 tw-font-[cairo]"},kle={class:"tw-px-4 tw-border-l tw-border-solid tw-border-gray-200 tw-flex tw-items-center tw-gap-4"},Cle=(0,s._)("span",null,"SKU:",-1),Dle={class:"tw-mt-10 tw-w-full tw-rounded"},Sle=(0,s._)("div",{class:"tw-p-1 tw-px-10 tw-bg-orange-500 tw-text-white tw-w-fit tw-rounded-t"},"Pricing",-1),zle={class:"tw-border-2 tw-border-solid tw-border-orange-500 tw-rounded-b tw-overflow-hidden tw-rounded-tr"},Ule={class:"tw-w-full"},qle=(0,s._)("thead",null,[(0,s._)("tr",{class:"tw-bg-gray-100"},[(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Variation"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Available"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Price")])],-1),Ple={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Lle={key:0},Wle={key:1,class:"tw-flex tw-items-center tw-gap-1"},Ale={key:0},$le={key:1},Ele={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Tle={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Fle={class:"tw-mt-10 tw-w-full tw-rounded"},jle=(0,s._)("div",{class:"tw-p-1 tw-px-10 tw-bg-emerald-500 tw-text-white tw-w-fit tw-rounded-t"},"Rates",-1),Ile={class:"tw-border-2 tw-border-solid tw-border-emerald-500 tw-rounded-b tw-overflow-hidden tw-rounded-tr"},Vle={class:"tw-w-full"},Ole=(0,s._)("thead",null,[(0,s._)("tr",{class:"tw-bg-gray-100"},[(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Confirmation"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Delivery")])],-1),Hle={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Mle={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"};var Rle={__name:"ProductDetails",setup(t){const e=(0,s.f3)("product"),r=t=>{navigator.clipboard.writeText(t),Tc("Copied to clipboard")};return(t,a)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",xle,(0,wt.zw)((0,ke.SU)(e).name),1),(0,s._)("div",yle,[(0,ke.SU)(e).category?((0,s.wg)(),(0,s.iD)("div",_le,(0,wt.zw)((0,ke.SU)(e).category),1)):(0,s.kq)("",!0),(0,s._)("div",kle,[Cle,(0,s._)("button",{onClick:a[0]||(a[0]=t=>r((0,ke.SU)(e).sku)),class:"tw-py-0.5 tw-px-2 tw-bg-orange-50 tw-text-orange-500 tw-rounded tw-flex tw-items-center tw-gap-2"},[(0,s._)("span",null,(0,wt.zw)((0,ke.SU)(e).sku),1),(0,s.Wm)(l,{icon:"solar:copy-linear"})])])]),(0,s._)("div",Dle,[Sle,(0,s._)("div",zle,[(0,s._)("table",Ule,[qle,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(e).variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",Ple,[t.size||t.color?((0,s.wg)(),(0,s.iD)("div",Wle,[t.size?((0,s.wg)(),(0,s.iD)("span",Ale,(0,wt.zw)(t.size),1)):(0,s.kq)("",!0),t.color?((0,s.wg)(),(0,s.iD)("span",$le,(0,wt.zw)(t.color),1)):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("span",Lle,"Default"))]),(0,s._)("td",Ele,(0,wt.zw)(t.available_quantity),1),(0,s._)("td",Tle,(0,wt.zw)((0,ke.SU)(c)+(0,ke.SU)(e).selling_price),1)])))),128))])])])]),(0,s._)("div",Fle,[jle,(0,s._)("div",Ile,[(0,s._)("table",Vle,[Ole,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",Hle,(0,wt.zw)((0,ke.SU)(e).confirmation_rate)+"%",1),(0,s._)("td",Mle,(0,wt.zw)((0,ke.SU)(e).delivery_rate)+"%",1)])])])])]),(0,s.Wm)(M7t,{"is-card":!1,product:(0,ke.SU)(e)},null,8,["product"]),(0,s.kq)("",!0),(0,s.kq)("",!0)])}}};const Nle=Rle;var Yle=Nle;const Zle={class:"tw-aspect-square tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},Kle={class:"tw-w-full tw-bg-gray-50"},Ble=["src"],Qle=["download","href"];var Jle={__name:"ImageCard",props:["file"],emits:["show-preview","update"],setup(t,{emit:e}){const r=t,a=e,l=(0,ke.Vh)(r,"file"),o=(0,s.f3)("product"),i=(0,ke.iH)(!1),w=(0,ke.iH)(0),n={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(i.value=!1)}},d=async()=>(i.value=!0,fre.store(l.value.file,l.value.collection_name,n).then((t=>{if(t.data.uuid){const e={...l.value,uuid:t.data.uuid};a("update",l.value,e),console.log(e)}}),(t=>{console.log(t)})));function c(t){const e=new URL(t),r=e.pathname,a=r.split(".").pop();return a.includes("/")?"":a}return l.value.uuid||!l.value.is_new||i.value||d(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Zle,[(0,s._)("div",Kle,[i.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,wt.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("img",{onClick:e[0]||(e[0]=t=>a("show-preview")),src:l.value.url,class:"tw-w-full tw-h-full tw-object-contain group-hover:tw-scale-105 tw-duration-200"},null,8,Ble),(0,s._)("a",{target:"_blank",download:(0,ke.SU)(o).name+"-"+l.value.id+"."+c(l.value.url),href:l.value.url,class:"hover:tw-bg-black/50 tw-rounded tw-duration-200 tw-p-1 tw-absolute tw-bottom-4 tw-right-4 tw-bg-black/20 tw-backdrop-blur"},[(0,s.Wm)(r,{icon:"octicon:download-16",class:"tw-text-3xl tw-text-white"})],8,Qle)])])])}}};const Gle=Jle;var Xle=Gle;const toe={class:"tw-aspect-square tw-group tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},eoe={class:"tw-w-full tw-h-full tw-bg-gray-50"},roe=["controls","src"],aoe=["download","href"];var soe={__name:"VideoCard",props:["file"],emits:["show-preview","update"],setup(t,{emit:e}){const r=t,a=e,l=(0,ke.Vh)(r,"file"),o=(0,ke.iH)(null),i=(0,s.f3)("product"),w=(0,ke.iH)(0),n=(0,ke.iH)(!1),d=(0,ke.iH)(null),c=()=>{a("show-preview")},u={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(n.value=!1)}},p=async()=>(n.value=!0,fre.store(l.value.file,l.value.collection_name,u).then((t=>{if(t.data.uuid){const e={...l.value,uuid:t.data.uuid};a("update",l.value,e),console.log(e)}}),(t=>{console.log(t)})));function g(t){const e=new URL(t),r=e.pathname,a=r.split(".").pop();return a.includes("/")?"":a}return l.value.uuid||!l.value.is_new||n.value||p(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",toe,[(0,s._)("div",eoe,[n.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,wt.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("video",{ref_key:"video",ref:o,controls:d.value,preload:"false",src:l.value.url,class:"tw-w-full tw-h-full tw-object-contain tw-duration-200"},null,8,roe),d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:c,class:"tw-absolute tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center group-hover:tw-scale-110 tw-duration-200 tw-bottom-1/2 tw-right-1/2 tw-translate-x-1/2 tw-translate-y-1/2 tw-p-5"},[(0,s.Wm)(r,{icon:"solar:play-circle-bold",class:"tw-text-7xl tw-drop-shadow-md tw-text-white"})])),(0,s._)("a",{target:"_blank",download:(0,ke.SU)(i).name+"-"+l.value.id+"."+g(l.value.url),href:l.value.url,class:"hover:tw-bg-black/50 tw-rounded tw-duration-200 tw-p-1 tw-absolute tw-bottom-4 tw-right-4 tw-bg-black/20 tw-backdrop-blur"},[(0,s.Wm)(r,{icon:"octicon:download-16",class:"tw-text-3xl tw-text-white"})],8,aoe)])])])}}};const loe=soe;var ooe=loe;const ioe={class:"tw-fixed tw-bottom-4 tw-right-3 tw-z-[1000]"},woe=["multiple"],noe={class:"tw-px-5 tw-mt-5 tw-flex tw-items-center tw-gap-5 tw-justify-between"},doe={class:"tw-text-lg tw-font-medium tw-pl-5 tw-py-1 tw-border-l-2 tw-border-solid tw-border-orange-400"},coe=(0,s._)("span",null,"Upload",-1),uoe={class:"tw-p-5"},poe={key:0,class:"tw-p-4 tw-bg-gray-100 tw-rounded tw-text-center tw-border tw-border-solid"},goe=(0,s._)("p",{class:"tw-font-medium tw-text-lg tw-text-gray-600"}," No media has been added yet ",-1),moe=[goe],hoe={key:1,class:"tw-grid md:tw-grid-cols-4 lg:tw-grid-cols-4 xl:tw-grid-cols-6 tw-grid-cols-1 tw-gap-4"};var foe={__name:"MediaCollection",props:{label:{type:String,default:"Media"},collection:{type:String,default:"normal"},multiple:{type:Boolean,default:!0},upload:{type:Boolean,default:!1}},setup(t){const e=t,r=(0,s.f3)("product"),a=(0,ke.iH)(null),l=(0,ke.iH)(!1),o=(0,ke.iH)(0),i=(0,s.Fl)((()=>r.value.media.filter((t=>t.collection_name==e.collection)))),w=t=>{const a=t.target.files;for(const s of a){const t=s.type.startsWith("image/")?"image":s.type.startsWith("video/")?"video":"other";if("other"==t)return Tc("Only images and videos are supported","warning"),!1;const a=new FileReader;a.onload=()=>{r.value.media.push({id:Date.now(),name:s.name,url:a.result,file:s,type:s.type,category:t,is_new:!0,collection_name:e.collection})},a.readAsDataURL(s)}},n=t=>{o.value=t,l.value=!0},d=(t,e)=>{const a=r.value.media.indexOf(t);r.value.media[a]=e};return(t,r)=>{const c=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",ioe,[(0,s._)("input",{ref_key:"imageFilePicker",ref:a,type:"file",name:"image-input",onChange:w,multiple:e.multiple,class:"tw-invisible tw-absolute tw-pointer-events-none"},null,40,woe)])])),(0,s.Wm)(oae,{files:i.value,visible:l.value,"onUpdate:visible":r[0]||(r[0]=t=>l.value=t),index:o.value,"onUpdate:index":r[1]||(r[1]=t=>o.value=t)},null,8,["files","visible","index"]),(0,s._)("div",noe,[(0,s._)("h1",doe,(0,wt.zw)(e.label),1),e.upload?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[2]||(r[2]=t=>a.value.click()),class:"tw-bg-gray-200 tw-flex tw-items-center tw-gap-2 tw-pr-6 tw-pl-4 tw-py-1 tw-rounded tw-text-gray-700 tw-border tw-border-solid tw-duration-200 hover:tw-border-gray-700"},[(0,s.Wm)(c,{icon:"mynaui:upload",class:"tw-text-xl"}),coe])):(0,s.kq)("",!0)]),(0,s._)("div",uoe,[i.value.length?((0,s.wg)(),(0,s.iD)("div",hoe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.id},["image"==t.category?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Xle),{key:0,file:t,onUpdate:d,onShowPreview:t=>n(e)},null,8,["file","onShowPreview"])):(0,s.kq)("",!0),"video"==t.category?((0,s.wg)(),(0,s.j4)((0,ke.SU)(ooe),{key:1,file:t,onUpdate:d,onShowPreview:t=>n(e)},null,8,["file","onShowPreview"])):(0,s.kq)("",!0)],64)))),128))])):((0,s.wg)(),(0,s.iD)("div",poe,moe))])],64)}}};const boe=foe;var voe=boe;const xoe={class:"tw-min-h-[300px] tw-p-2x"},yoe={class:""};var _oe={__name:"AdvertisingTab",setup(t){(0,s.f3)("product");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",xoe,[(0,s._)("div",yoe,[(0,s.Wm)((0,ke.SU)(voe),{collection:"facebook_ads",label:"Facebook"}),(0,s.Wm)((0,ke.SU)(voe),{collection:"tiktok_ads",label:"TikTok"})])]))}};const koe=_oe;var Coe=koe;const Doe={class:"tw-w-full tw-p-4 tw-text-gray-600"};var Soe={__name:"OverviewTab",setup(t){const e=(0,s.f3)("product");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",Doe,[(0,s.kq)("",!0),(0,s.Wm)((0,ke.SU)(O9t),{modelValue:(0,ke.SU)(e).description,"onUpdate:modelValue":r[0]||(r[0]=t=>(0,ke.SU)(e).description=t),editable:!1},null,8,["modelValue"])]))}};const zoe=Soe;var Uoe=zoe;const qoe={class:"tw-min-h-[400px] tw-px-4"},Poe={class:""},Loe=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold"},"Landing pages",-1),Woe={key:0,class:"tw-flex tw-flex-col tw-gap-2 tw-mt-4"},Aoe=["href"],$oe={key:1,class:"tw-mt-4 tw-p-4 tw-bg-gray-100 tw-text-center"},Eoe=(0,s._)("p",null,"No landing pages available",-1),Toe=[Eoe],Foe={class:"tw-mt-5"},joe=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold"},"Videos",-1),Ioe={key:0,class:"tw-flex tw-flex-col tw-gap-2 tw-mt-4"},Voe=["href"],Ooe={key:1,class:"tw-mt-4 tw-p-4 tw-bg-gray-100 tw-text-center"},Hoe=(0,s._)("p",null,"No videos available",-1),Moe=[Hoe];var Roe={__name:"LinksTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.Fl)((()=>e.value.metadata.filter((t=>"landing_page_link"==t.meta_key)))),a=(0,s.Fl)((()=>e.value.metadata.filter((t=>"video_link"==t.meta_key))));return(t,e)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",qoe,[(0,s._)("div",Poe,[Loe,r.value.length?((0,s.wg)(),(0,s.iD)("div",Woe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,((t,e)=>((0,s.wg)(),(0,s.iD)("a",{target:"_blank",href:t.meta_value,key:t,class:"tw-w-full tw-p-2 tw-flex tw-items-center tw-justify-between tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("span",null,"Landing Page link "+(0,wt.zw)(e+1),1),(0,s.Wm)(l,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Aoe)))),128))])):((0,s.wg)(),(0,s.iD)("div",$oe,Toe))]),(0,s._)("div",Foe,[joe,a.value.length?((0,s.wg)(),(0,s.iD)("div",Ioe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value,((t,e)=>((0,s.wg)(),(0,s.iD)("a",{target:"_blank",href:t.meta_value,key:t,class:"tw-w-full tw-p-2 tw-flex tw-items-center tw-justify-between tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("span",null,"Video link "+(0,wt.zw)(e+1),1),(0,s.Wm)(l,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Voe)))),128))])):((0,s.wg)(),(0,s.iD)("div",Ooe,Moe))])])}}};const Noe=Roe;var Yoe=Noe;const Zoe={class:"tw-flex tw-items-center tw-gap-2"},Koe=["onClick"],Boe={class:"tw-bg-white tw-w-full tw-border tw-border-solid tw-border-gray-200"},Qoe={class:"tw-mt-4 tw-overflow-hidden"};var Joe={__name:"TabContainer",setup(t){const e=[{key:"overview-tab",component:Uoe,name:"Overview",icon:"clarity:help-info-solid"},{key:"advertising-tab",component:Coe,name:"Advertising Data",icon:"ic:sharp-ads-click"},{key:"links-tab",component:Yoe,name:"Links",icon:"lucide:link"}],r=(0,s.f3)("product"),l=(0,ke.XI)(e[0]);return(t,o)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Zoe,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("button",{key:t.key,onClick:e=>l.value=t,class:(0,wt.C_)([[t==l.value&&"tw-bg-orange-400 !tw-text-white"],"tw-bg-white tw-text-gray-600 tw-flex tw-items-center tw-duration-200 tw-gap-2 tw-px-4 tw-py-2 tw-rounded-t tw-border tw-border-b-0 tw-border-solid tw-border-gray-200"])},[(0,s.Wm)(i,{icon:t.icon,class:"tw-text-xl"},null,8,["icon"]),(0,s._)("span",null,(0,wt.zw)(t.name),1)],10,Koe))),64))]),(0,s._)("div",Boe,[(0,s._)("div",Qoe,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(l.value.component),{product:(0,ke.SU)(r),"onUpdate:product":o[0]||(o[0]=t=>(0,ke.dq)(r)?r.value=t:null)},null,40,["product"]))])),_:1})],1024))])])])}}};const Goe=Joe;var Xoe=Goe;const tie={class:"tw-p-2"},eie=(0,s._)("span",null,"Go Back",-1),rie={class:"tw-p-2"},aie={key:1,class:"tw-min-h-fit tw-w-full tw-bg-white tw-rounded tw-overflow-hidden tw-p-5 tw-border tw-border-solid tw-border-gray-200"},sie={class:"tw-grid tw-grid-cols-12 tw-gap-5"},lie={class:"tw-col-span-full lg:tw-col-span-6"},oie={class:"tw-col-span-full lg:tw-col-span-6 lg:tw-p-5"},iie={key:2,class:"tw-mt-5"};var wie={__name:"ShowProductView",setup(t){const e=(0,b.yj)(),r=(0,ke.iH)(!1),a=(0,ke.iH)({});(0,s.JJ)("product",a),(0,s.JJ)("loading",r);const l=async t=>{r.value=!0,await F6t.get(t).then((t=>{"SUCCESS"==t.data.code&&(a.value=t.data.product),console.log(t)}),(t=>{console.log(t)})),r.value=!1};return l(e.params.id),(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",tie,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$router.go(-1)),class:"tw-text-gray-600 tw-flex tw-items-center tw-gap-1 tw-duration-200 hover:tw-text-gray-700"},[(0,s.Wm)(a,{icon:"iconamoon:arrow-left-2",class:"tw-text-3xl tw-text-gray-400"}),eie])]),(0,s._)("div",rie,[r.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(nle),{key:0})):((0,s.wg)(),(0,s.iD)("div",aie,[(0,s._)("div",sie,[(0,s._)("div",lie,[(0,s.Wm)((0,ke.SU)(vle))]),(0,s._)("div",oie,[(0,s.Wm)((0,ke.SU)(Yle))])])])),r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",iie,[(0,s.Wm)((0,ke.SU)(Xoe))]))])],64)}}};const nie=wie;var die=nie;const cie={class:"tw-min-w-full tw-leading-normal"},uie={class:""},pie={key:0},gie=(0,s._)("div",{class:"tw-w-full tw-py-3 tw-bg-gray-50 group-even:tw-bg-white tw-rounded tw-min-w-[30px] tw-animate-pulse"},null,-1),mie=[gie],hie={key:1},fie={class:"tw-px-5 tw-py-3 tw-text-sm"},bie={class:"tw-px-5 tw-py-3 tw-text-sm"},vie={class:"tw-px-5 tw-py-3 tw-text-sm"},xie={class:"tw-px-5 tw-py-3 tw-text-sm"},yie={class:"tw-px-5 tw-py-3 tw-text-sm"},_ie={class:"tw-px-5 tw-py-3 tw-text-sm"},kie={class:"tw-text-green-500"},Cie={class:"tw-px-5 tw-py-3 tw-text-sm"},Die={class:"tw-text-green-500"},Sie={class:"tw-px-5 tw-py-3 tw-text-sm"},zie={class:"tw-text-green-500"},Uie={key:1},qie=["colspan"],Pie=(0,s._)("div",{class:"tw-p-5 tw-bg-white tw-min-h-[250px] tw-text-gray-600 tw-flex tw-items-center tw-justify-center tw-text-lg"},[(0,s._)("p",null,"No results was found")],-1),Lie=[Pie];var Wie={__name:"ProductSellerTable",setup(t){const e=(0,ke.iH)(!1),r=(0,s.f3)("product",{}),a=(0,s.Fl)((()=>r.value.sellers)),l=(0,ke.iH)([{name:"seller",label:"Seller",classes:["tw-w-[220px]x"]},{name:"orders",label:"Orders",classes:["tw-w-[150px]"]},{name:"quantity",label:"Quantity",classes:["tw-w-[150px]"]},{name:"confirmation",label:"Confirmation",classes:["tw-w-[220px]"]},{name:"delivery",label:"Delivery",classes:["tw-w-[220px]"]},{name:"revenue",label:"Seller Revenue",classes:["tw-w-[200px]"]},{name:"expenses",label:"Expenses",classes:["tw-w-[200px]"]},{name:"profit",label:"Estimated Profit",classes:["tw-w-[200px]"]}]);return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("table",cie,[(0,s._)("thead",uie,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.name,class:(0,wt.C_)([t.classes,"tw-px-5 last:tw-border-e-0 tw-whitespace-nowrap tw-border-e tw-py-3 tw-border-b tw-borderx tw-border-gray-100 tw-bg-gray-50 tw-text-start tw-text-[12px] tw-font-semibold tw-text-gray-600 tw-uppercase tw-tracking-wider"])},(0,wt.zw)(t.label),3)))),128))])]),e.value?((0,s.wg)(),(0,s.iD)("tbody",pie,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("tr",{class:"tw-border-b tw-border-solid tw-border-gray-100 last:tw-border-b-0 tw-group even:tw-bg-gray-50/50",key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("td",{key:t.name,class:"tw-px-2 tw-py-3"},mie)))),128))]))),64))])):((0,s.wg)(),(0,s.iD)("tbody",hie,[a.value.length>0?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(a.value,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-border-b tw-border-solid tw-border-gray-100 last:tw-border-b-0 tw-group even:tw-bg-gray-50/50 hover:tw-bg-primary-50/60 tw-duration-100"},[(0,s._)("td",fie,[(0,s._)("p",null,(0,wt.zw)(t.username),1)]),(0,s._)("td",bie,[(0,s._)("p",null,(0,wt.zw)(t.orders_count),1)]),(0,s._)("td",vie,[(0,s._)("p",null,(0,wt.zw)(t.total_quantity),1)]),(0,s._)("td",xie,[(0,s._)("p",null,(0,wt.zw)(t.confirmation_rate)+"%",1)]),(0,s._)("td",yie,[(0,s._)("p",null,(0,wt.zw)(t.delivery_rate)+"%",1)]),(0,s._)("td",_ie,[(0,s._)("p",kie,(0,wt.zw)((0,ke.SU)(c))+" "+(0,wt.zw)(t.revenue),1)]),(0,s._)("td",Cie,[(0,s._)("p",Die,(0,wt.zw)((0,ke.SU)(c))+" "+(0,wt.zw)(t.product_expenses),1)]),(0,s._)("td",Sie,[(0,s._)("p",zie,(0,wt.zw)((0,ke.SU)(c))+" "+(0,wt.zw)(t.product_profit),1)])])))),128)):((0,s.wg)(),(0,s.iD)("tr",Uie,[(0,s._)("td",{colspan:l.value.length},Lie,8,qie)]))]))])]))}};const Aie=Wie;var $ie=Aie;const Eie={key:0,class:"tw-p-2"},Tie={class:"tw-p-2 tw-text-lg tw-font-bold"},Fie={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-mt-2"},jie={class:"tw-min-h-[100px] tw-grid tw-grid-cols-4 tw-col-span-12 tw-gap-2"},Iie={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},Vie={class:"tw-flex tw-items-center tw-gap-4"},Oie=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Sellers",-1),Hie={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},Mie={class:"tw-text-2xl tw-font-bold tw-ml-auto"},Rie={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},Nie={class:"tw-flex tw-items-center tw-gap-4"},Yie=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Orders",-1),Zie={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},Kie={class:"tw-text-2xl tw-font-bold tw-ml-auto"},Bie={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},Qie={class:"tw-flex tw-items-center tw-gap-4"},Jie=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Imported",-1),Gie={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},Xie={class:"tw-text-2xl tw-font-bold tw-ml-auto"},twe={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},ewe={class:"tw-flex tw-items-center tw-gap-4"},rwe=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Wishlisted",-1),awe={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},swe={class:"tw-text-2xl tw-font-bold tw-ml-auto"},lwe={class:"tw-mt-2 tw-overflow-hidden tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded"};var owe={__name:"ShowAffiliateProduct",setup(t){const e=(0,b.yj)(),r=(0,ke.iH)(!0),a=(0,ke.iH)(null);(0,s.JJ)("product",a);const l=async t=>{r.value=!0,await F6t.details(t).then((t=>{"SUCCESS"==t.data.code&&(a.value=t.data.product)})).catch((t=>{console.log(t)})),r.value=!1};return l(e.params.id),(t,e)=>{const l=(0,s.up)("icon");return r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Eie,[(0,s._)("div",Tie,(0,wt.zw)(a.value.name),1),(0,s._)("div",Fie,[(0,s._)("div",jie,[(0,s._)("div",Iie,[(0,s._)("div",Vie,[(0,s.Wm)(l,{icon:"heroicons:user-group-20-solid",class:"tw-text-4xl tw-text-sky-400"}),Oie]),(0,s._)("div",Hie,[(0,s._)("p",Mie,(0,wt.zw)(a.value.sellers.length),1)])]),(0,s._)("div",Rie,[(0,s._)("div",Nie,[(0,s.Wm)(l,{icon:"fa-solid:boxes",class:"tw-text-4xl tw-text-amber-400"}),Yie]),(0,s._)("div",Zie,[(0,s._)("p",Kie,(0,wt.zw)(a.value.orders_count),1)])]),(0,s._)("div",Bie,[(0,s._)("div",Qie,[(0,s.Wm)(l,{icon:"lets-icons:import-fill",class:"tw-text-4xl tw-text-green-400"}),Jie]),(0,s._)("div",Gie,[(0,s._)("p",Xie,(0,wt.zw)(a.value.import_count),1)])]),(0,s._)("div",twe,[(0,s._)("div",ewe,[(0,s.Wm)(l,{icon:"mdi:heart",class:"tw-text-4xl tw-text-rose-400"}),rwe]),(0,s._)("div",awe,[(0,s._)("p",swe,(0,wt.zw)(a.value.wishlist_count),1)])])])]),(0,s._)("div",lwe,[(0,s.Wm)((0,ke.SU)($ie))])]))}}};const iwe=owe;var wwe=iwe;const nwe={class:"tw-flex tw-flex-col tw-mt-5"},dwe={class:"tw-overflow-x-auto"},cwe={class:"tw-inline-block tw-min-w-full tw-align-middle"},uwe={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},pwe={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},gwe={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},mwe={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},hwe={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},fwe=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No seller has imported this product ! ")])],-1),bwe=[fwe],vwe={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},xwe={colspan:"11"},ywe={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},_we=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),kwe=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Cwe=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Dwe=[kwe,Cwe],Swe={class:"tw-mt-6"};var zwe={__name:"IndexTable",setup(t){const e={per_page:10,current_page:1,from:1,to:10,last_page:1,total:1},r=(0,ke.iH)([{name:"Username",key:"username",class:[""]},{name:"Orders",key:"orders",class:["tw-w-[200px]"]},{name:"Added",key:"added",class:["tw-w-[200px]"]}]),a=(0,ke.iH)(!1),l=(0,ke.iH)([]);return(t,o)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",nwe,[(0,s._)("div",dwe,[(0,s._)("div",cwe,[(0,s._)("div",uwe,[(0,s._)("table",pwe,[(0,s._)("thead",gwe,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,wt.C_)([[t.class],"tw-px-4 tw-w-fit tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"]),scope:"col"},(0,wt.zw)(t.name),3)))),128))])]),!a.value&&l.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",mwe)):(0,s.kq)("",!0),a.value||0!=l.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",hwe,bwe)),a.value?((0,s.wg)(),(0,s.iD)("tbody",vwe,[(0,s._)("tr",null,[(0,s._)("td",xwe,[(0,s._)("div",ywe,[_we,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.per_page-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Dwe)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Swe,[(0,s.Wm)((0,ke.SU)(Dvt),{from:e.from,to:e.to,"last-page":e.last_page,"per-page":e.per_page,total:e.total,"current-page":e.current_page,onPageChange:o[0]||(o[0]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const Uwe=zwe;var qwe=Uwe;const Pwe={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Lwe={class:"tw-px-3"},Wwe=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Product Sellers")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of sellers working on this product. ")])],-1);var Awe={__name:"ProductSellerListView",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",Pwe,[(0,s._)("section",Lwe,[Wwe,(0,s._)("div",null,[(0,s.Wm)(qwe)])])]))}};const $we=Awe;var Ewe=$we,Twe={name:"affiliate",path:"/affiliate",component:Wa,meta:{module:"affiliate"},children:[{name:"affiliate.admin.list",path:"admin/products",component:S9t,meta:{module:"affiliate",subModule:"affiliate.admin.list",title:"Affiliate Products",role:["admin","affiliate-manager"]}},{name:"affiliate.admin.show",path:"admin/products/:id",component:wwe,meta:{module:"product",subModule:"affiliate.admin.show",title:"Affiliate Product",role:["admin","affiliate-manager"]}},{name:"affiliate.admin.create",path:"admin/products/create",component:pse,meta:{module:"affiliate",subModule:"affiliate.create",title:"Create Affiliate Product",role:["admin","affiliate-manager"]}},{name:"affiliate.admin.edit",path:"admin/products/:id/edit",component:Sse,meta:{module:"affiliate",subModule:"affiliate.edit",title:"Edit Affiliate Product",role:["admin","affiliate-manager"]}},{name:"affiliate.index",path:"products",component:v9t,meta:{module:"affiliate",subModule:"affiliate.index",title:"Affiliate Products",role:["admin","seller","affiliate-manager"]}},{name:"affiliate.show",path:"products/:id",component:die,meta:{module:"affiliate",subModule:"affiliate.show",title:"Product Details",role:["admin","seller","affiliate-manager"]}},{name:"affiliate.show.sellers",path:"products/:id/sellers",component:Ewe,meta:{module:"affiliate",subModule:"affiliate.show.sellers",title:"Product Sellers",role:["admin"]}},{name:"affiliate.import",path:"products/imported",component:Ose,meta:{module:"affiliate",subModule:"affiliate.import",title:"Import List",role:["admin","seller"]}},{name:"affiliate.wishlist",path:"products/wishlisted",component:rle,meta:{module:"affiliate",subModule:"affiliate.wishlist",title:"My wishlist",role:["admin","seller"]}}]};const Fwe={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},jwe={class:"tw-flex tw-items-center tw-gap-2"},Iwe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Orders",-1),Vwe={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Owe={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},Hwe={class:"tw-flex tw-items-center tw-gap-2"},Mwe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Orders",-1),Rwe={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Nwe=(0,s._)("div",{class:"tw-h-[230px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1);var Ywe={__name:"OrdersCountChart",setup(t){const e=(0,s.f3)("register"),r=(0,s.f3)("filters"),a=(0,ke.iH)(!0),l=(0,ke.iH)(0),o=(0,ke.iH)([]),i=(0,s.Fl)((()=>({chart:{id:"vuechart-example",foreColor:"#000",toolbar:{show:!1}},xaxis:{categories:o.value.map((t=>ze()(t.date).format("MMM D")))},yaxis:{show:!1},stroke:{colors:["#000"]},fill:{type:"gradient",colors:["#000"],gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[50,90,100]}},dataLabels:{enabled:!0,style:{fontSize:"10px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff",padding:4,borderRadius:2,borderWidth:1,borderColor:"#fff",opacity:.9,backgroundColor:"#000",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}}}}))),w=(0,s.Fl)((()=>[{name:"Orders",data:o.value.map((t=>t.count))}])),n=async()=>{a.value=!0,await vBt.getOrdersCountByDays({from:r.value.date.start,to:r.value.date.end,sellers:r.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&(console.log(o),o.value=t.data.data,l.value=t.data.count)}),(t=>{console.log(t)})),a.value=!1};return n(),e(n),(t,e)=>{const r=(0,s.up)("apexchart"),o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fwe,[(0,s._)("div",jwe,[Iwe,(0,s._)("p",Vwe,(0,wt.zw)((new Intl.NumberFormat).format(l.value)),1)]),(0,s.Wm)(r,{type:"area",height:"220",options:i.value,series:w.value},null,8,["options","series"])])),a.value?((0,s.wg)(),(0,s.iD)("div",Owe,[(0,s._)("div",Hwe,[Mwe,(0,s._)("p",Rwe,[(0,s.Wm)(o,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),Nwe])):(0,s.kq)("",!0)],64)}}};const Zwe=Ywe;var Kwe=Zwe;const Bwe={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},Qwe={class:"tw-flex tw-items-center tw-gap-2"},Jwe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),Gwe={class:"tw-px-1 tw-bg-emerald-500 tw-text-white tw-text-sm tw-rounded"},Xwe=(0,s.uE)('<div class="tw-flex tw-gap-x"><div class="tw-w-[250px] tw-p-5 tw-h-[230px] tw-flex tw-items-center tw-justify-center"><div class="tw-w-[90%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-aspect-square tw-animate-pulse"></div></div><div class="tw-w-[50%] tw-p-2 tw-h-[230px] tw-flex tw-justify-center tw-flex-col tw-gap-3"><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div></div></div>',1),tne={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},ene={class:"tw-flex tw-items-center tw-gap-2"},rne=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),ane={class:"tw-px-1 tw-bg-emerald-500 tw-text-white tw-text-sm tw-rounded"},sne={class:"tw-h-fullx tw-flex tw-gap-2"},lne={class:"tw-w-fit tw-flex tw-items-center tw-h-full"},one={class:"tw-flex-1 tw-p-0 tw-flex tw-flex-col tw-gap-3 tw-justify-center"},ine={class:"tw-text-xs tw-font-semibold"},wne={class:"tw-text-xs"};var nne={__name:"ConfirmationChart",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ke.iH)(!0),l=(0,ke.iH)(0),o=(0,ke.iH)(0),i=(0,ke.iH)({confirmations:[]}),w=(0,ke.iH)([77]),n=(0,s.Fl)((()=>({chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#111",fontSize:"16px",fontFamily:"cairo",fontWeight:"medium"},value:{formatter:function(t){return parseInt(t)+"%"},color:"#111",fontSize:"25px",fontFamily:"cairo",fontWeight:"bold",show:!0}}}},fill:{type:"gradient",colors:w.value[0]>50?["#10b981"]:["#f43f5e"],gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:w.value[0]>50?["#22c55e","#10b981"]:["#f43f5e","#e11d48"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Confirmed"]}))),d=async()=>{a.value=!0,await vBt.getConfirmationsCount({from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&c(t.data.data)}),(t=>{console.log(t)})),a.value=!1},c=t=>{l.value=t.reduce(((t,e)=>t+e.count),0);let e=[],r=t.find((t=>"double"==t.confirmation))?.count??0,a=r>0?(r/l.value*100).toFixed(0):0,s={name:"Double",value:r,percentage:`${a}%`,color:"#8b5cf6"},n=l.value-r,d=t.find((t=>null==t.confirmation))?.count??0,c=d>0?(d/n*100).toFixed(0):0,u={name:"New",value:d,percentage:`${c}%`,color:"#000"};e.push(u);let p=t.find((t=>"confirmer"==t.confirmation))?.count??0,g=p>0?(p/n*100).toFixed(0):0;o.value=p,w.value=[g],e.push(s);let m=t.find((t=>"annuler"==t.confirmation))?.count??0,h=m>0?(m/n*100).toFixed(0):0,f={name:"Canceled",value:m,percentage:`${h}%`,color:"#e11d48"};e.push(f);let b=t.reduce(((t,e)=>e.confirmation?.includes("-call-")?t+e.count:t),0),v=b>0?(b/n*100).toFixed(0):0,x={name:"No Answer",value:b,percentage:`${v}%`,color:"#f59e0b"};e.push(x);let y=t.find((t=>"wrong-number"==t.confirmation))?.count??0,_=y>0?(y/n*100).toFixed(0):0,k={name:"Wrong Number",value:y,percentage:`${_}%`,color:"#ec4899"};e.push(k);let C=l.value-(d+p+r+m+b+y),D=C>0?(C/n*100).toFixed(0):0,S={name:"Others",value:C,percentage:`${D}%`,color:"#64748b"};e.push(S),i.value.confirmations=e};return d(),r(d),(t,e)=>{const r=(0,s.up)("icon"),l=(0,s.up)("apexchart");return a.value?((0,s.wg)(),(0,s.iD)("div",Bwe,[(0,s._)("div",Qwe,[Jwe,(0,s._)("p",Gwe,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),Xwe])):((0,s.wg)(),(0,s.iD)("div",tne,[(0,s._)("div",ene,[rne,(0,s._)("p",ane,(0,wt.zw)((new Intl.NumberFormat).format(o.value)),1)]),(0,s._)("div",sne,[(0,s._)("div",lne,[(0,s.Wm)(l,{type:"radialBar",height:"230",width:"230",options:n.value,series:w.value},null,8,["options","series"])]),(0,s._)("div",one,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value.confirmations,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{style:(0,wt.j5)({background:t.color}),class:"tw-p-0 tw-px-1 tw-rounded tw-text-[10px] tw-font-bold tw-text-white tw-text-center tw-w-[35px]"},(0,wt.zw)(t.percentage),5),(0,s._)("p",ine,[(0,s.Uk)((0,wt.zw)(t.name)+" ",1),(0,s._)("span",wne,"("+(0,wt.zw)((new Intl.NumberFormat).format(t.value))+")",1)])])))),128))])])]))}}};const dne=nne;var cne=dne;const une={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},pne={class:"tw-flex tw-items-center tw-gap-2"},gne=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Delivery",-1),mne={class:"tw-px-1 tw-bg-sky-500 tw-text-white tw-text-sm tw-rounded"},hne=(0,s.uE)('<div class="tw-flex tw-gap-x"><div class="tw-w-[230px] tw-p-5 tw-h-[230px] tw-flex tw-items-center tw-justify-center"><div class="tw-w-[90%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-aspect-square tw-animate-pulse"></div></div><div class="tw-w-[50%] tw-p-2 tw-h-[230px] tw-flex tw-justify-center tw-flex-col tw-gap-3"><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div></div></div>',1),fne={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},bne={class:"tw-flex tw-items-center tw-gap-2"},vne=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Delivery",-1),xne={class:"tw-px-1 tw-bg-sky-500 tw-text-white tw-text-sm tw-rounded"},yne={class:"tw-h-fullx tw-flex tw-gap-2"},_ne={class:"tw-w-fit"},kne={class:"tw-flex-1 tw-p-2 tw-flex tw-flex-col tw-gap-3 tw-justify-center"},Cne={class:"tw-text-xs tw-font-semibold"},Dne={class:"tw-text-xs"};var Sne={__name:"DeliveryChart",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ke.iH)(!0),l=(0,ke.iH)(0),o=(0,ke.iH)(0),i=(0,ke.iH)({deliveries:[]}),w=(0,ke.iH)([27]),n=(0,s.Fl)((()=>({chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#111",fontSize:"16px",fontFamily:"cairo",fontWeight:"medium"},value:{formatter:function(t){return parseInt(t)+"%"},color:"#111",fontSize:"25px",fontFamily:"cairo",fontWeight:"bold",show:!0}}}},fill:{type:"gradient",colors:w.value[0]>50?["#38bdf8"]:["#f43f5e"],gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:w.value[0]>50?["#38bdf8","#06b6d4"]:["#f43f5e","#e11d48"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Delivered"]}))),d=async()=>{a.value=!0,await vBt.getDeliveriesCount({from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&c(t.data.data)}),(t=>{console.log(t)})),a.value=!1},c=t=>{l.value=t.reduce(((t,e)=>t+e.count),0);let e=[],r=(l.value,t.find((t=>"printed"==t.delivery))?.count??0),a=r>0?(r/l.value*100).toFixed(0):0,s={name:"Printed",value:r,percentage:`${a}%`,color:"#000"};e.push(s);let n=t.find((t=>"paid"==t.delivery))?.count??0,d=n>0?(n/l.value*100).toFixed(0):0,c={name:"Paid",value:n,percentage:`${d}%`,color:"#06b6d4"},u=t.find((t=>"cleared"==t.delivery))?.count??0,p=u>0?(u/l.value*100).toFixed(0):0,g=t.find((t=>"livrer"==t.delivery))?.count??0,m=g>0?(g/l.value*100).toFixed(0):0,h={name:"Delivered",value:g,percentage:`${m}%`,color:"#10b981"};e.push(h),o.value=g,w.value=[(parseFloat(m)+parseFloat(d)+parseFloat(p)).toFixed(2)],console.log(w.value);let f=t.find((t=>"transfer"==t.delivery))?.count??0,b=t.find((t=>"expidier"==t.delivery))?.count??0+f,v=b>0?(b/l.value*100).toFixed(0):0,x={name:"Shipped",value:b,percentage:`${v}%`,color:"#8b5cf6"};e.push(x),e.push(c);let y=t.find((t=>"retourner"==t.delivery))?.count??0+f,_=y>0?(y/l.value*100).toFixed(0):0,k={name:"Returned",value:y,percentage:`${_}%`,color:"#e11d48"};e.push(k);let C=t.find((t=>"dispatch"==t.delivery))?.count??0,D=C>0?(C/l.value*100).toFixed(0):0,S={name:"Dispatched",value:C,percentage:`${D}%`,color:"#f59e0b"};e.push(S);let z=l.value-(r+g+b+n+u+C),U=z>0?(z/l.value*100).toFixed(0):0,q={name:"Others",value:z,percentage:`${U}%`,color:"#64748b"};e.push(q),i.value.deliveries=e};return d(),r(d),(t,e)=>{const r=(0,s.up)("icon"),o=(0,s.up)("apexchart");return a.value?((0,s.wg)(),(0,s.iD)("div",une,[(0,s._)("div",pne,[gne,(0,s._)("p",mne,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),hne])):((0,s.wg)(),(0,s.iD)("div",fne,[(0,s._)("div",bne,[vne,(0,s._)("p",xne,(0,wt.zw)((new Intl.NumberFormat).format(l.value)),1)]),(0,s._)("div",yne,[(0,s._)("div",_ne,[(0,s.Wm)(o,{type:"radialBar",height:"230",width:"230",options:n.value,series:w.value},null,8,["options","series"])]),(0,s._)("div",kne,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value.deliveries,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{style:(0,wt.j5)({background:t.color}),class:"tw-p-0 tw-px-1 tw-rounded tw-text-[10px] tw-font-bold tw-text-white tw-text-center tw-w-[35px]"},(0,wt.zw)(t.percentage),5),(0,s._)("p",Cne,[(0,s.Uk)((0,wt.zw)(t.name)+" ",1),(0,s._)("span",Dne,"("+(0,wt.zw)((new Intl.NumberFormat).format(t.value))+")",1)])])))),128))])])]))}}};const zne=Sne;var Une=zne;const qne={key:0,class:"tw-p-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200"},Pne={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-5 tw-divide-x tw-gap-5"},Lne={class:"tw-h-[125px] tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},Wne={class:"tw-flex tw-items-center tw-gap-1"},Ane=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Transaction Volume",-1),$ne=(0,s._)("div",{class:"tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1),Ene=(0,s.uE)('<div class="tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"><p class="tw-text-sm tw-text-gray-400">Gross Delivered</p><div class="tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"></div></div><div class="tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"><p class="tw-text-sm tw-text-gray-400">Gross Paid</p><div class="tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"></div></div><div class="tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"><p class="tw-text-sm tw-text-gray-400">Net Paid</p><div class="tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"></div></div><div class="tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"><p class="tw-text-sm tw-text-gray-400">AOV</p><div class="tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"></div></div>',4),Tne={key:1,class:"tw-p-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200"},Fne={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-5 tw-divide-x tw-gap-5"},jne={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},Ine={class:"tw-flex tw-items-center tw-gap-1 tw-relative"},Vne=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Transaction Volume",-1),One={class:"tw-text-2xl tw-font-bold"},Hne={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},Mne=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Gross Delivered",-1),Rne={class:"tw-text-2xl tw-font-bold"},Nne={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},Yne={class:"tw-font-bold tw-text-black"},Zne={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},Kne=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Gross Paid",-1),Bne={class:"tw-text-2xl tw-font-bold"},Qne={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},Jne={class:"tw-font-bold tw-text-black"},Gne={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},Xne=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Net Paid",-1),tde={class:"tw-text-2xl tw-font-bold"},ede={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},rde={class:"tw-font-bold tw-text-black"},ade={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},sde=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"AOV",-1),lde={class:"tw-text-2xl tw-font-bold"},ode={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},ide={class:"tw-font-bold tw-text-black"};var wde={__name:"FinanceData",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ke.iH)(!1),l=(0,ke.iH)({}),o=async()=>{a.value=!0,await vBt.getRevenue({from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{console.log(t.data),l.value=t.data.revenue}),(t=>{console.log(t)})),a.value=!1};return o(),r(o),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.value?((0,s.wg)(),(0,s.iD)("div",qne,[(0,s._)("div",Pne,[(0,s._)("div",Lne,[(0,s._)("div",Wne,[Ane,(0,s.Wm)(r,{icon:"ph:info-light",class:"tw-text-lg tw-text-gray-400"})]),$ne]),Ene])])):(0,s.kq)("",!0),a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Tne,[(0,s._)("div",Fne,[(0,s._)("div",jne,[(0,s._)("div",Ine,[Vne,(0,s.Wm)(r,{icon:"ph:info-light",class:"tw-text-lg tw-text-gray-400 hover:tw-text-gray-600 tw-duration-200 tw-cursor-pointer"})]),(0,s._)("p",One,[(0,s.Uk)((0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.sum_livrer+l.value.sum_paid))+" ",1),(0,s.kq)("",!0)]),(0,s.kq)("",!0)]),(0,s._)("div",Hne,[Mne,(0,s._)("p",Rne,[(0,s.Uk)((0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.sum_livrer))+" ",1),(0,s.kq)("",!0)]),(0,s.kq)("",!0),(0,s._)("p",Nne,[(0,s.Uk)("COD Fees: "),(0,s._)("span",Yne,(0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.cod_fees)),1)])]),(0,s._)("div",Zne,[Kne,(0,s._)("p",Bne,[(0,s.Uk)((0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.sum_paid))+" ",1),(0,s.kq)("",!0)]),(0,s._)("p",Qne,[(0,s.Uk)("Shipping Fees: "),(0,s._)("span",Jne,(0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.shipping_fees)),1)])]),(0,s._)("div",Gne,[Xne,(0,s._)("p",tde,[(0,s.Uk)((0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.net_paid))+" ",1),(0,s.kq)("",!0)]),(0,s._)("p",ede,[(0,s.Uk)("Other fees: "),(0,s._)("span",rde,(0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.other_fees)),1)])]),(0,s._)("div",ade,[sde,(0,s._)("p",lde,[(0,s.Uk)((0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format((l.value.sum_livrer+l.value.sum_paid)/l.value.count_orders_paid_delivered>0?(l.value.sum_livrer+l.value.sum_paid)/l.value.count_orders_paid_delivered:0))+" ",1),(0,s.kq)("",!0)]),(0,s._)("p",ode,[(0,s.Uk)("Profit per order: "),(0,s._)("span",ide,(0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.cod_fees/l.value.count_orders_paid_delivered>0?l.value.cod_fees/l.value.count_orders_paid_delivered:0)),1)])])])]))],64)}}};const nde=wde;var dde=nde;const cde={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[350px]x"},ude={class:"tw-flex tw-items-start tw-justify-between"},pde={class:"tw-flex tw-items-center tw-gap-2"},gde=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Sellers",-1),mde={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},hde={class:"tw-flex tw-items-center"},fde=(0,s._)("option",{value:"high"},"High to Low",-1),bde=(0,s._)("option",{value:"low"},"Low to High",-1),vde=[fde,bde],xde={class:"tw-p-4 tw-flex tw-gap-2 tw-items-center"},yde=["disabled"],_de=["disabled"],kde={id:"chart"},Cde={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[550px]"},Dde={class:"tw-flex tw-items-center tw-gap-2"},Sde=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Sellers",-1),zde={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Ude=(0,s._)("div",{class:"tw-h-[500px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1);var qde={__name:"SellerData",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),l=(0,ke.iH)("high"),o=(0,ke.iH)({}),i=(0,ke.iH)(!1),w=(0,ke.iH)(0);(0,s.YP)((()=>l.value),(()=>{c()}));const n=(0,ke.iH)([{name:"Orders",group:"budget",data:[]},{name:"Confirmed",group:"actual",data:[]}]),d=(0,ke.iH)({chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!1}},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:t=>t},plotOptions:{bar:{horizontal:!0}},xaxis:{categories:[],labels:{formatter:t=>t}},fill:{opacity:1},colors:["#000","#10b981"],legend:{position:"top",horizontalAlign:"left"}}),c=async(t=6,r=1)=>{i.value=!0,await vBt.getOrdersBySellers({per_page:t,page:r,order_by:l.value,from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&(u(t.data.data.data),o.value=t.data.data,w.value=o.value.total)}),(t=>{console.log(t)})),i.value=!1},u=t=>{const e=Object.keys(t);d.value.xaxis.categories=e;const r=e.map((e=>{const r=Object.keys(t[e]).reduce(((r,a)=>r+(t[e][a].order_count||0)),0),a=t[e]["confirmer"]?.order_count||0;return[r,a]}));n.value[0].data=r.map((t=>t[0])),n.value[1].data=r.map((t=>t[1]))},p=()=>{c(o.value.per_page,o.value.current_page+1)},g=()=>{c(o.value.per_page,o.value.current_page-1)};return c(),r(c),(t,e)=>{const r=(0,s.up)("icon"),c=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cde,[(0,s._)("div",ude,[(0,s._)("div",pde,[gde,(0,s._)("p",mde,(0,wt.zw)((new Intl.NumberFormat).format(w.value)),1)]),(0,s._)("div",hde,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"tw-h-[35px] tw-px-2 tw-outline-none tw-border tw-rounded tw-border-solid tw-border-gray-200 tw-w-[180px]"},vde,512),[[a.bM,l.value]]),(0,s._)("div",xde,[(0,s._)("button",{disabled:!o.value.prev_page_url,onClick:g,class:(0,wt.C_)([o.value.prev_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-left",class:"tw-text-3xl tw-text-gray-500"})],10,yde),(0,s._)("button",{disabled:!o.value.next_page_url,onClick:p,class:(0,wt.C_)([o.value.next_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-right",class:"tw-text-3xl tw-text-gray-500"})],10,_de)])])]),(0,s._)("div",null,[(0,s._)("div",kde,[(0,s.Wm)(c,{type:"bar",height:"450",options:d.value,series:n.value},null,8,["options","series"])])])])),i.value?((0,s.wg)(),(0,s.iD)("div",Cde,[(0,s._)("div",Dde,[Sde,(0,s._)("p",zde,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),Ude])):(0,s.kq)("",!0)],64)}}};const Pde=qde;var Lde=Pde;const Wde={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[350px]x"},Ade={class:"tw-flex tw-items-start tw-justify-between"},$de={class:"tw-flex tw-items-center tw-gap-2"},Ede=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Products",-1),Tde={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Fde={class:"tw-flex tw-items-center"},jde=(0,s._)("option",{value:"high"},"High to Low",-1),Ide=(0,s._)("option",{value:"low"},"Low to High",-1),Vde=[jde,Ide],Ode={class:"tw-p-4 tw-flex tw-gap-2 tw-items-center"},Hde=["disabled"],Mde=["disabled"],Rde={id:"chart"},Nde={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[550px]"},Yde={class:"tw-flex tw-items-center tw-gap-2"},Zde=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Products",-1),Kde={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Bde=(0,s._)("div",{class:"tw-h-[500px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1);var Qde={__name:"TopProductChart",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),l=(0,ke.iH)("high"),o=(0,ke.iH)({}),i=(0,ke.iH)(!0),w=(0,ke.iH)(0);(0,s.YP)((()=>l.value),(()=>{c()}));const n=(0,ke.iH)([{name:"Orders",group:"orders",data:[]},{name:"Quantity",group:"quantity",data:[]}]),d=(0,ke.iH)({chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!1}},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:t=>t},plotOptions:{bar:{horizontal:!0}},xaxis:{categories:[],labels:{show:!1,formatter:t=>t,trim:!0}},yaxis:{categories:[],labels:{show:!0,formatter:t=>t,trim:!0}},fill:{opacity:1},colors:["#000","#06b6d4"],legend:{position:"top",horizontalAlign:"left"}}),c=async(t=6,r=1)=>{i.value=!0,await vBt.getProductsPerformance({per_page:t,page:r,order_by:l.value,from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&(u(t.data.data.data),o.value=t.data.data,w.value=o.value.total)}),(t=>{console.log(t)})),i.value=!1},u=t=>{n.value[0].data=t.map((t=>t.count_orders)),n.value[1].data=t.map((t=>t.total_quantity)),d.value.xaxis.categories=t.map((t=>t.name))},p=()=>{c(o.value.per_page,o.value.current_page+1)},g=()=>{c(o.value.per_page,o.value.current_page-1)};return c(),r(c),(t,e)=>{const r=(0,s.up)("icon"),c=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Wde,[(0,s._)("div",Ade,[(0,s._)("div",$de,[Ede,(0,s._)("p",Tde,(0,wt.zw)((new Intl.NumberFormat).format(w.value)),1)]),(0,s._)("div",Fde,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"tw-h-[35px] tw-px-2 tw-outline-none tw-border tw-rounded tw-border-solid tw-border-gray-200 tw-w-[180px]"},Vde,512),[[a.bM,l.value]]),(0,s._)("div",Ode,[(0,s._)("button",{disabled:!o.value.prev_page_url,onClick:g,class:(0,wt.C_)([o.value.prev_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-left",class:"tw-text-3xl tw-text-gray-500"})],10,Hde),(0,s._)("button",{disabled:!o.value.next_page_url,onClick:p,class:(0,wt.C_)([o.value.next_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-right",class:"tw-text-3xl tw-text-gray-500"})],10,Mde)])])]),(0,s._)("div",null,[(0,s._)("div",Rde,[(0,s.Wm)(c,{type:"bar",height:"450",options:d.value,series:n.value},null,8,["options","series"])])])])),i.value?((0,s.wg)(),(0,s.iD)("div",Nde,[(0,s._)("div",Yde,[Zde,(0,s._)("p",Kde,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),Bde])):(0,s.kq)("",!0)],64)}}};const Jde=Qde;var Gde=Jde;const Xde={class:"tw-absolute tw-top-full tw-z-10 tw-pt-2"},tce={class:"tw-flex tw-flex-col tw-w-[800px] tw-h-[380px] tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-shadow tw-overflow-hidden"},ece={class:"tw-grid tw-grid-cols-12 tw-h-full"},rce={class:"tw-col-span-3 tw-p-2 tw-flex tw-flex-col tw-gap-2 tw-max-h-[320px] tw-overflow-auto tw-relative"},ace=["onClick"],sce={key:0,class:"tw-col-span-9 tw-p-2 tw-border-l tw-border-solid tw-border-gray-200"},lce={class:"tw-flex tw-p-2 tw-h-full tw-mt-2"},oce={class:"tw-col-span-12 tw-bg-white tw-h-[50px] tw-border-t tw-border-solid tw-border-gray-200"},ice={class:"tw-flex tw-items-center tw-justify-end tw-gap-2 tw-h-full tw-px-2"};var wce={__name:"DateFilter",emits:["close","setName"],setup(t,{emit:e}){const r=e,a=(0,s.f3)("filters"),l=(0,s.f3)("filter"),o=new Date(Date.now()),i=(0,ke.iH)(o.getMonth()),w=(0,ke.iH)(o.getFullYear()),n=(0,ke.iH)(o.getDay()),d=(0,ke.iH)({start:null,end:null});setTimeout((()=>{a.value.date=d.value}));const c=(0,ke.iH)("Lifetime"),u=[{name:"Lifetime",start:null,end:null},{name:"Today",start:new Date(o),end:new Date(o)},{name:"Yesterday",start:new Date(new Date(o).setDate(o.getDate()-1)),end:new Date(new Date(o).setDate(o.getDate()-1))},{name:"Last 7 days",start:new Date(new Date(o).setDate(o.getDate()-6)),end:new Date(o)},{name:"Last 30 days",start:new Date(new Date(o).setDate(o.getDate()-29)),end:new Date(o)},{name:"Last 90 days",start:new Date(new Date(o).setDate(o.getDate()-89)),end:new Date(o)},{name:"Last 365 days",start:new Date(new Date(o).setDate(o.getDate()-364)),end:new Date(o)},{name:"Last month",start:new Date(new Date(o.getFullYear(),o.getMonth()-1,1)),end:new Date(new Date(o.getFullYear(),o.getMonth(),0))},{name:"Last 12 months",start:new Date(new Date(o).setFullYear(o.getFullYear()-1)),end:new Date(o)},{name:"Week to date",start:new Date(new Date(o).setDate(o.getDate()-o.getDay()+1)),end:new Date(o)},{name:"Month to date",start:new Date(o.getFullYear(),o.getMonth(),1),end:new Date(o)},{name:"Quarter to date",start:new Date(o.getFullYear(),3*Math.floor(o.getMonth()/3),1),end:new Date(o)},{name:"Year to date",start:new Date(o.getFullYear(),0,1),end:new Date(o)}];(0,s.YP)((()=>d.value),(()=>{a.value.date=d.value}),{deep:!0});const p=(t,e)=>{i.value=t,w.value=e,console.log(e,t)},g=t=>{console.log("month: ",t)},m=t=>{console.log("day: ",t)},h=t=>{d.value.start=t.start,d.value.end=t.end,c.value=t.name,r("setName",t.name)},f=()=>{l(),r("close")};return(t,e)=>{const a=(0,s.up)("icon"),l=(0,s.up)("DatePicker");return(0,s.wg)(),(0,s.iD)("div",Xde,[(0,s._)("div",tce,[(0,s._)("div",ece,[(0,s._)("div",rce,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(u,(t=>(0,s._)("button",{onClick:e=>h(t),key:t.name,class:(0,wt.C_)([[t.name===c.value&&"!tw-bg-gray-100 !tw-text-black"],"tw-flex tw-items-center tw-justify-between tw-p-2 tw-rounded tw-bg-white tw-text-start tw-font-semibold tw-text-gray-600 tw-duration-200 hover:tw-bg-gray-100"])},[(0,s._)("span",null,(0,wt.zw)(t.name),1),t.name===c.value?((0,s.wg)(),(0,s.j4)(a,{key:0,icon:"mage:check",class:"tw-text-xl tw-text-black"})):(0,s.kq)("",!0)],10,ace))),64))]),"Lifetime"!=c.value?((0,s.wg)(),(0,s.iD)("div",sce,[(0,s.kq)("",!0),(0,s._)("div",lce,[(0,s.Wm)(l,{"multi-month":"","allow-range":"",month:i.value,year:w.value,day:n.value,modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=t=>d.value=t),onMonthChange:p,onDayChange:m,onChange:g},null,8,["month","year","day","modelValue"])])])):(0,s.kq)("",!0)]),(0,s._)("div",oce,[(0,s._)("div",ice,[(0,s._)("button",{onClick:e[3]||(e[3]=t=>r("close")),class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-gray-50 tw-text-gray-500"},"Close"),(0,s._)("button",{onClick:f,class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-orange-400 tw-text-white"},"Filter")])])])])}}};const nce=wce;var dce=nce;const cce={class:"tw-absolute tw-top-full tw-z-10 tw-pt-2"},uce={class:"tw-flex tw-flex-col tw-w-[400px] tw-h-[380px]x tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-shadow tw-overflow-hidden"},pce={class:"tw-grid tw-grid-cols-12 tw-h-full"},gce={class:"tw-col-span-12 tw-grid tw-grid-cols-2 tw-p-2 tw-gap-2 tw-h-fit tw-max-h-[200px] tw-overflow-auto"},mce=["title","onClick"],hce={class:"tw-col-span-12 tw-bg-white tw-h-[50px] tw-border-t tw-border-solid tw-border-gray-200"},fce={class:"tw-flex tw-items-center tw-justify-end tw-gap-2 tw-h-full tw-px-2"};var bce={__name:"SellerFilter",emits:["close"],setup(t,{emit:e}){const r=e,a=(0,s.f3)("filters"),l=(0,s.f3)("filter"),o=(0,i.oR)(),w=(0,s.Fl)((()=>o.getters["user/users"].filter((t=>"seller"==t.role_name)))),n=t=>{a.value.sellers.includes(t)?a.value.sellers=a.value.sellers.filter((e=>e!=t)):a.value.sellers.push(t)},d=()=>{r("close"),l()};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",cce,[(0,s._)("div",uce,[(0,s._)("div",pce,[(0,s._)("div",gce,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,title:t.firstname+" "+t.lastname,onClick:e=>n(t.id),class:(0,wt.C_)([[(0,ke.SU)(a).sellers.includes(t.id)&&"!tw-bg-orange-500 tw-text-white"],"tw-cursor-pointer tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-h-fit hover:tw-bg-gray-50 tw-duration-200"])},(0,wt.zw)(t.username),11,mce)))),128))]),(0,s._)("div",hce,[(0,s._)("div",fce,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r("close")),class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-gray-50 tw-text-gray-500"},"Close"),(0,s._)("button",{onClick:d,class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-orange-400 tw-text-white"},"Filter")])])])])]))}};const vce=bce;var xce=vce;const yce={class:"tw-flex tw-items-center tw-gap-2"},_ce={class:"tw-relative"},kce={class:"tw-text-sm tw-font-medium tw-text-gray-800"},Cce={class:"tw-relative"},Dce=(0,s._)("p",{class:"tw-text-sm tw-font-medium tw-text-gray-800"},"All Sellers",-1);var Sce={__name:"FilterContainer",setup(t){const e=(0,ke.iH)("Lifetime"),r=(0,ke.iH)({date:!1,sellers:!1});return(t,l)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",yce,[(0,s._)("div",_ce,[(0,s._)("button",{onClick:l[0]||(l[0]=t=>r.value.date=!r.value.date),class:"tw-px-4 tw-py-2 tw-rounded tw-flex tw-items-center tw-gap-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200 hover:tw-shadow tw-duration-200"},[(0,s.Wm)(o,{icon:"mage:calendar",class:"tw-text-xl tw-text-gray-700"}),(0,s._)("p",kce,(0,wt.zw)(e.value),1)]),(0,s.wy)((0,s.Wm)((0,ke.SU)(dce),{onSetName:l[1]||(l[1]=t=>e.value=t),onClose:l[2]||(l[2]=t=>r.value.date=!1)},null,512),[[a.F8,r.value.date]])]),(0,s._)("div",Cce,[(0,s._)("button",{onClick:l[3]||(l[3]=t=>r.value.sellers=!r.value.sellers),class:"tw-px-4 tw-py-2 tw-rounded tw-flex tw-items-center tw-gap-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200 hover:tw-shadow tw-duration-200"},[(0,s.Wm)(o,{icon:"mage:user",class:"tw-text-xl tw-text-gray-700"}),Dce]),(0,s.wy)((0,s.Wm)((0,ke.SU)(xce),{onClose:l[4]||(l[4]=t=>r.value.sellers=!1)},null,512),[[a.F8,r.value.sellers]])])])])}}};const zce=Sce;var Uce=zce;const qce={class:"tw-pb-16"},Pce={class:"tw-flex tw-items-center tw-justify-between tw-gap-2 tw-mb-2"},Lce=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:"tw-bg-white tw-h-[40px] tw-w-[150px] tw-border tw-border-solid tw-border-gray-300"}),(0,s._)("div",{class:"tw-bg-white tw-h-[40px] tw-w-[150px] tw-border tw-border-solid tw-border-gray-300"})],-1),Wce={class:"tw-grid tw-grid-cols-12 tw-gap-2"},Ace={class:"tw-col-span-12 md:tw-col-span-12 lg:tw-col-span-4"},$ce={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},Ece={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},Tce={class:"tw-col-span-12"},Fce={class:"tw-col-span-12 md:tw-col-span-12 lg:tw-col-span-6"},jce={class:"tw-col-span-12 md:tw-col-span-12 lg:tw-col-span-6"};var Ice={__name:"SellersAnalyticsView",setup(t){const e=(0,ke.iH)({date:{start:null,end:null},sellers:[]}),r=(0,ke.iH)([]),a=t=>{r.value.push(t)},l=()=>{r.value.forEach((t=>t()))};return(0,s.JJ)("filter",l),(0,s.JJ)("filters",e),(0,s.JJ)("register",a),(t,e)=>((0,s.wg)(),(0,s.iD)("div",qce,[(0,s._)("div",Pce,[(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(Uce))]),Lce]),(0,s._)("div",Wce,[(0,s._)("div",Ace,[(0,s.Wm)((0,ke.SU)(Kwe))]),(0,s._)("div",$ce,[(0,s.Wm)((0,ke.SU)(cne))]),(0,s._)("div",Ece,[(0,s.Wm)((0,ke.SU)(Une))]),(0,s._)("div",Tce,[(0,s.Wm)((0,ke.SU)(dde))]),(0,s._)("div",Fce,[(0,s.Wm)((0,ke.SU)(Lde))]),(0,s._)("div",jce,[(0,s.Wm)((0,ke.SU)(Gde))])])]))}};const Vce=Ice;var Oce=Vce,Hce={name:"analytics.admin",path:"/admin/analytics",component:Wa,meta:{module:"analytics"},children:[{name:"analytics.admin.sellers",path:"sellers",component:Oce,meta:{module:"analytics",subModule:"analytics.admin.sellers",title:"Analytics",role:["admin"]}}]};const Mce=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Page not found")])],-1),Rce={class:"py-5 px-5 tw-border bg-white tw-w-full tw-flex tw-items-center tw-justify-center tw-rounded-md tw-min-h-[500px]"},Nce={class:"tw-flex tw-items-center tw-flex-col"},Yce=(0,s._)("div",{class:"md:tw-text-6xl tw-text-4xl tw-font-black text-primary-color"},"404",-1),Zce={class:"tw-w-fit tw-flex tw-items-center md:tw-text-2xl tw-text-xl mt-md-5 mt-3 tw-gap-2"},Kce=(0,s._)("div",{class:"tw-max-w-[400px] tw-text-center md:tw-text-lg tw-text-sm mt-5"}," The page you requested was not found or you don't have the permission to access it. ",-1);function Bce(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[Mce,(0,s._)("div",Rce,[(0,s._)("div",Nce,[Yce,(0,s._)("div",Zce,[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-circle")])),_:1}),(0,s.Uk)(" Oops! Page not found! ")]),Kce])])])}var Qce={};const Jce=(0,m.Z)(Qce,[["render",Bce]]);var Gce=Jce;const Xce={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"};function tue(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Xce,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:o.sendRequest,loading:l.isLoading,variant:"flat",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("Send Request")])),_:1},8,["onClick","loading"])])])])}const eue="/api/storeimport",rue="post";var aue={name:"Orders from Youcan",sheet_id:"QSDfFsqdDSQDfrsqFDSRHTRzer",sheet_name:"Youcan-Orders",auto_fetch:!0},sue={data(){return{isLoading:!1,test:aue}},methods:{async sendRequest(){switch(this.isLoading=!0,await E.getCookie(),rue){case"get":A.get(eue).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"post":A.post(eue,aue).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"delete":A["delete"](eue).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;default:break}}}};const lue=(0,m.Z)(sue,[["render",tue]]);var oue=lue;const iue=[Qt,VAt,cQt,mq,OA,D7,vot,Fwt,cut,Ogt,aht,WSt,rqt,cHt,JVt,m4t,kw,p8t,E6t,_pt,Twe,Hce,{name:"default",path:"/test",component:Wa,children:[{name:"test",path:"",component:oue,meta:{title:"Test abro m3a rasek",module:"test",gate:"all"}}]},{name:"not-found",path:"/404",component:Wa,meta:{title:"Not Found"},children:[{name:"404",path:"",component:Gce}]},{name:"catch-all",path:"/:pathMatch(.*)",beforeEnter:(t,e,r)=>r({name:"404"}),meta:{title:"Not Found"}}],wue=(0,b.p7)({history:(0,b.PO)("/"),routes:iue});wue.beforeEach(((t,e)=>it(t,e,wue)));var nue=wue,due=(r(9773),r(8957));const cue={colors:{"primary-color":"#FF9F43","secondary-color":"#1B2850","primary-indigo":"#1B2850","primary-orange":"#FF9F43","primary-blue":"#00CFE8","primary-green":"#28C76F"}};var uue=(0,due.Rd)({theme:{defaultTheme:"customTheme",themes:{customTheme:cue}}});const pue={install(t){t.config.globalProperties.$can=function(t){const e=this.$store.getters["user/permissions"];return e.includes(t)}}};var gue=pue;const mue={install(t){t.config.globalProperties.$alert=function(t){this.$store.dispatch("alert/toggleAlert",t)}}};var hue=mue,fue={install(t){t.config.globalProperties.$frontend=t=>w+t,t.config.globalProperties.$backend=t=>n+t;const e={get:(e,r)=>t.config.globalProperties.$store.getters["user/user"][r]};t.config.globalProperties.$user=new Proxy(t.config.globalProperties.$store.getters["user/user"],e)}};const bue={install(t){t.config.globalProperties.$handleApiError=function(e){const r=e?.response?.data?.code;let a="error",s="Something wrong happened. Try again",l=!0;const o=["VALIDATION_ERROR","NOT_ACTIVE_ERROR","INVALID_CREDENTIALS","PERMISSION_DENIED"];switch(o.includes(r)&&(l=!1),console.log(e),"ERR_NETWORK"==e.code&&(s="Network error. Check your connection"),r){case"NOT_ALLOWED":s="Your are not allowed to this resources";break;case"ERROR":s=e?.response?.data.message;break;case"NOT_AUTHENTICATED":s="Your session expired",setTimeout((()=>{t.config.globalProperties.$store.dispatch("user/logout"),t.config.globalProperties.$router.push("/login")}),2e3);break;case"NOT_FOUND":l=!1,t.config.globalProperties.$router.push({name:"404"});break;case"RELOAD":l=!1,console.log("reload"),location.reload(!0);break;case"HIDE_APP":l=!1,document.getElementById("app").innerHTML="";break;default:break}return l&&t.config.globalProperties.$alert({type:a,title:s}),e}}};var vue=bue,xue=r(7025);const yue=t=>((0,s.dD)("data-v-ff4afcd0"),t=t(),(0,s.Cn)(),t),_ue={class:"tw-min-h-[500px] tw-flex tw-items-center tw-justify-center tw-bg-white tw-rounded-md tw-border"},kue=yue((()=>(0,s._)("div",{class:"tw-w-[40px] tw-h-[40px] tw-animate-spin loading tw-border-4 tw-border-x-transparent tw-border-t-transparent tw-rounded-full"},null,-1))),Cue=[kue];function Due(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",_ue,Cue)}var Sue={};const zue=(0,m.Z)(Sue,[["render",Due],["__scopeId","data-v-ff4afcd0"]]);var Uue=zue;const que={class:"tw-flex tw-justify-center tw-items-center"},Pue=(0,s._)("div",{class:"tw-relative tw-w-8 tw-h-8 tw-animate-spin tw-rounded-full tw-bg-gradient-to-r tw-from-purple-400 tw-via-blue-500 tw-to-red-400"},[(0,s._)("div",{class:"tw-absolute tw-top-1/2 tw-left-1/2 tw-transform tw--translate-x-1/2 tw--translate-y-1/2 tw-w-7 tw-h-7 tw-bg-white tw-rounded-full tw-border-2 tw-border-white"})],-1),Lue=[Pue];function Wue(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",que,Lue)}var Aue={};const $ue=(0,m.Z)(Aue,[["render",Wue]]);var Eue=$ue;const Tue={key:0},Fue={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"},jue={name:"body",class:"tw-z-[50999] tw-bg-white md:tw-min-w-[300px] md:tw-max-w-[800px] tw-flex tw-flex-col md:tw-min-h-[170px] tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5"},Iue=["innerHTML"],Vue={key:1,class:"tw-text-lg tw-text-gray-700"},Oue={class:"tw-flex tw-gap-3 tw-justify-end mt-5"};function Hue(t,e,r,a,l,o){return r.visible?((0,s.wg)(),(0,s.iD)("div",Tue,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",Fue,[(0,s._)("div",jue,[(0,s._)("div",{class:(0,wt.C_)(["tw-font-medium tw-text-lg mb-5 tw-text-start",o.currentType.class])},[(0,s.Wm)(ct.t,{size:"small",class:"mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(o.currentType.icon),1)])),_:1}),(0,s._)("span",null,(0,wt.zw)(r.title),1)],2),r.body?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tw-text-center tw-text-lg tw-text-gray-700",innerHTML:r.body},null,8,Iue)):((0,s.wg)(),(0,s.iD)("div",Vue,[(0,s.WI)(t.$slots,"default")])),(0,s.Wm)(nr.C),(0,s._)("div",Oue,[(0,s.Wm)(nt.T,{variant:"flat",color:"grey",onClick:e[0]||(e[0]=t=>o.resolve(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),r.noConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(nt.T,{key:0,loading:r.loading,variant:"flat",color:r.btnColor?r.btnColor:"red",onClick:e[1]||(e[1]=t=>o.resolve(!0))},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","color"]))])]),(0,s._)("div",{onClick:e[2]||(e[2]=t=>o.resolve(!1)),class:(0,wt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var Mue={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("resolved",t)}},computed:{currentType(){return this.types[this.type]}}};const Rue=(0,m.Z)(Mue,[["render",Hue]]);var Nue=Rue;const Yue={key:0},Zue={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function Kue(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",Yue,[((0,s.wg)(),(0,s.j4)(s.lR,{to:".my-application"},[(0,s._)("div",null,[(0,s._)("div",Zue,[(0,s._)("div",{name:"body",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] tw-overflow-y-auto tw-max-h-screen tw-flex tw-flex-col md:tw-min-h-[170px]"},[(0,s.WI)(t.$slots,"default")]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,wt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var Bue={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("cancel",t)}},computed:{currentType(){return this.types[this.type]}}};const Que=(0,m.Z)(Bue,[["render",Kue]]);var Jue=Que,Gue=r(2340),Xue=r(5781),tpe=r.n(Xue),epe=r(6088),rpe=r(32),ape=r(6580),spe=(0,a.ri)(f).use(nue).use(st).use(uue).use(gue).use(hue).use(fue).use(vue).use(xue.Z).use(rpe.Z).use(ape.ZP).component("LoadingAnimation",Uue).component("Loading",Eue).component("Popup",Nue).component("PopupFull",Jue).component("VueDatePicker",Gue.Z).component("downloadCsv",tpe()).component("popupNew",Nre).component("icon",epe.JO).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var l=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,l){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],l=t[d][2];for(var i=!0,w=0;w<a.length;w++)(!1&l||o>=l)&&Object.keys(r.O).every((function(t){return r.O[t](a[w])}))?a.splice(w--,1):(i=!1,l<o&&(o=l));if(i){t.splice(d--,1);var n=s();void 0!==n&&(e=n)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[a,s,l]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,l,o=a[0],i=a[1],w=a[2],n=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(w)var d=w(r)}for(e&&e(a);n<o.length;n++)l=o[n],r.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return r.O(d)},a=self["webpackChunkproduction"]=self["webpackChunkproduction"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(71)}));a=r.O(a)})();
//# sourceMappingURL=app.b911dc47.js.map