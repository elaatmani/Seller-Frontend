(function(){var t={6700:function(t,e,r){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function s(t){var e=l(t);return r(e)}function l(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=l,t.exports=s,s.id=6700},6078:function(t,e,r){"use strict";r.d(e,{Z:function(){return mwe}});var a=r(9242),s=r(3396),l=r(7718);function o(t,e,r,a,o,i){const w=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(l.q,{class:"my-application"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})}var i=r(7139);const w="https://codsquad.net/",n="https://api.codsquad.net/",d="1.0.1",c="$",u="cods";var p={name:"App",data:()=>({theme:"light",version:d}),methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions"]),checkVersion(){const t=localStorage.getItem("app_version");t!=this.version&&(localStorage.setItem("app_version",this.version),location.reload(!0))}},mounted(){this.checkVersion()}},g=r(89);const m=(0,g.Z)(p,[["render",o],["__scopeId","data-v-4a3ad42f"]]);var h=m,f=r(2483);r(7658);let b={roles:localStorage.getItem("roles")?JSON.parse(localStorage.getItem("roles")):[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):[],isLoggedIn:"true"==localStorage.getItem("isLoggedIn"),permissions:localStorage.getItem("permissions")?JSON.parse(localStorage.getItem("permissions")):[],users:[],agents:[],deliveries:[],fetched:!1,fetchedRoles:!1};var x={name:"user",namespaced:!0,state:b,getters:{fetched:t=>t.fetched,fetchedRoles:t=>t.fetchedRoles,isLoggedIn:t=>t.isLoggedIn,permissions:t=>t.permissions,user:t=>t.user,users:t=>t.users,roles:t=>t.roles,agents:t=>t.agents,deliveries:t=>t.deliveries},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FETCHED_ROLES:(t,e)=>{t.fetchedRoles=e},SET_IS_LOGGED_IN:(t,e)=>{localStorage.setItem("isLoggedIn",e),t.isLoggedIn=e},SET_USER:(t,e)=>{localStorage.setItem("user",JSON.stringify(e)),t.user=e},SET_USERS:(t,e)=>{t.users=e},SET_PERMISSIONS:(t,e)=>{localStorage.setItem("permissions",JSON.stringify(e)),t.permissions=e},SET_ROLES:(t,e)=>{localStorage.setItem("roles",JSON.stringify(e)),t.roles=e},SET_DELIVERIES:(t,e)=>{t.deliveries=e},SET_AGENTS:(t,e)=>{t.agents=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFetchedRoles:({commit:t},e)=>{t("SET_FETCHED_ROLES",e)},setUser:({commit:t},e)=>{t("SET_USER",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)},setAgents:({commit:t},e)=>{t("SET_AGENTS",e)},setDeliveries:({commit:t},e)=>{t("SET_DELIVERIES",e)},setIsLoggedIn:({commit:t},e)=>{t("SET_IS_LOGGED_IN",e)},setPermissions:({commit:t},e)=>{t("SET_PERMISSIONS",e)},setRoles:({commit:t},e)=>{t("SET_ROLES",e)},logout:({commit:t})=>{t("SET_USER",{}),t("SET_IS_LOGGED_IN",!1),t("SET_PERMISSIONS",[]),t("SET_ROLES",[])}}},v={name:"alert",namespaced:!0,state:{active:!1,alert:{type:"success",title:"Toast",body:"Hello body"}},getters:{alert:t=>t},mutations:{TOGGLE_TOAST:(t,e)=>{t.alert=e,t.active=!0,setTimeout((()=>{t.active=!1}),4500)}},actions:{toggleAlert:({commit:t},e)=>{t("TOGGLE_TOAST",e)}}};let y={products:[],fetched:!1};var _={name:"product",namespaced:!0,state:y,getters:{products:t=>t.products,fetched:t=>t.fetched},mutations:{SET_PRODUCTS:(t,e)=>{t.products=e},SET_PRODUCT:(t,e)=>{t.products=t.products.map((t=>t.id===e.id?e:t))},ADD_PRODUCT:(t,e)=>{t.products.push(e)},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setProducts:({commit:t},e)=>{t("SET_PRODUCTS",e)},setProduct:({commit:t},e)=>{t("SET_PRODUCT",e)},addProduct:({commit:t},e)=>{t("ADD_PRODUCT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};r(541);let k={fetched:!1,sales:[],count:0};var C={name:"sale",namespaced:!0,state:k,getters:{sales:t=>t.sales,count:t=>t.count,fetched:t=>t.fetched},mutations:{SET_SALES:(t,e)=>{t.sales=e},SET_COUNT:(t,e)=>{t.count=e},SET_FETCHED:(t,e)=>{t.fetched=e},UPDATE_SALE:(t,e)=>{t.sales=t.sales.map((t=>t.id===e.id?e.sale:t))},ADD_SALE:(t,e)=>{t.sales.unshift(e)},ADD_SALES:(t,e)=>{t.sales=[...e,...t.sales]},UPDATE_CONFIRMATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,console.log("sale updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.affectation=e.affectation,null!=e.affectation?t.delivery="dispatch":t.delivery=null,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,console.log("order updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))},RESET_SALES:(t,e)=>{t.sales=t.sales.map((t=>(e.includes(t.id)&&(t.agente_id=null,t.upsell=null,t.confirmation=null,t.affectation=null,t.note=null,t.note_d=null,t.delivery=null,t.reported_agente_date=null,t.reported_agente_note=null,t.reported_delivery_date=null,t.reported_delivery_note=null),t)))}},actions:{setSales:({commit:t},e)=>{t("SET_SALES",e)},setCount:({commit:t},e)=>{t("SET_COUNT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},update:({commit:t},e)=>{t("UPDATE_SALE",e)},add:({commit:t},e)=>{t("ADD_SALE",e)},addSales:({commit:t},e)=>{t("ADD_SALES",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)},resetSales:({commit:t},e)=>{t("RESET_SALES",e)}}};let D={orders:[],order:null,all_orders:[],fetched:!1};var S={name:"order",namespaced:!0,state:D,getters:{fetched:t=>t.fetched,orders:t=>t.orders,order:t=>t.order,allOrders:t=>t.all_orders},mutations:{SET_ORDERS:(t,e)=>{t.orders=e},ADD_ORDER:(t,e)=>{t.orders.unshift(e),t.all_orders.unshift(e)},SET_FETCHED:(t,e)=>{t.fetched=e},SET_ALL_ORDERS:(t,e)=>{t.all_orders=e},SET_ORDER:(t,e)=>{t.order=e},UPDATE_ORDER:(t,e)=>{t.orders=t.orders.map((t=>t.id===e.id?e.order:t)),t.all_orders=t.all_orders.map((t=>t.id===e.id?e.order:t))},UPDATE_CONFIRMATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))}},actions:{setOrders:({commit:t},e)=>{t("SET_ORDERS",e)},addOrder:({commit:t},e)=>{t("ADD_ORDER",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setAllOrders:({commit:t},e)=>{t("SET_ALL_ORDERS",e)},setOrder:({commit:t},e)=>{t("SET_ORDER",e)},update:({commit:t},e)=>{t("UPDATE_ORDER",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)}}};let U={fetcehd:!1,inventoryList:[],inventoryState:[],inventoryMovements:[]};var z={name:"inventory",namespaced:!0,state:U,getters:{fetched:t=>t.fetched,inventoryList:t=>t.inventoryList,inventoryState:t=>t.inventoryState,inventoryMovements:t=>t.inventoryMovements},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_INVENTORY_LIST:(t,e)=>{t.inventoryList=e},SET_INVENTORY_STATE:(t,e)=>{t.inventoryState=e},SET_INVENTORY_MOVEMENTS:(t,e)=>{t.inventoryMovements=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setInventoryList:({commit:t},e)=>{t("SET_INVENTORY_LIST",e)},setInventoryState:({commit:t},e)=>{t("SET_INVENTORY_STATE",e)},setInventoryMovements:({commit:t},e)=>{t("SET_INVENTORY_MOVEMENTS",e)}}},q=r(6943);const P=q.Z.create({baseURL:n}),L=q.Z.create({baseURL:n});L.defaults.withCredentials=!0,L.defaults.headers={"Content-Type":"multipart/form-data",Accept:"application/json"},P.defaults.withCredentials=!0,P.defaults.headers={"Content-Type":"application/json",Accept:"application/json"};var W=P,A=r(680),$={getCookie(){let t=A.Z.get("XSRF-TOKEN");return t?new Promise((t=>{t()})):W.get("sanctum/csrf-cookie")}};class E{async statistics(t){return await $.getCookie(),W.post("api/v1/agent/statistics",t)}async paginate(t="/",e){return await $.getCookie(),W.post("api/v1/agent/orders"+t,e)}async counts(){return await $.getCookie(),W.get("api/v1/agent/orders/counts")}async update(t,e){return await $.getCookie(),W.post("api/v1/agent/orders/"+t+"/update",e)}async toConfirm(){return await $.getCookie(),W.get("api/orders/toconfirmate")}async getOrder(){return await $.getCookie(),W.get("api/orders/add")}async create(t){return await $.getCookie(),W.post("api/v1/agent/orders/create",t)}}var T=new E;let j={fetched:!1,totalAvailable:0,totalConfirmed:0,totalNotConfirmed:0};var F={name:"agent",namespaced:!0,state:j,getters:{fetched:t=>t.fetched,state:t=>t},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_TOTAL_CONFIRMED:(t,e)=>{t.totalConfirmed=e},SET_TOTAL_NOT_CONFIRMED:(t,e)=>{t.totalNotConfirmed=e},SET_TOTAL_AVAILABLE:(t,e)=>{t.totalAvailable=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setTotalConfirmed:({commit:t},e)=>{t("SET_TOTAL_CONFIRMED",e)},setTotalNotConfirmed:({commit:t},e)=>{t("SET_TOTAL_NOT_CONFIRMED",e)},setTotalAvailable:({commit:t},e)=>{t("SET_TOTAL_AVAILABLE",e)},refreshCounts:t=>{t.commit("SET_FETCHED",!1),console.log(t),T.counts().then((e=>{if("SUCCESS"==e?.data.code){const r=e.data.data;t.commit("SET_TOTAL_CONFIRMED",r.confirmed),t.commit("SET_TOTAL_NOT_CONFIRMED",r.not_confirmed),t.commit("SET_TOTAL_AVAILABLE",r.available),t.commit("SET_FETCHED",!0)}}))}}};const V=localStorage.getItem("cities");let I={fetched:!1,cities:V?JSON.parse(V):[]};var O={name:"city",namespaced:!0,state:I,getters:{cities:t=>t.cities,fetched:t=>t.fetched},mutations:{SET_CITIES:(t,e)=>{localStorage.setItem("cities",JSON.stringify(e)),t.cities=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setCities:({commit:t},e)=>{t("SET_CITIES",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}},H={name:"app",namespaced:!0,state:{notifications:{fetched:!1,all:[],data:[],count:0,highlighted:null},factorisations:{fetched:!1,tobepaid:0},alerts:{fetched:!1,data:[]}},getters:{notifications:t=>t.notifications,factorisations:t=>t.factorisations,alerts:t=>t.alerts},mutations:{SET_DATA:(t,e)=>{t.notifications.data=e},SET_ALERTS_FETCHED:(t,e)=>{t.alerts.fetched=e},SET_ALERTS_DATA:(t,e)=>{t.alerts.data=e},SET_TO_BE_PAID:(t,e)=>{t.factorisations.tobepaid=e},SET_ALL_NOTIFICATIONS:(t,e)=>{t.notifications.all=e},SET_COUNT:(t,e)=>{t.notifications.count=e},SET_HIGHLIGHTED:(t,e)=>{t.notifications.highlighted=e},CHANGE_STATUS:t=>{t.notifications.data=t.notifications.data.map((t=>(t.status="read",t)),t.notifications.count=0)}},actions:{setData({commit:t},e){t("SET_DATA",e)},setAlertsFetched({commit:t},e){t("SET_ALERTS_FETCHED",e)},setAlertsData({commit:t},e){t("SET_ALERTS_DATA",e)},settobepaid({commit:t},e){t("SET_TO_BE_PAID",e)},setAllNotifications({commit:t},e){t("SET_ALL_NOTIFICATIONS",e)},sethighlighted({commit:t},e){t("SET_HIGHLIGHTED",e)},setCount({commit:t},e){t("SET_COUNT",e)},updatestatus({commit:t},e){t("CHANGE_STATUS",e)}}};let M={shops:[]};var R={name:"shop",namespaced:!0,state:M,getters:{shops:t=>t.shops},mutations:{SET_SHOPS:(t,e)=>{t.shops=e}},actions:{setShops:({commit:t},e)=>{t("SET_SHOPS",e)}}};let N={fetched:!1,notifications:{productStockAlert:[],reportedSale:[],reportedOrderAgente:[],reportedOrderDelivery:[]}};var Y={name:"notification",namespaced:!0,state:N,getters:{notifications:t=>t.notifications,fetched:t=>t.fetched},mutations:{SET_NOTIFICATIONS:(t,e)=>{t.notifications=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setNotifications:({commit:t},e)=>{t("SET_NOTIFICATIONS",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let Z={fetched:!1,warehouses:[]};var K={name:"warehouse",namespaced:!0,state:Z,getters:{fetched:t=>t.fetched,warehouses:t=>t.warehouses},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_WAREHOUSES:(t,e)=>{t.warehouses=e},ADD_WAREHOUSE:(t,e)=>{t.warehouses.push(e)},DELETE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.filter((t=>t.id!=e))},UPDATE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setWarehouses:({commit:t},e)=>{t("SET_WAREHOUSES",e)},addWarehouse:({commit:t},e)=>{t("ADD_WAREHOUSE",e)},update:({commit:t},e)=>{t("UPDATE_WAREHOUSE",e)},delete:({commit:t},e)=>{t("DELETE_WAREHOUSE",e)}}};let B={fetched:!1,factorisations:[]};var Q={name:"factorisation",namespaced:!0,state:B,getters:{fetched:t=>t.fetched,factorisations:t=>t.factorisations},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FACTORISATIONS:(t,e)=>{t.factorisations=e},ADD_FACTORISATION:(t,e)=>{t.factorisations.push(e)},DELETE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.filter((t=>t.id!=e))},UPDATE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFactorisations:({commit:t},e)=>{t("SET_FACTORISATIONS",e)},addFactorisation:({commit:t},e)=>{t("ADD_FACTORISATION",e)},update:({commit:t},e)=>{t("UPDATE_FACTORISATION",e)},delete:({commit:t},e)=>{t("DELETE_FACTORISATION",e)}}};let J={fetched:!1,sheets:[]};var G={name:"sheet",namespaced:!0,state:J,getters:{fetched:t=>t.fetched,sheets:t=>t.sheets},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_SHEETS:(t,e)=>{t.sheets=e},ADD_SHEET:(t,e)=>{t.sheets.push(e)},DELETE_SHEET:(t,e)=>{t.sheets=t.sheets.filter((t=>t.id!=e))},UPDATE_SHEET:(t,e)=>{t.sheets=t.sheets.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setSheets:({commit:t},e)=>{t("SET_SHEETS",e)},addSheet:({commit:t},e)=>{t("ADD_SHEET",e)},update:({commit:t},e)=>{t("UPDATE_SHEET",e)},delete:({commit:t},e)=>{t("DELETE_SHEET",e)}}};let X={supply_requests:[]};var tt={name:"supply-request",namespaced:!0,state:X,getters:{supply_requests:t=>t.supply_requests},mutations:{SET_SUPPLY_REQUESTS:(t,e)=>{t.supply_requests=e},ADD_SUPPLY_REQUEST:(t,e)=>{t.supply_requests.unshift(e)},DELETE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.filter((t=>t.id!=e))},UPDATE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.map((t=>t.id==e.id?e:t))}},actions:{setSupplyRequests:({commit:t},e)=>{t("SET_SUPPLY_REQUESTS",e)},addSupplyRequest:({commit:t},e)=>{t("ADD_SUPPLY_REQUEST",e)},deleteSupplyRequest:({commit:t},e)=>{t("DELETE_SUPPLY_REQUEST",e)},updateSupplyRequest:({commit:t},e)=>{t("UPDATE_SUPPLY_REQUEST",e)}}},et=(0,i.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:x,product:_,alert:v,sale:C,order:S,inventory:z,city:O,agent:F,shop:R,notification:Y,warehouse:K,factorisation:Q,sheet:G,app:H,"supply-request":tt}});class rt{async login(t){return await $.getCookie(),W.post("api/auth/login",{email:t.email,password:t.password})}async register(t){return await $.getCookie(),W.post("api/users/new",{email:t.email,password:t.password,phone:t.phone,status:t.status,role:t.role,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,city:t?.city,deliverycity:t?.deliveryCities,having_all:t.having_all})}async update(t,e){return await $.getCookie(),W.post("api/users/update/"+t.id,{email:t.email,password:t.password,phone:t.phone,status:t.status,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,role:t.role,city:t?.city,deliverycity:t?.deliveryCities,updatePassword:e,having_all:t.having_all})}async updateProfile(t,e){return await $.getCookie(),W.post("api/users/profile",{password:t.password,phone:t.phone,firstname:t.firstname,lastname:t.lastname,updatePassword:e})}async online(){return await $.getCookie(),W.get("api/user")}async profile(){return await $.getCookie(),W.get("api/users/profile")}async logout(){return await $.getCookie(),W.get("api/auth/logout")}async clear(){return await $.getCookie(),W.get("api/auth/clear")}async permessions(){return await $.getCookie(),W.get("api/permissions")}async permession(){return await $.getCookie(),W.get("api/auth/permission")}async roles(){return await $.getCookie(),W.get("api/auth/roles")}async all(){return await $.getCookie(),W.get("api/users")}async updateStatus({id:t,status:e}){return await $.getCookie(),W.post("api/users/status/"+t,{status:e})}async delete(t){return await $.getCookie(),W["delete"]("api/users/delete/"+t)}async getUser(t){return await $.getCookie(),W.get("api/users/"+t)}async createPermission(t){return await $.getCookie(),W.post("api/permissions/new",{name:t})}async createRole({name:t,permissions:e}){return await $.getCookie(),W.post("api/roles/new",{name:t,permissions:e})}async updateRole(t,{name:e,permissions:r}){return await $.getCookie(),W.post("api/roles/update/"+t,{name:e,permissions:r})}async deleteRole(t){return await $.getCookie(),W["delete"]("api/roles/delete/"+t)}async getRole(t){return await $.getCookie(),W.get("api/roles/"+t)}async agents(){return await $.getCookie(),W.get("api/agents")}async deliveries(){return await $.getCookie(),W.get("api/delevries")}async allDeliveries(){return await $.getCookie(),W.get("api/deliveries")}async allSellers(){return await $.getCookie(),W.get("api/sellers")}async cities(){return await $.getCookie(),W.get("api/cities")}}var at=new rt;function st(t,e,r){if(document.title=t.meta?.title+" | COD Squad",!et.getters["user/isLoggedIn"])return"/login"==t.path||{name:"login"};if(at.online().then((t=>{"USER_SHOWED"==t.data.code&&t.data.data.user.email!=et.getters["user/user"]?.email&&(et.dispatch("user/logout"),r.push({name:"login"}))})).catch(mwe.$handleApiError),"/login"==t.path)return{name:"404"};const{gate:a}=t.meta,s=et.getters["user/permissions"];return"all"===a||(!!t.meta.role?.includes(et.getters["user/user"].role)||((a||"/404"===t.path)&&!(!s.includes(a)&&"/404"!==t.path)||{name:"404"}))}var lt=r(2268),ot=r(7312),it=r(3369),wt=r(3289),nt=r(165);const dt={class:"tw-min-h-screen tw-overflow-auto tw-bg-slate-50"},ct={class:"tw-grid tw-h-fit tw-overflow-hidden md:tw-grid-cols-2 tw-grid-cols-1"},ut={class:"py-md-5 py-10 pb-0 tw-flex tw-justify-center md:tw-items-center"},pt={class:"px-md-10 tw-w-full"},gt={class:"tw-w-[270px] tw-h-[60px]"},mt=["src"],ht={class:"mt-md-10 mt-15 pt-5 px-md-5 px-lg-16 tw-w-full d-felx justify-center align-center"},ft={class:"pa-5 py-7 tw-border bg-white tw-rounded-lg tw-mx-auto tw-max-w-[450px]"},bt=(0,s._)("h1",{class:"text-h5 font-weight-medium !tw-text-gray-600"},"Login",-1),xt=(0,s._)("p",{class:"text-body-1 mt-2 !tw-text-gray-500"},"Please login to your account",-1),vt={key:0,class:"text-body-2 mt-2 !tw-text-red-500"},yt={class:"mt-5"},_t=(0,s._)("p",{class:"mb-1"},"Email",-1),kt=(0,s._)("p",{class:"mb-1"},"Password",-1),Ct={class:"mt-5"},Dt=(0,s._)("span",{class:"text-capitalize text-white"},"Login",-1),St={class:"bg-primary-color tw-min-h-screen tw-hidden md:tw-flex tw-items-center tw-justify-center"},Ut=["src"];function zt(t,e,r,l,o,i){const w=(0,s.up)("Alert");return(0,s.wg)(),(0,s.iD)("div",dt,[(0,s.Wm)(w),(0,s._)("div",ct,[(0,s._)("div",ut,[(0,s.Wm)(it.K,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",pt,[(0,s._)("div",gt,[(0,s._)("img",{class:"tw-w-full",src:o.localUrl+"images/logo.png"},null,8,mt)]),(0,s._)("div",ht,[(0,s._)("div",ft,[bt,xt,o.error.active?((0,s.wg)(),(0,s.iD)("p",vt,(0,lt.zw)(o.error.message),1)):(0,s.kq)("",!0),(0,s._)("div",yt,[(0,s._)("div",null,[_t,(0,s.Wm)(nt.hw,{name:"email",onKeyup:e[0]||(e[0]=t=>i.resetError("email")),modelValue:o.email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t),error:!o.emailStatus.valid,"error-messages":o.emailStatus.valid?"":o.emailStatus.message,autofocus:"",onBlur:e[2]||(e[2]=t=>o.emailFocus=!1),onFocus:e[3]||(e[3]=t=>o.emailFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:o.emailFocus?o.emailStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-email-outline")])),_:1},8,["color"])])),_:1},8,["modelValue","error","error-messages"])]),(0,s._)("div",null,[kt,(0,s.Wm)(nt.hw,{name:"password",onKeyup:(0,a.D2)(i.login,["enter"]),modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),error:!o.passwordStatus.valid,"error-messages":o.passwordStatus.valid?"":o.passwordStatus.message,type:o.showPassword?"text":"password",onBlur:e[6]||(e[6]=t=>o.passwordFocus=!1),onFocus:e[7]||(e[7]=t=>o.passwordFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(wt.t,{onClick:e[4]||(e[4]=t=>o.showPassword=!o.showPassword),class:"tw-relative tw-z-50 tw-cursor-pointer",color:o.passwordFocus?o.passwordStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(o.showPassword?"mdi-eye-off-outline":"mdi-eye-outline"),1)])),_:1},8,["color"])])),_:1},8,["onKeyup","modelValue","error","error-messages","type"])]),(0,s._)("div",Ct,[(0,s.Wm)(ot.T,{disabled:o.isLoading||!o.cookiesCleared,loading:o.isLoading||!o.cookiesCleared,onClick:i.login,block:"",size:"large",color:"primary-color",variant:"flat",class:"!tw-text-white disabled:!tw-bg-gray-200"},{default:(0,s.w5)((()=>[Dt])),_:1},8,["disabled","loading","onClick"])])])])])])])),_:1})]),(0,s._)("div",St,[(0,s._)("img",{src:o.localUrl+"assets/img/login.jpg",class:"tw-w-full tw-h-full tw-object-cover",alt:""},null,8,Ut)])])])}function qt(t){var e=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;return t?new RegExp(e).test(t)?{valid:!0}:{valid:!1,message:"Email is not valid."}:{valid:!1,message:"Email is required."}}function Pt(t){return t?t.length<=4||t.length>=16?{valid:!1,message:"Password length must be between 4 and 16."}:{valid:!0}:{valid:!1,message:"This field is required"}}function Lt(t,e="This field"){return t?{valid:!0}:{valid:!1,message:`${e} is required`}}function Wt(t,e="This field"){return t?isNaN(t)?{valid:!1,message:`${e} must be a valid number`}:{valid:!0}:{valid:!1,message:`${e} is required`}}function At(t,e){return t?t!==e?{valid:!1,message:"Passwords doesn't match"}:{valid:!0}:{valid:!1,message:"This field is required."}}function $t(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one variant to create a product !"}}function Et(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one permission to create a role !"}}var Tt=r(7771),jt=r(8952);const Ft={key:0,class:"pa-2 tw-absolute !tw-z-[510000]"},Vt={class:"tw-text-sm"};function It(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(jt.V,null,{default:(0,s.w5)((()=>[o.state.active?((0,s.wg)(),(0,s.iD)("div",Ft,[(0,s.Wm)(Tt.w,{closable:"",density:"compact",variant:"flat",type:o.state.alert.type,position:"fixed",location:"bottom right",class:"ma-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Vt,(0,lt.zw)(o.state.alert.title),1)])),_:1},8,["type"])])):(0,s.kq)("",!0)])),_:1})])}var Ot={computed:{state(){return this.$store.getters["alert/alert"]}}};const Ht=(0,g.Z)(Ot,[["render",It]]);var Mt=Ht,Rt={components:{Alert:Mt},data(){return{localUrl:w,isLoading:!1,cookiesCleared:!1,error:{active:!1,message:""},email:"",password:"",emailStatus:{valid:!0,message:""},passwordStatus:{valid:!0,message:""},emailFocus:!1,passwordFocus:!1,showPassword:!1}},methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions","setUser"]),validateForm(){return this.emailStatus=qt(this.email),this.passwordStatus=Pt(this.password),this.passwordStatus.valid&&this.emailStatus.valid},login(){this.validateForm()&&(this.isLoading=!0,this.error={active:!1,message:""},at.login({email:this.email,password:this.password}).then((t=>{if("AUTHENTICATION_SUCCESSFUL"==t.data.code){this.setUser(t.data.data.user),this.setIsLoggedIn(!0);const e=t.data.data.user.permissions;this.setPermissions(e),this.$router.push("/")}})).catch((t=>{this.$handleApiError(t),"INVALID_CREDENTIALS"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"NOT_ACTIVE_ERROR"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"VALIDATION_ERROR"==t.response?.data.code&&(this.emailStatus={valid:!1,message:t.response.data.error["email"][0]},this.passwordStatus={valid:!1,message:t.response.data.error["password"][0]})})).finally((()=>{this.isLoading=!1})),console.log("login..."))},resetError(t){"email"==t&&(this.emailStatus={valid:!0,message:""}),"password"==t&&(this.passwordStatus={valid:!0,message:""})}},mounted(){at.clear().then((()=>{this.cookiesCleared=!0}))}};const Nt=(0,g.Z)(Rt,[["render",zt]]);var Yt=Nt,Zt={name:"login",path:"/login",component:Yt,meta:{title:"Login"}},Kt=r(4454),Bt=r(3140);function Qt(t,e,r,a,l,o){const i=(0,s.up)("AppSidebar"),w=(0,s.up)("AppHeader"),n=(0,s.up)("Alert"),d=(0,s.up)("AlertNotification"),c=(0,s.up)("AppAnnonces"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoggedIn?((0,s.wg)(),(0,s.j4)(Kt.s,{key:0,"full-height":!0},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{active:l.drawer},null,8,["active"]),(0,s.Wm)(w,{onToggleSidebar:o.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Wm)(n),(0,s.Wm)(d),(0,s.Wm)(Bt.O,{class:"tw-bg-gray-50 tw-min-h-screen tw-overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.K,{fluid:"",class:(0,lt.C_)(["scanner/code"==t.$route.name?"tw-p-0":"tw-p-2"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c),(0,s.Wm)(u)])),_:1},8,["class"])])),_:1}),l.showScrollUpButton?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.scrollToTop&&o.scrollToTop(...t)),class:"tw-fixed tw-shadow tw-text-sm tw-bottom-5 tw-right-3 tw-w-10 tw-h-10 tw-z-10 tw-rounded-full tw-bg-orange-400 tw-text-white"},[(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-transfer-up")])),_:1})])):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])}var Jt=r(6439),Gt=r(9156);const Xt={class:"tw-flex tw-items-center tw-gap-2"};function te(t,e,r,l,o,i){const w=(0,s.up)("ToBePaid"),n=(0,s.up)("GlobalNotification"),d=(0,s.up)("HeaderMenu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Jt.L,{color:"white",density:"default",elevation:"0",class:"tw-border-b-0 !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-0 !tw-fixed tw-overflow-visible",absolute:!1},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s._)("div",Xt,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(w,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(n),(0,s.Wm)(d)])])),default:(0,s.w5)((()=>[(0,s.Wm)(Gt.g,{variant:"text",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.handleClick()),["stop"]))})])),_:2},[void 0]),1024)])}var ee=r(652),re=r(4075),ae=r(8694),se=r(8793);const le={class:"tw-relative"},oe=(0,s._)("div",{class:"tw-absolute tw-bottom-0 tw-border-2 tw-border-solid tw-border-white tw-right-0 tw-w-3 tw-h-3 tw-rounded-full tw-bg-green-500"},null,-1),ie={key:0,class:"!tw-duration-100"},we={class:"tw-absolute tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[200px] tw-min-h-[50px]"},ne={class:"pa-2 d-flex tw-items-center tw-gap-2 tw-border-b tw-border-b-neutral-100"},de={class:"d-flex flex-column justify-center"},ce={class:"tw-text-sm tw-text-neutral-800 text-capitalize"},ue={class:"tw-text-xs tw-rounded-lg tw-text-green-500 text-capitalize"},pe=(0,s._)("span",{class:"text-capitalize tw-text-neutral-700 tw-text-xs"}," Profile ",-1),ge={class:"d-flex tw-items-center tw-gap-2"},me=(0,s._)("span",{class:"text-capitalize tw-text-red-700 tw-text-xs"}," Logout ",-1);function he(t,e,r,a,l,o){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",le,[(0,s.Wm)(ot.T,{onClick:o.toggleMenu,icon:"","max-width":"35","max-height":"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee.V,{size:"32"},{default:(0,s.w5)((()=>[(0,s.Wm)(ae.f,{src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),oe])),_:1},8,["onClick"]),(0,s.Wm)(jt.Z5,null,{default:(0,s.w5)((()=>[l.isActive?((0,s.wg)(),(0,s.iD)("div",ie,[(0,s._)("div",we,[(0,s._)("div",ne,[(0,s.Wm)(ee.V,{size:"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(ae.f,{eager:"",src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),(0,s._)("div",de,[(0,s._)("div",ce,(0,lt.zw)(o.user.firstname)+" "+(0,lt.zw)(o.user.lastname),1),(0,s._)("div",ue,(0,lt.zw)(o.user.role),1)])]),(0,s.Wm)(re.J),(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>o.closeMenu&&o.closeMenu(...t)),class:"d-flex tw-items-center tw-gap-2"},[(0,s.Wm)(ot.T,{block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{class:"mr-2 tw-text-neutral-700"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-account-outline ")])),_:1}),pe])),_:1})]),(0,s.Wm)(re.J),(0,s._)("div",ge,[(0,s.Wm)(ot.T,{onClick:o.logout,block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{class:(0,lt.C_)([{"tw-animate-pulse":l.loginOut},"mr-2 tw-text-red-700"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(l.loginOut?"mdi-power-settings":"mdi-power"),1)])),_:1},8,["class"]),me])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])),_:1})])),[[se.L,o.closeMenu]])}var fe={data(){return{localUrl:w,isActive:!1,loginOut:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},logout(){this.loginOut=!0,at.logout().then((()=>{this.$store.dispatch("user/logout"),this.$router.push("/login")})).finally((()=>{this.loginOut=!1}))}},computed:{user(){return this.$store.getters["user/user"]}}};const be=(0,g.Z)(fe,[["render",he]]);var xe=be,ve=r(4870);class ye{async AllNotifications(t={}){return await $.getCookie(),W.get("api/app/all",{params:t})}async notifications(){return await $.getCookie(),W.get("api/app/notifications")}async Changestatus(){return await $.getCookie(),W.get("api/app/changestatus")}}var _e=new ye,ke=r(6797),Ce=r.n(ke),De=r(6562);const Se={class:"tw-relative"},Ue={key:0,class:"!tw-duration-100"},ze={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[350px] tw-min-h-[50px]"},qe=(0,s._)("p",{class:"tw-p-2 tw-text-lg"},"Notifications",-1),Pe={key:0},Le={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},We={key:1},Ae={key:0},$e=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),Ee=[$e],Te={class:"tw-text-sm"},je={class:"tw-ml-auto tw-mt-2 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},Fe={class:"tw-flex tw-justify-evenly tw-items-center tw-p-2"};var Ve={__name:"GlobalNotification",setup(t){const e=(0,i.oR)(),r=(0,ve.iH)(!1),a=(0,ve.iH)(!1),l=()=>{r.value=!r.value},o=()=>{r.value=!1},n=t=>{switch(t.priority){case"low":return"tw-bg-blue-50";case"medium":return"tw-bg-orange-100";case"high":return"tw-bg-red-100";default:return"tw-bg-gray-50"}},d=()=>{_e.notifications().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setData",t.data.data),e.dispatch("app/setCount",t.data.count),e.dispatch("app/sethighlighted",t.data.highlighted))})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))},c=()=>{_e.Changestatus().then((t=>{"SUCCESS"==t.data.code&&e.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))};(0,s.bv)((()=>{d()}));const u=(0,s.Fl)((()=>e.getters["app/notifications"]));return(t,e)=>{const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",Se,[(0,s.Wm)(ot.T,{onClick:l,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(ae.f,{width:"22",height:"22",src:(0,ve.SU)(w)+"assets/img/icons/notification-bing.svg"},null,8,["src"]),a.value&&(0,ve.SU)(u).count>0?((0,s.wg)(),(0,s.j4)(De.G,{key:0,class:"tw-animate-bounce tw-scale-50",floating:"","offset-y":"20","offset-x":"5",color:"red",bordered:!0,location:"bottom right",content:(0,ve.SU)(u).count},null,8,["content"])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(jt.Z5,null,{default:(0,s.w5)((()=>[r.value?((0,s.wg)(),(0,s.iD)("div",Ue,[(0,s._)("div",ze,[qe,a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Pe,[(0,s._)("div",Le,[(0,s.Wm)(wt.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),a.value?((0,s.wg)(),(0,s.iD)("div",We,[""==(0,ve.SU)(u).data?((0,s.wg)(),(0,s.iD)("div",Ae,Ee)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(u).data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",{class:(0,lt.C_)([n(t),"tw-p-2 tw-border-y tw-flex tw-flex-col tw-border-neutral-100"])},[(0,s.Wm)(i,{to:`/sourcings/${t.action}`},{default:(0,s.w5)((()=>[(0,s._)("p",Te,(0,lt.zw)(t.message),1)])),_:2},1032,["to"]),(0,s._)("div",je,(0,lt.zw)((0,ve.SU)(Ce())(t.created_at).fromNow()),1)],2)])))),128)),(0,s._)("div",Fe,[(0,s.Wm)(i,{to:"/notifications"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:e[0]||(e[0]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("View All")])),_:1})])),_:1}),(0,s.Wm)(ot.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:c},{default:(0,s.w5)((()=>[(0,s.Uk)("Mark all as Read")])),_:1})])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),_:1})])),[[se.L,o]])}}};const Ie=Ve;var Oe=Ie;class He{async update(t,e){return await $.getCookie(),W.post("api/factorisations/update/"+t,{factorisation_id:e.factorisation_id,delivery_id:e.delivery_id,price:e.price,commands_number:e.commands_number})}async updateComment(t,e){return await $.getCookie(),W.post("api/factorisations/update/comment/"+t,{comment:e.comment})}async updateMethod(t,e){return await $.getCookie(),W.post("api/v1/factorisation/update/"+t+"/method",{withdrawal_method_id:e})}async updatePaid(t,e){return await $.getCookie(),W.post("api/factorisations/update/payment/"+t,{paid:e})}async updateClose(t,e){return await $.getCookie(),W.post("api/factorisations/update/closing/"+t,{close:e})}async updateFees(t,e){return await $.getCookie(),W.post("api/factorisations/update/fees/"+t,{fees:e})}async uploadImage(t,e){return await $.getCookie(),L.post("api/factorisations/update/"+t+"/attachement",e)}async sumToBePaid(){return await $.getCookie(),W.get("api/v1/factorisation/sum")}async delete(t){return await $.getCookie(),W["delete"]("api/v1/factorisation/delete/"+t)}async paginate(t="/",e){return await $.getCookie(),W.post("api/v1/factorisation"+t,e)}async history(t){return await $.getCookie(),W.get("api/v1/factorisation/"+t+"/history")}}var Me=new He;const Re={key:0,class:"tw-text-emerald-600 tw-text-sm tw-font-semibold tw-rounded"},Ne={key:1};var Ye={__name:"ToBePaid",setup(t){const e=(0,i.oR)(),r=(0,ve.iH)(!1),a=()=>{Me.sumToBePaid().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("app/settobepaid",t.data.data.totalPrice),console.log(parseFloat(t.data.data.totalPrice).toFixed(2)))})).catch((t=>{console.error("API Error",t)})).finally((()=>{r.value=!0}))};(0,s.bv)((()=>{a()}));const l=(0,s.Fl)((()=>e.getters["app/factorisations"]));return(t,e)=>r.value?((0,s.wg)(),(0,s.iD)("div",Re,(0,lt.zw)((0,ve.SU)(c))+(0,lt.zw)(parseFloat((0,ve.SU)(l).tobepaid).toFixed(2)),1)):((0,s.wg)(),(0,s.iD)("div",Ne,[(0,s.Wm)(wt.t,{size:"medium",class:"tw-animate-spin",color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}};const Ze=Ye;var Ke=Ze,Be={emits:["toggleSidebar"],components:{HeaderMenu:xe,GlobalNotification:Oe,ToBePaid:Ke},data(){return{localUrl:w}},computed:{},methods:{handleClick(){this.$emit("toggleSidebar")}}};const Qe=(0,g.Z)(Be,[["render",te]]);var Je=Qe,Ge=r(9457),Xe=r(2329),tr=r(9657);const er={class:"tw-h-[60px] tw-flex tw-items-center tw-justify-center tw-max-w-[200px]"},rr=["src"];function ar(t,e,r,a,l,o){const i=(0,s.up)("SidebarItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(tr.V,{modelValue:l.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>l.drawer=t),location:"left",absolute:!1,class:"!tw-top-0 !tw-fixed"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ge.l,{class:"tw-py-3"},{default:(0,s.w5)((()=>[(0,s._)("div",er,[(0,s._)("img",{class:"tw-w-full",src:l.localUrl+"images/logo.png"},null,8,rr)])])),_:1}),(0,s.Wm)(Xe.i,{class:"mt-2",nav:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.links,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,link:t},null,8,["link"])))),128))])),_:1})])),_:1},8,["modelValue"])])}const sr=[4,6,7],lr=[{id:1,title:"Dashboard",module:"dashboard",hasChildren:!0,gate:"all",icon:{type:"icon",value:"mdi-chart-box-outline"},children:[{id:1,title:"Overview",subModule:"dashboard/dashboard",gate:"all",to:"/"},{id:2,title:"Finance",subModule:"dashboard/analytics",role:["admin"],to:"/analytics"}]},{id:1,title:"Analytics",module:"analytics",hasChildren:!0,role:["admin"],icon:{type:"icon",value:"mdi-chart-arc"},children:[{id:1,title:"Sellers",subModule:"analytics.admin.sellers",gate:"all",to:"/admin/analytics/sellers"}]},{id:2,module:"sourcing",title:"Sourcing",hasChildren:!0,role:["admin","seller"],icon:{type:"icon",value:"mdi-truck-outline"},children:[{id:1,title:"Request a new product",subModule:"sourcing/new",role:["seller"],to:"/sourcings/new"},{id:2,title:"All Requests",subModule:"sourcing/index",role:["seller","admin"],to:"/sourcings"}]},{id:2,module:"product",title:"Product",hasChildren:!0,gate:"access_to_products",icon:{type:"svg",value:"assets/img/icons/product.svg"},children:[{id:1,title:"Products List",subModule:"product/list",gate:"show_all_products",to:"/products"},{id:2,title:"New Products List",subModule:"product/newlist",gate:"show_all_products",to:"/newproducts"},{id:3,title:"Add Product",subModule:"product/add",gate:"create_product",to:"/products/add"},{id:4,title:"Supply Requests",subModule:"product/seller/request",gate:"access_to_seller_sales",to:"/products/seller/request"},{id:5,title:"Supply Requests",subModule:"product/admin/request",gate:"access_to_sales",to:"/products/admin/request"}]},{id:3,module:"track",title:"Tracking",hasChildren:!0,gate:"none",icon:{type:"icon",value:"mdi-radar"},children:[{id:1,title:"Deliveries",subModule:"track/delivery",gate:"none",to:"/tracking/delivery"}]},{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Sales list",subModule:"sale/list",gate:"show_all_sales",to:"/sales"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]},{id:10,module:"sellersale",title:"Seller Sales",hasChildren:!0,gate:"access_to_seller_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Seller Sales",subModule:"seller/list",gate:"show_seller_sales",to:"/seller/list"}]},{id:5,module:"factorisation",title:"Factorisation",hasChildren:!0,gate:"access_to_factorisations",icon:{type:"icon",value:"mdi-note-multiple"},children:[{id:1,title:"Factorisation list",subModule:"factorisation/list",gate:"show_all_factorisations",to:"/factorisations"}]},{id:20,module:"ads",title:"Ads",hasChildren:!0,gate:"access_to_ads",icon:{type:"icon",value:"mdi-google-ads"},children:[{id:1,title:"Ads list",subModule:"ads/list",gate:"show_all_factorisations",to:"/ads"}]},{id:10,module:"affiliate",title:"Affiliate",hasChildren:!0,gate:"access_to_affiliate",role:["admin","seller"],icon:{type:"icon",value:"mdi-bookshelf"},children:[{id:1,title:"All Products",subModule:"affiliate.admin.list",to:{name:"affiliate.admin.list"}},{id:2,title:"Create new product",subModule:"affiliate.admin.create",role:["admin"],gate:"create_affiliate_product",to:{name:"affiliate.admin.create"}},{id:3,title:"Winning Products",subModule:"affiliate.index",role:["admin","seller"],gate:"access_to_affiliate",to:{name:"affiliate.index"}},{id:4,title:"Import list",subModule:"affiliate.import",role:["admin","seller"],gate:"access_to_affiliate",to:{name:"affiliate.import"}},{id:5,title:"My wishlist",subModule:"affiliate.wishlist",role:["admin","seller"],gate:"access_to_affiliate",to:{name:"affiliate.wishlist"}}]},{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Order",subModule:"order/show",gate:"show_all_orders",to:"/order"},{id:2,title:"My Orders",subModule:"order/list",gate:"show_all_orders",to:"/orders"},{id:3,title:"Confirmed Orders",subModule:"order/confirmed",gate:"show_all_orders",to:"/orders/confirmed"}]},{id:7,module:"delivery",title:"Orders",hasChildren:!0,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders List",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries"},{id:2,title:"Orders Delivered",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered"}]},{id:8,module:"inventory",title:"Inventory",hasChildren:!0,gate:"access_to_inventory x",icon:{type:"icon",value:"mdi-warehouse"},children:[{id:1,title:"Inventory State",gate:"show_all_inventory_states",subModule:"inventory/state",to:"/inventories"},{id:2,title:"Inventory Movements",gate:"show_all_inventory_movements",subModule:"inventory/movements",to:"/inventories/movements"},{id:4,title:"Add Movement",gate:"create_inventory_movement",subModule:"inventory/add",to:"/inventories/add"}]},{id:9,module:"shop",title:"Shop",hasChildren:!0,gate:"access_to_shop",icon:{type:"icon",value:"mdi-store"},children:[{id:1,title:"Shop List",gate:"show_all_shops",subModule:"shop/list",to:"/shops"},{id:2,title:"Add Shop",gate:"create_shop",subModule:"shop/add",to:"/shops/add"}]},{id:10,module:"warehouse",title:"Warehouses",hasChildren:!0,gate:"access_to_warehouse",icon:{type:"icon",value:"mdi-home-group"},children:[{id:1,title:"Warehouses list",subModule:"warehouse/list",gate:"show_all_warehouses",to:"/warehouses"}]},{id:11,title:"Users",module:"user",gate:"access_to_users",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/users1.svg"},children:[{id:1,title:"Users List",subModule:"user/list",gate:"show_all_users",to:"/users"},{id:2,title:"Add User",subModule:"user/add",gate:"create_user",to:"/users/add"},{id:3,title:"Roles List",subModule:"user/roles",gate:"show_all_roles",to:"/users/roles"},{id:4,title:"Add Role",subModule:"user/addRole",gate:"create_role",to:"/users/addRole"}]},{id:15,title:"Sheets",module:"sheets",to:"/sheets",gate:"access_to_sheets",hasChildren:!1,icon:{type:"icon",value:"mdi-note-text-outline"}},{id:15,title:"Alerts",module:"alert",role:["admin"],to:"/alerts",icon:{type:"icon",value:"mdi-bell-alert-outline"}},{id:16,title:"Scanner",module:"scanner",to:"/scanner",role:"admin",gate:"stock_management",hasChildren:!1,icon:{type:"icon",value:"mdi-qrcode"}},{id:12,title:"Settings",module:"settings",role:["admin","seller"],hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/settings.svg"},children:[{id:1,title:"Cron Jobs",subModule:"settings/cronJobs",role:"admin",to:"/settings/cronJobs"},{id:2,title:"Account",subModule:"settings/account",role:"admin",to:"/settings/account"},{id:3,title:"Withdrawal methods",subModule:"settings/account",role:["admin","seller"],to:{name:"settings.seller.withdrawal-methods"}}]},{id:13,title:"Orders",module:"followup",to:"/followup",hasChildren:!1,gate:"follow_up_orders",icon:{type:"icon",value:"mdi-package-variant-closed"}}];var or=r(9234),ir=r(2127);const wr={key:0},nr={class:"d-flex align-center"},dr={class:"tw-rounded-md tw-bg-gray-50"},cr={class:"tw-h-full py-2"},ur={key:1},pr={key:2},gr={key:3};function mr(t,e,r,a,l,o){const i=(0,s.up)("SidebarSales"),w=(0,s.up)("SidebarDelivery"),n=(0,s.up)("SidebarAgente");return(0,s.wg)(),(0,s.iD)("div",null,[!t.$can(r.link.gate)&&!r.link.role?.includes(o.user.role)&&"all"!=r.link.gate||l.disabled_links.includes(r.link.id)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",wr,[(0,s.Wm)(Ge.l,{class:(0,lt.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.link.hasChildren?"":r.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",nr,["icon"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,icon:r.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(ae.f,{key:1,src:l.localUrl+r.link.icon.value,"max-width":"18",class:(0,lt.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(ir.V,{class:(0,lt.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,lt.zw)(r.link.title)},null,8,["class","textContent"]),(0,s.Wm)(or.C),r.link.hasChildren?((0,s.wg)(),(0,s.j4)(wt.t,{key:2,class:(0,lt.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),r.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",dr,[(0,s.Wm)(Xe.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(Ge.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",cr,[(0,s.Wm)(wt.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,lt.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,lt.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])),4==r.link.id?((0,s.wg)(),(0,s.iD)("div",ur,[(0,s.Wm)(i)])):(0,s.kq)("",!0),7==r.link.id?((0,s.wg)(),(0,s.iD)("div",pr,[(0,s.Wm)(w)])):(0,s.kq)("",!0),8==r.link.id?((0,s.wg)(),(0,s.iD)("div",gr,[(0,s.Wm)(n)])):(0,s.kq)("",!0)])}const hr={key:0},fr={class:"d-flex align-center"},br={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},xr={key:1,class:"tw-text-xs"},vr={class:"tw-rounded-md tw-bg-gray-50"},yr={class:"tw-h-full py-2"};function _r(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",hr,[(0,s.Wm)(Ge.l,{class:(0,lt.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:l.link.hasChildren?"":l.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",fr,["icon"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,icon:l.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(ae.f,{key:1,src:l.localUrl+l.link.icon.value,"max-width":"18",class:(0,lt.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(ir.V,{class:(0,lt.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,lt.zw)(l.link.title)},null,8,["class","textContent"]),(0,s._)("div",br,[(l.isLoaded,(0,s.kq)("",!0)),(l.isLoaded,(0,s.wg)(),(0,s.iD)("p",xr,(0,lt.zw)(o.count),1))]),(0,s.Wm)(or.C),l.link.hasChildren?((0,s.wg)(),(0,s.j4)(wt.t,{key:2,class:(0,lt.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),l.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",vr,[(0,s.Wm)(Xe.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(Ge.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",yr,[(0,s.Wm)(wt.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,lt.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,lt.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var kr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:4,title:"New Sales list",subModule:"sale/newlist",gate:"show_all_sales",to:"/sales/new"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},sales(){return this.$store.getters["sale/sales"]},count(){return this.$store.getters["sale/count"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Cr=(0,g.Z)(kr,[["render",_r],["__scopeId","data-v-419eeb7c"]]);var Dr=Cr;const Sr={key:0},Ur={class:"d-flex align-center"},zr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},qr={key:1,class:"tw-text-xs"};function Pr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",Sr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(Ge.l,{class:(0,lt.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Ur,[(0,s.Wm)(wt.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(ir.V,{class:(0,lt.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,lt.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(or.C),(0,s._)("div",zr,[o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(wt.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.fetched?((0,s.wg)(),(0,s.iD)("p",qr,(0,lt.zw)(1==r.id?o.orders.length-o.deliveredOrders.length:o.deliveredOrders.length),1)):(0,s.kq)("",!0)])])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}class Lr{async delivery(){return await $.getCookie(),W.get("api/dashboard/delivery")}async agente(){return await $.getCookie(),W.get("api/dashboard/agente")}}var Wr=new Lr,Ar={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:7,module:"delivery",title:"Orders",hasChildren:!1,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries",icon:"mdi-truck"},{id:2,title:"Delivered Orders",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered",icon:"mdi-truck-check"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path},getOrders(){return this.isLoaded=!1,Wr.delivery().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("order/setAllOrders",e),this.$store.dispatch("order/setFetched",!0),this.isLoaded=!0}console.log(t)})).catch(this.$handleApiError)}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},orders(){return this.$store.getters["order/allOrders"].filter((t=>"confirmer"==t.confirmation))},deliveredOrders(){return this.orders.filter((t=>"livrer"==t.delivery))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive(),this.$can(this.link.gate)&&this.getOrders()}};const $r=(0,g.Z)(Ar,[["render",Pr],["__scopeId","data-v-69fa82e9"]]);var Er=$r;const Tr={key:0},jr={class:"d-flex align-center"},Fr={key:0,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Vr={key:1,class:"tw-text-xs"},Ir={key:1,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Or={key:1,class:"tw-text-xs"};function Hr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",Tr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(Ge.l,{class:(0,lt.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",jr,[(0,s.Wm)(wt.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(ir.V,{class:(0,lt.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,lt.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(or.C),1!=r.id?((0,s.wg)(),(0,s.iD)("div",Fr,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(wt.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Vr,(0,lt.zw)(4==r.id?o.state.totalNotConfirmed:o.state.totalConfirmed),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),1==r.id?((0,s.wg)(),(0,s.iD)("div",Ir,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(wt.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Or,(0,lt.zw)(o.state.totalAvailable),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}var Mr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Add Order",subModule:"agent/orders/add",gate:"show_all_orders",to:"/agent/orders/add",icon:"mdi-plus-box"},{id:4,title:"Orders",subModule:"agent/orders",gate:"show_all_orders",to:"/agent/orders",icon:"mdi-package-variant-closed"},{id:5,title:"Confirmed Orders",subModule:"agent/orders/confirmed",gate:"show_all_orders",to:"/agent/orders/confirmed",icon:"mdi-checkbox-marked"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},state(){return this.$store.getters["agent/state"]},orders(){return this.$store.getters["order/allOrders"]},myOrders(){return this.orders.filter((t=>"confirmer"!=t.confirmation))},confirmedOrders(){return this.orders.filter((t=>"confirmer"==t.confirmation))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Rr=(0,g.Z)(Mr,[["render",Hr],["__scopeId","data-v-26146d6f"]]);var Nr=Rr,Yr={props:["link"],components:{SidebarSales:Dr,SidebarDelivery:Er,SidebarAgente:Nr},data(){return{localUrl:w,disabled_links:sr,isActive:!1}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to||this.$route.name==t.to?.name},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate||t.role?.includes(this.user.role)))},user(){return this.$store.getters["user/user"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Zr=(0,g.Z)(Yr,[["render",mr],["__scopeId","data-v-5df4c53a"]]);var Kr=Zr,Br={components:{SidebarItem:Kr},props:["active"],data(){return{localUrl:w,drawer:!0,links:lr}},computed:{},watch:{active(){this.drawer=!this.drawer}},methods:{},mounted(){this.$vuetify.display.mdAndDown&&(this.drawer=!1)}};const Qr=(0,g.Z)(Br,[["render",ar]]);var Jr=Qr;const Gr={key:0,class:"tw-space-y-2 tw-mb-5 tw-opacity-100"},Xr=["dir"],ta={class:"tw-flex tw-items-start"},ea={class:"tw-p-2"},ra={class:"tw-p-2"},aa={class:"tw-text-white tw-font-semibold"},sa={key:0,class:"tw-flex-1"},la={key:1,class:"tw-pt-2 tw-pr-2"},oa=["onClick"];var ia={__name:"AppAnnonces",setup(t){const e=(0,s.Fl)((()=>et.getters["app/alerts"])),r=(0,s.Fl)((()=>et.getters["user/user"])),l=(0,ve.iH)([]),o=(0,s.Fl)((()=>e.value.data.filter((t=>!l.value.includes(r.value.id+"*"+t.id))))),i=t=>{l.value.push(r.value.id+"*"+t),localStorage.setItem("closed_alerts",JSON.stringify(l.value))},w=()=>{const t=localStorage.getItem("closed_alerts");null==t?localStorage.setItem("closed_alerts",JSON.stringify([])):l.value=JSON.parse(t)};return w(),(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(a.uT,{class:"tw-duration-500","enter-from-class":"!tw-opacity-0","leave-to-class":"!tw-opacity-0"},{default:(0,s.w5)((()=>[(0,ve.SU)(e).fetched&&(0,ve.SU)(o).length?((0,s.wg)(),(0,s.iD)("div",Gr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(o),(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,dir:t.direction,class:(0,lt.C_)([["danger"==t.variant&&"tw-bg-rose-500","info"==t.variant&&"tw-bg-cyan-500","warning"==t.variant&&"tw-bg-amber-500","success"==t.variant&&"tw-bg-emerald-500"],"tw-h-fit tw-w-full tw-border tw-border-solid"])},[(0,s._)("div",ta,[(0,s._)("div",ea,[(0,s.Wm)(l,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl tw-text-white"})]),(0,s._)("div",ra,[(0,s._)("p",aa,(0,lt.zw)(t.content),1)]),t.closeable?((0,s.wg)(),(0,s.iD)("div",sa)):(0,s.kq)("",!0),t.closeable?((0,s.wg)(),(0,s.iD)("div",la,[(0,s._)("button",{onClick:e=>i(t.id),class:"tw-p-1 hover:tw-bg-white/10 tw-duration-200 tw-rounded-full"},[(0,s.Wm)(l,{icon:"iconamoon:close-duotone",class:"tw-text-white tw-text-lg"})],8,oa)])):(0,s.kq)("",!0)])],10,Xr)))),128))])):(0,s.kq)("",!0)])),_:1})}}};const wa=ia;var na=wa;class da{async paginate(t="",e){return await $.getCookie(),W.get("api/alerts"+t,{params:e})}async alerts(){return await $.getCookie(),W.get("api/my-alerts")}async create(t){return await $.getCookie(),W.post("api/alerts",t)}async update(t,e){return await $.getCookie(),W.post("api/alerts/"+t,e)}async get(t){return await $.getCookie(),W.get("api/alerts/"+t)}async delete(t){return await $.getCookie(),W["delete"]("api/alerts/"+t)}}var ca=new da;class ua{async paginate(t="/",e){return await $.getCookie(),W.post("api/v1/products"+t,e)}async create(t){await $.getCookie();const e=new FormData;return e.append("name",t.name),e.append("buying_price",t.buyingPrice),e.append("selling_price",t.sellingPrice),e.append("ref",t.reference),e.append("link_video",t.link_video),e.append("link_store",t.link_store),e.append("transport_mode",t.transport_mode),e.append("expedition_date",t.expedition_date),e.append("country_of_purchase",t.country_of_purchase),e.append("variations",JSON.stringify(t.variants)),e.append("offers",JSON.stringify(t.offers)),e.append("description",t.description),e.append("image",t.image),e.append("deliveries",JSON.stringify(t.selectedDeliveries)),L.post("api/products/new",e)}async update(t,e){await $.getCookie();const r=new FormData;return r.append("name",e.name),r.append("buying_price",e.buyingPrice),r.append("selling_price",e.sellingPrice),r.append("ref",e.reference),r.append("link_video",e.link_video),r.append("link_store",e.link_store),r.append("transport_mode",e.transport_mode),r.append("expedition_date",e.expedition_date),r.append("country_of_purchase",e.country_of_purchase),r.append("variations",JSON.stringify(e.variants)),r.append("offers",JSON.stringify(e.offers)),r.append("description",e.description),r.append("image",e.image),r.append("deliveries",JSON.stringify(e.selectedDeliveries)),L.post("api/products/update/"+t,r)}async updateStatus(t,e){await $.getCookie();const r=new FormData;return r.append("status",e.status),r.append("note",e.note),L.post("api/products/status/update/"+t,r)}async all(){return await $.getCookie(),W.get("api/products")}async allForOrder(t){return await $.getCookie(),W.get("api/products/for-order/"+t)}async getProduct(t){return await $.getCookie(),W.get("api/products/"+t)}async delete(t){return await $.getCookie(),W["delete"]("api/products/delete/"+t)}async stockAlert(){return await $.getCookie(),W.get("api/product/stockAlert")}}var pa=new ua;class ga{async all(){return await $.getCookie(),W.get("api/sales")}async delete(t){return await $.getCookie(),W.get("api/sales/delete/"+t)}async update(t,e){return await $.getCookie(),W.post("api/orders/update/"+t,e)}async create(t){return await $.getCookie(),W.post("api/sales/new",t)}async getNewOrders(t){return await $.getCookie(),W.post("api/sales/fresh",{ids:t})}async agenteOrders(){return await $.getCookie(),W.get("api/orders")}async agenteConfirmedOrders(){return await $.getCookie(),W.get("api/orders/confirmer")}async agenteAddOrder(){return await $.getCookie(),W.get("api/orders/add")}async agenteGetOrder(){return await $.getCookie(),W.get("api/orders/toconfirmate")}async agenteUpdateConfirmation(t,e,r={}){return await $.getCookie(),W.post("api/orders/update/confirmation/"+t,{confirmation:e,...r})}async agenteUpdateConfirmationWithNote(t,e,r){return await $.getCookie(),W.post("api/orders/update/confirmationandnote/"+t,{confirmation:e,note:r})}async agenteUpdateUpsell(t,e){return await $.getCookie(),W.post("api/orders/update/upsell/"+t,{upsell:e})}async agenteUpdateAffectaion(t,e){return await $.getCookie(),W.post("api/orders/update/affectation/"+t,{affectation:e})}async agenteUpdateNote(t,e){return await $.getCookie(),W.post("api/orders/update/note/"+t,{note:e})}async deliveryOrders(){return await $.getCookie(),W.get("api/orders/todelivery")}async deliveryDeliveredOrders(){return await $.getCookie(),W.get("api/orders/delivred")}async deliveryUpdateDelivery(t,e,r){return await $.getCookie(),W.post("api/orders/update/delivery/"+t,{delivery:e,...r})}async history(t){return await $.getCookie(),W.get("api/orders/history/show/"+t)}async itemHistory(t){return await $.getCookie(),W.get("api/orders/item/history/show/"+t)}async resetSale(t){return await $.getCookie(),W.post("api/sales/reset",{ids:t})}async scanSale(t){return await $.getCookie(),W.post("api/sales/scan",t)}async availableOrders(){return await $.getCookie(),W.get("api/orders/count")}async warehouseControl(t,e){return await $.getCookie(),W.post("api/warehouse-control",{id:t,target:e.target,scanned:e.scanned})}}var ma=new ga;const ha={key:0,class:"tw-w-[400px] tw-fixed tw-top-[70px] !tw-z-[510000] tw-right-[5px]"},fa={class:"tw-flex tw-items-center tw-justify-between tw-text-neutral-400 tw-mt-2"},ba={class:"tw-text-xs"},xa=["disabled"],va=(0,s._)("div",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap tw-ml-[70%]"},null,-1);var ya={__name:"AlertNotification",setup(t){const e=(0,ve.iH)(!0),r=(0,i.oR)(),a=(0,ve.iH)(!1),l=async()=>{a.value=!0,await _e.Changestatus().then((t=>{"SUCCESS"==t.data.code&&r.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})),e.value=!1,a.value=!1},o=(0,s.Fl)((()=>r.getters["app/notifications"].highlighted));return(t,r)=>((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,ve.SU)(o)&&e.value?((0,s.wg)(),(0,s.iD)("div",ha,[(0,s.Wm)(Tt.w,{color:"white",border:"start","border-color":"success",elevation:"2",density:"compact"},{text:(0,s.w5)((()=>[(0,s._)("p",null,(0,lt.zw)((0,ve.SU)(o).message),1),(0,s._)("div",fa,[(0,s._)("span",ba,(0,lt.zw)((0,ve.SU)(Ce())((0,ve.SU)(o).created_at).fromNow()),1),(0,s._)("button",{disabled:a.value,onClick:l,class:"tw-p-0.5 tw-px-4 hover:tw-bg-neutral-100 tw-text-sm"},(0,lt.zw)(a.value?"Closing...":"Close"),9,xa)])])),default:(0,s.w5)((()=>[va])),_:1})])):(0,s.kq)("",!0)]))}};const _a=ya;var ka=_a,Ca={components:{AppHeader:Je,AppSidebar:Jr,Alert:Mt,AlertNotification:ka,AppAnnonces:na},data(){return{drawer:!1,subscribed:!1,fetching:null,delay:6e4,showScrollUpButton:!1,firstFetch:!1}},computed:{isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},sales(){return this.$store.getters["sale/sales"]},salesFetched(){return this.$store.getters["sale/fetched"]}},methods:{toggleSidebar(){this.drawer=!this.drawer},checkScroll(){this.showScrollUpButton=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},async getCities(){if(0==this.cities.length||1!=localStorage.getItem("update_cities"))return at.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e),localStorage.setItem("update_cities",1)}))},getUsers(){at.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return pa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getSales(){return this.isLoaded=!1,ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)},async fetchNewOrders(){if(this.salesFetched||!this.firstFetch){const t=this.sales.map((t=>t.id));return ma.getNewOrders(t).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders,r=t.data.data.count;this.$store.dispatch("sale/setCount",r),e.length>0&&(this.$store.dispatch("sale/addSales",e),this.$alert({type:"info",title:e.length+" New orders has been added"})),this.firstFetch=!0}}))}},async getAlerts(){return ca.alerts().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.alerts;this.$store.dispatch("app/setAlertsData",e),this.$store.dispatch("app/setAlertsFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}},watch:{$route(){"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts")}},mounted(){this.getCities(),this.getAlerts(),"admin"==this.user.role&&this.fetchNewOrders(),this.$can("show_all_products")&&this.getProducts(),"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts"),this.getUsers(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll)}};const Da=(0,g.Z)(Ca,[["render",Qt]]);var Sa=Da;const Ua={key:0};function za(t,e,r,a,l,o){return l.exists?((0,s.wg)(),(0,s.iD)("div",Ua,[((0,s.wg)(),(0,s.j4)((0,s.LL)(o.dashboard)))])):(0,s.kq)("",!0)}var qa=r(6824),Pa=r(8521);const La={key:0},Wa={key:1},Aa=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),$a={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Ea={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Ta={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},ja=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),Fa=["disabled"],Va={key:0,class:"tw-flex tw-items-center tw-gap-2"},Ia={key:1},Oa=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Ha={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Ma(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable"),n=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",La,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Wa,[Aa,(0,s._)("div",$a,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1})]),(0,s._)("div",Ea,[(0,s._)("div",Ta,[ja,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Va,[(0,s.Wm)(wt.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Ia,[Oa,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,Fa)])]),(0,s._)("div",Ha,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Ra=r(4286);const Na={class:"tw-flex tw-items-center"},Ya={class:"tw-flex tw-flex-col tw-h-full tw-text-neutral-600"},Za={class:"tw-text-lg tw-font-bold"},Ka={class:"tw-text-sm"};function Ba(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(Ra.C,{class:"tw-rounded-lg tw-border pa-5 py-2",color:"white",height:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",Na,[(0,s._)("div",{class:(0,lt.C_)([o.bgColor,"pa-3 rounded-circle tw-w-fit tw-mr-3"])},[(0,s.Wm)(wt.t,{color:r.dash.color,size:"large",icon:r.dash.icon},null,8,["color","icon"])],2),(0,s._)("div",Ya,[(0,s._)("p",Za,(0,lt.zw)(r.dash.value),1),(0,s.Wm)(or.C),(0,s._)("p",Ka,(0,lt.zw)(r.dash.title),1)])])])),_:1})}var Qa={props:["dash"],computed:{bgColor(){const t={orange:"tw-bg-orange-500/10",green:"tw-bg-green-500/10",blue:"tw-bg-blue-500/10",pink:"tw-bg-pink-500/10",red:"tw-bg-red-500/10",yellow:"tw-bg-yellow-500/10"};return t[this.dash.color]}}};const Ja=(0,g.Z)(Qa,[["render",Ba]]);var Ga=Ja;const Xa={key:0,class:""},ts={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},es=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),rs=[es],as={key:1,class:"tw-min-h-[50px]"},ss={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},ls={class:"py-2 px-3 tw-rounded tw-border tw-grid tw-grid-cols-12"},os={class:"tw-col-span-12 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},is={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs"},ws={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},ns=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-red-400"},null,-1),ds={key:1},cs={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},us=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),ps={key:1,class:"tw-flex tw-items-center tw-gap-2"},gs=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-yellow-400"},null,-1);function ms(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Xa,[(0,s._)("div",ts,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},rs))),64))])])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",as,[(0,s._)("div",ss,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",ls,[(0,s._)("div",os,(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),1),(0,s._)("div",is,[t.last_action?((0,s.wg)(),(0,s.iD)("div",ds,[1==o.isOnline(o.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",cs,[us,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",ps,[gs,(0,s.Uk)(" "+(0,lt.zw)(o.lastSeen(t.last_action)),1)]))])):((0,s.wg)(),(0,s.iD)("div",ws,[ns,(0,s.Uk)(" Never Connected ")]))])])])))),128))]),(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var hs=r(8777),fs={components:{},data(){return{isLoaded:!1}},computed:{users(){return this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name))}},methods:{getUsers(){at.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),console.log(t),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,hs.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const bs=(0,g.Z)(fs,[["render",ms]]);var xs=bs,vs=r(1489),ys=r(3144),_s=r(9870),ks=r(6161),Cs=r(4722);function Ds(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(vs._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(ys.d,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>l.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(_s.L,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(ks.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Cs.H,{key:t.id,value:t.id,transition:"fade-transition","reverse-transition":"fade-transition"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component),{"filtered-sales":r.filteredSales},null,8,["filtered-sales"]))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const Ss={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},Us={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},zs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},qs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ps={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ls={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ws={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},As={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function $s(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ss,[(0,s._)("div",Us,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",zs,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",qs,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Ps,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Ls,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",Ws,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",As,[(0,s.Wm)(i,{dash:o.transferSales},null,8,["dash"])])])])}const Es={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},Ts={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},js={class:"tw-text-xl tw-font-bold"},Fs={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},Vs={class:"tw-text-sm"},Is={class:"rounded-circle tw-w-fit tw-mr-3"};function Os(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Ra.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",Es,[(0,s._)("div",Ts,[(0,s._)("p",js,(0,lt.zw)(isNaN(r.dash.pourcentage)?"0.00%":r.dash.pourcentage)+" "+(0,lt.zw)(r.symbol),1),(0,s._)("span",Fs,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",Vs,(0,lt.zw)(r.dash.title),1)])]),(0,s._)("div",Is,[(0,s.Wm)(wt.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var Hs={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Ms=(0,g.Z)(Hs,[["render",Os]]);var Rs=Ms,Ns={components:{DashItemTwo:Rs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.sales.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"livrer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.delivery))).length,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"expidier"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-orange",icon:"mdi-truck"}},transferSales(){return{id:8,title:"Transferred",value:this.sales.filter((t=>"transfer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"transfer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"purple-darken-1",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},mounted(){ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Ys=(0,g.Z)(Ns,[["render",$s]]);var Zs=Ys;const Ks={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},Bs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Qs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Js={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Gs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Xs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},tl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},el={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},rl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function al(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ks,[(0,s._)("div",Bs,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Qs,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Js,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",Gs,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Xs,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",tl,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",el,[(0,s.Wm)(i,{dash:o.doubledSales},null,8,["dash"])]),(0,s._)("div",rl,[(0,s.Wm)(i,{dash:o.wrongNumberSales},null,8,["dash"])])])])}var sl={components:{DashItemTwo:Rs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",pourcentage:100,value:this.sales.length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>!t.confirmation)).length/this.sales.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.confirmation)).length/this.sales.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}},doubledSales(){return{id:8,title:"Doubled",pourcentage:(100*this.sales.filter((t=>"double"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"double"==t.confirmation)).length,color:"purple-accent-4",icon:"mdi mdi-selection-multiple"}},wrongNumberSales(){return{id:9,title:"Wrong Number",pourcentage:(100*this.sales.filter((t=>"wrong-number"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"wrong-number"==t.confirmation)).length,color:"purple-lighten-1",icon:"mdi mdi-phone-remove"}}},mounted(){ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const ll=(0,g.Z)(sl,[["render",al]]);var ol=ll,il={components:{DeliveryTab:Zs,ConfirmationTab:ol},props:["filteredSales"],data(){return{tab:1,tabs:[{id:1,name:"Confirmation",component:"ConfirmationTab"},{id:2,name:"Delivery",component:"DeliveryTab"}]}}};const wl=(0,g.Z)(il,[["render",Ds]]);var nl=wl;const dl={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4 py-5"},cl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ul={class:"tw-relative"},pl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},gl={class:"tw-relative"},ml={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},hl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agents",-1),fl={class:"tw-relative"},bl=(0,s._)("option",{value:"all"},"Select",-1),xl=["value"],vl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},yl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Deliveries",-1),_l={class:"tw-relative"},kl=(0,s._)("option",{value:"all"},"Select",-1),Cl=["value"],Dl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Sl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Cities",-1),Ul={class:"tw-relative"},zl=(0,s._)("option",{value:"all"},"Select",-1),ql=["value"],Pl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Ll=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Products",-1),Wl={class:"tw-relative"},Al=(0,s._)("option",{value:"all"},"Select",-1),$l=["value"],El={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Tl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Shops",-1),jl={class:"tw-relative"},Fl=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Vl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Il=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Sources",-1),Ol={class:"tw-relative"},Hl=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Ml={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Rl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),Nl={class:"tw-relative"},Yl=(0,s._)("option",{value:"all"},"Select",-1),Zl=(0,s._)("option",{value:"oui"},"Oui",-1),Kl=(0,s._)("option",{value:"non"},"Non",-1),Bl=[Yl,Zl,Kl];function Ql(t,e,r,l,o,i){const w=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",dl,[(0,s._)("div",cl,[(0,s._)("div",ul,[(0,s.Wm)(w,{name:"Created Date",filter:o.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>o.dateFilter=t)},null,8,["filter"])])]),(0,s._)("div",pl,[(0,s._)("div",gl,[(0,s.Wm)(w,{name:"Dropped Date",filter:o.droppedAtFilter,"onUpdate:filter":e[1]||(e[1]=t=>o.droppedAtFilter=t)},null,8,["filter"])])]),(0,s._)("div",ml,[hl,(0,s._)("div",fl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.agentFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[bl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,xl)))),128))],512),[[a.bM,o.agentFilter]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",vl,[yl,(0,s._)("div",_l,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[kl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,Cl)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Dl,[Sl,(0,s._)("div",Ul,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.cityFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[zl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,lt.zw)(t.name),9,ql)))),128))],512),[[a.bM,o.cityFilter]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Pl,[Ll,(0,s._)("div",Wl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Al,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,$l)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",El,[Tl,(0,s._)("div",jl,[Fl,(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Vl,[Il,(0,s._)("div",Ol,[Hl,(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ml,[Rl,(0,s._)("div",Nl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.upsellFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},Bl,512),[[a.bM,o.upsellFilter]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0)])}const Jl={class:"tw-text-sm tw-text-neutral-600"},Gl=["onClick"];function Xl(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Jl,(0,lt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,lt.zw)(t),9,Gl)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var to=r(1271),eo=r(2292),ro=r(1745),ao=r(4253),so=r(4819),lo=r(2143),oo={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,to.Z)(new Date,1),(0,to.Z)(new Date,1)]},{label:"This month",range:[(0,eo.Z)(new Date),(0,ro.Z)(new Date)]},{label:"Last month",range:[(0,eo.Z)((0,ao.Z)(new Date,1)),(0,ro.Z)((0,ao.Z)(new Date,1))]},{label:"This year",range:[(0,so.Z)(new Date),(0,lo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const io=(0,g.Z)(oo,[["render",Xl]]);var wo=io,no={components:{DateFilter:wo},props:["filters"],data(){return{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""],isLoaded:!1,dashItems:[{id:1,title:"Total Chiffres d'affaire",value:1200,icon:"mdi-currency-usd",color:"green"},{id:2,title:"Chiffres d'affaire versé",value:"35000 DH",icon:"mdi mdi-credit-card-check-outline",color:"orange"},{id:3,title:"Chiffres d'affaire non versé",value:600,icon:"mdi mdi-credit-card-remove-outline",color:"red"},{id:4,title:"Chiffres d'affaire en caisse",value:543,icon:"mdi mdi-bank",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},watch:{agentFilter(t){this.$emit("update:filters",{...this.filters,agentFilter:t})},deliveryFilter(t){this.$emit("update:filters",{...this.filters,deliveryFilter:t})},productFilter(t){this.$emit("update:filters",{...this.filters,productFilter:t})},cityFilter(t){this.$emit("update:filters",{...this.filters,cityFilter:t})},upsellFilter(t){this.$emit("update:filters",{...this.filters,upsellFilter:t})},dateFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,dateFilter:t})}},droppedAtFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,droppedAtFilter:t})}}},computed:{agents(){return this.$store.getters["user/agents"]},deliveries(){return this.$store.getters["user/deliveries"]},products(){return this.$store.getters["product/products"]},cities(){return this.$store.getters["city/cities"]}},mounted(){at.deliveries().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setDeliveries",e),this.isLoaded=!0}})).catch(this.$handleApiError),pa.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.products;console.log(t.data),this.$store.dispatch("product/setProducts",e),this.isLoaded=!0}})).catch(this.$handleApiError),at.cities().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("city/setCities",e),this.isLoaded=!0}})).catch(this.$handleApiError),at.agents().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setAgents",e),this.isLoaded=!0}})).catch(this.$handleApiError)}};const co=(0,g.Z)(no,[["render",Ql]]);var uo=co;const po=t=>{if(!t)return 0;const e=t.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return(parseFloat(t.price?t.price:0)+parseFloat(e)).toFixed(2)},go=t=>t?t.split("api/")[1]:null,mo=t=>JSON.parse(JSON.stringify(t));var ho={components:{DashItem:Ga,UsersTable:xs,TabSwitcher:nl,FilterTabs:uo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],w=this.filters.droppedAtFilter[1];return this.sales.filter((n=>{if("all"!==t&&parseInt(n.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(n.affectation)!=parseInt(e))return!1;if("all"!==s&&n.upsell!=s)return!1;if("all"!==r&&!n.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&n.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(n.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const g=new Date(n.dropped_at),m=g.getDate(),h=g.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&m<t)return!1}if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&m>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=po(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=po(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=po(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const fo=(0,g.Z)(ho,[["render",Ma]]);var bo=fo;const xo=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Dashboard")])],-1),vo={key:0},yo={key:1},_o={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ko={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},Co={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Do={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},So={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Uo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},zo={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-5"},qo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Po(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[xo,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vo,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",yo,[(0,s._)("div",_o,[(0,s._)("div",ko,[(0,s._)("div",Co,[(0,s.Wm)(w,{dash:o.earningsDash,symbol:"DH",numbers:!1},null,8,["dash"])]),(0,s._)("div",Do,[(0,s.Wm)(w,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",So,[(0,s.Wm)(w,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Uo,[(0,s.Wm)(w,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",zo,[(0,s.Wm)(w,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",qo,[(0,s.Wm)(w,{dash:o.canceledSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Lo={components:{DashItemTwo:Rs},data(){return{isLoaded:!0,orders:[],cities:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},totalSales(){return{id:1,title:"Total Orders",value:this.orders.length,pourcentage:100,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.filterByStatus("livrer").length,pourcentage:100*this.filterByStatus("livrer").length/this.orders.length,color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:231,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.filterByStatus("expidier").length,pourcentage:100*this.filterByStatus("expidier").length/this.orders.length,color:"primary-orange",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.filterByStatus("reporter").length,pourcentage:100*this.filterByStatus("reporter").length/this.orders.length,color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.filterByStatus("annuler").length,pourcentage:100*this.filterByStatus("annuler").length/this.orders.length,color:"red-accent-3",icon:"mdi mdi-cancel"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:this.earnings,color:"green-darken-4",icon:"mdi-currency-usd"}},earnings(){return this.orders.reduce(((t,e)=>null==e.factorisations||e.factorisations.paid||e.factorisations.close?t:t+e.factorisations.price),0)}},methods:{filterByStatus(t){return this.orders.filter((e=>e.delivery==t))},getOrders(){this.isLoaded=!1,Wr.delivery().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const Wo=(0,g.Z)(Lo,[["render",Po]]);var Ao=Wo;const $o=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Dashboard ")])],-1),Eo={key:0},To={key:1},jo={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Fo={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},Vo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Io={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Oo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ho={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Mo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ro={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},No={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Yo(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[$o,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Eo,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",To,[(0,s._)("div",jo,[(0,s._)("div",Fo,[(0,s._)("div",Vo,[(0,s.Wm)(w,{dash:o.earningsDash,symbol:l.currency,numbers:!1},null,8,["dash","symbol"])]),(0,s._)("div",Io,[(0,s.Wm)(w,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Oo,[(0,s.Wm)(w,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Ho,[(0,s.Wm)(w,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Mo,[(0,s.Wm)(w,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",Ro,[(0,s.Wm)(w,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",No,[(0,s.Wm)(w,{dash:o.upsellSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Zo={components:{DashItemTwo:Rs},data(){return{currency:c,isLoaded:!0,orders:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},totalSales(){return{id:1,title:"Total",pourcentage:0===this.orders.length?0:100,value:this.orders.filter((t=>"double"!=t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.orders.filter((t=>!t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>!t.confirmation)).length/this.orders.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.orders.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"confirmer"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.orders.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"reporter"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.orders.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"annuler"==t.confirmation)).length/this.orders.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},upsellSales(){return{id:6,title:"Upsell",value:this.orders.filter((t=>"oui"==t.upsell)).length,pourcentage:(100*this.orders.filter((t=>"oui"==t.upsell)).length/this.orders.length).toFixed(2),color:"#2563eb",icon:"mdi mdi-transfer-up"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:.7*this.orders.filter((t=>"oui"==t.upsell&&"livrer"==t.delivery)).length,color:"green-darken-4",icon:"mdi-currency-usd"}},noanswerSales(){return{id:6,title:"No Answer",value:this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.orders.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},methods:{filterByStatus(t){return this.orders.filter((e=>e.confirmation==t))},getOrders(){this.isLoaded=!1,Wr.agente().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const Ko=(0,g.Z)(Zo,[["render",Yo]]);var Bo=Ko;const Qo=(0,s._)("div",{class:"tw-w-full tw-rounded-lg tw-py-5 tw-px-5 tw-flex tw-flex-center tw-justify-center"},[(0,s._)("h1",{class:"tw-text-lg"},"Welcome to Dashboard !")],-1),Jo=[Qo];function Go(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,Jo)}var Xo={components:{},data(){return{dashItems:[{id:1,title:"Orders",value:1200,icon:"mdi-package-variant-closed",color:"orange"},{id:2,title:"Total Sales",value:"35000 DH",icon:"mdi-currency-usd",color:"green"},{id:3,title:"Orders Confirmed",value:600,icon:"mdi-phone-check-outline",color:"blue"},{id:4,title:"Orders Delivered",value:543,icon:"mdi-truck-check-outline",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role}}};const ti=(0,g.Z)(Xo,[["render",Go]]);var ei=ti;const ri={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},ai=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),si=[ai];function li(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ri,[l.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},si))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.dashes,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const oi={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},ii={class:"tw-flex tw-justify-between"},wi={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},ni={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},di={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},ci={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function ui(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",oi,[(0,s._)("div",ii,[(0,s._)("div",null,[(0,s._)("div",wi,[(0,s._)("p",ni,(0,lt.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,lt.j5)({background:r.color})},(0,lt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",di,[(0,s._)("span",ci,(0,lt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,lt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(wt.t,{style:(0,lt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var pi={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const gi=(0,g.Z)(pi,[["render",ui]]);var mi=gi;class hi{async statistics(){return await $.getCookie(),W.post("api/v1/followup/statistics")}async paginate(t="/",e){return await $.getCookie(),W.post("api/v1/followup/orders"+t,e)}async update(t,e){return await $.getCookie(),W.post("api/v1/followup/orders/"+t+"/update",e)}async create(t){return await $.getCookie(),W.post("api/v1/followup/orders/create",t)}}var fi=new hi,bi={components:{DashCard:mi},data(){return{fetching:!0,dashes:[]}},mounted(){fi.statistics().then((t=>{console.log(t.data.data),this.dashes=t.data.data.statistics,this.fetching=!1}))}};const xi=(0,g.Z)(bi,[["render",li]]);var vi=xi;const yi={key:0},_i={key:1},ki=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Ci={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Di={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Si={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},Ui=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),zi=["disabled"],qi={key:0,class:"tw-flex tw-items-center tw-gap-2"},Pi={key:1},Li=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Wi={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Ai(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable"),n=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yi,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",_i,[ki,(0,s._)("div",Ci,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1})]),(0,s._)("div",Di,[(0,s._)("div",Si,[Ui,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qi,[(0,s.Wm)(wt.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Pi,[Li,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,zi)])]),(0,s._)("div",Wi,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var $i={components:{DashItem:Ga,UsersTable:xs,TabSwitcher:nl,FilterTabs:uo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],w=this.filters.droppedAtFilter[1];return this.sales.filter((n=>{if("all"!==t&&parseInt(n.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(n.affectation)!=parseInt(e))return!1;if("all"!==s&&n.upsell!=s)return!1;if("all"!==r&&!n.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&n.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(n.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const g=new Date(n.dropped_at),m=g.getDate(),h=g.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&m<t)return!1}if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&m>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=po(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=po(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=po(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const Ei=(0,g.Z)($i,[["render",Ai]]);var Ti=Ei,ji={components:{admin:bo,delivery:Ao,agente:Bo,default:ei,seller:Ti,"follow-up":vi},data(){return{localUrl:w,exists:!1}},computed:{user(){return this.$store.getters["user/user"]},dashboard(){return["admin","seller","delivery","agente","follow-up"].includes(this.user.role)?this.user.role:"default"}},methods:{check(){switch(this.user.role){case"admin":this.$router.push({name:"dashboards/admin"});break;case"agente":this.$router.push({name:"dashboards/agent"});break;case"seller":this.$router.push({name:"dashboards/seller"});break;default:this.exists=!0;break}}},created(){this.check()}};const Fi=(0,g.Z)(ji,[["render",za]]);var Vi=Fi;const Ii={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Oi={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Hi={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Mi={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Ri=["disabled"],Ni=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Yi=(0,s._)("span",null," previous ",-1),Zi=[Ni,Yi],Ki=["disabled"],Bi=(0,s._)("span",null," Next ",-1),Qi=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Ji=[Bi,Qi];function Gi(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ii,[(0,s._)("div",Oi,[(0,s.Uk)(" Page "),(0,s._)("span",Hi,(0,lt.zw)(r.currentPage)+" of "+(0,lt.zw)(r.lastPage),1)]),(0,s._)("div",Mi,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,lt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Zi,10,Ri),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,lt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Ji,10,Ki)])])])}var Xi={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const tw=(0,g.Z)(Xi,[["render",Gi]]);var ew=tw;const rw={class:"py-5 tw-min-h-[calc(100dvh-110px)] px-5 tw-border bg-white tw-w-full tw-rounded-md"},aw=(0,s._)("h1",{class:"tw-text-lg tw-pl-1"},"Notifications",-1),sw={key:0},lw={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},ow={key:1,class:"tw-relative tw-h-full tw-flex-col tw-flex tw-overflow-x-auto sm:tw-rounded-lg"},iw={key:0},ww=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),nw=[ww],dw={class:"tw-w-full tw-text-left tw-text-gray-500"},cw={class:"tw-w-fit tw-flex tw-flex-col tw-whitespace-nowrap text-black"},uw={class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},pw=(0,s._)("div",{class:"tw-flex-1 tw-mt-auto"},null,-1);var gw={__name:"NotificationView",setup(t){const e=(0,i.oR)(),r=(0,ve.iH)(!1),a=(0,ve.iH)(null),l=t=>{a.value.page=t,o()},o=async()=>{const t={...a.value,data:null};r.value=!1,await _e.AllNotifications(t).then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setAllNotifications",t.data.data),a.value=t.data.data)})).catch((t=>{console.error("API Error",t)})),r.value=!0};(0,s.bv)((()=>{o()}));const w=(0,s.Fl)((()=>e.getters["app/notifications"].all));return(t,e)=>((0,s.wg)(),(0,s.iD)("div",rw,[aw,r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",sw,[(0,s._)("div",lw,[(0,s.Wm)(wt.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),r.value?((0,s.wg)(),(0,s.iD)("div",ow,[""==(0,ve.SU)(w).data?((0,s.wg)(),(0,s.iD)("div",iw,nw)):(0,s.kq)("",!0),(0,s._)("table",dw,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(w).data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,scope:"col",class:(0,lt.C_)([{"bg-white":"read"==t.status},"tw-bg-orange-50 tw-py-3 tw-px-1 text-truncate"])},[(0,s._)("div",cw,(0,lt.zw)(t.message),1),(0,s._)("div",uw,(0,lt.zw)((0,ve.SU)(Ce())(t.created_at).fromNow()),1)],2)))),128))]),pw,r.value?((0,s.wg)(),(0,s.j4)(ew,{key:1,onPageChange:l,"per-page":a.value.per_page,"last-page":a.value.last_page,from:a.value.from,to:a.value.to,total:a.value.total,"current-page":a.value.current_page},null,8,["per-page","last-page","from","to","total","current-page"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]))}};const mw=gw;var hw=mw,fw={path:"/",name:"home",component:Sa,meta:{module:"dashboard"},children:[{path:"",name:"dashboard",component:Vi,meta:{module:"dashboard",title:"Dashboard",gate:"all"}},{path:"/notifications",name:"notifications",component:hw,meta:{module:"notification",title:"Notifications",gate:"all"}}]};const bw={class:"mb-5 tw-flex tw-justify-between tw-items-center"},xw=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your products")],-1),vw={key:0},yw=(0,s._)("span",{class:"text-white"}," Add Expedition ",-1),_w={key:0},kw={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Cw={class:"mb-5 tw-flex"},Dw={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Sw={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Uw={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},zw=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),qw={class:"tw-relative"},Pw={class:""};function Lw(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.products.length},[(0,s._)("div",bw,[xw,t.$can("create_product")?((0,s.wg)(),(0,s.iD)("div",vw,[(0,s.Wm)(ot.T,{color:"primary-color",link:"",to:{name:"product/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),yw])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_w,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",kw,[(0,s._)("div",Cw,[(0,s.Wm)(ot.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Dw,[(0,s.Wm)(ae.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,lt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Sw,[(0,s._)("div",Uw,[zw,(0,s._)("div",qw,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Pw,[(0,s.Wm)(n,{columns:o.columns,products:i.filteredProducts},null,8,["columns","products"])])])):(0,s.kq)("",!0)])}const Ww={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Aw={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},$w={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Ew=(0,s._)("th",null,null,-1),Tw={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},jw={class:"tw-w-4 tw-p-4"},Fw={class:"tw-flex tw-items-center"},Vw={key:0,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-green-500"},Iw={key:1,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-yellow-500"},Ow={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Hw={class:"tw-px-6 tw-py-4"},Mw={key:0},Rw={class:"tw-px-6 tw-py-4"},Nw={class:"tw-px-6 tw-py-4"},Yw={class:"tw-px-6 tw-py-4"},Zw={class:"tw-px-6 tw-py-4"},Kw={class:"tw-px-6 tw-py-4"},Bw={class:"tw-px-6 tw-py-4"},Qw={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Jw={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Gw={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Xw=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),tn=["value"],en={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},rn={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},an={class:"tw-text-white"};function sn(t,e,r,l,o,i){const w=(0,s.up)("ProductActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ww,[(0,s._)("table",Aw,[(0,s._)("thead",$w,[(0,s._)("tr",null,[Ew,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Tw,(0,lt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",jw,[(0,s._)("div",Fw,[1==t.status?((0,s.wg)(),(0,s.iD)("span",Vw)):(0,s.kq)("",!0),0==t.status?((0,s.wg)(),(0,s.iD)("span",Iw)):(0,s.kq)("",!0)])]),(0,s._)("th",Ow,(0,lt.zw)(t.id),1),(0,s._)("td",Hw,[t.seller_user?((0,s.wg)(),(0,s.iD)("span",Mw,(0,lt.zw)(t.seller_user.firstname)+" "+(0,lt.zw)(t.seller_user.lastname),1)):(0,s.kq)("",!0)]),(0,s._)("td",Rw,(0,lt.zw)(t.ref),1),(0,s._)("td",Nw,(0,lt.zw)(t.name),1),(0,s._)("td",Yw,(0,lt.zw)(t.buying_price)+" "+(0,lt.zw)(o.currency),1),(0,s._)("td",Zw,(0,lt.zw)(t.selling_price)+" "+(0,lt.zw)(o.currency),1),(0,s._)("td",Kw,(0,lt.zw)(i.calculQty(t.variations)),1),(0,s._)("td",Bw,(0,lt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Qw,[(0,s.Wm)(w,{product:t},null,8,["product"])])])))),128))])])]),(0,s._)("div",Jw,[(0,s._)("div",Gw,[Xw,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,lt.zw)(t),9,tn)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",en,[(0,s._)("div",rn,(0,lt.zw)(i.prevRange+1)+" - "+(0,lt.zw)(o.currentPage==i.pageCount?r.products.length:i.nextRange)+" of "+(0,lt.zw)(r.products.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(ot.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",an,(0,lt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const ln={class:"tw-flex tw-items-center tw-gap-1"},on=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12 2C11.8 2 11.6 2.1 11.4 2.2L3.5 6.6C3.2 6.8 3 7.1 3 7.5V16.5C3 16.9 3.2 17.2 3.5 17.4L11.4 21.8C11.6 21.9 11.8 22 12 22S12.4 21.9 12.6 21.8L13.5 21.3C13.2 20.7 13.1 20 13 19.3V12.6L19 9.2V13C19.7 13 20.4 13.1 21 13.3V7.5C21 7.1 20.8 6.8 20.5 6.6L12.6 2.2C12.4 2.1 12.2 2 12 2M12 4.2L18 7.5L16 8.6L10.1 5.2L12 4.2M8.1 6.3L14 9.8L12 10.9L6 7.5L8.1 6.3M5 9.2L11 12.6V19.3L5 15.9V9.2M21.3 15.8L17.7 19.4L16.1 17.8L15 19L17.8 22L22.6 17.2L21.3 15.8Z",fill:"white"})],-1),wn={key:4};function nn(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("ProductStatusPopup");return(0,s.wg)(),(0,s.iD)("div",ln,[t.$can("update_product")&&"admin"==this.user.role?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,onClick:e[0]||(e[0]=t=>l.showStatusPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[on])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_product")?((0,s.wg)(),(0,s.j4)(ot.T,{key:1,to:"/products/update/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(ot.T,{key:2,to:"/products/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.j4)(ot.T,{key:3,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"]),l.showStatusPopup?((0,s.wg)(),(0,s.iD)("div",wn,[(0,s.Wm)(w,{visible:l.showStatusPopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showStatusPopup=t),onCancel:e[3]||(e[3]=t=>l.showStatusPopup=!1),product:r.product},null,8,["visible","product"])])):(0,s.kq)("",!0)])}const dn={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},cn=(0,s._)("h1",{class:"tw-text-lg"},"Update Product Status",-1),un={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},pn={class:"tw-w-full tw-col-span-6"},gn={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},mn=["disabled"],hn=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),fn={class:"tw-w-full tw-col-span-12"},bn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),xn={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},vn=(0,s._)("span",{class:"text-white"}," Cancel ",-1),yn=(0,s._)("span",{class:"text-white"}," Update ",-1);function _n(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",dn,[cn,(0,s._)("div",un,[(0,s._)("div",pn,[(0,s._)("label",gn,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingStatus,"onUpdate:modelValue":e[0]||(e[0]=t=>o.currentStatus=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,mn),[[a.e8,o.currentStatus]]),hn]),o.isLoadingStatus?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",fn,[bn,(0,s.wy)((0,s._)("textarea",{"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",512),[[a.nr,o.note]])])]),(0,s._)("div",xn,[(0,s.Wm)(ot.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[vn])),_:1}),(0,s.Wm)(ot.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[yn])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var kn={components:{},props:["product","visible","updated"],data(){return{isLoading:!1,isLoadingStatus:!1,currentStatus:!1,note:""}},computed:{},methods:{update(){this.isLoading=!0;const t={status:this.currentStatus,note:this.note};pa.updateStatus(this.product.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("product/setProduct",t.data.data.product),this.$emit("updated",t.data.data.product),this.$emit("cancel")),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))}},mounted(){this.Product={...this.product},this.currentStatus=1==this.product.status,this.note=this.product.note}};const Cn=(0,g.Z)(kn,[["render",_n]]);var Dn=Cn,Sn={components:{ProductStatusPopup:Dn},props:["rowIndex","product"],name:"productActions",data(){return{showStatusPopup:!1,showPopup:!1,isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,pa["delete"](this.product.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"})),pa.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Un=(0,g.Z)(Sn,[["render",nn]]);var zn=Un,qn={props:["columns","products"],components:{ProductActions:zn},data(){return{currency:c,allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.products.length/this.paginationLimit)},items(){return this.products.slice(this.prevRange,this.nextRange)}},methods:{calculQty(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Pn=(0,g.Z)(qn,[["render",sn]]);var Ln=Pn;const Wn=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:16,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:15,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:12,value:"wrong-number",name:"Wrong number",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:13,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:14,value:"double",name:"Double",text:"tw-text-purple-500",textLight:"tw-text-purple-800",bg:"tw-bg-purple-500/10",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"}],An=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:2,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"}],$n=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:13,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-cyan-500",textLight:"tw-text-cyan-800",bg:"tw-bg-cyan-500/10",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"}],En=[{id:0,value:null,name:"Select",text:"tw-text-neutral-600",bg:"tw-bg-neutral-500/10",ring:"tw-ring-neutral-300"},{id:1,value:"oui",name:"Oui",text:"tw-text-green-500",bg:"tw-bg-green-500/10",ring:"tw-ring-green-300"},{id:2,value:"non",name:"Non",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",ring:"tw-ring-pink-300"}],Tn=[{id:0,value:null,name:"Select",text:"tw-text-gray-500",textLight:"tw-text-gray-800",bg:"tw-bg-gray-500/10",bgLight:"tw-bg-gray-100",ring:"tw-ring-gray-300"},{id:1,value:"dispatch",name:"Dispatched",text:"tw-text-yellow-500",textLight:"tw-text-yellow-800",bg:"tw-bg-yellow-500/10",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:2,value:"expidier",name:"Shipped",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:3,value:"livrer",name:"Delivered",text:"tw-text-green-500",bg:"tw-bg-green-500/10",textLight:"tw-text-green-800",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:4,value:"reporter",name:"Reported",text:"tw-text-orange-500",bg:"tw-bg-orange-500/10",textLight:"tw-text-orange-800",bgLight:"tw-bg-orange-100",ring:"tw-ring-orange-300"},{id:5,value:"refuser",name:"Refused",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",textLight:"tw-text-pink-800",bgLight:"tw-bg-pink-100",ring:"tw-ring-pink-300"},{id:6,value:"annuler",name:"Canceled",text:"tw-text-red-500",bg:"tw-bg-red-500/10",textLight:"tw-text-red-800",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:9,value:"pas-de-reponse",name:"No Answer",text:"tw-text-yellow-500",bg:"tw-bg-yellow-500/10",textLight:"tw-text-yellow-800",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:8,value:"printed",name:"Printed",text:"tw-text-blue-500",bg:"tw-bg-blue-500/10",textLight:"tw-text-blue-800",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:10,value:"retourner",name:"Returned",text:"tw-text-purple-500",bg:"tw-bg-purple-500/10",textLight:"tw-text-purple-800",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:11,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-indigo-500",bg:"tw-bg-indigo-500/10",textLight:"tw-text-indigo-800",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:12,value:"paid",name:"Paid",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:13,value:"transfer",name:"Transferd",text:"tw-text-violet-500",bg:"tw-bg-violet-500/10",textLight:"tw-text-violet-800",bgLight:"tw-bg-violet-100",ring:"tw-ring-violet-300"},{id:14,value:"livrer-et-retourner",name:"Delivered & Return",text:"tw-text-teal-500",bg:"tw-bg-teal-500/10",textLight:"tw-text-teal-800",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:15,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:17,value:"in-warehouse",name:"In Warehouse",text:"tw-text-lime-500",bg:"tw-bg-lime-500/10",ring:"tw-ring-lime-300",textLight:"tw-text-lime-800",bgLight:"tw-bg-lime-100"},{id:18,value:"cleared",name:"Cleared",text:"tw-text-cyan-500",bg:"tw-bg-cyan-500/10",ring:"tw-ring-cyan-300",textLight:"tw-text-cyan-800",bgLight:"tw-bg-cyan-100"}],jn=[null,"expidier","paid","transfer","dispatch"];var Fn={components:{ProductsTable:Ln},data(){return{localUrl:w,confirmations:Wn,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"seller",name:"Seller"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},filteredProducts(){const t=this.date;return this.products.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!(e.ref.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase())||e.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{getProducts(){pa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts()}};const Vn=(0,g.Z)(Fn,[["render",Lw]]);var In=Vn;const On={class:"py-5 !tw-pt-0 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Hn={class:"tw-px-3"},Mn=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},null,-1),Rn={key:0};function Nn(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",On,[(0,s._)("section",Hn,[Mn,(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Rn,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Yn={class:"tw-flex tw-flex-col"},Zn={class:"tw-overflow-x-auto"},Kn={class:"tw-inline-block tw-min-w-full tw-align-middle"},Bn={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Qn={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Jn={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},Gn={scope:"col",class:"rtl:tw-text-right tw-w-7 tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},Xn={class:"tw-max-w-[25px]"},td={class:"tw-inline-flex tw-items-center"},ed={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},rd=["checked"],ad=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),sd=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),ld={key:0,scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},od=(0,s._)("span",null,"Seller",-1),id=[od],wd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," SKU ",-1),nd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),dd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Pricing ( $ ) ",-1),cd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-whitespace-nowrap !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Qty ",-1),ud=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivered ",-1),pd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Shipped ",-1),gd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Available ",-1),md={scope:"col",class:"tw-py-3.5 tw-w-5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},hd=(0,s._)("span",null,"Created",-1),fd=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),bd=[hd,fd],xd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Actions")],-1),vd={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},yd={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},_d=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),kd=[_d],Cd={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Dd={colspan:"13"},Sd={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Ud=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),zd=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),qd=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Pd=[zd,qd],Ld={class:"tw-mt-6"};function Wd(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Yn,[(0,s._)("div",Zn,[(0,s._)("div",Kn,[(0,s._)("div",Bn,[(0,s._)("table",Qn,[(0,s._)("thead",Jn,[(0,s._)("tr",null,[(0,s._)("th",Gn,[(0,s._)("div",Xn,[(0,s._)("div",td,[(0,s._)("label",ed,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,rd),ad])])])]),sd,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",ld,id)):(0,s.kq)("",!0),wd,nd,dd,cd,ud,pd,gd,(0,s._)("th",md,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},bd)]),xd])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",vd,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,l)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:l,index:a,key:r.id,item:r},null,8,["selected","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",yd,kd)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Cd,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Dd,[(0,s._)("div",Sd,[Ud,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Pd)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Ld,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Ad={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},$d={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Ed={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Td={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},jd=["disabled"],Fd=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Vd=(0,s._)("span",null," previous ",-1),Id=[Fd,Vd],Od=["disabled"],Hd=(0,s._)("span",null," Next ",-1),Md=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Rd=[Hd,Md];function Nd(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ad,[(0,s._)("div",$d,[(0,s.Uk)(" Page "),(0,s._)("span",Ed,(0,lt.zw)(r.currentPage)+" of "+(0,lt.zw)(r.lastPage),1)]),(0,s._)("div",Td,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,lt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Id,10,jd),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,lt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Rd,10,Od)])])])}var Yd={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Zd=(0,g.Z)(Yd,[["render",Nd]]);var Kd=Zd;const Bd={class:"tw-p-2 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Qd={class:"tw-max-w-[25px]"},Jd={class:"tw-inline-flex tw-items-center"},Gd={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},Xd=["checked","id"],tc=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),ec={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},rc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},ac={key:0,class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},sc={key:0},lc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},oc={key:1},ic={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},wc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},dc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cc={class:"tw-flex tw-items-center tw-gap-1"},uc={title:"Buying Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},pc={class:"tw-text-blue-700"},gc={title:"Selling Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},mc={class:"tw-text-green-700"},hc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},bc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},xc={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},vc={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},yc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_c={class:"tw-flex tw-font-medium tw-text-purple-600 tw-rounded tw-items-center"},kc={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Cc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Dc={class:"tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Sc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-max-w-[100px]"},Uc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-max-w-[100px] tw-flex tw-items-center tw-gap-2"},zc={class:"tw-px-4 tw-py-1 tw-text-sm tw-whitespace-nowrap"};function qc(t,e,r,a,l,o){const i=(0,s.up)("router-link"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,lt.C_)(["hover:tw-bg-gray-50",[o.availableQuantity<=0&&"!tw-border !tw-border-red-300 tw-bg-red-50 hover:tw-bg-red-100 "]])},[(0,s._)("td",Bd,[(0,s._)("div",Qd,[(0,s._)("div",Jd,[(0,s._)("label",Gd,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,Xd),tc])])])]),(0,s._)("td",ec,[(0,s._)("div",null,[(0,s._)("h2",rc,(0,lt.zw)(r.item.id),1)])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",ac,["affiliate"!=r.item.type?((0,s.wg)(),(0,s.iD)("div",sc,[(0,s._)("h2",lc,(0,lt.zw)(r.item.seller_user.firstname)+" "+(0,lt.zw)(r.item.seller_user.lastname),1)])):((0,s.wg)(),(0,s.iD)("div",oc,[(0,s.Wm)(i,{to:{name:"affiliate.show.sellers",params:{id:r.item.id}},class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-underline-offset-2 tw-underline"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(r.item.imported_count)+" sellers ",1)])),_:1},8,["to"])]))])):(0,s.kq)("",!0),(0,s._)("td",ic,[(0,s._)("div",null,[(0,s._)("h2",{class:(0,lt.C_)([{"!tw-text-emerald-500":r.item.status,"!tw-text-amber-500":!r.item.status},"tw-font-bold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[70px] tw-truncate"])},(0,lt.zw)(r.item.ref),3)])]),(0,s._)("td",wc,[(0,s._)("div",null,[(0,s._)("h2",nc,(0,lt.zw)(r.item.name),1)])]),(0,s._)("td",dc,[(0,s._)("div",cc,[(0,s._)("div",uc,[(0,s._)("span",pc,(0,lt.zw)(r.item.buying_price),1),(0,s.Wm)(wt.t,{class:"tw-text-lg tw-text-blue-400 tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-down-bold")])),_:1})]),(0,s._)("div",gc,[(0,s.Wm)(wt.t,{class:"tw-text-lg tw-mr-1 tw-text-green-400"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-up-bold")])),_:1}),(0,s._)("span",mc,(0,lt.zw)(r.item.selling_price),1)])])]),(0,s._)("td",hc,[(0,s._)("div",null,[(0,s._)("h2",fc,(0,lt.zw)(o.quantityTotal),1)])]),(0,s._)("td",bc,[(0,s._)("div",xc,[(0,s._)("h2",vc,(0,lt.zw)(o.deliveredQuantity),1)])]),(0,s._)("td",yc,[(0,s._)("div",_c,[(0,s._)("h2",kc,(0,lt.zw)(o.shippedQuantity),1)])]),(0,s._)("td",Cc,[(0,s._)("div",{class:(0,lt.C_)([{"tw-text-red-500 !tw-font-bold":o.availableQuantity<=0},"tw-flex tw-font-medium tw-text-blue-600 tw-rounded tw-items-center"])},[(0,s._)("h2",Dc,(0,lt.zw)(o.availableQuantity),1)],2)]),(0,s._)("td",Sc,[(0,s._)("div",null,[(0,s._)("h2",Uc,[(0,s._)("p",null,(0,lt.zw)(l.moment(r.item.created_at).format("DD[-]MM[-]YY")),1)])])]),(0,s._)("td",zc,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const Pc=(t,e="success")=>{et.dispatch("alert/toggleAlert",{type:e,title:t})},Lc={key:0,class:"tw-h-full"},Wc={class:"tw-flex tw-items-center tw-gap-2"},Ac={key:4},$c={key:1,class:"tw-h-full"},Ec={class:"tw-flex tw-items-center tw-gap-2"};var Tc={__name:"TableActions",props:["item"],emits:["update"],setup(t,{emit:e}){const r=t,a=(0,ve.Vh)(r,"item"),l=(0,s.f3)("refresh"),o=(0,s.f3)("update"),i=(0,ve.iH)({delete:!1,status:!1}),w=(0,ve.iH)({delete:!1,status:!1}),n=async t=>{if(!t)return i.value.delete=!1,!1;w.value.delete=!0,await pa["delete"](a.value.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(Pc("Product Deleted Successfully"),l())})).catch((t=>{console.log(t),Pc("Something wrong happened","danger")})),w.value.delete=!1,i.value.delete=!1},d=t=>{o({...a.value,status:t.status})};return(t,e)=>{const r=(0,s.up)("icon"),l=(0,s.up)("router-link"),o=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,["normal"==(0,ve.SU)(a).type?((0,s.wg)(),(0,s.iD)("div",Lc,[(0,s._)("div",Wc,[(0,s.kq)("",!0),t.$can("update_product")&&"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>i.value.status=!0),class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-emerald-500/20 hover:tw-bg-emerald-500/10 hover:tw-border-emerald-500/70 tw-duration-300 tw-text-emerald-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(r,{icon:"ci:check-big",class:"tw-text-base tw-text-emerald-500"})])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(l,{key:2,to:"/products/"+(0,ve.SU)(a).id,class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-sky-500/20 hover:tw-bg-sky-500/10 hover:tw-border-sky-500/70 tw-duration-300 tw-text-sky-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"solar:eye-bold-duotone",class:"tw-text-base tw-text-sky-500"})])),_:1},8,["to"])):(0,s.kq)("",!0),(0,s.Wm)(l,{title:"Edit",to:"/products/update/"+(0,ve.SU)(a).id,class:"!tw-bg-white tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 hover:!tw-bg-amber-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})])),_:1},8,["to"]),t.$can("delete_product")?((0,s.wg)(),(0,s.iD)("button",{key:3,onClick:e[1]||(e[1]=t=>i.value.delete=!0),class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-rose-500/20 hover:tw-bg-rose-500/10 hover:tw-border-rose-500/70 tw-duration-300 tw-text-rose-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1})])):(0,s.kq)("",!0),(0,s.Wm)(o,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:w.value.delete,visible:i.value.delete,onResolved:n},null,8,["loading","visible"]),i.value.status?((0,s.wg)(),(0,s.iD)("div",Ac,[(0,s.Wm)((0,ve.SU)(Dn),{visible:i.value.status,"onUpdate:visible":e[2]||(e[2]=t=>i.value.status=t),onCancel:e[3]||(e[3]=t=>i.value.status=!1),onUpdated:d,product:(0,ve.SU)(a)},null,8,["visible","product"])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"affiliate"==(0,ve.SU)(a).type&&"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",$c,[(0,s._)("div",Ec,[(0,s.Wm)(l,{title:"Show",to:{name:"affiliate.admin.show",params:{id:(0,ve.SU)(a).id}},class:"!tw-bg-white tw-aspect-square tw-cursor-pointer tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-blue-100 hover:tw-border-blue-400 hover:!tw-bg-blue-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"solar:eye-bold-duotone",class:"tw-text-xl tw-text-blue-500"})])),_:1},8,["to"]),(0,s.Wm)(l,{title:"Edit",to:{name:"affiliate.admin.edit",params:{id:(0,ve.SU)(a).id}},class:"!tw-bg-white tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 hover:!tw-bg-amber-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})])),_:1},8,["to"])])])):(0,s.kq)("",!0)],64)}}};const jc=Tc;var Fc=jc,Vc={components:{TableActions:Fc},props:{item:{required:!0},selected:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:Ce(),currency:c}},computed:{isSelected(){return this.selected.includes(this.item.id)},quantityTotal(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.quantity)),0)},deliveredQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.delivered_quantity)),0)},shippedQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.shipped_quantity)),0)},availableQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.available_quantity)),0)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const Ic=(0,g.Z)(Vc,[["render",qc]]);var Oc=Ic,Hc={components:{TablePaginationNoNums:Kd,TableRow:Oc},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const Mc=(0,g.Z)(Hc,[["render",Wd]]);var Rc=Mc;const Nc={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Yc={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Zc=["disabled"],Kc=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),Bc=[Kc],Qc=["disabled"],Jc=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),Gc=[Jc],Xc={class:"tw-relative"},tu=["value"],eu=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),ru=[eu],au=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),su={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},lu=["value"],ou={class:"tw-overflow-hidden tw-col-span-1"},iu={class:"tw-overflow-hidden tw-col-span-1"},wu={class:"tw-overflow-hidden tw-col-span-1"};function nu(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Nc,[(0,s._)("div",Yc,[(0,s._)("button",{class:(0,lt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,Zc),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,lt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},Bc,2),(r.activeStatistics&&r.statistics,(0,s.kq)("",!0)),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Gc,8,Qc),(0,s.kq)("",!0),(0,s._)("div",Xc,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},ru,40,tu),au])]),(0,s._)("div",su,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,lu),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,lt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",ou,["admin"==this.user.role?((0,s.wg)(),(0,s.j4)(w,{key:0,onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])):(0,s.kq)("",!0)])],2),(0,s._)("div",{class:(0,lt.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",iu,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",wu,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const du={class:"tw-mb-4"},cu={class:"tw-grid tw-grid-cols-12 tw-gap-4"},uu={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},pu={class:"tw-flex tw-items-center tw-justify-between"},gu={class:"tw-text-xl tw-font-bold tw-text-gray-900"},mu={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function hu(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",du,[(0,s._)("div",cu,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",uu,[(0,s._)("p",{class:(0,lt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,lt.zw)(t.name),3),(0,s._)("div",pu,[(0,s._)("span",gu,(0,lt.zw)(t.total),1),(0,s._)("span",mu,(0,lt.zw)(t.percent)+"%",1)])])])))),128))])])}var fu={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Wn.find((e=>e.value==t))}}};const bu=(0,g.Z)(fu,[["render",hu]]);var xu=bu;const vu={class:"tw-mb-4"},yu={class:"tw-flex tw-items-center tw-gap-2"},_u=["disabled"],ku=(0,s._)("span",null,"Select Filtered",-1),Cu={class:"tw-flex tw-justify-end"},Du=["disabled"];function Su(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",vu,[(0,s._)("div",yu,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ku],8,_u)]),(0,s._)("div",Cu,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,lt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,Du)])])}class Uu{async statistics(t){return await $.getCookie(),W.post("api/v1/admin/statistics",t)}async analytics(t){return await $.getCookie(),W.post("api/v1/admin/analytics",t)}async paginate(t="/",e){return await $.getCookie(),W.post("api/v1/admin/orders"+t,e)}async update(t,e){return await $.getCookie(),W.post("api/v1/admin/orders/"+t+"/update",e)}async create(t){return await $.getCookie(),W.post("api/v1/admin/orders/create",t)}async export(t={}){return await $.getCookie(),W.post("api/v1/admin/orders/export",t)}}var zu=new Uu,qu={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,zu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const Pu=(0,g.Z)(qu,[["render",Su]]);var Lu=Pu;const Wu={class:"tw-mb-4"},Au={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},$u={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Eu=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Tu=(0,s._)("span",null,"Clear",-1),ju=[Eu,Tu],Fu=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Vu=(0,s._)("span",null,"Filter",-1),Iu=[Fu,Vu];function Ou(t,e,r,a,l,o){(0,s.up)("DateFilter"),(0,s.up)("ProductFilter");const i=(0,s.up)("SellerFilter");return(0,s.wg)(),(0,s.iD)("div",Wu,[(0,s._)("div",Au,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",$u,[(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},ju),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Iu)])])])}const Hu={class:"tw-text-sm tw-text-neutral-600"},Mu=["onClick"];function Ru(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Hu,(0,lt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,lt.zw)(t),9,Mu)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Nu={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,to.Z)(new Date,1),(0,to.Z)(new Date,1)]},{label:"This month",range:[(0,eo.Z)(new Date),(0,ro.Z)(new Date)]},{label:"Last month",range:[(0,eo.Z)((0,ao.Z)(new Date,1)),(0,ro.Z)((0,ao.Z)(new Date,1))]},{label:"This year",range:[(0,so.Z)(new Date),(0,lo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const Yu=(0,g.Z)(Nu,[["render",Ru]]);var Zu=Yu;const Ku={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Bu=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),Qu=["value"],Ju=(0,s._)("option",{value:"all"},"All",-1),Gu=["value"];function Xu(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Ku,[Bu,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Ju,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.name),9,Gu)))),128))],40,Qu)])}var tp={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return pa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const ep=(0,g.Z)(tp,[["render",Xu]]);var rp=ep;const ap={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),lp=["value"],op=(0,s._)("option",{value:"all"},"All",-1),ip=["value"];function wp(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",ap,[sp,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[op,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,ip)))),128))],40,lp)])}var np={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const dp=(0,g.Z)(np,[["render",wp]]);var cp=dp,up={components:{DateFilter:Zu,ProductFilter:rp,SellerFilter:cp},props:{filters:{required:!0,default:{}}},data(){return{dateFilter:["",""]}}};const pp=(0,g.Z)(up,[["render",Ou]]);var gp=pp,mp={components:{IndexStatistics:xu,FiltersWrapper:gp,IndexExport:Lu},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=Ce()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const hp=(0,g.Z)(mp,[["render",nu]]);var fp=hp;const bp={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},xp=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),vp={class:"tw-bg-white tw-p-4"},yp={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},_p={class:"tw-col-span-2 md:tw-col-span-1"},kp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),Cp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Dp={class:"tw-col-span-2 md:tw-col-span-1"},Sp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Up={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zp={class:"tw-col-span-2 md:tw-col-span-1"},qp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Pp={class:"tw-relative"},Lp=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Wp=["value"],Ap=["value"],$p=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Ep={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Tp={class:"tw-col-span-2 md:tw-col-span-1"},jp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Fp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Vp={class:"tw-col-span-2"},Ip=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Op={class:"tw-relative"},Hp=["value"],Mp=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Rp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Np={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Yp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Zp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Kp={key:1,class:"md:tw-col-span-1 tw-col-span-2"},Bp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Qp={class:"tw-col-span-2"},Jp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Gp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Xp={class:"md:tw-col-span-1 tw-col-span-2"},tg={class:"md:tw-col-span-1 tw-col-span-2"},eg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),rg={class:"tw-relative"},ag=["value"],sg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),lg={class:"tw-col-span-2"},og={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},ig={key:0,class:"tw-text-red-400 tw-text-xs"},wg={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},ng=["disabled"],dg=(0,s._)("span",null,"Create",-1);function cg(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",bp,[xp,(0,s._)("div",vp,[(0,s._)("div",yp,[(0,s._)("div",_p,[kp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,lt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",Cp,(0,lt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Dp,[Sp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,lt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",Up,(0,lt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",zp,[qp,(0,s._)("div",Pp,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,lt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Lp,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,lt.zw)(o.itemCopy.city),9,Wp),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,lt.zw)(t.name),9,Ap)))),128))],34),[[a.bM,o.itemCopy.city]]),$p]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",Ep,(0,lt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Tp,[jp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,lt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Fp,(0,lt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Vp,[Ip,(0,s._)("div",Op,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,lt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,lt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,lt.zw)(t.name),11,Hp)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),Mp]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",Rp,(0,lt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Np,[Yp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,lt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",Zp,(0,lt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Kp,[Bp,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",Qp,[Jp,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,lt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",Gp,(0,lt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",Xp,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",tg,[eg,(0,s._)("div",rg,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.text]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,ag)))),128))],512),[[a.bM,o.itemCopy.upsell]]),sg])]),(0,s._)("div",lg,[(0,s._)("label",og,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",ig," # "+(0,lt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",wg,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),dg],8,ng)])])])),_:1},8,["visible","onCancel"])])}const ug=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!pg(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),pg=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},gg=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},mg=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},hg=(t,e)=>{t.isLoading=!0,t.errors={},zu.create(e).then((e=>gg(t,e.data))).catch((e=>mg(t,e.response.data))).finally((()=>t.isLoading=!1))},fg={key:0},bg=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),xg={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},vg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),yg=(0,s._)("span",null,"Add Item",-1),_g=[vg,yg],kg={key:1,class:"md:tw-col-span-12 tw-col-span-12"},Cg={class:"tw-max-w-full tw-overflow-auto"},Dg={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},Sg={class:"tw-bg-gray-50"},Ug={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},zg={key:0},qg={colspan:"6"},Pg={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Lg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Wg=(0,s._)("span",null,"Add Item",-1),Ag=[Lg,Wg],$g=(0,s._)("td",{colspan:"4"},null,-1),Eg=(0,s._)("td",null,null,-1),Tg={colspan:"1",class:"tw-p-2"},jg={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Fg={key:1},Vg={colspan:"6"},Ig={class:"tw-scale-75 tw-p-5"};function Og(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fg,[bg,(0,s._)("div",xg,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},_g)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",kg,[(0,s._)("div",Cg,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Dg,[(0,s._)("tr",Sg,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Ug,(0,lt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",zg,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",qg,[(0,s._)("div",Pg,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Ag)])])]),(0,s._)("tr",null,[$g,Eg,(0,s._)("td",Tg,[(0,s._)("div",jg,[(0,s._)("p",null,(0,lt.zw)(l.currency)+" "+(0,lt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Fg,[(0,s._)("tr",null,[(0,s._)("td",Vg,[(0,s._)("div",Ig,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const Hg=(0,s._)("td",null,null,-1),Mg={class:"tw-p-2"},Rg={class:"tw-relative"},Ng=["value"],Yg=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),Zg=["value"],Kg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Bg={class:"tw-p-2"},Qg={key:0,class:"tw-relative"},Jg=["value"],Gg=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),Xg=["value"],tm={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},em=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),rm=[em],am={class:"tw-p-2"},sm=["value"],lm={class:"tw-p-2"},om=["value"],im={class:"tw-flex tw-justify-center"};function wm(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[Hg,(0,s._)("td",null,[(0,s._)("div",Mg,[(0,s._)("div",Rg,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Yg,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.name),9,Zg)))),128))],40,Ng),Kg])])]),(0,s._)("td",null,[(0,s._)("div",Bg,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",Qg,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Gg,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.color)+" "+(0,lt.zw)(t.size),9,Xg)))),128))],40,Jg)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",tm,rm)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",am,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,sm)])]),(0,s._)("td",null,[(0,s._)("div",lm,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,om)])]),(0,s._)("td",null,[(0,s._)("div",im,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var nm={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const dm=(0,g.Z)(nm,[["render",wm]]);var cm=dm,um={components:{ItemRow:cm},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return po(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const pm=(0,g.Z)(um,[["render",Og]]);var gm=pm;const mm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),hm={key:0,class:"tw-relative"},fm=["value","disabled"],bm=(0,s._)("option",{value:""},"Choose a Delivery",-1),xm=["value"],vm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ym={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_m={key:2,class:"tw-relative"},km={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Cm=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Dm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function Sm(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[mm,l.fetched?((0,s.wg)(),(0,s.iD)("div",hm,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,lt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[bm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,xm)))),128))],42,fm),vm])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",ym,(0,lt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_m,[(0,s._)("div",km,[(0,s.Wm)(i)]),Cm,Dm]))])}var Um={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,at.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const zm=(0,g.Z)(Um,[["render",Sm]]);var qm=zm,Pm={components:{OrderItems:gm,OrderAffectation:qm},props:{visible:{required:!0}},data(){return{confirmations:Wn,upsells:En,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=ug(this,this.itemCopy);if(!t)return!1;hg(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,pa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const Lm=(0,g.Z)(Pm,[["render",cg]]);var Wm=Lm,Am={components:{IndexTable:Rc,IndexFilters:fp,CreatePopup:Wm},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,user_id:"all",product_id:"all"}}},methods:{async paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,pa.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=go(t.first_page_url),this.lase_page_url=go(t.last_page_url),this.next_page_url=go(t.next_page_url),this.prev_page_url=go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()},provide(){return{refresh:this.paginateProducts,update:t=>{this.items=this.items.map((e=>e.id==t.id?t:e))}}}};const $m=(0,g.Z)(Am,[["render",Nn]]);var Em=$m;const Tm={class:"py-5 !tw-pt-0 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},jm={class:"tw-px-3"},Fm=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},null,-1),Vm={key:0};function Im(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Tm,[(0,s._)("section",jm,[Fm,(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Vm,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var Om={components:{IndexTable:Rc,IndexFilters:fp,CreatePopup:Wm},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,user_id:"all",product_id:"all"}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,is_affiliate:!0};return this.fetching=!0,pa.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=go(t.first_page_url),this.lase_page_url=go(t.last_page_url),this.next_page_url=go(t.next_page_url),this.prev_page_url=go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()},provide(){return{refresh:this.paginateProducts,update:t=>{this.items=this.items.map((e=>e.id==t.id?t:e))}}}};const Hm=(0,g.Z)(Om,[["render",Im]]);var Mm=Hm;const Rm={key:0,class:"tw-p-2 tw-flex tw-items-center tw-gap-2x tw-mb-2"};var Nm={__name:"IndexProducts",setup(t){const e=(0,ve.iH)("normal");return(t,r)=>((0,s.wg)(),(0,s.iD)(s.HY,null,["admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",Rm,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>e.value="normal"),class:(0,lt.C_)(["normal"==e.value?"!tw-border-orange-500":"tw-border-gray-200","tw-py-1 tw-px-4 tw-border-b-2 tw-border-solid tw-border-gray-200 hover:tw-border-orange-200"])},"Normal",2),(0,s._)("button",{onClick:r[1]||(r[1]=t=>e.value="affiliate"),class:(0,lt.C_)(["affiliate"==e.value?"!tw-border-orange-500":"tw-border-gray-200","tw-py-1 tw-px-4 tw-border-b-2 tw-border-solid tw-border-gray-200 hover:tw-border-orange-200"])},"Affiliate",2)])):(0,s.kq)("",!0),(0,s._)("div",null,["normal"==e.value?((0,s.wg)(),(0,s.j4)((0,ve.SU)(Em),{key:0})):(0,s.kq)("",!0),"affiliate"==e.value?((0,s.wg)(),(0,s.j4)((0,ve.SU)(Mm),{key:1})):(0,s.kq)("",!0)])],64))}};const Ym=Nm;var Zm=Ym,Km=r(240),Bm=r(3104),Qm=r(4842);const Jm=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Expedition "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new expedition")],-1),Gm={key:0},Xm={key:1},th={class:"mb-5"},eh=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),rh={class:"tw-w-full"},ah=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),sh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},lh={class:"tw-w-full"},oh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Reference ",-1),ih={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},wh={class:"tw-w-full"},nh={class:"mb-1 text-body-2 tw-text-zinc-700"},dh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ch={class:"mb-1 text-body-2 tw-text-zinc-700"},uh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ph=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),gh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},mh={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},hh=(0,s._)("span",null,"Add Variants: ",-1),fh={key:0,class:"tw-h-fit tw-mb-"},bh=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),xh={class:"tw-relative"},vh=(0,s._)("option",{value:0},"Select",-1),yh=["value"],_h={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kh={key:1},Ch={class:"md:tw-col-span-3 tw-col-span-12"},Dh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Sh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Uh={class:"md:tw-col-span-3 tw-col-span-12"},zh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),qh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ph={key:2},Lh={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Wh={class:"md:tw-col-span-3 tw-col-span-12"},Ah=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),$h={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Eh={class:"md:tw-col-span-3 tw-col-span-12"},Th=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),jh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Fh={class:"md:tw-col-span-3 tw-col-span-12"},Vh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Quantity ",-1),Ih=(0,s._)("div",{class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},null,-1),Oh={class:"md:tw-col-span-3 tw-col-span-12"},Hh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Mh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Rh={class:"tw-col-span-12 tw-flex tw-justify-end"},Nh=["disabled"],Yh=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Zh={class:""},Kh={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},Bh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Variants ",-1),Qh={class:"mb-1 text-body-2 tw-text-zinc-700"},Jh={key:1,class:"tw-max-w-full tw-overflow-x-auto"},Gh={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Xh={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},tf={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},ef={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},rf={class:"tw-px-6 tw-py-2"},af={class:"tw-px-6 tw-py-2"},sf={class:"tw-px-6 tw-py-2"},lf={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},of=(0,s._)("h1",{class:"tw-font-medium"},"Image",-1),wf={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},nf={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},df={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},cf={class:"tw-w-max tw-relative"},uf=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),pf={class:"md:tw-col-span-6 tw-col-span-12"},gf={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},mf=(0,s._)("span",null,"No image available",-1),hf=[mf],ff={class:"mb-5"},bf=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),xf={class:"tw-w-full"},vf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),yf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},_f={class:"tw-w-full"},kf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Cf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Df={class:"tw-w-full"},Sf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),Uf={class:"tw-relative"},zf=["error"],qf=(0,s._)("option",{value:"",disabled:""},"Select",-1),Pf=(0,s._)("option",{value:"Sea"},"Sea",-1),Lf=(0,s._)("option",{value:"Air"},"Air",-1),Wf=[qf,Pf,Lf],Af={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$f={class:"tw-w-full"},Ef=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),Tf={class:"tw-relative"},jf=["error"],Ff=(0,s._)("option",{value:""},"Select",-1),Vf=(0,s._)("option",{value:"China"},"China",-1),If=(0,s._)("option",{value:"Dubai"},"Dubai",-1),Of=(0,s._)("option",{value:"Turky"},"Turky",-1),Hf=[Ff,Vf,If,Of],Mf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Rf={class:"tw-w-full"},Nf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),Yf={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Zf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Kf={class:"mb-5"},Bf=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),Qf={key:0,class:"mb-5"},Jf=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),Gf=(0,s._)("h1",{class:"tw-font-medium"},"Deliveries",-1),Xf={class:"tw-mt-2"},tb={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},eb=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),rb=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function ab(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("VariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[Jm,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Gm,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Xm,[(0,s._)("div",null,[(0,s._)("div",th,[eh,(0,s.Wm)(qa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",rh,[ah,(0,s.Wm)(nt.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",sh,(0,lt.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",lh,[oh,(0,s.Wm)(nt.hw,{error:!o.formStatus.reference.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("reference")),"hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ih,(0,lt.zw)(o.formStatus.reference.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",wh,[(0,s._)("div",nh," Buying Price ("+(0,lt.zw)(o.currency)+") ",1),(0,s.Wm)(nt.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",dh,(0,lt.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",ch," Selling Price ("+(0,lt.zw)(o.currency)+") ",1),(0,s.Wm)(nt.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",uh,(0,lt.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ph,(0,s.Wm)(Qm.z,{error:!o.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",gh,(0,lt.zw)(o.formStatus.description.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",mh,[hh,(0,s.Wm)(Bm.G,{modelValue:o.addVariants,"onUpdate:modelValue":e[10]||(e[10]=t=>o.addVariants=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",md:"6",class:"tw-border-l tw-border-r-neutral-700 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",fh,[bh,(0,s._)("div",xh,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.warehouse=t),onChange:e[12]||(e[12]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[vh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.name),9,yh)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",_h,(0,lt.zw)(o.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),o.addVariants?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",kh,[(0,s._)("div",Ch,[Dh,(0,s.Wm)(nt.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[13]||(e[13]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[14]||(e[14]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Sh,(0,lt.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",Uh,[zh,(0,s.Wm)(nt.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[15]||(e[15]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[16]||(e[16]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",qh,(0,lt.zw)(o.formStatus.stockAlert.message),1)])])),o.addVariants?((0,s.wg)(),(0,s.iD)("div",Ph,[(0,s._)("div",Lh,[(0,s._)("div",Wh,[Ah,(0,s.Wm)(nt.hw,{error:!o.formStatus.size.valid,onKeyup:e[17]||(e[17]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[18]||(e[18]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",$h,(0,lt.zw)(o.formStatus.size.message),1)]),(0,s._)("div",Eh,[Th,(0,s.Wm)(nt.hw,{error:!o.formStatus.color.valid,onKeyup:e[19]||(e[19]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[20]||(e[20]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",jh,(0,lt.zw)(o.formStatus.color.message),1)]),(0,s._)("div",Fh,[Vh,(0,s.Wm)(nt.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid&&!1,onKeyup:e[21]||(e[21]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[22]||(e[22]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),Ih]),(0,s._)("div",Oh,[Hh,(0,s.Wm)(nt.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[24]||(e[24]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Mh,(0,lt.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Rh,[(0,s._)("button",{disabled:!o.quantity,class:(0,lt.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[25]||(e[25]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(wt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Yh],10,Nh)])]),(0,s._)("div",Zh,[(0,s._)("div",Kh,[Bh,(0,s._)("div",Qh," Quantity Total: "+(0,lt.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,lt.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",Jh,[(0,s._)("table",Gh,[(0,s._)("thead",Xh,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","stockAlert","actions"],(t=>(0,s._)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",tf,(0,lt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",ef,(0,lt.zw)(t.size),1),(0,s._)("td",rf,(0,lt.zw)(t.color),1),(0,s._)("td",af,(0,lt.zw)(t.quantity),1),(0,s._)("td",sf,(0,lt.zw)(t.stockAlert),1),(0,s._)("td",lf,[(0,s._)("div",null,[(0,s.Wm)(n,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[of,(0,s._)("div",wf,[(0,s._)("div",nf,[(0,s._)("label",df,[(0,s._)("div",cf,[(0,s.Wm)(wt.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),uf]),(0,s._)("input",{onChange:e[26]||(e[26]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",pf,[(0,s._)("div",gf,[(0,s._)("img",{class:(0,lt.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",id:"image-preview",alt:"Image Preview"},null,2),(0,s._)("div",{class:(0,lt.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},hf,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",ff,[bf,(0,s.Wm)(qa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xf,[vf,(0,s.Wm)(nt.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[27]||(e[27]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[28]||(e[28]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",yf,(0,lt.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",_f,[kf,(0,s.Wm)(nt.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[29]||(e[29]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[30]||(e[30]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Cf,(0,lt.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Df,[Sf,(0,s._)("div",Uf,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.transport_mode.valid,onKeyup:e[31]||(e[31]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[32]||(e[32]=t=>o.product.transport_mode=t)},Wf,40,zf),[[a.bM,o.product.transport_mode]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Af,(0,lt.zw)(o.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$f,[Ef,(0,s._)("div",Tf,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.country_of_purchase.valid,onKeyup:e[33]||(e[33]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[34]||(e[34]=t=>o.product.country_of_purchase=t)},Hf,40,jf),[[a.bM,o.product.country_of_purchase]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Mf,(0,lt.zw)(o.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Rf,[Nf,(0,s._)("div",Yf,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[35]||(e[35]=t=>o.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,o.product.expedition_date]])]),(0,s._)("div",Zf,(0,lt.zw)(o.formStatus.expedition_date.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Kf,[Bf,(0,s.Wm)(qa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[36]||(e[36]=t=>o.offers=t)},null,8,["offers"])])])),_:1})])),_:1})]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Qf,[Jf,(0,s.Wm)(qa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[Gf,(0,s._)("div",Xf,[(0,s.Wm)(Km.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[37]||(e[37]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",tb,[(0,s.Wm)(ot.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[eb])),_:1}),(0,s.Wm)(ot.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[rb])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}function sb(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("UpdateProductVariant"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(ot.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(ot.T,{onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(n,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"])])}const lb={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},ob={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},ib={class:"tw-col-span-12"},wb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),nb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},db={class:"tw-col-span-12"},cb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),ub={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},pb={class:"tw-col-span-12"},gb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),mb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},hb={class:"tw-col-span-12"},fb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),bb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xb={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end"},vb=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),yb=[vb],_b=["disabled"],kb=(0,s._)("span",{class:"tw-text-white"},"Save",-1),Cb=[kb];function Db(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",lb,[(0,s._)("div",ob,[(0,s._)("div",ib,[wb,(0,s.Wm)(nt.hw,{error:!l.formStatus.size.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[1]||(e[1]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",nb,(0,lt.zw)(l.formStatus.size.message),1)]),(0,s._)("div",db,[cb,(0,s.Wm)(nt.hw,{error:!l.formStatus.color.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[3]||(e[3]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ub,(0,lt.zw)(l.formStatus.color.message),1)]),(0,s._)("div",pb,[gb,(0,s.Wm)(nt.hw,{onChange:o.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[5]||(e[5]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",mb,(0,lt.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",hb,[fb,(0,s.Wm)(nt.hw,{onChange:o.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[6]||(e[6]=t=>o.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[7]||(e[7]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",bb,(0,lt.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",xb,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},yb),(0,s._)("button",{disabled:!l.quantity,class:(0,lt.C_)([{"tw-bg-orange-500":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[9]||(e[9]=(...t)=>o.updateVariant&&o.updateVariant(...t))},Cb,10,_b)])])])}var Sb={props:["variant"],data(){return{size:"",color:"",quantity:0,stockAlert:0,newVariant:null,formStatus:{quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""}}}},methods:{updateVariant(){console.log("updated");const t=this.quantity-this.newVariant.quantity;this.newVariant.size=this.size?this.size.toLocaleUpperCase():"",this.newVariant.color=this.color?this.color.toLocaleUpperCase():"",this.newVariant.quantity=this.quantity,this.newVariant.stockAlert=this.stockAlert,this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(t),this.cancel()},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},cancel(){this.$emit("cancel")},resetError(t){this.formStatus[t]={valid:!0,message:""}}},mounted(){this.size=this.variant.size,this.color=this.variant.color,this.quantity=this.variant.quantity,this.stockAlert=this.variant.stockAlert,this.newVariant=this.variant}};const Ub=(0,g.Z)(Sb,[["render",Db]]);var zb=Ub,qb={components:{UpdateProductVariant:zb},props:["variant"],data(){return{visible:!1,deletePopup:!1}},methods:{cancel(){this.visible=!1},update(t){console.log("from actions: ",t)},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}}};const Pb=(0,g.Z)(qb,[["render",sb]]);var Lb=Pb;class Wb{async create(t){return await $.getCookie(),W.post("api/warehouses/new",{name:t.name})}async update(t,e){return await $.getCookie(),W.post("api/warehouses/update/"+t,{name:e.name})}async all(){return await $.getCookie(),W.get("api/warehouses")}async getWarehouse(t){return await $.getCookie(),W.get("api/warehouses/"+t)}async delete(t){return await $.getCookie(),W["delete"]("api/warehouses/delete/"+t)}}var Ab=new Wb;const $b=(0,s._)("h1",{class:"tw-font-medium"},"Offers",-1),Eb={class:"tw-grid tw-grid-cols-12 tw-mb-5 tw-mt-3 tw-gap-3"},Tb={class:"md:tw-col-span-3 tw-col-span-12"},jb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Fb={class:"md:tw-col-span-3 tw-col-span-12"},Vb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),Ib={class:"md:tw-col-span-5 tw-col-span-12"},Ob=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),Hb={class:"md:tw-col-span-1 tw-col-span-12"},Mb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-transparent"},"Note",-1),Rb={class:"tw-mt-2"},Nb={class:"tw-relative tw-overflow-x-auto tw-shadow sm:tw-rounded"},Yb={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Zb=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-24"},"Action")])],-1),Kb={class:"tw-px-6 tw-py-4"},Bb={class:"tw-px-6 tw-py-4"},Qb={class:"tw-px-6 tw-py-4"},Jb={class:"tw-max-w-[250px] tw-text-sm"},Gb={class:"tw-px-6 tw-py-4"},Xb={key:0},tx=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),ex=[tx];function rx(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[$b,(0,s._)("div",Eb,[(0,s._)("div",Tb,[jb,(0,s.Wm)(nt.hw,{type:"number","hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[0]||(e[0]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Fb,[Vb,(0,s.Wm)(nt.hw,{type:"number","hide-details":!0,modelValue:l.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Ib,[Ob,(0,s.Wm)(nt.hw,{type:"text","hide-details":!0,modelValue:l.note,"onUpdate:modelValue":e[2]||(e[2]=t=>l.note=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Hb,[Mb,(0,s.Wm)(ot.T,{onClick:o.handleAdd,class:"mx-auto !tw-px-0 !tw-py-0","min-height":"40px","min-width":"40",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])]),(0,s._)("div",Rb,[(0,s._)("div",Nb,[(0,s._)("table",Yb,[Zb,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Kb,(0,lt.zw)(t.quantity),1),(0,s._)("td",Bb,(0,lt.zw)(t.price)+" "+(0,lt.zw)(l.currency),1),(0,s._)("td",Qb,[(0,s._)("p",Jb,(0,lt.zw)(t.note),1)]),(0,s._)("td",Gb,[(0,s.Wm)(ot.T,{onClick:e=>o.handleDeleteClicked(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==r.offers.length?((0,s.wg)(),(0,s.iD)("tr",Xb,ex)):(0,s.kq)("",!0)])])])]),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this offer?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"])])}var ax={props:["offers"],data(){return{currency:c,deletePopup:!1,toDeleteID:null,quantity:1,price:0,note:""}},methods:{handleDeleteClicked(t){this.toDeleteID=t,this.deletePopup=!0},handleDelete(t){if(this.deletePopup=!1,!t)return!1;this.$emit("update:offers",this.offers.filter((t=>t.id!=this.toDeleteID)))},handleAdd(){const t=this.offers.length>0?this.offers[this.offers.length-1].id:0,e=t+1,r={id:e,quantity:this.quantity,price:this.price,note:this.note};this.$emit("update:offers",[...this.offers,r]),this.quantity=1,this.price=0,this.note=""}}};const sx=(0,g.Z)(ax,[["render",rx]]);var lx=sx,ox={components:{VariantActions:Lb,ProductOffers:lx},data(){return{currency:c,isLoading:!1,isLoaded:!1,addVariants:!1,variantId:1,variants:[],image:"",imageFile:null,color:"",size:"",quantity:0,warehouse:0,stockAlert:0,offers:[],product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},reference:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},warehouse:{valid:!0,message:""},variants:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;if(t.addVariants=this.addVariants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t}))),this.addVariants)t.variants=this.variants;else{const e=[{id:this.variantId,color:null,size:null,quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert}];t.variants=e}pa.create(t).then((t=>{"PRODUCT_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.product={name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},this.offers=[],this.selectedDeliveries=[],this.variants=[],this.$store.dispatch("product/addProduct",t.data.data.product)),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Lt(this.product.name,"Product name"),this.formStatus.reference=Lt(this.product.reference,"Reference"),this.formStatus.buyingPrice=Lt(this.product.buyingPrice,"Buying price"),this.formStatus.link_store=Lt(this.product.link_store,"Link store"),this.formStatus.link_video=Lt(this.product.link_video,"Link video"),this.formStatus.transport_mode=Lt(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=Lt(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=Lt(this.product.country_of_purchase,"Country of purchase"),this.formStatus.quantity=Lt(this.quantity,"Quantity"),this.formStatus.sellingPrice=Lt(this.product.sellingPrice,"Selling price"),this.formStatus.description=Lt(this.product.description,"Description"),this.formStatus.variants=$t(this.variants),this.addVariants||"admin"!=this.user.role||(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"}),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.reference.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&(!this.addVariants||this.formStatus.variants.valid)&&(!!this.addVariants||this.formStatus.quantity.valid)&&(!!this.addVariants||this.formStatus.warehouse.valid)},addVariant(){if("admin"==this.user.role&&(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"},!this.formStatus.warehouse.valid))return!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.stockAlert=0,this.color="",this.size="",this.quantity=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return this.isLoaded=!1,Ab.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getWarhouses();const t=this.deliveries[1];t&&(this.selectedDeliveries=[t.id])}};const ix=(0,g.Z)(ox,[["render",ab]]);var wx=ix;const nx=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update product informations")],-1),dx={key:0},cx={key:1},ux={key:0,class:"tw-flex py-3 px-5 tw-border tw-justify-between bg-white tw-w-full tw-rounded-md tw-text-neutral-800 tw-items-center tw-mb-5"},px={class:"tw-flex tw-items-center"},gx={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},mx={class:"tw-w-full tw-flex tw-items-center"},hx=(0,s._)("div",{class:"text-body-2 tw-text-zinc-700"},"Status Approval :",-1),fx={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},bx=["disabled"],xx=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),vx={class:"mb-5 px-3"},yx=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),_x={class:"tw-w-full"},kx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),Cx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Dx={class:"tw-w-full"},Sx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),Ux={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zx={class:"tw-w-full"},qx={class:"mb-1 text-body-2 tw-text-zinc-700"},Px={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lx={class:"mb-1 text-body-2 tw-text-zinc-700"},Wx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ax=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),$x={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ex={key:0,class:"tw-h-fit tw-mb-"},Tx=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),jx={class:"tw-relative"},Fx=(0,s._)("option",{value:0},"Select",-1),Vx=["value"],Ix={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ox={key:0,class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Hx={class:"md:tw-col-span-3 tw-col-span-12"},Mx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Rx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Nx={class:"md:tw-col-span-3 tw-col-span-12"},Yx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Zx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Kx={class:"md:tw-col-span-3 tw-col-span-12"},Bx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Qx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jx={class:"md:tw-col-span-3 tw-col-span-12"},Gx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Xx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},tv={key:1},ev={class:"tw-col-span-12 tw-flex tw-justify-end"},rv=["disabled"],av=(0,s._)("span",{class:"tw-text-white"},"Add",-1),sv={class:""},lv={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},ov=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),iv={class:"mb-1 text-body-2 tw-text-zinc-700"},wv={key:1,class:"tw-max-w-full tw-overflow-x-auto"},nv={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},dv={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},cv={key:0,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},uv=(0,s._)("div",{class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"}," warehouse ",-1),pv=[uv],gv={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},mv={key:0,class:"tw-px-6 tw-py-2 tw-capitalize"},hv={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},fv={class:"tw-px-6 tw-py-2"},bv={class:"tw-px-6 tw-py-2"},xv={class:"tw-flex tw-flex-col"},vv={key:0,class:"tw-text-xs tw-text-green-500"},yv={class:"tw-px-6 tw-py-2"},_v={key:1,class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},kv=(0,s._)("h1",null,"Image",-1),Cv={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},Dv={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},Sv={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},Uv={class:"tw-w-max tw-relative"},zv=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),qv={class:"md:tw-col-span-6 tw-col-span-12"},Pv={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},Lv=["src"],Wv=(0,s._)("span",null,"No image available",-1),Av=[Wv],$v={class:"mb-5"},Ev=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),Tv={class:"tw-w-full"},jv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Fv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vv={class:"tw-w-full"},Iv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Ov={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Hv={class:"tw-w-full"},Mv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),Rv={class:"tw-relative"},Nv=["error"],Yv=(0,s._)("option",{value:""},"Select",-1),Zv=(0,s._)("option",{value:"Sea"},"Sea",-1),Kv=(0,s._)("option",{value:"Air"},"Air",-1),Bv=[Yv,Zv,Kv],Qv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jv={class:"tw-w-full"},Gv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),Xv={class:"tw-relative"},ty=["error"],ey=(0,s._)("option",{value:""},"Select",-1),ry=(0,s._)("option",{value:"China"},"China",-1),ay=(0,s._)("option",{value:"Dubai"},"Dubai",-1),sy=(0,s._)("option",{value:"Turky"},"Turky",-1),ly=[ey,ry,ay,sy],oy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},iy={class:"tw-w-full"},wy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),ny={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},cy={class:"mb-5"},uy=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),py={class:"mb-5"},gy=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),my=(0,s._)("h1",null,"Deliveries",-1),hy={class:"tw-mt-2"},fy={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},by=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),xy=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function vy(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UpdateVariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[nx,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dx,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",cx,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("div",ux,[(0,s._)("div",px,[(0,s.Uk)(" Product ID: "),(0,s._)("span",gx,(0,lt.zw)(i.id),1)]),(0,s._)("div",null,[(0,s._)("div",mx,[hx,(0,s._)("label",fx,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingStatus,"onUpdate:modelValue":e[0]||(e[0]=t=>o.status=t),onChange:e[1]||(e[1]=(...t)=>i.updateApprouved&&i.updateApprouved(...t)),type:"checkbox",class:"tw-sr-only tw-peer"},null,40,bx),[[a.e8,o.status]]),xx]),o.isLoadingStatus?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("div",vx,[yx,(0,s.Wm)(qa.o,{class:"py-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",_x,[kx,(0,s.Wm)(nt.hw,{error:!o.formStatus.name.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Cx,(0,lt.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Dx,[Sx,(0,s.Wm)(nt.hw,{error:!o.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("quantity")),disabled:"","hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ux,(0,lt.zw)(o.formStatus.quantity.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",zx,[(0,s._)("div",qx," Buying Price ("+(0,lt.zw)(o.currency)+") ",1),(0,s.Wm)(nt.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Px,(0,lt.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Lx," Selling Price ("+(0,lt.zw)(o.currency)+") ",1),(0,s.Wm)(nt.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Wx,(0,lt.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Ax,(0,s.Wm)(Qm.z,{error:!o.formStatus.description.valid,onKeyup:e[10]||(e[10]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[11]||(e[11]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",$x,(0,lt.zw)(o.formStatus.description.message),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",md:"12",class:"tw-border-t tw-border-t-neutral-300 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Ex,[Tx,(0,s._)("div",jx,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.warehouse=t),onChange:e[13]||(e[13]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Fx,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.name),9,Vx)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Ix,(0,lt.zw)(o.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),(0,s._)("div",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Ox,[(0,s._)("div",Hx,[Mx,(0,s.Wm)(nt.hw,{error:!o.formStatus.size.valid,onKeyup:e[14]||(e[14]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[15]||(e[15]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Rx,(0,lt.zw)(o.formStatus.size.message),1)]),(0,s._)("div",Nx,[Yx,(0,s.Wm)(nt.hw,{error:!o.formStatus.color.valid,onKeyup:e[16]||(e[16]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[17]||(e[17]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Zx,(0,lt.zw)(o.formStatus.color.message),1)]),(0,s._)("div",Kx,[Bx,(0,s.Wm)(nt.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[18]||(e[18]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[19]||(e[19]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Qx,(0,lt.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",Jx,[Gx,(0,s.Wm)(nt.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[20]||(e[20]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[21]||(e[21]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Xx,(0,lt.zw)(o.formStatus.stockAlert.message),1)])])):(0,s.kq)("",!0),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",tv,[(0,s._)("div",ev,[(0,s._)("button",{disabled:!o.quantity,class:(0,lt.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[22]||(e[22]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(wt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),av],10,rv)])])):(0,s.kq)("",!0),(0,s._)("div",sv,[(0,s._)("div",lv,[ov,(0,s._)("div",iv," Quantity Total: "+(0,lt.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,lt.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",wv,[(0,s._)("table",nv,[(0,s._)("thead",dv,[(0,s._)("tr",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("th",cv,pv)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","Stock Alert","admin"==i.user.role?"actions":""],(t=>((0,s.wg)(),(0,s.iD)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",gv,(0,lt.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",mv,(0,lt.zw)(t.warehouse.name),1)):(0,s.kq)("",!0),(0,s._)("td",hv,(0,lt.zw)(t.size),1),(0,s._)("td",fv,(0,lt.zw)(t.color),1),(0,s._)("td",bv,[(0,s._)("div",xv,[(0,s._)("span",null,(0,lt.zw)(t.quantity),1),t.created_at?((0,s.wg)(),(0,s.iD)("span",vv,(0,lt.zw)(t.available_quantity),1)):(0,s.kq)("",!0)])]),(0,s._)("td",yv,(0,lt.zw)(t.stockAlert),1),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",_v,[(0,s._)("div",null,[(0,s.Wm)(n,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])):(0,s.kq)("",!0)])))),128))])])]))])])])),_:1}),(0,s.Wm)(Pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[kv,(0,s._)("div",Cv,[(0,s._)("div",Dv,[(0,s._)("label",Sv,[(0,s._)("div",Uv,[(0,s.Wm)(wt.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),zv]),(0,s._)("input",{onChange:e[23]||(e[23]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",qv,[(0,s._)("div",Pv,[(0,s._)("img",{class:(0,lt.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",src:o.serverUrl+"storage/"+o.image,id:"image-preview",alt:"Image Preview"},null,10,Lv),(0,s._)("div",{class:(0,lt.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},Av,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",$v,[Ev,(0,s.Wm)(qa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Tv,[jv,(0,s.Wm)(nt.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[24]||(e[24]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[25]||(e[25]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Fv,(0,lt.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Vv,[Iv,(0,s.Wm)(nt.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[26]||(e[26]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[27]||(e[27]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ov,(0,lt.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Hv,[Mv,(0,s._)("div",Rv,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.transport_mode.valid,onKeyup:e[28]||(e[28]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[29]||(e[29]=t=>o.product.transport_mode=t)},Bv,40,Nv),[[a.bM,o.product.transport_mode]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Qv,(0,lt.zw)(o.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Jv,[Gv,(0,s._)("div",Xv,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.country_of_purchase.valid,onKeyup:e[30]||(e[30]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[31]||(e[31]=t=>o.product.country_of_purchase=t)},ly,40,ty),[[a.bM,o.product.country_of_purchase]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",oy,(0,lt.zw)(o.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",iy,[wy,(0,s._)("div",ny,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[32]||(e[32]=t=>o.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,o.product.expedition_date]])]),(0,s._)("div",dy,(0,lt.zw)(o.formStatus.expedition_date.message),1)])])),_:1})])),_:1})]),(0,s._)("div",cy,[uy,(0,s.Wm)(qa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[33]||(e[33]=t=>o.offers=t)},null,8,["offers"])])])),_:1})])),_:1})])]),(0,s._)("div",py,[gy,(0,s.Wm)(qa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.j4)(Pa.D,{key:0,cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[my,(0,s._)("div",hy,[(0,s.Wm)(Km.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[34]||(e[34]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",fy,[(0,s.Wm)(ot.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[by])),_:1}),(0,s.Wm)(ot.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[xy])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}const yy={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},_y={class:"tw-w-full"},ky=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Add quantity",-1),Cy={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end tw-mt-3"},Dy=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),Sy=[Dy],Uy=["disabled"],zy=(0,s._)("span",{class:"tw-text-white"},"Add",-1),qy=[zy];function Py(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("UpdateProductVariant"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[r.variant.created_at?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,onClick:e[0]||(e[0]=t=>l.visibleAdd=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1})):(0,s.kq)("",!0),void 0===r.variant.on_hold||r.variant.available_quantity==r.variant.quantity?((0,s.wg)(),(0,s.j4)(ot.T,{key:1,onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(ot.T,{onClick:e[2]||(e[2]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(n,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"]),(0,s.Wm)(n,{visible:l.visibleAdd,onCancel:o.cancelAdd},{default:(0,s.w5)((()=>[(0,s._)("div",yy,[(0,s._)("div",_y,[ky,(0,s.Wm)(nt.hw,{"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>l.quantity=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Cy,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.cancelAdd&&o.cancelAdd(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},Sy),(0,s._)("button",{disabled:!l.quantity||0==l.quantity,class:(0,lt.C_)([{"!tw-bg-green-500":0!=l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[5]||(e[5]=(...t)=>o.addQuantity&&o.addQuantity(...t))},qy,10,Uy)])])])),_:1},8,["visible","onCancel"])])}var Ly={components:{UpdateProductVariant:zb},props:["variant"],data(){return{visible:!1,visibleAdd:!1,deletePopup:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1},cancelAdd(){this.visibleAdd=!1},update(t){console.log("from actions: ",t)},addQuantity(){this.newVariant.quantity=parseInt(this.newVariant.quantity)+parseInt(this.quantity),this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(this.quantity),this.quantity=1,this.cancelAdd()},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}},mounted(){this.newVariant=this.variant}};const Wy=(0,g.Z)(Ly,[["render",Py]]);var Ay=Wy,$y={components:{UpdateVariantActions:Ay,ProductOffers:lx},data(){return{currency:c,serverUrl:n,isLoading:!1,isLoaded:!1,variantId:1,variants:[],color:"",size:"",quantity:0,stockAlert:0,image:"",imageFile:null,offers:[],isLoadingStatus:!1,status:!1,note:null,warehouse:0,product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},variants:{valid:!0,message:""},warehouse:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},id(){return this.$route.params.id},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;t.variants=this.variants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t,product_id:this.id}))),pa.update(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message}),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},updateApprouved(){this.isLoadingStatus=!0;const t={status:!!this.status,note:this.note};pa.updateStatus(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("product/setProduct",t.data.data.product),this.$emit("cancel")),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingStatus=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},getLastVariantId(t){return Math.max(...t.map((t=>t.id)))+1},validate(){return this.formStatus.name=Lt(this.product.name,"Product name"),this.formStatus.buyingPrice=Lt(this.product.buyingPrice,"Buying price"),this.formStatus.sellingPrice=Lt(this.product.sellingPrice,"Selling price"),this.formStatus.link_store=Lt(this.product.link_store,"Link store"),this.formStatus.link_video=Lt(this.product.link_video,"Link video"),this.formStatus.transport_mode=Lt(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=Lt(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=Lt(this.product.country_of_purchase,"Country of purchase"),this.formStatus.description=Lt(this.product.description,"Description"),this.formStatus.variants=$t(this.variants),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.sellingPrice&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.description.valid&&this.formStatus.variants.valid},addVariant(){if(0==this.warehouse)return this.$alert({type:"warning",title:"Select warehouse"}),!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,warehouse:this.warehouses.find((t=>t.id==this.warehouse)),stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.color="",this.size="",this.quantity=0,this.stockAlert=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.quantity<=0&&(this.quantity=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return Ab.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),t)),this.$handleApiError)},getProduct(){return pa.getProduct(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{variations:e,buying_price:r,selling_price:a,ref:s,link_video:l,link_store:o,expedition_date:i,transport_mode:w,country_of_purchase:n,name:d,description:c,deliveries:u,image:p,offers:g,status:m}=t.data.data.products;return this.variants=e,this.product.buyingPrice=r,this.product.sellingPrice=a,this.product.name=d,this.product.reference=s,this.product.link_video=l,this.product.link_store=o,this.product.expedition_date=i?i.split(" ")[0]:null,this.product.transport_mode=w,this.product.country_of_purchase=n,this.product.description=c,this.image=p,this.offers=g,this.status=Boolean(m),this.variantId=this.getLastVariantId(e),this.selectedDeliveries=u.map((t=>t.delivery_id)),this.isLoaded=!0,t}}),this.$handleApiError)},getData(){this.isLoaded=!1,Promise.allSettled([this.getWarhouses(),this.getProduct()]).then((t=>{t.every((t=>"fulfilled"==t.status))&&(this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getData()}};const Ey=(0,g.Z)($y,[["render",vy]]);var Ty=Ey;const jy={class:"tw-pb-14"},Fy=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Show product informations")],-1),Vy={key:0},Iy={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Oy={class:"tw-grid tw-grid-cols-12 tw-gap-2"},Hy={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},My=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Name:",-1),Ry={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Ny={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Yy=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Reference:",-1),Zy={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Ky={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},By=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Buying Price:",-1),Qy={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Jy={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Gy=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Selling Price:",-1),Xy={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},t_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},e_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Delivered:",-1),r_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},a_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},s_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Sent:",-1),l_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},o_={class:"tw-col-span-12 md:tw-col-span-12 tw-flex tw-gap-2 tw-flex-col tw-flex-wrap"},i_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Description:",-1),w_={class:"tw-text-neutral-800 tw-font-medium"},n_={key:2,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},d_={key:3,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},c_={class:"tw-grid tw-grid-cols-12 tw-gap-2"},u_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},p_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Store Link:",-1),g_=["href"],m_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},h_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Video Link:",-1),f_=["href"],b_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},x_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Expidition Date:",-1),v_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},y_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},__=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Transport Mode:",-1),k_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},C_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},D_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Country Of Purchase:",-1),S_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},U_={key:4,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},z_={key:5,class:"tw-border bg-white tw-w-full tw-rounded-md"},q_={key:6,class:"tw-text-neutral-700 tw-font-bold tw-mt-5 tw-mb-1"},P_={key:7,class:"tw-overflow-hidden tw-border bg-white tw-w-full tw-rounded-md"},L_={class:"tw-max-w-full tw-overflow-auto"},W_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},A_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},$_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},E_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},T_={key:0},j_={key:1},F_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},V_={class:"tw-px-6 tw-py-2"},I_={class:"tw-px-6 tw-py-2"},O_={class:"tw-flex tw-flex-col"},H_={class:"tw-px-6 tw-py-2"},M_={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},R_=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),N_=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),Y_=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1),Z_={class:"tw-px-6 tw-py-2"},K_={class:"tw-flex tw-flex-col tw-font-medium"},B_=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1);function Q_(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ProductTracking");return(0,s.wg)(),(0,s.iD)("div",jy,[Fy,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Vy,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Iy,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",Oy,[(0,s._)("div",Hy,[My,(0,s._)("p",Ry,(0,lt.zw)(l.product.name),1)]),(0,s._)("div",Ny,[Yy,(0,s._)("p",Zy,(0,lt.zw)(l.product.ref),1)]),(0,s._)("div",Ky,[By,(0,s._)("p",Qy,(0,lt.zw)(l.product.buying_price)+" "+(0,lt.zw)(l.currency),1)]),(0,s._)("div",Jy,[Gy,(0,s._)("p",Xy,(0,lt.zw)(l.product.selling_price)+" "+(0,lt.zw)(l.currency),1)]),(0,s._)("div",t_,[e_,(0,s._)("p",r_,(0,lt.zw)(o.qtyTotalDelivered),1)]),(0,s._)("div",a_,[s_,(0,s._)("p",l_,(0,lt.zw)(o.qtyTotalSent),1)]),(0,s._)("div",o_,[i_,(0,s._)("p",w_,(0,lt.zw)(l.product.description),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",n_,"Expidition Infos")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",d_,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",c_,[(0,s._)("div",u_,[p_,(0,s._)("a",{target:"_blank",href:l.product.link_store,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,lt.zw)(l.product.link_store),9,g_)]),(0,s._)("div",m_,[h_,(0,s._)("a",{target:"_blank",href:l.product.link_video,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,lt.zw)(l.product.link_video),9,f_)]),(0,s._)("div",b_,[x_,(0,s._)("p",v_,(0,lt.zw)(l.product.expedition_date.split(" ")[0]),1)]),(0,s._)("div",y_,[__,(0,s._)("p",k_,(0,lt.zw)(l.product.transport_mode),1)]),(0,s._)("div",C_,[D_,(0,s._)("p",S_,(0,lt.zw)(l.product.country_of_purchase),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",U_,"Tracking")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",z_,[(0,s.Wm)(w,{product:l.product},null,8,["product"])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",q_,"Variations")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",P_,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",L_,[(0,s._)("table",W_,[(0,s._)("thead",A_,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","size","color","qty","Stock Alert"],(t=>(0,s._)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",$_,(0,lt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",E_,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",T_,(0,lt.zw)(t.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",j_,(0,lt.zw)(e+1),1)):(0,s.kq)("",!0)]),(0,s._)("th",F_,(0,lt.zw)(t.size),1),(0,s._)("td",V_,(0,lt.zw)(t.color),1),(0,s._)("td",I_,[(0,s._)("div",O_,[(0,s._)("span",null,"Initial: "+(0,lt.zw)(t.quantity),1)])]),(0,s._)("td",H_,(0,lt.zw)(t.stockAlert),1)])))),128)),(0,s._)("tr",M_,[R_,N_,Y_,(0,s._)("td",Z_,[(0,s._)("div",K_,[(0,s._)("span",null,"Total: "+(0,lt.zw)(o.qtyTotal),1)])]),B_])])])])])])])):(0,s.kq)("",!0)])}const J_={class:"tw-flex tw-items-ce tw-gap-1 tw-border-b tw-border-solid tw-border-neutral-200"},G_=["onClick"];function X_(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingTable");return(0,s.wg)(),(0,s.j4)(vs._,{flat:"",class:"tw-p-1"},{default:(0,s.w5)((()=>[(0,s._)("div",J_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,onClick:e=>l.tab=t.id,class:(0,lt.C_)(["tw-px-4 tw-py-2 tw-rounded-t hover:tw-border-orange-500/50 tw-duration-300 tw-border tw-border-solid tw-border-neutral-200 tw-text-neutral-500 tw-border-b-0",{"tw-bg-orange-500 !tw-text-white tw-border-transparent":t.id==l.tab}])},(0,lt.zw)(t.name),11,G_)))),128))]),(0,s.kq)("",!0),(0,s.Wm)(ks.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Cs.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{product:r.product,source:t.source},null,8,["product","source"])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const tk={class:"tw-mt-5"},ek={class:"tw-max-w-full tw-overflow-auto"},rk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},ak={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},sk={key:0},lk={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},ok={key:1},ik={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"};function wk(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingRow");return(0,s.wg)(),(0,s.iD)("div",tk,[(0,s._)("div",ek,[(0,s._)("table",rk,[(0,s._)("thead",ak,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",sk,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","name","quantity","actions"],(t=>(0,s._)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",lk,(0,lt.zw)(t),1)],2))),64))])):(0,s.kq)("",!0),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",ok,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","quantity","actions"],(t=>(0,s._)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",ik,(0,lt.zw)(t),1)],2))),64))])):(0,s.kq)("",!0)]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{item:t,index:e+1,key:t.id,source:r.source},null,8,["item","index","source"])))),128))])])])])}const nk={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},dk={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},ck={class:"tw-flex tw-items-start tw-h-full"},uk={key:0},pk={key:1},gk={key:0,scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},mk={class:"tw-px-6 tw-py-2"},hk={key:0},fk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},bk={key:0,class:"tw-h-fit tw-py-2"},xk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),vk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},yk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),_k={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},kk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Ck={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Dk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Sk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Uk={key:1},zk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},qk={key:0,class:"tw-h-fit tw-py-2"},Pk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Lk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Wk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),Ak={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},$k=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Ek={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Tk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),jk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Fk={class:"tw-px-6 tw-py-2 tw-space-x-3"};function Vk(t,e,r,a,l,o){const i=(0,s.up)("ShowProductVariantActions");return(0,s.wg)(),(0,s.iD)("tr",nk,[(0,s._)("th",dk,[(0,s._)("div",ck,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",uk,(0,lt.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",pk,(0,lt.zw)(r.index),1)):(0,s.kq)("",!0)])]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("th",gk,(0,lt.zw)(r.item.name),1)):(0,s.kq)("",!0),(0,s._)("td",mk,["warehouses"==r.source?((0,s.wg)(),(0,s.iD)("div",hk,[(0,s._)("div",fk,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,lt.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(jt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",bk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[xk,(0,s._)("td",vk,(0,lt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[yk,(0,s._)("td",_k,(0,lt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[kk,(0,s._)("td",Ck,(0,lt.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Dk,(0,s._)("td",Sk,(0,lt.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0),"deliveries"==r.source?((0,s.wg)(),(0,s.iD)("div",Uk,[(0,s._)("div",zk,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,lt.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(jt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",qk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Pk,(0,s._)("td",Lk,(0,lt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[Wk,(0,s._)("td",Ak,(0,lt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[$k,(0,s._)("td",Ek,(0,lt.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Tk,(0,s._)("td",jk,(0,lt.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("td",Fk,[(0,s._)("div",null,[(0,s.Wm)(i,{type:r.source,source:r.item},null,8,["type","source"])])])])}function Ik(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetails");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(ot.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue-lighten-2",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})])),_:1}),(0,s.Wm)(i,{visible:l.visible,onCancel:o.cancel,type:r.type,source:r.source},null,8,["visible","onCancel","type","source"])])}const Ok={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Hk={class:"tw-p-5"},Mk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Rk=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},"SIZE"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"},"COLOR"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1);function Nk(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetailsRow"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Ok,[(0,s.Wm)(ot.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Hk,[(0,s._)("table",Mk,[Rk,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.source.product_variations,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{index:e,key:t.id,item:t,type:r.type},null,8,["index","item","type"])))),128))])]),(0,s.kq)("",!0)])])])),_:1},8,["visible","onCancel"])])}const Yk={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Zk={class:"tw-w-4 tw-px-2 tw-py-1"},Kk={key:0},Bk={key:1},Qk={class:"tw-w-4 tw-px-2 tw-py-1"},Jk={class:"tw-w-4 tw-px-2 tw-py-1"},Gk={class:"tw-w-4 tw-px-2 tw-py-1"},Xk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},tC={key:0,class:"tw-h-fit tw-py-2"},eC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),rC={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},aC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),sC={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},lC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),oC={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},iC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),wC={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"};function nC(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",Yk,[(0,s._)("td",Zk,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",Kk,(0,lt.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",Bk,(0,lt.zw)(r.index+1),1)):(0,s.kq)("",!0)]),(0,s._)("td",Qk,(0,lt.zw)(r.item.size),1),(0,s._)("td",Jk,(0,lt.zw)(r.item.color),1),(0,s._)("td",Gk,[(0,s._)("div",null,[(0,s._)("div",Xk,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null," Total: "+(0,lt.zw)(r.item.on_hand_quantity),1),(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(jt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",tC,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[eC,(0,s._)("td",rC,(0,lt.zw)(r.item.movements_total_confirmed_quantity),1)]),(0,s._)("tr",null,[aC,(0,s._)("td",sC,(0,lt.zw)(r.item.movements_total_not_confirmed_quantity),1)]),(0,s._)("tr",null,[lC,(0,s._)("td",oC,(0,lt.zw)(r.item.total_shipped_quantity),1)]),(0,s._)("tr",null,[iC,(0,s._)("td",wC,(0,lt.zw)(r.item.total_delivered_quantity),1)])])])])):(0,s.kq)("",!0)])),_:1})])])])}var dC={props:["type","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}}};const cC=(0,g.Z)(dC,[["render",nC]]);var uC=cC,pC={props:["visible","source","type"],components:{ProductVariantDetailsRow:uC},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const gC=(0,g.Z)(pC,[["render",Nk]]);var mC=gC,hC={props:["product","source","type"],components:{ProductVariantDetails:mC},data(){return{visible:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1}},mounted(){console.log(this.source)}};const fC=(0,g.Z)(hC,[["render",Ik]]);var bC=fC,xC={components:{ShowProductVariantActions:bC},props:["source","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{get_total_quantity(t,e="on_hand_quantity"){let r=0;return t.forEach((t=>{r+=t[e]})),r}}};const vC=(0,g.Z)(xC,[["render",Vk]]);var yC=vC,_C={props:["product","source"],components:{ProductTrackingRow:yC},computed:{user(){return this.$store.getters["user/user"]},items(){return this.product.tracking[this.source]}},methods:{},mounted(){}};const kC=(0,g.Z)(_C,[["render",wk]]);var CC=kC,DC={components:{ProductTrackingTable:CC},props:["product"],data(){return{tab:1,tabs:[{id:1,name:"Deliveries",source:"deliveries"},{id:2,name:"Warehouses",source:"warehouses"}]}}};const SC=(0,g.Z)(DC,[["render",X_]]);var UC=SC,zC={components:{ProductTracking:UC},data(){return{currency:c,isLoading:!1,isLoaded:!1,variantId:1,variants:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""}}},computed:{user(){return this.$store.getters["user/user"]},qtyTotalDelivered(){let t=0;return this.product.tracking.deliveries.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),t},qtyTotalSent(){let t=0;return this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.movements_total_confirmed_quantity,t+=e.movements_total_not_confirmed_quantity}))})),t},qtyTotal(){if(this.isLoaded){let t=0;return this.product.variations.forEach((e=>{t+=e.quantity})),t}return 0}},methods:{getProduct(){const t=this.$route.params.id;pa.getProduct(t).then((t=>{"SUCCESS"==t.data.code&&(this.product=t.data.data.products,this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getProduct()}};const qC=(0,g.Z)(zC,[["render",Q_]]);var PC=qC;class LC{async paginate(t="",e){return await $.getCookie(),W.post("api/supply-requests"+t,e)}async create(t){return await $.getCookie(),W.post("api/supply-requests/new",t)}async update(t,e){return await $.getCookie(),W.post("api/supply-requests/"+t,e)}async delete(t){return await $.getCookie(),W["delete"]("api/supply-requests/"+t)}}var WC=new LC;const AC={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},$C=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),EC={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},TC=["disabled"],jC=["disabled"];var FC={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=(0,ve.iH)(!1),l=(0,i.oR)(),o=async()=>{a.value=!0,await WC["delete"](r.item.id).then((t=>{"SUCCESS"==t.data.code&&(l.dispatch("supply-request/deleteSupplyRequest",r.item.id),Pc("Deleted Successfully"),w())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),Pc(e,"error"),w()})),a.value=!1},w=()=>{e("update:visible",!1)};return(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{visible:r.visible,onCancel:w,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",AC,[$C,(0,s._)("div",EC,[(0,s._)("button",{onClick:w,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,TC),(0,s._)("button",{onClick:o,disabled:a.value,type:"button",class:(0,lt.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,lt.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,jC)])])])),_:1},8,["visible","closeable"])])}}};const VC=FC;var IC=VC;const OC=[{name:"Pending",value:"pending",style:"tw-text-yellow-600 tw-bg-yellow-100",text:"tw-text-yellow-600"},{name:"Accepted",value:"accepted",style:"tw-text-emerald-600 tw-bg-emerald-100",text:"tw-text-emerald-600"},{name:"Refused",value:"refused",style:"tw-text-red-600 tw-bg-red-100",text:"tw-text-red-600"}],HC={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},MC={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},RC=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),NC={class:"tw-p-5 tw-space-y-4"},YC=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),ZC={class:"tw-font-semibold tw-mt-1"},KC={class:"tw-flex tw-items-center"},BC={key:0,class:"tw-flex-1"},QC=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),JC={class:"tw-font-semibold tw-mt-1"},GC={class:"tw-text-blue-500"},XC={class:"tw-text-green-500"},tD={class:"tw-flex-1"},eD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),rD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),aD={class:"tw-font-semibold tw-mt-1"},sD={key:0},lD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),oD={class:"tw-font-semibold tw-mt-1"};var iD={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=(0,ve.Vh)(r,"item"),l=(0,s.Fl)((()=>OC.find((t=>t.value==a.value.status)))),o=()=>{e("update:visible",!1)};return(t,e)=>{const i=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{visible:r.visible,onCancel:o},{default:(0,s.w5)((()=>[(0,s._)("div",HC,[(0,s._)("div",MC,[RC,(0,s._)("div",NC,[(0,s._)("div",null,[YC,(0,s._)("p",ZC,(0,lt.zw)((0,ve.SU)(a).product.name),1)]),(0,s._)("div",KC,[(0,ve.SU)(a).product_variation.color||(0,ve.SU)(a).product_variation.size?((0,s.wg)(),(0,s.iD)("div",BC,[QC,(0,s._)("p",JC,[(0,s._)("span",GC,(0,lt.zw)((0,ve.SU)(a).product_variation.color),1),(0,s.Uk)(),(0,s._)("span",XC,(0,lt.zw)((0,ve.SU)(a).product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",tD,[eD,(0,s._)("p",{class:(0,lt.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[(0,ve.SU)(l).style]])},(0,lt.zw)((0,ve.SU)(l).name),3)])]),(0,s._)("div",null,[rD,(0,s._)("p",aD,(0,lt.zw)((0,ve.SU)(a).note),1)]),(0,ve.SU)(a).admin_note?((0,s.wg)(),(0,s.iD)("div",sD,[lD,(0,s._)("p",oD,(0,lt.zw)((0,ve.SU)(a).admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:o,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const wD=iD;var nD=wD;const dD={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var cD={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,ve.qj)({delete:!1,show:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",dD,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,ve.SU)(nD),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[1]||(a[1]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,ve.SU)(IC),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[3]||(a[3]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const uD=cD;var pD=uD;const gD={class:"tw-px-4 tw-py-2"},mD={class:"tw-px-4 tw-py-2 tw-truncate"},hD={class:"tw-max-w-[200px] tw-truncate"},fD={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},bD={class:"tw-text-blue-500"},xD={class:"tw-text-green-500"},vD={class:"tw-px-4 tw-py-2 tw-truncate"},yD={class:"tw-max-w-[200px] tw-truncate"},_D={class:"tw-px-4 tw-py-2 tw-truncate"},kD={class:"tw-px-4 tw-py-2"},CD={class:"tw-text-sm tw-whitespace-nowrap"};var DD={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,ve.Vh)(e,"item"),a=(0,s.Fl)((()=>OC.find((t=>t.value==r.value.status))));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",gD,(0,lt.zw)((0,ve.SU)(r).id),1),(0,s._)("td",mD,[(0,s._)("p",hD,(0,lt.zw)((0,ve.SU)(r).product.name),1)]),(0,s._)("td",fD,[(0,s._)("p",null,[(0,s._)("span",bD,(0,lt.zw)((0,ve.SU)(r).product_variation.color),1),(0,s.Uk)(),(0,s._)("span",xD,(0,lt.zw)((0,ve.SU)(r).product_variation.size),1)])]),(0,s._)("td",vD,[(0,s._)("p",yD,(0,lt.zw)((0,ve.SU)(r).quantity),1)]),(0,s._)("td",_D,[(0,s._)("p",{class:(0,lt.C_)(["tw-max-w-[200px] tw-w-fit tw-truncate tw-px-2 tw-py-1 tw-rounded tw-font-semibold tw-text-xs tw-uppercase",[(0,ve.SU)(a).style]])},(0,lt.zw)((0,ve.SU)(r).status),3)]),(0,s._)("td",kD,[(0,s._)("p",CD,(0,lt.zw)((0,ve.SU)(Ce())((0,ve.SU)(r).created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,ve.SU)(pD),{item:(0,ve.SU)(r)},null,8,["item"])])]))}};const SD=DD;var UD=SD;const zD={class:""},qD={class:"tw-overflow-x-auto tw-bg-white"},PD={class:"tw-inline-block tw-min-w-full tw-align-middle"},LD={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},WD={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},AD=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),$D={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},ED={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},TD=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),jD=[TD],FD={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},VD={colspan:"11"},ID={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},OD=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),HD=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),MD=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),RD=[HD,MD],ND={class:"tw-mt-6"};var YD={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=t,a=(0,ve.Vh)(r,"options"),l=(0,ve.Vh)(r,"data"),o=(0,ve.Vh)(r,"loading"),i=t=>{e("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",zD,[(0,s._)("div",qD,[(0,s._)("div",PD,[(0,s._)("div",LD,[(0,s._)("table",WD,[AD,!(0,ve.SU)(o)&&(0,ve.SU)(l).length>0?((0,s.wg)(),(0,s.iD)("tbody",$D,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(l),(t=>((0,s.wg)(),(0,s.j4)((0,ve.SU)(UD),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,ve.SU)(o)||0!=(0,ve.SU)(l).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",ED,jD)),(0,ve.SU)(o)?((0,s.wg)(),(0,s.iD)("tbody",FD,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",VD,[(0,s._)("div",ID,[OD,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},RD))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",ND,[(0,s.Wm)((0,ve.SU)(ew),{from:(0,ve.SU)(a).from,to:(0,ve.SU)(a).to,"last-page":(0,ve.SU)(a).last_page,"per-page":(0,ve.SU)(a).per_page,total:(0,ve.SU)(a).total,"current-page":(0,ve.SU)(a).current_page,onPageChange:i},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const ZD=YD;var KD=ZD;const BD={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},QD={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},JD=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),GD={class:"tw-p-5 tw-space-y-4"},XD={class:""},tS={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},eS={key:0,class:"tw-text-xs tw-text-gray-400"},rS={class:"tw-relative"},aS=["disabled"],sS=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),lS=["value"],oS=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),iS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},wS={key:0},nS={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},dS={key:0,class:"tw-text-xs tw-text-gray-400"},cS={class:"tw-relative"},uS=["disabled"],pS=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),gS=["value"],mS=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),hS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),bS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Message",-1),vS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},yS={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},_S=["disabled"],kS=(0,s._)("span",null,"Add",-1);var CS={__name:"SupplyRequestAdd",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=(0,i.oR)(),o=(0,ve.iH)(!1),w=(0,ve.qj)({request:{product_id:"no-value-selected",product_variation_id:"no-value-selected",quantity:0,note:""},errors:{}}),n=(0,s.Fl)((()=>l.getters["product/products"])),d=(0,s.Fl)((()=>l.getters["product/fetched"])),c=(0,s.Fl)((()=>"no-value-selected"==w.request.product_id?[]:n.value.find((t=>t.id==w.request.product_id)).variations));(0,s.YP)((()=>w.request.product_id),(()=>{1!=c.value.length?w.request.product_variation_id="no-value-selected":w.request.product_variation_id=c.value[0].id}));const u=()=>{e("update:visible",!1)},p=async()=>{o.value=!0,await WC.create(w.request).then((t=>{"SUCCESS"==t.data.code&&(Pc("Request has been added"),l.dispatch("supply-request/addSupplyRequest",t.data.supply_request),u())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)w.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&Pc("Something went wrong","error")})),o.value=!1};return(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(l,{visible:r.visible,onCancel:u},{default:(0,s.w5)((()=>[(0,s._)("div",BD,[(0,s._)("div",QD,[JD,(0,s._)("div",GD,[(0,s._)("div",XD,[(0,s._)("label",tS,[(0,s.Uk)("Product "),(0,ve.SU)(d)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",eS," loading..."))]),(0,s._)("div",rS,[(0,s.wy)((0,s._)("select",{disabled:!(0,ve.SU)(d),onChange:e[0]||(e[0]=t=>w.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>w.request.product_id=t),class:(0,lt.C_)([[w.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[sS,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(n),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.name]),value:t.id,key:t.id},(0,lt.zw)(t.name),11,lS)))),128))],42,aS),[[a.bM,w.request.product_id]]),oS]),w.errors.product_id?((0,s.wg)(),(0,s.iD)("label",iS,(0,lt.zw)(w.errors.product_id),1)):(0,s.kq)("",!0)]),(0,ve.SU)(c).length>1?((0,s.wg)(),(0,s.iD)("div",wS,[(0,s._)("label",nS,[(0,s.Uk)("Variation "),(0,ve.SU)(d)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",dS," loading..."))]),(0,s._)("div",cS,[(0,s.wy)((0,s._)("select",{disabled:!(0,ve.SU)(d)||"no-value-selected"==w.request.product_id,onChange:e[2]||(e[2]=t=>w.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>w.request.product_variation_id=t),class:(0,lt.C_)([[w.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[pS,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(c),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.name]),value:t.id,key:t.id},(0,lt.zw)(t.size)+" "+(0,lt.zw)(t.size&&t.color?"|":"")+" "+(0,lt.zw)(t.color),11,gS)))),128))],42,uS),[[a.bM,w.request.product_variation_id]]),mS]),w.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",hS,(0,lt.zw)(w.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[fS,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>w.request.quantity=t),onInput:e[5]||(e[5]=t=>w.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,lt.C_)([[w.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,34),[[a.nr,w.request.quantity]]),w.errors.quantity?((0,s.wg)(),(0,s.iD)("label",bS,(0,lt.zw)(w.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[xS,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[6]||(e[6]=t=>w.request.note=t),onInput:e[7]||(e[7]=t=>w.errors.note=null),type:"number",min:"0",max:"10000",class:(0,lt.C_)([[w.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for your request",rows:"2",required:""},null,34),[[a.nr,w.request.note]]),w.errors.note?((0,s.wg)(),(0,s.iD)("label",vS,(0,lt.zw)(w.errors.note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",yS,[(0,s._)("button",{onClick:u,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:p,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),kS],8,_S)])])])])),_:1},8,["visible"])}}};const DS=CS;var SS=DS;const US={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},zS={class:"mb-5 tw-flex tw-w-full tw-justify-between"},qS=(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ",-1),PS=(0,s._)("span",null,"Create",-1),LS=[PS],WS=(0,s._)("div",{class:"tw-mt-5"},null,-1);var AS={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,ve.qj)({create:!1}),a=(0,ve.qj)({}),l=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),o=(0,ve.iH)(!0),w=async()=>{o.value=!0,await WC.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(a,t.data.data.supply_requests))})),o.value=!1},n=t=>{console.log(t)};return w(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",US,[(0,s._)("div",zS,[qS,(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.create=!0),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-orange-100 tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},LS),r.create?((0,s.wg)(),(0,s.j4)((0,ve.SU)(SS),{key:0,visible:r.create,"onUpdate:visible":e[1]||(e[1]=t=>r.create=t)},null,8,["visible"])):(0,s.kq)("",!0)])]),WS,(0,s.Wm)((0,ve.SU)(KD),{onPageChange:n,data:(0,ve.SU)(l),loading:o.value,options:a},null,8,["data","loading","options"])]))}};const $S=AS;var ES=$S;const TS={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},jS=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),FS={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},VS=["disabled"],IS=["disabled"];var OS={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=(0,ve.iH)(!1),l=(0,i.oR)(),o=async()=>{a.value=!0,await WC["delete"](r.item.id).then((t=>{"SUCCESS"==t.data.code&&(l.dispatch("supply-request/deleteSupplyRequest",r.item.id),Pc("Deleted Successfully"),w())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),Pc(e,"error"),w()})),a.value=!1},w=()=>{e("update:visible",!1)};return(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{visible:r.visible,onCancel:w,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",TS,[jS,(0,s._)("div",FS,[(0,s._)("button",{onClick:w,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,VS),(0,s._)("button",{onClick:o,disabled:a.value,type:"button",class:(0,lt.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,lt.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,IS)])])])),_:1},8,["visible","closeable"])])}}};const HS=OS;var MS=HS;const RS={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},NS={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},YS=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),ZS={class:"tw-p-5 tw-space-y-4"},KS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),BS={class:"tw-font-semibold tw-mt-1"},QS={class:"tw-flex tw-items-center"},JS={key:0,class:"tw-flex-1"},GS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),XS={class:"tw-font-semibold tw-mt-1"},tU={class:"tw-text-blue-500"},eU={class:"tw-text-green-500"},rU={class:"tw-flex-1"},aU=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),sU=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),lU={class:"tw-font-semibold tw-mt-1"},oU={key:0},iU=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),wU={class:"tw-font-semibold tw-mt-1"};var nU={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=(0,ve.Vh)(r,"item"),l=(0,s.Fl)((()=>OC.find((t=>t.value==a.value.status)))),o=()=>{e("update:visible",!1)};return(t,e)=>{const i=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{visible:r.visible,onCancel:o},{default:(0,s.w5)((()=>[(0,s._)("div",RS,[(0,s._)("div",NS,[YS,(0,s._)("div",ZS,[(0,s._)("div",null,[KS,(0,s._)("p",BS,(0,lt.zw)((0,ve.SU)(a).product.name),1)]),(0,s._)("div",QS,[(0,ve.SU)(a).product_variation.color||(0,ve.SU)(a).product_variation.size?((0,s.wg)(),(0,s.iD)("div",JS,[GS,(0,s._)("p",XS,[(0,s._)("span",tU,(0,lt.zw)((0,ve.SU)(a).product_variation.color),1),(0,s.Uk)(),(0,s._)("span",eU,(0,lt.zw)((0,ve.SU)(a).product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",rU,[aU,(0,s._)("p",{class:(0,lt.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[(0,ve.SU)(l).style]])},(0,lt.zw)((0,ve.SU)(l).name),3)])]),(0,s._)("div",null,[sU,(0,s._)("p",lU,(0,lt.zw)((0,ve.SU)(a).note),1)]),(0,ve.SU)(a).admin_note?((0,s.wg)(),(0,s.iD)("div",oU,[iU,(0,s._)("p",wU,(0,lt.zw)((0,ve.SU)(a).admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:o,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const dU=nU;var cU=dU;const uU={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},pU={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},gU=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),mU={class:"tw-p-5 tw-space-y-4"},hU={class:""},fU={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},bU={key:0,class:"tw-text-xs tw-text-gray-400"},xU={class:"tw-relative"},vU=["disabled"],yU=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),_U=["value"],kU=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),CU={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DU={key:0},SU={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},UU={key:0,class:"tw-text-xs tw-text-gray-400"},zU={class:"tw-relative"},qU=["disabled"],PU=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),LU=["value"],WU=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),AU={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$U=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),EU=["disabled"],TU={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},jU={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},FU=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's Message",-1),VU={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},IU=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leave note for seller",-1),OU={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},HU={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},MU=["disabled"],RU=(0,s._)("span",null,"Save",-1);var NU={__name:"SupplyRequestTableActionsEdit",props:["visible","item"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=(0,i.oR)(),o=(0,ve.iH)(!1),w=(0,ve.qj)({request:JSON.parse(JSON.stringify(r.item)),errors:{}}),n=(0,s.Fl)((()=>l.getters["product/products"])),d=(0,s.Fl)((()=>l.getters["product/fetched"])),c=(0,s.Fl)((()=>"no-value-selected"==w.request.product_id?[]:n.value.find((t=>t.id==w.request.product_id)).variations));(0,s.YP)((()=>w.request.product_id),(()=>{1!=c.value.length?w.request.product_variation_id="no-value-selected":w.request.product_variation_id=c.value[0].id}));const u=()=>{e("update:visible",!1)},p=async()=>{o.value=!0,await WC.update(r.item.id,w.request).then((t=>{"SUCCESS"==t.data.code&&(Pc("Request has been updated"),l.dispatch("supply-request/updateSupplyRequest",t.data.supply_request),u())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)w.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&Pc("Something went wrong","error")})),o.value=!1};return(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(l,{visible:r.visible,onCancel:u},{default:(0,s.w5)((()=>[(0,s._)("div",uU,[(0,s._)("div",pU,[gU,(0,s._)("div",mU,[(0,s._)("div",hU,[(0,s._)("label",fU,[(0,s.Uk)("Product "),(0,ve.SU)(d)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",bU," loading..."))]),(0,s._)("div",xU,[(0,s.wy)((0,s._)("select",{disabled:!(0,ve.SU)(d)||!0,onChange:e[0]||(e[0]=t=>w.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>w.request.product_id=t),class:(0,lt.C_)([[w.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[yU,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(n),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.name]),value:t.id,key:t.id},(0,lt.zw)(t.name),11,_U)))),128))],42,vU),[[a.bM,w.request.product_id]]),kU]),w.errors.product_id?((0,s.wg)(),(0,s.iD)("label",CU,(0,lt.zw)(w.errors.product_id),1)):(0,s.kq)("",!0)]),(0,ve.SU)(c).length>1?((0,s.wg)(),(0,s.iD)("div",DU,[(0,s._)("label",SU,[(0,s.Uk)("Variation "),(0,ve.SU)(d)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",UU," loading..."))]),(0,s._)("div",zU,[(0,s.wy)((0,s._)("select",{disabled:!(0,ve.SU)(d)||"no-value-selected"==w.request.product_id||!0,onChange:e[2]||(e[2]=t=>w.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>w.request.product_variation_id=t),class:(0,lt.C_)([[w.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[PU,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(c),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.name]),value:t.id,key:t.id},(0,lt.zw)(t.size)+" "+(0,lt.zw)(t.size&&t.color?"|":"")+" "+(0,lt.zw)(t.color),11,LU)))),128))],42,qU),[[a.bM,w.request.product_variation_id]]),WU]),w.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",AU,(0,lt.zw)(w.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[$U,(0,s.wy)((0,s._)("input",{disabled:"accepted"==w.request.status,"onUpdate:modelValue":e[4]||(e[4]=t=>w.request.quantity=t),onInput:e[5]||(e[5]=t=>w.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,lt.C_)([[w.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,42,EU),[[a.nr,w.request.quantity]]),"accepted"==w.request.status?((0,s.wg)(),(0,s.iD)("label",TU,(0,lt.zw)("cannot edit, request has already been accepted"))):(0,s.kq)("",!0),w.errors.quantity?((0,s.wg)(),(0,s.iD)("label",jU,(0,lt.zw)(w.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[FU,(0,s.wy)((0,s._)("textarea",{disabled:"","onUpdate:modelValue":e[6]||(e[6]=t=>w.request.note=t),onInput:e[7]||(e[7]=t=>w.errors.note=null),type:"number",min:"0",max:"10000",class:(0,lt.C_)([[w.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Seller's note here",rows:"2",required:""},null,34),[[a.nr,w.request.note]]),w.errors.note?((0,s.wg)(),(0,s.iD)("label",VU,(0,lt.zw)(w.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[IU,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>w.request.admin_note=t),onInput:e[9]||(e[9]=t=>w.errors.admin_note=null),type:"number",min:"0",max:"10000",class:(0,lt.C_)([[w.errors.admin_note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for the seller",rows:"2",required:""},null,34),[[a.nr,w.request.admin_note]]),w.errors.admin_note?((0,s.wg)(),(0,s.iD)("label",OU,(0,lt.zw)(w.errors.admin_note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",HU,[(0,s._)("button",{onClick:u,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:p,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),RU],8,MU)])])])])),_:1},8,["visible"])}}};const YU=NU;var ZU=YU;const KU={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var BU={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,ve.qj)({delete:!1,show:!1,edit:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",KU,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.edit=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-amber-500/20 hover:tw-bg-amber-600 tw-bg-amber-500 hover:tw-border-amber-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil")])),_:1})]),r.edit?((0,s.wg)(),(0,s.j4)((0,ve.SU)(ZU),{key:0,item:e.item,visible:r.edit,"onUpdate:visible":a[1]||(a[1]=t=>r.edit=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,ve.SU)(cU),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[3]||(a[3]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[4]||(a[4]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,ve.SU)(MS),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[5]||(a[5]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const QU=BU;var JU=QU;const GU={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},XU={class:"tw-relative tw-inline-block tw-text-left"},tz=["disabled"],ez={key:0,class:"tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},rz=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),az=[rz],sz={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},lz={class:"tw-w-full tw-max-w-[200px] tw-mx-auto tw-p-2"},oz={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},iz=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-2"}," Select a status ",-1),wz={class:"tw-bg-white tw-divide-y"},nz=["onClick"];var dz={__name:"SupplyRequestStatus",props:["item"],setup(t){const e=t,r=(0,ve.iH)(!1),a=(0,ve.iH)(!1),l=(0,ve.qj)({}),o=(0,i.oR)(),w=(0,ve.iH)(OC[0]),n=()=>{r.value&&(r.value=!1)},d=async t=>{a.value=!0,await WC.update(e.item.id,{...e.item,status:t.value}).then((e=>{"SUCCESS"==e.data.code&&(Pc("Updated successfully"),o.dispatch("supply-request/updateSupplyRequest",e.data.supply_request),w.value=t)})),a.value=!1};return w.value=OC.find((t=>t.value==e.item.status)),(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",GU,[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",XU,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),type:"button",disabled:a.value,class:(0,lt.C_)([[w.value.style,a.value&&"!tw-bg-gray-50 !tw-text-gray-200 tw-cursor-not-allowed hover:!tw-shadow-none"],"tw-inline-flex tw-relative tw-w-[120px] tw-truncate tw-justify-center tw-items-center tw-gap-x-1.5 tw-rounded-md tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm"]),id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[(0,s._)("p",{class:(0,lt.C_)([[w.value.style,a.value&&"tw-invisible"],"tw-w-full tw-mx-auto tw-text-center tw-truncate tw-text-gray-500 tw-px-2"])},(0,lt.zw)(w.value.name),3),a.value?((0,s.wg)(),(0,s.iD)("svg",ez,az)):(0,s.kq)("",!0)],10,tz),l.status?((0,s.wg)(),(0,s.iD)("p",sz,(0,lt.zw)(l.status),1)):(0,s.kq)("",!0)]),(0,s.Wm)(o,{visible:r.value,onCancel:e[1]||(e[1]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",lz,[(0,s._)("div",oz,[iz,(0,s._)("div",wz,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(OC).filter((t=>t.value!=w.value.value)),(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>d(t),key:t.value,class:(0,lt.C_)([[t.text],"hover:tw-bg-gray-100 tw-border-solid tw-justify-start tw-items-center tw-w-full tw-text-start tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm"]),role:"menuitem"},[(0,s._)("span",null,(0,lt.zw)(t.name),1)],10,nz)))),128))])])])])),_:1},8,["visible"])])),[[se.L,n]])])}}};const cz=dz;var uz=cz;const pz={class:"tw-px-4 tw-py-2"},gz={class:"tw-px-4 tw-py-2 tw-truncate"},mz={class:"tw-max-w-[200px] tw-truncate"},hz={class:"tw-px-4 tw-py-2 tw-truncate"},fz={class:"tw-max-w-[200px] tw-truncate"},bz={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},xz={class:"tw-flex tw-items-center tw-gap-2 tw-text-sm"},vz={key:0,class:"tw-px-1 tw-rounded-md tw-bg-orange-500 tw-text-white"},yz={key:1,class:"tw-px-1 tw-rounded-md tw-bg-green-500 tw-text-white"},_z={class:"tw-px-4 tw-py-2 tw-truncate"},kz={class:"tw-max-w-[200px] tw-truncate"},Cz={class:"tw-px-4 tw-py-2 tw-truncate"},Dz={class:"tw-px-4 tw-py-2"},Sz={class:"tw-text-sm tw-whitespace-nowrap"};var Uz={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,ve.Vh)(e,"item");return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",pz,(0,lt.zw)((0,ve.SU)(r).id),1),(0,s._)("td",gz,[(0,s._)("p",mz,(0,lt.zw)((0,ve.SU)(r).seller.firstname)+" "+(0,lt.zw)((0,ve.SU)(r).seller.lastname),1)]),(0,s._)("td",hz,[(0,s._)("p",fz,(0,lt.zw)((0,ve.SU)(r).product.name),1)]),(0,s._)("td",bz,[(0,s._)("div",xz,[(0,ve.SU)(r).product_variation.color?((0,s.wg)(),(0,s.iD)("div",vz,(0,lt.zw)((0,ve.SU)(r).product_variation.color),1)):(0,s.kq)("",!0),(0,ve.SU)(r).product_variation.size?((0,s.wg)(),(0,s.iD)("div",yz,(0,lt.zw)((0,ve.SU)(r).product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("td",_z,[(0,s._)("p",kz,(0,lt.zw)((0,ve.SU)(r).quantity),1)]),(0,s._)("td",Cz,[(0,s._)("div",null,[(0,s.Wm)((0,ve.SU)(uz),{item:(0,ve.SU)(r)},null,8,["item"])])]),(0,s._)("td",Dz,[(0,s._)("p",Sz,(0,lt.zw)((0,ve.SU)(Ce())((0,ve.SU)(r).created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,ve.SU)(JU),{item:(0,ve.SU)(r)},null,8,["item"])])]))}};const zz=Uz;var qz=zz;const Pz={class:""},Lz={class:"tw-overflow-x-auto tw-bg-white"},Wz={class:"tw-inline-block tw-min-w-full tw-align-middle"},Az={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},$z={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Ez=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[50px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),Tz={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},jz={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Fz=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),Vz=[Fz],Iz={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Oz={colspan:"11"},Hz={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Mz=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),Rz=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Nz=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Yz=[Rz,Nz],Zz={class:"tw-mt-6"};var Kz={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=t,a=(0,ve.Vh)(r,"options"),l=(0,ve.Vh)(r,"data"),o=(0,ve.Vh)(r,"loading"),i=t=>{e("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",Pz,[(0,s._)("div",Lz,[(0,s._)("div",Wz,[(0,s._)("div",Az,[(0,s._)("table",$z,[Ez,!(0,ve.SU)(o)&&(0,ve.SU)(l).length>0?((0,s.wg)(),(0,s.iD)("tbody",Tz,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(l),(t=>((0,s.wg)(),(0,s.j4)((0,ve.SU)(qz),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,ve.SU)(o)||0!=(0,ve.SU)(l).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",jz,Vz)),(0,ve.SU)(o)?((0,s.wg)(),(0,s.iD)("tbody",Iz,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Oz,[(0,s._)("div",Hz,[Mz,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Yz))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",Zz,[(0,s.Wm)((0,ve.SU)(ew),{from:(0,ve.SU)(a).from,to:(0,ve.SU)(a).to,"last-page":(0,ve.SU)(a).last_page,"per-page":(0,ve.SU)(a).per_page,total:(0,ve.SU)(a).total,"current-page":(0,ve.SU)(a).current_page,onPageChange:i},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const Bz=Kz;var Qz=Bz;const Jz={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},Gz=(0,s._)("div",{class:"mb-5 tw-flex tw-w-full tw-justify-between"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ")],-1),Xz=(0,s._)("div",{class:"tw-mt-5"},null,-1);var tq={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,ve.qj)({}),a=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),l=(0,ve.iH)(!0),o=async()=>{l.value=!0,await WC.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(r,t.data.data.supply_requests))})),l.value=!1},w=t=>{console.log(t)};return o(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",Jz,[Gz,Xz,(0,s.Wm)((0,ve.SU)(Qz),{onPageChange:w,data:(0,ve.SU)(a),loading:l.value,options:r},null,8,["data","loading","options"])]))}};const eq=tq;var rq=eq,aq={name:"products",path:"/products",component:Sa,meta:{module:"product"},children:[{name:"product/list",path:"",component:In,meta:{module:"product",subModule:"product/list",title:"Products List",gate:"show_all_products"}},{name:"product/newlist",path:"/newproducts",component:Zm,meta:{module:"product",subModule:"product/newlist",title:"Products List",gate:"show_all_products"}},{name:"product/add",path:"add",component:wx,meta:{module:"product",subModule:"product/add",title:"Add Product",gate:"create_product"}},{name:"product/seller/request",path:"seller/request",component:ES,meta:{module:"product",subModule:"product/seller/request",title:"Supply Request",gate:"access_to_seller_sales"}},{name:"product/admin/request",path:"admin/request",component:rq,meta:{module:"product",subModule:"product/admin/request",title:"Supply Request",gate:"access_to_sales"}},{name:"product/update",path:"update/:id",component:Ty,meta:{module:"product",subModule:"product/update",title:"Update Product",gate:"update_product"}},{name:"product/show",path:":id",component:PC,meta:{module:"product",subModule:"product/show",title:"Product Informations",gate:"view_product"}}]};const sq={class:"mb-5 tw-flex tw-justify-between tw-items-center"},lq=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Users List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all users")],-1),oq={key:0},iq=(0,s._)("span",{class:"text-white"}," Add User ",-1),wq={key:0},nq={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},dq={class:"mb-5 tw-flex"},cq={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},uq={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},pq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},gq=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Role",-1),mq={class:"tw-relative"},hq=["value"],fq={class:""};function bq(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.users.length},[(0,s._)("div",sq,[lq,t.$can("create_user")?((0,s.wg)(),(0,s.iD)("div",oq,[(0,s.Wm)(ot.T,{color:"primary-color",link:"",to:{name:"user/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),iq])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",wq,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",nq,[(0,s._)("div",dq,[(0,s.Wm)(ot.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",cq,[(0,s.Wm)(ae.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,lt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",uq,[(0,s._)("div",pq,[gq,(0,s._)("div",mq,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.role=t),class:"tw-w-full focus:tw-border-orange-400 tw-capitalize tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.roles,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t},(0,lt.zw)(t),9,hq)))),128))],512),[[a.bM,o.role]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),(0,s._)("div",fq,[(0,s.Wm)(n,{users:i.filteredUsers,columns:o.columns},null,8,["users","columns"])])])):(0,s.kq)("",!0)])}const xq={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},vq={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},yq={class:"tw-text-xs tw-text-gray-700 tw- tw-bg-gray-50"},_q=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),kq={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Cq=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Dq={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Sq={class:"tw-px-6 tw-py-4"},Uq={class:"tw-px-6 tw-py-4"},zq={class:"tw-px-6 tw-py-4"},qq={class:"tw-px-6 tw-py-4"},Pq={class:"tw-px-6 tw-py-4"},Lq={key:0,class:"tw-text-red-500"},Wq={key:1},Aq={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},$q=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),Eq={key:1,class:"tw-text-neutral-700"},Tq={class:"tw-px-6 tw-py-4"},jq={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Fq={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Vq={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Iq=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Oq=["value"],Hq={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Mq={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Rq={class:"tw-text-white"};function Nq(t,e,r,l,o,i){const w=(0,s.up)("RoleName"),n=(0,s.up)("UserStatus"),d=(0,s.up)("UserActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",xq,[(0,s._)("table",vq,[(0,s._)("thead",yq,[(0,s._)("tr",null,[_q,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",kq,(0,lt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Cq,(0,s._)("th",Dq,(0,lt.zw)(e.id),1),(0,s._)("td",Sq,(0,lt.zw)(e.firstname)+" "+(0,lt.zw)(e.lastname),1),(0,s._)("td",Uq,[(0,s.Wm)(w,{role:e.role_name},null,8,["role"])]),(0,s._)("td",zq,(0,lt.zw)(e.email),1),(0,s._)("td",qq,(0,lt.zw)(e.phone),1),(0,s._)("td",Pq,[e.last_action?((0,s.wg)(),(0,s.iD)("div",Wq,[1==i.isOnline(i.lastSeen(e.last_action))?((0,s.wg)(),(0,s.iD)("div",Aq,[$q,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",Eq,(0,lt.zw)(i.lastSeen(e.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",Lq," Never Connected "))]),(0,s._)("td",Tq,[t.$can("update_user_status")?((0,s.wg)(),(0,s.j4)(n,{key:0,user:e},null,8,["user"])):(0,s.kq)("",!0)]),(0,s._)("td",jq,[(0,s.Wm)(d,{user:e},null,8,["user"])])])))),128))])])]),(0,s._)("div",Fq,[(0,s._)("div",Vq,[Iq,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,lt.zw)(t),9,Oq)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Hq,[(0,s._)("div",Mq,(0,lt.zw)(i.prevRange+1)+" - "+(0,lt.zw)(o.currentPage==i.pageCount?r.users.length:i.nextRange)+" of "+(0,lt.zw)(r.users.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(ot.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Rq,(0,lt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function Yq(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[t.$can("update_user")?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,to:"/users/update/"+r.user.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_user")?((0,s.wg)(),(0,s.j4)(ot.T,{key:1,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_user")&&"admin"!==r.user.role_name?((0,s.wg)(),(0,s.j4)(ot.T,{key:2,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this user?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var Zq={props:["rowIndex","user"],name:"userActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,at["delete"](this.user.id).then((t=>{"USER_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"User Deleted Successfully"})),at.all().then((t=>{"SHOW_ALL_USERS"==t.data.code&&this.$store.dispatch("user/setUsers",t.data.data.users)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Kq=(0,g.Z)(Zq,[["render",Yq]]);var Bq=Kq;const Qq={key:0,class:"tw-flex tw-items-center"};function Jq(t,e,r,a,l,o){return"admin"!==r.user.role_name?((0,s.wg)(),(0,s.iD)("div",Qq,[(0,s.Wm)(Bm.G,{disabled:l.isLoading,loading:l.isLoading,onChange:o.handleChange,color:"primary-color",flat:!0,modelValue:l.checked,"onUpdate:modelValue":e[0]||(e[0]=t=>l.checked=t),density:"compact","hide-details":!0},null,8,["disabled","loading","onChange","modelValue"])])):(0,s.kq)("",!0)}var Gq={props:["rowIndex","prop","user"],data(){return{isLoading:!1,checked:!1}},watch:{},methods:{handleChange(){const t={id:this.user.id,status:this.checked?"true":"false"};this.isLoading=!0,at.updateStatus(t).then((t=>{"STATUS_USER_UPDATED"==t.data.code&&(this.$alert({type:"success",title:"Status updated"}),this.setUpdatedUser(this.user.id,this.checked))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},setUpdatedUser(t,e){let r=localStorage.getItem("updatedUsers"),a={};r?(a=JSON.parse(r),a[t]=e):a[t]=e,localStorage.setItem("updatedUsers",JSON.stringify(a))},getUpdatedUsers(){let t=localStorage.getItem("updatedUsers");if(!t)return{};let e=JSON.parse(t);return e}},mounted(){const t=this.getUpdatedUsers();Object.keys(t).includes(`${this.user.id}`)?this.checked=1==t[this.model.id]:this.checked=1==this.user.status}};const Xq=(0,g.Z)(Gq,[["render",Jq]]);var tP=Xq;const eP={class:"tw-flex tw-items-center tw-h-full"};function rP(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",eP,[(0,s._)("div",{class:(0,lt.C_)([o.current.bg,"tw-px-2 tw-py-1 tw-rounded-lg"])},[(0,s._)("div",{class:(0,lt.C_)([o.current.text,"tw-text-sm tw-uppercase"])},(0,lt.zw)(r.role),3)],2)])}var aP={props:["role"],data(){return{variants:{default:{bg:"tw-bg-neutral-500/10",text:"tw-text-neutral-500"},admin:{bg:"tw-bg-pink-500/10",text:"tw-text-pink-500"},agente:{bg:"tw-bg-green-500/10",text:"tw-text-green-500"},delivery:{bg:"tw-bg-blue-500/10",text:"tw-text-blue-500"}}}},computed:{current(){return["admin","delivery","agente"].includes(this.role)?this.variants[this.role]:this.variants["default"]}}};const sP=(0,g.Z)(aP,[["render",rP]]);var lP=sP,oP={props:["columns","users"],components:{UserActions:Bq,UserStatus:tP,RoleName:lP},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.users.length/this.paginationLimit)},items(){return this.users.slice(this.prevRange,this.nextRange)}},methods:{lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,hs.x)(e)},isOnline(t){let e=["Just Now","one minute ago","2 minutes ago","3 minutes ago"];return e.includes(t)}}};const iP=(0,g.Z)(oP,[["render",Nq]]);var wP=iP,nP={components:{UsersTable:wP},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,role:"All",search:"",columns:[{prop:"id",name:"#"},{prop:"fullname",name:"Name"},{prop:"role_name",name:"Role"},{prop:"email",name:"Email"},{prop:"phone",name:"Phone Number"},{prop:"last_seen",name:"Last Seen"},{prop:"status",name:"Active"},{name:"Acions",prop:"users"}]}},computed:{fetched(){return this.$store.getters["user/fetched"]},users(){return this.$store.getters["user/users"]},roles(){let t=new Set(["All",...this.users.map((t=>t.role_name))]);return t},filteredUsers(){const t=this.role,e=this.search;return this.users.filter((r=>("all"===t.toLocaleLowerCase()||t.toLocaleLowerCase()===r.role_name)&&!!(r.firstname.toLowerCase().includes(e.toLowerCase())||r.lastname.toLowerCase().includes(e.toLowerCase())||r.role_name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase())||r.phone.toLowerCase().includes(e.toLowerCase()))))}},methods:{getRoles(){at.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},getUsers(){at.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)}},mounted(){localStorage.removeItem("updatedUsers"),this.fetched||this.getUsers()}};const dP=(0,g.Z)(nP,[["render",bq]]);var cP=dP,uP=r(988);const pP=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new user")],-1),gP={key:0},mP={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},hP={class:"tw-w-full"},fP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),bP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xP={class:"tw-w-full"},vP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),yP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},_P={class:"tw-w-full"},kP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),CP={class:"tw-w-full"},DP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),SP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},UP={class:"tw-w-full"},zP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),qP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},PP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),LP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),WP=["value"],AP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),$P=["value"],EP=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),TP=(0,s._)("span",{class:"text-white"},"Add",-1),jP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),FP={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},VP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),IP={class:"tw-w-full"},OP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),HP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},MP={class:"tw-w-full"},RP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),NP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},YP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),ZP={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},KP=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),BP=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function QP(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[pP,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",gP,[(0,s.Wm)(w)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",mP,[(0,s._)("div",null,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",hP,[fP,(0,s.Wm)(nt.hw,{error:!o.formStatus.firstname.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:o.user.firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.user.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",bP,(0,lt.zw)(o.formStatus.firstname.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xP,[vP,(0,s.Wm)(nt.hw,{error:!o.formStatus.lastname.valid,"hide-details":!0,onKeyup:e[2]||(e[2]=t=>i.resetError("lastname")),modelValue:o.user.lastname,"onUpdate:modelValue":e[3]||(e[3]=t=>o.user.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",yP,(0,lt.zw)(o.formStatus.lastname.message),1)])])),_:1}),i.isSeller?((0,s.wg)(),(0,s.j4)(Pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",_P,[kP,(0,s.Wm)(nt.hw,{"hide-details":!0,modelValue:o.user.username,"onUpdate:modelValue":e[4]||(e[4]=t=>o.user.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",CP,[DP,(0,s.Wm)(nt.hw,{error:!o.formStatus.email.valid,"hide-details":!0,onKeyup:e[5]||(e[5]=t=>i.resetError("email")),modelValue:o.user.email,"onUpdate:modelValue":e[6]||(e[6]=t=>o.user.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",SP,(0,lt.zw)(o.formStatus.email.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",UP,[zP,(0,s.Wm)(nt.hw,{error:!o.formStatus.phone.valid,"hide-details":!0,onKeyup:e[7]||(e[7]=t=>i.resetError("phone")),modelValue:o.user.phone,"onUpdate:modelValue":e[8]||(e[8]=t=>o.user.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",qP,(0,lt.zw)(o.formStatus.phone.message),1)])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(Pa.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Bm.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),PP,(0,s._)("div",null,[(0,s.Wm)(uP.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Pa.D,{key:2,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[LP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,WP)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Pa.D,{key:3,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[AP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,$P)))),128))],512),[[a.bM,o.deliveryCity]]),EP,(0,s.Wm)(nt.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(ot.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[TP])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[jP,(0,s.Wm)(Km.r,{class:"text-capitalize",items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[14]||(e[14]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["items","modelValue"])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",FP,[VP,(0,s.Wm)(Bm.G,{modelValue:o.user.status,"onUpdate:modelValue":e[15]||(e[15]=t=>o.user.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",IP,[OP,(0,s.Wm)(nt.hw,{error:!o.formStatus.password.valid,"hide-details":!0,onKeyup:e[16]||(e[16]=t=>i.resetError("password")),modelValue:o.user.password,"onUpdate:modelValue":e[17]||(e[17]=t=>o.user.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",HP,(0,lt.zw)(o.formStatus.password.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",MP,[RP,(0,s.Wm)(nt.hw,{error:!o.formStatus.confirmPassword.valid,"hide-details":!0,onKeyup:e[18]||(e[18]=t=>i.resetError("confirmPassword")),modelValue:o.user.confirmPassword,"onUpdate:modelValue":e[19]||(e[19]=t=>o.user.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",NP,(0,lt.zw)(o.formStatus.confirmPassword.message),1)])])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(Pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[YP,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,lt.zw)(i.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,lt.zw)(t.fee)+" "+(0,lt.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(wt.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",ZP,[(0,s.Wm)(ot.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[KP])),_:1}),(0,s.Wm)(ot.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[BP])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var JP={data(){return{localUrl:w,currency:c,isFormReady:!1,isLoading:!1,city:1,isMultipleProducts:!1,isHavingAllProducts:!1,id:1,deliveryCity:1,deliveryCityFee:0,deliveryCities:[],product:0,selectedProducts:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},user:{firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},role:3}},computed:{roles(){return this.$store.getters["user/roles"]},rolesFetched(){return this.$store.getters["user/fetchedRoles"]},cities(){return this.$store.getters["city/cities"]},citiesFetched(){return this.$store.getters["city/fetched"]},products(){return this.$store.getters["product/products"]},productsFethched(){return this.$store.getters["product/fetched"]},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},isSeller(){return 4===this.role},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{},methods:{removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.id,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.id+=1,this.deliveryCity=1,this.deliveryCityFee=0},create(){if(!this.validate())return!1;this.isLoading=!0;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};at.register(t).then((t=>{"USER_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.user={firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},this.role=3,this.product_id=null,this.deliveryCities=[],this.id=1)})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){this.formStatus.email=qt(this.user.email),this.formStatus.firstname=Lt(this.user.firstname),this.formStatus.lastname=Lt(this.user.lastname),this.formStatus.phone=Lt(this.user.phone),this.formStatus.password=Pt(this.user.password),this.formStatus.confirmPassword=At(this.user.password,this.user.confirmPassword);const t=this.formStatus.email.valid,e=this.formStatus.firstname.valid,r=this.formStatus.lastname.valid,a=this.formStatus.phone.valid,s=this.formStatus.password.valid,l=this.formStatus.confirmPassword.valid;return t&&e&&r&&s&&l&&a},getRoles(){return this.rolesFetched?new Promise((t=>t())):at.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)},async getCities(){return this.citiesFetched?new Promise((t=>t())):at.cities().then((t=>{this.$store.dispatch("city/cities",t.data.data),this.$store.dispatch("city/setFetched",!0)}))},async getProducts(){return this.productsFethched?new Promise((t=>t())):pa.all().then((t=>{this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0)}),(t=>this.$handleApiError(t)))}},mounted(){Promise.allSettled([this.getRoles(),this.getCities(),this.getProducts()]).then((t=>{console.log(t),this.isFormReady=!0}),(t=>this.$handleApiError(t)))}};const GP=(0,g.Z)(JP,[["render",QP]]);var XP=GP;const tL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update user informations")],-1),eL={key:0},rL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},aL={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},sL={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},lL={class:"tw-w-full"},oL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),iL={class:"tw-w-full"},wL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),nL={class:"tw-w-full"},dL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),cL={class:"tw-w-full"},uL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),pL={class:"tw-w-full"},gL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),mL={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},hL=(0,s._)("span",null,"Update Password: ",-1),fL={class:"tw-w-full"},bL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),xL={class:"tw-w-full"},vL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),yL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),_L={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},kL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),CL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),DL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),SL=["value"],UL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),zL=["value"],qL=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),PL=(0,s._)("span",{class:"text-white"},"Add",-1),LL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),WL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},AL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),$L=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function EL(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[tL,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",eL,[(0,s.Wm)(w)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",rL,[(0,s._)("div",aL,[(0,s.Uk)(" User ID: "),(0,s._)("span",sL,(0,lt.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",lL,[oL,(0,s.Wm)(nt.hw,{"error-messages":o.formStatus.firstname.message,modelValue:o.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>o.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",iL,[wL,(0,s.Wm)(nt.hw,{"error-messages":o.formStatus.lastname.message,modelValue:o.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",nL,[dL,(0,s.Wm)(nt.hw,{modelValue:o.username,"onUpdate:modelValue":e[2]||(e[2]=t=>o.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",cL,[uL,(0,s.Wm)(nt.hw,{"error-messages":o.formStatus.email.message,modelValue:o.email,"onUpdate:modelValue":e[3]||(e[3]=t=>o.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",pL,[gL,(0,s.Wm)(nt.hw,{"error-messages":o.formStatus.phone.message,modelValue:o.phone,"onUpdate:modelValue":e[4]||(e[4]=t=>o.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",mL,[hL,(0,s.Wm)(Bm.G,{modelValue:o.updatePassword,"onUpdate:modelValue":e[5]||(e[5]=t=>o.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),o.updatePassword?((0,s.wg)(),(0,s.j4)(Pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",fL,[bL,(0,s.Wm)(nt.hw,{"error-messages":o.formStatus.password.message,modelValue:o.password,"onUpdate:modelValue":e[6]||(e[6]=t=>o.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),o.updatePassword?((0,s.wg)(),(0,s.j4)(Pa.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xL,[vL,(0,s.Wm)(nt.hw,{"error-messages":o.formStatus.confirmPassword.message,modelValue:o.confirmPassword,"onUpdate:modelValue":e[7]||(e[7]=t=>o.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[yL,(0,s.Wm)(Km.r,{class:"text-capitalize","error-messages":o.formStatus.role,items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[8]||(e[8]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","items","modelValue"])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",_L,[kL,(0,s.Wm)(Bm.G,{modelValue:o.status,"onUpdate:modelValue":e[9]||(e[9]=t=>o.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(Pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Bm.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),CL,(0,s._)("div",null,[(0,s.Wm)(uP.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[11]||(e[11]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Pa.D,{key:1,class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[DL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,SL)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(Pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[UL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,zL)))),128))],512),[[a.bM,o.deliveryCity]]),qL,(0,s.Wm)(nt.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[14]||(e[14]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(ot.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[PL])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Pa.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[LL,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,lt.zw)(o.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,lt.zw)(t.fee)+" "+(0,lt.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(wt.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",WL,[(0,s.Wm)(ot.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[AL])),_:1}),(0,s.Wm)(ot.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[$L])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var TL={data(){return{serverUrl:n,currency:c,isFetched:!1,isRolesFetched:!1,isUserFetched:!1,isProductsFetched:!1,isLoading:!1,updatePassword:!1,autoId:1,cities:[],deliveryCity:1,deliveryCityFee:0,city:1,deliveryCities:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",username:"",role:"",user_image:null,status:!1,product:null,products:[],selectedProducts:[],isMultipleProducts:!1,isHavingAllProducts:!1}},computed:{roles(){return this.$store.getters["user/roles"]},isFormReady(){return this.isFetched},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,username:this.username,phone:this.phone,email:this.email,password:this.password,product_id:this.product,deliveryCities:this.deliveryCities,city:this.city,role:this.role,status:this.status?1:0}},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{role(t){console.log("changed"),2===t&&0===this.products.length&&(this.isProductsFetched=!1)}},methods:{update(){if(!this.validate())return!1;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};this.isLoading=!0,at.update(t,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["email"]=qt(this.email),this.formStatus["firstname"]=Lt(this.firstname),this.formStatus["lastname"]=Lt(this.lastname),this.formStatus["phone"]=Lt(this.phone),this.formStatus["password"]=Pt(this.password),this.formStatus["confirmPassword"]=At(this.password,this.confirmPassword);const t=this.formStatus["email"].valid,e=this.formStatus["firstname"].valid,r=this.formStatus["lastname"].valid,a=this.formStatus["phone"].valid;if(this.updatePassword){const s=this.formStatus["password"].valid,l=this.formStatus["confirmPassword"].valid;return t&&e&&r&&s&&l&&a}return t&&e&&r&&a},removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.autoId,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.autoId+=1,this.deliveryCity=1,this.deliveryCityFee=0},async getRoles(){await at.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isRolesFetched=!0}})).catch(this.$handleApiError)},async getUser(){return at.getUser(this.$route.params.id).then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;if(this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.username=e.username,this.email=e.email,this.phone=e.phone,this.role=e.role,2==e.role&&(this.isHavingAllProducts=1==e.having_all,this.selectedProducts=e?.product),this.user_image=e.photo,this.status=1==e.status,this.isUserFetched=!0,3==e.role){console.log("this is delivery"),this.city=e?.city?.id;let t=0;this.deliveryCities=e.deliveryPlaces.map((e=>(parseInt(e.id)>=t&&(t=parseInt(e.id)+1),{id:e.id,city_id:e.city_id,fee:e.fee}))),this.autoId=t}}})).catch(this.$handleApiError)},async getProducts(){return pa.all().then((t=>{this.products=t.data.data.products,this.products.length>0?this.product=this.user.product_id:this.product=null,this.isProductsFetched=!0}),(t=>this.$handleApiError(t)))},async getCities(){return at.cities().then((t=>{console.log(t.data),this.cities=t.data.data}))}},async mounted(){0==this.roles.length?await this.getRoles():this.isRolesFetched=!0,Promise.allSettled([this.getRoles(),this.getProducts(),this.getCities(),this.getUser()]).then((()=>{this.selectedProducts.length==this.products.length&&(this.product=0,this.isMultipleProducts=!1),this.isFetched=!0}),(t=>this.$handleApiError(t)))}};const jL=(0,g.Z)(TL,[["render",EL]]);var FL=jL;const VL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add New Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new Role")],-1),IL={key:0},OL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},HL={class:"md:tw-w-1/2 tw-w-full"},ML=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role Name",-1),RL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},NL={class:"mb-3 text-body-2 tw-text-zinc-700"},YL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},ZL={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},KL=["onClick"],BL={key:0},QL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},JL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),GL=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function XL(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[VL,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",IL,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",OL,[(0,s._)("div",null,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",HL,[ML,(0,s.Wm)(nt.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",RL,(0,lt.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",NL,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",YL,(0,lt.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",ZL,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,lt.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},[(0,s._)("span",null,(0,lt.zw)(t),1)],10,KL)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",BL,(0,lt.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",QL,[(0,s.Wm)(ot.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[JL])),_:1}),(0,s.Wm)(ot.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[GL])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var tW={data(){return{localUrl:w,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0,at.createRole({name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_ADDED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles(),this.name="",this.selectedPermissions=[])})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Lt(this.name,"Name"),this.formStatus.permissions=Et(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRoles(){at.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},async getPermissions(){return await at.permessions().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.permissions;this.permissions=e.map((t=>t.name)),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getPermissions(),this.isFormReady=!0}};const eW=(0,g.Z)(tW,[["render",XL]]);var rW=eW;const aW={class:"mb-5 tw-flex tw-justify-between tw-items-center"},sW=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Roles List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all Roles")],-1),lW={class:"tw-flex tw-items-center tw-gap-2"},oW={key:0},iW=(0,s._)("span",{class:"text-white"}," Role ",-1),wW={key:0},nW={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},dW={class:"mb-5 tw-flex"},cW={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},uW={class:""};function pW(t,e,r,l,o,i){const w=(0,s.up)("CreatePermission"),n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("RolesTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.roles.length},[(0,s._)("div",aW,[sW,(0,s._)("div",lW,[(0,s.Wm)(w,{visible:o.visible,"onUpdate:visible":e[0]||(e[0]=t=>o.visible=t)},null,8,["visible"]),t.$can("create_role")?((0,s.wg)(),(0,s.iD)("div",oW,[(0,s.Wm)(ot.T,{color:"primary-color",link:"",to:{name:"user/addRole"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),iW])),_:1})])):(0,s.kq)("",!0)])]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",wW,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",nW,[(0,s._)("div",dW,[(0,s.Wm)(ot.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",cW,[(0,s.Wm)(ae.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",uW,[(0,s.Wm)(d,{roles:i.filteredRoles,columns:o.columns},null,8,["roles","columns"])])])):(0,s.kq)("",!0)])}const gW={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},mW={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},hW={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},fW=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),bW={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},xW=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),vW={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},yW={class:"tw-px-6 tw-py-4 tw-uppercase"},_W={class:"tw-px-6 tw-py-4"},kW={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},CW={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},DW={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},SW=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),UW=["value"],zW={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},qW={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},PW={class:"tw-text-white"};function LW(t,e,r,l,o,i){const w=(0,s.up)("RolePermissions"),n=(0,s.up)("RoleActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",gW,[(0,s._)("table",mW,[(0,s._)("thead",hW,[(0,s._)("tr",null,[fW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",bW,(0,lt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[xW,(0,s._)("th",vW,(0,lt.zw)(t.id),1),(0,s._)("td",yW,(0,lt.zw)(t.name),1),(0,s._)("td",_W,[(0,s.Wm)(w,{role:t},null,8,["role"])]),(0,s._)("td",kW,[(0,s.Wm)(n,{role:t},null,8,["role"])])])))),128))])])]),(0,s._)("div",CW,[(0,s._)("div",DW,[SW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,lt.zw)(t),9,UW)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",zW,[(0,s._)("div",qW,(0,lt.zw)(i.prevRange+1)+" - "+(0,lt.zw)(o.currentPage==i.pageCount?r.roles.length:i.nextRange)+" of "+(0,lt.zw)(r.roles.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(ot.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",PW,(0,lt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const WW={key:0},AW={class:"tw-flex tw-flex-wrap tw-gap-2"};function $W(t,e,r,a,l,o){const i=(0,s.up)("popup");return["admin","agente","delivery"].includes(r.role.name)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",WW,[t.$can("update_role")?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,to:"/users/roles/update/"+r.role.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_role")&&"admin"!==r.role.name?((0,s.wg)(),(0,s.j4)(ot.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopupDelete=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this Role?</p> You won't be able to revert this!",loading:l.isLoadingDelete,visible:l.showPopupDelete,onResolved:o.handleResolvedDelete},null,8,["loading","visible","onResolved"]),(0,s.Wm)(i,{noConfirm:!0,type:"info",title:"Permissions",loading:l.isLoadingShow,visible:l.showPopupShow,onResolved:o.handleResolvedShow},{default:(0,s.w5)((()=>[(0,s._)("div",AW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer",key:t},(0,lt.zw)(t),1)))),128))])])),_:1},8,["loading","visible","onResolved"])]))}var EW={props:["rowIndex","prop","role"],name:"roleActions",data(){return{showPopupDelete:!1,showPopupShow:!1,isLoadingDelete:!1,isLoadingShow:!1,permissions:["create_user","delete_user","update_user","show_user"]}},methods:{handleResolvedDelete(t){t?(this.isLoadingDelete=!0,at.deleteRole(this.role.id).then((t=>{"ROLE_DELETED"==t.data.code&&(this.isLoadingDelete=!1,this.$alert({type:"success",title:"Role Deleted Successfully"})),at.roles().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("user/setRoles",t.data.data.roles)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoadingDelete=!1,this.showPopupDelete=!1}))):this.showPopupDelete=!1},handleResolvedShow(t){t?console.log(t):this.showPopupShow=!1}}};const TW=(0,g.Z)(EW,[["render",$W]]);var jW=TW;const FW={class:"tw-h-100 tw-flex tw-items-center tw-max-w-[750px] tw-flex-wrap tw-gap-2"},VW=["title"];function IW(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",FW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-0 tw-px-2 tw-text-xs tw-h-5 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg",title:t.description,key:t.name},(0,lt.zw)(t.name),9,VW)))),128))])}var OW={props:["role"],name:"rolePermissions",data(){return{}},computed:{permissions(){return this.role.permissions.map((t=>t))}}};const HW=(0,g.Z)(OW,[["render",IW]]);var MW=HW,RW={props:["columns","roles"],components:{RoleActions:jW,RolePermissions:MW},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.roles.length/this.paginationLimit)},items(){return this.roles.slice(this.prevRange,this.nextRange)}},methods:{}};const NW=(0,g.Z)(RW,[["render",LW]]);var YW=NW;const ZW=(0,s._)("span",{class:"text-white"}," Permission ",-1),KW={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},BW={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},QW=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Add permission ",-1),JW={class:"tw-p-5"},GW={class:""},XW=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),tA={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},eA={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},rA=["disabled"],aA=["disabled"],sA=(0,s._)("span",null,"Add",-1);var lA={__name:"CreatePermission",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=(0,ve.iH)(!1),o=(0,ve.iH)({}),i=(0,ve.iH)({name:""}),w=t=>{e("update:visible",t)},n=async()=>{if(!i.value.name)return o.value.name="Name is required",!1;o.value.name="",l.value=!0,await at.createPermission(i.value.name).then((t=>{if("SUCCESS"==t.data.code){const e=et.getters["user/permissions"];e.push(t.data.permission.name),Pc("Permission added successfully"),w(!1)}})).catch((t=>{Pc("Something went wrong!","danger"),console.log(t)})),l.value=!1};return(t,e)=>{const d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(ot.T,{onClick:e[0]||(e[0]=t=>w(!0)),color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),ZW])),_:1}),(0,s.Wm)(d,{visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",KW,[(0,s._)("div",BW,[QW,(0,s._)("div",JW,[(0,s._)("div",GW,[XW,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.value.name=t),onInput:e[2]||(e[2]=t=>o.value.name=null),type:"text",class:(0,lt.C_)([[o.value.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter permission name",required:""},null,34),[[a.nr,i.value.name]]),o.value.name?((0,s.wg)(),(0,s.iD)("label",tA,(0,lt.zw)(o.value.name),1)):(0,s.kq)("",!0)])]),(0,s._)("div",eA,[(0,s._)("button",{onClick:e[3]||(e[3]=t=>w(!1)),disabled:l.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,rA),(0,s._)("button",{onClick:n,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),sA],8,aA)])])])])),_:1},8,["visible"])])}}};const oA=lA;var iA=oA,wA={components:{RolesTable:YW,CreatePermission:iA},data(){return{localUrl:w,visible:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Role Name"},{prop:"permissions",name:"Permissions"},{name:"Acions",prop:"roles"}]}},computed:{roles(){return this.$store.getters["user/roles"]},fetched(){return this.$store.getters["user/fetchedRoles"]},filteredRoles(){return this.roles.filter((t=>{const e=t.permissions.map((t=>t.name));return!!(""===this.search||t.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())||e.includes(this.search.toLocaleLowerCase())||e.some((t=>t.toLowerCase().includes(this.search.toLocaleLowerCase()))))}))}},methods:{getRoles(){return at.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)}},mounted(){this.rolesFetched||this.getRoles()}};const nA=(0,g.Z)(wA,[["render",pW]]);var dA=nA;const cA=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update existing role")],-1),uA={key:0},pA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},gA={class:"md:tw-w-1/2 tw-w-full"},mA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Role Name ",-1),hA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},fA={class:"mb-3 text-body-2 tw-text-zinc-700"},bA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},xA={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},vA=["onClick"],yA={key:0},_A={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},kA=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),CA=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function DA(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[cA,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",uA,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",pA,[(0,s._)("div",null,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",gA,[mA,(0,s.Wm)(nt.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",hA,(0,lt.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",fA,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",bA,(0,lt.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",xA,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,lt.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},(0,lt.zw)(t),11,vA)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",yA,(0,lt.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",_A,[(0,s.Wm)(ot.T,{link:"",to:"/users/roles",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[kA])),_:1}),(0,s.Wm)(ot.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[CA])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var SA={data(){return{localUrl:w,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,at.updateRole(this.$route.params.id,{name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_UPDATED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles())})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},addPermissions(t){return t},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Lt(this.name,"Name"),this.formStatus.permissions=Et(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRole(){at.getRole(this.$route.params.id).then((t=>{this.name=t.data.data.role,this.selectedPermissions=[...t.data.data.permission],this.isFormReady=!0}))},getRoles(){at.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getRole(),this.permissions=this.$store.getters["user/permissions"]}};const UA=(0,g.Z)(SA,[["render",DA]]);var zA=UA,qA={name:"users",path:"/users",component:Sa,meta:{module:"user"},children:[{name:"user/list",path:"",component:cP,meta:{module:"user",subModule:"user/list",title:"Users List",gate:"show_all_users"}},{name:"user/add",path:"add",component:XP,meta:{module:"user",subModule:"user/add",title:"Add User",gate:"create_user"}},{name:"user/update",path:"update/:id",component:FL,meta:{module:"user",subModule:"user/update",title:"Update User",gate:"update_user"}},{name:"user/addRole",path:"addRole",component:rW,meta:{module:"user",subModule:"user/addRole",title:"Add Role",gate:"create_role"}},{name:"user/roles",path:"roles",component:dA,meta:{module:"user",subModule:"user/roles",title:"Roles List",gate:"show_all_roles"}},{name:"user/updateRole",path:"roles/update/:id",component:zA,meta:{module:"user",subModule:"user/updateRole",title:"Update Role",gate:"view_role"}}]};const PA={class:"mb-5 tw-flex tw-justify-between tw-items-center"},LA=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Sales List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your sales")],-1),WA={key:0},AA=(0,s._)("span",{class:"text-white"}," Add Sale ",-1),$A={key:0},EA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},TA={class:"mb-5 tw-flex"},jA={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},FA={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},VA={class:""};function IA(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("SalesAnalytics"),d=(0,s.up)("IndexFilter"),c=(0,s.up)("SalesTable"),u=(0,s.up)("AddSale"),p=(0,s.up)("NewAddSale");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",PA,[LA,t.$can("create_sale")&&i.fetched?((0,s.wg)(),(0,s.iD)("div",WA,[(0,s.Wm)(ot.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),AA])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$A,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",EA,[(0,s.Wm)(n,{sales:i.sales},null,8,["sales"]),(0,s._)("div",TA,[(0,s.Wm)(ot.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",jA,[(0,s.Wm)(ae.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by client, phone..."},null,512),[[a.nr,o.search]])]),(0,s._)("div",FA,[(0,s.Wm)(wt.t,{class:"tw-text-gray-500",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pound")])),_:1}),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.searchId=t),type:"number",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search By ID"},null,512),[[a.nr,o.searchId]])]),(0,s.Wm)(or.C),(0,s.Wm)(ot.T,{onClick:i.handleReset,icon:"",rounded:"lg",variant:"flat",size:"small",disabled:o.isButtonDisabled,loading:o.isLoadingReset,color:"red",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",icon:"mdi-restart-alert",size:"xx-large"})])),_:1},8,["onClick","disabled","loading"]),(0,s.Wm)(ot.T,{onClick:i.getSales,icon:"",rounded:"lg",variant:"flat",size:"small",color:"blue",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",icon:"mdi-autorenew",size:"xx-large"})])),_:1},8,["onClick"])]),(0,s._)("div",{class:(0,lt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[1000px] !tw-overflow-visible":o.showFilters}])},[(0,s.Wm)(d,{sales:i.sales,search:o.search,"search-id":o.searchId,filtered:o.filteredSales,"onUpdate:filtered":e[4]||(e[4]=t=>o.filteredSales=t),selected:i.selectedSales},null,8,["sales","search","search-id","filtered","selected"])],2),(0,s._)("div",VA,[((0,s.wg)(),(0,s.j4)(c,{onSelected:i.handleSelected,"selected-reset":o.selected,key:o.filteredSales.length,sales:o.filteredSales},null,8,["onSelected","selected-reset","sales"]))]),(0,s.Wm)(u,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:!1}),(0,s.Wm)(p,{onCancel:e[6]||(e[6]=t=>o.showPopup=!1),visible:o.showPopup,"onUpdate:visible":e[7]||(e[7]=t=>o.showPopup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const OA={class:"tw-grid tw-grid-cols-12 tw-mb-5"},HA={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-items-center"},MA=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),RA=["value"],NA={class:"tw-relative tw-pb-5 tw-overflow-x-auto tw-min-h-[400px] tw-overflow-y-visible sm:tw-rounded-lg"},YA={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},ZA={scope:"col",class:"tw-p-4"},KA={class:"tw-flex tw-items-center"},BA=(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox",-1),QA={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},JA={class:"tw-w-4 tw-p-4 tw-relative"},GA={class:"tw-flex tw-items-center"},XA=["onChange","checked"],t$=(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox",-1),e$={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},r$={class:"tw-px-6 tw-py-4 tw-relative"},a$={key:0},s$={class:"tw-px-6 tw-py-4"},l$=["title"],o$={class:"tw-px-6 tw-py-4 tw-relative"},i$={class:"tw-pb-2"},w$={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},n$={key:0},d$={key:1},c$={class:"tw-absolute tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-text-xs"},u$={key:0,class:"tw-bg-emerald-500/10 tw-text-emerald-500 tw-px-2 tw-rounded-t"},p$={key:1,class:"tw-bg-blue-500/10 tw-text-blue-500 tw-px-2 tw-rounded-t"},g$={class:"tw-px-6 tw-py-4"},m$={class:"tw-px-6 tw-py-4 tw-relative"},h$={class:"tw-flex tw-items-center tw-justify-center"},f$={class:"tw-flex tw-gap-1"},b$={key:0},x$={class:"tw-px-6 tw-py-4"},v$={class:"tw-px-6 tw-py-4 tw-relative"},y$={class:"tw-flex tw-items-center tw-justify-center"},_$={class:"tw-flex tw-gap-1"},k$={key:0},C$={class:"tw-px-6 tw-py-4"},D$={class:"tw-px-6 tw-py-4"},S$={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},U$={class:"tw-col-span-12 md:tw-col-span-12 d-flex tw-justify-end tw-flex-wrap align-center"},z$={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},q$={class:"tw-flex tw-flex-wrap tw-gap-2"},P$={class:"tw-text-white"};function L$(t,e,r,l,o,i){const w=(0,s.up)("SaleConfirmation"),n=(0,s.up)("SaleAffectation"),d=(0,s.up)("SaleDelivery"),c=(0,s.up)("SaleActions");return(0,s.wg)(),(0,s.iD)("div",{key:i.items.length},[(0,s._)("div",OA,[(0,s._)("div",HA,[MA,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,lt.zw)(t),9,RA)))),128))],512),[[a.bM,o.paginationLimit]])])]),(0,s._)("div",NA,[((0,s.wg)(),(0,s.iD)("table",{key:i.reportedForToday.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",YA,[(0,s._)("tr",null,[(0,s._)("th",ZA,[(0,s._)("div",KA,[(0,s.wy)((0,s._)("input",{onClick:e[1]||(e[1]=(...t)=>i.handleSelectAll&&i.handleSelectAll(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>o.isAllSelected=t),id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,512),[[a.e8,o.isAllSelected]]),BA])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,lt.C_)([["city"==t&&"!tw-max-w-[150px]"],"tw-px-6 tw-py-3 tw-truncate"]),scope:"col"},[(0,s._)("div",QA,(0,lt.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:(0,lt.C_)([[[t.confirmation,t.delivery].includes("reporter")&&"tw-relative",i.isReportedToday(t)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[(0,s._)("td",JA,[(0,s._)("div",GA,[(0,s._)("input",{onChange:e=>i.handleSelect(e,t.id),checked:i.isSelected(t.id),id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,40,XA),t$])]),(0,s._)("td",e$,(0,lt.zw)(t.id),1),(0,s._)("td",r$,[(0,s.Uk)((0,lt.zw)(t?.created_at?.split("T")[0])+" ",1),"reporter"==t.confirmation||"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[i.isReportedToday(t)?((0,s.wg)(),(0,s.iD)("span",a$," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",s$,[(0,s._)("div",{title:t.city,class:"!tw-max-w-[200px] tw-truncate"},(0,lt.zw)(t.city),9,l$)]),(0,s._)("td",o$,[(0,s._)("div",i$,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",w$,(0,lt.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,lt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",n$,"| "+(0,lt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",d$,"| "+(0,lt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",c$,[t.counts_from_warehouse?((0,s.wg)(),(0,s.iD)("p",u$," warehouse ")):(0,s.kq)("",!0),t.counts_from_warehouse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",p$," delivery "))])])]),(0,s._)("td",g$,(0,lt.zw)(t.fullname),1),(0,s._)("td",m$,[(0,s._)("div",h$,[((0,s.wg)(),(0,s.j4)(w,{class:(0,lt.C_)("reporter"==t.confirmation&&"tw-mb-1"),sale:t,id:t.id,confirmation:t.confirmation,key:t.confirmation},null,8,["class","sale","id","confirmation"])),"reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",f$,["reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("span",b$,[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,lt.zw)(t?.reported_agente_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",x$,["confirmer"==t.confirmation?((0,s.wg)(),(0,s.j4)(n,{sale:t,affectation:t.affectation,id:t.id,key:t.affectation},null,8,["sale","affectation","id"])):(0,s.kq)("",!0)]),(0,s._)("td",v$,[(0,s._)("div",y$,[((0,s.wg)(),(0,s.j4)(d,{class:(0,lt.C_)("reporter"==t.delivery&&"tw-mb-1"),sale:t,id:t.id,key:t.delivery,delivery:t.delivery},null,8,["class","sale","id","delivery"])),"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",_$,["reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("span",k$,[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,lt.zw)(t.reported_delivery_date),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",C$,(0,lt.zw)(i.getPrice(t)),1),(0,s._)("td",D$,[((0,s.wg)(),(0,s.j4)(c,{id:t.id,key:t.delivery,sale:t},null,8,["id","sale"]))])],2)))),128))])]))]),(0,s._)("div",S$,[(0,s._)("div",U$,[(0,s._)("div",z$,(0,lt.zw)(i.prevRange+1)+" - "+(0,lt.zw)(o.currentPage==i.pageCount?r.sales.length:i.nextRange)+" of "+(0,lt.zw)(r.sales.length)+" items ",1),(0,s._)("div",q$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(ot.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",P$,(0,lt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const W$={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},A$=["onClick"],$$={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},E$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),T$={class:"tw-flex tw-justify-end tw-mt-2"};function j$(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("SaleConfirmationReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,lt.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,lt.zw)(i.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(wt.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(wt.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,lt.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",W$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,lt.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,lt.zw)(t.name),3)],8,A$)))),128))])],2),(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",$$,[E$,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",T$,[(0,s.Wm)(ot.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(n,{order:r.sale,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])),[[se.L,i.close]])}const F$={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},V$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),I$=(0,s._)("br",null,null,-1),O$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),H$={class:"tw-flex tw-justify-end tw-mt-2"};function M$(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",F$,[V$,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),I$,O$,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",H$,[(0,s.Wm)(ot.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var R$={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.isLoading=!0,ma.agenteUpdateConfirmation(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const N$=(0,g.Z)(R$,[["render",M$]]);var Y$=N$,Z$={props:["confirmation","id","sale"],components:{SaleConfirmationReporting:Y$},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",noteReporter:"",selectedId:0,allOptions:Wn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleClick(){this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))},handleClickReporter(){this.showPopupReporter=!1},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ma.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},async updateOrderWithNote(){return this.isLoading=!0,ma.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("sale/updateConfirmation",{id:t,confirmation:e})},updateConfirmationNote(t,e,r){this.$store.dispatch("sale/updateConfirmationWithNote",{id:t,confirmation:e,note:r})}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const K$=(0,g.Z)(Z$,[["render",j$]]);var B$=K$;const Q$={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},J$=["onClick"],G$={class:"tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100"},X$={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function tE(t,e,r,a,l,o){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:"tw-whitespace-nowrap focus:tw-ring-4 tw-ring-neutral-200 tw-bg-neutral-600/10 tw-text-neutral-800 focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center",type:"button"},[(0,s.Uk)((0,lt.zw)(o.selected.firstname)+" "+(0,lt.zw)(o.selected.lastname)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(wt.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(wt.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,lt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Q$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",G$,(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),1)],8,J$)))),128))])],2)])),[[se.L,o.close]]):((0,s.wg)(),(0,s.iD)("div",X$,[(0,s.Wm)(wt.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var eE={props:["affectation","id","sale"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,old:null}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},fetched(){return this.$store.getters["user/fetched"]},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.sale.items.some((e=>e.product_id==t.product_id))))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(this.old=this.affectation,t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},updateOrder(){ma.agenteUpdateAffectaion(this.id,this.selectedId).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateAffectation(this.id,this.selected.id),this.isLoading=!1)}),(t=>{this.$handleApiError(t),this.isLoading=!1,this.selectedId=this.old}))},updateAffectation(t,e){this.$store.dispatch("sale/updateAffectation",{id:t,affectation:e})}},mounted(){this.selectedId=this.affectation}};const rE=(0,g.Z)(eE,[["render",tE]]);var aE=rE;const sE={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},lE=["onClick"];function oE(t,e,r,a,l,o){const i=(0,s.up)("SaleDeliveryReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,lt.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,lt.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(wt.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(wt.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,lt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",sE,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,lt.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,lt.zw)(t.name),3)],8,lE)))),128))])],2),(0,s.Wm)(i,{order:r.sale,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])),[[se.L,o.close]])}const iE={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},wE=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),nE=(0,s._)("br",null,null,-1),dE=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),cE={class:"tw-flex tw-justify-end tw-mt-2"};function uE(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",iE,[wE,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),nE,dE,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",cE,[(0,s.Wm)(ot.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var pE={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ma.deliveryUpdateDelivery(t.id,"reporter",t).then((()=>{this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const gE=(0,g.Z)(pE,[["render",uE]]);var mE=gE,hE={props:["delivery","id","sale"],components:{SaleDeliveryReporting:mE},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Tn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){return t.id!==this.selectedId&&("reporter"!==t.value?(this.selectedId=t.id,this.updateOrder(),this.close(),!0):void("reporter"==t.value&&(this.showPopupReporter=!0,this.close())))},async updateOrder(){return this.isLoading=!0,ma.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("sale/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const fE=(0,g.Z)(hE,[["render",oE]]);var bE=fE;const xE={key:0};function vE(t,e,r,a,l,o){const i=(0,s.up)("SaleHistory"),w=(0,s.up)("popup-full"),n=(0,s.up)("UpdateSale");return r.sale?((0,s.wg)(),(0,s.iD)("div",xE,[(0,s.Wm)(ot.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.sale.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"]),t.$can("update_sale")?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(t.$can("view_sale"),(0,s.kq)("",!0)),(t.$can("delete_sale"),(0,s.kq)("",!0)),(0,s.Wm)(ot.T,{onClick:e[2]||(e[2]=t=>l.showHistoryPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"teal",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-ascending-outline")])),_:1})])),_:1}),(0,s.Wm)(w,{visible:l.showHistoryPopup,onCancel:e[4]||(e[4]=t=>l.showHistoryPopup=!1)},{default:(0,s.w5)((()=>[l.showHistoryPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[3]||(e[3]=t=>l.showHistoryPopup=!1),sale:r.sale},null,8,["sale"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(n,{visible:l.showUpdatePopup,"onUpdate:visible":e[5]||(e[5]=t=>l.showUpdatePopup=t),order:r.sale},null,8,["visible","order"])])):(0,s.kq)("",!0)}var yE=r(7103),_E=r(795),kE=r(2773);const CE={class:"md:tw-w-[50%] tw-max-h-full tw-relative tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},DE={key:0,class:"tw-w-full tw-h-full"},SE={key:1,class:"tw-p-5"},UE={class:"d-flextw-flex-col justify-space-between flex-grow-1"},zE={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},qE={class:"tw-text-sm tw-capitalize tw-text-neutral-600"},PE={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},LE={class:"d-flextw-flex-col justify-space-between flex-grow-1"},WE={class:"tw-flex tw-flex-col tw-my-2"},AE=(0,s._)("div",null," New Order Created ",-1),$E={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"};function EE(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",CE,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",DE,[(0,s.Wm)(i,{class:"text-primary-color"})])),(0,s.Wm)(ot.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",SE,[(0,s.Wm)(_E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(kE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",UE,[(0,s._)("div",zE,[(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(yE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",qE,(0,lt.zw)(t.users.firstname)+" "+(0,lt.zw)(t.users.lastname),1),(0,s._)("div",PE,[(0,s._)("span",null,(0,lt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,lt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(kE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",LE,[(0,s._)("div",WE,[(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),AE]),(0,s._)("div",$E,[(0,s._)("span",null,(0,lt.zw)(r.sale.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,lt.zw)(r.sale.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)])}var TE={props:["sale"],data(){return{isLoaded:!1,allEvents:[]}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("cancel")},getHistory(){this.isLoaded=!1,ma.history(this.sale.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const jE=(0,g.Z)(TE,[["render",EE]]);var FE=jE;const VE={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},IE={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},OE=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),HE={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},ME={class:"md:tw-col-span-6 tw-col-span-12"},RE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),NE={class:"md:tw-col-span-6 tw-col-span-12"},YE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),ZE={class:"md:tw-col-span-6 tw-col-span-12"},KE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),BE=["value"],QE=["value"],JE={class:"md:tw-col-span-6 tw-col-span-12"},GE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),XE={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},tT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),eT={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},rT={class:"tw-col-span-12"},aT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),sT={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},lT={class:"tw-col-span-12 md:tw-col-span-4"},oT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),iT={class:"tw-col-span-12 md:tw-col-span-8"},wT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),nT={class:"md:tw-col-span-6 tw-col-span-12"},dT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),cT={class:"md:tw-col-span-6 tw-col-span-12"},uT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),pT=["value"],gT={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},mT={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},hT={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},fT=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),bT={class:"tw-flex tw-flex-col tw-justify-center"},xT=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),vT={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},yT={key:2,class:"md:tw-col-span-12 tw-col-span-12"},_T={class:"tw-max-w-full tw-overflow-auto"},kT={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},CT={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},DT={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},ST=["src"],UT={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},zT=["onUpdate:modelValue"],qT=(0,s._)("option",{value:0},"Select",-1),PT=["value"],LT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},WT=["disabled","onUpdate:modelValue"],AT=(0,s._)("option",{value:0},"Select",-1),$T=["value"],ET={key:0},TT={key:1},jT={key:2},FT={key:3},VT=["value"],IT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},OT={class:"md:tw-col-span-6 tw-col-span-12"},HT=["onUpdate:modelValue"],MT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},RT={key:0},NT={key:1,class:"md:tw-col-span-6 tw-col-span-12"},YT=["onUpdate:modelValue"],ZT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},KT={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},BT=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),QT={class:"md:tw-col-span-12 tw-col-span-12"},JT={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},GT=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),XT={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},tj=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),ej={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},rj=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),aj={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},sj=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),lj={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},oj={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},ij=(0,s._)("span",{class:"text-white"}," Cancel ",-1),wj=(0,s._)("span",{class:"text-white"}," Update ",-1);function nj(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",VE,[(0,s.Wm)(w)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",IE,[OE,(0,s._)("div",HE,[(0,s._)("div",ME,[RE,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",NE,[YE,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",ZE,[KE,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,lt.zw)(o.sale.city),9,BE),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,lt.zw)(t.name),9,QE)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",JE,[GE,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",XE,[tT,(0,s.Wm)(n,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",eT,[(0,s._)("div",rT,[aT,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",sT,[(0,s._)("div",lT,[oT,(0,s._)("div",null,(0,lt.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",iT,[wT,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",nT,[dT,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",cT,[uT,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,lt.zw)(t.name),9,pT)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",gT,[(0,s._)("div",mT,[(0,s._)("label",hT,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),fT]),(0,s._)("label",bT,[(0,s._)("span",{class:(0,lt.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,lt.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),xT,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",vT," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",yT,[(0,s._)("div",_T,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",kT,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",CT,(0,lt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",DT,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,ST)):(0,s.kq)("",!0)])])),(0,s._)("th",UT,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[qT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,PT)))),128))],8,zT),[[a.bM,t.product.id]])])])]),(0,s._)("th",LT,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[AT,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",TT,(0,lt.zw)(t.size)+" / "+(0,lt.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",jT,(0,lt.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",FT,(0,lt.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",ET,"-"))],8,$T)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,VT))],8,WT)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",IT,[(0,s._)("div",OT,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,HT),[[a.nr,t.quantity]])])]),(0,s._)("th",MT,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",RT," - ")):((0,s.wg)(),(0,s.iD)("div",NT,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,YT),[[a.nr,t.price]])]))])]),(0,s._)("th",ZT,[(0,s._)("div",null,[(0,s.Wm)(ot.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",KT,[(0,s._)("div",null,[(0,s.Wm)(ot.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),BT])),_:1},8,["onClick"])])]),(0,s._)("div",QT,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",JT,[GT,(0,s._)("div",XT,[tj,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",ej,[rj,(0,s._)("div",aj,[sj,(0,s._)("div",lj,(0,lt.zw)(o.currency)+" "+(0,lt.zw)(i.total_price),1)])])]),(0,s._)("div",oj,[(0,s.Wm)(ot.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ij])),_:1},8,["onClick"]),(0,s.Wm)(ot.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[wj])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const dj={class:"tw-relative"},cj=["value"],uj={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},pj=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),gj={class:"tw-flex tw-justify-end tw-mt-2"};function mj(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("AddOrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px] tw-w-full"},[(0,s._)("div",null,[(0,s._)("div",dj,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.confirmationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.text,!t.value&&"!tw-text-gray-700"]),key:t.id,value:t.value},(0,lt.zw)(t.name),11,cj)))),128))],512),[[a.bM,i.confirmationValue]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",uj,[pj,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",gj,[(0,s.Wm)(ot.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(n,{order:r.order,onConfirm:i.handleReportedDate,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","onConfirm","visible"])])),[[se.L,i.close]])}const hj={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},fj=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),bj=(0,s._)("br",null,null,-1),xj=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),vj={class:"tw-flex tw-justify-end tw-mt-2"};function yj(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",hj,[fj,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),bj,xj,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",vj,[(0,s.Wm)(ot.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var _j={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.$emit("confirm",{reported_agente_date:this.realDate,reported_agente_note:this.note}),this.isLoading=!0},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}}};const kj=(0,g.Z)(_j,[["render",yj]]);var Cj=kj,Dj={props:["confirmation","id","order"],components:{AddOrderReporting:Cj},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Wn,reported_agente_date:null,reported_agente_note:"",showPopupReporter:!1}},watch:{},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},confirmationValue:{get(){return this.confirmation},set(t){switch(t){case"reporter":this.showPopupReporter=!0;break;case"confirmer":this.showPopup=!0;break;default:this.$emit("update:confirmation",t);break}}},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleReportedDate(t){this.reported_agente_date=t.reported_agente_date,this.reported_agente_note=t.reported_agente_note,this.$emit("update:confirmation","reporter"),this.$emit("reported",t),this.showPopupReporter=!1},handleClick(){this.showPopup=!1,this.$emit("update:confirmation","confirmer"),this.$emit("confirmed",this.note)},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ma.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t)))},async updateOrderWithNote(){return this.isLoading=!0,ma.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationWithNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("order/updateConfirmation",{id:t,confirmation:e}),this.$emit("update",e)},updateConfirmationWithNote(t,e,r){this.$store.dispatch("order/updateConfirmationWithNote",{id:t,confirmation:e,note:r}),this.$emit("update",e)}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const Sj=(0,g.Z)(Dj,[["render",mj]]);var Uj=Sj;const zj={class:"tw-relative"},qj=["disabled"],Pj=["value"],Lj={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function Wj(t,e,r,l,o,i){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("div",null,[(0,s._)("div",zj,[(0,s.wy)((0,s._)("select",{disabled:"confirmer"!=r.confirmation,"onUpdate:modelValue":e[0]||(e[0]=t=>i.affectationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.firstname+" "+t.lastname),9,Pj)))),128))],8,qj),[[a.bM,i.affectationValue]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),[[se.L,i.close]]):((0,s.wg)(),(0,s.iD)("div",Lj,[(0,s.Wm)(wt.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var Aj={props:["affectation","id","order","confirmation","items","productIds"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,fetched:!1}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},order_items(){return this.items},affectationValue:{get(){return this.affectation},set(t){this.$emit("update:affectation",t)}},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.productIds.includes(t.product_id)))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},getUsers(){this.fetched=!1,at.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0),this.fetched=!0}})).catch(this.$handleApiError)}},mounted(){this.selectedId=this.affectation,this.getUsers()}};const $j=(0,g.Z)(Aj,[["render",Wj]]);var Ej=$j;const Tj=(0,s._)("h1",{class:"tw-mb-2 tw-font-medium"},"Offers",-1),jj={class:"tw-relative tw-overflow-x-auto tw-border-b sm:tw-rounded"},Fj={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Vj=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),Ij={class:"tw-px-6 tw-py-4"},Oj={class:"tw-px-6 tw-py-4"},Hj={class:"tw-px-6 tw-py-4"},Mj={class:"tw-px-6 tw-py-4"},Rj={class:"tw-max-w-[250px] tw-text-sm"},Nj={key:0},Yj=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),Zj=[Yj];function Kj(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[Tj,(0,s._)("div",null,[(0,s._)("div",jj,[(0,s._)("table",Fj,[Vj,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Ij,(0,lt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",Oj,(0,lt.zw)(t.quantity),1),(0,s._)("td",Hj,(0,lt.zw)(t.price)+" "+(0,lt.zw)(l.currency),1),(0,s._)("td",Mj,[(0,s._)("p",Rj,(0,lt.zw)(t.note),1)])])))),128)),0==o.offers.length?((0,s.wg)(),(0,s.iD)("tr",Nj,Zj)):(0,s.kq)("",!0)])])])])])}var Bj={props:["productIds"],data(){return{currency:c}},computed:{products(){return this.$store.getters["product/products"]},offers(){return this.products.filter((t=>this.productIds.includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}}};const Qj=(0,g.Z)(Bj,[["render",Kj]]);var Jj=Qj,Gj={components:{AddOrderConfirmation:Uj,AddOrderAffectation:Ej,ProductOffers:Jj},props:["visible","order"],data(){return{upsells:En,serverUrl:n,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!1}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,order_id:this.order.id,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},update(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={id:this.sale.id,fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};"confirmer"!=t.confirmation&&(t.affectation=null,t.delivery=null),this.isLoading=!0,ma.update(t.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"Order updated"}),this.$store.dispatch("sale/update",{id:t.id,sale:e.data.data.sale}),this.$emit("update:visible",!1),this.$emit("updateOrder",e.data.data.sale))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.sale={...this.order},this.items=[...this.order.items],this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return pa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.sale={...this.order},this.items=[...this.order.items]}};const Xj=(0,g.Z)(Gj,[["render",nj]]);var tF=Xj,eF={props:["sale"],name:"saleActions",components:{SaleHistory:FE,UpdateSale:tF},data(){return{showPopup:!1,showUpdatePopup:!1,showHistoryPopup:!1,isLoading:!1}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{}};const rF=(0,g.Z)(eF,[["render",vE]]);var aF=rF,sF={props:{sales:{required:!0},selectedReset:{required:!1,default:[]}},components:{SaleConfirmation:B$,SaleAffectation:aE,SaleDelivery:bE,SaleActions:aF},data(){return{allowedLimit:[5,10,20,50,100,300,500],currentPage:1,paginationLimit:50,todayDate:null,selected:[],isAllSelected:!1,columns:["id","date","city","products","client","confirmation","affectation","delivery","price","actions"]}},watch:{selectedReset(t){this.selected=t,0==this.selected.length&&(this.isAllSelected=!1)},paginationLimit(){this.currentPage=1},selected(t){this.$emit("selected",t)}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sales.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.sales.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.sales.filter(this.isReportedToday)}},methods:{getPrice(t){return po(t)},isReportedToday(t){return this.isConfirmationReportedToday(t)||this.isDeliveryReportedToday(t)},isDeliveryReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date?.split("T")[0]==this.todayDate},isConfirmationReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date?.split("T")[0]==this.todayDate},handleSelect(t,e){t.target.checked?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!=e))},isSelected(t){return this.selected.includes(t)},handleSelectAll(t){t.target.checked?this.selected=[...this.items.map((t=>t.id))]:this.selected=[]}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const lF=(0,g.Z)(sF,[["render",L$]]);var oF=lF;const iF={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},wF={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},nF=(0,s._)("h1",{class:"tw-text-lg"},"Create Order",-1),dF={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},cF={class:"md:tw-col-span-6 tw-col-span-12"},uF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),pF={class:"md:tw-col-span-6 tw-col-span-12"},gF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),mF={class:"md:tw-col-span-6 tw-col-span-12"},hF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),fF=["value"],bF={class:"md:tw-col-span-6 tw-col-span-12"},xF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),vF={class:"md:tw-col-span-12 tw-col-span-12"},yF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),_F={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},kF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse",-1),CF=(0,s._)("option",{value:0}," Select ",-1),DF=["value"],SF={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},UF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),zF=(0,s._)("option",{value:0}," Select ",-1),qF=["value"],PF={class:"md:tw-col-span-6 tw-col-span-12"},LF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variations",-1),WF=(0,s._)("option",{value:0}," Select ",-1),AF=["value"],$F={class:"md:tw-col-span-6 tw-col-span-12"},EF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),TF={class:"md:tw-col-span-6 tw-col-span-12"},jF={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},FF={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},VF=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),IF={class:"tw-flex tw-flex-col tw-justify-center"},OF={class:"md:tw-col-span-6 tw-col-span-12"},HF={key:0,class:"md:tw-col-span-12 tw-col-span-12"},MF={class:"tw-max-w-full tw-overflow-auto"},RF={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},NF={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},YF={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},ZF={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},KF={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},BF={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},QF={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},JF={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},GF={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},XF=(0,s._)("span",{class:"text-white"}," Cancel ",-1),tV=(0,s._)("span",{class:"text-white"}," Save ",-1);function eV(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[12]||(e[12]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",iF,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",wF,[nF,(0,s._)("div",dF,[(0,s._)("div",cF,[uF,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",pF,[gF,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",mF,[hF,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,lt.zw)(t.name),9,fF)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",bF,[xF,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",vF,[yF,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>o.sale.price=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])]),(0,s._)("div",_F,[kF,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.warehouse_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[CF,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,DF)))),128))],512),[[a.bM,o.warehouse_id]])]),(0,s._)("div",SF,[UF,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.product_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[zF,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,qF)))),128))],512),[[a.bM,o.product_id]])]),(0,s._)("div",PF,[LF,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.product_variation_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[WF,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.size)+" / "+(0,lt.zw)(t.color),9,AF)))),128))],512),[[a.bM,o.product_variation_id]])]),(0,s._)("div",$F,[EF,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>o.quantity=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.quantity]])]),(0,s._)("div",TF,[(0,s._)("div",jF,[(0,s._)("label",FF,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),VF]),(0,s._)("label",IF,[(0,s._)("span",{class:(0,lt.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,lt.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),(0,s._)("div",OF,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-block tw-ml-auto tw-py-1 tw-px-4 tw-rounded tw-bg-emerald-500 tw-text-white"}," Add ")]),o.items.length?((0,s.wg)(),(0,s.iD)("div",HF,[(0,s._)("div",MF,[(0,s._)("table",RF,[(0,s._)("thead",NF,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","warehouse","actions"],(t=>(0,s._)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",YF,(0,lt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",ZF,(0,lt.zw)(t.product.name),1),(0,s._)("th",KF,(0,lt.zw)(t.product_variation.size)+" / "+(0,lt.zw)(t.product_variation.color),1),(0,s._)("th",BF,(0,lt.zw)(t.quantity),1),(0,s._)("th",QF,(0,lt.zw)(t.product_variation.warehouse.name),1),(0,s._)("th",JF,[(0,s._)("div",null,[(0,s.Wm)(ot.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])):(0,s.kq)("",!0)]),(0,s._)("div",GF,[(0,s.Wm)(ot.T,{onClick:e[11]||(e[11]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[XF])),_:1}),(0,s.Wm)(ot.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[tV])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var rV={props:["visible"],data(){return{isLoading:!1,isLoaded:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],sale:{fullname:"",phone:"",city:"",adresse:"",price:0,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0}},computed:{products(){return this.$store.getters["product/products"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return 0==this.warehouse_id?[]:this.products.filter((t=>t.variations.some((t=>t.warehouse_id==this.warehouse_id))))},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,orderItems:this.items,counts_from_warehouse:!0};ma.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sale created successfully"}),this.$store.dispatch("sale/add",t.data.data.sale))}),this.$handleApiError).finally((()=>this.isLoading=!1))},deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},addItem(){if([this.warehouse_id,this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:0};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.item_id+=1},getProducts(){pa.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}},mounted(){this.getProducts(),this.sale.city=this.cities[0].name||1}};const aV=(0,g.Z)(rV,[["render",eV]]);var sV=aV;const lV={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},oV={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},iV=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),wV={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},nV={class:"md:tw-col-span-6 tw-col-span-12"},dV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),cV={class:"md:tw-col-span-6 tw-col-span-12"},uV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),pV={class:"md:tw-col-span-6 tw-col-span-12"},gV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),mV=["value"],hV=["value"],fV={class:"md:tw-col-span-6 tw-col-span-12"},bV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),xV={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},vV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),yV={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},_V={class:"tw-col-span-12"},kV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),CV={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},DV={class:"tw-col-span-12 md:tw-col-span-4"},SV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),UV={class:"tw-col-span-12 md:tw-col-span-8"},zV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),qV={class:"md:tw-col-span-6 tw-col-span-12"},PV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),LV={class:"md:tw-col-span-6 tw-col-span-12"},WV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),AV=["value"],$V={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},EV={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},TV={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},jV=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),FV={class:"tw-flex tw-flex-col tw-justify-center"},VV=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),IV={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},OV={key:2,class:"md:tw-col-span-12 tw-col-span-12"},HV={class:"tw-max-w-full tw-overflow-auto"},MV={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},RV={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},NV={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},YV=["src"],ZV={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},KV=["onUpdate:modelValue"],BV=(0,s._)("option",{value:0},"Select",-1),QV=["value"],JV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},GV=["disabled","onUpdate:modelValue"],XV=(0,s._)("option",{value:0},"Select",-1),tI=["value"],eI={key:0},rI={key:1},aI={key:2},sI={key:3},lI=["value"],oI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},iI={class:"md:tw-col-span-6 tw-col-span-12"},wI=["onUpdate:modelValue"],nI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},dI={key:0},cI={key:1,class:"md:tw-col-span-6 tw-col-span-12"},uI=["onUpdate:modelValue"],pI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},gI={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},mI=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),hI={class:"md:tw-col-span-12 tw-col-span-12"},fI={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},bI=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),xI={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},vI=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),yI={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},_I=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),kI={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},CI=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),DI={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},SI={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},UI=(0,s._)("span",{class:"text-white"}," Cancel ",-1),zI=(0,s._)("span",{class:"text-white"}," Create ",-1);function qI(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",lV,[(0,s.Wm)(w)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",oV,[iV,(0,s._)("div",wV,[(0,s._)("div",nV,[dV,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",cV,[uV,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",pV,[gV,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,lt.zw)(o.sale.city),9,mV),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,lt.zw)(t.name),9,hV)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",fV,[bV,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",xV,[vV,(0,s.Wm)(n,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",yV,[(0,s._)("div",_V,[kV,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",CV,[(0,s._)("div",DV,[SV,(0,s._)("div",null,(0,lt.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",UV,[zV,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",qV,[PV,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",LV,[WV,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,lt.zw)(t.name),9,AV)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",$V,[(0,s._)("div",EV,[(0,s._)("label",TV,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),jV]),(0,s._)("label",FV,[(0,s._)("span",{class:(0,lt.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,lt.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),VV,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",IV," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",OV,[(0,s._)("div",HV,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",MV,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",RV,(0,lt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",NV,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,YV)):(0,s.kq)("",!0)])])),(0,s._)("th",ZV,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[BV,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,QV)))),128))],8,KV),[[a.bM,t.product.id]])])])]),(0,s._)("th",JV,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[XV,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",rI,(0,lt.zw)(t.size)+" / "+(0,lt.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",aI,(0,lt.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",sI,(0,lt.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",eI,"-"))],8,tI)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,lI))],8,GV)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",oI,[(0,s._)("div",iI,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,wI),[[a.nr,t.quantity]])])]),(0,s._)("th",nI,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",dI," - ")):((0,s.wg)(),(0,s.iD)("div",cI,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,uI),[[a.nr,t.price]])]))])]),(0,s._)("th",pI,[(0,s._)("div",null,[(0,s.Wm)(ot.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",gI,[(0,s._)("div",null,[(0,s.Wm)(ot.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),mI])),_:1},8,["onClick"])])]),(0,s._)("div",hI,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",fI,[bI,(0,s._)("div",xI,[vI,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",yI,[_I,(0,s._)("div",kI,[CI,(0,s._)("div",DI,(0,lt.zw)(o.currency)+" "+(0,lt.zw)(i.total_price),1)])])]),(0,s._)("div",SI,[(0,s.Wm)(ot.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[UI])),_:1},8,["onClick"]),(0,s.Wm)(ot.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[zI])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var PI={components:{AddOrderConfirmation:Uj,AddOrderAffectation:Ej,ProductOffers:Jj},props:["visible","order"],data(){return{upsells:En,serverUrl:n,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},create(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};this.isLoading=!0,ma.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"New Order Added"}),this.$store.dispatch("sale/add",t.data.data.sale),this.$emit("update:visible",!1))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return pa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){}};const LI=(0,g.Z)(PI,[["render",qI]]);var WI=LI;const AI={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},$I={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},EI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},TI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},jI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},FI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},VI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},II={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},OI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"};function HI(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),w=(0,s.up)("UpsellFilter"),n=(0,s.up)("ConfirmationFilter"),d=(0,s.up)("AffectationFilter"),c=(0,s.up)("AgenteFilter"),u=(0,s.up)("DeliveryFilter"),p=(0,s.up)("ProductFilter"),g=(0,s.up)("ExcelExport");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",AI,[(0,s._)("div",$I,[(0,s.Wm)(i,{filter:l.config.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>l.config.dateFilter=t)},null,8,["filter"])]),(0,s._)("div",EI,[(0,s.Wm)(w,{filter:l.config.upsellFilter,"onUpdate:filter":e[1]||(e[1]=t=>l.config.upsellFilter=t)},null,8,["filter"])]),(0,s._)("div",TI,[(0,s.Wm)(n,{filter:l.config.confirmationFilter,"onUpdate:filter":e[2]||(e[2]=t=>l.config.confirmationFilter=t)},null,8,["filter"])]),(0,s._)("div",jI,[(0,s.Wm)(d,{filter:l.config.affectationFilter,"onUpdate:filter":e[3]||(e[3]=t=>l.config.affectationFilter=t)},null,8,["filter"])]),(0,s._)("div",FI,[(0,s.Wm)(c,{filter:l.config.agenteFilter,"onUpdate:filter":e[4]||(e[4]=t=>l.config.agenteFilter=t)},null,8,["filter"])]),(0,s._)("div",VI,[(0,s.Wm)(u,{filter:l.config.deliveryFilter,"onUpdate:filter":e[5]||(e[5]=t=>l.config.deliveryFilter=t)},null,8,["filter"])]),(0,s._)("div",II,[(0,s.Wm)(p,{filter:l.config.productFilter,"onUpdate:filter":e[6]||(e[6]=t=>l.config.productFilter=t)},null,8,["filter"])]),(0,s._)("div",OI,[(0,s.Wm)(g,{selected:r.selected,filtered:r.filtered,sales:r.sales},null,8,["selected","filtered","sales"])])])])}const MI=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),RI=["onClick"];function NI(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[MI,(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,lt.zw)(t),9,RI)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var YI={data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,to.Z)(new Date,1),(0,to.Z)(new Date,1)]},{label:"This month",range:[(0,eo.Z)(new Date),(0,ro.Z)(new Date)]},{label:"Last month",range:[(0,eo.Z)((0,ao.Z)(new Date,1)),(0,ro.Z)((0,ao.Z)(new Date,1))]},{label:"This year",range:[(0,so.Z)(new Date),(0,lo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const ZI=(0,g.Z)(YI,[["render",NI]]);var KI=ZI;const BI=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),QI={class:"tw-relative"},JI=(0,s._)("option",{value:"all"},"Select",-1),GI=(0,s._)("option",{value:"oui"},"Oui",-1),XI=(0,s._)("option",{value:"non"},"Non",-1),tO=[JI,GI,XI];function eO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[BI,(0,s._)("div",QI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},tO,512),[[a.bM,o.value]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var rO={data(){return{value:"all"}},watch:{value(t){this.$emit("update:filter",t)}}};const aO=(0,g.Z)(rO,[["render",eO]]);var sO=aO;const lO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),oO={class:"tw-relative"},iO=["value"];function wO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[lO,(0,s._)("div",oO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value?t.value:"all",key:t.id},(0,lt.zw)(t.value?t.name:"Select"),9,iO)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var nO={props:["filter"],data(){return{deliveryFilter:"all",deliveryStatus:Tn}},watch:{deliveryFilter(t){this.$emit("update:filter",t)}}};const dO=(0,g.Z)(nO,[["render",wO]]);var cO=dO;const uO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Confirmation",-1),pO={class:"tw-relative"},gO=(0,s._)("option",{value:"all"}," Select ",-1),mO=["value"];function hO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[uO,(0,s._)("div",pO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.confirmationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[gO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value},(0,lt.zw)(t.name),9,mO)))),128))],512),[[a.bM,o.confirmationFilter]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var fO={props:["filter"],data(){return{confirmationFilter:"all",confirmations:Wn}},watch:{confirmationFilter(t){this.$emit("update:filter",t)}}};const bO=(0,g.Z)(fO,[["render",hO]]);var xO=bO;const vO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Affecté",-1),yO={class:"tw-relative"},_O=(0,s._)("option",{value:"all"},"Select",-1),kO=(0,s._)("option",{value:null},"Without delivery",-1),CO=["value"];function DO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[vO,(0,s._)("div",yO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.affectationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[_O,kO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,CO)))),128))],512),[[a.bM,o.affectationFilter]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var SO={props:["filter"],data(){return{affectationFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))}},watch:{affectationFilter(t){this.$emit("update:filter",t)}}};const UO=(0,g.Z)(SO,[["render",DO]]);var zO=UO;const qO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agente",-1),PO={class:"tw-relative"},LO=(0,s._)("option",{value:"all"},"Select",-1),WO=(0,s._)("option",{value:null},"Without agente",-1),AO=["value"];function $O(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[qO,(0,s._)("div",PO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.agenteFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[LO,WO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agentes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,AO)))),128))],512),[[a.bM,o.agenteFilter]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var EO={props:["filter"],data(){return{agenteFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},agentes(){return this.users.filter((t=>2==t.role.id))}},watch:{agenteFilter(t){this.$emit("update:filter",t)}}};const TO=(0,g.Z)(EO,[["render",$O]]);var jO=TO;const FO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Product",-1),VO={key:0},IO={key:1,class:"tw-relative"},OO=(0,s._)("option",{value:"all"},"Select",-1),HO=["value"];function MO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[FO,i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",VO,[(0,s._)("div",null,[(0,s.Wm)(wt.t,{class:"tw-text-orange-500 tw-animate-spin tw-text-lg tw-"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),i.fetched?((0,s.wg)(),(0,s.iD)("div",IO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[OO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,HO)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])):(0,s.kq)("",!0)])}var RO={props:["filter"],data(){return{productFilter:"all"}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},watch:{productFilter(t){this.$emit("update:filter",t)}},methods:{getProducts(){pa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts(),console.log(this.products)}};const NO=(0,g.Z)(RO,[["render",MO]]);var YO=NO;function ZO(t,e,r,{confirmationFilter:a,affectationFilter:s,upsellFilter:l,deliveryFilter:o,agenteFilter:i,dateFilter:w,productFilter:n}){const d=w[0],c=w[1];return t.filter((t=>{const w=new Date(t.created_at);if(""!=r&&r!=t.id)return!1;if("all"!==a&&t.confirmation!==a)return!1;if("all"!==s&&t.affectation!=s)return!1;if("all"!==l&&t.upsell!=l)return!1;if("all"!==o&&t.delivery!=o)return!1;if("all"!==i&&t.agente_id!=i)return!1;const u=((t,e)=>{for(const r in t)if(!["created_at","updated_at","sheets_id","reported_agente_note","reported_agente_note","reported_agente_date","reported_delivery_note","reported_delivery_date"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(t,e);if(!u)return!1;if("all"!==n&&!t.items.some((t=>t.product_id==n)))return!1;const p=w.getDate(),g=w.getMonth(),m=w.getFullYear();if(d){const t=d.getDate(),e=d.getMonth(),r=d.getFullYear();if(m<r||m===r&&g<e||m===r&&g===e&&p<t)return!1}if(c){const t=c.getDate(),e=c.getMonth(),r=c.getFullYear();if(m>r||m===r&&g>e||m===r&&g===e&&p>t)return!1}return!0}))}function KO(t){return{id:1,title:"New",value:t.filter((t=>!t.confirmation||"new"==t.confirmation)).length,pourcentage:(100*t.filter((t=>!t.confirmation||"new"==t.confirmation)).length/t.length).toFixed(2),color:"primary-green",icon:"mdi mdi-new-box"}}function BO(t){return{id:3,title:"Confirmed",value:t.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*t.filter((t=>"confirmer"==t.confirmation)).length/t.length).toFixed(2),color:"deep-purple-accent-2",icon:"mdi-phone-check"}}function QO(t){return{id:4,title:"Delivered",value:t.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*t.filter((t=>"livrer"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi-account-check-outline"}}function JO(t){return{id:5,title:"Shipped",value:t.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*t.filter((t=>"expidier"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red",icon:"mdi-truck"}}const GO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Export",-1),XO={class:"tw-relative tw-flex tw-items-center tw-gap-2 tw-justify-between"},tH={class:"tw-relative tw-w-full"},eH=(0,s._)("option",{value:"all"},"All Sales",-1),rH=(0,s._)("option",{value:"selected"},"Selected Sales",-1),aH=(0,s._)("option",{value:"filtered"},"Filtered Sales",-1),sH=[eH,rH,aH];function lH(t,e,r,l,o,i){const w=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",null,[GO,(0,s._)("div",XO,[(0,s._)("div",tH,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.selection=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},sH,512),[[a.bM,o.selection]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s.Wm)(w,{delimiter:";",data:i.toImport},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.T,{onClick:i.handleImport,icon:"",rounded:"lg",variant:"flat",size:"x-small",color:"green",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",icon:"mdi-download",size:"x-large"})])),_:1},8,["onClick"])])),_:1},8,["data"])])])}var oH={props:["selected","filtered","sales"],data(){return{selection:"all"}},computed:{toImport(){const t=this.data.map((t=>({...t}))),e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));return a.map((t=>(delete t["items"],t)))},data(){switch(this.selection){case"selected":return this.selected;case"filtered":return this.filtered;default:return this.sales}}},methods:{handleImport(){0==this.data.length&&this.$alert({title:"No Data To Export",type:"warning"})}}};const iH=(0,g.Z)(oH,[["render",lH]]);var wH=iH,nH={components:{DateFilter:KI,UpsellFilter:sO,DeliveryFilter:cO,ConfirmationFilter:xO,AffectationFilter:zO,AgenteFilter:jO,ProductFilter:YO,ExcelExport:wH},props:["sales","filtered","search","searchId","selected"],data(){return{config:{confirmationFilter:"all",affectationFilter:"all",upsellFilter:"all",deliveryFilter:"all",agenteFilter:"all",productFilter:"all",dateFilter:[null,null]}}},computed:{results(){return ZO(this.sales,this.search,this.searchId,this.config)}},watch:{results(t){this.$emit("update:filtered",t)}},mounted(){this.$emit("update:filtered",this.sales)}};const dH=(0,g.Z)(nH,[["render",HI]]);var cH=dH;const uH={class:"mb-5 tw-border-b tw-border-solid tw-pb-5 tw-border-neutral-200"},pH={class:"tw-grid tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2"},gH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},mH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},hH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},fH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-4"};function bH(t,e,r,a,l,o){const i=(0,s.up)("DashItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",uH,[(0,s._)("div",pH,[(0,s._)("div",gH,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",mH,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",hH,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",fH,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])])])])])}const xH={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},vH={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},yH={class:"tw-text-xl tw-font-bold"},_H={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},kH={class:"tw-text-sm"},CH={class:"rounded-circle tw-w-fit tw-mr-3"};function DH(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Ra.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",xH,[(0,s._)("div",vH,[(0,s._)("p",yH,(0,lt.zw)(isNaN(r.dash.pourcentage)?"0.00":r.dash.pourcentage)+" "+(0,lt.zw)(r.symbol),1),(0,s._)("span",_H,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",kH,(0,lt.zw)(r.dash.title),1)])]),(0,s._)("div",CH,[(0,s.Wm)(wt.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var SH={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const UH=(0,g.Z)(SH,[["render",DH]]);var zH=UH,qH={components:{DashItem:zH},props:["sales"],computed:{newSales(){return KO(this.sales)},confirmedSales(){return BO(this.sales)},deliveredSales(){return QO(this.sales)},shippedSales(){return JO(this.sales)}}};const PH=(0,g.Z)(qH,[["render",bH]]);var LH=PH,WH={components:{SalesTable:oF,AddSale:sV,SalesAnalytics:LH,IndexFilter:cH,NewAddSale:WI},data(){return{localUrl:w,isLoaded:!1,isLoadingReset:!1,showFilters:!1,isButtonDisabled:!0,filteredSales:[],search:"",searchId:"",selected:[],showPopup:!1}},computed:{fetched(){return this.$store.getters["sale/fetched"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))},agentes(){return this.users.filter((t=>2==t.role.id))},sales(){return this.$store.getters["sale/sales"]},cities(){return this.$store.getters["city/cities"]},selectedSales(){return this.sales.filter((t=>this.selected.includes(t.id)))}},methods:{handleSelected(t){this.selected=t,this.selected.length>0?this.isButtonDisabled=!1:this.isButtonDisabled=!0},async getDeliveries(){await at.deliveries().then((t=>{this.$store.dispatch("user/setDeliveries",t.data.data)}),this.$handleApiError)},async getUsers(){await at.all().then((t=>{this.$store.dispatch("user/setUsers",t.data.data.users)}),this.$handleApiError)},getSales(){return ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return pa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getCities(){if(0==this.cities.length)return at.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e)}))},handleReset(){this.isLoadingReset=!0,0!=this.selected.length&&ma.resetSale(this.selected).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("sale/resetSales",this.selected),this.selected=[])})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingReset=!1))}},async mounted(){0==this.deliveries.length&&(await this.getDeliveries(),this.getUsers()),this.fetched&&(this.isLoaded=!0),this.fetched&&(this.getProducts(),this.getCities())}};const AH=(0,g.Z)(WH,[["render",IA]]);var $H=AH;const EH={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},TH={class:"tw-px-3"},jH={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},FH={class:"tw-flex tw-items-center tw-gap-x-3"},VH=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),IH={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},OH=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all orders. ",-1),HH={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},MH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),RH=(0,s._)("span",null,"Create",-1),NH=[MH,RH],YH={class:"tw-overflow-hidden tw-col-span-1"},ZH={key:0};function KH(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",EH,[(0,s._)("section",TH,[(0,s._)("div",jH,[(0,s._)("div",null,[(0,s._)("div",FH,[VH,(0,s._)("span",IH,(0,lt.zw)(l.totalOrders)+" order",1)]),OH]),(0,s._)("div",HH,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},NH)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),"search-by-field":l.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>l.searchByField=t),filters:l.filters,"onUpdate:filters":e[3]||(e[3]=t=>l.filters=t),onFilter:e[4]||(e[4]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,lt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",YH,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[6]||(e[6]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",ZH,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const BH={class:"tw-flex tw-flex-col"},QH={class:"tw-overflow-x-auto"},JH={class:"tw-inline-block tw-min-w-full tw-align-middle"},GH={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},XH={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},tM={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},eM={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},rM={class:"tw-max-w-[25px]"},aM={class:"tw-inline-flex tw-items-center"},sM={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},lM=["checked"],oM=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),iM=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),wM={scope:"col",class:"tw-py-3.5 tw-px-2 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},nM=(0,s._)("span",null,"Created",-1),dM=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),cM=[nM,dM],uM={key:0,scope:"col",class:"tw-py-3.5 tw-px-2 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},pM=(0,s._)("span",null,"Updated",-1),gM=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),mM=[pM,gM],hM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller ",-1),fM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),bM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),xM=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),vM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),yM=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),_M=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),kM=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),CM=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),DM={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},SM={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},UM=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),zM=[UM],qM={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},PM={colspan:"11"},LM={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},WM=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),AM=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),$M=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),EM=[AM,$M],TM={class:"tw-mt-6"};function jM(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",BH,[(0,s._)("div",QH,[(0,s._)("div",JH,[(0,s._)("div",GH,[(0,s._)("table",XH,[(0,s._)("thead",tM,[(0,s._)("tr",null,[(0,s._)("th",eM,[(0,s._)("div",rM,[(0,s._)("div",aM,[(0,s._)("label",sM,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,lM),oM])])])]),iM,(0,s._)("th",wM,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},cM)]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",uM,[(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("sortOrder",{name:"updated_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},mM)])):(0,s.kq)("",!0),hM,fM,bM,xM,vM,yM,_M,kM,CM])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",DM,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,w)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[3]||(e[3]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),all:w,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",SM,zM)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",qM,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",PM,[(0,s._)("div",LM,[WM,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},EM)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",TM,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[5]||(e[5]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const FM={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},VM={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},IM={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},OM={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},HM=["disabled"],MM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),RM=(0,s._)("span",null," previous ",-1),NM=[MM,RM],YM=["disabled"],ZM=(0,s._)("span",null," Next ",-1),KM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),BM=[ZM,KM];function QM(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",FM,[(0,s._)("div",VM,[(0,s.Uk)(" Page "),(0,s._)("span",IM,(0,lt.zw)(r.currentPage)+" of "+(0,lt.zw)(r.lastPage),1)]),(0,s._)("div",OM,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,lt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},NM,10,HM),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,lt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},BM,10,YM)])])])}var JM={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const GM=(0,g.Z)(JM,[["render",QM]]);var XM=GM;const tR={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},eR={class:"tw-max-w-[25px]"},rR={class:"tw-inline-flex tw-items-center"},aR={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},sR=["checked","id"],lR=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),oR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},iR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},wR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},dR={key:0,class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},uR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},pR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},gR={key:0},mR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},hR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},fR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bR={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},xR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},vR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},yR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_R={class:"tw-space-y-1"},kR={class:"tw-font-bold tw-text-green-500"},CR={class:"tw-block tw-max-w-[150px] tw-truncate"},DR={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},SR={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},UR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},zR={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},qR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},PR={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function LR(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,lt.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300",r.item.is_paid_by_delivery&&r.item.is_delivered&&" tw-bg-emerald-50 tw-bg-gradient-to-r tw-via-white tw-from-emerald-200/50 tw-to-white",r.item.is_canceled&&" tw-bg-rose-50 tw-bg-gradient-to-r tw-via-white tw-from-rose-200/50 tw-to-white",r.item.is_paid_to_seller&&" tw-bg-cyan-50 tw-bg-gradient-to-r tw-via-white tw-from-cyan-200/50 tw-to-white"]])},[(0,s._)("td",tR,[(0,s._)("div",eR,[(0,s._)("div",rR,[(0,s._)("label",aR,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,sR),lR])])])]),(0,s._)("td",oR,[(0,s._)("div",null,[(0,s._)("h2",iR,(0,lt.zw)(r.item.id),1)])]),(0,s._)("td",wR,[(0,s._)("div",null,[(0,s._)("h2",nR,[(0,s._)("p",null,(0,lt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",null,(0,lt.zw)(l.moment(r.item.created_at).format("HH[:]mm[:]ss")),1)])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",dR,[(0,s._)("div",null,[(0,s._)("h2",cR,[(0,s._)("p",null,(0,lt.zw)(l.moment(r.item.updated_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",null,(0,lt.zw)(l.moment(r.item.updated_at).format("HH[:]mm[:]ss")),1)])])])):(0,s.kq)("",!0),(0,s._)("td",uR,[(0,s._)("div",null,[(0,s._)("h2",pR,[r.item.seller_user?((0,s.wg)(),(0,s.iD)("span",gR,(0,lt.zw)(r.item.seller_user.username),1)):(0,s.kq)("",!0)])])]),(0,s._)("td",mR,[(0,s._)("div",null,[(0,s._)("h2",hR,(0,lt.zw)(r.item.fullname),1)])]),(0,s._)("td",fR,[(0,s._)("div",null,[(0,s._)("h2",bR,(0,lt.zw)(r.item.city),1)])]),(0,s._)("td",xR,[(0,s._)("div",null,[(0,s._)("h2",vR,(0,lt.zw)(r.item.phone),1)])]),(0,s._)("td",yR,[(0,s._)("div",null,[(0,s._)("ul",_R,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",kR,(0,lt.zw)(t.quantity)+" x ",1),(0,s._)("span",CR,(0,lt.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",DR,(0,lt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",SR,(0,lt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",UR,[(0,s._)("div",null,[(0,s._)("span",{class:(0,lt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,lt.zw)(o.confirmation.name),3)])]),(0,s._)("td",zR,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",qR,[(0,s._)("div",null,[(0,s._)("span",{class:(0,lt.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,lt.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",PR,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const WR={class:"tw-h-full"},AR={class:"tw-flex tw-items-center tw-gap-2"},$R=["href"],ER={key:0},TR={key:1},jR={key:2};function FR(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),w=(0,s.up)("HistoryPopup"),n=(0,s.up)("HistoryItemPopup");return(0,s.wg)(),(0,s.iD)("div",WR,[(0,s._)("div",AR,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,$R),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>l.historyItem=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-yellow-500/20 hover:tw-bg-yellow-500/10 hover:tw-border-yellow-500/70 tw-duration-300 tw-text-yellow-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-alphabetical-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",ER,[(0,s.Wm)(i,{onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[4]||(e[4]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",TR,[(0,s.Wm)(w,{visible:l.history,"onUpdate:visible":e[5]||(e[5]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.historyItem?((0,s.wg)(),(0,s.iD)("div",jR,[(0,s.Wm)(n,{visible:l.historyItem,"onUpdate:visible":e[6]||(e[6]=t=>l.historyItem=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const VR={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},IR=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),OR={class:"tw-bg-white tw-p-4"},HR={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},MR={class:"tw-col-span-2 md:tw-col-span-1"},RR=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),NR={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},YR={class:"tw-col-span-2 md:tw-col-span-1"},ZR=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),KR={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},BR={class:"tw-col-span-2 md:tw-col-span-1"},QR=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),JR={class:"tw-relative"},GR=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),XR=["value"],tN=["value"],eN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},aN={class:"tw-col-span-2 md:tw-col-span-1"},sN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),lN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},oN={class:"tw-col-span-2"},iN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),wN={class:"tw-relative"},nN=["value"],dN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),cN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},uN={key:0,class:"md:tw-col-span-1 tw-col-span-2"},pN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),gN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mN={key:1,class:"md:tw-col-span-1 tw-col-span-2"},hN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),fN={class:"tw-col-span-2"},bN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),xN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},vN={class:"md:tw-col-span-1 tw-col-span-2"},yN={class:"tw-col-span-1"},_N=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),kN={class:"tw-relative"},CN=["value"],DN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),SN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},UN={key:2,class:"tw-col-span-1"},zN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),qN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},PN={class:"md:tw-col-span-1 tw-col-span-2"},LN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),WN={class:"tw-relative"},AN=["value"],$N=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),EN={class:"tw-col-span-2"},TN={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},jN={key:0,class:"tw-text-red-400 tw-text-xs"},FN={key:3,class:"tw-col-span-2"},VN={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},IN=["disabled"],ON=(0,s._)("span",null,"Update",-1);function HN(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",VR,[IR,(0,s._)("div",OR,[(0,s._)("div",HR,[(0,s._)("div",MR,[RR,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,lt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",NR,(0,lt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",YR,[ZR,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,lt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",KR,(0,lt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",BR,[QR,(0,s._)("div",JR,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,lt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[GR,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,lt.zw)(o.itemCopy.city),9,XR),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,lt.zw)(t.name),9,tN)))),128))],34),[[a.bM,o.itemCopy.city]]),eN]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",rN,(0,lt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",aN,[sN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,lt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",lN,(0,lt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",oN,[iN,(0,s._)("div",wN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,lt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,lt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,lt.zw)(t.name),11,nN)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),dN]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",cN,(0,lt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",uN,[pN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,lt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",gN,(0,lt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",mN,[hN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",fN,[bN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,lt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",xN,(0,lt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",vN,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",yN,[_N,(0,s._)("div",kN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.delivery=t),onChange:e[18]||(e[18]=t=>o.errors.delivery=null),class:(0,lt.C_)([[o.errors.delivery&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,lt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,lt.zw)(t.name),11,CN)))),128))],34),[[a.bM,o.itemCopy.delivery]]),DN]),o.errors.delivery?((0,s.wg)(),(0,s.iD)("label",SN,(0,lt.zw)(o.errors.delivery),1)):(0,s.kq)("",!0)]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",UN,[zN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.parent_id=t),onInput:e[20]||(e[20]=t=>o.errors.parent_id=null),type:"text",class:(0,lt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",qN,(0,lt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",PN,[LN,(0,s._)("div",WN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[21]||(e[21]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.text]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,AN)))),128))],512),[[a.bM,o.itemCopy.upsell]]),$N])]),(0,s._)("div",EN,[(0,s._)("label",TN,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",jN," # "+(0,lt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[22]||(e[22]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",FN,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",VN,[(0,s._)("button",{onClick:e[23]||(e[23]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[24]||(e[24]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ON],8,IN)])])])),_:1},8,["visible","onCancel"])])}const MN=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.parent_id||"refund"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!RN(t,e.items):(t.errors.parent_id="Add Parent id !",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),RN=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},NN=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},YN=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},ZN=(t,e)=>{t.isLoading=!0,t.errors={},zu.update(e.id,e).then((e=>NN(t,e.data))).catch((e=>YN(t,e.response.data))).finally((()=>t.isLoading=!1))},KN={key:0},BN=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),QN={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},JN=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),GN=(0,s._)("span",null,"Add Item",-1),XN=[JN,GN],tY={key:1,class:"md:tw-col-span-12 tw-col-span-12"},eY={class:"tw-max-w-full tw-overflow-auto"},rY={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},aY={class:"tw-bg-gray-50"},sY={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},lY={key:0},oY={colspan:"6"},iY={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},wY=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),nY=(0,s._)("span",null,"Add Item",-1),dY=[wY,nY],cY=(0,s._)("td",{colspan:"4"},null,-1),uY={colspan:"1",class:"tw-p-2"},pY={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},gY={key:1},mY={colspan:"5"},hY={class:"tw-scale-75 tw-p-5"};function fY(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",KN,[BN,(0,s._)("div",QN,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},XN)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",tY,[(0,s._)("div",eY,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",rY,[(0,s._)("tr",aY,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",sY,(0,lt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",lY,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",oY,[(0,s._)("div",iY,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},dY)])])]),(0,s._)("tr",null,[cY,(0,s._)("td",uY,[(0,s._)("div",pY,[(0,s._)("p",null,(0,lt.zw)(l.currency)+" "+(0,lt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",gY,[(0,s._)("tr",null,[(0,s._)("td",mY,[(0,s._)("div",hY,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const bY={class:"tw-p-2"},xY={class:"tw-p-2"},vY={key:0,class:"tw-relative"},yY=["value"],_Y=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),kY=["value"],CY={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},DY=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),SY=[DY],UY={class:"tw-p-2"},zY=["value"],qY={class:"tw-p-2"},PY=["value"],LY={class:"tw-flex tw-justify-center"};function WY(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("div",bY,[((0,s.wg)(),(0,s.j4)(i,{"append-to-body":"",reduce:t=>t.id,key:r.item.id,"onOption:selected":e[0]||(e[0]=t=>o.handleProductChange(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Product",modelValue:o.product,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),options:o.allProducts,label:"name"},null,8,["reduce","modelValue","options"])),(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",xY,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",vY,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[3]||(e[3]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[_Y,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.color)+" "+(0,lt.zw)(t.size),9,kY)))),128))],40,yY)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",CY,SY)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",UY,[(0,s._)("input",{onInput:e[4]||(e[4]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,zY)])]),(0,s._)("td",null,[(0,s._)("div",qY,[(0,s._)("input",{onInput:e[5]||(e[5]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,PY)])]),(0,s._)("td",null,[(0,s._)("div",LY,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var AY=r(3636),$Y={components:{"vue-select":AY.Z},props:{item:{required:!0},products:{required:!0}},computed:{allProducts(){return[{id:0,name:"Choose Product"},...this.products]},product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t,e){const r=1===e?parseInt(t.target.value):t.id;if(!r)return!1;const a=this.products.find((t=>t.id==r)),s={...this.item,product_id:r,product:a,product_ref:a.ref,product_variation_id:a.variations.length>0?a.variations[0].id:null,product_variation:a.variations.length>0?a.variations[0]:null};this.$emit("update",s)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const EY=(0,g.Z)($Y,[["render",WY]]);var TY=EY,jY={components:{ItemRow:TY},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return po(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const FY=(0,g.Z)(jY,[["render",fY]]);var VY=FY;const IY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),OY={key:0,class:"tw-relative"},HY=["value","disabled"],MY=(0,s._)("option",{value:""},"Choose a Delivery",-1),RY=["value"],NY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),YY={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ZY={key:2,class:"tw-relative"},KY={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},BY=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),QY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function JY(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[IY,l.fetched?((0,s.wg)(),(0,s.iD)("div",OY,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,lt.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[MY,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,RY)))),128))],42,HY),NY])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",YY,(0,lt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ZY,[(0,s._)("div",KY,[(0,s.Wm)(i)]),BY,QY]))])}var GY={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,at.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const XY=(0,g.Z)(GY,[["render",JY]]);var tZ=XY;const eZ={key:0},rZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),aZ={class:"md:tw-col-span-12 tw-col-span-12"},sZ={class:"tw-max-w-full tw-overflow-auto"},lZ={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},oZ=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),iZ={class:"tw-px-3 tw-py-2"},wZ={class:"tw-px-3 tw-py-2"},nZ={class:"tw-px-3 tw-py-2"},dZ={class:"tw-px-3 tw-py-2"},cZ={class:"tw-max-w-[250px] tw-text-sm"};function uZ(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",eZ,[rZ,(0,s._)("div",aZ,[(0,s._)("div",sZ,[(0,s._)("table",lZ,[oZ,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",iZ,(0,lt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",wZ,(0,lt.zw)(t.quantity),1),(0,s._)("td",nZ,(0,lt.zw)(t.price)+" "+(0,lt.zw)(l.currency),1),(0,s._)("td",dZ,[(0,s._)("p",cZ,(0,lt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var pZ={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const gZ=(0,g.Z)(pZ,[["render",uZ]]);var mZ=gZ,hZ={components:{OrderItems:VY,OrderAffectation:tZ,ProductOffersTable:mZ},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Wn,deliveryStatus:Tn,upsells:En,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=MN(this,this.itemCopy);if(!t)return!1;ZN(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,pa.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const fZ=(0,g.Z)(hZ,[["render",HN]]);var bZ=fZ;const xZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},vZ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),yZ={class:"tw-bg-white tw-p-4"},_Z={key:0},kZ={key:1,class:"tw-p-5"},CZ={class:"d-flex tw-flex-col justify-space-between flex-grow-1"},DZ={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},SZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},UZ={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},zZ={class:"d-flextw-flex-col justify-space-between flex-grow-1"},qZ={class:"tw-flex tw-flex-col tw-my-2"},PZ=(0,s._)("div",null,"New Order Created",-1),LZ={class:"tw-flex tw-flex-col"},WZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},AZ={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},$Z={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function EZ(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",xZ,[vZ,(0,s._)("div",yZ,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_Z,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",kZ,[(0,s.Wm)(_E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(kE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",CZ,[(0,s._)("div",DZ,[(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.type in l.keys?l.keys[t.type]:t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(yE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(!t.historique&&["affectation","delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",SZ,[(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,lt.zw)(t.users.firstname)+" "+(0,lt.zw)(t.users.lastname),1)]),(0,s._)("div",UZ,[(0,s._)("span",null,(0,lt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,lt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(kE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",zZ,[(0,s._)("div",qZ,[(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),PZ]),(0,s._)("div",LZ,[(0,s._)("div",WZ,[(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,lt.zw)(r.item.created_by.firstname)+" "+(0,lt.zw)(r.item.created_by.lastname),1)]),(0,s._)("div",AZ,[(0,s._)("span",null,(0,lt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,lt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",$Z,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var TZ={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1,keys:{in_warehouse:"Warehouse State"}}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ma.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const jZ=(0,g.Z)(TZ,[["render",EZ]]);var FZ=jZ;const VZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},IZ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Item History ",-1),OZ={class:"tw-bg-white tw-p-4"},HZ={key:0},MZ={key:1,class:"tw-p-5"},RZ={class:"d-flextw-flex-col justify-space-between flex-grow-1"},NZ={key:0,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},YZ={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},ZZ={key:2,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},KZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},BZ={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},QZ={class:"d-flextw-flex-col justify-space-between flex-grow-1"},JZ={class:"tw-flex tw-flex-col tw-my-2"},GZ=(0,s._)("div",null,"No Changes Happend Yet",-1),XZ={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},tK={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function eK(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",VZ,[IZ,(0,s._)("div",OZ,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",HZ,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",MZ,[(0,s.Wm)(_E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(kE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",RZ,[t.old_product.id!=t.new_product.id?((0,s.wg)(),(0,s.iD)("div",NZ,[(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"purple",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Product ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.old_product.name),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(wt.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(yE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.new_product.name),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_quantity!=t.new_quantity?((0,s.wg)(),(0,s.iD)("div",YZ,[(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"blue",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Quantity ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.old_quantity),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(wt.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(yE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.new_quantity),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_price!=t.new_price?((0,s.wg)(),(0,s.iD)("div",ZZ,[(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"#118C4F",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Price ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.old_price),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(wt.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(yE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.new_price),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",KZ,[(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,lt.zw)(t.users.firstname)+" "+(0,lt.zw)(t.users.lastname),1)]),(0,s._)("div",BZ,[(0,s._)("span",null,(0,lt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,lt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(kE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",QZ,[(0,s._)("div",JZ,[(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),GZ]),(0,s._)("div",XZ,[(0,s._)("span",null,(0,lt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,lt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",tK,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var rK={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getItemHistory(){this.isLoaded=!1,ma.itemHistory(this.item.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={old_product:"red",old_price:"green",old_quantity:"blue"};return["old_product","old_price","old_quantity"].includes(t)?e[t]:"primary-color"}},mounted(){this.getItemHistory()}};const aK=(0,g.Z)(rK,[["render",eK]]);var sK=aK,lK={components:{UpdatePopup:bZ,HistoryPopup:FZ,HistoryItemPopup:sK},props:{item:{required:!0}},data(){return{update:!1,history:!1,historyItem:!1,isLoading:!1}},methods:{handle(){}}};const oK=(0,g.Z)(lK,[["render",FR]]);var iK=oK;const wK={key:0},nK={key:0,class:"tw-relative tw-inline-block tw-text-left"},dK={key:0},cK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),uK=[cK],pK={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},gK={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},mK=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),hK=[mK],fK={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},bK={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},xK={class:"tw-py-1",role:"none"},vK=["onClick"],yK={key:1},_K={class:"tw-p-2 tw-scale-75"};function kK(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",wK,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",nK,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",dK,uK)):(0,s.kq)("",!0),(0,s._)("p",pK,(0,lt.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",gK,hK)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",fK,(0,lt.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(jt.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",bK,[(0,s._)("div",xK,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,lt.zw)(t.name),1)],8,vK)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[se.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",yK,[(0,s._)("div",_K,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var CK={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};ZN(this,e,!1)}}};const DK=(0,g.Z)(CK,[["render",kK]]);var SK=DK,UK={components:{TableActions:iK,TableRowAffectation:SK},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:Ce()}},computed:{confirmation(){return Wn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Tn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const zK=(0,g.Z)(UK,[["render",LR]]);var qK=zK,PK={components:{TablePaginationNoNums:XM,TableRow:qK},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const LK=(0,g.Z)(PK,[["render",jM]]);var WK=LK;const AK={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},$K={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},EK=["disabled"],TK=["disabled"],jK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),FK=[jK],VK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),IK=[VK],OK=["disabled"],HK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),MK=[HK],RK=["disabled"],NK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),YK=[NK],ZK=["disabled"],KK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),BK=[KK],QK={class:"tw-relative"},JK=["value"],GK=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),XK=[GK],tB=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),eB={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},rB=["value"],aB=(0,s._)("option",{value:"all"},"All",-1),sB=(0,s._)("option",{value:"id"},"ID",-1),lB=[aB,sB],oB=["value"],iB={class:"tw-overflow-hidden tw-col-span-1"},wB={class:"tw-overflow-hidden tw-col-span-1"},nB={class:"tw-overflow-hidden tw-col-span-1"};function dB(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",AK,[(0,s._)("div",$K,[(0,s._)("button",{class:(0,lt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,EK),(0,s._)("button",{title:"Orders Created Today",class:(0,lt.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,TK),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,lt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},FK,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,lt.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},IK,2)):(0,s.kq)("",!0),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[4]||(e[4]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,lt.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},MK,10,OK),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},YK,8,RK),(0,s._)("button",{title:"Show Export Options",onClick:e[6]||(e[6]=t=>o.showExport=!o.showExport),class:(0,lt.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},BK,10,ZK),(0,s._)("div",QK,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},XK,40,JK),tB])]),(0,s._)("div",eB,[(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},lB,40,rB),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[9]||(e[9]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[10]||(e[10]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,oB),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,lt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",iB,[(0,s.Wm)(w,{onClear:e[12]||(e[12]=e=>t.$emit("clear")),onFilter:e[13]||(e[13]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[14]||(e[14]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,lt.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",wB,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",nB,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const cB={class:"tw-mb-4"},uB={class:"tw-grid tw-grid-cols-12 tw-gap-4"},pB={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},gB={class:"tw-flex tw-items-center tw-justify-between"},mB={class:"tw-text-xl tw-font-bold tw-text-gray-900"},hB={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function fB(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",cB,[(0,s._)("div",uB,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",pB,[(0,s._)("p",{class:(0,lt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,lt.zw)(t.name),3),(0,s._)("div",gB,[(0,s._)("span",mB,(0,lt.zw)(t.total),1),(0,s._)("span",hB,(0,lt.zw)(t.percent)+"%",1)])])])))),128))])])}var bB={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Wn.find((e=>e.value==t))}}};const xB=(0,g.Z)(bB,[["render",fB]]);var vB=xB;const yB={class:"tw-mb-4"},_B={class:"tw-flex tw-items-center tw-gap-2"},kB=["disabled"],CB=(0,s._)("span",null,"Select Filtered",-1),DB={class:"tw-flex tw-justify-end"},SB=["disabled"];function UB(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",yB,[(0,s._)("div",_B,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),CB],8,kB)]),(0,s._)("div",DB,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,lt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,SB)])])}var zB={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,zu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const qB=(0,g.Z)(zB,[["render",UB]]);var PB=qB;const LB={class:"tw-mb-4"},WB={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},AB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$B=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),EB=["value"],TB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},jB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),FB=["value"],VB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},IB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),OB=["value"],HB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},MB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),RB=["value"],NB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),ZB=["value"],KB=(0,s._)("option",{value:"all",selected:""},"All",-1),BB=["value"],QB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},JB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),GB=["value"],XB=(0,s._)("option",{value:"all",selected:""},"All",-1),tQ=["value"],eQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),aQ=["value"],sQ=(0,s._)("option",{value:"all",selected:""},"All",-1),lQ=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),oQ=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),iQ=[sQ,lQ,oQ],wQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Warehouse state",-1),dQ=["value"],cQ=(0,s._)("option",{value:"all",selected:""},"All",-1),uQ=(0,s._)("option",{value:"in",selected:""},"In",-1),pQ=(0,s._)("option",{value:"out",selected:""},"Out",-1),gQ=[cQ,uQ,pQ],mQ={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},hQ=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),fQ=(0,s._)("span",null,"Clear",-1),bQ=[hQ,fQ],xQ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),vQ=(0,s._)("span",null,"Filter",-1),yQ=[xQ,vQ];function _Q(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),w=(0,s.up)("AgentFilter"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",LB,[(0,s._)("div",WB,[(0,s.kq)("",!0),(0,s._)("div",AB,[$B,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,EB)]),(0,s._)("div",TB,[jB,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,FB)]),(0,s._)("div",VB,[IB,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,OB)]),(0,s._)("div",HB,[MB,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,RB)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",NB,[YB,(0,s._)("select",{value:r.filters.confirmation,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[KB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,lt.zw)(t.name),11,BB)))),128))],40,ZB)]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",QB,[JB,(0,s._)("select",{onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[XB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,lt.zw)(t.name),11,tQ)))),128))],40,GB)]),(0,s._)("div",eQ,[rQ,(0,s._)("select",{value:r.filters.upsell,onChange:e[11]||(e[11]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},iQ,40,aQ)]),(0,s._)("div",wQ,[nQ,(0,s._)("select",{value:r.filters.in_warehouse,onChange:e[12]||(e[12]=e=>t.$emit("update",{...r.filters,in_warehouse:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},gQ,40,dQ)]),(0,s._)("div",mQ,[(0,s._)("button",{onClick:e[13]||(e[13]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},bQ),(0,s._)("button",{onClick:e[14]||(e[14]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},yQ)])])])}const kQ={class:"tw-text-sm tw-text-neutral-600"},CQ=["onClick"];function DQ(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",kQ,(0,lt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,lt.zw)(t),9,CQ)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var SQ={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,to.Z)(new Date,1),(0,to.Z)(new Date,1)]},{label:"This month",range:[(0,eo.Z)(new Date),(0,ro.Z)(new Date)]},{label:"Last month",range:[(0,eo.Z)((0,ao.Z)(new Date,1)),(0,ro.Z)((0,ao.Z)(new Date,1))]},{label:"This year",range:[(0,so.Z)(new Date),(0,lo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const UQ=(0,g.Z)(SQ,[["render",DQ]]);var zQ=UQ;const qQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},PQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),LQ=["value"],WQ=(0,s._)("option",{value:"all"},"All",-1),AQ=(0,s._)("option",{value:""},"No Delivery",-1),$Q=["value"];function EQ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",qQ,[PQ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[WQ,AQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,$Q)))),128))],40,LQ)])}var TQ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const jQ=(0,g.Z)(TQ,[["render",EQ]]);var FQ=jQ;const VQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},IQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),OQ=["value"],HQ=(0,s._)("option",{value:"all"},"All",-1),MQ=(0,s._)("option",{value:""},"No Agent",-1),RQ=["value"];function NQ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",VQ,[IQ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[HQ,MQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,RQ)))),128))],40,OQ)])}var YQ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const ZQ=(0,g.Z)(YQ,[["render",NQ]]);var KQ=ZQ;const BQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},QQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),JQ=["value"],GQ=(0,s._)("option",{value:"all"},"All",-1),XQ=["value"];function tJ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",BQ,[QQ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[GQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,XQ)))),128))],40,JQ)])}var eJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const rJ=(0,g.Z)(eJ,[["render",tJ]]);var aJ=rJ;const sJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},lJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function oJ(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",sJ,[lJ,(0,s.Wm)(i,{"append-to-body":"",dense:"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var iJ={components:{"vue-select":AY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return pa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const wJ=(0,g.Z)(iJ,[["render",oJ]]);var nJ=wJ,dJ={components:{DateFilter:zQ,AffectationFilter:FQ,AgentFilter:KQ,ProductFilter:nJ,SellerFilter:aJ},props:{filters:{required:!0,default:{}}},data(){return{confirmations:Wn,deliveries:Tn,dateFilter:["",""]}}};const cJ=(0,g.Z)(dJ,[["render",_Q]]);var uJ=cJ,pJ={components:{IndexStatistics:vB,FiltersWrapper:uJ,IndexExport:PB},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=Ce()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const gJ=(0,g.Z)(pJ,[["render",dB]]);var mJ=gJ;const hJ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},fJ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),bJ={class:"tw-bg-white tw-p-4"},xJ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},vJ={class:"tw-col-span-2 md:tw-col-span-1"},yJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),_J={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},kJ={class:"tw-col-span-2 md:tw-col-span-1"},CJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),DJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},SJ={class:"tw-col-span-2 md:tw-col-span-1"},UJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),zJ={class:"tw-relative"},qJ=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),PJ=["value"],LJ=["value"],WJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),AJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$J={class:"tw-col-span-2 md:tw-col-span-1"},EJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),TJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},jJ={class:"tw-col-span-2"},FJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),VJ={class:"tw-relative"},IJ=["value"],OJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),HJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},MJ={key:0,class:"md:tw-col-span-1 tw-col-span-2"},RJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),NJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},YJ={key:1,class:"md:tw-col-span-1 tw-col-span-2"},ZJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),KJ={class:"tw-col-span-2"},BJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),QJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},JJ={class:"md:tw-col-span-1 tw-col-span-2"},GJ={key:2,class:"tw-col-span-1"},XJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),tG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},eG={class:"md:tw-col-span-1 tw-col-span-2"},rG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),aG={class:"tw-relative"},sG=["value"],lG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),oG={class:"tw-col-span-2"},iG={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},wG={key:0,class:"tw-text-red-400 tw-text-xs"},nG={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},dG=["disabled"],cG=(0,s._)("span",null,"Create",-1);function uG(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",hJ,[fJ,(0,s._)("div",bJ,[(0,s._)("div",xJ,[(0,s._)("div",vJ,[yJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,lt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",_J,(0,lt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",kJ,[CJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,lt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",DJ,(0,lt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",SJ,[UJ,(0,s._)("div",zJ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,lt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[qJ,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,lt.zw)(o.itemCopy.city),9,PJ),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,lt.zw)(t.name),9,LJ)))),128))],34),[[a.bM,o.itemCopy.city]]),WJ]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",AJ,(0,lt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",$J,[EJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,lt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",TJ,(0,lt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",jJ,[FJ,(0,s._)("div",VJ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,lt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,lt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,lt.zw)(t.name),11,IJ)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),OJ]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",HJ,(0,lt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",MJ,[RJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,lt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",NJ,(0,lt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",YJ,[ZJ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",KJ,[BJ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,lt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",QJ,(0,lt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",JJ,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",GJ,[XJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,lt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",tG,(0,lt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",eG,[rG,(0,s._)("div",aG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.text]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,sG)))),128))],512),[[a.bM,o.itemCopy.upsell]]),lG])]),(0,s._)("div",oG,[(0,s._)("label",iG,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",wG," # "+(0,lt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",nG,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),cG],8,dG)])])])),_:1},8,["visible","onCancel"])])}const pG=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},gG=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},mG=(t,e)=>{t.isLoading=!0,t.errors={},zu.create(e).then((e=>pG(t,e.data))).catch((e=>gG(t,e.response.data))).finally((()=>t.isLoading=!1))};var hG={components:{OrderItems:VY,OrderAffectation:tZ},props:{visible:{required:!0}},data(){return{confirmations:Wn,upsells:En,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=MN(this,this.itemCopy);if(!t)return!1;mG(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,pa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const fG=(0,g.Z)(hG,[["render",uG]]);var bG=fG;const xG={class:"tw-mb-4"},vG={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},yG={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},_G={class:"tw-flex tw-items-center tw-gap-2"},kG={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},CG=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),DG={class:"tw-flex tw-items-center tw-gap-2"},SG=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),UG=(0,s._)("span",null," Clear Selection ",-1),zG=[SG,UG],qG=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),PG=(0,s._)("span",null," Actions ",-1),LG=[qG,PG],WG={key:0};function AG(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",xG,[(0,s._)("div",vG,[(0,s._)("div",yG,[(0,s._)("div",_G,[(0,s._)("div",kG,(0,lt.zw)(r.selected.length),1),CG]),(0,s._)("div",DG,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},zG),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},LG)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",WG,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const $G={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},EG={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},TG=(0,s._)("span",null,"Quick Actions",-1),jG={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},FG={class:"tw-bg-white tw-p-4"},VG={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},IG={class:"tw-col-span-2 md:tw-col-span-1"},OG={key:0,class:"tw-col-span-2 md:tw-col-span-1"},HG={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},MG=(0,s._)("span",null,"Apply",-1);function RG(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",$G,[(0,s._)("div",EG,[TG,(0,s._)("span",jG,(0,lt.zw)(r.selected.length),1)]),(0,s._)("div",FG,[(0,s._)("div",VG,[(0,s._)("div",IG,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",OG,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",HG,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),MG])])])])),_:1},8,["visible","closeable","onCancel"])])}const NG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),YG={class:"tw-relative"},ZG=["value"],KG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function BG(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[NG,(0,s._)("div",YG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,lt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,ZG)))),128))],512),[[a.bM,i.vaction]]),KG]),(0,s.kq)("",!0)])}var QG={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const JG=(0,g.Z)(QG,[["render",BG]]);var GG=JG;const XG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),tX={class:"tw-relative"},eX=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),rX=["value"],aX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function sX(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[XG,(0,s._)("div",tX,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,lt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[eX,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.text]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,rX)))),128))],512),[[a.bM,i.vvalue]]),aX]),(0,s.kq)("",!0)])}var lX={props:{value:{required:!0}},data(){return{statuses:Tn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const oX=(0,g.Z)(lX,[["render",sX]]);var iX=oX;class wX{async execute(t){return await $.getCookie(),W.post("api/v1/bulk/execute",t)}}var nX=new wX,dX=(t,e)=>{t.isLoading=!0,nX.execute(e).then((e=>cX(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const cX=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var uX={components:{BulkSelectAction:GG,BulkDeliveryAction:iX},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};dX(this,t)}}};const pX=(0,g.Z)(uX,[["render",RG]]);var gX=pX,mX={components:{BulkPopup:gX},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const hX=(0,g.Z)(mX,[["render",AG]]);var fX=hX,bX={components:{IndexTable:WK,IndexFilters:mJ,CreatePopup:bG,BulkActions:fX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,zu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=go(t.first_page_url),this.lase_page_url=go(t.last_page_url),this.next_page_url=go(t.next_page_url),this.prev_page_url=go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(t){this.sort_order="asc"==this.sort_order?"desc":"asc",this.sort_by=t.name,this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,at.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const xX=(0,g.Z)(bX,[["render",KH]]);var vX=xX;const yX={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},_X={class:"tw-px-3"},kX={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},CX={class:"tw-flex tw-items-center tw-gap-x-3"},DX=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Dispatched Orders ",-1),SX={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},UX=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of dispatched orders. ",-1),zX={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},qX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),PX=(0,s._)("span",null,"Create",-1),LX=[qX,PX],WX={class:"tw-overflow-hidden tw-col-span-1"},AX={key:0};function $X(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",yX,[(0,s._)("section",_X,[(0,s._)("div",kX,[(0,s._)("div",null,[(0,s._)("div",CX,[DX,(0,s._)("span",SX,(0,lt.zw)(l.totalOrders)+" order",1)]),UX]),(0,s._)("div",zX,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},LX)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,lt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",WX,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",AX,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var EX={components:{IndexTable:WK,IndexFilters:mJ,CreatePopup:bG,BulkActions:fX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,zu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=go(t.first_page_url),this.lase_page_url=go(t.last_page_url),this.next_page_url=go(t.next_page_url),this.prev_page_url=go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,at.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const TX=(0,g.Z)(EX,[["render",$X]]);var jX=TX;const FX={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},VX={class:"tw-px-3"},IX={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},OX={class:"tw-flex tw-items-center tw-gap-x-3"},HX=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Shipped Orders ",-1),MX={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},RX=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of shipped orders. ",-1),NX={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},YX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),ZX=(0,s._)("span",null,"Create",-1),KX=[YX,ZX],BX={class:"tw-overflow-hidden tw-col-span-1"},QX={key:0};function JX(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",FX,[(0,s._)("section",VX,[(0,s._)("div",IX,[(0,s._)("div",null,[(0,s._)("div",OX,[HX,(0,s._)("span",MX,(0,lt.zw)(l.totalOrders)+" order",1)]),RX]),(0,s._)("div",NX,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},KX)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,lt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",BX,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",QX,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var GX={components:{IndexTable:WK,IndexFilters:mJ,CreatePopup:bG,BulkActions:fX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,zu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=go(t.first_page_url),this.lase_page_url=go(t.last_page_url),this.next_page_url=go(t.next_page_url),this.prev_page_url=go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,at.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const XX=(0,g.Z)(GX,[["render",JX]]);var t0=XX;const e0={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},r0={class:"tw-px-3"},a0={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},s0={class:"tw-flex tw-items-center tw-gap-x-3"},l0=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),o0={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},i0=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),w0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},n0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),d0=(0,s._)("span",null,"Create",-1),c0=[n0,d0],u0={class:"tw-overflow-hidden tw-col-span-1"},p0={key:0};function g0(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",e0,[(0,s._)("section",r0,[(0,s._)("div",a0,[(0,s._)("div",null,[(0,s._)("div",s0,[l0,(0,s._)("span",o0,(0,lt.zw)(l.totalOrders)+" order",1)]),i0]),(0,s._)("div",w0,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},c0)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,lt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",u0,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",p0,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const m0={class:"tw-flex tw-flex-col"},h0={class:"tw-overflow-x-auto"},f0={class:"tw-inline-block tw-min-w-full tw-align-middle"},b0={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},x0={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},v0={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},y0={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},_0={class:"tw-max-w-[25px]"},k0={class:"tw-inline-flex tw-items-center"},C0={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},D0=["checked"],S0=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),U0=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),z0={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},q0=(0,s._)("span",null,"Created",-1),P0=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),L0=[q0,P0],W0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),A0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),$0=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),E0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),T0=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),j0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),F0=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),V0=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),I0={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},O0={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},H0=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),M0=[H0],R0={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},N0={colspan:"11"},Y0={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Z0=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),K0=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),B0=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Q0=[K0,B0],J0={class:"tw-mt-6"};function G0(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",m0,[(0,s._)("div",h0,[(0,s._)("div",f0,[(0,s._)("div",b0,[(0,s._)("table",x0,[(0,s._)("thead",v0,[(0,s._)("tr",null,[(0,s._)("th",y0,[(0,s._)("div",_0,[(0,s._)("div",k0,[(0,s._)("label",C0,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,D0),S0])])])]),U0,(0,s._)("th",z0,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},L0)]),W0,A0,$0,E0,T0,j0,F0,V0])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",I0,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,w)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:w,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",O0,M0)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",R0,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",N0,[(0,s._)("div",Y0,[Z0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Q0)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",J0,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const X0={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},t1={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},e1={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},r1={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},a1=["disabled"],s1=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),l1=(0,s._)("span",null," previous ",-1),o1=[s1,l1],i1=["disabled"],w1=(0,s._)("span",null," Next ",-1),n1=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),d1=[w1,n1];function c1(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",X0,[(0,s._)("div",t1,[(0,s.Uk)(" Page "),(0,s._)("span",e1,(0,lt.zw)(r.currentPage)+" of "+(0,lt.zw)(r.lastPage),1)]),(0,s._)("div",r1,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,lt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},o1,10,a1),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,lt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},d1,10,i1)])])])}var u1={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const p1=(0,g.Z)(u1,[["render",c1]]);var g1=p1;const m1={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},h1={class:"tw-max-w-[25px]"},f1={class:"tw-inline-flex tw-items-center"},b1={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},x1=["checked","id"],v1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),y1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},k1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},C1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},D1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},S1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},U1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},z1={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},q1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},P1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},L1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},W1={class:"tw-space-y-1"},A1={class:"tw-font-bold tw-text-green-500"},$1={class:"tw-block tw-max-w-[150px] tw-truncate"},E1={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},T1={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},j1={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},F1={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},V1={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},I1={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function O1(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,lt.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",m1,[(0,s._)("div",h1,[(0,s._)("div",f1,[(0,s._)("label",b1,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,x1),v1])])])]),(0,s._)("td",y1,[(0,s._)("div",null,[(0,s._)("h2",_1,(0,lt.zw)(r.item.id),1)])]),(0,s._)("td",k1,[(0,s._)("div",null,[(0,s._)("h2",C1,[(0,s._)("p",null,(0,lt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",D1,[(0,s._)("div",null,[(0,s._)("h2",S1,(0,lt.zw)(r.item.fullname),1)])]),(0,s._)("td",U1,[(0,s._)("div",null,[(0,s._)("h2",z1,(0,lt.zw)(r.item.city),1)])]),(0,s._)("td",q1,[(0,s._)("div",null,[(0,s._)("h2",P1,(0,lt.zw)(r.item.phone),1)])]),(0,s._)("td",L1,[(0,s._)("div",null,[(0,s._)("ul",W1,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",A1,(0,lt.zw)(t.quantity)+" x ",1),(0,s._)("span",$1,(0,lt.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",E1,(0,lt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",T1,(0,lt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",j1,[(0,s._)("div",null,[(0,s._)("span",{class:(0,lt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,lt.zw)(o.confirmation.name),3)])]),(0,s._)("td",F1,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",V1,[(0,s._)("div",null,[(0,s._)("span",{class:(0,lt.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,lt.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",I1,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const H1={class:"tw-h-full"},M1={class:"tw-flex tw-items-center tw-gap-2"},R1=["href"],N1={key:0};function Y1(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",H1,[(0,s._)("div",M1,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,R1),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",N1,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[2]||(e[2]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const Z1={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},K1=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),B1={class:"tw-bg-white tw-p-4"},Q1={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},J1={class:"tw-col-span-2 md:tw-col-span-1"},G1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),X1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},t2={class:"tw-col-span-2 md:tw-col-span-1"},e2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),r2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},a2={class:"tw-col-span-2 md:tw-col-span-1"},s2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),l2={class:"tw-relative"},o2=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),i2=["value"],w2=["value"],n2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),d2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},c2={class:"tw-col-span-2 md:tw-col-span-1"},u2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),p2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},g2={class:"tw-col-span-2"},m2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),h2={class:"tw-relative"},f2=["value"],b2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),x2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},v2={key:0,class:"md:tw-col-span-1 tw-col-span-2"},y2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),_2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},k2={key:1,class:"md:tw-col-span-1 tw-col-span-2"},C2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),D2={class:"tw-col-span-2"},S2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),U2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},z2={class:"md:tw-col-span-1 tw-col-span-2"},q2={class:"md:tw-col-span-1 tw-col-span-2"},P2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),L2={class:"tw-relative"},W2=["value"],A2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),$2={class:"tw-col-span-2"},E2={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},T2={key:0,class:"tw-text-red-400 tw-text-xs"},j2={key:3,class:"tw-col-span-2"},F2={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},V2=["disabled"],I2=(0,s._)("span",null,"Update",-1);function O2(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Z1,[K1,(0,s._)("div",B1,[(0,s._)("div",Q1,[(0,s._)("div",J1,[G1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,lt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",X1,(0,lt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",t2,[e2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,lt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",r2,(0,lt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",a2,[s2,(0,s._)("div",l2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,lt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[o2,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,lt.zw)(o.itemCopy.city),9,i2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,lt.zw)(t.name),9,w2)))),128))],34),[[a.bM,o.itemCopy.city]]),n2]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",d2,(0,lt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",c2,[u2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,lt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",p2,(0,lt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",g2,[m2,(0,s._)("div",h2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,lt.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,lt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,lt.zw)(t.name),11,f2)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),b2]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",x2,(0,lt.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",v2,[y2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,lt.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",_2,(0,lt.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",k2,[C2,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",D2,[S2,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,lt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",U2,(0,lt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",z2,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",q2,[P2,(0,s._)("div",L2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.text]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,W2)))),128))],512),[[a.bM,o.itemCopy.upsell]]),A2])]),(0,s._)("div",$2,[(0,s._)("label",E2,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",T2," # "+(0,lt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",j2,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",F2,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),I2],8,V2)])])])),_:1},8,["visible","onCancel"])])}const H2=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!M2(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),M2=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},R2=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},N2=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Y2=(t,e)=>{t.isLoading=!0,t.errors={},zu.update(e.id,e).then((e=>R2(t,e.data))).catch((e=>N2(t,e.response.data))).finally((()=>t.isLoading=!1))},Z2={key:0},K2=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),B2={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Q2=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),J2=(0,s._)("span",null,"Add Item",-1),G2=[Q2,J2],X2={key:1,class:"md:tw-col-span-12 tw-col-span-12"},t5={class:"tw-max-w-full tw-overflow-auto"},e5={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},r5={class:"tw-bg-gray-50"},a5={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},s5={key:0},l5={colspan:"6"},o5={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},i5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),w5=(0,s._)("span",null,"Add Item",-1),n5=[i5,w5],d5=(0,s._)("td",{colspan:"4"},null,-1),c5=(0,s._)("td",null,null,-1),u5={colspan:"1",class:"tw-p-2"},p5={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},g5={key:1},m5={colspan:"6"},h5={class:"tw-scale-75 tw-p-5"};function f5(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Z2,[K2,(0,s._)("div",B2,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},G2)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",X2,[(0,s._)("div",t5,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",e5,[(0,s._)("tr",r5,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",a5,(0,lt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",s5,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",l5,[(0,s._)("div",o5,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},n5)])])]),(0,s._)("tr",null,[d5,c5,(0,s._)("td",u5,[(0,s._)("div",p5,[(0,s._)("p",null,(0,lt.zw)(l.currency)+" "+(0,lt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",g5,[(0,s._)("tr",null,[(0,s._)("td",m5,[(0,s._)("div",h5,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const b5=(0,s._)("td",null,null,-1),x5={class:"tw-p-2"},v5={class:"tw-relative"},y5=["value"],_5=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),k5=["value"],C5=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),D5={class:"tw-p-2"},S5={key:0,class:"tw-relative"},U5=["value"],z5=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),q5=["value"],P5={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},L5=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),W5=[L5],A5={class:"tw-p-2"},$5=["value"],E5={class:"tw-p-2"},T5=["value"],j5={class:"tw-flex tw-justify-center"};function F5(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[b5,(0,s._)("td",null,[(0,s._)("div",x5,[(0,s._)("div",v5,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[_5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.name),9,k5)))),128))],40,y5),C5])])]),(0,s._)("td",null,[(0,s._)("div",D5,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",S5,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[z5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.color)+" "+(0,lt.zw)(t.size),9,q5)))),128))],40,U5)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",P5,W5)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",A5,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,$5)])]),(0,s._)("td",null,[(0,s._)("div",E5,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,T5)])]),(0,s._)("td",null,[(0,s._)("div",j5,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var V5={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const I5=(0,g.Z)(V5,[["render",F5]]);var O5=I5,H5={components:{ItemRow:O5},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return po(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const M5=(0,g.Z)(H5,[["render",f5]]);var R5=M5;const N5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Y5={key:0,class:"tw-relative"},Z5=["value","disabled"],K5=(0,s._)("option",{value:""},"Choose a Delivery",-1),B5=["value"],Q5=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),J5={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},G5={key:2,class:"tw-relative"},X5={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},t4=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),e4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function r4(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[N5,l.fetched?((0,s.wg)(),(0,s.iD)("div",Y5,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,lt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[K5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,B5)))),128))],42,Z5),Q5])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",J5,(0,lt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",G5,[(0,s._)("div",X5,[(0,s.Wm)(i)]),t4,e4]))])}var a4={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,at.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const s4=(0,g.Z)(a4,[["render",r4]]);var l4=s4;const o4={key:0},i4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),w4={class:"md:tw-col-span-12 tw-col-span-12"},n4={class:"tw-max-w-full tw-overflow-auto"},d4={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},c4=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),u4={class:"tw-px-3 tw-py-2"},p4={class:"tw-px-3 tw-py-2"},g4={class:"tw-px-3 tw-py-2"},m4={class:"tw-px-3 tw-py-2"},h4={class:"tw-max-w-[250px] tw-text-sm"};function f4(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",o4,[i4,(0,s._)("div",w4,[(0,s._)("div",n4,[(0,s._)("table",d4,[c4,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",u4,(0,lt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",p4,(0,lt.zw)(t.quantity),1),(0,s._)("td",g4,(0,lt.zw)(t.price)+" "+(0,lt.zw)(l.currency),1),(0,s._)("td",m4,[(0,s._)("p",h4,(0,lt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var b4={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const x4=(0,g.Z)(b4,[["render",f4]]);var v4=x4,y4={components:{OrderItems:R5,OrderAffectation:l4,ProductOffersTable:v4},props:{visible:{required:!0},item:{required:!0}},data(){return{followup_confirmations:$n,deliveryStatus:Tn,upsells:En,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=H2(this,this.itemCopy);if(!t)return!1;Y2(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,pa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const _4=(0,g.Z)(y4,[["render",O2]]);var k4=_4,C4={components:{UpdatePopup:k4},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const D4=(0,g.Z)(C4,[["render",Y1]]);var S4=D4;const U4={key:0},z4={key:0,class:"tw-relative tw-inline-block tw-text-left"},q4={key:0},P4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),L4=[P4],W4={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},A4={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},$4=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),E4=[$4],T4={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},j4={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},F4={class:"tw-py-1",role:"none"},V4=["onClick"],I4={key:1},O4={class:"tw-p-2 tw-scale-75"};function H4(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",U4,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",z4,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",q4,L4)):(0,s.kq)("",!0),(0,s._)("p",W4,(0,lt.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",A4,E4)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",T4,(0,lt.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(jt.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",j4,[(0,s._)("div",F4,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,lt.zw)(t.name),1)],8,V4)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[se.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",I4,[(0,s._)("div",O4,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var M4={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};Y2(this,e,!1)}}};const R4=(0,g.Z)(M4,[["render",H4]]);var N4=R4,Y4={components:{TableActions:S4,TableRowAffectation:N4},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:Ce()}},computed:{confirmation(){return Wn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Tn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const Z4=(0,g.Z)(Y4,[["render",O1]]);var K4=Z4,B4={components:{TablePaginationNoNums:g1,TableRow:K4},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const Q4=(0,g.Z)(B4,[["render",G0]]);var J4=Q4;const G4={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},X4={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},t3=["disabled"],e3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),r3=[e3],a3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),s3=[a3],l3=["disabled"],o3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),i3=[o3],w3={class:"tw-relative"},n3=["value"],d3=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),c3=[d3],u3=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),p3={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},g3=["value"],m3={class:"tw-overflow-hidden tw-col-span-1"},h3={class:"tw-overflow-hidden tw-col-span-1"};function f3(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=((0,s.up)("IndexExport"),(0,s.up)("IndexStatistics"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",G4,[(0,s._)("div",X4,[(0,s._)("button",{class:(0,lt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,t3),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,lt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},r3,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:1,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,lt.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},s3,2)):(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},i3,8,l3),(0,s.kq)("",!0),(0,s._)("div",w3,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},c3,40,n3),u3])]),(0,s._)("div",p3,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,g3),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,lt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",m3,[(0,s.Wm)(w,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s.kq)("",!0),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,lt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",h3,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const b3={class:"tw-mb-4"},x3={class:"tw-grid tw-grid-cols-12 tw-gap-4"},v3={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},y3={class:"tw-flex tw-items-center tw-justify-between"},_3={class:"tw-text-xl tw-font-bold tw-text-gray-900"},k3={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function C3(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",b3,[(0,s._)("div",x3,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",v3,[(0,s._)("p",{class:(0,lt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,lt.zw)(t.name),3),(0,s._)("div",y3,[(0,s._)("span",_3,(0,lt.zw)(t.total),1),(0,s._)("span",k3,(0,lt.zw)(t.percent)+"%",1)])])])))),128))])])}var D3={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Wn.find((e=>e.value==t))}}};const S3=(0,g.Z)(D3,[["render",C3]]);var U3=S3;const z3={class:"tw-mb-4"},q3={class:"tw-flex tw-items-center tw-gap-2"},P3=["disabled"],L3=(0,s._)("span",null,"Select Filtered",-1),W3={class:"tw-flex tw-justify-end"},A3=["disabled"];function $3(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",z3,[(0,s._)("div",q3,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),L3],8,P3)]),(0,s._)("div",W3,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,lt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,A3)])])}var E3={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,zu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const T3=(0,g.Z)(E3,[["render",$3]]);var j3=T3;const F3={class:"tw-mb-4"},V3={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},I3={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},O3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),H3=["value"],M3=(0,s._)("option",{value:"all",selected:""},"All",-1),R3=["value"],N3={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Y3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),Z3=["value"],K3=(0,s._)("option",{value:"all",selected:""},"All",-1),B3=["value"],Q3={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},J3=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),G3=(0,s._)("span",null,"Clear",-1),X3=[J3,G3],t8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),e8=(0,s._)("span",null,"Filter",-1),r8=[t8,e8];function a8(t,e,r,a,l,o){(0,s.up)("ProductFilter"),(0,s.up)("AgentFilter");const i=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",F3,[(0,s._)("div",V3,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",I3,[O3,(0,s._)("select",{value:r.filters.followup_confirmation,onChange:e[6]||(e[6]=e=>t.$emit("update",{...r.filters,followup_confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[M3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,lt.zw)(t.name),11,R3)))),128))],40,H3)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",N3,[Y3,(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[K3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,lt.zw)(t.name),11,B3)))),128))],40,Z3)]),(0,s.kq)("",!0),(0,s._)("div",Q3,[(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},X3),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},r8)])])])}const s8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},l8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),o8=["value"],i8=(0,s._)("option",{value:"all"},"All",-1),w8=(0,s._)("option",{value:""},"No Delivery",-1),n8=["value"];function d8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",s8,[l8,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[i8,w8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,n8)))),128))],40,o8)])}var c8={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const u8=(0,g.Z)(c8,[["render",d8]]);var p8=u8;const g8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},m8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),h8=["value"],f8=(0,s._)("option",{value:"all"},"All",-1),b8=(0,s._)("option",{value:""},"No Agent",-1),x8=["value"];function v8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",g8,[m8,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[f8,b8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,x8)))),128))],40,h8)])}var y8={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const _8=(0,g.Z)(y8,[["render",v8]]);var k8=_8;const C8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},D8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),S8=["value"],U8=(0,s._)("option",{value:"all"},"All",-1),z8=["value"];function q8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",C8,[D8,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[U8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.name),9,z8)))),128))],40,S8)])}var P8={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return pa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const L8=(0,g.Z)(P8,[["render",q8]]);var W8=L8,A8={components:{AffectationFilter:p8,AgentFilter:k8,ProductFilter:W8},props:{filters:{required:!0,default:{}}},data(){return{followup_confirmations:$n,deliveries:Tn,dateFilter:["",""]}}};const $8=(0,g.Z)(A8,[["render",a8]]);var E8=$8,T8={components:{IndexStatistics:U3,FiltersWrapper:E8,IndexExport:j3},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=Ce()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const j8=(0,g.Z)(T8,[["render",f3]]);var F8=j8;const V8={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},I8=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),O8={class:"tw-bg-white tw-p-4"},H8={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},M8={class:"tw-col-span-2 md:tw-col-span-1"},R8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),N8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Y8={class:"tw-col-span-2 md:tw-col-span-1"},Z8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),K8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},B8={class:"tw-col-span-2 md:tw-col-span-1"},Q8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),J8={class:"tw-relative"},G8=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),X8=["value"],t6=["value"],e6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),r6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},a6={class:"tw-col-span-2 md:tw-col-span-1"},s6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),l6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},o6={class:"tw-col-span-2"},i6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),w6={class:"tw-relative"},n6=["value"],d6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),c6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},u6={key:0,class:"md:tw-col-span-1 tw-col-span-2"},p6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),g6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},m6={key:1,class:"md:tw-col-span-1 tw-col-span-2"},h6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),f6={class:"tw-col-span-2"},b6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),x6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},v6={class:"md:tw-col-span-1 tw-col-span-2"},y6={class:"md:tw-col-span-1 tw-col-span-2"},_6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),k6={class:"tw-relative"},C6=["value"],D6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),S6={class:"tw-col-span-2"},U6={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},z6={key:0,class:"tw-text-red-400 tw-text-xs"},q6={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},P6=["disabled"],L6=(0,s._)("span",null,"Create",-1);function W6(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",V8,[I8,(0,s._)("div",O8,[(0,s._)("div",H8,[(0,s._)("div",M8,[R8,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,lt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",N8,(0,lt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Y8,[Z8,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,lt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",K8,(0,lt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",B8,[Q8,(0,s._)("div",J8,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,lt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[G8,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,lt.zw)(o.itemCopy.city),9,X8),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,lt.zw)(t.name),9,t6)))),128))],34),[[a.bM,o.itemCopy.city]]),e6]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",r6,(0,lt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",a6,[s6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,lt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",l6,(0,lt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",o6,[i6,(0,s._)("div",w6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,lt.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,lt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,lt.zw)(t.name),11,n6)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),d6]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",c6,(0,lt.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",u6,[p6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,lt.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",g6,(0,lt.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",m6,[h6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",f6,[b6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,lt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",x6,(0,lt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",v6,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",y6,[_6,(0,s._)("div",k6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.text]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,C6)))),128))],512),[[a.bM,o.itemCopy.upsell]]),D6])]),(0,s._)("div",S6,[(0,s._)("label",U6,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",z6," # "+(0,lt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",q6,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),L6],8,P6)])])])),_:1},8,["visible","onCancel"])])}const A6=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},$6=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},E6=(t,e)=>{t.isLoading=!0,t.errors={},fi.create(e).then((e=>A6(t,e.data))).catch((e=>$6(t,e.response.data))).finally((()=>t.isLoading=!1))};var T6={components:{OrderItems:R5,OrderAffectation:l4},props:{visible:{required:!0}},data(){return{followup_confirmations:$n,upsells:En,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=H2(this,this.itemCopy);if(!t)return!1;E6(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,pa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:"confirmer",upsell:null,items:[]},this.getProducts()}};const j6=(0,g.Z)(T6,[["render",W6]]);var F6=j6,V6={components:{IndexTable:J4,IndexFilters:F8,CreatePopup:F6,BulkActions:fX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,fi.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=go(t.first_page_url),this.lase_page_url=go(t.last_page_url),this.next_page_url=go(t.next_page_url),this.prev_page_url=go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,at.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const I6=(0,g.Z)(V6,[["render",g0]]);var O6=I6,H6={name:"sales",path:"/sales",component:Sa,meta:{module:"sale"},children:[{name:"sale/list",path:"",component:$H,meta:{module:"sale",subModule:"sale/list",title:"Sales List",gate:"show_all_sales"}},{name:"sale/newlist",path:"new",component:vX,meta:{module:"sale",subModule:"sale/newlist",title:"Sales List",gate:"show_all_sales"}},{name:"sale/expidation",path:"expidation",component:jX,meta:{module:"sale",subModule:"sale/expidation",title:"Expidation",gate:"show_all_expidations"}},{name:"sale/shipping",path:"shipping",component:t0,meta:{module:"sale",subModule:"sale/shipping",title:"Shipping",gate:"show_all_expidations"}},{name:"sale/followup",path:"followup",component:O6,meta:{module:"followup",subModule:"sale/followup",title:"Follow Up",gate:"show_all_expidations"}}]};const M6={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},R6={class:"tw-px-3"},N6={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Y6={class:"tw-flex tw-items-center tw-gap-x-3"},Z6=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),K6={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},B6=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"List of all orders.",-1),Q6={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},J6=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),G6=(0,s._)("span",null,"Create",-1),X6=[J6,G6],t7={key:0};function e7(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",M6,[(0,s._)("section",R6,[(0,s._)("div",N6,[(0,s._)("div",null,[(0,s._)("div",Y6,[Z6,(0,s._)("span",K6,(0,lt.zw)(l.totalOrders)+" order",1)]),B6]),(0,s._)("div",Q6,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},X6)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",t7,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const r7={class:"tw-flex tw-flex-col"},a7={class:"tw-overflow-x-auto"},s7={class:"tw-inline-block tw-min-w-full tw-align-middle"},l7={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},o7={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},i7={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},w7=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),n7={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},d7=(0,s._)("span",null,"Created",-1),c7=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),u7=[d7,c7],p7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),g7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),m7=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Products ",-1),h7=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),f7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),b7=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),x7={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},v7={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},y7=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),_7=[y7],k7={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},C7={colspan:"8"},D7={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},S7=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),U7=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),z7=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),q7=[U7,z7],P7={class:"tw-mt-6"};function L7(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",r7,[(0,s._)("div",a7,[(0,s._)("div",s7,[(0,s._)("div",l7,[(0,s._)("table",o7,[(0,s._)("thead",i7,[(0,s._)("tr",null,[w7,(0,s._)("th",n7,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},u7)]),p7,g7,m7,h7,f7,b7])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",x7,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",v7,_7)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",k7,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",C7,[(0,s._)("div",D7,[S7,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},q7)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",P7,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const W7={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},A7={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},$7={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},E7={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},T7=["disabled"],j7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),F7=(0,s._)("span",null," previous ",-1),V7=[j7,F7],I7=["disabled"],O7=(0,s._)("span",null," Next ",-1),H7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),M7=[O7,H7];function R7(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",W7,[(0,s._)("div",A7,[(0,s.Uk)(" Page "),(0,s._)("span",$7,(0,lt.zw)(r.currentPage)+" of "+(0,lt.zw)(r.lastPage),1)]),(0,s._)("div",E7,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,lt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},V7,10,T7),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,lt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},M7,10,I7)])])])}var N7={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Y7=(0,g.Z)(N7,[["render",R7]]);var Z7=Y7;const K7={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},B7={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Q7={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},J7={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},G7={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},X7={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},t9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},e9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},r9={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},a9={class:"tw-space-y-1"},s9={class:"tw-font-bold tw-text-green-500"},l9={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},o9={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},i9={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},w9={class:"tw-px-12 tw-py-2 tw-text-sm tw-whitespace-nowrap"},n9=(0,s._)("div",{class:"tw-w-1.5 tw-h-1.5 tw-rounded-full tw-bg-emerald-500"},null,-1),d9={key:1},c9={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function u9(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",K7,[(0,s._)("div",null,[(0,s._)("h2",B7,(0,lt.zw)(r.item.id),1)])]),(0,s._)("td",Q7,[(0,s._)("div",null,[(0,s._)("h2",J7,[(0,s._)("p",null,(0,lt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",G7,[(0,s._)("div",null,[(0,s._)("h2",X7,(0,lt.zw)(r.item.fullname),1)])]),(0,s._)("td",t9,[(0,s._)("div",null,[(0,s._)("h2",e9,(0,lt.zw)(r.item.phone),1)])]),(0,s._)("td",r9,[(0,s._)("div",null,[(0,s._)("ul",a9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",s9,(0,lt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,lt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",l9,(0,lt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",o9,(0,lt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",i9,[(0,s._)("span",{class:(0,lt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,lt.zw)(o.confirmation.name),3)]),(0,s._)("td",w9,[r.item.delivery_fullname?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([["tw-text-emerald-800","tw-bg-emerald-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-pl-1.5 tw-py-0.5 tw-rounded tw-w-fit tw-flex tw-items-center tw-gap-2"])},[n9,(0,s._)("span",null,(0,lt.zw)(r.item.delivery_fullname),1)])):((0,s.wg)(),(0,s.iD)("div",d9,[(0,s._)("span",{class:(0,lt.C_)([["tw-text-gray-800","tw-bg-gray-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},"No Delivery")]))]),(0,s._)("td",c9,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const p9={class:"tw-h-full"},g9={class:"tw-flex tw-items-center tw-gap-2"},m9=["href"],h9={key:0};function f9(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",p9,[(0,s._)("div",g9,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,m9),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",h9,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const b9={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},x9=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),v9={class:"tw-bg-white tw-p-4"},y9={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},_9={class:"tw-col-span-2 md:tw-col-span-1"},k9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),C9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},D9={class:"tw-col-span-2 md:tw-col-span-1"},S9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),U9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},z9={class:"tw-col-span-2 md:tw-col-span-1"},q9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),P9={class:"tw-relative"},L9=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),W9=["value"],A9=["value"],$9=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),E9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T9={class:"tw-col-span-2 md:tw-col-span-1"},j9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),F9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},V9={class:"tw-col-span-2"},I9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),O9={class:"tw-relative"},H9=["value"],M9=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),R9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},N9={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Y9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Z9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},K9={key:1,class:"md:tw-col-span-1 tw-col-span-2"},B9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Q9={class:"tw-col-span-2"},J9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),G9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},X9={class:"md:tw-col-span-1 tw-col-span-2"},ttt={key:2,class:"tw-col-span-1"},ett=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),rtt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},att={class:"md:tw-col-span-1 tw-col-span-2"},stt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),ltt={class:"tw-relative"},ott=["value"],itt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),wtt={class:"tw-col-span-2"},ntt={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},dtt={key:0,class:"tw-text-red-400 tw-text-xs"},ctt={key:3,class:"tw-col-span-2"},utt={class:"tw-grid lg:tw-grid-cols-2 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},ptt={class:"tw-space-y-2 tw-px-5"},gtt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-youtube tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Video Link")],-1),mtt=["href"],htt={class:"tw-space-y-2 tw-px-5"},ftt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-store tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Store Link")],-1),btt=["href"],xtt={key:4,class:"tw-col-span-2"},vtt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},ytt=["disabled"],_tt=(0,s._)("span",null,"Update",-1);function ktt(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",b9,[x9,(0,s._)("div",v9,[(0,s._)("div",y9,[(0,s._)("div",_9,[k9,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,lt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",C9,(0,lt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",D9,[S9,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,lt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",U9,(0,lt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",z9,[q9,(0,s._)("div",P9,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,lt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[L9,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,lt.zw)(o.itemCopy.city),9,W9),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,lt.zw)(t.name),9,A9)))),128))],34),[[a.bM,o.itemCopy.city]]),$9]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",E9,(0,lt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",T9,[j9,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,lt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",F9,(0,lt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",V9,[I9,(0,s._)("div",O9,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,lt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,lt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,lt.zw)(t.name),11,H9)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),M9]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",R9,(0,lt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",N9,[Y9,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,lt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",Z9,(0,lt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",K9,[B9,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",Q9,[J9,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,lt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",G9,(0,lt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",X9,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",ttt,[ett,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,lt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",rtt,(0,lt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",att,[stt,(0,s._)("div",ltt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.text]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,ott)))),128))],512),[[a.bM,o.itemCopy.upsell]]),itt])]),(0,s._)("div",wtt,[(0,s._)("label",ntt,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",dtt," # "+(0,lt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{action:"update",order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",ctt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",utt,[(0,s._)("div",ptt,[gtt,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.video},(0,lt.zw)(i.truncateText(t.video,30)),9,mtt)]),(0,s._)("div",htt,[ftt,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.store},(0,lt.zw)(i.truncateText(t.store,30)),9,btt)])])])))),128))])):(0,s.kq)("",!0),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",xtt,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",vtt,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),_tt],8,ytt)])])])),_:1},8,["visible","onCancel"])])}const Ctt=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.parent_id||"refund"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!Dtt(t,e.items):(t.errors.parent_id="Add Parent id !",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),Dtt=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Stt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={},t.$store.dispatch("agent/refreshCounts")},Utt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},ztt=(t,e)=>{t.isLoading=!0,t.errors={},T.update(e.id,e).then((e=>Stt(t,e.data))).catch((e=>Utt(t,e.response.data))).finally((()=>t.isLoading=!1))},qtt={key:0},Ptt=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Ltt={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Wtt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Att=(0,s._)("span",null,"Add Item",-1),$tt=[Wtt,Att],Ett={key:1,class:"md:tw-col-span-12 tw-col-span-12"},Ttt={class:"tw-max-w-full tw-overflow-auto"},jtt={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},Ftt={class:"tw-bg-gray-50"},Vtt={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Itt={key:0},Ott={colspan:"5"},Htt={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Mtt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Rtt=(0,s._)("span",null,"Add Item",-1),Ntt=[Mtt,Rtt],Ytt=(0,s._)("td",{colspan:"4"},null,-1),Ztt={colspan:"1",class:"tw-p-2"},Ktt={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Btt={key:1},Qtt={colspan:"6"},Jtt={class:"tw-scale-75 tw-p-5"};function Gtt(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qtt,[Ptt,(0,s._)("div",Ltt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},$tt)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",Ett,[(0,s._)("div",Ttt,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",jtt,[(0,s._)("tr",Ftt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Vtt,(0,lt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",Itt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,action:r.action,item:t,order:r.order,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["action","item","order","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",Ott,[(0,s._)("div",Htt,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Ntt)])])]),(0,s._)("tr",null,[Ytt,(0,s._)("td",Ztt,[(0,s._)("div",Ktt,[(0,s._)("p",null,(0,lt.zw)(l.currency)+" "+(0,lt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Btt,[(0,s._)("tr",null,[(0,s._)("td",Qtt,[(0,s._)("div",Jtt,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const Xtt={class:"tw-p-2"},tet={class:"tw-p-2"},eet={key:0,class:"tw-relative"},ret=["value"],aet=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),set=["value"],oet={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},iet=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),wet=[iet],net={class:"tw-p-2"},det=["value"],cet={class:"tw-p-2"},uet=["value"],pet={class:"tw-flex tw-justify-center"};function get(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("div",Xtt,[((0,s.wg)(),(0,s.j4)(i,{"append-to-body":"",reduce:t=>t.id,key:r.item.id,"onOption:selected":e[0]||(e[0]=t=>o.handleProductChange(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Product",modelValue:o.product,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),options:o.allProducts,label:"name"},null,8,["reduce","modelValue","options"])),(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",tet,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",eet,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[3]||(e[3]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[aet,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.color)+" "+(0,lt.zw)(t.size),9,set)))),128))],40,ret)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",oet,wet)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",net,[(0,s._)("input",{onInput:e[4]||(e[4]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,det)])]),(0,s._)("td",null,[(0,s._)("div",cet,[(0,s._)("input",{onInput:e[5]||(e[5]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,uet)])]),(0,s._)("td",null,[(0,s._)("div",pet,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var met={components:{"vue-select":AY.Z},props:{item:{required:!0},products:{required:!0},order:{required:!1},action:{required:!0}},computed:{allProducts(){return[{id:0,name:"Choose Product"},...this.products]},product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))},productsForUpdate(){return this.products.filter((t=>t.user_id==this.order.user_id))},productsForCreate(){if(!this.order.items.length)return this.products;const t=this.order.items[0];return t.product_id?this.products.filter((e=>e.user_id==t.product.user_id)):this.products},filteredProducts(){return"update"==this.action?this.productsForUpdate:this.productsForCreate}},methods:{handleProductChange(t,e){const r=1===e?parseInt(t.target.value):t.id;if(!r)return!1;const a=this.products.find((t=>t.id==r));console.log(a.variations.length>0?a.variations[0].id:null);const s={...this.item,product_id:r,product:a,product_ref:a.ref,product_variation_id:a.variations.length>0?a.variations[0].id:null,product_variation:a.variations.length>0?a.variations[0]:null};if(this.$emit("update",s),console.log(this.order),this.order.items.length){const t=this.order.items[0];console.log(t)}},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const het=(0,g.Z)(met,[["render",get]]);var fet=het,bet={components:{ItemRow:fet},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0},action:{required:!1,default:"update"}},data(){return{currency:c}},computed:{price(){return po(this.order)},filteredProducts(){return this.products.filter((t=>t.user_id==this.order.user_id))}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const xet=(0,g.Z)(bet,[["render",Gtt]]);var vet=xet;const yet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),_et={key:0,class:"tw-relative"},ket=["value","disabled"],Cet=(0,s._)("option",{value:""},"Choose a Delivery",-1),Det=["value"],Uet=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),zet={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qet={key:2,class:"tw-relative"},Pet={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Let=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Wet=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function Aet(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[yet,l.fetched?((0,s.wg)(),(0,s.iD)("div",_et,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,lt.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Cet,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,Det)))),128))],42,ket),Uet])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",zet,(0,lt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qet,[(0,s._)("div",Pet,[(0,s.Wm)(i)]),Let,Wet]))])}var $et={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,at.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const Eet=(0,g.Z)($et,[["render",Aet]]);var Tet=Eet;const jet={key:0},Fet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),Vet={class:"md:tw-col-span-12 tw-col-span-12"},Iet={class:"tw-max-w-full tw-overflow-auto"},Oet={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Het=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),Met={class:"tw-px-3 tw-py-2"},Ret={class:"tw-px-3 tw-py-2"},Net={class:"tw-px-3 tw-py-2"},Yet={class:"tw-px-3 tw-py-2"},Zet={class:"tw-max-w-[250px] tw-text-sm"};function Ket(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",jet,[Fet,(0,s._)("div",Vet,[(0,s._)("div",Iet,[(0,s._)("table",Oet,[Het,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Met,(0,lt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",Ret,(0,lt.zw)(t.quantity),1),(0,s._)("td",Net,(0,lt.zw)(t.price)+" "+(0,lt.zw)(l.currency),1),(0,s._)("td",Yet,[(0,s._)("p",Zet,(0,lt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var Bet={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const Qet=(0,g.Z)(Bet,[["render",Ket]]);var Jet=Qet,Get={components:{OrderItems:vet,OrderAffectation:Tet,ProductOffersTable:Jet},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Wn,upsells:En,isLoading:!1,products_fetched:null,products:null,itemCopy:null,product:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,parent_id:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=Ctt(this,this.itemCopy);if(!t)return!1;ztt(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,pa.allForOrder(this.itemCopy.user_id).then((t=>{if("SUCCESS"==t.data.code){this.products=t.data.data.products;const e=this.itemCopy.items.map((t=>t.product_id));this.product=this.products.filter((t=>e.includes(t.id)))}else this.products=[];this.products_fetched=!0})).catch(this.$handleApiError)},truncateText(t,e){return t.length>e?t.slice(0,e)+"...":t}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const Xet=(0,g.Z)(Get,[["render",ktt]]);var trt=Xet,ert={components:{UpdatePopup:trt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const rrt=(0,g.Z)(ert,[["render",f9]]);var art=rrt,srt={components:{TableActions:art},props:{item:{required:!0}},data(){return{moment:Ce()}},computed:{confirmation(){return Wn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Tn.find((t=>t.value==this.item.delivery))}},methods:{}};const lrt=(0,g.Z)(srt,[["render",u9]]);var ort=lrt,irt={components:{TablePaginationNoNums:Z7,TableRow:ort},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const wrt=(0,g.Z)(irt,[["render",L7]]);var nrt=wrt;const drt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},crt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),urt={class:"tw-bg-white tw-p-4"},prt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},grt={class:"tw-col-span-2 md:tw-col-span-1"},mrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),hrt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},frt={class:"tw-col-span-2 md:tw-col-span-1"},brt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),xrt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},vrt={class:"tw-col-span-2 md:tw-col-span-1"},yrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),_rt={class:"tw-relative"},krt=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Crt=["value"],Drt=["value"],Srt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Urt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zrt={class:"tw-col-span-2 md:tw-col-span-1"},qrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Prt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Lrt={class:"tw-col-span-2"},Wrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Art={class:"tw-relative"},$rt=["value"],Ert=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Trt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},jrt={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Frt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Vrt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Irt={key:1,class:"md:tw-col-span-1 tw-col-span-2"},Ort=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Hrt={class:"tw-col-span-2"},Mrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Rrt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Nrt={class:"md:tw-col-span-1 tw-col-span-2"},Yrt={key:2,class:"tw-col-span-1"},Zrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),Krt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Brt={class:"md:tw-col-span-1 tw-col-span-2"},Qrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Jrt={class:"tw-relative"},Grt=["value"],Xrt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),tat={class:"tw-col-span-2"},eat={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},rat={key:0,class:"tw-text-red-400 tw-text-xs"},aat={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},sat=["disabled"],lat=(0,s._)("span",null,"Create",-1);function oat(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",drt,[crt,(0,s._)("div",urt,[(0,s._)("div",prt,[(0,s._)("div",grt,[mrt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,lt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",hrt,(0,lt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",frt,[brt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,lt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",xrt,(0,lt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",vrt,[yrt,(0,s._)("div",_rt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,lt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[krt,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,lt.zw)(o.itemCopy.city),9,Crt),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,lt.zw)(t.name),9,Drt)))),128))],34),[[a.bM,o.itemCopy.city]]),Srt]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",Urt,(0,lt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",zrt,[qrt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,lt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Prt,(0,lt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Lrt,[Wrt,(0,s._)("div",Art,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,lt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,lt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,lt.zw)(t.name),11,$rt)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),Ert]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",Trt,(0,lt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",jrt,[Frt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,lt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",Vrt,(0,lt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Irt,[Ort,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",Hrt,[Mrt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,lt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",Rrt,(0,lt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",Nrt,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Yrt,[Zrt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,lt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",Krt,(0,lt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",Brt,[Qrt,(0,s._)("div",Jrt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.text]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,Grt)))),128))],512),[[a.bM,o.itemCopy.upsell]]),Xrt])]),(0,s._)("div",tat,[(0,s._)("label",eat,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",rat," # "+(0,lt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{action:"create",order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",aat,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),lat],8,sat)])])])),_:1},8,["visible","onCancel"])])}const iat=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},wat=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},nat=(t,e)=>{t.isLoading=!0,t.errors={},T.create(e).then((e=>iat(t,e.data))).catch((e=>wat(t,e.response.data))).finally((()=>t.isLoading=!1))};var dat={components:{OrderItems:vet,OrderAffectation:Tet},props:{visible:{required:!0}},data(){return{confirmations:An,upsells:En,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=Ctt(this,this.itemCopy);if(!t)return!1;nat(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,pa.allForOrder().then((t=>{"SUCCESS"==t.data.code?(this.products=t.data.data.products,console.log(this.products)):this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const cat=(0,g.Z)(dat,[["render",oat]]);var uat=cat;const pat={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},gat={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},mat=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),hat=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),fat=[hat],bat=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),xat=[bat],vat=["disabled"],yat=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),_at=[yat],kat={class:"tw-relative"},Cat=["value"],Dat=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),Sat=[Dat],Uat=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),zat={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},qat=["value"],Pat={class:"tw-overflow-hidden tw-col-span-1"},Lat={class:"tw-overflow-hidden tw-col-span-1"};function Wat(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",pat,[(0,s._)("div",gat,[mat,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},fat),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},xat)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},_at,8,vat),(0,s._)("div",kat,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Sat,40,Cat),Uat])]),(0,s._)("div",zat,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,qat),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,lt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Pat,[(0,s.Wm)(w,{onFilter:e[7]||(e[7]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Lat,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const Aat={class:"tw-mb-4"},$at={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Eat={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Tat={class:"tw-flex tw-items-center tw-justify-between"},jat={class:"tw-text-xl tw-font-bold tw-text-gray-900"},Fat={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function Vat(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Aat,[(0,s._)("div",$at,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Eat,[(0,s._)("p",{class:(0,lt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,lt.zw)(t.name),3),(0,s._)("div",Tat,[(0,s._)("span",jat,(0,lt.zw)(t.total),1),(0,s._)("span",Fat,(0,lt.zw)(t.percent)+"%",1)])])])))),128))])])}var Iat={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.confirmation)))}},methods:{getConfirmation(t){return Wn.find((e=>e.value==t))}}};const Oat=(0,g.Z)(Iat,[["render",Vat]]);var Hat=Oat;const Mat={class:"tw-mb-4"},Rat={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Nat={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},Yat=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created",-1),Zat=["value"],Kat={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},Bat=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Qat=["value"],Jat=(0,s._)("option",{value:"all",selected:""},"All",-1),Gat=["value"],Xat=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})]),(0,s._)("span",null,"Filter")],-1),tst=[Xat];function est(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Mat,[(0,s._)("div",Rat,[(0,s._)("div",Nat,[Yat,(0,s._)("input",{value:r.filters.created_at,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_at:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Zat)]),(0,s._)("div",Kat,[Bat,(0,s._)("select",{value:r.filters.confirmation,onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Jat,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.name),9,Gat)))),128))],40,Qat)]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",{onClick:e[3]||(e[3]=e=>t.$emit("filter")),class:"tw-col-span-12 tw-flex tw-justify-end"},tst)])])}var rst={props:{filters:{required:!0,default:{}}},data(){return{confirmations:Wn,deliveryStatus:Tn,deliveries:[{id:1,value:"annuler",name:"Cancelled"},{id:2,value:"pas-de-reponse",name:"No Answer"}]}}};const ast=(0,g.Z)(rst,[["render",est]]);var sst=ast,lst={components:{IndexStatistics:Hat,FiltersWrapper:sst},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const ost=(0,g.Z)(lst,[["render",Wat]]);var ist=ost,wst={components:{IndexTable:nrt,IndexFilters:ist,CreatePopup:uat},data(){return{fetching:!0,items:[],statistics:null,create_popup:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",delivery:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,T.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=go(t.first_page_url),this.lase_page_url=go(t.last_page_url),this.next_page_url=go(t.next_page_url),this.prev_page_url=go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const nst=(0,g.Z)(wst,[["render",e7]]);var dst=nst;const cst={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},ust={class:"tw-px-3 tw-h-fit"},pst={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},gst=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"New Orders")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"take responsibility for new orders.")],-1),mst={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},hst=["disabled"],fst=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),bst=(0,s._)("span",null,"Get Order",-1),xst=[fst,bst],vst={key:0,class:"tw-p-5"},yst={key:1,class:"tw-mt-5 tw-space-y-5"},_st={class:"tw-flex tw-items-center tw-justify-end"},kst={key:2},Cst=(0,s._)("div",{class:"tw-p-5 tw-border tw-border-solid tw-shadow-sm tw-mt-5 tw-text-center tw-font-medium tw-text-xl tw-text-gray-600 tw-bg-gray-100 tw-w-full tw-rounded-lg"}," No Orders ",-1),Dst=[Cst];function Sst(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",cst,[(0,s._)("section",ust,[(0,s._)("div",pst,[gst,(0,s._)("div",mst,[(0,s._)("button",{disabled:l.fetching,onClick:e[0]||(e[0]=(...t)=>o.getOrder&&o.getOrder(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},xst,8,hst)])]),l.fetching?((0,s.wg)(),(0,s.iD)("div",vst,[(0,s.Wm)(i)])):(0,s.kq)("",!0),!l.fetching&&l.order_exists?((0,s.wg)(),(0,s.iD)("div",yst,[(0,s.Wm)(w,{order:l.order,onUpdate:e[1]||(e[1]=t=>l.order=t)},null,8,["order"]),l.doubles.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.doubles,(t=>((0,s.wg)(),(0,s.j4)(w,{double:!0,key:t.id,order:t,onUpdate:e[2]||(e[2]=t=>l.doubles=l.doubles.map((e=>e.id==t.id?t:e)))},null,8,["order"])))),128)):(0,s.kq)("",!0),(0,s._)("div",_st,[(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.save&&o.save(...t)),type:"button",class:"tw-px-5 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-orange-500 hover:tw-bg-orange-600 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-orange-100 tw-rounded-lg tw-text-center dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 dark:focus:tw-ring-orange-800"}," Save ")])])):(0,s.kq)("",!0),l.fetching||l.order_exists?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",kst,Dst))])])}const Ust=t=>{t.fetching=!0,T.toConfirm().then((e=>{const r=e.data;if("NO_ORDER"===r.code)return t.order_exists=!1,!1;"SUCCESS"==r.code&&r.data.orders.length>0&&(t.order=r.data.orders[0],t.order_exists=!0),t.doubles=1==r.data.double?r.data.double_orders.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},zst=t=>null==t.order.confirmation?(t.$alert({title:"Confirmation Not Changed",type:"warning"}),!1):t.doubles.some((t=>null==t.confirmation))?(t.$alert({title:"Double Order Confirmation Not Changed",type:"warning"}),!1):(t.order_exists=!1,t.order=null,t.doubles=[],void t.$alert({title:"Your changes has been saved !",type:"success"})),qst=t=>{let e=t.order;if(null!=e&&null==e.confirmation)return t.$alert({type:"warning",title:"Order Not Confirmed"}),!1;t.fetching=!0,T.getOrder().then((e=>{let r=e.data;if("ORDER_NOT_CONFIRMED"==r.code){t.$alert({type:"warning",title:"Order Not Confirmed"});let r=e.data.orders[0];return t.order=JSON.parse(JSON.stringify(r)),t.order_exists=!0,!1}if("SUCCESS"==r.code&&!e.data.orders?.id){let e=r.data.orders;t.order=JSON.parse(JSON.stringify(e)),t.order_exists=!0}if("NO_ORDERS"===r.code)return t.order_exists=!1,!1;t.doubles=1==r.data.double?r.data.double_orders?.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},Pst={class:"tw-bg-gray-50 tw-border tw-shadow-sm tw-rounded-lg tw-relative"},Lst=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"white","fill-rule":"evenodd",d:"M21.455 5.416a.75.75 0 0 1-.096.943l-9.193 9.192a.75.75 0 0 1-.34.195l-3.829 1a.75.75 0 0 1-.915-.915l1-3.828a.778.778 0 0 1 .161-.312L17.47 2.47a.75.75 0 0 1 1.06 0l2.829 2.828a.756.756 0 0 1 .096.118Zm-1.687.412L18 4.061l-8.518 8.518l-.625 2.393l2.393-.625l8.518-8.519Z","clip-rule":"evenodd"}),(0,s._)("path",{fill:"white",d:"M19.641 17.16a44.4 44.4 0 0 0 .261-7.04a.403.403 0 0 1 .117-.3l.984-.984a.198.198 0 0 1 .338.127a45.91 45.91 0 0 1-.21 8.372c-.236 2.022-1.86 3.607-3.873 3.832a47.77 47.77 0 0 1-10.516 0c-2.012-.225-3.637-1.81-3.873-3.832a45.922 45.922 0 0 1 0-10.67c.236-2.022 1.86-3.607 3.873-3.832a47.75 47.75 0 0 1 7.989-.213a.2.2 0 0 1 .128.34l-.993.992a.402.402 0 0 1-.297.117a46.164 46.164 0 0 0-6.66.255a2.89 2.89 0 0 0-2.55 2.516a44.421 44.421 0 0 0 0 10.32a2.89 2.89 0 0 0 2.55 2.516c3.355.375 6.827.375 10.183 0a2.89 2.89 0 0 0 2.55-2.516Z"})],-1),Wst={class:"tw-p-5 tw-flex tw-items-center tw-gap-2"},Ast={class:"tw-text-xl tw-font-bold tw-text-gray-600"},$st=(0,s._)("span",{class:"tw-text-sm tw-text-gray-500"},null,-1),Est={key:0,class:"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded tw-bg-purple-100 tw-text-purple-600"},Tst={class:"tw-grid lg:tw-grid-cols-4 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},jst={class:"tw-space-y-2 tw-px-5"},Fst=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke-linecap="round" stroke-width="1.5"><path d="M7 18v-1a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v1"></path><path stroke-linejoin="round" d="M12 12a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"></path><path stroke-linejoin="round" d="M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6Z"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">Client Name</span></div>',1),Vst={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Ist={class:"tw-space-y-2 tw-px-5"},Ost=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{class:"tw-stroke-orange-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.118 14.702L14 15.5c-2.782-1.396-4.5-3-5.5-5.5l.77-4.13L7.815 2H4.064c-1.128 0-2.016.932-1.847 2.047c.42 2.783 1.66 7.83 5.283 11.453c3.805 3.805 9.286 5.456 12.302 6.113c1.165.253 2.198-.655 2.198-1.848v-3.584l-3.882-1.479Z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Phone Number")],-1),Hst={class:"tw-flex tw-items-center tw-gap-2"},Mst={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Rst={class:"tw-space-y-2 tw-px-5"},Nst=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path d="M3.75 18a.75.75 0 0 0-1.5 0h1.5Zm-1.5-4a.75.75 0 0 0 1.5 0h-1.5ZM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08v1.5ZM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094h1.5ZM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066v-1.5ZM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294h1.5Zm0 10v-4h-1.5v4h1.5Zm0-8v-2h-1.5v2h1.5Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 22v-6c0-1.886 0-2.828.586-3.414C8.172 12 9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525c-.356-.514-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707C4.586 4.5 5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293C10 5.086 10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">City</span></div>',1),Yst={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Zst={class:"tw-space-y-2 tw-px-5"},Kst=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[(0,s._)("path",{fill:"#f97316",d:"m19.799 5.165l-2.375-1.83a1.997 1.997 0 0 0-.521-.237A2.035 2.035 0 0 0 16.336 3H9.5l.801 5h6.035c.164 0 .369-.037.566-.098s.387-.145.521-.236l2.375-1.832c.135-.091.202-.212.202-.334s-.067-.243-.201-.335zM8.5 1h-1a.5.5 0 0 0-.5.5V5H3.664c-.166 0-.37.037-.567.099c-.198.06-.387.143-.521.236L.201 7.165C.066 7.256 0 7.378 0 7.5c0 .121.066.242.201.335l2.375 1.832c.134.091.323.175.521.235c.197.061.401.098.567.098H7v8.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-17a.5.5 0 0 0-.5-.5z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Address")],-1),Bst={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Qst={class:"tw-p-5 tw-py-3 tw-w-full tw-border-t tw-border-solid tw-mt-3"},Jst={class:""},Gst=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 2048 2048"},[(0,s._)("path",{fill:"#f97316",d:"M1024 1000v959l-64 32l-832-415V536l832-416l832 416v744h-128V680l-640 320zm-64-736L719 384l621 314l245-122l-625-312zm-64 1552v-816L256 680v816l640 320zM335 576l625 312l238-118l-622-314l-241 120zm1073 1216v-128h640v128h-640zm0-384h640v128h-640v-128zm-256 640v-128h128v128h-128zm0-512v-128h128v128h-128zm0 256v-128h128v128h-128zm-128 24h1h-1zm384 232v-128h640v128h-640z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Product")],-1),Xst={class:"tw-p-3 tw-pl-10 tw-space-y-2"},tlt={class:"tw-font-bold tw-text-green-500"},elt={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},rlt={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},alt={class:"tw-font-[cairo] tw-mt-2 tw-flex tw-items-center tw-justify-end tw-gap-1 tw-text-2xl tw-text-green-400 tw-font-bold"},slt={key:0};function llt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Pst,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),type:"button",class:"tw-px-5 tw-absolute tw-right-3 tw-top-3 tw-z-10 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-green-400 hover:tw-bg-green-500 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-green-100 tw-rounded-lg tw-text-center dark:tw-bg-green-600 dark:hover:tw-bg-green-700 dark:focus:tw-ring-green-800"},[Lst,(0,s.Uk)(" Edit ")]),(0,s._)("div",Wst,[(0,s._)("span",Ast,[$st,(0,s.Uk)(" ID: "+(0,lt.zw)(r.order.id),1)]),(0,s._)("span",{class:(0,lt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,lt.zw)(o.confirmation.name),3),r.double?((0,s.wg)(),(0,s.iD)("span",Est,"Maybe double")):(0,s.kq)("",!0)]),(0,s._)("div",Tst,[(0,s._)("div",jst,[Fst,(0,s._)("span",Vst,(0,lt.zw)(r.order.fullname),1)]),(0,s._)("div",Ist,[Ost,(0,s._)("div",Hst,[(0,s._)("span",Mst,(0,lt.zw)(r.order.phone),1),(0,s.Wm)(ot.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"text",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])]),(0,s._)("div",Rst,[Nst,(0,s._)("span",Yst,(0,lt.zw)(r.order.city),1)]),(0,s._)("div",Zst,[Kst,(0,s._)("span",Bst,(0,lt.zw)(r.order.adresse),1)])]),(0,s._)("div",Qst,[(0,s._)("div",Jst,[Gst,(0,s._)("ul",Xst,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",tlt,(0,lt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,lt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",elt,(0,lt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",rlt,(0,lt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128)),(0,s._)("li",alt,[(0,s._)("span",null,(0,lt.zw)(l.currency),1),(0,s._)("span",null,(0,lt.zw)(o.price),1)])])])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",slt,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.order},null,8,["visible","item"])])):(0,s.kq)("",!0)])}var olt={components:{UpdatePopup:trt},props:{order:{required:!0},double:{required:!1}},data(){return{currency:c,popup:!1}},computed:{price(){return po(this.order)},confirmation(){return Wn.find((t=>t.value==this.order.confirmation))}}};const ilt=(0,g.Z)(olt,[["render",llt]]);var wlt=ilt,nlt={components:{OrderCard:wlt},data(){return{fetching:!0,order_exists:!1,doubles:[],order:null}},methods:{toConfirm(){Ust(this)},getOrder(){qst(this)},save(){zst(this)}},mounted(){this.toConfirm()}};const dlt=(0,g.Z)(nlt,[["render",Sst]]);var clt=dlt;const ult={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},plt={class:"tw-px-3"},glt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},mlt={class:"tw-flex tw-items-center tw-gap-x-3"},hlt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),flt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},blt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Show all confirmed orders.",-1);function xlt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",ult,[(0,s._)("section",plt,[(0,s._)("div",glt,[(0,s._)("div",null,[(0,s._)("div",mlt,[hlt,(0,s._)("span",flt,(0,lt.zw)(l.totalOrders)+" order",1)]),blt]),(0,s.kq)("",!0)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}var vlt={components:{IndexTable:nrt,IndexFilters:ist},data(){return{fetching:!0,items:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,confirmation:"confirmer"};return this.fetching=!0,T.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=go(t.first_page_url),this.lase_page_url=go(t.last_page_url),this.next_page_url=go(t.next_page_url),this.prev_page_url=go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const ylt=(0,g.Z)(vlt,[["render",xlt]]);var _lt=ylt,klt={name:"orders",path:"/agent/orders",component:Sa,meta:{module:"order"},children:[{name:"order/list",path:"",component:dst,meta:{module:"order",subModule:"order/list",title:"Orders List",gate:"show_all_orders"}},{name:"order/show",path:"add",component:clt,meta:{module:"order",subModule:"order/show",title:"Current Order",gate:"show_all_orders"}},{name:"order/confirmed",path:"confirmed",component:_lt,meta:{module:"order",subModule:"order/confirmed",title:"Confirmed Orders",gate:"show_all_orders"}}]};const Clt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Orders")])],-1),Dlt={key:0},Slt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ult={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-5"},zlt={key:1},qlt={class:"tw-min-h-[400px] tw-flex tw-flex-col tw-justify-center tw-items-center"},Plt=(0,s._)("p",{class:"tw-font-medium tw-text-neutral-400 tw-text-lg tw-mb-n3"},"No Confirmed orders for now.",-1),Llt=["src"];function Wlt(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",null,[Clt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Dlt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Slt,[o.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Ult,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.filteredOrders,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tw-col-span-12 md:tw-col-span-4"},[((0,s.wg)(),(0,s.j4)(w,{order:t,key:t.id},null,8,["order"]))])))),128))])):((0,s.wg)(),(0,s.iD)("div",zlt,[(0,s._)("div",qlt,[Plt,(0,s._)("img",{src:l.localUrl+"images/delivery.jpg",class:"tw-mt-0 tw-mx-auto tw-max-w-[600px] tw-w-full",alt:""},null,8,Llt)])]))])):(0,s.kq)("",!0)])}var Alt=r(9875),$lt=r(1888),Elt=r(1334);const Tlt={class:"tw-text-sm tw-text-orange-500x tw-bg-orange-500x/10 tw-underline tw-underline-offset-2 tw-px-1 tw-w-fit tw-rounded"},jlt={class:"tw-w-full tw-whitespace-normal"},Flt=(0,s._)("div",{class:"tw-border-b tw-mb-1 tw-border-dashed"},null,-1),Vlt={class:"tw-flex tw-items-center"},Ilt={key:0},Olt={key:1},Hlt={class:"tw-min-w-fit tw-w-[25px] tw-h-[25px] tw-flex tw-items-center tw-justify-center tw-text-md tw-font-bold tw-p-1 tw-rounded tw-text-orange-400 tw-bg-orange-400/10"},Mlt=(0,s._)("span",{class:"tw-text-sm"},"x",-1),Rlt={key:0},Nlt={key:0,class:"tw-px-5 tw-py-2 tw-mt-2 tw-border-neutral-200 tw-border-t tw-border-dashed"},Ylt=(0,s._)("p",{class:"tw-text-md tw-font-bold tw-text-pink-500"},"NOTE",-1),Zlt={class:"tw-flex tw-items-center tw-text-gray-500"},Klt={class:"tw-flex tw-items-center tw-text-gray-500"};function Blt(t,e,r,a,l,o){const i=(0,s.up)("OrderCardDelivery");return(0,s.wg)(),(0,s.j4)(vs._,{class:(0,lt.C_)(["tw-mx-auto tw-relative tw-border-dashed !tw-shadow-lg !tw-shadow-gray-100/70",[!!r.order.note&&"tw-border-pink-00","livrer"==r.order.delivery&&"tw-border-emerald-400"]]),flat:"",border:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,lt.C_)(["tw-absolute tw-top-0 tw-right-0 tw-py-1 tw-px-2 tw-rounded-bl tw-text-xs",[o.delivery?.bg,o.delivery?.text]])},(0,lt.zw)(r.order.delivery),3),(0,s.Wm)(Alt._,null,{title:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("p",Tlt,(0,lt.zw)(r.order.city),1),(0,s._)("p",jlt,(0,lt.zw)(r.order.adresse),1)]),Flt])),_:1}),(0,s.Wm)($lt.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,{align:"center","no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",class:"tw-flex tw-items-center tw-flex-wrap tw-text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{icon:"mdi-account",size:"small",class:"tw-mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,lt.zw)(r.order.fullname)+" ",1),r.order.note?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,icon:"mdi-note-outline",size:"small",class:"tw-ml-2 tw-text-sm !tw-text-pink-500"})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Pa.D,{cols:"12",class:"tw-text-gray-500 tw-space-y-1 tw-mt-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-3",key:t.id},[(0,s._)("div",Vlt,[(0,s._)("span",null,[(0,s.Uk)((0,lt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Ilt,"| "+(0,lt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Olt,"| "+(0,lt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s._)("p",Hlt,[Mlt,(0,s.Uk)(" "+(0,lt.zw)(t.quantity),1)])])])))),128))])),_:1}),(0,s.Wm)(Pa.D,{class:"text-h4 tw-my-3",cols:"12"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(o.getPrice(r.order)),1)])),_:1})])),_:1})])),_:1}),(0,s.kq)("",!0),(0,s.Wm)(jt.Fx,null,{default:(0,s.w5)((()=>[t.expand?((0,s.wg)(),(0,s.iD)("div",Rlt,[r.order.note?((0,s.wg)(),(0,s.iD)("div",Nlt,[Ylt,(0,s._)("p",null,(0,lt.zw)(r.order.note),1)])):(0,s.kq)("",!0),(0,s.Wm)(Xe.i,{class:"bg-transparent tw-space-y-2 !tw-px-5 tw-py-3 tw-border-neutral-200 tw-border-dashed tw-border-t tw-mt-5"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Zlt,[(0,s.Wm)(wt.t,{icon:"mdi-phone",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,lt.zw)(r.order.phone),1)])]),(0,s._)("div",null,[(0,s._)("div",Klt,[(0,s.Wm)(wt.t,{icon:"mdi-calendar",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,lt.zw)(r.order.created_at?.split("T")[0].split("-").reverse().join(".")),1)])])])),_:1})])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(re.J),(0,s.Wm)(Elt.h,{class:"tw-flex tw-justify-end tw-gap-2 tw-flex-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.T,{class:"tw-capitalize tw-mx-auto tw-bg-orange-500/5 tw-text-orange-500",rounded:"lg",density:"comfortable",icon:"",variant:"flat",onClick:e[0]||(e[0]=e=>t.expand=!t.expand)},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.expand?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1}),(0,s.Wm)(or.C),r.order.phone?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-capitalize tw-bg-green-500/5 tw-text-green-500 tw-border tw-border-green-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),r.order.phone?((0,s.wg)(),(0,s.j4)(ot.T,{key:1,link:"",target:"_blank",href:"tel:"+r.order.phone,class:"tw-capitalize tw-bg-blue-500/5 tw-text-blue-500 tw-border tw-border-blue-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-phone")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),(0,s.Wm)(ot.T,{onClick:e[1]||(e[1]=e=>t.confirmPopup=!0),class:"tw-capitalize tw-bg-emerald-500 tw-text-white tw-border tw-border-emerald-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])),_:1})])),_:1}),((0,s.wg)(),(0,s.j4)(i,{delivery:r.order.delivery,order:r.order,key:r.order,visible:t.confirmPopup,onCancel:e[2]||(e[2]=e=>t.confirmPopup=!1)},null,8,["delivery","order","visible"]))])),_:1},8,["class"])}const Qlt={class:"md:tw-w-[80%] tw-overflow-hidden tw-w-[95%] tw-max-w-[550px] tw-mx-auto tw-my-3 tw-min-h-[200px] tw-bg-white tw-rounded-lg tw-shadow-lg"},Jlt={class:"tw-px-5 tw-pt-5"},Glt=(0,s._)("h1",{class:"tw-font-bold tw-text-gray-600"},"Select Status",-1),Xlt={class:"tw-mt-3 tw-flex tw-gap-3 tw-flex-wrap"},tot=["disabled","onClick"],eot={class:"tw-mt-5 tw-px-5 tw-py-3 tw-bg-gray-50 tw-border-t tw-flex tw-gap-2 tw-justify-end"},rot=(0,s._)("span",{class:"!tw-text-gray-500"},"Cancel",-1),aot=(0,s._)("span",{class:"!tw-text-white"},"Confirm",-1);function sot(t,e,r,a,l,o){const i=(0,s.up)("popup-full"),w=(0,s.up)("OrderReporting");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:o.cancel,visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Qlt,[(0,s._)("div",Jlt,[Glt,(0,s._)("div",Xlt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(e=>((0,s.wg)(),(0,s.iD)("button",{disabled:o.isDisabled(e),onClick:t=>o.handleChange(e),key:e.value,class:(0,lt.C_)([[o.isDisabled(e)&&"tw-saturate-0",e.text,e.bg,e.id==t.delivery&&[e.ring,"tw-ring"]],"tw-px-4 tw-py-2 tw-rounded"])},(0,lt.zw)(e.name),11,tot)))),128))])]),(0,s._)("div",eot,[(0,s.Wm)(ot.T,{onClick:o.cancel,class:"!tw-capitalize",color:"grey-lighten-3",flat:""},{default:(0,s.w5)((()=>[rot])),_:1},8,["onClick"]),(0,s.Wm)(ot.T,{onClick:o.handleConfirm,loading:t.isLoading,class:"!tw-capitalize",color:"primary-color",flat:""},{default:(0,s.w5)((()=>[aot])),_:1},8,["onClick","loading"])])])])),_:1},8,["onCancel","visible"]),(0,s.Wm)(w,{onOrderReported:o.cancel,order:r.order,visible:t.showPopupReporter,onCancel:e[0]||(e[0]=e=>t.showPopupReporter=!1)},null,8,["onOrderReported","order","visible"])])}const lot={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},oot=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),iot=(0,s._)("br",null,null,-1),wot=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),not={class:"tw-flex tw-justify-end tw-mt-2"};function dot(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",lot,[oot,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),iot,wot,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",not,[(0,s.Wm)(ot.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var cot={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ma.deliveryUpdateDelivery(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$emit("orderReported"),this.$store.dispatch("order/update",{id:t.id,order:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){console.log(this.order)}};const uot=(0,g.Z)(cot,[["render",dot]]);var pot=uot,got={props:["visible","order"],components:{OrderReporting:pot},data:()=>({status:Tn,disabled:jn,delivery:2,isLoading:!1,note:"",showPopupReporter:!1}),computed:{deliveryStatus(){return this.status.filter((t=>!!t.value))},selected(){return this.status.find((t=>t.id==this.delivery))}},watch:{order:{handler(t){this.delivery=this.getDeliveryId(t.delivery)},deep:!0,immediate:!0}},methods:{cancel(){this.getCurrentStatus(),this.$emit("cancel")},isDisabled(t){return this.disabled.includes(t.value)},handleChange(t){if(this.isDisabled(t))return!1;this.delivery=t.id},handleConfirm(){const t=this.selected;if(t.value===this.order.delivery)return this.cancel(),!1;"reporter"!=t.value&&this.updateOrder().then((()=>{this.cancel()})),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ma.deliveryUpdateDelivery(this.order.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.order.id,this.selected.value),this.isLoading=!1,this.cancel())}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})},getDeliveryId(t){return this.status.find((e=>e.value==t)).id||0},getCurrentStatus(){this.delivery=this.getDeliveryId(this.order.delivery)}},mounted(){this.getCurrentStatus()}};const mot=(0,g.Z)(got,[["render",sot]]);var hot=mot,fot={components:{OrderCardDelivery:hot},props:["order"],data:()=>({deliveryStatus:Tn,expand:!1,confirmPopup:!1,labels:[{name:"Telephone",field:"phone",icon:"mdi-phone"},{name:"Date",field:"created_at",icon:"mdi-calendar"}]}),computed:{delivery(){return this.getDeliveryStatus(this.order.delivery)}},methods:{getDeliveryStatus(t){return this.deliveryStatus.find((e=>e.value==t))||this.deliveryStatus[0]},getPrice(t){return po(t)}}};const bot=(0,g.Z)(fot,[["render",Blt]]);var xot=bot,vot={components:{OrderCard:xot},data(){return{localUrl:w,deliveryStatus:Tn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"].filter((t=>"livrer"!=t.delivery))},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ma.deliveryOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const yot=(0,g.Z)(vot,[["render",Wlt]]);var _ot=yot;const kot=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Delivered Orders"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Delivered orders list")])],-1),Cot={key:0},Dot={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Sot={class:"mb-5 tw-flex"},Uot={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},zot={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},qot={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Pot=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),Lot={class:"tw-relative"},Wot=["value"],Aot={key:0,class:""},$ot={key:1},Eot=(0,s._)("p",null,"No orders for now",-1),Tot=[Eot];function jot(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("OrdersTable");return(0,s.wg)(),(0,s.iD)("div",null,[kot,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Cot,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Dot,[(0,s._)("div",Sot,[(0,s.Wm)(ot.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Uot,[(0,s.Wm)(ae.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,lt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",zot,[(0,s._)("div",qot,[Pot,(0,s._)("div",Lot,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value?t.value:"all"},(0,lt.zw)(t.name),9,Wot)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(wt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),i.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Aot,[(0,s.Wm)(n,{orders:i.filteredOrders},null,8,["orders"])])):((0,s.wg)(),(0,s.iD)("div",$ot,Tot))])):(0,s.kq)("",!0)])}const Fot={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Vot={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Iot={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Oot=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Hot={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Mot={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Rot={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Not=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Yot=["value"],Zot={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Kot={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Bot={class:"tw-text-white"};function Qot(t,e,r,l,o,i){const w=(0,s.up)("OrderRow");return(0,s.wg)(),(0,s.iD)("div",{key:r.orders.length},[(0,s._)("div",Fot,[(0,s._)("table",Vot,[(0,s._)("thead",Iot,[(0,s._)("tr",null,[Oot,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Hot,(0,lt.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.j4)(w,{key:t.id,order:t},null,8,["order"])))),128))])])]),(0,s._)("div",Mot,[(0,s._)("div",Rot,[Not,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,lt.zw)(t),9,Yot)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Zot,[(0,s._)("div",Kot,(0,lt.zw)(i.prevRange+1)+" - "+(0,lt.zw)(o.currentPage==i.pageCount?r.orders.length:i.nextRange)+" of "+(0,lt.zw)(r.orders.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(ot.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Bot,(0,lt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Jot=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Got={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Xot={class:"tw-px-6 tw-py-4 tw-relative"},tit={key:0},eit={class:"tw-px-6 tw-py-4"},rit={class:"tw-px-6 tw-py-4"},ait={class:"tw-px-6 tw-py-4"},sit={class:"tw-px-6 tw-py-4"},lit={class:"tw-pb-2"},oit={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},iit={key:0},wit={key:1},nit={class:"tw-px-6 tw-py-4 tw-relative"},dit={class:"tw-flex tw-items-center tw-justify-center"},cit={class:"tw-flex tw-gap-1"},uit={key:0},pit={class:"tw-px-6 tw-py-4"},git={class:"tw-px-6 tw-py-4"},mit={class:"tw-px-6 tw-py-4"},hit={class:"tw-max-w-[300px] tw-min-w-[150px] tw-whitespace-normal"},fit={class:"tw-px-6 tw-py-4"};function bit(t,e,r,a,l,o){const i=(0,s.up)("OrderDelivery"),w=(0,s.up)("OrderActions");return(0,s.wg)(),(0,s.iD)("tr",{key:r.order.id,class:(0,lt.C_)([["reporter"==r.order.delivery&&"tw-relative",o.isReportedToday(r.order)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[Jot,(0,s._)("th",Got,(0,lt.zw)(r.order.id),1),(0,s._)("td",Xot,[(0,s.Uk)((0,lt.zw)(r.order?.created_at?.split("T")[0])+" ",1),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[o.isReportedToday(r.order)?((0,s.wg)(),(0,s.iD)("span",tit," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",eit,(0,lt.zw)(r.order.fullname),1),(0,s._)("td",rit,(0,lt.zw)(r.order.adresse),1),(0,s._)("td",ait,(0,lt.zw)(r.order.phone),1),(0,s._)("td",sit,[(0,s._)("div",lit,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",oit,(0,lt.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,lt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",iit,"| "+(0,lt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",wit,"| "+(0,lt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",nit,[(0,s._)("div",dit,[((0,s.wg)(),(0,s.j4)(i,{class:(0,lt.C_)("reporter"==r.order.delivery&&"tw-mb-1"),order:r.order,id:r.order.id,key:r.order.delivery,delivery:r.order.delivery},null,8,["class","order","id","delivery"])),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",cit,["reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("span",uit,[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,lt.zw)(r.order?.reported_delivery_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",pit,(0,lt.zw)(o.getPrice(r.order)),1),(0,s._)("td",git,(0,lt.zw)(r.order.city),1),(0,s._)("td",mit,[(0,s._)("div",hit,(0,lt.zw)(r.order.note),1)]),(0,s._)("td",fit,[((0,s.wg)(),(0,s.j4)(w,{key:r.order.id,order:r.order},null,8,["order"]))])],2)}const xit={key:0,class:"focus:tw-ring-4 tw-min-w-fit focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between tw-bg-green-500/10 tw-text-green-500"},vit={key:1},yit={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},_it=["onClick"];function kit(t,e,r,a,l,o){const i=(0,s.up)("OrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},["livrer"==r.delivery?((0,s.wg)(),(0,s.iD)("div",xit,(0,lt.zw)(o.selected.name),1)):(0,s.kq)("",!0),"livrer"!=r.delivery?((0,s.wg)(),(0,s.iD)("div",vit,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,lt.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,lt.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(wt.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(wt.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,lt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",yit,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>!l.disabled.includes(t.value)&&o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,lt.C_)(["tw-block tw-px-4 tw-py-2",[l.disabled.includes(t.value)?"tw-text-neutral-400/80 tw-bg-neutral-400/10":[t.text,t.bg]]])},(0,lt.zw)(t.name),3)],8,_it)))),128))])],2),(0,s.Wm)(i,{order:r.order,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])):(0,s.kq)("",!0)])),[[se.L,o.close]])}var Cit={props:["delivery","id","order"],components:{OrderReporting:pot},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Tn,disabled:jn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;"reporter"!=t.value&&(this.selectedId=t.id,this.updateOrder(),this.close()),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ma.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const Dit=(0,g.Z)(Cit,[["render",kit]]);var Sit=Dit;const Uit={key:0};function zit(t,e,r,a,l,o){return l.newOrder?((0,s.wg)(),(0,s.iD)("div",Uit,[(0,s.Wm)(ot.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])):(0,s.kq)("",!0)}var qit={props:["order"],name:"orderActions",data(){return{newOrder:null}},computed:{},methods:{},mounted(){this.newOrder={...this.order}}};const Pit=(0,g.Z)(qit,[["render",zit]]);var Lit=Pit,Wit={props:["order","showNote"],components:{OrderDelivery:Sit,OrderActions:Lit},data(){return{showPopup:!1,isLoading:!1,todayDate:null}},methods:{handleClick(){this.showPopup=!0},isReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date==this.todayDate},getPrice(t){return po(t)}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const Ait=(0,g.Z)(Wit,[["render",bit]]);var $it=Ait,Eit={props:["orders"],components:{OrderRow:$it},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,todayDate:null,columns:["#","Date","Client","Address","Phone","Product","Delivery","Price","City","Note","Actions"]}},computed:{deliveries(){return this.$store.getters["user/deliveries"]},prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.orders.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.orders.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.orders.filter(this.isReportedToday)}},methods:{isReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date==this.todayDate}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const Tit=(0,g.Z)(Eit,[["render",Qot]]);var jit=Tit,Fit={components:{OrdersTable:jit},data(){return{localUrl:w,deliveryStatus:Tn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"]},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ma.deliveryDeliveredOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Vit=(0,g.Z)(Fit,[["render",jot]]);var Iit=Vit,Oit={name:"deliveries",path:"/deliveries",component:Sa,meta:{module:"delivery"},children:[{name:"delivery/list",path:"",component:_ot,meta:{module:"delivery",subModule:"delivery/list",title:"Orders List",gate:"all"}},{name:"delivery/delivered",path:"/delivered",component:Iit,meta:{module:"delivery",subModule:"delivery/delivered",title:"Delivered Orders List",gate:"all"}}]};const Hit=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Inventory State List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),Mit={key:0},Rit={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Nit={class:"mb-5 tw-flex"},Yit={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Zit={key:0,class:""};function Kit(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("InventoryStateTable");return(0,s.wg)(),(0,s.iD)("div",null,[Hit,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Mit,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Rit,[(0,s._)("div",Nit,[(0,s.Wm)(ot.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Yit,[(0,s.Wm)(ae.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryState.length>0?((0,s.wg)(),(0,s.iD)("div",Zit,[(0,s.Wm)(n,{columns:o.columns,states:i.filteredInventoryState},null,8,["columns","states"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}class Bit{async inventoryStates(){return await $.getCookie(),W.get("api/inventorystates")}async inventoryMovements(){return await $.getCookie(),W.get("api/inventorymovements")}async getMovement(t){return await $.getCookie(),W.get("api/inventorymovements/"+t)}async inventoryMovementCreate({product_id:t,delivery_id:e,variants:r}){return await $.getCookie(),W.post("api/inventorymovements/new",{product_id:t,delivery_id:e,variations:r})}async inventoryMovementUpdate(t,{product_id:e,delivery_id:r,variants:a,quantity:s}){return await $.getCookie(),W.post("api/inventorymovements/update/"+t,{product_id:e,delivery_id:r,variants:a,quantity:s})}async deliveryUpdateMovement(t,e,r){return await $.getCookie(),W.post("api/delivery/inventorymovements/update/"+t,{is_received:e,note:r})}async delete(t){return await $.getCookie(),W["delete"]("api/inventorymovements/delete/"+t)}}var Qit=new Bit;const Jit={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Git={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Xit={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},twt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),ewt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},rwt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),awt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},swt={class:"tw-px-6 tw-py-4 tw-underline tw-underline-offset-1 tw-font-medium"},lwt={class:"tw-px-6 tw-py-4"},owt={class:"tw-px-6 tw-py-4"},iwt={class:"tw-px-6 tw-py-4 tw-font-bold tw-text-green-500"},wwt={class:"tw-px-6 tw-py-4"},nwt={class:"tw-px-6 tw-py-4"},dwt=(0,s._)("br",null,null,-1),cwt={class:"tw-px-6 tw-py-4"},uwt={class:"mt-5 tw-flex tw-justify-between"},pwt={class:"d-flex align-center"},gwt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700"},"Show per page: ",-1),mwt={class:"d-flex align-center"},hwt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},fwt={class:"tw-text-white"};function bwt(t,e,r,a,l,o){const i=(0,s.up)("router-link"),w=(0,s.up)("InventoryStateActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Jit,[(0,s._)("table",Git,[(0,s._)("thead",Xit,[(0,s._)("tr",null,[twt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",ewt,(0,lt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[rwt,(0,s._)("th",awt,(0,lt.zw)(t.id),1),(0,s._)("td",swt,[(0,s.Wm)(i,{to:"products/"+t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.name),1)])),_:2},1032,["to"])]),(0,s._)("td",lwt,(0,lt.zw)(t.buying_price)+" DH ",1),(0,s._)("td",owt,(0,lt.zw)(t.selling_price)+" DH ",1),(0,s._)("td",iwt,(0,lt.zw)(o.availableQuantity(t)),1),(0,s._)("td",wwt,(0,lt.zw)(t.total_quantity),1),(0,s._)("td",nwt,[(0,s.Uk)((0,lt.zw)(t.updated_at?.split("T")[0])+" ",1),dwt,(0,s.Uk)(" "+(0,lt.zw)(t.updated_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",cwt,[(0,s.Wm)(w,{state:t},null,8,["state"])])])))),128))])])]),(0,s._)("div",uwt,[(0,s._)("div",pwt,[gwt,(0,s.Wm)(Km.r,{"hide-details":!0,modelValue:l.paginationLimit,"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),items:l.allowedLimit,variant:"outlined",density:"compact",color:"primary-color"},null,8,["modelValue","items"])]),(0,s._)("div",mwt,[(0,s._)("div",hwt,(0,lt.zw)(o.prevRange+1)+" - "+(0,lt.zw)(l.currentPage==o.pageCount?r.states.length:o.nextRange)+" of "+(0,lt.zw)(r.states.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.pageCount,(t=>((0,s.wg)(),(0,s.j4)(ot.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",fwt,(0,lt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function xwt(t,e,r,a,l,o){const i=(0,s.up)("InventoryStateDetails"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.state.id,class:"tw-flex tw-items-center"},[(0,s.Wm)(ot.T,{onClick:e[0]||(e[0]=t=>l.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1}),(0,s.Wm)(w,{visible:l.detailsPopup,onCancel:e[2]||(e[2]=t=>l.detailsPopup=!1)},{default:(0,s.w5)((()=>[l.detailsPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[1]||(e[1]=t=>l.detailsPopup=!1),state:r.state},null,8,["state"])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const vwt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},ywt={class:"tw-p-5"},_wt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},kwt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Cwt={class:"tw-w-4 tw-p-4"},Dwt={class:"tw-w-4 tw-p-4"},Swt={class:"tw-w-4 tw-p-4"},Uwt={class:"tw-w-4 tw-p-4"},zwt={class:"tw-flex tw-items-center tw-gap-1"},qwt={class:"tw-text-green-500"},Pwt={key:0},Lwt={class:"tw-text-red-400"},Wwt=(0,s.uE)('<div class="tw-flex tw-gap-3 mt-5"><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-green-500"></div><span>Available</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-neutral-700"></div><span>Initial</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-red-400"></div><span>Not Received</span></div></div>',1);function Awt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",vwt,[(0,s.Wm)(ot.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",ywt,[(0,s._)("table",_wt,[kwt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Cwt,(0,lt.zw)(t.id),1),(0,s._)("td",Dwt,(0,lt.zw)(t.size),1),(0,s._)("td",Swt,(0,lt.zw)(t.color),1),(0,s._)("td",Uwt,[(0,s._)("div",zwt,[(0,s._)("span",qwt,(0,lt.zw)(t.available_quantity),1),(0,s._)("span",null,"/ "+(0,lt.zw)(t.quantity),1),t.on_hold>0?((0,s.wg)(),(0,s.iD)("span",Pwt,[(0,s.Uk)(" / "),(0,s._)("span",Lwt,(0,lt.zw)(t.on_hold),1)])):(0,s.kq)("",!0)])])])))),128))])]),Wwt])])}var $wt={props:["state"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){console.log(this.state)}};const Ewt=(0,g.Z)($wt,[["render",Awt]]);var Twt=Ewt,jwt={props:["rowIndex","state"],components:{InventoryStateDetails:Twt},name:"inventoryStateActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{},mounted(){}};const Fwt=(0,g.Z)(jwt,[["render",xwt]]);var Vwt=Fwt,Iwt={props:["columns","states"],components:{InventoryStateActions:Vwt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.states.length/this.paginationLimit)},items(){return this.states.slice(this.prevRange,this.nextRange)}},methods:{availableQuantity(t){let e=0;return t.variations.forEach((t=>{e+=t.available_quantity})),e}}};const Owt=(0,g.Z)(Iwt,[["render",bwt]]);var Hwt=Owt,Mwt={components:{InventoryStateTable:Hwt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"product_name",name:"Product Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"available",name:"Available"},{prop:"quantity",name:"Quantity"},{prop:"updated_at",name:"Updated At"},{prop:"actions",name:"Actions"}]}},computed:{inventoryState(){return this.$store.getters["inventory/inventoryState"]},filteredInventoryState(){return this.inventoryState.filter((t=>!!(t.ref.toLowerCase().includes(this.search.toLowerCase())||t.name.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{async getInventoryStates(){await Qit.inventoryStates().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryState",e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryStates()}};const Rwt=(0,g.Z)(Mwt,[["render",Kit]]);var Nwt=Rwt;const Ywt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Add Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create New Movement")],-1),Zwt={key:0},Kwt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Bwt={class:"tw-w-full"},Qwt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Jwt={class:"tw-relative"},Gwt=["disabled"],Xwt=["value"],tnt={class:"tw-w-full"},ent=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product Name",-1),rnt={class:"tw-relative"},ant=["disabled"],snt=["value"],lnt={class:"tw-w-full"},ont=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),int={class:"tw-relative"},wnt=["value"],nnt={class:"tw-w-full"},dnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),cnt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},unt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),pnt={class:"tw-max-w-full"},gnt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},mnt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),hnt={class:"tw-w-4 tw-p-4"},fnt={class:"tw-w-4 tw-p-4"},bnt={class:"tw-w-4 tw-p-4"},xnt={class:"tw-w-4 tw-p-4"},vnt={class:"tw-w-4 tw-p-4"},ynt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},_nt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},knt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Cnt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Dnt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Ywt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Zwt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Kwt,[(0,s._)("div",null,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Bwt,[Qwt,(0,s._)("div",Jwt,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length,"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.firstname+" "+t.lastname),9,Xwt)))),128))],8,Gwt),[[a.bM,o.delivery]]),(0,s.Wm)(wt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",tnt,[ent,(0,s._)("div",rnt,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length>0,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,snt)))),128))],8,ant),[[a.bM,o.product]]),(0,s.Wm)(wt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",lnt,[ont,(0,s._)("div",int,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.color+" - "+t.size+"  ("+t.available_quantity+" items)"),9,wnt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(wt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",nnt,[dnt,(0,s._)("div",null,[(0,s.Wm)(nt.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",cnt,[(0,s.Wm)(ot.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[unt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",pnt,[(0,s._)("table",gnt,[mnt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",hnt,(0,lt.zw)(t.id),1),(0,s._)("td",fnt,(0,lt.zw)(t.size),1),(0,s._)("td",bnt,(0,lt.zw)(t.color),1),(0,s._)("td",xnt,(0,lt.zw)(t.quantity),1),(0,s._)("td",vnt,[(0,s._)("div",ynt,[(0,s.Wm)(ot.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",_nt,[(0,s.Wm)(ot.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[knt])),_:1}),(0,s.Wm)(ot.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Cnt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Snt={data(){return{isLoading:!1,isLoaded:!1,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.available_quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.available_quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},create(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,Qit.inventoryMovementCreate({product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.selectedVariations=[],this.getData()),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await at.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return Qit.inventoryStates().then((t=>{if("SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;if(this.$store.dispatch("product/setProducts",e),e.length>0){const t=e[0];this.product=t.id,this.variations.length>0&&(this.variation=this.variations[0].id)}else this.product=null}}),(t=>{this.$handleApiError(t)}))},getData(){this.isLoaded=!1,Promise.allSettled([this.getProducts(),this.getDeliveries()]).then((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const Unt=(0,g.Z)(Snt,[["render",Dnt]]);var znt=Unt;const qnt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Edit an existing Movement")],-1),Pnt={key:0},Lnt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Wnt={class:"tw-w-full"},Ant=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),$nt={class:"tw-relative"},Ent=["value"],Tnt={class:"tw-w-full"},jnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),Fnt={class:"tw-relative"},Vnt=["value"],Int={class:"tw-w-full"},Ont=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Hnt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Mnt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),Rnt={class:"tw-max-w-full"},Nnt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Ynt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Znt={class:"tw-w-4 tw-p-4"},Knt={class:"tw-w-4 tw-p-4"},Bnt={class:"tw-w-4 tw-p-4"},Qnt={class:"tw-w-4 tw-p-4"},Jnt={class:"tw-w-4 tw-p-4"},Gnt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Xnt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},tdt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),edt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function rdt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[qnt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Pnt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Lnt,[(0,s._)("div",null,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Wnt,[Ant,(0,s._)("div",$nt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.firstname+" "+t.lastname),9,Ent)))),128))],512),[[a.bM,o.delivery]]),(0,s.Wm)(wt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Tnt,[jnt,(0,s._)("div",Fnt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.color+" / "+t.size+" / "+t.quantity),9,Vnt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(wt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Int,[Ont,(0,s._)("div",null,[(0,s.Wm)(nt.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[2]||(e[2]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",Hnt,[(0,s.Wm)(ot.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Mnt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Rnt,[(0,s._)("table",Nnt,[Ynt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Znt,(0,lt.zw)(t.id),1),(0,s._)("td",Knt,(0,lt.zw)(t.size),1),(0,s._)("td",Bnt,(0,lt.zw)(t.color),1),(0,s._)("td",Qnt,(0,lt.zw)(t.quantity),1),(0,s._)("td",Jnt,[(0,s._)("div",Gnt,[(0,s.Wm)(ot.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Xnt,[(0,s.Wm)(ot.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[tdt])),_:1}),(0,s.Wm)(ot.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[edt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var adt={data(){return{isLoading:!1,isLoaded:!1,movement:null,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},id(){return this.$route.params.id},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},update(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,Qit.inventoryMovementUpdate(this.id,{product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await at.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return pa.all().then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.products;this.$store.dispatch("product/setProducts",e),e.length>0?this.product=e[0].id:this.product=null}}),(t=>{this.$handleApiError(t)}))},getMovement(){return Qit.getMovement(this.id).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.movement;this.product=e.product.id,this.delivery=e.delivery.id,this.selectedVariations=e.inventory_movement_variations;let r=0;this.selectedVariations.forEach((t=>{r+=t.quantity})),this.quantity_total=r}}),(t=>{this.$handleApiError(t)}))}},mounted(){Promise.allSettled([this.getProducts(),this.getDeliveries(),this.getMovement()]).then((()=>{this.isLoaded=!0}))}};const sdt=(0,g.Z)(adt,[["render",rdt]]);var ldt=sdt;const odt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Inventory State List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),idt={key:0},wdt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ndt={class:"mb-5 tw-flex"},ddt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},cdt={key:0,class:""};function udt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("InventoryMovementsTable");return(0,s.wg)(),(0,s.iD)("div",null,[odt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",idt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",wdt,[(0,s._)("div",ndt,[(0,s.Wm)(ot.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",ddt,[(0,s.Wm)(ae.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryMovements.length>0?((0,s.wg)(),(0,s.iD)("div",cdt,[(0,s.Wm)(n,{columns:o.columns,movements:i.inventoryMovements},null,8,["columns","movements"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}const pdt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},gdt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},mdt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},hdt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),fdt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},bdt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),xdt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},vdt={class:"tw-px-6 tw-py-4"},ydt=(0,s._)("br",null,null,-1),_dt={class:"tw-px-6 tw-py-4"},kdt={class:"tw-px-6 tw-py-4"},Cdt={class:"tw-px-6 tw-py-4"},Ddt={class:"tw-px-6 tw-py-4"},Sdt={class:"tw-px-6 tw-py-4"},Udt={class:"tw-w-[200px] !tw-whitespace-normal"},zdt={class:"tw-px-6 tw-py-4"},qdt={class:"tw-px-6 tw-py-4"},Pdt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Ldt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Wdt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Adt=["value"],$dt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Edt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Tdt={class:"tw-text-white"};function jdt(t,e,r,l,o,i){const w=(0,s.up)("router-link"),n=(0,s.up)("InventoryMovementsActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",pdt,[(0,s._)("table",gdt,[(0,s._)("thead",mdt,[(0,s._)("tr",null,[hdt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",fdt,(0,lt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movements,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[bdt,(0,s._)("th",xdt,(0,lt.zw)(t.id),1),(0,s._)("td",vdt,[(0,s.Uk)((0,lt.zw)(t.created_at?.split("T")[0])+" ",1),ydt,(0,s.Uk)(" "+(0,lt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",_dt,(0,lt.zw)(t.delivery.firstname+" "+t.delivery.lastname),1),(0,s._)("td",kdt,[(0,s.Wm)(w,{to:"products/"+t.product.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.product.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Cdt,(0,lt.zw)(i.quantityTotal(t.inventory_movement_variations)),1),(0,s._)("td",Ddt,[(0,s._)("div",{class:(0,lt.C_)([[t.is_received?"tw-text-green-500 tw-bg-green-500/10":"tw-text-red-500 tw-bg-red-500/10"],"tw-flex tw-justify-center tw-py-1 tw-rounded-lg tw-items-center"])},[(0,s._)("span",null,(0,lt.zw)(t.is_received?"Yes":"No"),1)],2)]),(0,s._)("td",Sdt,[(0,s._)("div",Udt,(0,lt.zw)(t.note?t.note:"-"),1)]),(0,s._)("td",zdt,(0,lt.zw)(t.delivery.city?.name),1),(0,s._)("td",qdt,[(0,s.Wm)(n,{movement:t},null,8,["movement"])])])))),128))])])]),(0,s._)("div",Pdt,[(0,s._)("div",Ldt,[Wdt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,lt.zw)(t),9,Adt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",$dt,[(0,s._)("div",Edt,(0,lt.zw)(i.prevRange+1)+" - "+(0,lt.zw)(o.currentPage==i.pageCount?r.movements.length:i.nextRange)+" of "+(0,lt.zw)(r.movements.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(ot.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Tdt,(0,lt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Fdt={class:"md:tw-w-[50%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Vdt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-blue-500"},"Confirmation",-1),Idt={class:"mt-3"},Odt=(0,s._)("h2",{class:"mb-2"},"Received",-1),Hdt={class:"tw-mt-3"},Mdt=(0,s._)("h2",{class:"tw-text-md mb-1"},"Add note",-1),Rdt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},Ndt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Ydt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Zdt(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("MovementDetails"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",{key:r.movement.id,class:"tw-flex tw-items-center"},[["delivery","admin"].includes(i.user.role)?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,onClick:e[0]||(e[0]=t=>o.confirmPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-checkbox-marked-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.kq)("",!0),(t.$can("view_inventory_movement"),(0,s.wg)(),(0,s.j4)(ot.T,{key:2,onClick:e[1]||(e[1]=t=>o.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})),t.$can("delete_inventory_movement")?((0,s.wg)(),(0,s.j4)(ot.T,{key:3,onClick:e[2]||(e[2]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("confirmation_inventory_movement")?((0,s.wg)(),(0,s.j4)(w,{key:4,visible:o.confirmPopup,onCancel:e[6]||(e[6]=t=>o.confirmPopup=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",Fdt,[Vdt,(0,s._)("div",Idt,[Odt,(0,s.Wm)(Bm.G,{density:"compact","hide-details":!0,modelValue:o.isConfirmed,"onUpdate:modelValue":e[3]||(e[3]=t=>o.isConfirmed=t),color:"blue"},null,8,["modelValue"])]),(0,s._)("div",Hdt,[Mdt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n\r\n              ",512),[[a.nr,o.note]])]),(0,s._)("div",Rdt,[(0,s.Wm)(ot.T,{onClick:e[5]||(e[5]=t=>o.confirmPopup=!1),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Ndt])),_:1}),(0,s.Wm)(ot.T,{loading:o.isLoading,onClick:i.updateMovement,color:"blue",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Ydt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])):(0,s.kq)("",!0),(0,s.Wm)(w,{visible:o.detailsPopup,onCancel:e[8]||(e[8]=t=>o.detailsPopup=!1)},{default:(0,s.w5)((()=>[o.detailsPopup?((0,s.wg)(),(0,s.j4)(n,{key:0,onCancel:e[7]||(e[7]=t=>o.detailsPopup=!1),movement:r.movement},null,8,["movement"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this movement?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const Kdt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Bdt={class:"tw-p-5"},Qdt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Jdt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Gdt={class:"tw-w-4 tw-p-4"},Xdt={class:"tw-w-4 tw-p-4"},tct={class:"tw-w-4 tw-p-4"},ect={class:"tw-w-4 tw-p-4"};function rct(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Kdt,[(0,s.Wm)(ot.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Bdt,[(0,s._)("table",Qdt,[Jdt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movement.inventory_movement_variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Gdt,(0,lt.zw)(t.id),1),(0,s._)("td",Xdt,(0,lt.zw)(t.product_variation.size),1),(0,s._)("td",tct,(0,lt.zw)(t.product_variation.color),1),(0,s._)("td",ect,(0,lt.zw)(t.quantity),1)])))),128))])])])])}var act={props:["movement"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const sct=(0,g.Z)(act,[["render",rct]]);var lct=sct,oct={props:["rowIndex","movement"],components:{MovementDetails:lct},name:"inventoryActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,Qit["delete"](this.movement.id).then((t=>{"SUCCESS"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Inventory Movement Deleted Successfully"})),this.getMovements()})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1},updateMovement(){this.isLoading=!0,Qit.deliveryUpdateMovement(this.movement.id,this.isConfirmed?1:0,this.note).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:"Inventory Movement Updated Successfully"}),this.getMovements())}),this.$handleApiError).finally((()=>{this.isLoading=!1,this.confirmPopup=!1}))},getMovements(){Qit.inventoryMovements().then((t=>{if("SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e)}})).catch(this.$handleApiError)}},mounted(){this.note=this.movement.note,this.isConfirmed=1==this.movement.is_received}};const ict=(0,g.Z)(oct,[["render",Zdt]]);var wct=ict,nct={props:["columns","movements"],components:{InventoryMovementsActions:wct},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.movements.length/this.paginationLimit)},items(){return this.movements.slice(this.prevRange,this.nextRange)}},methods:{quantityTotal(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const dct=(0,g.Z)(nct,[["render",jdt]]);var cct=dct,uct={components:{InventoryMovementsTable:cct},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"created_at",name:"Date"},{prop:"delivery",name:"Delivery"},{prop:"product",name:"Product"},{prop:"quantity",name:"Quantity"},{prop:"received",name:"Received"},{prop:"note",name:"Note"},{prop:"city",name:"City"},{prop:"actions",name:"Actions"}]}},computed:{inventoryMovements(){return this.$store.getters["inventory/inventoryMovements"]},filteredInventoryState(){return this.inventoryMovements.filter((()=>!0))}},methods:{async getInventoryMovements(){await Qit.inventoryMovements().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e),console.log(e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryMovements()}};const pct=(0,g.Z)(uct,[["render",udt]]);var gct=pct,mct={name:"inventory/list",path:"/inventories",component:Sa,meta:{module:"inventory"},children:[{name:"inventory/state",path:"",component:Nwt,meta:{module:"inventory",subModule:"inventory/list",title:"Inventory State",gate:"show_all_inventory_states"}},{name:"inventory/movememnts",path:"movements",component:gct,meta:{module:"inventory",subModule:"inventory/movements",title:"Inventory Movements",gate:"show_all_inventory_movements"}},{name:"inventory/add",path:"add",component:znt,meta:{module:"inventory",subModule:"inventory/add",title:"Add Inventory Movement",gate:"create_inventory_movement"}},{name:"inventory/update",path:"update/:id",component:ldt,meta:{module:"inventory",subModule:"inventory/update",title:"Update Inventory Movement",gate:"update_inventory_movement"}}]},hct=r(3012);const fct={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},bct={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},xct=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Scan the QR code ",-1),vct={class:"tw-p-5"},yct={class:"tw-rounded tw-overflow-hidden tw-ring tw-ring-orange-400"},_ct={key:1,class:"error"},kct={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"};var Cct={__name:"ScanPopUp",props:["visible"],emits:["update:visible","detect"],setup(t,{emit:e}){const r=t,a=new Audio(w+"assets/bip.mp3"),l=t=>{e("update:visible",t)};function o(t,e){for(const r of t){const[t,...a]=r.cornerPoints;e.strokeStyle="red",e.beginPath(),e.moveTo(t.x,t.y);for(const{x:r,y:s}of a)e.lineTo(r,s);e.lineTo(t.x,t.y),e.closePath(),e.stroke()}}function i(t,e){for(const r of t){const{boundingBox:{x:t,y:a,width:s,height:l}}=r;e.lineWidth=2,e.strokeStyle="#007bff",e.strokeRect(t,a,s,l)}}function n(t,e){for(const r of t){const{boundingBox:t,rawValue:a}=r,s=t.x+t.width/2,l=t.y+t.height/2,o=Math.max(12,50*t.width/e.canvas.width);e.font=`bold ${o}px sans-serif`,e.textAlign="center",e.lineWidth=3,e.strokeStyle="#35495e",e.strokeText(r.rawValue,s,l),e.fillStyle="#5cb984",e.fillText(a,s,l)}}const d=[{text:"nothing (default)",value:void 0},{text:"outline",value:o},{text:"centered text",value:n},{text:"bounding box",value:i}],c=(0,ve.iH)(d[1]),u=(0,ve.iH)(null),p=(0,ve.iH)([]);(0,s.bv)((async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){if(p.value=(await navigator.mediaDevices.enumerateDevices()).filter((({kind:t})=>"videoinput"===t)),p.value.length>0){const t=p.value.find((({label:t})=>t.toLowerCase().includes("back")||t.toLowerCase().includes("rear")));u.value=t||p.value[0]}}else console.error("MediaDevices API not supported")}));const g=(0,ve.iH)("");function m(t){const r=t.map((t=>t.rawValue)).join(", ");console.log("Detected Code: "),console.log(r),e("detect",r),l(!1),a.play(),g.value=r}const h=(0,ve.iH)({qr_code:!0}),f=(0,s.Fl)((()=>Object.keys(h.value||{}).filter((t=>h.value&&h.value[t])))),b=(0,ve.iH)("");function x(t){"NotAllowedError"===t.name?b.value+="you need to grant camera access permission":"NotFoundError"===t.name?b.value+="no camera on this device":"NotSupportedError"===t.name?b.value+="secure context required (HTTPS, localhost)":"NotReadableError"===t.name?b.value+="is the camera already in use?":"OverconstrainedError"===t.name?b.value+="installed cameras are not suitable":"StreamApiNotSupportedError"===t.name?b.value+="Stream API is not supported in this browser":"InsecureContextError"===t.name?b.value+="Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":b.value+=t.message}return(t,e)=>{const a=(0,s.up)("icon"),o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l(!0)),class:"tw-fixed tw-bottom-5 tw-shadow tw-shadow-orange-300 tw-right-5 tw-flex tw-items-center tw-justify-center tw-w-[60px] tw-h-[60px] tw-gap-2 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-border-orange-300 tw-rounded-md tw-mb-2 tw-z-20"},[(0,s.Wm)(a,{icon:"iconamoon:scanner-light",class:"lg:tw-text-3xl tw-text-2xl"})]),(0,s.Wm)(o,{visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",fct,[(0,s._)("div",bct,[xct,(0,s._)("div",vct,[(0,s._)("div",yct,[null!==u.value?((0,s.wg)(),(0,s.j4)((0,ve.SU)(hct.vG),{key:0,constraints:{deviceId:u.value.deviceId},track:c.value.value,formats:(0,ve.SU)(f),"facing-mode":"environment",onError:x,onDetect:m},null,8,["constraints","track","formats"])):((0,s.wg)(),(0,s.iD)("p",_ct," No cameras on this device "))])]),(0,s._)("div",kct,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l(!1)),disabled:!1,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])])),_:1},8,["visible"])])}}};const Dct=Cct;var Sct=Dct;const Uct=t=>((0,s.dD)("data-v-3fcb733e"),t=t(),(0,s.Cn)(),t),zct={class:"!tw-w-[25px] !tw-h-[25px] tw-relative"},qct=Uct((()=>(0,s._)("div",{class:"check-container tw-scale-[0.2] tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2"},[(0,s._)("div",{class:"check-background"},[(0,s._)("svg",{viewBox:"0 0 65 51",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M7 25L27.3077 44L58.5 7",stroke:"white","stroke-width":"13","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1))),Pct=[qct];function Lct(t,e){return(0,s.wg)(),(0,s.iD)("div",zct,Pct)}const Wct={},Act=(0,g.Z)(Wct,[["render",Lct],["__scopeId","data-v-3fcb733e"]]);var $ct=Act;const Ect={class:"tw-translate-y-0 tw-opacity-100 tw-w-full tw-p-2 tw-min-h-[60px] tw-bg-white tw-duration-300 tw-rounded tw-shadow-md"},Tct={class:"tw-flex tw-justify-between tw-items-center"},jct={class:"tw-space-y-4"},Fct={class:"tw-flex tw-items-center tw-gap-4"},Vct={class:"tw-flex tw-items-center tw-gap-2"},Ict={style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},Oct={key:0,class:"tw-flex tw-items-center tw-gap-0.5 tw-bg-blue-100 tw-p-1 tw-rounded"},Hct=(0,s._)("span",{style:{"line-height":"10px"},class:"tw-text-xs tw-capitalize tw-font-medium tw-text-blue-600"},"Double Scan",-1),Mct=[Hct],Rct={class:"tw-flex tw-items-center tw-gap-5"},Nct={key:0,class:"tw-flex tw-items-center"},Yct=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse"},null,-1),Zct=(0,s._)("div",{class:"tw-w-[70px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),Kct=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-5"},null,-1),Bct=(0,s._)("div",{class:"tw-w-[100px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),Qct=[Yct,Zct,Kct,Bct],Jct={key:1,class:"tw-flex tw-items-center tw-gap-2"},Gct={key:0,style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},Xct={key:2,class:"tw-flex tw-items-center tw-gap-2"},tut={key:0,style:{"line-height":"16px"},class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-max-w-[120px] tw-truncate"},eut={key:3,class:"tw-w-fit tw-px-2 tw-bg-rose-100 tw-text-rose-500 tw-text-sm tw-uppercase tw-h-[25px] tw-rounded-md tw-flex tw-items-center tw-justify-center"},rut={class:"tw-h-full tw-space-y-2 tw-flex-col tw-flex tw-items-end tw-justify-between"},aut={key:0,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},sut={class:"tw-text-blue-500 tw-text-sm"},lut={key:1,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},out={class:"tw-text-amber-500 tw-text-sm"};var iut={__name:"OrderRow",props:["order"],emits:["update"],setup(t,{emit:e}){const r=t,a=()=>{const t=r.order.scanned.replace(/[^0-9]/g,"");ma.warehouseControl(t,{target:r.order.target,scanned:r.order.scanned}).then((t=>{if("SUCCESS"==t.data.code){const a={...r.order,...t.data.order,loading:!1,check:!0};e("update",r.order.scan_id,a)}else e("update",r.order.scan_id,{...r.order,loading:!1,check:!1})}),(t=>{e("update",r.order.scan_id,{...r.order,loading:!1,check:!1}),console.log(t)}))};return a(),(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Ect,[(0,s._)("div",Tct,[(0,s._)("div",jct,[(0,s._)("div",Fct,[(0,s._)("div",Vct,[(0,s.Wm)(a,{icon:"solar:qr-code-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),(0,s._)("span",Ict,(0,lt.zw)(r.order.scanned),1)]),r.order.already_scanned?((0,s.wg)(),(0,s.iD)("div",Oct,Mct)):(0,s.kq)("",!0)]),(0,s._)("div",Rct,[r.order.loading?((0,s.wg)(),(0,s.iD)("div",Nct,Qct)):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",Jct,[(0,s.Wm)(a,{icon:"solar:hashtag-square-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.id?((0,s.wg)(),(0,s.iD)("span",Gct,(0,lt.zw)(r.order.id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",Xct,[(0,s.Wm)(a,{icon:"solar:user-id-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.fullname?((0,s.wg)(),(0,s.iD)("span",tut,(0,lt.zw)(r.order.fullname),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",eut,"Not Found"))])]),(0,s._)("div",rut,[(0,s._)("div",null,[!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.j4)((0,ve.SU)($ct),{key:0})):(0,s.kq)("",!0),r.order.loading?((0,s.wg)(),(0,s.j4)(a,{key:1,class:"tw-text-lg tw-text-orange-400 tw-animate-spin",icon:"mingcute:loading-line"})):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(a,{key:2,class:"tw-text-2xl tw-text-rose-500",icon:"material-symbols-light:error-outline"}))]),(0,s._)("div",null,["in"==r.order.target?((0,s.wg)(),(0,s.iD)("div",aut,[(0,s.Wm)(a,{icon:"lets-icons:sign-in-squre-duotone",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",sut,(0,lt.zw)(r.order.target),1)])):(0,s.kq)("",!0),"out"==r.order.target?((0,s.wg)(),(0,s.iD)("div",lut,[(0,s.Wm)(a,{icon:"lets-icons:sign-out-squre-duotone",class:"tw-text-xl tw-text-amber-500"}),(0,s._)("span",out,(0,lt.zw)(r.order.target),1)])):(0,s.kq)("",!0)])])])])}}};const wut=iut;var nut=wut;const dut={class:"lg:tw-p-6"},cut={class:"tw-p-5 lg:tw-border tw-min-h-[calc(100vh-135px)] tw-flex tw-flex-col tw-bg-white tw-w-full lg:tw-rounded-md tw-mb-5"},uut={class:"tw-grid tw-grid-cols-12 tw-h-full tw-flex-1 tw-gap-5"},put={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},gut=(0,s._)("h1",{class:"tw-text-lg"},"Target",-1),mut={class:"tw-grid tw-grid-cols-2 tw-gap-5 tw-mt-2"},hut={class:"tw-grid tw-px-2 tw-grid-cols-12 tw-justify-center tw-mt-10"},fut=["onSubmit"],but=(0,s._)("p",{class:"tw-text-xl tw-font-semibold tw-py-4"},"Scan the order reference ID.",-1),xut={class:"tw-grid tw-grid-cols-8 tw-mt-16 col-span-12 tw-gap-2 tw-w-full tw-max-w-[23rem]"},vut={id:"success-message",class:"tw-inline-flex tw-items-center"},yut=(0,s._)("div",{class:"tw-grid tw-grid-cols-8 tw-py-5 tw-gap-2 tw-w-full tw-max-w-[23rem]"},[(0,s._)("button",{class:"tw-col-span-8 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",{id:"success-message",class:"tw-inline-flex tw-items-center"}," Confirm ")])],-1),_ut={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},kut={class:"tw-min-h-[600px] tw-flex-1 tw-w-full tw-bg-gray-100 tw-rounded-md tw-p-2 tw-space-y-2 tw-shadow-inner"};var Cut={__name:"ScannerView",setup(t){const e=(0,ve.iH)(!1),r=(0,ve.iH)([]),l=(0,ve.iH)(""),o=(0,ve.iH)("in"),i=(0,s.Fl)((()=>{if(""==l.value)return!1;const t=l.value.replace(/[^a-zA-Z]/g,"").toLocaleLowerCase(),e=l.value.replace(/[^0-9]/g,"");return t!=u||!e})),w=t=>{l.value=t,g()},n=()=>{var t=document.getElementById("code");t.select(),navigator.clipboard.writeText(t.value)},d=(t,e)=>{r.value=r.value.map((r=>r.scan_id==t?e:r))},c=t=>r.value.some((e=>e.scanned==t)),p=()=>{const t=Date.now().toString(36),e=Math.random().toString(36).substr(2,5);return t+e},g=()=>{const t={scan_id:p(),scanned:l.value,loading:!0,check:!1,target:o.value};if(""==l.value)return Pc("Reference ID is not valid","warning"),!1;c(l.value)&&(t.already_scanned=!0),i.value||""==l.value||(r.value.unshift(t),l.value="")};return(t,c)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",dut,[(0,s._)("div",null,[(0,s.Wm)((0,ve.SU)(Sct),{visible:e.value,"onUpdate:visible":c[0]||(c[0]=t=>e.value=t),onDetect:w},null,8,["visible"])]),(0,s._)("div",cut,[(0,s._)("div",uut,[(0,s._)("div",put,[(0,s._)("div",null,[gut,(0,s._)("div",mut,[(0,s._)("button",{onClick:c[1]||(c[1]=t=>o.value="in"),class:(0,lt.C_)([["in"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-plus",class:(0,lt.C_)(["tw-text-2xl",["in"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,lt.C_)(["in"==o.value?"tw-text-white":"tw-text-neutral-500"])},"IN",2)],2),(0,s._)("button",{onClick:c[2]||(c[2]=t=>o.value="out"),class:(0,lt.C_)([["out"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-minus",class:(0,lt.C_)(["tw-text-2xl",["out"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,lt.C_)(["out"==o.value?"tw-text-white":"tw-text-neutral-500"])},"OUT",2)],2)])]),(0,s._)("div",hut,[(0,s._)("form",{onSubmit:(0,a.iM)(g,["prevent"]),class:"lg:tw-col-span-12 tw-col-span-12 tw-flex tw-flex-col tw-items-center tw-justify-center"},[but,(0,s._)("div",{onClick:c[3]||(c[3]=t=>e.value=!0),class:(0,lt.C_)([[(0,ve.SU)(i)&&"tw-border-rose-400 tw-ring tw-ring-rose-400"],"tw-relative hover:tw-scale-110 tw-duration-300 tw-cursor-pointer tw-h-[150px] tw-w-[150px] tw-border-2 tw-rounded-3xl tw-mt-10 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(u,{class:"tw-w-[150px] tw-h-[150px] tw-border-2 tw-rounded-3xl",icon:"fluent:scan-dash-28-regular"}),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(i)&&"!tw-opacity-100"],"tw-opacity-0 tw-absolute tw-top-1/2 tw-left-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-w-full tw-h-[30px] tw-bg-rose-500 tw-flex tw-items-center tw-justify-center tw-font-medium tw-text-sm tw-text-white"])}," ID NOT VALID ",2)],2),(0,s.kq)("",!0),(0,s._)("div",xut,[(0,s.wy)((0,s._)("input",{placeholder:"Reference ID",id:"code",type:"text","onUpdate:modelValue":c[4]||(c[4]=t=>l.value=t),class:"tw-bg-gray-50 border tw-col-span-6 tw-rounded-lg tw-outline-none focus:tw-ring-gray-500 focus:tw-border-gray-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-gray-400 dark:tw-focus:tw-ring-blue-500 dark:focus:tw-border-blue-500"},null,512),[[a.nr,l.value]]),(0,s._)("button",{type:"button",onClick:n,class:"tw-col-span-2 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",vut,[(0,s.Wm)(u,{icon:"mdi:content-copy"})])])]),yut],40,fut)])]),(0,s._)("div",_ut,[(0,s._)("div",kut,[(0,s.Wm)(a.W3,{"enter-from-class":"tw-translate-y-[10px] tw-opacity-0"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ve.SU)(nut),{onUpdate:d,order:t,key:t.scan_id},null,8,["order"])))),128))])),_:1})])])])])])}}};const Dut=Cut;var Sut=Dut,Uut={name:"scanner",path:"/scanner",component:Sa,meta:{module:"qrcode"},children:[{name:"scanner/code",path:"",component:Sut,meta:{module:"scaanner",subModule:"scaanner/code",title:"Scanner",role:"admin",gate:"stock_management"}}]};const zut={class:"mb-5 tw-flex tw-justify-between tw-items-center"},qut=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Shop List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your shops")],-1),Put={key:0},Lut=(0,s._)("span",{class:"text-white"}," Add Shop ",-1),Wut={key:0},Aut={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},$ut={class:"mb-5 tw-flex"},Eut={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Tut={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},jut={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Fut=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Vut={class:"tw-relative"},Iut={class:""};function Out(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ShopsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.shops.length},[(0,s._)("div",zut,[qut,t.$can("create_shop")?((0,s.wg)(),(0,s.iD)("div",Put,[(0,s.Wm)(ot.T,{color:"primary-color",link:"",to:{name:"shop/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Lut])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Wut,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Aut,[(0,s._)("div",$ut,[(0,s.Wm)(ot.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Eut,[(0,s.Wm)(ae.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,lt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Tut,[(0,s._)("div",jut,[Fut,(0,s._)("div",Vut,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Iut,[(0,s.Wm)(n,{columns:o.columns,shops:i.filteredShops},null,8,["columns","shops"])])])):(0,s.kq)("",!0)])}class Hut{async create(t){return await $.getCookie(),W.post("api/shops/new",{name:t.name})}async update(t,e){return await $.getCookie(),W.post("api/shops/update/"+t,{name:e.name})}async all(){return await $.getCookie(),W.get("api/shops")}async getShop(t){return await $.getCookie(),W.get("api/shops/"+t)}async delete(t){return await $.getCookie(),W["delete"]("api/shops/delete/"+t)}}var Mut=new Hut;const Rut={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Nut={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Yut={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Zut=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Kut={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},But=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Qut={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Jut={class:"tw-px-6 tw-py-4"},Gut={class:"tw-px-6 tw-py-4"},Xut={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},tpt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},ept={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},rpt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),apt=["value"],spt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},lpt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},opt={class:"tw-text-white"};function ipt(t,e,r,l,o,i){const w=(0,s.up)("ShopActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Rut,[(0,s._)("table",Nut,[(0,s._)("thead",Yut,[(0,s._)("tr",null,[Zut,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Kut,(0,lt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shops,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[But,(0,s._)("th",Qut,(0,lt.zw)(t.id),1),(0,s._)("td",Jut,(0,lt.zw)(t.name),1),(0,s._)("td",Gut,(0,lt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Xut,[(0,s.Wm)(w,{shop:t},null,8,["shop"])])])))),128))])])]),(0,s._)("div",tpt,[(0,s._)("div",ept,[rpt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,lt.zw)(t),9,apt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",spt,[(0,s._)("div",lpt,(0,lt.zw)(i.prevRange+1)+" - "+(0,lt.zw)(o.currentPage==i.pageCount?r.shops.length:i.nextRange)+" of "+(0,lt.zw)(r.shops.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(ot.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",opt,(0,lt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const wpt={class:"tw-flex tw-items-center tw-gap-1"};function npt(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",wpt,[t.$can("update_shop")?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,to:"/shops/update/"+r.shop.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_shop")?((0,s.wg)(),(0,s.j4)(ot.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this shop?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var dpt={props:["rowIndex","shop"],name:"shopActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Mut["delete"](this.shop.id).then((t=>{"SHOP_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Shop Deleted Successfully"})),Mut.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const cpt=(0,g.Z)(dpt,[["render",npt]]);var upt=cpt,ppt={props:["columns","shops"],components:{ShopActions:upt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.shops.length/this.paginationLimit)},items(){return this.shops.slice(this.prevRange,this.nextRange)}},methods:{}};const gpt=(0,g.Z)(ppt,[["render",ipt]]);var mpt=gpt,hpt={components:{ShopsTable:mpt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{shops(){return this.$store.getters["shop/shops"]},filteredShops(){const t=this.date;return this.shops.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){Mut.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const fpt=(0,g.Z)(hpt,[["render",Out]]);var bpt=fpt;const xpt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Shop "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new shop")],-1),vpt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ypt={class:"tw-w-full"},_pt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Shop Name ",-1),kpt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Cpt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Dpt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Spt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Upt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[xpt,(0,s._)("div",vpt,[(0,s._)("div",null,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ypt,[_pt,(0,s.Wm)(nt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",kpt,(0,lt.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Cpt,[(0,s.Wm)(ot.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Dpt])),_:1}),(0,s.Wm)(ot.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Spt])),_:1},8,["onClick","loading"])])])])}var zpt={components:{},data(){return{isLoading:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;Mut.create(t).then((t=>{"SHOP_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.shop={name:""}),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Lt(this.shop.name,"Shop name"),this.formStatus.name.valid}}};const qpt=(0,g.Z)(zpt,[["render",Upt]]);var Ppt=qpt;const Lpt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Shop"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update shop informations")],-1),Wpt={key:0},Apt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},$pt={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},Ept={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},Tpt={class:"tw-w-full"},jpt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Shop Name",-1),Fpt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vpt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Ipt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Opt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Hpt(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Lpt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Wpt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Apt,[(0,s._)("div",$pt,[(0,s.Uk)(" Shop ID: "),(0,s._)("span",Ept,(0,lt.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Tpt,[jpt,(0,s.Wm)(nt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Fpt,(0,lt.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Vpt,[(0,s.Wm)(ot.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Ipt])),_:1}),(0,s.Wm)(ot.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Opt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Mpt={components:{},data(){return{isLoading:!1,isLoaded:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{id(){return this.$route.params.id}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;Mut.update(this.$route.params.id,t).then((t=>{"SHOP_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"SHOP_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Lt(this.shop.name,"Shop name"),this.formStatus.name.valid}},mounted(){Mut.getShop(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{name:e}=t.data.data.shops;this.shop.name=e,this.isLoaded=!0}}),this.$handleApiError)}};const Rpt=(0,g.Z)(Mpt,[["render",Hpt]]);var Npt=Rpt,Ypt={name:"shops",path:"/shops",component:Sa,meta:{module:"shop"},children:[{name:"shop/list",path:"",component:bpt,meta:{module:"shop",subModule:"shop/list",title:"Shop List",gate:"show_all_sales"}},{name:"shop/add",path:"add",component:Ppt,meta:{module:"shop",subModule:"shop/add",title:"Shop Add",gate:"create_shop"}},{name:"shop/update",path:"update/:id",component:Npt,meta:{module:"shop",subModule:"shop/update",title:"Update Shop",gate:"update_shop"}}]};const Zpt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Kpt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Warehouse List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your warehouses")],-1),Bpt={key:0},Qpt=(0,s._)("span",{class:"text-white"}," Add Warehouse ",-1),Jpt={key:0},Gpt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Xpt={class:"mb-5 tw-flex"},tgt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},egt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},rgt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},agt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),sgt={class:"tw-relative"},lgt={class:""};function ogt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("WarehousesTable"),d=(0,s.up)("AddWarehouse");return(0,s.wg)(),(0,s.iD)("div",{key:i.warehouses.length},[(0,s._)("div",Zpt,[Kpt,t.$can("create_warehouse")?((0,s.wg)(),(0,s.iD)("div",Bpt,[(0,s.Wm)(ot.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Qpt])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Jpt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Gpt,[(0,s._)("div",Xpt,[(0,s.Wm)(ot.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",tgt,[(0,s.Wm)(ae.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,lt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",egt,[(0,s._)("div",rgt,[agt,(0,s._)("div",sgt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",lgt,[(0,s.Wm)(n,{columns:o.columns,warehouses:i.filteredWarehouses},null,8,["columns","warehouses"])]),(0,s.Wm)(d,{onCancel:e[4]||(e[4]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const igt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},wgt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},ngt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},dgt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),cgt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},ugt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),pgt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},ggt={class:"tw-px-6 tw-py-4"},mgt={class:"tw-px-6 tw-py-4"},hgt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},fgt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},bgt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},xgt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),vgt=["value"],ygt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},_gt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},kgt={class:"tw-text-white"};function Cgt(t,e,r,l,o,i){const w=(0,s.up)("WarehouseActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",igt,[(0,s._)("table",wgt,[(0,s._)("thead",ngt,[(0,s._)("tr",null,[dgt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",cgt,(0,lt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.warehouses,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[ugt,(0,s._)("th",pgt,(0,lt.zw)(t.id),1),(0,s._)("td",ggt,(0,lt.zw)(t.name),1),(0,s._)("td",mgt,(0,lt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",hgt,[(0,s.Wm)(w,{warehouse:t},null,8,["warehouse"])])])))),128))])])]),(0,s._)("div",fgt,[(0,s._)("div",bgt,[xgt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,lt.zw)(t),9,vgt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",ygt,[(0,s._)("div",_gt,(0,lt.zw)(i.prevRange+1)+" - "+(0,lt.zw)(o.currentPage==i.pageCount?r.warehouses.length:i.nextRange)+" of "+(0,lt.zw)(r.warehouses.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(ot.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",kgt,(0,lt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Dgt={class:"tw-flex tw-items-center tw-gap-1"};function Sgt(t,e,r,a,l,o){const i=(0,s.up)("UpdateWarehouse"),w=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Dgt,[t.$can("update_warehouse")?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_warehouse")?((0,s.wg)(),(0,s.j4)(ot.T,{key:1,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[2]||(e[2]=t=>l.showUpdatePopup=!1),key:r.warehouse.id,warehouse:r.warehouse},null,8,["visible","warehouse"])),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this warehouse?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const Ugt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},zgt=(0,s._)("h1",{class:"tw-text-lg"},"Update Warehouse",-1),qgt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Pgt={class:"tw-w-full tw-col-span-12"},Lgt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Wgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Agt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},$gt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Egt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Tgt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Ugt,[zgt,(0,s._)("div",qgt,[(0,s._)("div",Pgt,[Lgt,(0,s.Wm)(nt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.Warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Wgt,(0,lt.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",Agt,[(0,s.Wm)(ot.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[$gt])),_:1}),(0,s.Wm)(ot.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Egt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var jgt={components:{},props:["warehouse","visible"],data(){return{isLoading:!1,isLoaded:!1,Warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ab.update(this.warehouse.id,this.Warehouse).then((t=>{"WAREHOUSE_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("warehouse/update",this.Warehouse),this.$emit("cancel")),"WAREHOUSE_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Lt(this.Warehouse.name,"Warehouse name"),this.formStatus.name.valid}},mounted(){this.Warehouse={...this.warehouse}}};const Fgt=(0,g.Z)(jgt,[["render",Tgt]]);var Vgt=Fgt,Igt={components:{UpdateWarehouse:Vgt},props:["rowIndex","warehouse"],name:"warehouseActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Ab["delete"](this.warehouse.id).then((t=>{"WAREHOUSE_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Warehouse Deleted Successfully"}),this.$store.dispatch("warehouse/delete",this.warehouse.id))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Ogt=(0,g.Z)(Igt,[["render",Sgt]]);var Hgt=Ogt,Mgt={props:["columns","warehouses"],components:{WarehouseActions:Hgt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.warehouses.length/this.paginationLimit)},items(){return this.warehouses.slice(this.prevRange,this.nextRange)}},methods:{}};const Rgt=(0,g.Z)(Mgt,[["render",Cgt]]);var Ngt=Rgt;const Ygt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Zgt=(0,s._)("h1",{class:"tw-text-lg"},"Create Warehouse",-1),Kgt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Bgt={class:"tw-w-full tw-col-span-12"},Qgt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Jgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ggt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Xgt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),tmt=(0,s._)("span",{class:"text-white"}," Create ",-1);function emt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Ygt,[Zgt,(0,s._)("div",Kgt,[(0,s._)("div",Bgt,[Qgt,(0,s.Wm)(nt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Jgt,(0,lt.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",Ggt,[(0,s.Wm)(ot.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Xgt])),_:1}),(0,s.Wm)(ot.T,{loading:l.isLoading,onClick:o.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[tmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var rmt={props:["visible"],components:{},data(){return{isLoading:!1,warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.warehouse;Ab.create(t).then((t=>{if("WAREHOUSE_CREATED"==t.data.code){this.$alert({type:"success",title:t.data.message});const e=t.data.data.warehouse;this.$store.dispatch("warehouse/addWarehouse",e),this.$emit("cancel"),this.warehouse={name:""}}"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Lt(this.warehouse.name,"Warehouse name"),this.formStatus.name.valid}}};const amt=(0,g.Z)(rmt,[["render",emt]]);var smt=amt,lmt={components:{WarehousesTable:Ngt,AddWarehouse:smt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{warehouses(){return this.$store.getters["warehouse/warehouses"]},filteredWarehouses(){const t=this.date;return this.warehouses.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){Ab.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const omt=(0,g.Z)(lmt,[["render",ogt]]);var imt=omt,wmt={name:"warehouses",path:"/warehouses",component:Sa,meta:{module:"warehouse"},children:[{name:"warehouse/list",path:"",component:imt,meta:{module:"warehouse",subModule:"warehouse/list",title:"Warehouse List",gate:"show_all_warehouses"}}]};const nmt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Factorisation List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your factorisations")])],-1),dmt={key:0},cmt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},umt={class:"mb-5 tw-flex"},pmt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},gmt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},mmt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},hmt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),fmt={class:"tw-relative"},bmt={class:""};function xmt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("FactorisationsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.factorisations.length},[nmt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dmt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",cmt,[(0,s._)("div",umt,[(0,s.Wm)(ot.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",pmt,[(0,s.Wm)(ae.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,lt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",gmt,[(0,s._)("div",mmt,[hmt,(0,s._)("div",fmt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",bmt,[(0,s.Wm)(n,{columns:i.columns,factorisations:i.filteredFactorisations},null,8,["columns","factorisations"])])])):(0,s.kq)("",!0)])}const vmt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},ymt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},_mt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},kmt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Cmt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Dmt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Smt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Umt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),zmt=["value"],qmt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Pmt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Lmt={class:"tw-text-white"};function Wmt(t,e,r,l,o,i){const w=(0,s.up)("FactorisationRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vmt,[(0,s._)("table",ymt,[(0,s._)("thead",_mt,[(0,s._)("tr",null,[kmt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Cmt,(0,lt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.factorisations,(t=>((0,s.wg)(),(0,s.j4)(w,{factorisation:t,key:t.id},null,8,["factorisation"])))),128))])])]),(0,s._)("div",Dmt,[(0,s._)("div",Smt,[Umt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,lt.zw)(t),9,zmt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",qmt,[(0,s._)("div",Pmt,(0,lt.zw)(i.prevRange+1)+" - "+(0,lt.zw)(o.currentPage==i.pageCount?r.factorisations.length:i.nextRange)+" of "+(0,lt.zw)(r.factorisations.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(ot.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Lmt,(0,lt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Amt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},$mt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Emt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Tmt={class:"tw-px-6 tw-py-4"},jmt={key:0,class:"tw-px-6 tw-py-4"},Fmt={key:0},Vmt={key:1},Imt={class:"tw-px-6 tw-py-4"},Omt={key:0},Hmt={key:1},Mmt={class:"tw-px-6 tw-py-4"},Rmt={class:"tw-px-6 tw-py-4"},Nmt=(0,s._)("td",{class:"tw-px-6 tw-py-4"},[(0,s._)("div",null," Payment Method ")],-1),Ymt={class:"tw-px-6 tw-py-4"},Zmt={class:"tw-px-6 tw-py-4"},Kmt={key:1,class:"tw-px-6 tw-py-4"},Bmt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Qmt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Jmt=["disabled"],Gmt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Xmt={key:2,class:"tw-px-6 tw-py-4"},tht={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},eht={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},rht=["disabled"],aht=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),sht={class:"tw-px-6 tw-py-4"},lht={key:3,class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function oht(t,e,r,l,o,i){const w=(0,s.up)("FactorisationActions");return(0,s.wg)(),(0,s.iD)("tr",Amt,[$mt,(0,s._)("th",Emt,(0,lt.zw)(r.factorisation.id),1),(0,s._)("td",Tmt,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>i.download(r.factorisation.id))},(0,lt.zw)(r.factorisation.factorisation_id),1)]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",jmt,[r.factorisation.delivery?((0,s.wg)(),(0,s.iD)("span",Fmt,(0,lt.zw)(i.deliveryName),1)):((0,s.wg)(),(0,s.iD)("span",Vmt,"-"))])):(0,s.kq)("",!0),(0,s._)("td",Imt,[r.factorisation.seller?((0,s.wg)(),(0,s.iD)("span",Omt,(0,lt.zw)(i.sellerName),1)):((0,s.wg)(),(0,s.iD)("span",Hmt,"-"))]),(0,s._)("td",Mmt,(0,lt.zw)(r.factorisation.commands_number),1),(0,s._)("td",Rmt,(0,lt.zw)(r.factorisation.price),1),Nmt,(0,s._)("td",Ymt,(0,lt.zw)(r.factorisation.close_at?.split("T")[0]),1),(0,s._)("td",Zmt,(0,lt.zw)(r.factorisation.paid_at?.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Kmt,[(0,s._)("div",Bmt,[(0,s._)("label",Qmt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[1]||(e[1]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Jmt),[[a.e8,i.close]]),Gmt]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Xmt,[(0,s._)("div",tht,[(0,s._)("label",eht,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[2]||(e[2]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,rht),[[a.e8,i.paid]]),aht]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",sht,(0,lt.zw)(r.factorisation.created_at.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",lht,[(0,s.Wm)(w,{factorisation:r.factorisation},null,8,["factorisation"])])):(0,s.kq)("",!0)])}const iht={class:"tw-flex tw-items-center tw-gap-1"};function wht(t,e,r,a,l,o){const i=(0,s.up)("UpdateFactorisation"),w=(0,s.up)("UpdateComment"),n=(0,s.up)("UpdateFees"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",iht,[t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdateCommentPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(ot.T,{key:1,onClick:e[1]||(e[1]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_factorisation")?((0,s.wg)(),(0,s.j4)(ot.T,{key:2,onClick:e[2]||(e[2]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")&&"seller"==this.factorisation.type?((0,s.wg)(),(0,s.j4)(ot.T,{key:3,onClick:e[3]||(e[3]=t=>l.showUpdateFeesPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-format-list-text")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[4]||(e[4]=t=>l.showUpdatePopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(w,{visible:l.showUpdateCommentPopup,onCancel:e[5]||(e[5]=t=>l.showUpdateCommentPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(n,{visible:l.showUpdateFeesPopup,onCancel:e[6]||(e[6]=t=>l.showUpdateFeesPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this factorisation?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const nht={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},dht=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),cht={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},uht={class:"tw-w-full tw-col-span-6"},pht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),ght={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},mht={class:"tw-w-full tw-col-span-6"},hht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),fht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},bht={class:"tw-w-full tw-col-span-6"},xht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),vht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},yht={class:"tw-w-full tw-col-span-6"},_ht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),kht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Cht={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Dht=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Sht=(0,s._)("span",{class:"text-white"}," Update ",-1);function Uht(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[9]||(e[9]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",nht,[dht,(0,s._)("div",cht,[(0,s._)("div",uht,[pht,(0,s.Wm)(nt.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.Factorisation.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Factorisation.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ght,(0,lt.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",mht,[hht,(0,s.Wm)(nt.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",fht,(0,lt.zw)(l.formStatus.delivery_id.message),1)]),(0,s._)("div",bht,[xht,(0,s.Wm)(nt.hw,{error:!l.formStatus.price.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("price")),"hide-details":!0,modelValue:l.Factorisation.price,"onUpdate:modelValue":e[5]||(e[5]=t=>l.Factorisation.price=t),disabled:!0,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",vht,(0,lt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",yht,[_ht,(0,s.Wm)(nt.hw,{error:!l.formStatus.commands_number.valid,disabled:!0,onKeyup:e[6]||(e[6]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:l.Factorisation.commands_number,"onUpdate:modelValue":e[7]||(e[7]=t=>l.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",kht,(0,lt.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",Cht,[(0,s.Wm)(ot.T,{onClick:e[8]||(e[8]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Dht])),_:1}),(0,s.Wm)(ot.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Sht])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var zht={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{factorisation_id:"",delivery_id:0,price:0,commands_number:0,note:""},formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.Factorisation.delivery.firstname+" "+this.Factorisation.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Me.update(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Lt(this.Factorisation.factorisation_id,"Factorisation Code"),this.formStatus.price=Wt(this.Factorisation.price,"Factorisation Price"),this.formStatus.commands_number=Wt(this.Factorisation.commands_number,"Factorisation Nb Commands"),this.formStatus.factorisation_id.valid&&this.formStatus.price.valid&&this.formStatus.commands_number.valid}},mounted(){this.Factorisation={...this.factorisation}}};const qht=(0,g.Z)(zht,[["render",Uht]]);var Pht=qht;const Lht={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Wht=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Aht={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},$ht={class:"tw-w-full tw-col-span-6"},Eht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Tht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},jht={class:"tw-w-full tw-col-span-6"},Fht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Vht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Iht={class:"tw-w-full tw-col-span-12"},Oht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),Hht=["error"],Mht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Rht={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Nht=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Yht=(0,s._)("span",{class:"text-white"}," Update ",-1);function Zht(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[7]||(e[7]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Lht,[Wht,(0,s._)("div",Aht,[(0,s._)("div",$ht,[Eht,(0,s.Wm)(nt.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.Factorisation.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Factorisation.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Tht,(0,lt.zw)(o.formStatus.price.message),1)]),(0,s._)("div",jht,[Fht,(0,s.Wm)(nt.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.Factorisation.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Vht,(0,lt.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",Iht,[Oht,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.Factorisation.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n            ",40,Hht),[[a.nr,o.Factorisation.comment]]),(0,s._)("div",Mht,(0,lt.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Rht,[(0,s.Wm)(ot.T,{onClick:e[6]||(e[6]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Nht])),_:1}),(0,s.Wm)(ot.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Yht])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Kht={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Me.updateComment(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Lt(this.Factorisation.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Bht=(0,g.Z)(Kht,[["render",Zht]]);var Qht=Bht;const Jht={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Ght=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),Xht={class:"tw-w-full tw-col-span-6"},tft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),eft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rft={class:"tw-w-full tw-col-span-6"},aft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),sft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},lft={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},oft=["onClick"],ift=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),wft={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},nft=(0,s._)("span",{class:"tw-text-white"},"Add",-1),dft={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},cft=(0,s._)("span",{class:"text-white"}," Cancel ",-1),uft=(0,s._)("span",{class:"text-white"}," Update ",-1);function pft(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Jht,[Ght,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",Xht,[tft,(0,s.Wm)(nt.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",eft,(0,lt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",rft,[aft,(0,s.Wm)(nt.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",sft,(0,lt.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",lft,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(wt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),ift],8,oft)])])])))),128)),(0,s._)("div",wft,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(wt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),nft])]),(0,s._)("div",dft,[(0,s.Wm)(ot.T,{onClick:e[3]||(e[3]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[cft])),_:1}),(0,s.Wm)(ot.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[uft])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var gft={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Me.updateFees(this.factorisation.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.Factorisation={...this.factorisation},this.fees=JSON.parse(JSON.stringify(this.factorisation.fees))}};const mft=(0,g.Z)(gft,[["render",pft]]);var hft=mft,fft={components:{UpdateFactorisation:Pht,UpdateComment:Qht,UpdateFees:hft},props:["rowIndex","factorisation"],name:"factorisationActions",data(){return{showPopup:!1,isLoading:!1,showUpdateCommentPopup:!1,showUpdateFeesPopup:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Me["delete"](this.factorisation.id).then((t=>{"FACTORISATION_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Factorisation Deleted Successfully"}),this.$store.dispatch("factorisation/delete",this.factorisation.id)),"DELETE_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const bft=(0,g.Z)(fft,[["render",wht]]);var xft=bft,vft={props:["factorisation"],components:{FactorisationActions:xft},data(){return{isLoadingPaid:!1,isLoadingClose:!1}},computed:{deliveryName:{get(){return this.factorisation.delivery.firstname+" "+this.factorisation.delivery.lastname},set(t){console.log(t)}},sellerName:{get(){return this.factorisation.seller.firstname+" "+this.factorisation.seller.lastname},set(t){console.log(t)}},paid:{get(){return 1==this.factorisation.paid},set(t){this.updatePaid(t)}},close:{get(){return 1==this.factorisation.close},set(t){this.updateClose(t)}},user(){return this.$store.getters["user/user"]}},methods:{updatePaid(t){this.isLoadingPaid=!0,Me.updatePaid(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))},updateClose(t){this.isLoadingClose=!0,Me.updateClose(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))},download(t){const e=n+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const yft=(0,g.Z)(vft,[["render",oht]]);var _ft=yft,kft={props:["columns","factorisations"],components:{FactorisationRow:_ft},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.factorisations.length/this.paginationLimit)},items(){return this.factorisations.slice(this.prevRange,this.nextRange)}},methods:{}};const Cft=(0,g.Z)(kft,[["render",Wmt]]);var Dft=Cft,Sft={components:{FactorisationsTable:Dft},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,userColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"payment_method",name:"Payment Method"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"created_at",name:"Created at"}],adminColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"delivery_id",name:"Delivery"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"close",name:"Close"},{prop:"paid",name:"Paid"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{user(){return this.$store.getters["user/user"]},columns(){return"admin"==this.user.role?this.adminColumns:this.userColumns},factorisations(){return this.$store.getters["factorisation/factorisations"]},filteredFactorisations(){const t=this.date;return this.factorisations.filter((e=>!t||e?.created_at.split("T")[0]===t))}},mounted(){Me.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("factorisation/setFactorisations",t.data.data.factorisations)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Uft=(0,g.Z)(Sft,[["render",xmt]]);var zft=Uft;const qft={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Pft={class:"tw-px-3"},Lft={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Wft={class:"tw-flex tw-items-center tw-gap-x-3"},Aft=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Factorisation",-1),$ft={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Eft={key:0};function Tft(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",qft,[(0,s._)("section",Pft,[(0,s._)("div",Lft,[(0,s._)("div",null,[(0,s._)("div",Wft,[Aft,(0,s._)("span",$ft,(0,lt.zw)(l.totalOrders),1)])])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,"per-page":l.per_page,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","per-page","loading"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,"withdrawal-methods":l.withdrawal_methods,"is-withdrawal-methods-fetched":l.is_withdrawal_methods_fetched,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","withdrawal-methods","is-withdrawal-methods-fetched","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Eft)):(0,s.kq)("",!0)])}const jft={class:"tw-flex tw-flex-col tw-mt-5"},Fft={class:"tw-overflow-x-auto"},Vft={class:"tw-inline-block tw-min-w-full tw-align-middle"},Ift={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Oft={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Hft={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},Mft=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-w-fit tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID ",-1),Rft={key:1,scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Nft=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Orders ",-1),Yft=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),Zft=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Payment Method ",-1),Kft={key:2,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Bft=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Closed At ",-1),Qft=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid At ",-1),Jft={key:3,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Gft={key:4,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Xft={key:6,scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},tbt=(0,s._)("span",{class:"tw-sr-only"},"Actions",-1),ebt=[tbt],rbt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},abt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},sbt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Factorisation was found ! ")])],-1),lbt=[sbt],obt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},ibt={colspan:"11"},wbt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},nbt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),dbt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),cbt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),ubt=[dbt,cbt],pbt={class:"tw-mt-6"};function gbt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jft,[(0,s._)("div",Fft,[(0,s._)("div",Vft,[(0,s._)("div",Ift,[(0,s._)("table",Oft,[(0,s._)("thead",Hft,[(0,s._)("tr",null,[(0,s.kq)("",!0),Mft,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Rft," User ")):(0,s.kq)("",!0),Nft,Yft,Zft,"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Kft," Status ")):(0,s.kq)("",!0),Bft,Qft,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Jft," Close ")):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Gft," Paid ")):(0,s.kq)("",!0),(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Xft,ebt)):(0,s.kq)("",!0)])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",rbt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(a=>((0,s.wg)(),(0,s.j4)(i,{"withdrawal-methods":r.withdrawalMethods,"is-withdrawal-methods-fetched":r.isWithdrawalMethodsFetched,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:a.id,item:a},null,8,["withdrawal-methods","is-withdrawal-methods-fetched","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",abt,lbt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",obt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",ibt,[(0,s._)("div",wbt,[nbt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},ubt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",pbt,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const mbt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},hbt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},fbt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},bbt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},xbt=["disabled"],vbt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),ybt=(0,s._)("span",null," previous ",-1),_bt=[vbt,ybt],kbt=["disabled"],Cbt=(0,s._)("span",null," Next ",-1),Dbt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Sbt=[Cbt,Dbt];function Ubt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",mbt,[(0,s._)("div",hbt,[(0,s.Uk)(" Page "),(0,s._)("span",fbt,(0,lt.zw)(r.currentPage)+" of "+(0,lt.zw)(r.lastPage),1)]),(0,s._)("div",bbt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,lt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},_bt,10,xbt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,lt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Sbt,10,kbt)])])])}var zbt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const qbt=(0,g.Z)(zbt,[["render",Ubt]]);var Pbt=qbt;const Lbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-w-fit"},Wbt={key:1,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Abt={key:0,class:"tw-flex tw-items-center tw-gap-2"},$bt=(0,s._)("div",{title:"Delivery",class:"tw-text-sm tw-w-[24px] tw-rounded tw-aspect-square tw-bg-cyan-100 tw-text-cyan-500 tw-flex tw-items-center tw-justify-center"}," D ",-1),Ebt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Tbt={key:1,class:"tw-flex tw-items-center tw-gap-2"},jbt=(0,s._)("div",{title:"Seller",class:"tw-text-sm tw-w-[24px] tw-rounded tw-aspect-square tw-bg-orange-100 tw-text-orange-500 tw-flex tw-items-center tw-justify-center"}," S ",-1),Fbt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Vbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ibt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-text-center tw-font-[cairo]"},Obt={key:0},Hbt={key:1},Mbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Rbt={class:"tw-text-emerald-500 tw-text-end tw-font-semibold darkx:tw-text-white tw-font-[cairo]"},Nbt={key:0},Ybt={key:1},Zbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Kbt={key:0},Bbt={key:0},Qbt={key:1},Jbt={key:2,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Gbt={key:0,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-blue-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},Xbt={key:1,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-yellow-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},txt={key:2,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-emerald-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},ext={class:"tw-px-8 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},rxt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},axt={key:0},sxt={key:0},lxt={key:1},oxt={class:"tw-px-8 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ixt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},wxt={key:0},nxt={key:0},dxt={key:1},cxt={key:3,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uxt={key:4,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},pxt={key:0},gxt={key:6,class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function mxt(t,e,r,a,l,o){const i=(0,s.up)("PdfFactorisation"),w=(0,s.up)("WithdrawalMethodSeller"),n=(0,s.up)("WithdrawalMethodAdmin"),d=(0,s.up)("CloseFactorisation"),c=(0,s.up)("PaidFactorisation"),u=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Lbt,[(0,s._)("div",null,[(0,s.Wm)(i,{item:r.item},null,8,["item"])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Wbt,["delivery"==r.item.type?((0,s.wg)(),(0,s.iD)("div",Abt,[$bt,(0,s._)("h2",Ebt,(0,lt.zw)(r.item.delivery.firstname)+" "+(0,lt.zw)(r.item.delivery.lastname),1)])):(0,s.kq)("",!0),"seller"==r.item.type?((0,s.wg)(),(0,s.iD)("div",Tbt,[jbt,(0,s._)("h2",Fbt,(0,lt.zw)(r.item.seller.firstname)+" "+(0,lt.zw)(r.item.seller.lastname),1)])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("td",Vbt,[(0,s._)("div",null,[(0,s._)("h2",Ibt,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",Obt,(0,lt.zw)(r.item.seller_order_count),1)):((0,s.wg)(),(0,s.iD)("span",Hbt,(0,lt.zw)(r.item.delivery_order_count),1))])])]),(0,s._)("td",Mbt,[(0,s._)("div",null,[(0,s._)("h2",Rbt,[(0,s.Uk)((0,lt.zw)(l.currency)+" ",1),"seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",Nbt,(0,lt.zw)(r.item.seller_order_price),1)):((0,s.wg)(),(0,s.iD)("span",Ybt,(0,lt.zw)(r.item.delivery_order_price),1))])])]),(0,s._)("td",Zbt,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("div",Kbt,["seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",Bbt,[(0,s.Wm)(w,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),factorisation:r.item,"withdrawal-methods":r.withdrawalMethods,"is-withdrawal-methods-fetched":r.isWithdrawalMethodsFetched},null,8,["factorisation","withdrawal-methods","is-withdrawal-methods-fetched"])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",Qbt,[(0,s.Wm)(n,{factorisation:r.item,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["factorisation"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Jbt,[(0,s._)("div",null,[r.item.close||r.item.paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Gbt," Active ")),r.item.close&&!r.item.paid?((0,s.wg)(),(0,s.iD)("div",Xbt," Prending ")):(0,s.kq)("",!0),r.item.close&&r.item.paid?((0,s.wg)(),(0,s.iD)("div",txt," Paid ")):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",ext,[(0,s._)("div",null,[(0,s._)("h2",rxt,[r.item.close_at?((0,s.wg)(),(0,s.iD)("span",axt,[(0,s._)("p",null,(0,lt.zw)(l.moment(r.item.close_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",sxt,(0,lt.zw)(l.moment(r.item.close_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",lxt," - "))])])]),(0,s._)("td",oxt,[(0,s._)("div",null,[(0,s._)("h2",ixt,[r.item.paid_at?((0,s.wg)(),(0,s.iD)("span",wxt,[(0,s._)("p",null,(0,lt.zw)(l.moment(r.item.paid_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",nxt,(0,lt.zw)(l.moment(r.item.paid_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",dxt," - "))])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",cxt,[(0,s._)("div",null,[((0,s.wg)(),(0,s.j4)(d,{item:r.item,key:r.item.id,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["item"]))])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",uxt,[r.item.close?((0,s.wg)(),(0,s.iD)("div",pxt,[((0,s.wg)(),(0,s.j4)(c,{item:r.item,key:r.item.id,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e))},null,8,["item"]))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",gxt,[(0,s._)("div",null,[(0,s.Wm)(u,{onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])):(0,s.kq)("",!0)])}const hxt={class:"tw-h-full"},fxt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-end tw-relative"},bxt={key:0,class:"tw-absolute tw-right-0 tw-z-10"},xxt={class:"tw-absolute tw-top-1/2 -tw-translate-y-1/2 tw-right-10 tw-bg-white tw-border tw-border-solid tw-p-2 tw-rounded tw-flex tw-items-center tw-gap-2"},vxt=["href"],yxt={key:0},_xt={key:1},kxt={key:2},Cxt={key:3};function Dxt(t,e,r,l,o,i){const w=(0,s.up)("icon"),n=(0,s.up)("TableActionsUploadImage"),d=(0,s.up)("CommentFactorisation"),c=(0,s.up)("UpdateFactorisation"),u=(0,s.up)("UpdateFees"),p=(0,s.up)("FactorisationHistory");return(0,s.wg)(),(0,s.iD)("div",hxt,[(0,s._)("div",fxt,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-x-[10px]  tw-opacity-0","leave-to-class":"tw-translate-x-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[o.visible?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",bxt,[(0,s._)("div",xxt,["admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show history",onClick:e[0]||(e[0]=t=>o.HistoryPopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-teal-100 hover:tw-border-teal-400 tw-bg-teal-50/10 hover:tw-bg-teal-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"uim:history",class:"tw-text-xl tw-text-teal-500"})])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("a",{key:1,title:"Download Excel File",target:"_blank",href:o.serverUrl+"api/export/factorisations/"+r.item.factorisation_id,class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-green-100 hover:tw-border-green-400 tw-bg-green-50/10 hover:tw-bg-green-200 tw-duration-200"},[(0,s.Wm)(w,{icon:"vscode-icons:file-type-excel",class:"tw-text-xl"})],8,vxt)):(0,s.kq)("",!0),(t.$user.role,(0,s.kq)("",!0)),(t.$user.role,(0,s.kq)("",!0)),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:4,title:"Delete",onClick:e[3]||(e[3]=t=>o.DeletePopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-rose-100 hover:tw-border-rose-400 tw-bg-rose-50/10 hover:tw-bg-rose-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"solar:trash-bin-trash-bold-duotone",class:"tw-text-xl tw-text-rose-500"})])):(0,s.kq)("",!0)])])),[[se.L,()=>o.visible=!1]]):(0,s.kq)("",!0)])),_:1}),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Add fees",onClick:e[4]||(e[4]=t=>o.FeesPopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-emerald-100 hover:tw-border-emerald-400 tw-bg-emerald-50/10 hover:tw-bg-emerald-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"solar:bill-list-bold-duotone",class:"tw-text-xl tw-text-emerald-500"})])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(n,{title:"Upload image",onUpdate:e[5]||(e[5]=e=>t.$emit("update",e)),key:r.item.id,item:r.item},null,8,["item"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[6]||(e[6]=t=>o.visible=!o.visible),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-gray-100 hover:tw-border-gray-400 tw-bg-gray-50/10 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(w,{icon:o.visible?"iconamoon:close-duotone":"solar:menu-dots-bold",class:"tw-text-xl tw-text-gray-500"},null,8,["icon"])])):(0,s.kq)("",!0),(0,s.kq)("",!0)]),o.CommentPopup?((0,s.wg)(),(0,s.iD)("div",yxt,[((0,s.wg)(),(0,s.j4)(d,{onUpdate:e[11]||(e[11]=e=>t.$emit("update",e)),visible:o.CommentPopup,"onUpdate:visible":e[12]||(e[12]=t=>o.CommentPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.popup?((0,s.wg)(),(0,s.iD)("div",_xt,[((0,s.wg)(),(0,s.j4)(c,{onUpdate:e[13]||(e[13]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[14]||(e[14]=t=>o.popup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.FeesPopup?((0,s.wg)(),(0,s.iD)("div",kxt,[((0,s.wg)(),(0,s.j4)(u,{onUpdate:e[15]||(e[15]=e=>t.$emit("update",e)),visible:o.FeesPopup,"onUpdate:visible":e[16]||(e[16]=t=>o.FeesPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.HistoryPopup?((0,s.wg)(),(0,s.iD)("div",Cxt,[(0,s.Wm)(p,{visible:o.HistoryPopup,"onUpdate:visible":e[17]||(e[17]=t=>o.HistoryPopup=t),factorisation:r.item},null,8,["visible","factorisation"])])):(0,s.kq)("",!0)])}const Sxt={key:0},Uxt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},zxt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),qxt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Pxt={class:"tw-w-full tw-col-span-6"},Lxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Wxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Axt={class:"tw-w-full tw-col-span-6"},$xt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Ext={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Txt={class:"tw-w-full tw-col-span-12"},jxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),Fxt=["error"],Vxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ixt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Oxt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Hxt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Mxt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return o.itemCopy?((0,s.wg)(),(0,s.iD)("div",Sxt,[(0,s.Wm)(w,{onCancel:e[7]||(e[7]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Uxt,[zxt,(0,s._)("div",qxt,[(0,s._)("div",Pxt,[Lxt,(0,s.Wm)(nt.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.itemCopy.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.itemCopy.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Wxt,(0,lt.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Axt,[$xt,(0,s.Wm)(nt.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.itemCopy.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.itemCopy.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ext,(0,lt.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",Txt,[jxt,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.itemCopy.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",40,Fxt),[[a.nr,o.itemCopy.comment]]),(0,s._)("div",Vxt,(0,lt.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Ixt,[(0,s.Wm)(ot.T,{onClick:e[6]||(e[6]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Oxt])),_:1}),(0,s.Wm)(ot.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Hxt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Rxt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Me.updateComment(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Lt(this.itemCopy.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const Nxt=(0,g.Z)(Rxt,[["render",Mxt]]);var Yxt=Nxt;const Zxt={key:0},Kxt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Bxt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),Qxt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Jxt={class:"tw-w-full tw-col-span-6"},Gxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Xxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},tvt={class:"tw-w-full tw-col-span-6"},evt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),rvt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},avt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},svt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),lvt=(0,s._)("span",{class:"text-white"}," Update ",-1);function ovt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",Zxt,[(0,s.Wm)(i,{onCancel:e[5]||(e[5]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Kxt,[Bxt,(0,s._)("div",Qxt,[(0,s._)("div",Jxt,[Gxt,(0,s.Wm)(nt.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.itemCopy.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.itemCopy.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Xxt,(0,lt.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",tvt,[evt,(0,s.Wm)(nt.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rvt,(0,lt.zw)(l.formStatus.delivery_id.message),1)])]),(0,s._)("div",avt,[(0,s.Wm)(ot.T,{onClick:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[svt])),_:1}),(0,s.Wm)(ot.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[lvt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var ivt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.itemCopy.delivery.firstname+" "+this.itemCopy.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Me.update(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Lt(this.itemCopy.factorisation_id,"Factorisation Code"),this.formStatus.factorisation_id.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const wvt=(0,g.Z)(ivt,[["render",ovt]]);var nvt=wvt;const dvt={key:0},cvt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},uvt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),pvt={class:"tw-w-full tw-col-span-6"},gvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),mvt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},hvt={class:"tw-w-full tw-col-span-6"},fvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),bvt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xvt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},vvt=["onClick"],yvt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),_vt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},kvt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Cvt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Dvt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Svt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Uvt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",dvt,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",cvt,[uvt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",pvt,[gvt,(0,s.Wm)(nt.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",mvt,(0,lt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",hvt,[fvt,(0,s.Wm)(nt.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",bvt,(0,lt.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",xvt,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(wt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),yvt],8,vvt)])])])))),128)),(0,s._)("div",_vt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(wt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),kvt])]),(0,s._)("div",Cvt,[(0,s.Wm)(ot.T,{onClick:e[3]||(e[3]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Dvt])),_:1}),(0,s.Wm)(ot.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Svt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var zvt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Me.updateFees(this.itemCopy.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$emit("update",this.itemCopy),this.$emit("update:visible",!1)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.fees=this.itemCopy.fees??[]}};const qvt=(0,g.Z)(zvt,[["render",Uvt]]);var Pvt=qvt;const Lvt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-3 tw-h-3 tw-bg-neutral-100 tw-rounded-full -tw-left-1.5 tw-translate-y-1.5 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),Wvt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},Avt={class:"tw-text-gray-500 tw-flex tw-items-center tw-gap-2 tw-mb-2"},$vt={class:"tw-text-black tw-font-semibold tw-capitalize"},Evt={class:"tw-uppercase tw-text-xs"},Tvt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600 tw-w-full"},jvt={key:0,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},Fvt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},Vvt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},Ivt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},Ovt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},Hvt={key:1,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},Mvt={class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},Rvt={class:"tw-font-semibold tw-text-emerald-600 dark:tw-text-emerald-500 hover:tw-underline"},Nvt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-cyan-100 dark:tw-text-cyan-500"},Yvt={key:2,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},Zvt={class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},Kvt={class:"tw-font-semibold tw-text-emerald-600 dark:tw-text-emerald-500 hover:tw-underline"},Bvt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-cyan-100 dark:tw-text-cyan-500"};var Qvt={__name:"FactorisationHistoryForFee",props:["history"],setup(t){const e=t,r=["event","factorisation_fee:factorisation_id","factorisation_fee:id"],a=(0,ve.Vh)(e,"history"),l=(0,ve.iH)(a.value.fields.find((t=>"event"==t.field))),o=(0,ve.iH)(a.value.fields.find((t=>"factorisation_fee:fee"==t.field)));console.log(a.value),console.log(o.value);const i={"factorisation_fee:feeprice":"Amount"},w={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[Lvt,(0,s._)("div",Wvt,[(0,s._)("p",Avt,[(0,s._)("span",$vt,(0,lt.zw)((0,ve.SU)(a).action_by),1),(0,s._)("span",Evt,"*"+(0,lt.zw)(l.value.new_value)+" FEE*",1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:e[0]||(e[0]=t=>(0,ve.SU)(a).isHovering=!0),onMouseleave:e[1]||(e[1]=t=>(0,ve.SU)(a).isHovering=!1)},(0,lt.zw)((0,ve.SU)(a).isHovering?(0,ve.SU)(Ce())((0,ve.SU)(a).created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ve.SU)(Ce())((0,ve.SU)(a).created_at).fromNow()),33)]),(0,s._)("div",Tvt,["updated"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",jvt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(a).fields.filter((t=>!r.includes(t.field))),(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[[].includes(t.field)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fvt,[(0,s.Uk)("Changed "),(0,s._)("span",Vvt,(0,lt.zw)(i[t.field]??t.field),1),(0,s.Uk)(" from "),(0,s._)("span",Ivt,(0,lt.zw)(t.field in w?w[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",Ovt,(0,lt.zw)(t.field in w?w[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])):(0,s.kq)("",!0),"created"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",Hvt,[(0,s._)("div",Mvt,[(0,s.Uk)("Added "),(0,s._)("span",Rvt,(0,lt.zw)((0,ve.SU)(a).fields.find((t=>"factorisation_fee:feeprice"==t.field))?.new_value)+(0,lt.zw)((0,ve.SU)(c)),1),(0,s.Uk)(" fee for "),(0,s._)("span",Nvt,(0,lt.zw)((0,ve.SU)(a).fields.find((t=>"factorisation_fee:feename"==t.field))?.new_value),1)])])):(0,s.kq)("",!0),"deleted"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",Yvt,[(0,s._)("div",Zvt,[(0,s.Uk)("Deleted "),(0,s._)("span",Kvt,(0,lt.zw)(o.value.new_value.feeprice)+(0,lt.zw)((0,ve.SU)(c)),1),(0,s.Uk)(" fee for "),(0,s._)("span",Bvt,(0,lt.zw)(o.value.new_value.feename),1)])])):(0,s.kq)("",!0)])]))}};const Jvt=Qvt;var Gvt=Jvt;const Xvt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},tyt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},eyt=(0,s._)("span",null,"History",-1),ryt={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},ayt={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},syt={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},lyt={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},oyt={key:1},iyt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-3 tw-h-3 tw-bg-neutral-100 tw-rounded-full -tw-left-1.5 tw-translate-y-1.5 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),wyt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},nyt={class:"tw-text-gray-500"},dyt={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},cyt=["onMouseenter","onMouseleave"],uyt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600 tw-w-full"},pyt={class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},gyt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},myt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},hyt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},fyt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},byt={key:1,class:"tw-w-full"},xyt=(0,s._)("div",{class:"tw-items-center tw-justify-between sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300 tw-mb-2"},"Uploaded:")],-1),vyt={class:"tw-mx-auto tw-rounded tw-bg-gray-100 tw-overflow-hidden tw-flex tw-items-center tw-justify-center tw-border tw-border-solid tw-border-neutral-200 tw-relative"},yyt=["src"],_yt={class:"tw-absolute tw-bottom-4 tw-right-4 tw-flex tw-items-center tw-gap-2"},kyt=["href"],Cyt=(0,s._)("span",null,"View",-1),Dyt={key:2,class:"tw-w-full"},Syt={class:"tw-items-center tw-justify-between sm:tw-flex"},Uyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},zyt={key:3,class:"tw-w-full"},qyt={class:"tw-items-center tw-justify-between sm:tw-flex"},Pyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},Lyt={key:4,class:"tw-w-full tw-order-[10]"},Wyt={class:"tw-items-center tw-justify-between sm:tw-flex"},Ayt={class:"tw-text-sm tw-font-normal tw-text-gray-500 tw-mb-3 dark:tw-text-gray-300"},$yt={class:"tw-flex tw-flex-col"},Eyt={class:"tw-border-b-0 tw-border tw-border-solid tw-border-neutral-200 tw-bg-neutral-800 tw-text-white tw-grid tw-grid-cols-12 tw-divide-x"},Tyt=(0,s._)("div",{class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},"ID",-1),jyt=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-xs"},"CONFIRMATION",-1),Fyt=(0,s._)("div",{class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},"DELIVERY",-1),Vyt=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-xs"},"DELIVERED AT",-1),Iyt={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},Oyt={class:"tw-border tw-border-solid tw-border-neutral-200 tw-grid tw-grid-cols-12 tw-divide-x"},Hyt={class:"tw-col-span-2 tw-py-1 tw-px-2 tw-font-bold"},Myt={class:"tw-col-span-3 tw-py-1 tw-px-2"},Ryt={class:"tw-col-span-2 tw-py-1 tw-px-2"},Nyt={class:"tw-col-span-3 tw-py-1 tw-px-2 tw-text-center"},Yyt={class:"tw-col-span-2 tw-py-1 tw-px-2 tw-font-medium tw-text-end"},Zyt={class:"tw-text-black tw-grid tw-grid-cols-12"},Kyt=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),Byt=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"SHIPPING FEES",-1),Qyt={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},Jyt={class:"tw-text-black tw-grid tw-grid-cols-12"},Gyt=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),Xyt=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"COD FEES",-1),t_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},e_t={class:"tw-text-black tw-grid tw-grid-cols-12"},r_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),a_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"OTHER FEES",-1),s_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},l_t={class:"tw-text-black tw-grid tw-grid-cols-12"},o_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),i_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-end tw-font-bold tw-text-lg tw-text-emerald-600"},"TOTAL",-1),w_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-lg tw-font-bold tw-text-emerald-600 tw-text-end"},n_t={key:5,class:"tw-w-full"},d_t={class:"tw-items-center tw-justify-between sm:tw-flex"},c_t=(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300 tw-mb-3"},"Withdrawal Details:",-1),u_t={key:0,class:"tw-flex tw-items-center tw-gap-2"},p_t=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),g_t={key:1,class:"tw-flex tw-items-center tw-gap-2"},m_t=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),h_t={key:0,class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var f_t={__name:"FactorisationHistory",props:["visible","factorisation"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=["commands_number","type","price","paid_at","amount_paid","close_at","total_cod_fees","total_shipping_fees","total_other_fees","commands_number","price"],l=(0,s.Fl)((()=>Wn.reduce(((t,e)=>(t[e.value]=e.name,t)),{}))),o=(0,s.Fl)((()=>Tn.reduce(((t,e)=>(t[e.value]=e.name,t)),{}))),i={user_id:"Seller ID",factorisation_id:"ID",delivery_id:"Delivery ID",close:"Close",paid:"Paid",commands_number:"Order's number",type:"Type",price:"Amount",close_at:"Closed at",paid_at:"Paid at",comment:"Comment",note:"Note",withdrawal_method_id:"Withdrawal Method ID",attachement_image:"Attachement",orders:"Orders",withdrawal_method_details:"Withdrawal Details"},w={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}},n=(0,ve.Vh)(r,"visible"),d=(0,ve.Vh)(r,"factorisation"),u=(0,ve.iH)(!0),p=(0,ve.iH)([!0]),g=async()=>{u.value=!0,await Me.history(d.value.id).then((t=>{"SUCCESS"==t.data.code&&(p.value=t.data.data.history.filter((t=>t.fields.every((t=>!["commands_number","price"].includes(t.field))))),p.value.reverse())})),u.value=!1};return g(),(t,r)=>{const d=(0,s.up)("icon"),g=(0,s.up)("loading"),m=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(m,{visible:(0,ve.SU)(n),onCancel:r[1]||(r[1]=t=>e("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",Xvt,[(0,s._)("div",tyt,[eyt,(0,s._)("button",{onClick:r[0]||(r[0]=t=>e("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(d,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),u.value?((0,s.wg)(),(0,s.iD)("div",ryt,[(0,s.Wm)(g)])):(0,s.kq)("",!0),u.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ayt,[p.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",syt,"There is no history for this invoice yet.")),p.value.length?((0,s.wg)(),(0,s.iD)("ol",lyt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(p.value,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id,class:"tw-mb-10 tw-mx-6"},[e.fields.some((t=>t.field.includes("factorisation_fee:")))?((0,s.wg)(),(0,s.j4)((0,ve.SU)(Gvt),{key:0,history:e},null,8,["history"])):((0,s.wg)(),(0,s.iD)("div",oyt,[iyt,(0,s._)("div",wyt,[(0,s._)("p",nyt,[(0,s._)("span",dyt,(0,lt.zw)(e.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:t=>e.isHovering=!0,onMouseleave:t=>e.isHovering=!1},(0,lt.zw)(e.isHovering?(0,ve.SU)(Ce())(e.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ve.SU)(Ce())(e.created_at).fromNow()),41,cyt)]),(0,s._)("div",uyt,[(0,s._)("div",pyt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.fields.filter((t=>!a.includes(t.field))),(r=>((0,s.wg)(),(0,s.iD)(s.HY,{key:r.field},[["attachement_image","withdrawal_method_details","orders","paid","close"].includes(r.field)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",gyt,[(0,s.Uk)("Changed "),(0,s._)("span",myt,(0,lt.zw)(i[r.field]??r.field),1),(0,s.Uk)(" from "),(0,s._)("span",hyt,(0,lt.zw)(r.field in w?w[r.field][r.old_value]:r.old_value),1),(0,s.Uk)("to "),(0,s._)("span",fyt,(0,lt.zw)(r.field in w?w[r.field][r.new_value]:r.new_value),1)])),"attachement_image"==r.field&&r.new_value?((0,s.wg)(),(0,s.iD)("div",byt,[xyt,(0,s._)("div",vyt,[(0,s._)("img",{class:"tw-w-full tw-h-auto tw-max-w-[300px] tw-max-h-[300px] tw-object-contain",src:t.$backend(r.new_value.startsWith("/")?r.new_value.substring(1):r.new_value)},null,8,yyt),(0,s._)("div",_yt,[(0,s._)("a",{target:"_blank",href:t.$backend(r.new_value.startsWith("/")?r.new_value.substring(1):r.new_value),class:"tw-px-2 tw-py-1 tw-flex tw-items-center tw-gap-2 tw-rounded tw-bg-green-500 tw-text-white"},[(0,s.Wm)(d,{icon:"carbon:view-filled",class:"tw-text-white tw-text-2xl"}),Cyt],8,kyt)])])])):(0,s.kq)("",!0),"paid"==r.field?((0,s.wg)(),(0,s.iD)("div",Dyt,[(0,s._)("div",Syt,[(0,s._)("div",Uyt,[(0,s.Uk)("Marked this invoice as "),(0,s._)("span",{class:(0,lt.C_)([[r.new_value?"tw-text-green-600 tw-bg-green-50":"tw-text-amber-600 tw-bg-amber-50"],"tw-px-2 tw-py-0.5"])},(0,lt.zw)(r.new_value?"PAID":"UNPAID"),3)])])])):(0,s.kq)("",!0),"close"==r.field?((0,s.wg)(),(0,s.iD)("div",zyt,[(0,s._)("div",qyt,[(0,s._)("div",Pyt,[(0,s.Uk)("Marked this invoice as "),(0,s._)("span",{class:(0,lt.C_)([[r.new_value?"tw-text-rose-600 tw-bg-rose-50":"tw-text-green-600 tw-bg-green-50"],"tw-px-2 tw-py-0.5"])},(0,lt.zw)(r.new_value?"CLOSED":"OPEN"),3)])])])):(0,s.kq)("",!0),"orders"==r.field?((0,s.wg)(),(0,s.iD)("div",Lyt,[(0,s._)("div",Wyt,[(0,s._)("div",Ayt,"Orders: ("+(0,lt.zw)(r.new_value.length)+")",1),(0,s.kq)("",!0)]),(0,s._)("div",$yt,[(0,s._)("div",Eyt,[Tyt,jyt,Fyt,Vyt,(0,s._)("div",Iyt,"PRICE ("+(0,lt.zw)((0,ve.SU)(c))+")",1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.new_value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:""},[(0,s._)("div",Oyt,[(0,s._)("div",Hyt,(0,lt.zw)(t.id),1),(0,s._)("div",Myt,(0,lt.zw)((0,ve.SU)(l)[t.confirmation]??null),1),(0,s._)("div",Ryt,(0,lt.zw)((0,ve.SU)(o)[t.delivery]),1),(0,s._)("div",Nyt,(0,lt.zw)(t.delivery_date?.split("T")[0]??t.delivery_date),1),(0,s._)("div",Yyt,(0,lt.zw)(t.price),1)])])))),128)),(0,s._)("div",Zyt,[Kyt,Byt,(0,s._)("div",Qyt,(0,lt.zw)(e.fields.find((t=>"total_shipping_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",Jyt,[Gyt,Xyt,(0,s._)("div",t_t,(0,lt.zw)(e.fields.find((t=>"total_cod_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",e_t,[r_t,a_t,(0,s._)("div",s_t,(0,lt.zw)(e.fields.find((t=>"total_other_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",l_t,[o_t,i_t,(0,s._)("div",w_t,(0,lt.zw)((0,ve.SU)(c))+(0,lt.zw)(e.fields.find((t=>"amount_paid"==t.field))?.new_value??0),1)])])])):(0,s.kq)("",!0),"withdrawal_method_details"==r.field?((0,s.wg)(),(0,s.iD)("div",n_t,[(0,s._)("div",d_t,[c_t,"bank_transfer"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",u_t,[(0,s.Wm)(d,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),p_t])):(0,s.kq)("",!0),"binance"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",g_t,[(0,s.Wm)(d,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),m_t])):(0,s.kq)("",!0)]),"binance"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",h_t,(0,lt.zw)(r.new_value.metadata.binance_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)))),128))])])]))])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const b_t=f_t;var x_t=b_t;const v_t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},y_t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},__t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Upload image ",-1),k_t={class:"tw-p-5"},C_t=["id"],D_t={class:"tw-text-center tw-flex tw-items-center tw-justify-center tw-flex-col tw-gap-5"},S_t=(0,s._)("p",null,"Click to upload",-1),U_t={key:0,class:"tw-absolute tw-h-full tw-w-full tw-left-0 tw-top-0 tw-bg-white tw-flex tw-items-center tw-justify-center"},z_t=["src"],q_t={key:1,class:"tw-absolute tw-h-full tw-w-full tw-left-0 tw-top-0 tw-bg-white tw-flex tw-items-center tw-justify-center"},P_t=["src"],L_t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},W_t=["disabled"],A_t=["disabled"],$_t=(0,s._)("span",null,"Save",-1);var E_t={__name:"TableActionsUploadImage",props:["item"],emits:["update"],setup(t,{emit:e}){const r=t,a=(0,ve.iH)(!1),l=(0,ve.iH)(!1),o=(0,ve.iH)(null),i=(0,ve.iH)(""),w=async()=>{if(!o.value)return Pc("Add image to update","warning"),!1;l.value=!0;try{const t=new FormData;t.append("image",o.value);const s=await Me.uploadImage(r.item.id,t);if(console.log(s.data),"SUCCESS"==s.data.code){const t={...r.item,attachement_image:s.data.factorisation.attachement_image};e("update",t),Pc("Image attachement updated"),a.value=!1}}catch(t){console.error("Error uploading image:",t)}l.value=!1},n=()=>{document.getElementById("invoice-image-"+r.item.id).click()},d=t=>{t.target.files.length<=0||(o.value=t.target.files[0],i.value=URL.createObjectURL(o.value))};return(t,e)=>{const o=(0,s.up)("icon"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>a.value=!a.value),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-fuchsia-100 hover:tw-border-fuchsia-400 tw-bg-fuchsia-50/10 hover:tw-bg-fuchsia-100 tw-duration-200"},[(0,s.Wm)(o,{icon:"uim:image-v",class:"tw-text-xl tw-text-fuchsia-500"})]),(0,s.Wm)(c,{visible:a.value,onCancel:e[2]||(e[2]=t=>a.value=!1),closeable:!l.value},{default:(0,s.w5)((()=>[(0,s._)("div",v_t,[(0,s._)("div",y_t,[__t,(0,s._)("div",k_t,[(0,s._)("input",{onChange:d,ref:"image-field",type:"file",name:"image",id:"invoice-image-"+r.item.id,class:"tw-invisible"},null,40,C_t),(0,s._)("div",{role:"button",onClick:n,class:"tw-relative tw-min-h-[350px] tw-w-full tw-cursor-pointer tw-border tw-border-dashed hover:tw-border-orange-400 tw-duration-200 tw-rounded tw-flex tw-overflow-hidden tw-items-center tw-justify-center"},[(0,s._)("div",D_t,[(0,s.Wm)(o,{icon:"ep:upload-filled",class:"tw-text-7xl tw-text-neutral-500"}),S_t,r.item.attachement_image&&!i.value?((0,s.wg)(),(0,s.iD)("div",U_t,[(0,s._)("img",{class:"tw-w-full tw-h-full tw-object-contain",src:t.$backend(r.item.attachement_image.startsWith("/")?r.item.attachement_image.substring(1):r.item.attachement_image)},null,8,z_t)])):(0,s.kq)("",!0),i.value?((0,s.wg)(),(0,s.iD)("div",q_t,[(0,s._)("img",{class:"tw-w-full tw-h-full tw-object-contain",src:i.value},null,8,P_t)])):(0,s.kq)("",!0),(0,s.kq)("",!0)])])]),(0,s._)("div",L_t,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>a.value=!1),disabled:l.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,W_t),(0,s._)("button",{disabled:l.value,onClick:w,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),$_t],8,A_t)])])])])),_:1},8,["visible","closeable"])])}}};const T_t=E_t;var j_t=T_t,F_t={components:{CommentFactorisation:Yxt,UpdateFactorisation:nvt,UpdateFees:Pvt,TableActionsUploadImage:j_t,FactorisationHistory:x_t},props:{item:{required:!0}},data(){return{CommentPopup:!1,HistoryPopup:!1,popup:!1,DeletePopup:!1,FeesPopup:!1,isLoading:!1,visible:!1,serverUrl:n}},computed:{},methods:{}};const V_t=(0,g.Z)(F_t,[["render",Dxt]]);var I_t=V_t;const O_t={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},H_t={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},M_t=["disabled"],R_t=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function N_t(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",O_t,[(0,s._)("label",H_t,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[0]||(e[0]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,M_t),[[a.e8,i.close]]),R_t]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var Y_t={props:{item:{required:!0}},data(){return{isLoadingClose:!1}},computed:{close:{get(){return this.item.close},set(t){this.updateClose(t)}}},methods:{updateClose(t){this.isLoadingClose=!0,Me.updateClose(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))}}};const Z_t=(0,g.Z)(Y_t,[["render",N_t]]);var K_t=Z_t;const B_t={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Q_t={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},J_t=["disabled"],G_t=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function X_t(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",B_t,[(0,s._)("label",Q_t,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[0]||(e[0]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,J_t),[[a.e8,i.paid]]),G_t]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var tkt={props:{item:{required:!0}},data(){return{isLoadingPaid:!1}},computed:{paid:{get(){return this.item.paid},set(t){this.updatePaid(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Me.updatePaid(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))}}};const ekt=(0,g.Z)(tkt,[["render",X_t]]);var rkt=ekt;const akt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},skt={class:"tw-text-gray-700"},lkt=["href"];function okt(t,e,r,a,l,o){const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("h2",akt,[(0,s._)("span",skt,(0,lt.zw)(r.item.factorisation_id),1),(0,s._)("button",{class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-shadowx tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5",onClick:e[0]||(e[0]=t=>o.download(r.item.id))},[(0,s.Wm)(i,{icon:"ci:arrow-down-sm",class:"tw-text-xl"})]),r.item.close&&r.item.paid&!!r.item.attachement_image?((0,s.wg)(),(0,s.iD)("a",{key:0,target:"_blank",href:t.$backend(r.item.attachement_image.startsWith("/")?r.item.attachement_image.substring(1):r.item.attachement_image),class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-border-cyan-200 tw-shadowx tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5"},[(0,s.Wm)(i,{icon:"uim:image-v",class:"tw-text-xl tw-text-cyan-400"})],8,lkt)):(0,s.kq)("",!0)])}var ikt={props:{item:{required:!0}},methods:{download(t){const e=n+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const wkt=(0,g.Z)(ikt,[["render",okt]]);var nkt=wkt;const dkt={class:"tw-px-4"},ckt=["disabled"],ukt={key:0,class:"tw-flex tw-items-center tw-gap-2"},pkt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Not Specified",-1),gkt=[pkt],mkt={key:0,class:"tw-flex tw-items-center tw-gap-2"},hkt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),fkt={key:1,class:"tw-flex tw-items-center tw-gap-2"},bkt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),xkt={key:2,class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-shadow tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5"},vkt={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},ykt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},_kt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Switch payment method ",-1),kkt={key:0,class:"tw-p-5 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5"},Ckt=["onClick"],Dkt={key:0,class:"tw-"},Skt={class:"tw-flex tw-items-center tw-gap-3"},Ukt=(0,s._)("h1",{class:"tw-text-lg tw-font-bold"},"Bank Transfer",-1),zkt={key:1},qkt={class:"tw-flex tw-items-center tw-gap-3"},Pkt=(0,s._)("h1",{class:"tw-text-lg tw-font-bold"},"Binance",-1),Lkt={key:1,class:"tw-p-5 tw-text-center"},Wkt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},Akt=["disabled"],$kt=["disabled"],Ekt=(0,s._)("span",null,"Save",-1);var Tkt={__name:"WithdrawalMethodSeller",props:["factorisation","withdrawalMethods","isWithdrawalMethodsFetched"],emits:["update"],setup(t,{emit:e}){const r=t,a=(0,ve.iH)(!1),l=(0,ve.iH)(!1),o=(0,ve.iH)(null),i=(0,ve.Vh)(r,"factorisation"),w=(0,ve.Vh)(r,"withdrawalMethods"),n=(0,ve.Vh)(r,"isWithdrawalMethodsFetched");o.value=i.value.withdrawal_method_id;const d=async()=>{i.value.withdrawal_method_id!=o.value&&(a.value=!0,await Me.updateMethod(i.value.id,o.value).then((t=>{if("SUCCESS"==t.data.code){const r=t.data.data.factorisation;e("update",r),Pc("Withdrawal method has been updated"),l.value=!1}}),(t=>{Pc("NOT_ALLOWED"==t?.response?.data?.code?t?.response?.data?.message:"Something went wrong!","error")})),a.value=!1)},c=t=>{o.value=t.id};return(t,e)=>{const r=(0,s.up)("icon"),u=(0,s.up)("router-link"),p=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",dkt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>(0,ve.SU)(i).paid?"":l.value=!l.value),disabled:(0,ve.SU)(i).paid,class:"tw-rounded tw-flex tw-justify-between tw-items-center tw-gap-2 tw-overflow-hidden"},[(0,ve.SU)(i).withdrawal_method?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["bank_transfer"==(0,ve.SU)(i).withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",mkt,[(0,s.Wm)(r,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),hkt])):(0,s.kq)("",!0),"binance"==(0,ve.SU)(i).withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",fkt,[(0,s.Wm)(r,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),bkt])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("div",ukt,gkt)),(0,ve.SU)(i).paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xkt,[(0,s.Wm)(r,{icon:"uil:exchange",class:"tw-text-xl"})]))],8,ckt),(0,s.Wm)(p,{visible:l.value,closeable:!1,onCancel:e[2]||(e[2]=t=>l.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",vkt,[(0,s._)("div",ykt,[_kt,(0,ve.SU)(n)&&(0,ve.SU)(w).length?((0,s.wg)(),(0,s.iD)("div",kkt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(w),(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>c(t),key:t.id,class:(0,lt.C_)([o.value==t.id&&["!tw-border-orange-300 tw-ring tw-ring-orange-300"],"tw-border tw-flex tw-items-center tw-justify-center tw-border-solid tw-rounded tw-shadow tw-bg-white tw-p-5"])},["bank_transfer"==t.type?((0,s.wg)(),(0,s.iD)("div",Dkt,[(0,s._)("div",Skt,[(0,s.Wm)(r,{icon:"ph:bank-duotone",class:"tw-text-3xl tw-text-gray-600"}),Ukt])])):(0,s.kq)("",!0),"binance"==t.type?((0,s.wg)(),(0,s.iD)("div",zkt,[(0,s._)("div",qkt,[(0,s.Wm)(r,{icon:"simple-icons:binance",class:"tw-text-3xl tw-text-[#F3BA2F]"}),Pkt])])):(0,s.kq)("",!0)],10,Ckt)))),128))])):((0,s.wg)(),(0,s.iD)("div",Lkt,[(0,s._)("p",null,[(0,s.Uk)("You haven't added any withdrawal method yet. Click "),(0,s.Wm)(u,{to:{name:"settings.seller.withdrawal-methods"},class:"tw-text-orange-500 hover:tw-underline"},{default:(0,s.w5)((()=>[(0,s.Uk)("here")])),_:1},8,["to"]),(0,s.Uk)(" to add a withdrawal method and manage your funds")])])),(0,s._)("div",Wkt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.value=!1),disabled:a.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,Akt),(0,s._)("button",{disabled:a.value,onClick:d,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[a.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Ekt],8,$kt)])])])])),_:1},8,["visible"])])}}};const jkt=Tkt;var Fkt=jkt;const Vkt={class:"tw-px-4 tw-mx-auto"},Ikt={key:0,class:"tw-flex tw-items-center tw-gap-2"},Okt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Not Specified",-1),Hkt=[Okt],Mkt={key:0,class:"tw-flex tw-items-center tw-gap-2"},Rkt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),Nkt={key:1,class:"tw-flex tw-items-center tw-gap-2"},Ykt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),Zkt={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},Kkt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},Bkt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Withdrawal method details ",-1),Qkt={key:0,class:"tw-p-5 tw-space-y-4"},Jkt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Bank Name",-1),Gkt=["value"],Xkt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Account Holder Name",-1),tCt=["value"],eCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"RIB",-1),rCt=["value"],aCt={key:1,class:"tw-p-5 tw-space-y-4"},sCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Binance ID",-1),lCt=["value"],oCt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"};var iCt={__name:"WithdrawalMethodAdmin",props:["factorisation"],setup(t){const e=t,r=(0,ve.iH)(!1),a=(0,ve.Vh)(e,"factorisation");(0,s.f3)("withdrawal_methods"),(0,s.f3)("is_withdrawal_methods_fetched");return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",Vkt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),class:"tw-mx-auto tw-rounded tw-flex tw-justify-between tw-items-center tw-gap-2 tw-overflow-hidden tw-border tw-border-solid tw-p-2 tw-py-1 tw-duration-200 hover:tw-shadow-sm tw-shadow-black/10"},[(0,ve.SU)(a).withdrawal_method?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["bank_transfer"==(0,ve.SU)(a).withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",Mkt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),Rkt])):(0,s.kq)("",!0),"binance"==(0,ve.SU)(a).withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",Nkt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),Ykt])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("div",Ikt,Hkt))]),(0,ve.SU)(a).withdrawal_method?((0,s.wg)(),(0,s.j4)(o,{key:0,visible:r.value,closeable:!1,onCancel:e[2]||(e[2]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",Zkt,[(0,s._)("div",Kkt,[Bkt,"bank_transfer"==(0,ve.SU)(a).withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",Qkt,[(0,s._)("div",null,[Jkt,(0,s._)("input",{value:(0,ve.SU)(a).withdrawal_method.metadata.bank_name,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,Gkt)]),(0,s._)("div",null,[Xkt,(0,s._)("input",{value:(0,ve.SU)(a).withdrawal_method.metadata.account_holder_name,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,tCt)]),(0,s._)("div",null,[eCt,(0,s._)("input",{value:(0,ve.SU)(a).withdrawal_method.metadata.rib,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,rCt)])])):(0,s.kq)("",!0),"binance"==(0,ve.SU)(a).withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",aCt,[(0,s._)("div",null,[sCt,(0,s._)("input",{value:(0,ve.SU)(a).withdrawal_method.metadata.binance_id,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,lCt)])])):(0,s.kq)("",!0),(0,s._)("div",oCt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])):(0,s.kq)("",!0)])}}};const wCt=iCt;var nCt=wCt,dCt={components:{TableActions:I_t,CloseFactorisation:K_t,PaidFactorisation:rkt,PdfFactorisation:nkt,WithdrawalMethodSeller:Fkt,WithdrawalMethodAdmin:nCt},props:{item:{required:!0},withdrawalMethods:{required:!0},isWithdrawalMethodsFetched:{required:!0}},data(){return{moment:Ce(),currency:c}},computed:{},methods:{}};const cCt=(0,g.Z)(dCt,[["render",mxt]]);var uCt=cCt,pCt={components:{TablePaginationNoNums:Pbt,TableRow:uCt},props:{items:{default:[]},withdrawalMethods:{required:!0},isWithdrawalMethodsFetched:{required:!0},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const gCt=(0,g.Z)(pCt,[["render",gbt]]);var mCt=gCt;const hCt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},fCt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},bCt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),xCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),vCt=[xCt],yCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),_Ct=[yCt],kCt=["disabled"],CCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),DCt=[CCt],SCt={class:"tw-relative"},UCt=["value"],zCt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),qCt=[zCt],PCt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),LCt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},WCt=["value"],ACt={class:"tw-overflow-hidden tw-col-span-1"},$Ct=(0,s._)("div",{class:"tw-overflow-hidden tw-col-span-1"},null,-1),ECt=[$Ct];function TCt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",hCt,[(0,s._)("div",fCt,[bCt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},vCt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},_Ct)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},DCt,8,kCt),(0,s._)("div",SCt,[(0,s._)("select",{onChange:e[3]||(e[3]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},qCt,40,UCt),PCt])]),(0,s._)("div",LCt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,WCt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,lt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",ACt,[(0,s.Wm)(w,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},ECt,2)):(0,s.kq)("",!0)])}const jCt={class:"tw-mb-4"},FCt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},VCt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},ICt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),OCt=(0,s._)("span",null,"Clear",-1),HCt=[ICt,OCt],MCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),RCt=(0,s._)("span",null,"Filter",-1),NCt=[MCt,RCt];function YCt(t,e,r,a,l,o){const i=(0,s.up)("SellerFilter"),w=(0,s.up)("CloseFilter"),n=(0,s.up)("PaidFilter");return(0,s.wg)(),(0,s.iD)("div",jCt,[(0,s._)("div",FCt,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,filters:r.filters,onUpdate:e[0]||(e[0]=e=>t.$emit("update",e))},null,8,["filters"])):(0,s.kq)("",!0),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",VCt,[(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},HCt),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},NCt)])])])}const ZCt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},KCt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),BCt=["value"],QCt=(0,s._)("option",{value:"all"},"All",-1),JCt=["value"];function GCt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",ZCt,[KCt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[QCt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,JCt)))),128))],40,BCt)])}var XCt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const tDt=(0,g.Z)(XCt,[["render",GCt]]);var eDt=tDt;const rDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},aDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Close",-1),sDt=["value"],lDt=(0,s._)("option",{value:"all"},"All",-1),oDt=["value"];function iDt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",rDt,[aDt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,close:e.target.value})),value:r.filters.close,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[lDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.close,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,lt.zw)(t.title),9,oDt)))),128))],40,sDt)])}var wDt={props:{filters:{required:!0}},data(){return{close:[{id:1,title:"Close",value:1},{id:2,title:"Not Close",value:0}]}}};const nDt=(0,g.Z)(wDt,[["render",iDt]]);var dDt=nDt;const cDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},uDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Paid",-1),pDt=["value"],gDt=(0,s._)("option",{value:"all"},"All",-1),mDt=["value"];function hDt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",cDt,[uDt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,paid:e.target.value})),value:r.filters.paid,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[gDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.paid,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,lt.zw)(t.title),9,mDt)))),128))],40,pDt)])}var fDt={props:{filters:{required:!0}},data(){return{paid:[{id:1,title:"Paid",value:1},{id:2,title:"Not Paid",value:0}]}}};const bDt=(0,g.Z)(fDt,[["render",hDt]]);var xDt=bDt,vDt={components:{SellerFilter:eDt,CloseFilter:dDt,PaidFilter:xDt},props:{filters:{required:!0,default:{}}},data(){return{}}};const yDt=(0,g.Z)(vDt,[["render",YCt]]);var _Dt=yDt,kDt={components:{FiltersWrapper:_Dt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value),console.log(t.target.value)}},data(){return{showFilters:!1,showStatistics:!1}}};const CDt=(0,g.Z)(kDt,[["render",TCt]]);var DDt=CDt;class SDt{async all(){return await $.getCookie(),W.get("api/withdrawal-methods")}async update(t,e){return await $.getCookie(),W.post("api/withdrawal-methods/"+t,e)}async setup(t){return await $.getCookie(),W.post("api/withdrawal-methods/setup",t)}}var UDt=new SDt,zDt={components:{IndexTable:mCt,IndexFilters:DDt},data(){return{fetching:!0,create_popup:!1,items:[],withdrawal_methods:[],is_withdrawal_methods_fetched:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{user_id:"all",close:"all",paid:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Me.paginate(t,e).then((({data:t})=>{const e=t.data.factorisation;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={user_id:"all",close:"all",paid:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=go(t.first_page_url),this.lase_page_url=go(t.last_page_url),this.next_page_url=go(t.next_page_url),this.prev_page_url=go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){t&&(this.items=this.items.map((e=>e.id==t.id?t:e))),console.log("Item: ",t)},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},async getWithdrawalMethods(){return this.is_withdrawal_methods_fetched=!1,await UDt.all().then((t=>{"SUCCESS"==t.data.code&&(this.withdrawal_methods=t.data.withdrawal_methods,this.is_withdrawal_methods_fetched=!0,console.log(this.withdrawal_methods))}),(t=>{console.log(t)}))}},computed:{user(){return this.$store.getters["user/user"]}},provide(){return{withdrawal_methods:this.withdrawal_methods,is_withdrawal_methods_fetched:this.is_withdrawal_methods_fetched}},mounted(){this.paginateOrders(),"seller"==this.user.role&&this.getWithdrawalMethods()}};const qDt=(0,g.Z)(zDt,[["render",Tft]]);var PDt=qDt,LDt={name:"factorisations",path:"/factorisations",component:Sa,meta:{module:"factorisation"},children:[{name:"factorisation/list",path:"",component:zft,meta:{module:"factorisation",subModule:"factorisation/list",title:"Factorisations List",gate:"show_all_factorisations"}},{name:"factorisation/list",path:"",component:PDt,meta:{module:"factorisation",subModule:"factorisation/list",title:"New Factorisations List",gate:"show_all_factorisations"}}]};const WDt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},ADt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Google Sheets"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your google sheets")],-1),$Dt=(0,s._)("span",{class:"text-white"}," Add Sheet ",-1),EDt={key:0},TDt={key:1,class:"py-5 px-5 tw-mb-5 tw-border bg-white tw-w-full tw-rounded-md"},jDt={class:"tw-flex tw-items-center tw-gap-2"},FDt=(0,s._)("h1",null,"Application's email",-1),VDt={class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-py-2 tw-px-2 tw-text-sm tw-mt-2 tw-text-gray-700"},IDt=(0,s._)("p",{class:"tw-mt-1 tw-text-xs tw-text-gray-400"}," Use this email to give access to Google Sheets ",-1),ODt={key:2,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},HDt={class:"mb-5 tw-flex"},MDt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},RDt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},NDt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},YDt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),ZDt={class:"tw-relative"},KDt={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},BDt={class:""};function QDt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("SheetsTable"),c=(0,s.up)("AddSheet");return(0,s.wg)(),(0,s.iD)("div",{key:i.sheets.length},[(0,s._)("div",WDt,[ADt,(0,s._)("div",null,[t.$can("create_sheet")?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),$Dt])),_:1})):(0,s.kq)("",!0)])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",EDt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",TDt,[(0,s._)("div",jDt,[FDt,(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.copy&&i.copy(...t)),class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-w-[30px] tw-h-[30px] tw-text-gray-500 hover:tw-text-gray-700 tw-duration-300 tw-border-solid hover:tw-border-gray-400"},[(0,s.Wm)(wt.t,{class:"tw-text-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-content-copy")])),_:1})])]),(0,s._)("div",VDt,(0,lt.zw)(o.email),1),IDt])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ODt,[(0,s._)("div",HDt,[(0,s.Wm)(ot.T,{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",MDt,[(0,s.Wm)(ae.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,lt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",RDt,[(0,s._)("div",NDt,[YDt,(0,s._)("div",ZDt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",KDt,[(0,s.Wm)(n,{filters:o.filters,onUpdate:i.updateFilters},null,8,["filters","onUpdate"])])):(0,s.kq)("",!0),(0,s._)("div",BDt,[(0,s.Wm)(d,{sheets:i.sheets},null,8,["sheets"])]),(0,s.Wm)(c,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const JDt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},GDt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},XDt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},tSt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),eSt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},rSt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},aSt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},sSt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),lSt=["value"],oSt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},iSt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},wSt={class:"tw-text-white"};function nSt(t,e,r,l,o,i){const w=(0,s.up)("SheetRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",JDt,[(0,s._)("table",GDt,[(0,s._)("thead",XDt,[(0,s._)("tr",null,[tSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",eSt,(0,lt.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sheets,(t=>((0,s.wg)(),(0,s.j4)(w,{sheet:t,key:t.id},null,8,["sheet"])))),128))])])]),(0,s._)("div",rSt,[(0,s._)("div",aSt,[sSt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,lt.zw)(t),9,lSt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",oSt,[(0,s._)("div",iSt,(0,lt.zw)(i.prevRange+1)+" - "+(0,lt.zw)(o.currentPage==i.pageCount?r.sheets.length:i.nextRange)+" of "+(0,lt.zw)(r.sheets.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(ot.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",wSt,(0,lt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const dSt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},cSt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),uSt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},pSt={class:"tw-px-6 tw-py-4"},gSt={class:"tw-px-6 tw-py-4"},mSt={class:"tw-px-6 tw-py-4"},hSt={class:"tw-px-6 tw-py-4"},fSt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},bSt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},xSt=["disabled"],vSt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),ySt={class:"tw-px-6 tw-py-4"},_St={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function kSt(t,e,r,l,o,i){const w=(0,s.up)("SheetActions");return(0,s.wg)(),(0,s.iD)("tr",dSt,[cSt,(0,s._)("th",uSt,(0,lt.zw)(r.sheet.id),1),(0,s._)("td",pSt,[(0,s._)("div",null,[(0,s._)("span",{class:(0,lt.C_)(["tw-inline-block tw-w-[8px] tw-h-[8px] tw-rounded-full tw-mr-1",[1==r.sheet.active&&1==r.sheet.auto_fetch?"tw-bg-emerald-500":"tw-bg-red-500"]])},null,2),(0,s.Uk)(" "+(0,lt.zw)(r.sheet.name),1)])]),(0,s._)("td",gSt,[(0,s._)("div",null,(0,lt.zw)(r.sheet.username),1)]),(0,s._)("td",mSt,[(0,s._)("div",null,(0,lt.zw)(r.sheet.sheet_name),1)]),(0,s._)("td",hSt,[(0,s._)("div",fSt,[(0,s._)("label",bSt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>i.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,xSt),[[a.e8,i.autoFetch]]),vSt]),o.isLoadingAuto?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",ySt,(0,lt.zw)(r.sheet.created_at.split("T")[0]),1),(0,s._)("td",_St,[(0,s.Wm)(w,{sheet:r.sheet},null,8,["sheet"])])])}const CSt={key:0};function DSt(t,e,r,a,l,o){const i=(0,s.up)("UpdateSheet"),w=(0,s.up)("SheetOrders"),n=(0,s.up)("popup");return r.sheet?((0,s.wg)(),(0,s.iD)("div",CSt,[t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,onClick:o.sync,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{class:(0,lt.C_)([l.isLoadingSheet&&"tw-animate-spin"]),color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1},8,["class"])])),_:1},8,["onClick"])):(0,s.kq)("",!0),t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(ot.T,{key:1,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_sheet")?((0,s.wg)(),(0,s.j4)(ot.T,{key:2,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{visible:l.showUpdatePopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showUpdatePopup=t),sheet:r.sheet,onCancel:e[3]||(e[3]=t=>l.showUpdatePopup=!1)},null,8,["visible","sheet"]),(0,s.Wm)(w,{visible:l.showSheetPopup,"onUpdate:visible":e[4]||(e[4]=t=>l.showSheetPopup=t),sheet:r.sheet,orders:l.orders,onCancel:e[5]||(e[5]=t=>l.showSheetPopup=!1)},null,8,["visible","sheet","orders"]),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this sale?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleDelete},null,8,["loading","visible","onResolved"])])):(0,s.kq)("",!0)}const SSt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},USt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),zSt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},qSt={class:"md:tw-col-span-6 tw-col-span-12"},PSt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),LSt={class:"md:tw-col-span-6 tw-col-span-12"},WSt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),ASt={class:"md:tw-col-span-12 tw-col-span-12"},$St=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),ESt={class:"md:tw-col-span-6 tw-col-span-12"},TSt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),jSt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},FSt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),VSt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},ISt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),OSt=(0,s._)("span",{class:"text-white"}," Save ",-1);function HSt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",SSt,[USt,(0,s._)("div",zSt,[(0,s._)("div",qSt,[PSt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.newSheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.name]])]),(0,s._)("div",LSt,[WSt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.newSheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_name]])]),(0,s._)("div",ASt,[$St,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.newSheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_id]])]),(0,s._)("div",ESt,[TSt,(0,s._)("label",jSt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.newSheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.newSheet.auto_fetch]]),FSt])])]),(0,s._)("div",VSt,[(0,s.Wm)(ot.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ISt])),_:1}),(0,s.Wm)(ot.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[OSt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}class MSt{async all(t){return await $.getCookie(),W.get("api/sheets",{params:t})}async create(t){await $.getCookie();const e={name:t.name,sheet_id:t.sheet_id,sheet_name:t.sheet_name,auto_fetch:t.auto_fetch};return W.post("api/sheets",e)}async update(t,e){await $.getCookie();const r={name:e.name,sheet_id:e.sheet_id,sheet_name:e.sheet_name,auto_fetch:e.auto_fetch};return W.post("api/sheets/"+t,r)}async delete(t){return await $.getCookie(),W["delete"]("api/sheets/"+t)}async updateAutoFetch(t,e){return await $.getCookie(),W.post("api/sheets/"+t+"/auto-fetch",{autoFetch:e})}async sync(t){return await $.getCookie(),W.get("api/sync/"+t)}async sync_all(){return await $.getCookie(),W.get("api/sync")}async auto(){return await $.getCookie(),W.post("api/sync")}async saveOrders(t){return await $.getCookie(),W.get("api/sync/"+t+"/save")}}var RSt=new MSt,NSt={props:["visible","sheet"],data(){return{isLoading:!1,newSheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},watch:{visible(t){t&&(this.newSheet={...this.sheet,auto_fetch:1==this.sheet.auto_fetch})}},computed:{isFormValid(){return!!this.newSheet.name&&!!this.newSheet.sheet_id&&!!this.newSheet.sheet_name}},methods:{update(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.newSheet;RSt.update(this.sheet.id,t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet updated successfully"}),this.$store.dispatch("sheet/update",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const YSt=(0,g.Z)(NSt,[["render",HSt]]);var ZSt=YSt;const KSt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},BSt={key:0},QSt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},JSt=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-neutral-700"},"Sheet's New Orders",-1),GSt={class:"tw-bg-emerald-500 tw-text-white tw-px-1 tw-text-sm tw-rounded"},XSt={class:"tw-relative tw-overflow-x-auto"},tUt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-border tw-rounded"},eUt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50 tw-rounded-t tw-overflow-hidden"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Fullname"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"SKU"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Qty"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Price")])],-1),rUt={class:"tw-px-6 tw-py-2"},aUt={class:"tw-px-6 tw-py-2"},sUt={class:"tw-px-6 tw-py-2"},lUt={class:"tw-px-6 tw-py-2"},oUt={class:"tw-px-6 tw-py-2"},iUt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},wUt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),nUt=(0,s._)("span",{class:"text-white"}," Save Orders",-1);function dUt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[1]||(e[1]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",KSt,[r.orders.length>0?((0,s.wg)(),(0,s.iD)("div",BSt,[(0,s._)("div",QSt,[JSt,(0,s._)("div",GSt,(0,lt.zw)(r.orders.length),1)]),(0,s._)("div",null,[(0,s._)("div",XSt,[(0,s._)("table",tUt,[eUt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b"},[(0,s._)("td",rUt,(0,lt.zw)(t["Full name"]),1),(0,s._)("td",aUt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Product name"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},"- "+(0,lt.zw)(t),1)))),128))])]),(0,s._)("td",sUt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["SKU"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,lt.zw)(t),1)))),128))])]),(0,s._)("td",lUt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Total quantity"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,lt.zw)(t),1)))),128))])]),(0,s._)("td",oUt,(0,lt.zw)(t["Total charge"]),1)])))),128))])])])]),(0,s._)("div",iUt,[(0,s.Wm)(ot.T,{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[wUt])),_:1}),(0,s.Wm)(ot.T,{loading:l.isLoading,onClick:o.save,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[nUt])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])])}var cUt={props:["visible","sheet","orders"],data(){return{isLoading:!1}},computed:{sales(){return this.$store.getters["sale/sales"]}},methods:{save(){this.isLoading=!0,RSt.saveOrders(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:t.data.data.orders.length+" Order has been added",type:"success"}),this.$store.dispatch("sale/setSales",[...t.data.data.orders,...this.sales]),this.$emit("cancel"))}),(t=>{this.$handleApiError(t),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this sheet",type:"warning"})})).finally((()=>{this.isLoading=!1}))}}};const uUt=(0,g.Z)(cUt,[["render",dUt]]);var pUt=uUt,gUt={props:["sheet"],name:"sheetActions",components:{UpdateSheet:ZSt,SheetOrders:pUt},data(){return{showPopup:!1,showUpdatePopup:!1,showSheetPopup:!1,isLoading:!1,isLoadingSheet:!1,orders:[]}},computed:{},methods:{handleDelete(t){if(console.log(t),!t)return this.showPopup=!1,!1;this.delete()},delete(){this.isLoading=!0,RSt["delete"](this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:"Deleted successfully",type:"success"}),this.$store.dispatch("sheet/delete",this.sheet.id),this.showPopup=!1)}),this.$handleApiError).finally((()=>{this.isLoading=!1}))},sync(){this.isLoadingSheet=!0,RSt.sync(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(0==t.data.data.orders.length?this.$alert({title:"0 Orders found",type:"info"}):(this.orders=t.data.data.orders,this.showSheetPopup=!0),console.log(t.data.data.sheet),this.$store.dispatch("sheet/update",t.data.data.sheet)),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log(t),this.$store.dispatch("sheet/update",t.response.data.data.sheet),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this Google Sheet",type:"error"})})).finally((()=>{this.isLoadingSheet=!1}))}},mounted(){}};const mUt=(0,g.Z)(gUt,[["render",DSt]]);var hUt=mUt,fUt={props:["sheet"],components:{SheetActions:hUt},data(){return{isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.sheet.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,RSt.updateAutoFetch(this.sheet.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("sheet/update",e.data.data.sheet))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const bUt=(0,g.Z)(fUt,[["render",kSt]]);var xUt=bUt,vUt={props:["sheets"],components:{SheetRow:xUt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,columns:["id","name","username","sheet name","auto fetch","created","actions"]}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sheets.length/this.paginationLimit)},items(){return this.sheets.slice(this.prevRange,this.nextRange)}},methods:{}};const yUt=(0,g.Z)(vUt,[["render",nSt]]);var _Ut=yUt;const kUt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},CUt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),DUt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},SUt={class:"md:tw-col-span-6 tw-col-span-12"},UUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),zUt={class:"md:tw-col-span-6 tw-col-span-12"},qUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),PUt={class:"md:tw-col-span-12 tw-col-span-12"},LUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),WUt={class:"md:tw-col-span-6 tw-col-span-12"},AUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),$Ut={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},EUt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),TUt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},jUt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),FUt=(0,s._)("span",{class:"text-white"}," Save ",-1);function VUt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",kUt,[CUt,(0,s._)("div",DUt,[(0,s._)("div",SUt,[UUt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.name]])]),(0,s._)("div",zUt,[qUt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_name]])]),(0,s._)("div",PUt,[LUt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.sheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_id]])]),(0,s._)("div",WUt,[AUt,(0,s._)("label",$Ut,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.sheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sheet.auto_fetch]]),EUt])])]),(0,s._)("div",TUt,[(0,s.Wm)(ot.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[jUt])),_:1}),(0,s.Wm)(ot.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[FUt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var IUt={props:["visible"],data(){return{isLoading:!1,sheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},computed:{isFormValid(){return!!this.sheet.name&&!!this.sheet.sheet_id&&!!this.sheet.sheet_name}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.sheet;RSt.create(t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet created successfully"}),this.$store.dispatch("sheet/addSheet",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const OUt=(0,g.Z)(IUt,[["render",VUt]]);var HUt=OUt;const MUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},RUt=(0,s._)("label",{for:"seller",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),NUt=["value"],YUt=(0,s._)("option",{value:"all"},"All",-1),ZUt=["value"];function KUt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",MUt,[RUt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[YUt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,ZUt)))),128))],40,NUt)])}var BUt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const QUt=(0,g.Z)(BUt,[["render",KUt]]);var JUt=QUt,GUt={components:{SheetsTable:_Ut,AddSheet:HUt,SellerFilter:JUt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,email:"new-service-account@testing-379416.iam.gserviceaccount.com",filters:{user_id:"all"}}},computed:{sheets(){return this.$store.getters["sheet/sheets"]},user(){return this.$store.getters["user/user"]}},methods:{updateFilters(t){this.filters=t,this.getSheets()},getSheets(){return this.isLoaded=!1,RSt.all(this.filters).then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("sheet/setSheets",t.data.data.sheets),t)),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},copy(){navigator.clipboard.writeText(this.email),this.$alert({title:"Email Copied !",type:"success"})}},mounted(){this.getSheets()}};const XUt=(0,g.Z)(GUt,[["render",QDt]]);var tzt=XUt,ezt={name:"sheets",path:"/sheets",component:Sa,meta:{module:"sheet"},children:[{name:"sheet/list",path:"",component:tzt,meta:{module:"sheet",subModule:"sheet/list",title:"Google Sheets List",gate:"show_all_sheets"}}]};const rzt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},azt={class:"tw-px-3"},szt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},lzt={class:"tw-flex tw-items-center tw-gap-x-3"},ozt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),izt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},wzt=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),nzt=[wzt],dzt={key:0};function czt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",rzt,[(0,s._)("section",azt,[(0,s._)("div",szt,[(0,s._)("div",null,[(0,s._)("div",lzt,[ozt,(0,s._)("span",izt,(0,lt.zw)(l.totalOrders)+" order",1)])]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},nzt)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",dzt,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class uzt{async create(t){return await $.getCookie(),W.post("api/ads/new",t)}async update(t,e){return await $.getCookie(),W.post("api/ads/update/"+t,e)}async delete(t){return await $.getCookie(),W["delete"]("api/ads/delete/"+t)}async paginate(t="/",e){return await $.getCookie(),W.post("api/ads"+t,e)}}var pzt=new uzt;const gzt={class:"tw-flex tw-flex-col"},mzt={class:"tw-overflow-x-auto"},hzt={class:"tw-inline-block tw-min-w-full tw-align-middle"},fzt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},bzt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},xzt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},vzt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),yzt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},_zt=(0,s._)("span",null,"Created",-1),kzt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Czt=[_zt,kzt],Dzt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Szt=(0,s._)("span",null,"Ads For",-1),Uzt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),zzt=[Szt,Uzt],qzt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Marketer ",-1),Pzt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),Lzt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),Wzt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Leads ",-1),Azt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),$zt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),Ezt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Tzt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},jzt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),Fzt=[jzt],Vzt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Izt={colspan:"8"},Ozt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Hzt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Mzt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Rzt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Nzt=[Mzt,Rzt],Yzt={class:"tw-mt-6"};function Zzt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",gzt,[(0,s._)("div",mzt,[(0,s._)("div",hzt,[(0,s._)("div",fzt,[(0,s._)("table",bzt,[(0,s._)("thead",xzt,[(0,s._)("tr",null,[vzt,(0,s._)("th",yzt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Czt)]),(0,s._)("th",Dzt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},zzt)]),qzt,Pzt,Lzt,Wzt,Azt,$zt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Ezt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Tzt,Fzt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Vzt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Izt,[(0,s._)("div",Ozt,[Hzt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Nzt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Yzt,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Kzt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Bzt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Qzt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Jzt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Gzt=["disabled"],Xzt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),tqt=(0,s._)("span",null," previous ",-1),eqt=[Xzt,tqt],rqt=["disabled"],aqt=(0,s._)("span",null," Next ",-1),sqt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),lqt=[aqt,sqt];function oqt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Kzt,[(0,s._)("div",Bzt,[(0,s.Uk)(" Page "),(0,s._)("span",Qzt,(0,lt.zw)(r.currentPage)+" of "+(0,lt.zw)(r.lastPage),1)]),(0,s._)("div",Jzt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,lt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},eqt,10,Gzt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,lt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},lqt,10,rqt)])])])}var iqt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const wqt=(0,g.Z)(iqt,[["render",oqt]]);var nqt=wqt;const dqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},uqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},pqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},gqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},mqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},hqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},bqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},xqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},vqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},yqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},_qt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Cqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Dqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Sqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function Uqt(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",dqt,[(0,s._)("div",null,[(0,s._)("h2",cqt,(0,lt.zw)(r.item.id),1)])]),(0,s._)("td",uqt,[(0,s._)("div",null,[(0,s._)("h2",pqt,[(0,s._)("p",null,(0,lt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",gqt,[(0,s._)("div",null,[(0,s._)("h2",mqt,[(0,s._)("p",null,(0,lt.zw)(l.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",hqt,[(0,s._)("div",null,[(0,s._)("h2",fqt,(0,lt.zw)(r.item.marketers.firstname)+" "+(0,lt.zw)(r.item.marketers.lastname),1)])]),(0,s._)("td",bqt,[(0,s._)("div",null,[(0,s._)("h2",xqt,(0,lt.zw)(r.item.source),1)])]),(0,s._)("td",vqt,[(0,s._)("div",null,[(0,s._)("h2",yqt,(0,lt.zw)(r.item.amount),1)])]),(0,s._)("td",_qt,[(0,s._)("div",null,[(0,s._)("h2",kqt,(0,lt.zw)(r.item.leads),1)])]),(0,s._)("td",Cqt,[(0,s._)("div",null,[(0,s._)("h2",Dqt,(0,lt.zw)(r.item.products.name),1)])]),(0,s._)("td",Sqt,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const zqt={class:"tw-h-full"},qqt={class:"tw-flex tw-items-center tw-gap-2"},Pqt={key:0};function Lqt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",zqt,[(0,s._)("div",qqt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",Pqt,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const Wqt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Aqt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),$qt={class:"tw-bg-white tw-p-4"},Eqt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},Tqt={class:"tw-col-span-2 md:tw-col-span-1"},jqt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),Fqt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Vqt={class:"tw-col-span-2 md:tw-col-span-1"},Iqt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),Oqt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Hqt={class:"tw-col-span-2 md:tw-col-span-1"},Mqt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),Rqt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Nqt={class:"tw-col-span-2 md:tw-col-span-1"},Yqt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),Zqt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),Kqt=["value"],Bqt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Qqt={class:"tw-col-span-2 md:tw-col-span-1"},Jqt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),Gqt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),Xqt=["value"],tPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ePt={class:"md:tw-col-span-1 tw-col-span-2"},rPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),aPt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},sPt={class:"tw-col-span-2"},lPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),oPt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},iPt=["disabled"],wPt=(0,s._)("span",null,"Update",-1);function nPt(t,e,r,l,o,i){const w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Wqt,[Aqt,(0,s._)("div",$qt,[(0,s._)("div",Eqt,[(0,s._)("div",Tqt,[jqt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.source=t),onInput:e[1]||(e[1]=t=>o.errors.source=null),type:"text",class:(0,lt.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",Fqt,(0,lt.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",Vqt,[Iqt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,lt.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",Oqt,(0,lt.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",Hqt,[Mqt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,lt.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",Rqt,(0,lt.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",Nqt,[Yqt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>o.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>o.items.product_id=t),class:(0,lt.C_)([[o.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Zqt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.name),9,Kqt)))),128))],34),[[a.bM,o.items.product_id]]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",Bqt,(0,lt.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",Qqt,[Jqt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.marketer_id=t),class:(0,lt.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Gqt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,Xqt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",tPt,(0,lt.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",ePt,[rPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.items.ads_at=t),onInput:e[11]||(e[11]=t=>o.errors.ads_at=null),class:(0,lt.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",aPt,(0,lt.zw)(o.errors.ads_at),1)]),(0,s._)("div",sPt,[lPt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",oPt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),wPt],8,iPt)])])])),_:1},8,["visible","onCancel"])])}const dPt=(t,e)=>e.source?!e.product_id||parseInt(e.product_id)<=0?(t.errors.product_id="Product is required",!1):!e.amount||parseInt(e.amount)<=0?(t.errors.amount="Amount is required",!1):!!e.ads_at||(t.errors.ads_at="Add Ads Date !",!1):(t.errors.source="Source Name is required",!1),cPt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},uPt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},pPt=(t,e)=>{t.isLoading=!0,t.errors={},pzt.update(e.id,e).then((e=>cPt(t,e.data))).catch((e=>uPt(t,e.response.data))).finally((()=>t.isLoading=!1))};var gPt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,source:null,amount:null,ads_at:null}}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=dPt(this,this.items);if(!t)return!1;pPt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,pa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts(),this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const mPt=(0,g.Z)(gPt,[["render",nPt]]);var hPt=mPt,fPt={components:{UpdatePopup:hPt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const bPt=(0,g.Z)(fPt,[["render",Lqt]]);var xPt=bPt,vPt={components:{TableActions:xPt},props:{item:{required:!0}},data(){return{moment:Ce()}},computed:{},methods:{}};const yPt=(0,g.Z)(vPt,[["render",Uqt]]);var _Pt=yPt,kPt={components:{TablePaginationNoNums:nqt,TableRow:_Pt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const CPt=(0,g.Z)(kPt,[["render",Zzt]]);var DPt=CPt;const SPt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},UPt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},zPt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),qPt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),PPt=[qPt],LPt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),WPt=[LPt],APt=["disabled"],$Pt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),EPt=[$Pt],TPt={class:"tw-relative"},jPt=["value"],FPt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),VPt=[FPt],IPt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),OPt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},HPt=["value"],MPt={class:"tw-overflow-hidden tw-col-span-1"},RPt={class:"tw-overflow-hidden tw-col-span-1"};function NPt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",SPt,[(0,s._)("div",UPt,[zPt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},PPt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},WPt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},EPt,8,APt),(0,s._)("div",TPt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},VPt,40,jPt),IPt])]),(0,s._)("div",OPt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,HPt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,lt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",MPt,[(0,s.Wm)(w,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",RPt,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const YPt={class:"tw-mb-4"},ZPt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},KPt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},BPt={class:"tw-flex tw-items-center tw-justify-between"},QPt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},JPt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function GPt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",YPt,[(0,s._)("div",ZPt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",KPt,[(0,s._)("p",{class:(0,lt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,lt.zw)(t.name),3),(0,s._)("div",BPt,[(0,s._)("span",QPt,(0,lt.zw)(t.total),1),(0,s._)("span",JPt,(0,lt.zw)(t.percent)+"%",1)])])])))),128))])])}var XPt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return $n.find((e=>e.value==t))}}};const tLt=(0,g.Z)(XPt,[["render",GPt]]);var eLt=tLt;const rLt={class:"tw-mb-4"},aLt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},sLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},lLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),oLt=["value"],iLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},wLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),nLt=["value"],dLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},cLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads From",-1),uLt=["value"],pLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads To",-1),mLt=["value"],hLt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},fLt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),bLt=(0,s._)("span",null,"Clear",-1),xLt=[fLt,bLt],vLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),yLt=(0,s._)("span",null,"Filter",-1),_Lt=[vLt,yLt];function kLt(t,e,r,a,l,o){const i=(0,s.up)("MarketerFilter"),w=(0,s.up)("ProductFilter"),n=(0,s.up)("SourceFilter");return(0,s.wg)(),(0,s.iD)("div",rLt,[(0,s._)("div",aLt,[(0,s._)("div",sLt,[lLt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,oLt)]),(0,s._)("div",iLt,[wLt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,nLt)]),(0,s._)("div",dLt,[cLt,(0,s._)("input",{value:r.filters.ads_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,ads_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,uLt)]),(0,s._)("div",pLt,[gLt,(0,s._)("input",{value:r.filters.ads_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,ads_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,mLt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",hLt,[(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},xLt),(0,s._)("button",{onClick:e[8]||(e[8]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},_Lt)])])])}const CLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},DLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),SLt=["value"],ULt=(0,s._)("option",{value:"all"},"All",-1),zLt=["value"];function qLt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",CLt,[DLt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[ULt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,zLt)))),128))],40,SLt)])}var PLt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const LLt=(0,g.Z)(PLt,[["render",qLt]]);var WLt=LLt;const ALt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$Lt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function ELt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",ALt,[$Lt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var TLt={components:{"vue-select":AY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return pa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const jLt=(0,g.Z)(TLt,[["render",ELt]]);var FLt=jLt;const VLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ILt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Source",-1),OLt=["value"],HLt=(0,s._)("option",{value:"all"},"All",-1),MLt=["value"];function RLt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",VLt,[ILt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,source:e.target.value})),value:r.filters.source,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[HLt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t,class:"tw-capitalize"},(0,lt.zw)(t),9,MLt)))),128))],40,OLt)])}var NLt={props:{filters:{required:!0}},data(){return{sources:["facebook","instagram","tiktok"]}}};const YLt=(0,g.Z)(NLt,[["render",RLt]]);var ZLt=YLt,KLt={components:{MarketerFilter:WLt,ProductFilter:FLt,SourceFilter:ZLt},props:{filters:{required:!0,default:{}}},data(){return{}}};const BLt=(0,g.Z)(KLt,[["render",kLt]]);var QLt=BLt,JLt={components:{IndexStatistics:eLt,FiltersWrapper:QLt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const GLt=(0,g.Z)(JLt,[["render",NPt]]);var XLt=GLt;const tWt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},eWt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),rWt={class:"tw-bg-white tw-p-4"},aWt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},sWt={class:"tw-col-span-2 md:tw-col-span-1"},lWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),oWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},iWt={class:"tw-col-span-2 md:tw-col-span-1"},wWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),nWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dWt={class:"tw-col-span-2 md:tw-col-span-1"},cWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),uWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pWt={class:"tw-col-span-2 md:tw-col-span-1"},gWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),mWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},hWt={class:"tw-col-span-2 md:tw-col-span-1"},fWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),bWt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),xWt=["value"],vWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},yWt={class:"md:tw-col-span-1 tw-col-span-2"},_Wt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),kWt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},CWt={class:"tw-col-span-2"},DWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),SWt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},UWt=["disabled"],zWt=(0,s._)("span",null,"Create",-1);function qWt(t,e,r,l,o,i){const w=(0,s.up)("vue-select"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",tWt,[eWt,(0,s._)("div",rWt,[(0,s._)("div",aWt,[(0,s._)("div",sWt,[lWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.source=t),onInput:e[1]||(e[1]=t=>o.errors.source=null),type:"text",class:(0,lt.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",oWt,(0,lt.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",iWt,[wWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,lt.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",nWt,(0,lt.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",dWt,[cWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,lt.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",uWt,(0,lt.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",pWt,[gWt,(0,s.Wm)(w,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[6]||(e[6]=t=>{o.items.product_id=t.id,o.errors.product_id=null}),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"Choose Product","v-model":i.product,options:i.allProducts,label:"name"},null,8,["reduce","v-model","options"]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",mWt,(0,lt.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",hWt,[fWt,(0,s.wy)((0,s._)("select",{onChange:e[7]||(e[7]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[8]||(e[8]=t=>o.items.marketer_id=t),class:(0,lt.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[bWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,xWt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",vWt,(0,lt.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",yWt,[_Wt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.ads_at=t),onInput:e[10]||(e[10]=t=>o.errors.ads_at=null),class:(0,lt.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",kWt,(0,lt.zw)(o.errors.ads_at),1)]),(0,s._)("div",CWt,[DWt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.items.note=t),onInput:e[12]||(e[12]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",SWt,[(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),zWt],8,UWt)])])])),_:1},8,["visible","onCancel"])])}const PWt=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},LWt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},WWt=(t,e)=>{t.isLoading=!0,t.errors={},pzt.create(e).then((e=>PWt(t,e.data))).catch((e=>LWt(t,e.response.data))).finally((()=>t.isLoading=!1))};var AWt={components:{"vue-select":AY.Z},props:{visible:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,marketer_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,marketer_id:null,source:null,leads:null,amount:null,ads_at:null}}},computed:{cities(){return this.$store.getters["city/cities"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]},product(){return this.$store.getters["product/products"]},allProducts(){return[...this.product]}},methods:{Test(){console.log("check")},handleCreate(){const t=dPt(this,this.items);if(!t)return!1;WWt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,pa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){console.log(this.marketers),this.getProducts()}};const $Wt=(0,g.Z)(AWt,[["render",qWt]]);var EWt=$Wt,TWt={components:{IndexTable:DPt,IndexFilters:XLt,CreatePopup:EWt},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,pzt.paginate(t,e).then((({data:t})=>{const e=t.data.ads;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=go(t.first_page_url),this.lase_page_url=go(t.last_page_url),this.next_page_url=go(t.next_page_url),this.prev_page_url=go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const jWt=(0,g.Z)(TWt,[["render",czt]]);var FWt=jWt,VWt={name:"ads",path:"/ads",component:Sa,meta:{module:"ads"},children:[{name:"ads/list",path:"",component:FWt,meta:{module:"ads",subModule:"ads/list",title:"Ads List",gate:"show_all_ads"}}]};const IWt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},OWt={class:"tw-px-3"},HWt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},MWt={class:"tw-flex tw-items-center tw-gap-x-3"},RWt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),NWt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},YWt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"These orders have needs to reconfirmed.",-1),ZWt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"};function KWt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=((0,s.up)("BulkActions"),(0,s.up)("IndexTable"));return(0,s.wg)(),(0,s.iD)("div",IWt,[(0,s._)("section",OWt,[(0,s._)("div",HWt,[(0,s._)("div",null,[(0,s._)("div",MWt,[RWt,(0,s._)("span",NWt,(0,lt.zw)(l.totalOrders)+" order",1)]),YWt]),(0,s._)("div",ZWt,[(0,s.kq)("",!0)])]),(0,s.Wm)(i,{"search-by-field":l.searchByField,"onUpdate:search-by-field":e[0]||(e[0]=t=>l.searchByField=t),search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":"","per-page":l.per_page},null,8,["search-by-field","search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,lt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s.kq)("",!0)],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}class BWt{async statistics(t){return await $.getCookie(),W.post("api/v1/seller/statistics",t)}async paginate(t="/",e){return await $.getCookie(),W.post("api/v1/seller/orders"+t,e)}async update(t,e){return await $.getCookie(),W.post("api/v1/seller/orders/"+t+"/update",e)}async export(t={}){return await $.getCookie(),W.post("api/v1/seller/orders/export",t)}}var QWt=new BWt;const JWt={class:"tw-flex tw-flex-col"},GWt={class:"tw-overflow-x-auto"},XWt={class:"tw-inline-block tw-min-w-full tw-align-middle"},tAt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},eAt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},rAt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},aAt={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},sAt={class:"tw-max-w-[25px]"},lAt={class:"tw-inline-flex tw-items-center"},oAt={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},iAt=["checked"],wAt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),nAt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),dAt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},cAt=(0,s._)("span",null,"Created",-1),uAt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),pAt=[cAt,uAt],gAt=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),mAt=(0,s._)("th",{scope:"col",class:"tw-px-6 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),hAt=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),fAt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),bAt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),xAt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),vAt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},yAt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},_At=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),kAt=[_At],CAt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},DAt={colspan:"9"},SAt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},UAt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),zAt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),qAt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),PAt=[zAt,qAt],LAt={class:"tw-mt-6"};function WAt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",JWt,[(0,s._)("div",GWt,[(0,s._)("div",XWt,[(0,s._)("div",tAt,[(0,s._)("table",eAt,[(0,s._)("thead",rAt,[(0,s._)("tr",null,[(0,s._)("th",aAt,[(0,s._)("div",sAt,[(0,s._)("div",lAt,[(0,s._)("label",oAt,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,iAt),wAt])])])]),nAt,(0,s._)("th",dAt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},pAt)]),gAt,mAt,hAt,fAt,bAt,xAt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",vAt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["selected","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",yAt,kAt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",CAt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",DAt,[(0,s._)("div",SAt,[UAt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},PAt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",LAt,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const AAt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},$At={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},EAt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},TAt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},jAt=["disabled"],FAt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),VAt=(0,s._)("span",null," previous ",-1),IAt=[FAt,VAt],OAt=["disabled"],HAt=(0,s._)("span",null," Next ",-1),MAt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),RAt=[HAt,MAt];function NAt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",AAt,[(0,s._)("div",$At,[(0,s.Uk)(" Page "),(0,s._)("span",EAt,(0,lt.zw)(r.currentPage)+" of "+(0,lt.zw)(r.lastPage),1)]),(0,s._)("div",TAt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,lt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},IAt,10,jAt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,lt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},RAt,10,OAt)])])])}var YAt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const ZAt=(0,g.Z)(YAt,[["render",NAt]]);var KAt=ZAt;const BAt={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},QAt={class:"tw-max-w-[25px]"},JAt={class:"tw-inline-flex tw-items-center"},GAt={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},XAt=["checked","id"],t$t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),e$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},r$t={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},a$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},s$t={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},l$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},o$t={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},i$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},w$t={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},n$t={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},d$t={class:"tw-space-y-1"},c$t={class:"tw-font-bold tw-text-green-500"},u$t={class:"tw-block tw-max-w-[150px] tw-truncate"},p$t={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},g$t={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},m$t={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},h$t={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},f$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function b$t(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",BAt,[(0,s._)("div",QAt,[(0,s._)("div",JAt,[(0,s._)("label",GAt,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,XAt),t$t])])])]),(0,s._)("td",e$t,[(0,s._)("div",null,[(0,s._)("h2",r$t,(0,lt.zw)(r.item.id),1)])]),(0,s._)("td",a$t,[(0,s._)("div",null,[(0,s._)("h2",s$t,[(0,s._)("p",null,(0,lt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",l$t,[(0,s._)("div",null,[(0,s._)("h2",o$t,(0,lt.zw)(r.item.fullname),1)])]),(0,s._)("td",i$t,[(0,s._)("div",null,[(0,s._)("h2",w$t,(0,lt.zw)(r.item.phone),1)])]),(0,s._)("td",n$t,[(0,s._)("div",null,[(0,s._)("ul",d$t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",c$t,(0,lt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",u$t,(0,lt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",p$t,(0,lt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",g$t,(0,lt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",m$t,[(0,s._)("span",{class:(0,lt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,lt.zw)(o.confirmation.name),3)]),(0,s._)("td",h$t,[(0,s._)("span",{class:(0,lt.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,lt.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)]),(0,s._)("td",f$t,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const x$t={class:"tw-h-full"},v$t={class:"tw-flex tw-items-center tw-gap-2"},y$t={key:0},_$t={key:1};function k$t(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),w=(0,s.up)("HistoryPopup");return(0,s.wg)(),(0,s.iD)("div",x$t,[(0,s._)("div",v$t,[(0,s.kq)("",!0),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",y$t,[(0,s.Wm)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[3]||(e[3]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",_$t,[(0,s.Wm)(w,{visible:l.history,"onUpdate:visible":e[4]||(e[4]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const C$t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},D$t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),S$t={class:"tw-bg-white tw-p-4"},U$t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},z$t={class:"tw-col-span-2 md:tw-col-span-1"},q$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),P$t=["readonly"],L$t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},W$t={class:"tw-col-span-2 md:tw-col-span-1"},A$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),$$t=["readonly"],E$t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T$t={class:"tw-col-span-2 md:tw-col-span-1"},j$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),F$t={class:"tw-relative"},V$t=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),I$t=["value"],O$t=["value"],H$t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),M$t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},R$t={class:"tw-col-span-2 md:tw-col-span-1"},N$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Y$t=["readonly"],Z$t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},K$t={key:3,class:"tw-col-span-2"},B$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Q$t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},J$t={class:"tw-col-span-2"},G$t={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},X$t={key:0,class:"tw-text-red-400 tw-text-xs"},tEt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},eEt=["disabled"],rEt=(0,s._)("span",null,"Update",-1);function aEt(t,e,r,l,o,i){(0,s.up)("OrderAffectation");const w=(0,s.up)("OrderItems"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",C$t,[D$t,(0,s._)("div",S$t,[(0,s._)("div",U$t,[(0,s._)("div",z$t,[q$t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,lt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,42,P$t),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",L$t,(0,lt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",W$t,[A$t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,class:(0,lt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,42,$$t),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",E$t,(0,lt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",T$t,[j$t,(0,s._)("div",F$t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),readonly:"",onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,lt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[V$t,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,lt.zw)(o.itemCopy.city),9,I$t),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,lt.zw)(t.name),9,O$t)))),128))],34),[[a.bM,o.itemCopy.city]]),H$t]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",M$t,(0,lt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",R$t,[N$t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,lt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,42,Y$t),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Z$t,(0,lt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s.kq)("",!0),(o.itemCopy.confirmation,(0,s.kq)("",!0)),(o.itemCopy.confirmation,(0,s.kq)("",!0)),["change","refund"].includes(o.itemCopy.confirmation)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",K$t,[B$t,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,lt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",Q$t,(0,lt.zw)(o.errors.note),1)):(0,s.kq)("",!0)])),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",J$t,[(0,s._)("label",G$t,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",X$t," # "+(0,lt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",tEt,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),o.itemCopy.affectation||o.itemCopy.confirmation?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),rEt],8,eEt))])])])),_:1},8,["visible","onCancel"])])}const sEt=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!lEt(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),lEt=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},oEt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},iEt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},wEt=(t,e)=>{t.isLoading=!0,t.errors={},fi.update(e.id,e).then((e=>oEt(t,e.data))).catch((e=>iEt(t,e.response.data))).finally((()=>t.isLoading=!1))},nEt={key:0,class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},dEt={key:1,class:"md:tw-col-span-12 tw-col-span-12"},cEt={class:"tw-max-w-full tw-overflow-auto"},uEt={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},pEt={class:"tw-bg-gray-50"},gEt={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},mEt={key:0},hEt=(0,s._)("td",{colspan:"3"},null,-1),fEt=(0,s._)("td",null,[(0,s._)("div",{class:"tw-p-2"},[(0,s._)("p",null,"Total: ")])],-1),bEt={colspan:"2",class:"tw-p-2"},xEt={class:"tw-p-2 tw-py-1 tw-text-sm tw-text-green-500 tw-w-24 tw-font-medium tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},vEt={colspan:"6"},yEt={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},_Et=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),kEt=(0,s._)("span",null,"Add Item",-1),CEt=[_Et,kEt],DEt={key:1},SEt={colspan:"6"},UEt={class:"tw-scale-75 tw-p-5"};function zEt(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",nEt," No Order items ")),r.items.length?((0,s.wg)(),(0,s.iD)("div",dEt,[(0,s._)("div",cEt,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",uEt,[(0,s._)("tr",pEt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,lt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",gEt,(0,lt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",mEt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,order:r.order,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["order","item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[hEt,fEt,(0,s._)("td",bEt,[(0,s._)("div",xEt,[(0,s._)("p",null,(0,lt.zw)(l.currency)+" "+(0,lt.zw)(o.price),1)])])]),(0,s._)("tr",null,[(0,s._)("td",vEt,[(0,s._)("div",yEt,[r.order.affectation||r.order.confirmation?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},CEt))])])])])):((0,s.wg)(),(0,s.iD)("tbody",DEt,[(0,s._)("tr",null,[(0,s._)("td",SEt,[(0,s._)("div",UEt,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const qEt=(0,s._)("td",null,null,-1),PEt={class:"tw-p-2"},LEt={class:"tw-relative"},WEt=["readonly","value"],AEt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),$Et=["value"],EEt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),TEt={class:"tw-p-2"},jEt={key:0,class:"tw-relative"},FEt=["readonly","value"],VEt=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),IEt=["value"],OEt={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},HEt=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),MEt=[HEt],REt={class:"tw-p-2"},NEt=["value","readonly"],YEt={class:"tw-p-2"},ZEt=["value","readonly"],KEt={class:"tw-flex tw-justify-center"};function BEt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[qEt,(0,s._)("td",null,[(0,s._)("div",PEt,[(0,s._)("div",LEt,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),readonly:r.order.affectation||r.order.confirmation,value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[AEt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.name),9,$Et)))),128))],40,WEt),EEt])])]),(0,s._)("td",null,[(0,s._)("div",TEt,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",jEt,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,readonly:r.order.affectation||r.order.confirmation,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[VEt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,lt.zw)(t.color)+" "+(0,lt.zw)(t.size),9,IEt)))),128))],40,FEt)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",OEt,MEt)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",REt,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,readonly:r.order.affectation||r.order.confirmation,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,NEt)])]),(0,s._)("td",null,[(0,s._)("div",YEt,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,readonly:r.order.affectation||r.order.confirmation,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,ZEt)])]),(0,s._)("td",null,[(0,s._)("div",KEt,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var QEt={props:{item:{required:!0},products:{required:!0},order:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const JEt=(0,g.Z)(QEt,[["render",BEt]]);var GEt=JEt,XEt={components:{ItemRow:GEt},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0,default:!1},order:{required:!0}},data(){return{currency:c}},computed:{price(){return po(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1]:1,e=t?t.id+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const tTt=(0,g.Z)(XEt,[["render",zEt]]);var eTt=tTt;const rTt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),aTt={key:0,class:"tw-relative"},sTt=["value","disabled"],lTt=(0,s._)("option",{value:""},"Choose a Delivery",-1),oTt=["value"],iTt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),wTt={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},nTt={key:2,class:"tw-relative"},dTt={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},cTt=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),uTt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function pTt(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[rTt,l.fetched?((0,s.wg)(),(0,s.iD)("div",aTt,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,lt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[lTt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,oTt)))),128))],42,sTt),iTt])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",wTt,(0,lt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",nTt,[(0,s._)("div",dTt,[(0,s.Wm)(i)]),cTt,uTt]))])}var gTt={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,at.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const mTt=(0,g.Z)(gTt,[["render",pTt]]);var hTt=mTt,fTt={components:{OrderItems:eTt,OrderAffectation:hTt},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Wn,upsells:En,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=sEt(this,this.itemCopy);if(!t)return!1;this.itemCopy.note=this.item.note,wEt(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,pa.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const bTt=(0,g.Z)(fTt,[["render",aEt]]);var xTt=bTt;const vTt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},yTt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),_Tt={class:"tw-bg-white tw-p-4"},kTt={key:0},CTt={key:1,class:"tw-p-5"},DTt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},STt={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},UTt=(0,s._)("div",{class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},null,-1),zTt={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},qTt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},PTt={class:"tw-flex tw-flex-col tw-my-2"},LTt=(0,s._)("div",null,"New Order Created",-1),WTt={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},ATt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function $Tt(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",vTt,[yTt,(0,s._)("div",_Tt,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",kTt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",CTt,[(0,s.Wm)(_E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(kE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",DTt,[(0,s._)("div",STt,[(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(wt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(yE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(!t.historique&&["delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),UTt,(0,s._)("div",zTt,[(0,s._)("span",null,(0,lt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,lt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(kE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",qTt,[(0,s._)("div",PTt,[(0,s.Wm)(yE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),LTt]),(0,s._)("div",WTt,[(0,s._)("span",null,(0,lt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,lt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",ATt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var ETt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){const t=[...this.allEvents].reverse();return t.filter((t=>"affectation"!==t.type&&"responsibility"!==t.type))}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ma.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple"};return["confirmation","delivery","upsell"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const TTt=(0,g.Z)(ETt,[["render",$Tt]]);var jTt=TTt,FTt={components:{UpdatePopup:xTt,HistoryPopup:jTt},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const VTt=(0,g.Z)(FTt,[["render",k$t]]);var ITt=VTt,OTt={components:{TableActions:ITt},props:{item:{required:!0},selected:{required:!0}},data(){return{moment:Ce()}},computed:{confirmation(){return Wn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Tn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}}};const HTt=(0,g.Z)(OTt,[["render",b$t]]);var MTt=HTt,RTt={components:{TablePaginationNoNums:KAt,TableRow:MTt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const NTt=(0,g.Z)(RTt,[["render",WAt]]);var YTt=NTt;const ZTt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},KTt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},BTt=["disabled"],QTt=["disabled"],JTt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),GTt=[JTt],XTt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),tjt=[XTt],ejt=["disabled"],rjt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),ajt=[rjt],sjt=["disabled"],ljt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),ojt=[ljt],ijt={class:"tw-relative"},wjt=["value"],njt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),djt=[njt],cjt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ujt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},pjt=["value"],gjt=(0,s._)("option",{value:"all"},"All",-1),mjt=(0,s._)("option",{value:"id"},"ID",-1),hjt=[gjt,mjt],fjt=["value"],bjt={class:"tw-overflow-hidden tw-col-span-1"},xjt={class:"tw-overflow-hidden tw-col-span-1"},vjt={class:"tw-overflow-hidden tw-col-span-1"};function yjt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ZTt,[(0,s._)("div",KTt,[(0,s._)("button",{class:(0,lt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,BTt),(0,s._)("button",{class:(0,lt.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,QTt),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,lt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},GTt,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,lt.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},tjt,2)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},ajt,8,ejt),(0,s._)("button",{onClick:e[5]||(e[5]=t=>o.showExport=!o.showExport),class:(0,lt.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},ojt,10,sjt),(0,s._)("div",ijt,[(0,s._)("select",{onChange:e[6]||(e[6]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},djt,40,wjt),cjt])]),(0,s._)("div",ujt,[(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},hjt,40,pjt),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,fjt),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,lt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",bjt,[(0,s.Wm)(w,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,lt.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",xjt,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,lt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",vjt,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const _jt={class:"tw-mb-4"},kjt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Cjt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Djt={class:"tw-flex tw-items-center tw-justify-between"},Sjt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},Ujt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function zjt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",_jt,[(0,s._)("div",kjt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Cjt,[(0,s._)("p",{class:(0,lt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,lt.zw)(t.name),3),(0,s._)("div",Djt,[(0,s._)("span",Sjt,(0,lt.zw)(t.total),1),(0,s._)("span",Ujt,(0,lt.zw)(t.percent)+"%",1)])])])))),128))])])}var qjt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Wn.find((e=>e.value==t))}}};const Pjt=(0,g.Z)(qjt,[["render",zjt]]);var Ljt=Pjt;const Wjt={class:"tw-mb-4"},Ajt={class:"tw-flex tw-items-center tw-gap-2"},$jt=["disabled"],Ejt=(0,s._)("span",null,"Select Filtered",-1),Tjt={class:"tw-flex tw-justify-end"},jjt=["disabled"];function Fjt(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",Wjt,[(0,s._)("div",Ajt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Ejt],8,$jt)]),(0,s._)("div",Tjt,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,lt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,jjt)])])}var Vjt={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,QWt["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const Ijt=(0,g.Z)(Vjt,[["render",Fjt]]);var Ojt=Ijt;const Hjt={class:"tw-mb-4"},Mjt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Rjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Njt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),Yjt=["value"],Zjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Kjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),Bjt=["value"],Qjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Jjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),Gjt=["value"],Xjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tFt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),eFt=["value"],rFt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},aFt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),sFt=["value"],lFt=(0,s._)("option",{value:"all",selected:""},"All",-1),oFt=["value"],iFt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},wFt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),nFt=["value"],dFt=(0,s._)("option",{value:"all",selected:""},"All",-1),cFt=["value"],uFt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pFt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),gFt=["value"],mFt=(0,s._)("option",{value:"all",selected:""},"All",-1),hFt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),fFt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),bFt=[mFt,hFt,fFt],xFt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},vFt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),yFt=(0,s._)("span",null,"Clear",-1),_Ft=[vFt,yFt],kFt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),CFt=(0,s._)("span",null,"Filter",-1),DFt=[kFt,CFt];function SFt(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",Hjt,[(0,s._)("div",Mjt,[(0,s.kq)("",!0),(0,s._)("div",Rjt,[Njt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Yjt)]),(0,s._)("div",Zjt,[Kjt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Bjt)]),(0,s._)("div",Qjt,[Jjt,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Gjt)]),(0,s._)("div",Xjt,[tFt,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,eFt)]),(0,s._)("div",rFt,[aFt,(0,s._)("select",{value:r.filters.confirmation,onChange:e[5]||(e[5]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[lFt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,oFt)))),128))],40,sFt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",iFt,[wFt,(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[dFt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,cFt)))),128))],40,nFt)]),(0,s._)("div",uFt,[pFt,(0,s._)("select",{value:r.filters.upsell,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},bFt,40,gFt)]),(0,s._)("div",xFt,[(0,s._)("button",{onClick:e[9]||(e[9]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},_Ft),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},DFt)])])])}const UFt={class:"tw-text-sm tw-text-neutral-600"},zFt=["onClick"];function qFt(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",UFt,(0,lt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,lt.zw)(t),9,zFt)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var PFt={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,to.Z)(new Date,1),(0,to.Z)(new Date,1)]},{label:"This month",range:[(0,eo.Z)(new Date),(0,ro.Z)(new Date)]},{label:"Last month",range:[(0,eo.Z)((0,ao.Z)(new Date,1)),(0,ro.Z)((0,ao.Z)(new Date,1))]},{label:"This year",range:[(0,so.Z)(new Date),(0,lo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const LFt=(0,g.Z)(PFt,[["render",qFt]]);var WFt=LFt;const AFt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$Ft=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function EFt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",AFt,[$Ft,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var TFt={components:{"vue-select":AY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return pa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const jFt=(0,g.Z)(TFt,[["render",EFt]]);var FFt=jFt,VFt={components:{DateFilter:WFt,ProductFilter:FFt},props:{filters:{required:!0,default:{}}},data(){return{confirmations:Wn,deliveries:Tn,dateFilter:["",""]}}};const IFt=(0,g.Z)(VFt,[["render",SFt]]);var OFt=IFt,HFt={components:{IndexStatistics:Ljt,FiltersWrapper:OFt,IndexExport:Ojt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=Ce()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const MFt=(0,g.Z)(HFt,[["render",yjt]]);var RFt=MFt;const NFt={class:"tw-mb-4"},YFt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},ZFt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},KFt={class:"tw-flex tw-items-center tw-gap-2"},BFt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},QFt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),JFt={class:"tw-flex tw-items-center tw-gap-2"},GFt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),XFt=(0,s._)("span",null," Clear Selection ",-1),tVt=[GFt,XFt],eVt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),rVt=(0,s._)("span",null," Actions ",-1),aVt=[eVt,rVt],sVt={key:0};function lVt(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",NFt,[(0,s._)("div",YFt,[(0,s._)("div",ZFt,[(0,s._)("div",KFt,[(0,s._)("div",BFt,(0,lt.zw)(r.selected.length),1),QFt]),(0,s._)("div",JFt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},tVt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},aVt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",sVt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const oVt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},iVt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},wVt=(0,s._)("span",null,"Quick Actions",-1),nVt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},dVt={class:"tw-bg-white tw-p-4"},cVt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},uVt={class:"tw-col-span-2 md:tw-col-span-1"},pVt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},gVt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},mVt=(0,s._)("span",null,"Apply",-1);function hVt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",oVt,[(0,s._)("div",iVt,[wVt,(0,s._)("span",nVt,(0,lt.zw)(r.selected.length),1)]),(0,s._)("div",dVt,[(0,s._)("div",cVt,[(0,s._)("div",uVt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",pVt,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",gVt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),mVt])])])])),_:1},8,["visible","closeable","onCancel"])])}const fVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),bVt={class:"tw-relative"},xVt=["value"],vVt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function yVt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[fVt,(0,s._)("div",bVt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,lt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,xVt)))),128))],512),[[a.bM,i.vaction]]),vVt]),(0,s.kq)("",!0)])}var _Vt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const kVt=(0,g.Z)(_Vt,[["render",yVt]]);var CVt=kVt;const DVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),SVt={class:"tw-relative"},UVt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),zVt=["value"],qVt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function PVt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[DVt,(0,s._)("div",SVt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,lt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[UVt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.text]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,zVt)))),128))],512),[[a.bM,i.vvalue]]),qVt]),(0,s.kq)("",!0)])}var LVt={props:{value:{required:!0}},data(){return{statuses:Tn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const WVt=(0,g.Z)(LVt,[["render",PVt]]);var AVt=WVt,$Vt=(t,e)=>{t.isLoading=!0,nX.execute(e).then((e=>EVt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const EVt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var TVt={components:{BulkSelectAction:CVt,BulkDeliveryAction:AVt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};$Vt(this,t)}}};const jVt=(0,g.Z)(TVt,[["render",hVt]]);var FVt=jVt,VVt={components:{BulkPopup:FVt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const IVt=(0,g.Z)(VVt,[["render",lVt]]);var OVt=IVt,HVt={components:{IndexTable:YTt,IndexFilters:RFt,BulkActions:OVt},data(){return{fetching:!0,items:[],selected:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,QWt.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=go(t.first_page_url),this.lase_page_url=go(t.last_page_url),this.next_page_url=go(t.next_page_url),this.prev_page_url=go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"},this.handlePageChange(1)},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){console.log(t),this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},handleBulkUpdate(){this.selected=[],this.paginateOrders()}},mounted(){this.paginateOrders()}};const MVt=(0,g.Z)(HVt,[["render",KWt]]);var RVt=MVt,NVt={name:"seller",path:"/seller/list",component:Sa,meta:{module:"seller"},children:[{name:"seller/list",path:"",component:RVt,meta:{module:"sellersale",subModule:"seller/list",title:"Seller List",gate:"show_seller_sales"}}]};const YVt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},ZVt={class:"tw-px-3"},KVt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},BVt={class:"tw-flex tw-items-center tw-gap-x-3"},QVt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),JVt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},GVt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),XVt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},tIt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),eIt=(0,s._)("span",null,"Create",-1),rIt=[tIt,eIt],aIt={key:1};function sIt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=((0,s.up)("BulkActions"),(0,s.up)("IndexTable")),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",YVt,[(0,s._)("section",ZVt,[(0,s._)("div",KVt,[(0,s._)("div",null,[(0,s._)("div",BVt,[QVt,(0,s._)("span",JVt,(0,lt.zw)(l.totalOrders)+" order",1)]),GVt]),(0,s._)("div",XVt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},rIt)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",aIt,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const lIt={class:"tw-mb-4"},oIt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},iIt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},wIt={class:"tw-flex tw-items-center tw-gap-2"},nIt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},dIt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),cIt={class:"tw-flex tw-items-center tw-gap-2"},uIt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),pIt=(0,s._)("span",null," Clear Selection ",-1),gIt=[uIt,pIt],mIt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),hIt=(0,s._)("span",null," Actions ",-1),fIt=[mIt,hIt],bIt={key:0};function xIt(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",lIt,[(0,s._)("div",oIt,[(0,s._)("div",iIt,[(0,s._)("div",wIt,[(0,s._)("div",nIt,(0,lt.zw)(r.selected.length),1),dIt]),(0,s._)("div",cIt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},gIt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},fIt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",bIt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const vIt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},yIt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},_It=(0,s._)("span",null,"Quick Actions",-1),kIt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},CIt={class:"tw-bg-white tw-p-4"},DIt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},SIt={class:"tw-col-span-2 md:tw-col-span-1"},UIt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},zIt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},qIt=(0,s._)("span",null,"Apply",-1);function PIt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",vIt,[(0,s._)("div",yIt,[_It,(0,s._)("span",kIt,(0,lt.zw)(r.selected.length),1)]),(0,s._)("div",CIt,[(0,s._)("div",DIt,[(0,s._)("div",SIt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",UIt,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",zIt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),qIt])])])])),_:1},8,["visible","closeable","onCancel"])])}const LIt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),WIt={class:"tw-relative"},AIt=["value"],$It=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function EIt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[LIt,(0,s._)("div",WIt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,lt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,lt.zw)(t.name),9,AIt)))),128))],512),[[a.bM,i.vaction]]),$It]),(0,s.kq)("",!0)])}var TIt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const jIt=(0,g.Z)(TIt,[["render",EIt]]);var FIt=jIt;const VIt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),IIt={class:"tw-relative"},OIt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),HIt=["value"],MIt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function RIt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[VIt,(0,s._)("div",IIt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,lt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[OIt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([t.text]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,HIt)))),128))],512),[[a.bM,i.vvalue]]),MIt]),(0,s.kq)("",!0)])}var NIt={props:{value:{required:!0}},data(){return{statuses:Tn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const YIt=(0,g.Z)(NIt,[["render",RIt]]);var ZIt=YIt,KIt=(t,e)=>{t.isLoading=!0,nX.execute(e).then((e=>BIt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const BIt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var QIt={components:{BulkSelectAction:FIt,BulkDeliveryAction:ZIt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};KIt(this,t)}}};const JIt=(0,g.Z)(QIt,[["render",PIt]]);var GIt=JIt,XIt={components:{BulkPopup:GIt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const tOt=(0,g.Z)(XIt,[["render",xIt]]);var eOt=tOt,rOt={components:{IndexTable:J4,IndexFilters:F8,CreatePopup:F6,BulkActions:eOt},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,fi.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=go(t.first_page_url),this.lase_page_url=go(t.last_page_url),this.next_page_url=go(t.next_page_url),this.prev_page_url=go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,at.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const aOt=(0,g.Z)(rOt,[["render",sIt]]);var sOt=aOt,lOt={path:"/followup",name:"followup",component:Sa,meta:{module:"dashboard"},children:[{name:"followup/index",path:"",component:sOt,meta:{module:"followup",title:"Follow Up Orders",gate:"follow_up_orders"}}]};const oOt={class:"tw-pb-40"},iOt={class:"tw-space-y-3"};function wOt(t,e,r,a,l,o){const i=(0,s.up)("OnlineUsers"),w=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexRevenue"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",oOt,[(0,s._)("div",iOt,[(0,s.Wm)(i),(0,s.Wm)(w,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(d,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const nOt={class:"tw-bg-white tw-p-5"},dOt={class:"tw-flex tw-items-center tw-justify-between"},cOt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Users",-1),uOt={class:"tw-relative tw-flex tw-items-center"},pOt=(0,s._)("span",{class:"tw-text-xs tw-absolute tw-right-0 tw-top-0 -tw-translate-y-full tw-whitespace-nowrap"},"Show All",-1),gOt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-scale-75"},mOt=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none peer-focus:tw-ring-4 peer-focus:tw-ring-orange-200 dark:peer-focus:tw-ring-orange-500 tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600 peer-checked:tw-bg-orange-500"},null,-1),hOt={key:0,class:""},fOt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},bOt=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),xOt=[bOt],vOt={key:1,class:"tw-min-h-[50px]"},yOt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},_Ot={class:"py-2 px-3 tw-rounded tw-bg-white tw-shadow-sm tw-grid tw-grid-cols-12 tw-relative tw-overflow-hidden"},kOt={class:"tw-col-span-12 tw-flex tw-items-center tw-gap-2 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},COt={key:0,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-red-400 tw-absolute tw-top-0 tw-right-0"},DOt={key:1,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-green-500 tw-absolute tw-top-0 tw-right-0"},SOt={key:2,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-yellow-400 tw-absolute tw-top-0 tw-right-0"},UOt={class:"tw-font-bold"},zOt={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs tw-mt-1"},qOt={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},POt={key:1},LOt={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},WOt={key:1,class:"tw-flex tw-items-center tw-gap-2"};function AOt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",nOt,[(0,s._)("div",dOt,[cOt,(0,s._)("div",uOt,[pOt,(0,s._)("label",gOt,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>o.showAll=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.showAll]]),mOt])])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",hOt,[(0,s._)("div",fOt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},xOt))),64))])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",vOt,[(0,s._)("div",yOt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",_Ot,[(0,s._)("div",kOt,[t.last_action?1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",DOt)):((0,s.wg)(),(0,s.iD)("div",SOt)):((0,s.wg)(),(0,s.iD)("div",COt)),(0,s._)("span",UOt,(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),1)]),(0,s._)("div",zOt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",POt,[1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",LOt," Online ")):((0,s.wg)(),(0,s.iD)("div",WOt,(0,lt.zw)(i.lastSeen(t.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",qOt," Never Connected "))])])])))),128))])])):(0,s.kq)("",!0)])}var $Ot={components:{},data(){return{isLoaded:!1,showAll:!1}},computed:{users(){return this.showAll?this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?Ce()(t.last_action).isAfter(e.last_action)?-1:1:-1)):this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?Ce()(t.last_action).isAfter(e.last_action)?-1:1:-1)).slice(0,8)}},methods:{getUsers(){at.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,hs.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const EOt=(0,g.Z)($Ot,[["render",AOt]]);var TOt=EOt;const jOt={class:"tw-bg-white"},FOt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},VOt={class:"tw-p-5"};function IOt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),w=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",jOt,[(0,s._)("div",FOt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,lt.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,lt.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",VOt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(w,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const OOt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},HOt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),MOt=[HOt],ROt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function NOt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",OOt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},MOt))),64))])):((0,s.wg)(),(0,s.iD)("div",ROt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const YOt={class:"tw-flex tw-justify-between"},ZOt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},KOt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},BOt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},QOt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function JOt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,lt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",YOt,[(0,s._)("div",null,[(0,s._)("div",ZOt,[(0,s._)("p",KOt,(0,lt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,lt.j5)({background:r.color})},(0,lt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",BOt,[(0,s._)("span",QOt,(0,lt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,lt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(wt.t,{style:(0,lt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var GOt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const XOt=(0,g.Z)(GOt,[["render",JOt]]);var tHt=XOt,eHt={components:{DashboardCard:tHt},props:{statistics:{required:!0},fetching:{required:!0}}};const rHt=(0,g.Z)(eHt,[["render",NOt]]);var aHt=rHt;const sHt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},lHt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),oHt=[lHt],iHt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function wHt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",sHt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},oHt))),64))])):((0,s.wg)(),(0,s.iD)("div",iHt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var nHt={components:{DashboardCard:tHt},props:{statistics:{required:!0},fetching:{required:!0}}};const dHt=(0,g.Z)(nHt,[["render",wHt]]);var cHt=dHt,uHt={components:{ConfirmationTab:aHt,DeliveryTab:cHt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const pHt=(0,g.Z)(uHt,[["render",IOt]]);var gHt=pHt;const mHt={class:"tw-bg-white tw-p-5"},hHt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),fHt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},bHt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xHt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),vHt=(0,s._)("option",{value:"all",selected:""},"All",-1),yHt=["value"],_Ht={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kHt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),CHt=(0,s._)("option",{value:"all",selected:""},"All",-1),DHt=["value"],SHt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},UHt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),zHt=(0,s._)("option",{value:"all",selected:""},"All",-1),qHt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),PHt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),LHt=[zHt,qHt,PHt],WHt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},AHt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),$Ht=(0,s._)("span",null,"Clear",-1),EHt=[AHt,$Ht],THt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),jHt=(0,s._)("span",null,"Filter",-1),FHt=[THt,jHt];function VHt(t,e,r,l,o,i){const w=(0,s.up)("DateFilter"),n=(0,s.up)("AgentFilter"),d=(0,s.up)("SellerFilter"),c=(0,s.up)("AffectationFilter"),u=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",mHt,[hHt,(0,s._)("div",fHt,[(0,s.Wm)(w,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.delivered_from,"onUpdate:from":e[4]||(e[4]=t=>o.filters.delivered_from=t),to:o.filters.delivered_to,"onUpdate:to":e[5]||(e[5]=t=>o.filters.delivered_to=t),label:"Delivered"},null,8,["from","to"]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[6]||(e[6]=t=>o.filters=t)},null,8,["filters"]),(0,s.Wm)(d,{filters:o.filters,onUpdate:e[7]||(e[7]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",bHt,[xHt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[vHt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,yHt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s.Wm)(c,{filters:o.filters,onUpdate:e[9]||(e[9]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",_Ht,[kHt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[CHt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,DHt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(u,{filters:o.filters,onUpdate:e[11]||(e[11]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",SHt,[UHt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},LHt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",WHt,[(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},EHt),(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},FHt)])])])}const IHt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},OHt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),HHt=["value"],MHt=(0,s._)("option",{value:"all"},"All",-1),RHt=(0,s._)("option",{value:""},"No Delivery",-1),NHt=["value"];function YHt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",IHt,[OHt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[MHt,RHt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,NHt)))),128))],40,HHt)])}var ZHt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const KHt=(0,g.Z)(ZHt,[["render",YHt]]);var BHt=KHt;const QHt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},JHt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),GHt=["value"],XHt=(0,s._)("option",{value:"all"},"All",-1),tMt=(0,s._)("option",{value:""},"No Agent",-1),eMt=["value"];function rMt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",QHt,[JHt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[XHt,tMt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,eMt)))),128))],40,GHt)])}var aMt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const sMt=(0,g.Z)(aMt,[["render",rMt]]);var lMt=sMt;const oMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},iMt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),wMt=["value"],nMt=(0,s._)("option",{value:"all"},"All",-1),dMt=["value"];function cMt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",oMt,[iMt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[nMt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,dMt)))),128))],40,wMt)])}var uMt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const pMt=(0,g.Z)(uMt,[["render",cMt]]);var gMt=pMt;const mMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hMt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function fMt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",mMt,[hMt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"]),(0,s.kq)("",!0)])}var bMt={components:{"vue-select":AY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return"all"!=this.filters.user_id?this.$store.getters["product/products"]?.filter((t=>t.user_id==this.filters.user_id)):this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const xMt=(0,g.Z)(bMt,[["render",fMt]]);var vMt=xMt;const yMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},_Mt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},kMt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),CMt=[kMt],DMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},SMt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},UMt=["value"],zMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},qMt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},PMt=["value"];function LMt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",yMt,[(0,s._)("label",_Mt,(0,lt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},CMt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",DMt,[(0,s._)("label",SMt,(0,lt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,UMt)]),(0,s._)("div",zMt,[(0,s._)("label",qMt,(0,lt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,PMt)])],64)):(0,s.kq)("",!0)],64)}var WMt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=Ce()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=Ce()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=Ce()().startOf("month").format("YYYY-MM-DD"),a=Ce()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=Ce()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=Ce()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const AMt=(0,g.Z)(WMt,[["render",LMt]]);var $Mt=AMt,EMt={components:{AffectationFilter:BHt,AgentFilter:lMt,ProductFilter:vMt,DateFilter:$Mt,SellerFilter:gMt},props:{},data(){return{confirmations:Wn,deliveries:Tn,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const TMt=(0,g.Z)(EMt,[["render",VHt]]);var jMt=TMt;const FMt={key:0},VMt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function IMt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",FMt,[(0,s._)("div",VMt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const OMt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},HMt={class:"tw-flex tw-justify-between"},MMt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},RMt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},NMt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},YMt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function ZMt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",OMt,[(0,s._)("div",HMt,[(0,s._)("div",null,[(0,s._)("div",MMt,[(0,s._)("p",RMt,(0,lt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,lt.j5)({background:r.color})},(0,lt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",NMt,[(0,s._)("span",YMt,(0,lt.zw)(o.format(r.value)),1)])]),(0,s._)("div",{style:(0,lt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(wt.t,{style:(0,lt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var KMt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const BMt=(0,g.Z)(KMt,[["render",ZMt]]);var QMt=BMt,JMt={components:{RevenueCard:QMt},props:{statistics:{required:!0},fetching:{required:!0}}};const GMt=(0,g.Z)(JMt,[["render",IMt]]);var XMt=GMt,tRt={components:{OnlineUsers:TOt,IndexStatistics:gHt,IndexFilters:jMt,IndexRevenue:XMt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,zu.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const eRt=(0,g.Z)(tRt,[["render",wOt]]);var rRt=eRt;const aRt={class:"tw-pb-40"},sRt={class:"tw-space-y-3"};function lRt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexRevenue"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",aRt,[(0,s._)("div",sRt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const oRt={class:"tw-bg-white"},iRt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},wRt={class:"tw-p-5"};function nRt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),w=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",oRt,[(0,s._)("div",iRt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,lt.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,lt.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",wRt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(w,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const dRt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},cRt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),uRt=[cRt],pRt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function gRt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",dRt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},uRt))),64))])):((0,s.wg)(),(0,s.iD)("div",pRt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const mRt={class:"tw-flex tw-justify-between"},hRt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},fRt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},bRt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},xRt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function vRt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,lt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",mRt,[(0,s._)("div",null,[(0,s._)("div",hRt,[(0,s._)("p",fRt,(0,lt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,lt.j5)({background:r.color})},(0,lt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",bRt,[(0,s._)("span",xRt,(0,lt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,lt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(wt.t,{style:(0,lt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var yRt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const _Rt=(0,g.Z)(yRt,[["render",vRt]]);var kRt=_Rt,CRt={components:{DashboardCard:kRt},props:{statistics:{required:!0},fetching:{required:!0}}};const DRt=(0,g.Z)(CRt,[["render",gRt]]);var SRt=DRt;const URt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},zRt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),qRt=[zRt],PRt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function LRt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",URt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},qRt))),64))])):((0,s.wg)(),(0,s.iD)("div",PRt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var WRt={components:{DashboardCard:kRt},props:{statistics:{required:!0},fetching:{required:!0}}};const ARt=(0,g.Z)(WRt,[["render",LRt]]);var $Rt=ARt,ERt={components:{ConfirmationTab:SRt,DeliveryTab:$Rt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const TRt=(0,g.Z)(ERt,[["render",nRt]]);var jRt=TRt;const FRt={class:"tw-bg-white tw-p-5"},VRt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),IRt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},ORt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},HRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),MRt=(0,s._)("option",{value:"all",selected:""},"All",-1),RRt=["value"],NRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),ZRt=(0,s._)("option",{value:"all",selected:""},"All",-1),KRt=["value"],BRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},QRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),JRt=(0,s._)("option",{value:"all",selected:""},"All",-1),GRt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),XRt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),tNt=[JRt,GRt,XRt],eNt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},rNt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),aNt=(0,s._)("span",null,"Clear",-1),sNt=[rNt,aNt],lNt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),oNt=(0,s._)("span",null,"Filter",-1),iNt=[lNt,oNt];function wNt(t,e,r,l,o,i){const w=(0,s.up)("DateFilter"),n=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",FRt,[VRt,(0,s._)("div",IRt,[(0,s.Wm)(w,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",ORt,[HRt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[MRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,RRt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s._)("div",NRt,[YRt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[ZRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,lt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,lt.zw)(t.name),11,KRt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[6]||(e[6]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",BRt,[QRt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},tNt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",eNt,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},sNt),(0,s._)("button",{onClick:e[9]||(e[9]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},iNt)])])])}const nNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dNt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function cNt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",nNt,[dNt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var uNt={components:{"vue-select":AY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const pNt=(0,g.Z)(uNt,[["render",cNt]]);var gNt=pNt;const mNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hNt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},fNt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),bNt=[fNt],xNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vNt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},yNt=["value"],_Nt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kNt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},CNt=["value"];function DNt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",mNt,[(0,s._)("label",hNt,(0,lt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},bNt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",xNt,[(0,s._)("label",vNt,(0,lt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,yNt)]),(0,s._)("div",_Nt,[(0,s._)("label",kNt,(0,lt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,CNt)])],64)):(0,s.kq)("",!0)],64)}var SNt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=Ce()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=Ce()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=Ce()().startOf("month").format("YYYY-MM-DD"),a=Ce()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=Ce()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=Ce()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const UNt=(0,g.Z)(SNt,[["render",DNt]]);var zNt=UNt,qNt={components:{ProductFilter:gNt,DateFilter:zNt},props:{},data(){return{confirmations:Wn,deliveries:Tn,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const PNt=(0,g.Z)(qNt,[["render",wNt]]);var LNt=PNt;const WNt={key:0},ANt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function $Nt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",WNt,[(0,s._)("div",ANt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const ENt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},TNt={class:"tw-flex tw-justify-between"},jNt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},FNt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},VNt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},INt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function ONt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ENt,[(0,s._)("div",TNt,[(0,s._)("div",null,[(0,s._)("div",jNt,[(0,s._)("p",FNt,(0,lt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,lt.j5)({background:r.color})},(0,lt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",VNt,[(0,s._)("span",INt,(0,lt.zw)(r.value)+"$ ",1)])]),(0,s._)("div",{style:(0,lt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(wt.t,{style:(0,lt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var HNt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const MNt=(0,g.Z)(HNt,[["render",ONt]]);var RNt=MNt,NNt={components:{RevenueCard:RNt},props:{statistics:{required:!0},fetching:{required:!0}}};const YNt=(0,g.Z)(NNt,[["render",$Nt]]);var ZNt=YNt,KNt={components:{IndexStatistics:jRt,IndexFilters:LNt,IndexRevenue:ZNt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,QWt.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"seller"!=this.user.role&&this.$router.push({name:"404"})}};const BNt=(0,g.Z)(KNt,[["render",lRt]]);var QNt=BNt;const JNt={class:"tw-pb-40"},GNt={class:"tw-space-y-3"};function XNt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexAnalytics");return(0,s.wg)(),(0,s.iD)("div",JNt,[(0,s._)("div",GNt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{analytics:l.analytics,fetching:l.fetching},null,8,["analytics","fetching"])])])}const tYt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},eYt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),rYt=[eYt],aYt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function sYt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return r.fetching?((0,s.wg)(),(0,s.iD)("div",tYt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},rYt))),64))])):((0,s.wg)(),(0,s.iD)("div",aYt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.analytics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))}const lYt={class:"tw-flex tw-justify-between"},oYt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},iYt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},wYt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},nYt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function dYt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,lt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",lYt,[(0,s._)("div",null,[(0,s._)("div",oYt,[(0,s._)("p",iYt,(0,lt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,lt.j5)({background:r.color})},(0,lt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",wYt,[(0,s._)("span",nYt,(0,lt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,lt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(wt.t,{style:(0,lt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var cYt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const uYt=(0,g.Z)(cYt,[["render",dYt]]);var pYt=uYt,gYt={components:{DashboardCard:pYt},props:{analytics:{required:!0},fetching:{required:!0}}};const mYt=(0,g.Z)(gYt,[["render",sYt]]);var hYt=mYt;const fYt={class:"tw-bg-white tw-p-5"},bYt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),xYt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},vYt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},yYt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),_Yt=(0,s._)("span",null,"Clear",-1),kYt=[yYt,_Yt],CYt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),DYt=(0,s._)("span",null,"Filter",-1),SYt=[CYt,DYt];function UYt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),w=(0,s.up)("SellerFilter"),n=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",fYt,[bYt,(0,s._)("div",xYt,[(0,s.Wm)(i,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(i,{from:l.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(w,{filters:l.filters,onUpdate:e[4]||(e[4]=t=>l.filters=t)},null,8,["filters"]),(0,s.Wm)(n,{filters:l.filters,onUpdate:e[5]||(e[5]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",vYt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},kYt),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},SYt)])])])}const zYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},qYt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),PYt=["value"],LYt=(0,s._)("option",{value:"all"},"All",-1),WYt=["value"];function AYt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",zYt,[qYt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[LYt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,WYt)))),128))],40,PYt)])}var $Yt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const EYt=(0,g.Z)($Yt,[["render",AYt]]);var TYt=EYt;const jYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},FYt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function VYt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",jYt,[FYt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var IYt={components:{"vue-select":AY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const OYt=(0,g.Z)(IYt,[["render",VYt]]);var HYt=OYt;const MYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},RYt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},NYt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),YYt=[NYt],ZYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},KYt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},BYt=["value"],QYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},JYt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},GYt=["value"];function XYt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",MYt,[(0,s._)("label",RYt,(0,lt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},YYt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",ZYt,[(0,s._)("label",KYt,(0,lt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,BYt)]),(0,s._)("div",QYt,[(0,s._)("label",JYt,(0,lt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,GYt)])],64)):(0,s.kq)("",!0)],64)}var tZt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=Ce()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=Ce()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=Ce()().startOf("month").format("YYYY-MM-DD"),a=Ce()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=Ce()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=Ce()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const eZt=(0,g.Z)(tZt,[["render",XYt]]);var rZt=eZt,aZt={components:{SellerFilter:TYt,ProductFilter:HYt,DateFilter:rZt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,user_id:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const sZt=(0,g.Z)(aZt,[["render",UYt]]);var lZt=sZt,oZt={components:{IndexAnalytics:hYt,IndexFilters:lZt},data(){return{filters:null,analytics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,zu.analytics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.analytics=t.data.data.analytics.analytics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const iZt=(0,g.Z)(oZt,[["render",XNt]]);var wZt=iZt;function nZt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])}const dZt={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1 tw-py-2"},cZt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),uZt=[cZt];function pZt(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",dZt,[r.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},uZt))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(r.statistics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])}const gZt={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},mZt={class:"tw-flex tw-justify-between"},hZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},fZt={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},bZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},xZt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function vZt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",gZt,[(0,s._)("div",mZt,[(0,s._)("div",null,[(0,s._)("div",hZt,[(0,s._)("p",fZt,(0,lt.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,lt.j5)({background:r.color})},(0,lt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",bZt,[(0,s._)("span",xZt,(0,lt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,lt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(wt.t,{style:(0,lt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var yZt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const _Zt=(0,g.Z)(yZt,[["render",vZt]]);var kZt=_Zt,CZt={components:{DashCard:kZt},props:{statistics:{required:!0},fetching:{required:!0}}};const DZt=(0,g.Z)(CZt,[["render",pZt]]);var SZt=DZt;const UZt={class:"tw-bg-white tw-p-5"},zZt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),qZt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},PZt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},LZt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),WZt=(0,s._)("span",null,"Clear",-1),AZt=[LZt,WZt],$Zt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),EZt=(0,s._)("span",null,"Filter",-1),TZt=[$Zt,EZt];function jZt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",UZt,[zZt,(0,s._)("div",qZt,[(0,s.Wm)(i,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",PZt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},AZt),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},TZt)])])])}const FZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},VZt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},IZt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),OZt=[IZt],HZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},MZt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},RZt=["value"],NZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YZt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},ZZt=["value"];function KZt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",FZt,[(0,s._)("label",VZt,(0,lt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},OZt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",HZt,[(0,s._)("label",MZt,(0,lt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,RZt)]),(0,s._)("div",NZt,[(0,s._)("label",YZt,(0,lt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,ZZt)])],64)):(0,s.kq)("",!0)],64)}var BZt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=Ce()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=Ce()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=Ce()().startOf("month").format("YYYY-MM-DD"),a=Ce()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=Ce()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=Ce()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const QZt=(0,g.Z)(BZt,[["render",KZt]]);var JZt=QZt,GZt={components:{DateFilter:JZt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const XZt=(0,g.Z)(GZt,[["render",jZt]]);var tKt=XZt,eKt={components:{IndexStatistics:SZt,IndexFilters:tKt},data(){return{filters:null,statistics:null,fetching:!0}},methods:{handleFilter(){this.fetching=!0,T.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}}};const rKt=(0,g.Z)(eKt,[["render",nZt]]);var aKt=rKt,sKt={name:"dashboards",path:"/dashboards",component:Sa,meta:{module:"dashboards",gate:"all"},children:[{name:"dashboards/admin",path:"admin",component:rRt,meta:{module:"dashboards",subModule:"dashboards/admin",title:"Dashboard",gate:"all"}},{name:"dashboards/seller",path:"seller",component:QNt,meta:{module:"dashboards",subModule:"dashboards/seller",title:"Dashboard",gate:"all"}},{name:"dashboards/analytics",path:"/analytics",component:wZt,meta:{module:"dashboards",subModule:"dashboards/analytics",title:"Dashboard Analytics",gate:"show_all_ads"}},{name:"dashboards/agent",path:"agent",component:aKt,meta:{module:"dashboards",subModule:"dashboards/agent",title:"Dashboard",gate:"all"}}]};class lKt{async paginate(t="",e){return await $.getCookie(),W.get("api/sourcings"+t,{params:e})}async create(t){return await $.getCookie(),W.post("api/sourcings/new",t)}async update(t,e){return await $.getCookie(),W.post("api/sourcings/"+t,e)}async get(t){return await $.getCookie(),W.get("api/sourcings/"+t)}async history(t){return await $.getCookie(),W.get("api/sourcings/"+t+"/history")}async delete(t){return await $.getCookie(),W["delete"]("api/sourcings/"+t)}}var oKt=new lKt;const iKt=[{name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-600 tw-font-medium"},{name:"Quoting",value:"quoting",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"},{name:"Confirmed",value:"confirmed",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"}],wKt=[{step:1,name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{step:2,name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-500 tw-font-medium"},{step:3,name:"Packing",value:"packing",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{step:4,name:"Shipped",value:"shipped",class:"tw-text-white tw-bg-violet-500 tw-font-medium"},{step:5,name:"Delivered",value:"delivered",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"},{step:0,name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"}],nKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dKt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Quotation",-1),cKt=(0,s._)("option",{value:"all"},"All",-1),uKt=["value"];var pKt={__name:"FilterByQuotation",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",nKt,[dKt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ve.SU)(e).setFilter("quotation_status",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[cKt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(iKt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,lt.zw)(t.name),9,uKt)))),128))],32)]))}};const gKt=pKt;var mKt=gKt;const hKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fKt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Sourcing",-1),bKt=(0,s._)("option",{value:"all"},"All",-1),xKt=["value"];var vKt={__name:"FilterBySourcing",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",hKt,[fKt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ve.SU)(e).setFilter("sourcing_status",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[bKt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(wKt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,lt.zw)(t.name),9,xKt)))),128))],32)]))}};const yKt=vKt;var _Kt=yKt;const kKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},CKt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),DKt=(0,s._)("option",{value:"all"},"All",-1),SKt=["value"];var UKt={__name:"FilterBySeller",setup(t){const e=(0,s.f3)("options"),r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/fetched"])),l=(0,s.Fl)((()=>r.getters["user/users"])),o=(0,s.Fl)((()=>a.value?l.value.filter((t=>"seller"==t.role.name)):[]));return(t,r)=>((0,s.wg)(),(0,s.iD)("div",kKt,[CKt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ve.SU)(e).setFilter("user_id",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[DKt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(o),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,lt.zw)(t.firstname)+" "+(0,lt.zw)(t.lastname),9,SKt)))),128))],32)]))}};const zKt=UKt;var qKt=zKt;const PKt={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-4"},LKt={key:0,class:"md:tw-col-span-4 tw-col-span-12"},WKt={key:1,class:"md:tw-col-span-4 tw-col-span-12"},AKt={key:2,class:"md:tw-col-span-4 tw-col-span-12"},$Kt={class:"tw-col-span-12 tw-flex tw-justify-end"},EKt=(0,s._)("span",null,"Filter",-1),TKt=[EKt];var jKt={__name:"FilterOption",setup(t){const e=(0,s.f3)("options");(0,ve.Vh)(e,"options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",PKt,[["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",LKt,[(0,s.Wm)((0,ve.SU)(qKt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",WKt,[(0,s.Wm)((0,ve.SU)(mKt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",AKt,[(0,s.Wm)((0,ve.SU)(_Kt))])):(0,s.kq)("",!0),(0,s._)("div",$Kt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>(0,ve.SU)(e).getData()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},TKt)])])]))}};const FKt=jKt;var VKt=FKt;const IKt={class:"tw-relative tw-h-[40px] tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},OKt=["value"],HKt=["value"],MKt=["value","onKeyup"];var RKt={__name:"SearchOption",emits:["update:search-by-field","update:search","filter"],setup(t,{emit:e}){const r=(0,ve.iH)([{field:"all",name:"All"},{field:"id",name:"ID"}]),l=(0,ve.iH)("all"),o=(0,ve.iH)(""),i=t=>{e("update:search-by-field",t.target.value)},w=t=>{e("update:search",t.target.value)},n=()=>{e("filter")};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",IKt,[(0,s._)("select",{onChange:i,value:l.value,class:"tw-block tw-h-[40px] !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.field,key:t.field},(0,lt.zw)(t.name),9,HKt)))),128))],40,OKt),(0,s._)("input",{type:"text",placeholder:"Search",value:o.value,onInput:w,onKeyup:(0,a.D2)(n,["enter"]),class:"tw-block tw-h-[40px] tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,MKt),(0,s._)("button",{onClick:n,class:"tw-absolute tw-h-[40px] tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(wt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])]))}};const NKt=RKt;var YKt=NKt;const ZKt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between tw-flex-wrap"},KKt={class:"tw-inline-flex tw-flex-wrap tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},BKt={class:"tw-relative tw-h-[40px]"},QKt=["value"],JKt={class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},GKt={key:0},XKt={class:"tw-overflow-hidden tw-col-span-1"};var tBt={__name:"IndexOptions",setup(t){const e=(0,ve.qj)({filters:!1}),r=(0,s.f3)("options"),a=t=>{r.setOptions({...r.options,per_page:parseInt(t)}),r.getData()};return(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ZKt,[(0,s._)("div",KKt,[(0,s._)("button",{class:(0,lt.C_)([["!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:!0}," View all "),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Filters",class:(0,lt.C_)([[e.filters&&"!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),onClick:r[0]||(r[0]=t=>e.filters=!e.filters)},[(0,s.Wm)(l,{icon:"mi:filter",class:"tw-text-2xl"})],2)):(0,s.kq)("",!0),(0,s._)("div",BKt,[(0,s._)("select",{value:10,onChange:r[1]||(r[1]=t=>a(t.target.value)),class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)([5,10,20,50,100,250,500],(t=>(0,s._)("option",{value:t,key:t},(0,lt.zw)(t),9,QKt))),64))],32),(0,s._)("div",JKt,[(0,s.Wm)(l,{icon:"mdi:chevron-down",class:"tw-text-xl"})])])]),(0,s._)("div",null,[(0,s.Wm)((0,ve.SU)(YKt))])]),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",GKt,[(0,s._)("div",{class:(0,lt.C_)([[e.filters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",XKt,[(0,s.Wm)((0,ve.SU)(VKt))])],2)])):(0,s.kq)("",!0)])}}};const eBt=tBt;var rBt=eBt;const aBt={class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},sBt=["colspan"],lBt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},oBt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),iBt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),wBt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),nBt=[iBt,wBt];var dBt={__name:"TableLoading",props:{columns:{type:Number,required:!1,default:10},rows:{type:Number,required:!1,default:10}},setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("tbody",aBt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:e.rows},[(0,s._)("div",lBt,[oBt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.columns,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},nBt)))),128))])],8,sBt)])]))}};const cBt=dBt;var uBt=cBt;const pBt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},gBt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},mBt=(0,s._)("span",null,"Sourcing History",-1),hBt={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},fBt={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},bBt={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},xBt={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},vBt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-6 tw-h-6 tw-bg-neutral-100 tw-rounded-full -tw-left-3 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),yBt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},_Bt={class:"tw-text-gray-500"},kBt={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},CBt=["onMouseenter","onMouseleave"],DBt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600"},SBt={class:"tw-flex tw-flex-col tw-gap-4"},UBt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},zBt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},qBt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},PBt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},LBt={key:1,class:"tw-w-full"},WBt=(0,s._)("div",{class:"tw-items-center tw-justify-between tw-mb-3 sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},"Added a note:")],-1),ABt={class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var $Bt={__name:"TableActionsHistory",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a={product_name:"Product name",product_url:"Product URL",video_url:"Video URL",is_paid:"Paid",paid_at:"Paid at",estimated_quantity:"Estimated Quantity",destination_country:"Destination Country",note_by_seller:"Note by seller",note_by_admin:"Note by admin",shipping_method:"Shipping Method",quotation_status:"Quotation Status",sourcing_status:"Sourcing Status",cost_per_unit:"Unit Price",total_cost:"Total Cost",additional_fees:"Additional Fees"},l={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}},o=(0,ve.Vh)(r,"visible"),i=(0,ve.Vh)(r,"sourcing"),w=(0,ve.iH)(!0),n=(0,ve.iH)([!0]),d=async()=>{w.value=!0,await oKt.history(i.value.id).then((t=>{"SUCCESS"==t.data.code&&(n.value=t.data.history,n.value.reverse())})),w.value=!1};return d(),(t,r)=>{const i=(0,s.up)("icon"),d=(0,s.up)("loading"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(c,{visible:(0,ve.SU)(o),onCancel:r[1]||(r[1]=t=>e("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",pBt,[(0,s._)("div",gBt,[mBt,(0,s._)("button",{onClick:r[0]||(r[0]=t=>e("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(i,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),w.value?((0,s.wg)(),(0,s.iD)("div",hBt,[(0,s.Wm)(d)])):(0,s.kq)("",!0),w.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fBt,[n.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",bBt,"There is no history for this sourcing yet.")),n.value.length?((0,s.wg)(),(0,s.iD)("ol",xBt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.value,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-mb-10 tw-mx-6"},[vBt,(0,s._)("div",yBt,[(0,s._)("p",_Bt,[(0,s.Uk)(" by "),(0,s._)("span",kBt,(0,lt.zw)(t.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:e=>t.isHovering=!0,onMouseleave:e=>t.isHovering=!1},(0,lt.zw)(t.isHovering?(0,ve.SU)(Ce())(t.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ve.SU)(Ce())(t.created_at).fromNow()),41,CBt)]),(0,s._)("div",DBt,[(0,s._)("div",SBt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.fields,(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[["note_by_seller","note_by_admin"].includes(t.field)?((0,s.wg)(),(0,s.iD)("div",LBt,[WBt,(0,s._)("div",ABt,(0,lt.zw)(t.new_value),1)])):((0,s.wg)(),(0,s.iD)("div",UBt,[(0,s.Uk)("Changed "),(0,s._)("span",zBt,(0,lt.zw)(a[t.field]),1),(0,s.Uk)(" from "),(0,s._)("span",qBt,(0,lt.zw)(t.field in l?l[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",PBt,(0,lt.zw)(t.field in l?l[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])])])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const EBt=$Bt;var TBt=EBt;const jBt={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"};var FBt={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,ve.qj)({history:!1}),a=(0,ve.Vh)(e,"item");return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jBt,["seller"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:0,to:{name:"sourcings.show",params:{id:(0,ve.SU)(a).id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-blue-300 tw-text-blue-500 tw-duration-200 hover:tw-bg-blue-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"solar:eye-bold"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:1,to:{name:"sourcings.show",params:{id:(0,ve.SU)(a).id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-emerald-300 tw-text-emerald-500 tw-duration-200 hover:tw-bg-emerald-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"clarity:edit-solid"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[0]||(e[0]=t=>r.history=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-purple-300 tw-text-purple-500 tw-duration-200 hover:tw-bg-purple-500 hover:tw-text-white"},[(0,s.Wm)(l,{icon:"iconamoon:history"})])):(0,s.kq)("",!0)]),"admin"==t.$user.role&&r.history?((0,s.wg)(),(0,s.j4)((0,ve.SU)(TBt),{key:0,visible:r.history,"onUpdate:visible":e[1]||(e[1]=t=>r.history=t),sourcing:(0,ve.SU)(a)},null,8,["visible","sourcing"])):(0,s.kq)("",!0)])}}};const VBt=FBt;var IBt=VBt;const OBt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},HBt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},MBt={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},RBt={class:"tw-w-[100px] tw-truncate"},NBt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},YBt={class:"tw-w-[200px] tw-truncate"},ZBt={class:"tw-px-4 tw-text-sm tw-font-medium tw-whitespace-nowrap"},KBt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},BBt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},QBt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},JBt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},GBt={key:0,class:"tw-flex tw-items-center tw-justify-center tw-gap-2"},XBt={key:1,class:"tw-flex tw-items-center tw-justify-center tw-gap-2"},tQt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},eQt={class:"tw-px-4"},rQt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},aQt={class:"tw-px-4"},sQt=["admin"];var lQt={__name:"TableRow",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/user"])),l=(0,ve.Vh)(e,"item"),o=(0,ve.iH)(iKt.find((t=>t.value==l.value.quotation_status))),w=(0,ve.iH)(wKt.find((t=>t.value==l.value.sourcing_status)));return(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",OBt,(0,lt.zw)((0,ve.SU)(l).id),1),(0,s._)("td",HBt,(0,lt.zw)((0,ve.SU)(Ce())((0,ve.SU)(l).created_at).format("YYYY-MM-DD HH:mm:ss")),1),"admin"==(0,ve.SU)(a).role?((0,s.wg)(),(0,s.iD)("td",MBt,[(0,s._)("p",RBt,(0,lt.zw)((0,ve.SU)(l).seller_name),1)])):(0,s.kq)("",!0),(0,s._)("td",NBt,[(0,s._)("p",YBt,(0,lt.zw)((0,ve.SU)(l).product_name),1)]),(0,s._)("td",ZBt,[(0,s._)("p",{class:(0,lt.C_)({"tw-text-xs tw-text-center  tw-py-1 tw-font-medium tw-rounded tw-bg-blue-100 darkx:tw-bg-gray-800 darkx:tw-text-orange-400":"ocean-freight"===(0,ve.SU)(l).shipping_method,"tw-text-xs tw-text-center tw-py-1 tw-font-medium tw-bg-yellow-100  tw-rounded":"air-freight"===(0,ve.SU)(l).shipping_method})},(0,lt.zw)("air-freight"===(0,ve.SU)(l).shipping_method?"By Air":"ocean-freight"===(0,ve.SU)(l).shipping_method?"By Ocean":(0,ve.SU)(l).shipping_method),3)]),(0,s._)("td",KBt,(0,lt.zw)((0,ve.SU)(c))+(0,lt.zw)((0,ve.SU)(l).total_cost),1),(0,s._)("td",BBt,(0,lt.zw)((0,ve.SU)(l).estimated_quantity),1),(0,s._)("td",QBt,(0,lt.zw)((0,ve.SU)(l).destination_country),1),(0,s._)("td",JBt,[(0,s._)("div",null,[(0,ve.SU)(l).is_paid?((0,s.wg)(),(0,s.iD)("div",GBt,[(0,s.Wm)(r,{icon:"mingcute:check-2-fill",class:"tw-text-xl tw-text-emerald-500"})])):((0,s.wg)(),(0,s.iD)("div",XBt,[(0,s.Wm)(r,{icon:"mdi:clock-time-two-outline",class:"tw-text-xl tw-text-yellow-500"})]))])]),(0,s._)("td",tQt,[(0,s._)("div",eQt,[(0,s._)("div",{class:(0,lt.C_)([o.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,lt.zw)(o.value.name),3)])]),(0,s._)("td",rQt,[(0,s._)("div",aQt,[(0,s._)("div",{class:(0,lt.C_)([w.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,lt.zw)(w.value.name),3)])]),(0,s._)("td",{admin:(0,ve.SU)(a)},[(0,s._)("div",null,[(0,s.Wm)((0,ve.SU)(IBt),{item:(0,ve.SU)(l)},null,8,["item"])])],8,sQt)])}}};const oQt=lQt;var iQt=oQt;const wQt={class:"tw-overflow-x-auto"},nQt={class:"tw-inline-block tw-min-w-full tw-align-middle"},dQt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},cQt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},uQt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},pQt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},gQt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},mQt=["colspan"],hQt=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No request was found ! ",-1),fQt=[hQt];var bQt={__name:"IndexTable",props:{loading:{required:!0,type:Boolean},sourcings:{required:!0,type:Array}},setup(t){const e=t,r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/user"])),l=(0,ve.Vh)(e,"loading"),o=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"seller",name:"Seller",class:"tw-max-w-[150px] tw-truncate"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"total_cost",name:"Total Price",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"paid",name:"Paid",class:"tw-w-[80px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],w=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"total_cost",name:"Total Price",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"paid",name:"Paid",class:"tw-w-[80px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],n=(0,ve.iH)("admin"==a.value.role?o:w),d=(0,ve.Vh)(e,"sourcings");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",wQt,[(0,s._)("div",nQt,[(0,s._)("div",dQt,[(0,s._)("table",cQt,[(0,s._)("thead",uQt,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.field,class:(0,lt.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,lt.zw)(t.name),1)],2)))),128))])]),(0,ve.SU)(l)?((0,s.wg)(),(0,s.j4)((0,ve.SU)(uBt),{key:1,columns:n.value.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,ve.SU)(d).length?((0,s.wg)(),(0,s.iD)("tbody",pQt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(d),(t=>((0,s.wg)(),(0,s.j4)((0,ve.SU)(iQt),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,ve.SU)(d).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",gQt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:n.value.length},fQt,8,mQt)])]))],64))])])])])]))}};const xQt=bQt;var vQt=xQt;const yQt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},_Qt={class:"tw-px-3"},kQt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},CQt={class:"tw-flex tw-items-center tw-gap-x-3"},DQt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Requested Products ",-1),SQt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},UQt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all requested products. ",-1),zQt={key:0},qQt=(0,s._)("span",null,"Request new product",-1),PQt={class:"tw-mt-5"};var LQt={__name:"IndexSourcingView",setup(t){const e=(0,ve.iH)([]),r=(0,ve.qj)({total:0,current_page:1,last_page:1,from:1,to:1,per_page:10,sort_by:"created_at",sort_order:"desc",filters:{}}),a=(0,ve.iH)(!1),l=async()=>{a.value=!0,await oKt.paginate("",r).then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.sourcings.data,r.total=t.data.sourcings.total,r.current_page=t.data.sourcings.current_page,r.last_page=t.data.sourcings.last_page,r.from=t.data.sourcings.from,r.to=t.data.sourcings.to,r.per_page=t.data.sourcings.per_page,r.page=r.current_page)})),a.value=!1},o=t=>{r.current_page=t,r.page=t,l()};return(0,s.JJ)("options",{options:r,getData:l,setOptions:t=>Object.assign(r,t),setFilter:(t,e)=>r.filters[t]=e}),l(),(t,l)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",yQt,[(0,s._)("section",_Qt,[(0,s._)("div",kQt,[(0,s._)("div",null,[(0,s._)("div",CQt,[DQt,(0,s._)("span",SQt,(0,lt.zw)(r.total)+" request",1)]),UQt]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",zQt,[(0,s.Wm)(i,{to:{name:"sourcings.new"},class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},{default:(0,s.w5)((()=>[qQt])),_:1},8,["to"])])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)((0,ve.SU)(rBt))]),(0,s._)("div",null,[(0,s.Wm)((0,ve.SU)(vQt),{loading:a.value,sourcings:e.value},null,8,["loading","sourcings"])]),(0,s._)("div",PQt,[(0,s.Wm)((0,ve.SU)(ew),{total:r.total,"current-page":r.current_page,"last-page":r.last_page,from:r.from,to:r.to,"per-page":r.per_page,onPageChange:o},null,8,["total","current-page","last-page","from","to","per-page"])])])])}}};const WQt=LQt;var AQt=WQt;const $Qt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},EQt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),TQt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),jQt={class:"tw-p-5"},FQt={class:"tw-grid tw-grid-cols-5"},VQt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},IQt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),OQt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},HQt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),MQt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},RQt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),NQt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},YQt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),ZQt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},KQt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var BQt={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=t,r=(0,f.yj)(),a=(0,ve.Vh)(e,"sourcing"),l=(0,s.Fl)((()=>iKt.find((t=>t.value==a.value.quotation_status)))),o=(0,s.Fl)((()=>wKt.find((t=>t.value==a.value.sourcing_status))));return(t,e)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",$Qt,[(0,s._)("p",null,[EQt,(0,s.Uk)(" "+(0,lt.zw)((0,ve.SU)(r).params.id),1)]),(0,s._)("p",null,[TQt,(0,s.Uk)(" "+(0,lt.zw)((0,ve.SU)(Ce())((0,ve.SU)(a).created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",jQt,[(0,s._)("div",FQt,[(0,s._)("div",VQt,[(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(o).step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(o).step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),IQt]),(0,s._)("div",OQt,[(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(o).step>=2&&"confirmed"==(0,ve.SU)(l).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(o).step>=2&&"confirmed"==(0,ve.SU)(l).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),HQt]),(0,s._)("div",MQt,[(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(o).step>=3&&"confirmed"==(0,ve.SU)(l).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(o).step>=3&&"confirmed"==(0,ve.SU)(l).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),RQt]),(0,s._)("div",NQt,[(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(o).step>=4&&"confirmed"==(0,ve.SU)(l).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(o).step>=4&&"confirmed"==(0,ve.SU)(l).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),YQt]),(0,s._)("div",ZQt,[(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(o).step>=5&&"confirmed"==(0,ve.SU)(l).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(o).step>=5&&"confirmed"==(0,ve.SU)(l).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),KQt])])])])}}};const QQt=BQt;var JQt=QQt;const GQt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},XQt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Cancel product sourcing ",-1),tJt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to cancel with this sourcing ? ")],-1),eJt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},rJt=["disabled"],aJt=(0,s._)("span",null,"Confirm",-1);var sJt={__name:"SourcingRequestCancel",props:["sourcing"],setup(t){const e=t,r=(0,ve.iH)(!1),a=(0,ve.iH)(!1),l=(0,ve.Vh)(e,"sourcing"),o=(0,s.f3)("sourcing"),i=async()=>{console.log(e),a.value=!0,await oKt.update(l.value.id,{...l.value,quotation_status:"cancelled"}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Pc("Quotation has been cancelled"))})),r.value=!1,a.value=!1};return(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-py-2 tw-px-7 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s.Wm)(l,{visible:r.value,onCancel:e[2]||(e[2]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",GQt,[XQt,tJt,(0,s._)("div",eJt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:a.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[a.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),aJt],8,rJt)])])])),_:1},8,["visible"])])}}};const lJt=sJt;var oJt=lJt;const iJt={class:"tw-p-5"},wJt={class:"tw-space-y-4"},nJt={class:"tw-flex tw-items-center tw-justify-between"},dJt=(0,s._)("span",null,"Destination Country:",-1),cJt={class:"tw-font-black tw-text-neutral-800, tw-capitalize"},uJt={class:"tw-flex tw-items-center tw-justify-between"},pJt=(0,s._)("span",null,"Shipping Method:",-1),gJt={key:0,class:"tw-font-black tw-text-neutral-800"},mJt={key:1,class:"tw-font-black tw-text-neutral-800"},hJt={class:"tw-flex tw-items-center tw-justify-between"},fJt=(0,s._)("span",null,"Quantity:",-1),bJt={class:"tw-font-black tw-text-neutral-800"},xJt={class:"tw-flex tw-items-center tw-justify-between"},vJt=(0,s._)("span",null,"Unit Price:",-1),yJt={class:"tw-font-black tw-text-neutral-800"},_Jt={class:"tw-flex tw-items-center tw-justify-between tw-"},kJt=(0,s._)("span",null,"Additional Fees:",-1),CJt={class:"tw-font-black tw-text-neutral-800"},DJt=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),SJt={class:"tw-flex tw-items-center tw-justify-between"},UJt=(0,s._)("span",null,"Total:",-1),zJt={class:"tw-font-black tw-text-neutral-800"},qJt={key:0,class:"tw-space-y-2 mt-5"},PJt=(0,s._)("span",null,"Confirm",-1),LJt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},WJt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Confirm product sourcing ",-1),AJt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to proceed with this action ? ")],-1),$Jt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},EJt=["disabled"],TJt=(0,s._)("span",null,"Confirm",-1);var jJt={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=t,r=(0,ve.iH)(!1),a=(0,ve.iH)(!1),l=(0,ve.Vh)(e,"sourcing"),o=(0,s.f3)("sourcing"),i=async()=>{a.value=!0,await oKt.update(l.value.id,{...l.value,quotation_status:"confirmed"}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Pc("Quotation has been accepted"))})),r.value=!1,a.value=!1};return(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",iJt,[(0,s._)("div",null,[(0,s._)("ul",wJt,[(0,s._)("li",nJt,[dJt,(0,s._)("span",cJt,(0,lt.zw)((0,ve.SU)(l).destination_country),1)]),(0,s._)("li",uJt,[pJt,"air-freight"==(0,ve.SU)(l).shipping_method?((0,s.wg)(),(0,s.iD)("span",gJt,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==(0,ve.SU)(l).shipping_method?((0,s.wg)(),(0,s.iD)("span",mJt,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",hJt,[fJt,(0,s._)("span",bJt,(0,lt.zw)((0,ve.SU)(l).estimated_quantity),1)]),(0,s._)("li",xJt,[vJt,(0,s._)("span",yJt,(0,lt.zw)((0,ve.SU)(l).cost_per_unit)+" "+(0,lt.zw)((0,ve.SU)(c)),1)]),(0,s._)("li",_Jt,[kJt,(0,s._)("span",CJt,(0,lt.zw)((0,ve.SU)(l).additional_fees)+" "+(0,lt.zw)((0,ve.SU)(c)),1)]),DJt,(0,s._)("li",SJt,[UJt,(0,s._)("span",zJt,(0,lt.zw)(parseFloat((0,ve.SU)(l).total_cost).toFixed(2))+" "+(0,lt.zw)((0,ve.SU)(c)),1)])])]),"quoting"==(0,ve.SU)(l).quotation_status||["quoting","pending"].includes((0,ve.SU)(l).quotation_status)?((0,s.wg)(),(0,s.iD)("div",qJt,["quoting"==(0,ve.SU)(l).quotation_status?((0,s.wg)(),(0,s.iD)("button",{key:0,disabled:!1,onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-py-2 tw-px-7 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),PJt])):(0,s.kq)("",!0),["quoting","pending"].includes((0,ve.SU)(l).quotation_status)?((0,s.wg)(),(0,s.j4)((0,ve.SU)(oJt),{key:1,sourcing:(0,ve.SU)(l)},null,8,["sourcing"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"quoting"==(0,ve.SU)(l).quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:1,visible:r.value,onCancel:e[2]||(e[2]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",LJt,[WJt,AJt,(0,s._)("div",$Jt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:a.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[a.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),TJt],8,EJt)])])])),_:1},8,["visible"])):(0,s.kq)("",!0)])}}};const FJt=jJt;var VJt=FJt;const IJt={class:"tw-w-full"},OJt={class:"tw-w-full"},HJt=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Product details "),(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Quantity ")])],-1),MJt={class:"tw-pt-2"},RJt={class:"tw-whitespace-normal tw-max-w-[500px] tw-truncate"},NJt=["href"],YJt={class:"tw-pt-2"};var ZJt={__name:"SourcingRequestProductDetails",props:["sourcing"],setup(t){const e=t,r=(0,ve.Vh)(e,"sourcing");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",IJt,[(0,s._)("table",OJt,[HJt,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",MJt,[(0,s._)("p",RJt,[(0,s._)("a",{href:(0,ve.SU)(r).product_url,class:"tw-text-blue-500 tw-cursor-pointer hover:tw-underline"},(0,lt.zw)((0,ve.SU)(r).product_name),9,NJt)])]),(0,s._)("td",YJt,(0,lt.zw)((0,ve.SU)(r).estimated_quantity),1)])])])]))}};const KJt=ZJt;var BJt=KJt;const QJt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},JJt={class:"tw-px-3"},GJt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},XJt={class:"tw-flex tw-items-center tw-gap-x-5"},tGt={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},eGt={class:"tw-flex tw-items-center tw-gap-2"},rGt={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},aGt={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},sGt={class:"tw-space-y-4 lg:tw-col-span-8"},lGt={key:0,class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},oGt={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},iGt=(0,s._)("span",null,[(0,s.Uk)("Note from "),(0,s._)("span",{class:"tw-font-bold"},"Admin")],-1),wGt={class:"tw-p-2 tw-border tw-border-t-0 tw-bg-white tw-border-blue-200 tw-rounded-b-md"},nGt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},dGt={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},cGt={class:"lg:tw-col-span-4"},uGt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var pGt={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=t,r=(0,f.yj)(),a=(0,s.Fl)((()=>iKt.find((t=>t.value==o.value.quotation_status)))),l=(0,s.Fl)((()=>wKt.find((t=>t.value==o.value.sourcing_status)))),o=(0,ve.Vh)(e,"sourcing");(0,ve.Vh)(e,"loading");return(t,e)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",QJt,[(0,s._)("section",JJt,[(0,s._)("div",GJt,[(0,s._)("div",null,[(0,s._)("div",XJt,[(0,s._)("h2",tGt," Quotation: #"+(0,lt.zw)((0,ve.SU)(r).params.id),1),(0,s._)("div",eGt,[(0,s._)("div",{class:(0,lt.C_)([(0,ve.SU)(a).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,lt.zw)((0,ve.SU)(a).name),3),(0,s._)("div",{class:(0,lt.C_)([(0,ve.SU)(l).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,lt.zw)((0,ve.SU)(l).name),3)])]),(0,s._)("p",rGt,(0,lt.zw)((0,ve.SU)(Ce())((0,ve.SU)(o).created_at).format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",aGt,[(0,s._)("div",sGt,[(0,ve.SU)(o).note_by_admin?((0,s.wg)(),(0,s.iD)("div",lGt,[(0,s._)("div",oGt,[(0,s.Wm)(i,{icon:"ph:info-fill",class:"tw-text-xl tw-text-blue-500"}),iGt]),(0,s._)("div",wGt,[(0,s._)("h1",null,(0,lt.zw)((0,ve.SU)(o).note_by_admin),1)])])):(0,s.kq)("",!0),(0,s._)("div",nGt,[(0,s.Wm)((0,ve.SU)(JQt),{sourcing:(0,ve.SU)(o)},null,8,["sourcing"])]),(0,s._)("div",dGt,[(0,s.Wm)((0,ve.SU)(BJt),{sourcing:(0,ve.SU)(o)},null,8,["sourcing"])])]),(0,s._)("div",cGt,[(0,s._)("div",uGt,[(0,s.Wm)((0,ve.SU)(VJt),{sourcing:(0,ve.SU)(o)},null,8,["sourcing"])])])])])}}};const gGt=pGt;var mGt=gGt;const hGt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},fGt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),bGt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),xGt={class:"tw-p-3 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-border-b tw-border-solid tw-border-neutral-200"},vGt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},yGt={class:"tw-relative tw-z-40"},_Gt=["disabled","value"],kGt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),CGt={key:0,class:""},DGt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},SGt={class:"tw-space-y-1 tw-py-1"},UGt=["onClick"],zGt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},qGt={class:"tw-relative tw-z-30"},PGt=["disabled","value"],LGt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),WGt={key:0,class:""},AGt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},$Gt={class:"tw-space-y-1 tw-py-1"},EGt=["onClick"],TGt={class:"tw-p-5"},jGt={class:"tw-grid tw-grid-cols-5"},FGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},VGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),IGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},OGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),HGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},MGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),RGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},NGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),YGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},ZGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var KGt={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=t,r=(0,f.yj)(),l=(0,ve.Vh)(e,"sourcing"),o=(0,s.f3)("sourcing"),i=(0,ve.qj)({quotation_status:!1,sourcing_status:!1}),w=(0,ve.qj)({quotation_status:!1,sourcing_status:!1}),n=(0,s.Fl)((()=>iKt.find((t=>t.value==l.value.quotation_status)))),d=(0,s.Fl)((()=>wKt.find((t=>t.value==l.value.sourcing_status)))),c=async(t,e)=>{if(i[t]=!1,l.value[t]==e.value)return!1;w[t]=!0,await oKt.update(l.value.id,{...l.value,[t]:e.value}).then((t=>{"SUCCESS"==t.data.code&&o.updateSourcing(t.data.sourcing)})),w[t]=!1};return(t,e)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",hGt,[(0,s._)("p",null,[fGt,(0,s.Uk)(" "+(0,lt.zw)((0,ve.SU)(r).params.id),1)]),(0,s._)("p",null,[bGt,(0,s.Uk)(" "+(0,lt.zw)((0,ve.SU)(Ce())((0,ve.SU)(l).created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",xGt,[(0,s._)("div",null,[(0,s._)("label",vGt,[(0,s.Uk)(" Quotation Status "),w.quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",yGt,[(0,s._)("input",{class:(0,lt.C_)([[!1],"tw-bg-gray-50 tw-text-start tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:w.quotation_status,onClick:e[0]||(e[0]=t=>i.quotation_status=!i.quotation_status),type:"button",value:(0,ve.SU)(n).name,readonly:"",required:""},null,8,_Gt),kGt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.quotation_status?((0,s.wg)(),(0,s.iD)("div",CGt,[(0,s._)("div",DGt,[(0,s._)("div",SGt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(iKt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("quotation_status",t),class:(0,lt.C_)(["tw-w-full tw-p-2",[t.class]])},(0,lt.zw)(t.name),11,UGt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[se.L,()=>i.quotation_status=!1]]),(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("label",zGt,[(0,s.Uk)(" Sourcing Status "),w.sourcing_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",qGt,[(0,s._)("input",{class:(0,lt.C_)([[!1],"tw-bg-gray-50 tw-border tw-text-start tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:w.sourcing_status,onClick:e[1]||(e[1]=t=>i.sourcing_status=!i.sourcing_status),type:"button",value:(0,ve.SU)(d).name,readonly:"",required:""},null,8,PGt),LGt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.sourcing_status?((0,s.wg)(),(0,s.iD)("div",WGt,[(0,s._)("div",AGt,[(0,s._)("div",$Gt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(wKt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("sourcing_status",t),class:(0,lt.C_)(["tw-w-full tw-p-2",[t.class]])},(0,lt.zw)(t.name),11,EGt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[se.L,()=>i.sourcing_status=!1]]),(0,s.kq)("",!0)])]),(0,s._)("div",TGt,[(0,s._)("div",jGt,[(0,s._)("div",FGt,[(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(d).step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(d).step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),VGt]),(0,s._)("div",IGt,[(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(d).step>=2&&"confirmed"==(0,ve.SU)(n).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(d).step>=2&&"confirmed"==(0,ve.SU)(n).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),OGt]),(0,s._)("div",HGt,[(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(d).step>=3&&"confirmed"==(0,ve.SU)(n).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(d).step>=3&&"confirmed"==(0,ve.SU)(n).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),MGt]),(0,s._)("div",RGt,[(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(d).step>=4&&"confirmed"==(0,ve.SU)(n).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(d).step>=4&&"confirmed"==(0,ve.SU)(n).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),NGt]),(0,s._)("div",YGt,[(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(d).step>=5&&"confirmed"==(0,ve.SU)(n).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(d).step>=5&&"confirmed"==(0,ve.SU)(n).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),ZGt])])])])}}};const BGt=KGt;var QGt=BGt;const JGt={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},GGt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},XGt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Quotation ",-1),tXt={class:"tw-p-5 tw-space-y-4"},eXt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),rXt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),aXt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),sXt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),lXt=[rXt,aXt,sXt],oXt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},iXt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),wXt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},nXt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Unit Price",-1),dXt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cXt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Additional Fees",-1),uXt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pXt=(0,s._)("div",{class:"tw-border-b tw-border-solid tw-border-neutral-300 tw-my-2"},null,-1),gXt={class:"tw-flex tw-items-center tw-justify-between"},mXt=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Total",-1),hXt={class:"tw-text-lg tw-font-bold"},fXt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},bXt=["disabled"],xXt=(0,s._)("span",null,"Send quotation",-1);var vXt={__name:"SourcingRequestPricingEdit",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=(0,s.f3)("sourcing"),o=(0,ve.iH)(!1),i=(0,ve.qj)({sourcing:{},errors:{}}),w=(0,s.Fl)((()=>(i.sourcing.estimated_quantity??0)*(i.sourcing.cost_per_unit??0)+(i.sourcing.additional_fees??0))),n=()=>{e("update:visible",!1)},d=async()=>{o.value=!0;const t="pending"==i.sourcing.quotation_status?"quoting":i.sourcing.quotation_status;await oKt.update(i.sourcing.id,{...i.sourcing,total_cost:w.value,quotation_status:t}).then((t=>{"SUCCESS"==t.data.code&&(l.updateSourcing(t.data.sourcing),Pc("Quotation sent"),n())}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)i.errors[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return(0,s.YP)((()=>r.visible),(()=>{i.sourcing=mo(r.sourcing)})),(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(l,{visible:r.visible,onCancel:n},{default:(0,s.w5)((()=>[(0,s._)("div",JGt,[(0,s._)("div",GGt,[XGt,(0,s._)("div",tXt,[(0,s._)("div",null,[eXt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.sourcing.shipping_method=t),onInput:e[1]||(e[1]=t=>i.errors.shipping_method=null),class:(0,lt.C_)([[i.errors.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},lXt,34),[[a.bM,i.sourcing.shipping_method,void 0,{number:!0}]]),i.errors.shipping_method?((0,s.wg)(),(0,s.iD)("label",oXt,(0,lt.zw)(i.errors.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[iXt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sourcing.estimated_quantity=t),onInput:e[3]||(e[3]=t=>i.errors.estimated_quantity=null),type:"number",min:"0",max:"10000",class:(0,lt.C_)([[i.errors.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter the quantity",required:""},null,34),[[a.nr,i.sourcing.estimated_quantity,void 0,{number:!0}]]),i.errors.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",wXt,(0,lt.zw)(i.errors.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[nXt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.sourcing.cost_per_unit=t),onInput:e[5]||(e[5]=t=>i.errors.cost_per_unit=null),type:"number",class:(0,lt.C_)([[i.errors.cost_per_unit&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a unit price for the quotation",required:""},null,34),[[a.nr,i.sourcing.cost_per_unit,void 0,{number:!0}]]),i.errors.cost_per_unit?((0,s.wg)(),(0,s.iD)("label",dXt,(0,lt.zw)(i.errors.cost_per_unit),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[cXt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.sourcing.additional_fees=t),onInput:e[7]||(e[7]=t=>i.errors.additional_fees=null),type:"number",class:(0,lt.C_)([[i.errors.additional_fees&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a additional fees for the sourcing",required:""},null,34),[[a.nr,i.sourcing.additional_fees,void 0,{number:!0}]]),i.errors.additional_fees?((0,s.wg)(),(0,s.iD)("label",uXt,(0,lt.zw)(i.errors.additional_fees),1)):(0,s.kq)("",!0)]),pXt,(0,s._)("div",gXt,[mXt,(0,s._)("span",hXt,(0,lt.zw)((0,ve.SU)(w).toFixed(2))+" "+(0,lt.zw)((0,ve.SU)(c)),1)])]),(0,s._)("div",fXt,[(0,s._)("button",{onClick:n,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),xXt],8,bXt)])])])])),_:1},8,["visible"])}}};const yXt=vXt;var _Xt=yXt;const kXt={class:"tw-flex tw-items-center tw-justify-between tw-p-2 tw-border-b tw-border-solid tw-border-gray-200"},CXt=(0,s._)("span",null,"Paid",-1),DXt=["disabled"],SXt={class:"tw-p-5"},UXt={class:"tw-space-y-4"},zXt={class:"tw-flex tw-items-center tw-justify-between"},qXt=(0,s._)("span",null,"Destination Country:",-1),PXt={class:"tw-font-black tw-text-neutral-800 tw-capitalize"},LXt={class:"tw-flex tw-items-center tw-justify-between"},WXt=(0,s._)("span",null,"Shipping Method:",-1),AXt={key:0,class:"tw-font-black tw-text-neutral-800"},$Xt={key:1,class:"tw-font-black tw-text-neutral-800"},EXt={class:"tw-flex tw-items-center tw-justify-between"},TXt=(0,s._)("span",null,"Quantity:",-1),jXt={class:"tw-font-black tw-text-neutral-800"},FXt={class:"tw-flex tw-items-center tw-justify-between"},VXt=(0,s._)("span",null,"Unit Price:",-1),IXt={class:"tw-font-black tw-text-neutral-800"},OXt={class:"tw-flex tw-items-center tw-justify-between tw-"},HXt=(0,s._)("span",null,"Additional Fees:",-1),MXt={class:"tw-font-black tw-text-neutral-800"},RXt=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),NXt={class:"tw-flex tw-items-center tw-justify-between"},YXt=(0,s._)("span",null,"Total:",-1),ZXt={class:"tw-font-black tw-text-neutral-800"},KXt={class:"tw-space-y-2 tw-px-5 tw-pb-5"},BXt=(0,s._)("span",null,"Edit",-1);var QXt={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=t,r=(0,ve.Vh)(e,"sourcing"),a=(0,s.f3)("sourcing"),l=(0,ve.iH)(!1),o=(0,ve.iH)(!1),i=(0,ve.iH)(!1);l.value=1==e.sourcing.is_paid;const w=async()=>{i.value=!0,l.value=!l.value;const t=(new Date).toISOString().slice(0,19).replace("T"," ");await oKt.update(r.value.id,{...e.sourcing,is_paid:l.value?1:0,paid_at:l.value?t:null}).then((t=>{"SUCCESS"==t.data.code&&(a.updateSourcing(t.data.sourcing),l.value=t.data.sourcing.is_paid)}),(t=>{console.log(t),l.value=1==e.sourcing.is_paid})),i.value=!1};return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",kXt,[CXt,(0,s._)("button",{disabled:i.value,onClick:w,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,lt.C_)([[l.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[(0,s.Wm)(a,{class:(0,lt.C_)([[!l.value&&!i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-yellow-500"]),icon:"mdi:clock-time-two-outline"},null,8,["class"]),(0,s.Wm)(a,{class:(0,lt.C_)([[l.value&&!i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-emerald-500"]),icon:"mingcute:check-2-fill"},null,8,["class"]),(0,s.Wm)(a,{class:(0,lt.C_)([[i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-orange-500"]),icon:"eos-icons:three-dots-loading"},null,8,["class"])],2)],8,DXt)]),(0,s._)("div",SXt,[(0,s._)("ul",UXt,[(0,s._)("li",zXt,[qXt,(0,s._)("span",PXt,(0,lt.zw)((0,ve.SU)(r).destination_country),1)]),(0,s._)("li",LXt,[WXt,"air-freight"==(0,ve.SU)(r).shipping_method?((0,s.wg)(),(0,s.iD)("span",AXt,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==(0,ve.SU)(r).shipping_method?((0,s.wg)(),(0,s.iD)("span",$Xt,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",EXt,[TXt,(0,s._)("span",jXt,(0,lt.zw)((0,ve.SU)(r).estimated_quantity),1)]),(0,s._)("li",FXt,[VXt,(0,s._)("span",IXt,(0,lt.zw)((0,ve.SU)(r).cost_per_unit)+" "+(0,lt.zw)((0,ve.SU)(c)),1)]),(0,s._)("li",OXt,[HXt,(0,s._)("span",MXt,(0,lt.zw)((0,ve.SU)(r).additional_fees)+" "+(0,lt.zw)((0,ve.SU)(c)),1)]),RXt,(0,s._)("li",NXt,[YXt,(0,s._)("span",ZXt,(0,lt.zw)((0,ve.SU)(r).total_cost)+" "+(0,lt.zw)((0,ve.SU)(c)),1)])])]),(0,s._)("div",KXt,[(0,s._)("button",{disabled:!1,onClick:e[0]||(e[0]=t=>o.value=!0),class:"tw-py-2 tw-px-7 tw-gap-2 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),(0,s.Wm)(a,{icon:"clarity:edit-solid",class:"tw-text-lg tw-text-white"}),BXt]),(0,s.kq)("",!0)]),(0,s.Wm)((0,ve.SU)(_Xt),{sourcing:(0,ve.SU)(r),visible:o.value,"onUpdate:visible":e[1]||(e[1]=t=>o.value=t)},null,8,["sourcing","visible"])])}}};const JXt=QXt;var GXt=JXt;const XXt={class:"tw-p-5"},t0t={class:"tw-grid tw-grid-cols-12 tw-gap-5"},e0t={class:"md:tw-col-span-6 tw-col-span-12"},r0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),a0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},s0t={class:"md:tw-col-span-6 tw-col-span-12"},l0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),o0t={class:"tw-relative"},i0t=["href"],w0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},n0t={class:"md:tw-col-span-6 tw-col-span-12"},d0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),c0t={class:"tw-relative"},u0t=["href"],p0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},g0t={class:"md:tw-col-span-6 tw-col-span-12"},m0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),h0t={class:"tw-relative"},f0t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),b0t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),x0t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),v0t=[f0t,b0t,x0t],y0t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),_0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},k0t={class:"md:tw-col-span-6 tw-col-span-12"},C0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),D0t={class:"tw-relative"},S0t=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),U0t=[S0t],z0t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),q0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},P0t={class:"tw-col-span-12"},L0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's note",-1),W0t={class:"tw-col-span-12"},A0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Admin's note",-1),$0t={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-pt-4 tw-gap-3"},E0t=["disabled"],T0t=(0,s._)("span",null,"Update",-1);var j0t={__name:"SourcingRequestDetails",props:["sourcing"],setup(t){const e=t,r=(0,ve.qj)({}),l=(0,ve.iH)(!1),o=(0,s.f3)("sourcing"),i=(0,ve.qj)({sourcing:{}}),w=async()=>{l.value=!0,await oKt.update(i.sourcing.id,i.sourcing).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Pc("Updated success"))}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)r[e]=t?.response?.data?.errors[e][0]})),l.value=!1};return(0,s.YP)((()=>e.sourcing),(()=>{i.sourcing=mo(e.sourcing)}),{deep:!0}),i.sourcing=mo(e.sourcing),(t,e)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",XXt,[(0,s._)("div",t0t,[(0,s._)("div",e0t,[r0t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.sourcing.product_name=t),onInput:e[1]||(e[1]=t=>r.product_name=null),class:(0,lt.C_)([[r.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,i.sourcing.product_name]]),r.product_name?((0,s.wg)(),(0,s.iD)("label",a0t,(0,lt.zw)(r.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",s0t,[l0t,(0,s._)("div",o0t,[(0,s._)("a",{href:i.sourcing.product_url,target:"_blank",class:"tw-p-1 tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2"},[(0,s.Wm)(o,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500 hover:tw-text-orange-400 tw-duration-200"})],8,i0t),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sourcing.product_url=t),onInput:e[3]||(e[3]=t=>r.product_url=null),class:(0,lt.C_)([[r.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.product_url]])]),r.product_url?((0,s.wg)(),(0,s.iD)("label",w0t,(0,lt.zw)(r.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",n0t,[d0t,(0,s._)("div",c0t,[(0,s._)("a",{href:i.sourcing.video_url,target:"_blank",class:"tw-p-1 tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2"},[(0,s.Wm)(o,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500 hover:tw-text-orange-400 tw-duration-200"})],8,u0t),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.sourcing.video_url=t),onInput:e[5]||(e[5]=t=>r.video_url=null),class:(0,lt.C_)([[r.video_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.video_url]])]),r.video_url?((0,s.wg)(),(0,s.iD)("label",p0t,(0,lt.zw)(r.video_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",g0t,[m0t,(0,s._)("div",h0t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.sourcing.shipping_method=t),onChange:e[7]||(e[7]=t=>r.shipping_method=null),class:(0,lt.C_)([[r.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},v0t,34),[[a.bM,i.sourcing.shipping_method]]),y0t]),r.shipping_method?((0,s.wg)(),(0,s.iD)("label",_0t,(0,lt.zw)(r.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",k0t,[C0t,(0,s._)("div",D0t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.sourcing.destination_country=t),onChange:e[9]||(e[9]=t=>r.destination_country=null),class:(0,lt.C_)([[r.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},U0t,34),[[a.bM,i.sourcing.destination_country]]),z0t]),r.destination_country?((0,s.wg)(),(0,s.iD)("label",q0t,(0,lt.zw)(r.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",P0t,[L0t,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":e[10]||(e[10]=t=>i.sourcing.note_by_seller=t),rows:"2",class:"tw-bg-gray-50 tw-borderx tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"There is no note"},null,512),[[a.nr,i.sourcing.note_by_seller]])]),(0,s._)("div",W0t,[A0t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[11]||(e[11]=t=>i.sourcing.note_by_admin=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Leave a note for seller"},null,512),[[a.nr,i.sourcing.note_by_admin]])]),(0,s._)("div",$0t,[(0,s._)("button",{disabled:l.value,onClick:w,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),T0t],8,E0t)])])])}}};const F0t=j0t;var V0t=F0t;const I0t={class:"tw-relative"},O0t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},H0t={class:"tw-px-3"},M0t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},R0t={class:"tw-flex tw-items-center tw-gap-x-5"},N0t={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},Y0t={class:"tw-flex tw-items-center tw-gap-2"},Z0t={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},K0t={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},B0t={class:"tw-space-y-4 lg:tw-col-span-8"},Q0t={class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},J0t={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},G0t={class:"tw-font-bold"},X0t={key:0,class:"tw-w-full tw-overflow-hidden"},t1t={class:"tw-p-2 tw-border tw-border-t-0 tw-border-blue-200 tw-rounded-b-md"},e1t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},r1t={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},a1t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},s1t={class:"lg:tw-col-span-4"},l1t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var o1t={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=t,r=(0,f.yj)(),a=(0,ve.Vh)(e,"sourcing"),l=((0,ve.Vh)(e,"loading"),(0,s.Fl)((()=>iKt.find((t=>t.value==a.value.quotation_status))))),o=(0,s.Fl)((()=>wKt.find((t=>t.value==a.value.sourcing_status))));return(t,e)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",I0t,[(0,s._)("div",O0t,[(0,s._)("section",H0t,[(0,s._)("div",M0t,[(0,s._)("div",null,[(0,s._)("div",R0t,[(0,s._)("h2",N0t," Quotation: #"+(0,lt.zw)((0,ve.SU)(r).params.id),1),(0,s._)("div",Y0t,[(0,s._)("div",{class:(0,lt.C_)([(0,ve.SU)(l).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,lt.zw)((0,ve.SU)(l).name),3),(0,s._)("div",{class:(0,lt.C_)([(0,ve.SU)(o).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,lt.zw)((0,ve.SU)(o).name),3)])]),(0,s._)("p",Z0t,(0,lt.zw)((0,ve.SU)(Ce())("2023-09-08T17:45:06.000000Z").format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",K0t,[(0,s._)("div",B0t,[(0,s._)("div",Q0t,[(0,s._)("div",J0t,[(0,s.Wm)(i,{icon:"solar:user-bold",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",null,[(0,s._)("span",G0t,(0,lt.zw)((0,ve.SU)(a).seller.firstname)+" "+(0,lt.zw)((0,ve.SU)(a).seller.lastname),1)])]),(0,ve.SU)(a).note_by_seller?((0,s.wg)(),(0,s.iD)("div",X0t,[(0,s._)("div",t1t,[(0,s._)("h1",null,(0,lt.zw)((0,ve.SU)(a).note_by_seller),1)])])):(0,s.kq)("",!0)]),(0,s._)("div",e1t,[(0,s.Wm)((0,ve.SU)(QGt),{sourcing:(0,ve.SU)(a)},null,8,["sourcing"])]),(0,s._)("div",r1t,[(0,s.Wm)((0,ve.SU)(BJt),{sourcing:(0,ve.SU)(a)},null,8,["sourcing"])]),(0,s._)("div",a1t,[(0,s.Wm)((0,ve.SU)(V0t),{sourcing:(0,ve.SU)(a)},null,8,["sourcing"])])]),(0,s._)("div",s1t,[(0,s._)("div",l1t,[(0,s.Wm)((0,ve.SU)(GXt),{sourcing:(0,ve.SU)(a)},null,8,["sourcing"])])])])])}}};const i1t=o1t;var w1t=i1t;const n1t={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"};var d1t={__name:"ShowSourcingView",setup(t){const e=(0,i.oR)(),r=(0,f.yj)(),a=(0,f.tv)(),l=r.params.id,o=(0,ve.iH)(!0),w=(0,ve.iH)(null),n=e.getters["user/user"],d=async()=>{o.value=!0,await oKt.get(l).then((t=>{"SUCCESS"==t.data.code&&(w.value=t.data.sourcing),"NOT_FOUND"==t.data.code&&a.push({name:"404"})})),o.value=!1},c=t=>{w.value=t};return(0,s.JJ)("sourcing",{updateSourcing:c}),d(),(t,e)=>{const r=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.value?((0,s.wg)(),(0,s.iD)("div",n1t,[(0,s.Wm)(r)])):(0,s.kq)("",!0),o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["seller"==(0,ve.SU)(n).role?((0,s.wg)(),(0,s.j4)((0,ve.SU)(mGt),{key:0,sourcing:w.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0),"admin"==(0,ve.SU)(n).role?((0,s.wg)(),(0,s.j4)((0,ve.SU)(w1t),{key:1,sourcing:w.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0)],64))],64)}}};const c1t=d1t;var u1t=c1t;const p1t={class:"tw-p-5 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},g1t={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-12 tw-gap-5 tw-mt-5"},m1t={class:"tw-hidden tw-col-span-4 tw-py-16 md:tw-flex tw-items-center tw-justify-center"},h1t=["src"],f1t={class:"tw-col-span-8"},b1t=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-2xl tw-font-semibold"},"We Source For You"),(0,s._)("p",{class:"tw-text-lg tw-mt-2"},"Let our professional sourcing team take care all of your sourcing.")],-1),x1t={class:"tw-grid tw-grid-cols-12 tw-mt-10 tw-gap-5"},v1t={class:"md:tw-col-span-6 tw-col-span-12"},y1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),_1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},k1t={class:"md:tw-col-span-6 tw-col-span-12"},C1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),D1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},S1t={class:"md:tw-col-span-6 tw-col-span-12"},U1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),z1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},q1t={class:"md:tw-col-span-6 tw-col-span-12"},P1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),L1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},W1t={class:"tw-col-span-12"},A1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),$1t={class:"md:tw-col-span-6 tw-col-span-12"},E1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),T1t={class:"tw-relative"},j1t=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),F1t=[j1t],V1t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),I1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},O1t={class:"md:tw-col-span-6 tw-col-span-12"},H1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),M1t={class:"tw-relative"},R1t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),N1t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),Y1t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),Z1t=[R1t,N1t,Y1t],K1t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),B1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Q1t={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-py-4 tw-gap-3"},J1t=(0,s._)("button",{class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",-1),G1t=["disabled"],X1t=(0,s._)("span",null,"Request the product",-1);var t2t={__name:"CreateSourcingView",setup(t){const e=(0,ve.qj)({}),r=(0,ve.iH)(!1),l=(0,ve.qj)({destination_country:"lebanon",shipping_method:"not-selected"}),o=async()=>{r.value=!0,await oKt.create(l).then((t=>{"SUCCESS"==t.data.code&&(Pc("Your request has been added"),Object.keys(l).forEach((t=>l[t]=null)),l.destination_country="lebanon",l.shipping_method="not-selected")}),(t=>{if(422==t.response.status)for(let r in t.response.data.errors)e[r]=t.response.data.errors[r][0]})),r.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",p1t,[(0,s._)("div",g1t,[(0,s._)("div",m1t,[(0,s._)("img",{src:t.$frontend("images/delivering.svg"),class:"tw-w-full"},null,8,h1t)]),(0,s._)("div",f1t,[b1t,(0,s._)("div",x1t,[(0,s._)("div",v1t,[y1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.product_name=t),onInput:i[1]||(i[1]=t=>e.product_name=null),class:(0,lt.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,l.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",_1t,(0,lt.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",k1t,[C1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[2]||(i[2]=t=>l.estimated_quantity=t),onInput:i[3]||(i[3]=t=>e.estimated_quantity=null),class:(0,lt.C_)([[e.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"number",placeholder:"Estimated quantity",required:""},null,34),[[a.nr,l.estimated_quantity]]),e.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",D1t,(0,lt.zw)(e.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",S1t,[U1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[4]||(i[4]=t=>l.product_url=t),onInput:i[5]||(i[5]=t=>e.product_url=null),class:(0,lt.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.product_url]]),e.product_url?((0,s.wg)(),(0,s.iD)("label",z1t,(0,lt.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",q1t,[P1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[6]||(i[6]=t=>l.video_url=t),onInput:i[7]||(i[7]=t=>e.video_url=null),class:(0,lt.C_)([[e.video_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.video_url]]),e.video_url?((0,s.wg)(),(0,s.iD)("label",L1t,(0,lt.zw)(e.video_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",W1t,[A1t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":i[8]||(i[8]=t=>l.note_by_seller=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Special request..."},null,512),[[a.nr,l.note_by_seller]])]),(0,s._)("div",$1t,[E1t,(0,s._)("div",T1t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[9]||(i[9]=t=>l.destination_country=t),onChange:i[10]||(i[10]=t=>e.destination_country=null),class:(0,lt.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},F1t,34),[[a.bM,l.destination_country]]),V1t]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",I1t,(0,lt.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",O1t,[H1t,(0,s._)("div",M1t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[11]||(i[11]=t=>l.shipping_method=t),onChange:i[12]||(i[12]=t=>e.shipping_method=null),class:(0,lt.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},Z1t,34),[[a.bM,l.shipping_method]]),K1t]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",B1t,(0,lt.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",Q1t,[J1t,(0,s._)("button",{disabled:r.value,onClick:o,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),X1t],8,G1t)])])])])]))}};const e2t=t2t;var r2t=e2t,a2t={name:"sourcings",path:"/sourcings",component:Sa,meta:{module:"sourcing"},children:[{name:"sourcings.index",path:"",component:AQt,meta:{module:"sourcing",title:"Sourcing",role:["admin","seller"]}},{name:"sourcings.admin",path:"admin",redirect:{name:"sourcings.index"}},{name:"sourcings.seller",path:"seller",redirect:{name:"sourcings.index"}},{name:"sourcings.new",path:"new",component:r2t,meta:{module:"sourcing",title:"New Sourcing",role:"seller"}},{name:"sourcings.show",path:":id",component:u1t,meta:{module:"sourcing",title:"Sourcing",role:["seller","admin"]}}]};class s2t{async create(t){return await $.getCookie(),W.post("api/settings/create",t)}}var l2t=new s2t;const o2t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},i2t={class:"tw-px-3"},w2t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Settings "),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Cron jobs for invoices. ")])],-1),n2t={class:"tw-mt-5"},d2t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},c2t={class:"tw-col-span-2 md:tw-col-span-1"},u2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Interval Time",-1),p2t={class:"tw-relative"},g2t=(0,s.uE)('<option value="" disabled>Select an Interval</option><option value="daily">Daily</option><option value="weekly">Weekly</option><option value="monthly">Monthly</option><option value="yearly">Yearly</option>',5),m2t=[g2t],h2t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),f2t={class:"tw-col-span-2 md:tw-col-span-1"},b2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Cancellation Date Begins",-1),x2t={class:"tw-flex tw-justify-end tw-items-center tw-p-4"},v2t=["disabled"],y2t=(0,s._)("span",null,"Save",-1);var _2t={__name:"CronJobs",setup(t){const e=(0,ve.iH)(!1),r=(0,ve.iH)(null),l=(0,ve.iH)(""),o=async()=>{e.value=!0,await l2t.create([{name:"e",value:r.value},{name:"factorisation_interval_date",value:l.value}]).then((t=>{console.log(t)}),(t=>{console.log(t)})),e.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",o2t,[(0,s._)("section",i2t,[w2t,(0,s._)("div",n2t,[(0,s._)("div",d2t,[(0,s._)("div",c2t,[u2t,(0,s._)("div",p2t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.value=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},m2t,512),[[a.bM,l.value]]),h2t])]),(0,s._)("div",f2t,[b2t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[1]||(i[1]=t=>r.value=t),type:"datetime-local",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"123-45-678",required:""},null,512),[[a.nr,r.value]])])])]),(0,s._)("div",x2t,[(0,s._)("button",{onClick:o,disabled:e.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[e.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),y2t],8,v2t)])])]))}};const k2t=_2t;var C2t=k2t;const D2t=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Settings ")],-1),S2t={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"},U2t={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},z2t={class:"tw-w-full"},q2t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),P2t={class:"tw-w-full"},L2t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),W2t={class:"tw-w-full"},A2t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),$2t={class:"tw-w-full"},E2t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),T2t={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},j2t=(0,s._)("span",null,"Update Password: ",-1),F2t={class:"tw-w-full"},V2t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),I2t={class:"tw-w-full"},O2t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),H2t={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},M2t=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),R2t=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function N2t(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[D2t,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",S2t,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",U2t,[(0,s._)("div",null,[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(qa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",z2t,[q2t,(0,s.Wm)(nt.hw,{"error-messages":l.formStatus.firstname.message,modelValue:l.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>l.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",P2t,[L2t,(0,s.Wm)(nt.hw,{"error-messages":l.formStatus.lastname.message,modelValue:l.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",W2t,[A2t,(0,s.Wm)(nt.hw,{"error-messages":l.formStatus.email.message,modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.email=t),readonly:"",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$2t,[E2t,(0,s.Wm)(nt.hw,{"error-messages":l.formStatus.phone.message,modelValue:l.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>l.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Pa.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",T2t,[j2t,(0,s.Wm)(Bm.G,{modelValue:l.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>l.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),l.updatePassword?((0,s.wg)(),(0,s.j4)(Pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",F2t,[V2t,(0,s.Wm)(nt.hw,{"error-messages":l.formStatus.password.message,modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),l.updatePassword?((0,s.wg)(),(0,s.j4)(Pa.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",I2t,[O2t,(0,s.Wm)(nt.hw,{"error-messages":l.formStatus.confirmPassword.message,modelValue:l.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>l.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",H2t,[(0,s.Wm)(ot.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[M2t])),_:1}),t.$can("update_account")?((0,s.wg)(),(0,s.j4)(ot.T,{key:0,onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[R2t])),_:1},8,["onClick","loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var Y2t={data(){return{serverUrl:n,isFetched:!1,isUserFetched:!1,isLoading:!1,updatePassword:!1,formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:""}},computed:{isFormReady(){return this.isFetched},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,password:this.password}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,at.updateProfile(this.user,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["firstname"]=Lt(this.firstname),this.formStatus["lastname"]=Lt(this.lastname),this.formStatus["phone"]=Lt(this.phone),this.formStatus["password"]=Pt(this.password),this.formStatus["confirmPassword"]=At(this.password,this.confirmPassword);const t=this.formStatus["firstname"].valid,e=this.formStatus["lastname"].valid,r=this.formStatus["phone"].valid;if(this.updatePassword){const a=this.formStatus["password"].valid,s=this.formStatus["confirmPassword"].valid;return t&&e&&a&&s&&r}return t&&e&&r},async getUser(){return at.profile().then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.isUserFetched=!0}})).catch(this.$handleApiError)}},async mounted(){Promise.allSettled([this.getUser()]).then((()=>this.isFetched=!0),(t=>this.$handleApiError(t)))}};const Z2t=(0,g.Z)(Y2t,[["render",N2t]]);var K2t=Z2t;const B2t={class:"tw-border tw-border-solid tw-shadow-sm tw-rounded tw-p-5"},Q2t={class:"tw-flex tw-items-center tw-gap-2"},J2t={class:"tw-flex tw-items-center tw-gap-2"},G2t=(0,s._)("h1",{class:"tw-text-xl tw-font-bold"},"Bank Transfer",-1),X2t={key:0,class:"tw-flex tw-items-center tw-gap-1 tw-bg-teal-100 tw-rounded tw-pr-2 tw-pl-1 tw-py-0.5"},t5t=(0,s._)("span",{class:"tw-text-teal-500 tw-text-sm tw-capitalize"},"Preferred",-1),e5t=(0,s._)("p",{class:"tw-text-gray-500 tw-mt-2"},"Withdraw funds directly to your bank account.",-1),r5t={class:"tw-flex tw-justify-end tw-gap-2 tw-mt-2"},a5t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Setup",-1),s5t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Modify",-1),l5t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},o5t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},i5t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Bank Details ",-1),w5t={class:"tw-p-5 tw-space-y-4"},n5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Bank Name",-1),d5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},c5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Account Holder Name",-1),u5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},p5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"RIB",-1),g5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},m5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Set as Preferred",-1),h5t=["disabled"],f5t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},b5t=["disabled"],x5t=["disabled"],v5t=(0,s._)("span",null,"Save",-1);var y5t={__name:"BankTransferMethod",props:["withdrawalMethods"],emits:["update"],setup(t,{emit:e}){const r=t,l=(0,ve.iH)(!1),o=(0,ve.iH)(!1),i=(0,ve.iH)(!1),w=(0,ve.iH)({rib:"",account_holder_name:"",bank_name:""}),n=(0,ve.iH)({}),d=(0,ve.iH)(!1),c=(0,ve.iH)({}),u=()=>{c.value=r.withdrawalMethods.find((t=>"bank_transfer"==t.type)),c.value&&(i.value=!0,d.value=1==c.value.is_preferred,console.log(d.value),console.log(1==c.value.is_preferred),w.value={...c.value.metadata})};u();const p=async()=>{if(!m())return!1;const t={type:"bank_transfer",metadata:w.value,is_preferred:d.value};o.value=!0,await UDt.update(c.value.id,t).then((t=>{"SUCCESS"==t.data.code&&(e("update",t.data.withdrawal_methods),Pc("Method updated successfully!"),l.value=!1)}),(t=>{console.log(t),Pc("Something went wrong","danger")})),o.value=!1},g=async()=>{if(!m())return!1;const t={type:"bank_transfer",metadata:w.value,is_preferred:d.value};o.value=!0,await UDt.setup(t).then((t=>{"SUCCESS"==t.data.code&&(e("update",t.data.withdrawal_methods),Pc("Method updated successfully!"),l.value=!1)}),(t=>{console.log(t),Pc("Something went wrong","danger")})),o.value=!1},m=()=>{let t=!0;return w.value.rib||(t=!1,n.value.rib="RIB is required"),w.value.account_holder_name||(t=!1,n.value.account_holder_name="Account holder's name is required"),w.value.bank_name||(t=!1,n.value.bank_name="Bank's name is required"),t};return(t,e)=>{const r=(0,s.up)("icon"),u=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",B2t,[(0,s._)("div",Q2t,[(0,s._)("div",J2t,[(0,s.Wm)(r,{icon:"ph:bank-duotone",class:"tw-text-3xl tw-text-gray-600"}),G2t]),c.value&&1==c.value.is_preferred?((0,s.wg)(),(0,s.iD)("div",X2t,[(0,s.Wm)(r,{icon:"uil:check",class:"tw-text-xl tw-text-teal-500"}),t5t])):(0,s.kq)("",!0)]),e5t,(0,s._)("div",r5t,[(i.value,(0,s.kq)("",!0)),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[i.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone-line",class:"tw-text-gray-500 tw-text-2xl"}),s5t],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(r,{icon:"ph:gear-six-duotone",class:"tw-text-gray-500 tw-text-2xl"}),a5t],64))])]),(0,s.Wm)(u,{visible:l.value,onCancel:e[10]||(e[10]=t=>l.value=!1),closeable:!1},{default:(0,s.w5)((()=>[(0,s._)("div",l5t,[(0,s._)("div",o5t,[i5t,(0,s._)("div",w5t,[(0,s._)("div",null,[n5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>w.value.bank_name=t),onInput:e[2]||(e[2]=t=>n.value.bank_name=null),type:"text",class:(0,lt.C_)([[n.value.bank_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter bank name",required:""},null,34),[[a.nr,w.value.bank_name]]),n.value.bank_name?((0,s.wg)(),(0,s.iD)("label",d5t,(0,lt.zw)(n.value.bank_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[c5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>w.value.account_holder_name=t),onInput:e[4]||(e[4]=t=>n.value.account_holder_name=null),type:"text",class:(0,lt.C_)([[n.value.account_holder_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter account holder's name",required:""},null,34),[[a.nr,w.value.account_holder_name]]),n.value.account_holder_name?((0,s.wg)(),(0,s.iD)("label",u5t,(0,lt.zw)(n.value.account_holder_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[p5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>w.value.rib=t),onInput:e[6]||(e[6]=t=>n.value.rib=null),type:"text",class:(0,lt.C_)([[n.value.rib&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter your bank account RIB",required:""},null,34),[[a.nr,w.value.rib]]),n.value.rib?((0,s.wg)(),(0,s.iD)("label",g5t,(0,lt.zw)(n.value.rib),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[m5t,(0,s._)("button",{onClick:e[7]||(e[7]=t=>d.value=!d.value),disabled:o.value,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,lt.C_)([[d.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(r,{key:0,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-yellow-500",icon:"iconamoon:close-duotone"})),d.value?((0,s.wg)(),(0,s.j4)(r,{key:1,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-emerald-500",icon:"mingcute:check-2-fill"})):(0,s.kq)("",!0)],2)],8,h5t)])]),(0,s._)("div",f5t,[(0,s._)("button",{onClick:e[8]||(e[8]=t=>l.value=!1),disabled:o.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,b5t),(0,s._)("button",{disabled:o.value,onClick:e[9]||(e[9]=()=>i.value?p():g()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),v5t],8,x5t)])])])])),_:1},8,["visible"])])}}};const _5t=y5t;var k5t=_5t;const C5t={class:"tw-border tw-border-solid tw-shadow-sm tw-min-h-[400px]x tw-rounded tw-p-5"},D5t={class:"tw-flex tw-items-center tw-gap-2"},S5t={class:"tw-flex tw-items-center tw-gap-2"},U5t=(0,s._)("h1",{class:"tw-text-xl tw-font-bold"},"Binance",-1),z5t={key:0,class:"tw-flex tw-items-center tw-gap-1 tw-bg-teal-100 tw-rounded tw-pr-2 tw-pl-1 tw-py-0.5"},q5t=(0,s._)("span",{class:"tw-text-teal-500 tw-text-sm tw-capitalize"},"Preferred",-1),P5t=(0,s._)("p",{class:"tw-text-gray-500 tw-mt-2"},"Withdraw funds using Binance account",-1),L5t={class:"tw-flex tw-justify-end tw-gap-2 tw-mt-2"},W5t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Setup",-1),A5t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Modify",-1),$5t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},E5t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},T5t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Binance account details ",-1),j5t={class:"tw-p-5 tw-space-y-4"},F5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Binance ID",-1),V5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},I5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Set as Preferred",-1),O5t=["disabled"],H5t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},M5t=["disabled"],R5t=["disabled"],N5t=(0,s._)("span",null,"Save",-1);var Y5t={__name:"BinanceMethod",props:["withdrawalMethods"],emits:["update"],setup(t,{emit:e}){const r=t,l=(0,ve.iH)(!1),o=(0,ve.iH)(!1),i=(0,ve.iH)(!1),w=(0,ve.iH)({binance_id:""}),n=(0,ve.iH)(!1),d=(0,ve.iH)({}),c=(0,ve.iH)({}),u=()=>{c.value=r.withdrawalMethods.find((t=>"binance"==t.type)),c.value&&(i.value=!0,n.value=1==c.value.is_preferred,w.value={...c.value.metadata})};u();const p=async()=>{if(!m())return!1;const t={type:"binance",metadata:w.value,is_preferred:n.value};o.value=!0,await UDt.update(c.value.id,t).then((t=>{"SUCCESS"==t.data.code&&(e("update",t.data.withdrawal_methods),Pc("Method updated successfully!"),l.value=!1)}),(t=>{console.log(t),Pc("Something went wrong","danger")})),o.value=!1},g=async()=>{if(!m())return!1;const t={type:"binance",metadata:w.value,is_preferred:n.value};o.value=!0,await UDt.setup(t).then((t=>{"SUCCESS"==t.data.code&&(e("update",t.data.withdrawal_methods),Pc("Method updated successfully!"),l.value=!1)}),(t=>{console.log(t),Pc("Something went wrong","danger")})),o.value=!1},m=()=>{let t=!0;return w.value.binance_id||(t=!1,d.value.binance_id="Binance ID is required"),t};return(t,e)=>{const r=(0,s.up)("icon"),u=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",C5t,[(0,s._)("div",D5t,[(0,s._)("div",S5t,[(0,s.Wm)(r,{icon:"simple-icons:binance",class:"tw-text-3xl tw-text-[#F3BA2F]"}),U5t]),c.value&&1==c.value.is_preferred?((0,s.wg)(),(0,s.iD)("div",z5t,[(0,s.Wm)(r,{icon:"uil:check",class:"tw-text-xl tw-text-teal-500"}),q5t])):(0,s.kq)("",!0)]),P5t,(0,s._)("div",L5t,[(i.value,(0,s.kq)("",!0)),i.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>l.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[(0,s.Wm)(r,{icon:"ph:gear-six-duotone",class:"tw-text-gray-500 tw-text-2xl"}),W5t])),i.value?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[1]||(e[1]=t=>l.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone-line",class:"tw-text-gray-500 tw-text-2xl"}),A5t])):(0,s.kq)("",!0)]),(0,s.Wm)(u,{visible:l.value,onCancel:e[7]||(e[7]=t=>l.value=!1),closeable:!1},{default:(0,s.w5)((()=>[(0,s._)("div",$5t,[(0,s._)("div",E5t,[T5t,(0,s._)("div",j5t,[(0,s._)("div",null,[F5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.value.binance_id=t),onInput:e[3]||(e[3]=t=>d.value.binance_id=null),type:"text",class:(0,lt.C_)([[d.value.binance_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter your Binance account ID",required:""},null,34),[[a.nr,w.value.binance_id]]),d.value.binance_id?((0,s.wg)(),(0,s.iD)("label",V5t,(0,lt.zw)(d.value.binance_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[I5t,(0,s._)("button",{onClick:e[4]||(e[4]=t=>n.value=!n.value),disabled:o.value,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,lt.C_)([[n.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[n.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(r,{key:0,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-yellow-500",icon:"iconamoon:close-duotone"})),n.value?((0,s.wg)(),(0,s.j4)(r,{key:1,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-emerald-500",icon:"mingcute:check-2-fill"})):(0,s.kq)("",!0)],2)],8,O5t)])]),(0,s._)("div",H5t,[(0,s._)("button",{onClick:e[5]||(e[5]=t=>l.value=!1),disabled:o.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,M5t),(0,s._)("button",{disabled:o.value,onClick:e[6]||(e[6]=()=>i.value?p():g()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),N5t],8,R5t)])])])])),_:1},8,["visible"])])}}};const Z5t=Y5t;var K5t=Z5t;const B5t={class:"tw-px-3"},Q5t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Withdrawal Methods ")])],-1),J5t={class:"tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-mt-5"};var G5t={__name:"WithdrawalMethodsView",setup(t){const e=(0,ve.iH)(!1),r=(0,ve.iH)({}),a=(0,ve.iH)(0),l=async()=>{e.value=!0,await UDt.all().then((t=>{"SUCCESS"==t.data.code&&(r.value=t.data.withdrawal_methods),console.log(t)}),(t=>{console.log(t)})),e.value=!1};l();const o=t=>{r.value=t,a.value++};return(t,l)=>((0,s.wg)(),(0,s.iD)("div",{key:a.value,class:"py-5 px-2 tw-border tw-bg-white tw-min-h-[calc(100dvh-85px)] tw-w-full tw-rounded-md tw-mb-5"},[(0,s._)("section",B5t,[Q5t,(0,s._)("div",J5t,[e.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(2,(t=>(0,s._)("div",{key:t,class:"tw-h-[155px] tw-w-full tw-rounded tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-100 tw-animate-pulse tw-shadow-sm"}))),64)):(0,s.kq)("",!0),e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)((0,ve.SU)(k5t),{"withdrawal-methods":r.value,onUpdate:o},null,8,["withdrawal-methods"]),(0,s.Wm)((0,ve.SU)(K5t),{"withdrawal-methods":r.value,onUpdate:o},null,8,["withdrawal-methods"])],64))])])]))}};const X5t=G5t;var t4t=X5t,e4t={path:"/settings",name:"settings",component:Sa,meta:{module:"settings"},children:[{name:"settings/cronJobs",path:"/settings/cronJobs",component:C2t,meta:{module:"settings",subModule:"settings/cronJobs",title:"Cron Jobs",role:"admin"}},{path:"account",name:"settings.account",component:K2t,meta:{module:"settings",title:"Settings",role:"admin"}},{path:"withdrawal-methods",name:"settings.seller.withdrawal-methods",component:t4t,meta:{module:"settings",title:"Settings",role:["seller"]}}]};const r4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Role",-1);var a4t={__name:"RoleSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=(0,s.Fl)((()=>et.getters["user/roles"])),a=(0,ve.iH)(null),l=(0,ve.iH)(!1),o=(0,ve.iH)([{id:null,name:"Choose Role"},...r.value.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]),i=t=>{o.value=[{id:null,name:"Choose Role"},...t.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]},w=async()=>{if(et.getters["user/fetchedRoles"])return!1;l.value=!0,await at.roles().then((t=>{"SUCCESS"==t.data.code&&(et.dispatch("user/setRoles",t.data.data.roles),et.dispatch("user/setFetchedRoles",!0),i(r.value))})),l.value=!1},n=t=>{console.log(t),e("update:target",t.name)};return w(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[r4t,(0,s.Wm)((0,ve.SU)(AY.Z),{"append-to-body":"",loading:l.value,reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>n(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Role",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value=t),options:o.value,label:"name"},{"open-indicator":(0,s.w5)((({attributes:t})=>[(0,s.Wm)(r,(0,s.dG)({icon:"octicon:chevron-down-24"},t,{class:"tw-text-xl"}),null,16)])),_:1},8,["loading","reduce","modelValue","options"])])}}};const s4t=a4t;var l4t=s4t;const o4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"User",-1);var i4t={__name:"UserSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=(0,s.Fl)((()=>et.getters["user/users"])),a=(0,ve.iH)(null),l=(0,ve.iH)([{id:null,name:"Choose User"},...r.value.map((t=>({id:t.id,name:t.firstname+" "+t.lastname})))]),o=t=>{e("update:target",t.id)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[o4t,(0,s.Wm)((0,ve.SU)(AY.Z),{"append-to-body":"",class:"tw-min-w-[200px]",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>o(t)),clearable:!1,placeholder:"Choose User",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value=t),options:l.value,label:"name"},null,8,["reduce","modelValue","options"])]))}};const w4t=i4t;var n4t=w4t;const d4t=(0,s._)("span",null,"Make announcement",-1),c4t=[d4t],u4t={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},p4t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},g4t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Make Announcement ",-1),m4t={class:"tw-p-5 tw-space-y-4"},h4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Variant",-1),f4t={class:"tw-grid tw-grid-cols-4 tw-gap-2"},b4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Type",-1),x4t={class:"tw-grid tw-grid-cols-3 tw-gap-2"},v4t={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},y4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Closeable",-1),_4t={class:"tw-grid tw-grid-cols-2 tw-gap-2"},k4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Direction",-1),C4t={class:"tw-grid tw-grid-cols-2 tw-gap-2"},D4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Content",-1),S4t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},U4t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},z4t=["disabled"],q4t=["disabled"],P4t=(0,s._)("span",null,"Send",-1);var L4t={__name:"AddAlertForm",setup(t){const e=(0,ve.iH)(!1),r=(0,ve.iH)(!1),l=(0,s.f3)("alerts"),o=(0,ve.iH)({variant:"success",type:"global",target:null,content:"",closeable:!0,direction:"rtl"});(0,s.YP)((()=>o.value.target),(t=>{console.log("Target has been updated: ",t)})),(0,s.YP)((()=>o.value.type),(()=>{o.value.target=null}));const i=(0,ve.iH)({}),w=async()=>(i.value.content="",i.value.target="","global"==o.value.type||o.value.target?""==o.value.content?(i.value.content="The content can't be empty.",!1):(r.value=!0,await ca.create(o.value).then((t=>{console.log(t),"SUCCESS"==t.data.code&&(e.value=!1,l.data.value.unshift(t.data.alert),Pc("Sent successfully"))})).catch((t=>{console.log(t)})),void(r.value=!1)):(i.value.target="The target cannot be empty.",!1));return(t,l)=>{const n=(0,s.up)("icon"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:l[0]||(l[0]=t=>e.value=!0),role:"button",class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},c4t),(0,s.Wm)(d,{visible:e.value,onCancel:l[17]||(l[17]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",u4t,[(0,s._)("div",p4t,[g4t,(0,s._)("div",m4t,[(0,s._)("div",null,[h4t,(0,s._)("div",f4t,[(0,s._)("button",{onClick:l[1]||(l[1]=t=>o.value.variant="success"),class:(0,lt.C_)([["success"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-emerald-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[2]||(l[2]=t=>o.value.variant="info"),class:(0,lt.C_)([["info"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-cyan-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[3]||(l[3]=t=>o.value.variant="danger"),class:(0,lt.C_)([["danger"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-rose-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[4]||(l[4]=t=>o.value.variant="warning"),class:(0,lt.C_)([["warning"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-amber-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2)])]),(0,s._)("div",null,[b4t,(0,s._)("div",x4t,[(0,s._)("button",{onClick:l[5]||(l[5]=t=>o.value.type="global"),class:(0,lt.C_)([["global"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Global ",2),(0,s._)("button",{onClick:l[6]||(l[6]=t=>o.value.type="role"),class:(0,lt.C_)([["role"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Role ",2),(0,s._)("button",{onClick:l[7]||(l[7]=t=>o.value.type="user"),class:(0,lt.C_)([["user"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," User ",2)])]),(0,s.wy)((0,s._)("div",null,["role"==o.value.type?((0,s.wg)(),(0,s.j4)((0,ve.SU)(l4t),{key:0,target:o.value.target,"onUpdate:target":l[8]||(l[8]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),"user"==o.value.type?((0,s.wg)(),(0,s.j4)((0,ve.SU)(n4t),{key:1,target:o.value.target,"onUpdate:target":l[9]||(l[9]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),i.value.target?((0,s.wg)(),(0,s.iD)("label",v4t,(0,lt.zw)(i.value.target),1)):(0,s.kq)("",!0)],512),[[a.F8,"global"!=o.value.type]]),(0,s._)("div",null,[y4t,(0,s._)("div",_4t,[(0,s._)("button",{onClick:l[10]||(l[10]=t=>o.value.closeable=!0),class:(0,lt.C_)([[1==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Yes ",2),(0,s._)("button",{onClick:l[11]||(l[11]=t=>o.value.closeable=!1),class:(0,lt.C_)([[0==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," No ",2)])]),(0,s._)("div",null,[k4t,(0,s._)("div",C4t,[(0,s._)("button",{onClick:l[12]||(l[12]=t=>o.value.direction="rtl"),class:(0,lt.C_)([["rtl"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Right To Left ",2),(0,s._)("button",{onClick:l[13]||(l[13]=t=>o.value.direction="ltr"),class:(0,lt.C_)([["ltr"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Left To Right ",2)])]),(0,s._)("div",null,[D4t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":l[14]||(l[14]=t=>o.value.content=t),onInput:l[15]||(l[15]=t=>i.value.content=null),class:(0,lt.C_)([[i.value.content&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Announcement content"},null,34),[[a.nr,o.value.content]]),i.value.content?((0,s.wg)(),(0,s.iD)("label",S4t,(0,lt.zw)(i.value.content),1)):(0,s.kq)("",!0)])]),(0,s._)("div",U4t,[(0,s._)("button",{onClick:l[16]||(l[16]=t=>e.value=!1),disabled:r.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,z4t),(0,s._)("button",{onClick:w,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),P4t],8,q4t)])])])])),_:1},8,["visible"])])}}};const W4t=L4t;var A4t=W4t;const $4t={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"},E4t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},T4t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Delete Announcement ",-1),j4t=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to delete this announcement ? ")],-1),F4t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},V4t=["disabled"],I4t=(0,s._)("span",null,"Confirm",-1);var O4t={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,ve.Vh)(e,"item"),a=(0,s.f3)("alerts"),l=(0,ve.iH)({delete:!1}),o=(0,ve.iH)({delete:!1}),i=async()=>{o.value.delete=!0,await ca["delete"](r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Pc("Deleted successfully."),l.value.delete=!1,a.data.value=a.data.value.filter((t=>t.id!=r.value.id)))})),o.value.delete=!1};return(t,e)=>{const r=(0,s.up)("icon"),a=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",$4t,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value.delete=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-rose-300 tw-text-rose-500 tw-duration-200 hover:tw-bg-rose-500 hover:tw-text-white"},[(0,s.Wm)(r,{icon:"fluent:delete-28-filled"})])]),(0,s.Wm)(a,{visible:l.value.delete,onCancel:e[2]||(e[2]=t=>l.value.delete=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",E4t,[T4t,j4t,(0,s._)("div",F4t,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.value.delete=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:o.value.delete,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.delete&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),I4t],8,V4t)])])])),_:1},8,["visible"])])}}};const H4t=O4t;var M4t=H4t;const R4t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},N4t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Y4t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Z4t={class:"tw-w-[70px] tw-truncate"},K4t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},B4t={class:"tw-w-[80px] tw-truncate"},Q4t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},J4t={class:"tw-w-[100px] tw-truncate"},G4t={class:"tw-p-2"};var X4t={__name:"TableRow",props:["item"],setup(t){return(e,r)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",R4t,(0,lt.zw)(t.item.id),1),(0,s._)("td",N4t,(0,lt.zw)((0,ve.SU)(Ce())(t.item.created_at).format("YYYY-MM-DD HH:mm:ss")),1),(0,s._)("td",Y4t,[(0,s._)("p",Z4t,(0,lt.zw)(t.item.type),1)]),(0,s._)("td",K4t,[(0,s._)("p",B4t,(0,lt.zw)(t.item.to),1)]),(0,s._)("td",Q4t,[(0,s._)("p",J4t,(0,lt.zw)(t.item.content),1)]),(0,s._)("td",null,[(0,s._)("div",G4t,[(0,s.Wm)((0,ve.SU)(M4t),{item:t.item},null,8,["item"])])])]))}};const t3t=X4t;var e3t=t3t;const r3t={class:"tw-overflow-x-auto"},a3t={class:"tw-inline-block tw-min-w-full tw-align-middle"},s3t={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},l3t={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},o3t={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},i3t={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},w3t={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},n3t=["colspan"],d3t=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No alert was found ! ",-1),c3t=[d3t];var u3t={__name:"AlertsTable",props:["loading","data"],setup(t){const e=t,r=(0,ve.Vh)(e,"loading"),a=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Added at",class:"tw-w-[100px]"},{field:"type",name:"Type",class:"tw-w-[70px] tw-truncate"},{field:"to",name:"To",class:"tw-w-[70px] tw-truncate"},{field:"content",name:"Content",class:"tw-max-w-[150px] tw-truncate"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],l=(0,ve.Vh)(e,"data");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",r3t,[(0,s._)("div",a3t,[(0,s._)("div",s3t,[(0,s._)("table",l3t,[(0,s._)("thead",o3t,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(a,(t=>(0,s._)("th",{key:t.field,class:(0,lt.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,lt.zw)(t.name),1)],2))),64))])]),(0,ve.SU)(r)?((0,s.wg)(),(0,s.j4)((0,ve.SU)(uBt),{key:1,columns:a.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,ve.SU)(l).length?((0,s.wg)(),(0,s.iD)("tbody",i3t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(l),(t=>((0,s.wg)(),(0,s.j4)((0,ve.SU)(e3t),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,ve.SU)(l).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",w3t,[(0,s._)("tr",null,[(0,s._)("td",{colspan:a.length},c3t,8,n3t)])]))],64))])])])])]))}};const p3t=u3t;var g3t=p3t;const m3t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},h3t={class:"tw-px-3"},f3t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},b3t=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Manage Alerts ")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Create and manage announcements. ")],-1),x3t={class:"tw-mt-5"};var v3t={__name:"IndexView",setup(t){const e=(0,ve.iH)(!1),r=(0,ve.iH)({}),a=(0,ve.iH)({}),l=async()=>{e.value=!0,await ca.paginate("",a.value).then((t=>{const{data:e,...s}=t.data.alerts;r.value=e,a.value=s}),(t=>{console.log(t)})),e.value=!1};return l(),(0,s.JJ)("alerts",{data:r}),(t,a)=>((0,s.wg)(),(0,s.iD)("div",m3t,[(0,s._)("section",h3t,[(0,s._)("div",f3t,[b3t,(0,s._)("div",null,[(0,s.Wm)((0,ve.SU)(A4t))])]),(0,s._)("div",x3t,[(0,s.Wm)((0,ve.SU)(g3t),{data:r.value,loading:e.value},null,8,["data","loading"])])])]))}};const y3t=v3t;var _3t=y3t,k3t={name:"alerts",path:"/alerts",component:Sa,meta:{module:"alerts"},children:[{name:"alert/list",path:"",component:_3t,meta:{module:"alert",subModule:"alert/list",title:"Alerts List",role:["admin"]}}]};class C3t{async paginate(t="",e){return await $.getCookie(),W.get("api/affiliate/products"+t,{params:e})}async imported(t="",e){return await $.getCookie(),W.get("api/affiliate/products/imported"+t,{params:e})}async wishlisted(t="",e){return await $.getCookie(),W.get("api/affiliate/products/wishlisted"+t,{params:e})}async get(t){return await $.getCookie(),W.get("api/affiliate/products/"+t)}async details(t){return await $.getCookie(),W.get("api/affiliate/products/"+t+"/details")}async edit(t){return await $.getCookie(),W.get("api/affiliate/products/"+t+"/edit")}async create(t){return await $.getCookie(),W.post("api/affiliate/products",t)}async update(t,e){return await $.getCookie(),W.post("api/affiliate/products/"+t,e)}async addImport(t){return await $.getCookie(),W.post("api/affiliate/import",{product_id:t})}async removeImport(t){return await $.getCookie(),W.post("api/affiliate/unimport",{product_id:t})}async addWishlist(t){return await $.getCookie(),W.post("api/affiliate/wishlist",{product_id:t})}async removeWishlist(t){return await $.getCookie(),W.post("api/affiliate/unwishlist",{product_id:t})}}var D3t=new C3t;const S3t={key:0,class:"tw-w-full tw-mt-10 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-2"},U3t=["disabled"],z3t={key:2},q3t={key:3},P3t={key:2},L3t={key:3},W3t={class:"tw-flex tw-justify-end tw-gap-2 tw-p-2"},A3t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},$3t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Import ",-1),E3t={class:"tw-p-4 tw-bg-white"},T3t={key:0,class:"tw-text-lg tw-font-medium"},j3t={key:1,class:"tw-text-lg tw-font-medium"},F3t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},V3t=["disabled"],I3t=["disabled"],O3t=(0,s._)("span",null,"Confirm",-1),H3t=["disabled"],M3t=(0,s._)("span",null,"Remove",-1);var R3t={__name:"ProductCardActions",props:{product:{required:!1},isCard:{type:Boolean,default:!0}},setup(t){const e=t,r=(0,ve.Vh)(e,"product"),a=(0,ve.iH)(r.value.wishlisted),l=(0,ve.iH)(r.value.imported),o=(0,ve.iH)({wishlist:!1,import:!1}),i=(0,ve.iH)({wishlist:!1,import:!1}),w=async()=>{o.value.wishlist=!0,a.value?await D3t.removeWishlist(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Pc("Removed from wishlist"),i.value.wishlist=!1,a.value=!1)}),(t=>{console.log(t),Pc("Something wrong happend","danger")})):await D3t.addWishlist(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Pc("Added to wishlist"),i.value.wishlist=!1,a.value=!0),"ALREADY_WISHLISTED"==t.data.code&&(Pc("Already in wishlist"),i.value.wishlist=!1,a.value=!0)}),(t=>{console.log(t),Pc("Something wrong happend","danger")})),o.value.wishlist=!1},n=()=>{i.value.import=!0},d=async()=>{o.value.import=!0,l.value?await D3t.removeImport(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Pc("Removed from imported"),i.value.import=!1,l.value=!1),"ORDERS_EXISTS"==t.data.code&&(Pc("Product cannot be removed from import list because it has orders","info"),i.value.import=!1)}),(t=>{console.log(t),Pc("Something wrong happend","danger")})):await D3t.addImport(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Pc("Imported successfully"),i.value.import=!1,l.value=!0),"ORDERS_EXISTS"==t.data.code&&(Pc("Product cannot be removed from import list because it has orders","info"),i.value.import=!1),"ALREADY_IMPORTED"==t.data.code&&(Pc("Already imported"),i.value.import=!1,l.value=!0)}),(t=>{console.log(t),Pc("Something wrong happend","danger")})),o.value.import=!1};return(t,r)=>{const c=(0,s.up)("icon"),u=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.isCard?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",S3t,[(0,s._)("button",{onClick:n,disabled:o.value.import,class:(0,lt.C_)([[l.value&&"!tw-bg-gray-100 tw-text-emerald-500"],"tw-px-2 tw-flex tw-items-center tw-justify-center tw-gap-4 tw-bg-emerald-500 tw-text-white tw-rounded tw-py-3 hover:tw-saturate-150x tw-duration-200 tw-border-2 tw-border-solid tw-border-white hover:tw-border-emerald-200 tw-text-lg"])},[o.value.import?((0,s.wg)(),(0,s.j4)(c,{key:0,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(c,{key:0,icon:"charm:plus",class:"tw-text-3xl"})),l.value?((0,s.wg)(),(0,s.j4)(c,{key:1,icon:"uis:check",class:"tw-text-3xl tw-text-emerald-500"})):(0,s.kq)("",!0)],64)),l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",z3t,"Add to import list")),l.value?((0,s.wg)(),(0,s.iD)("span",q3t,"Imported")):(0,s.kq)("",!0)],10,U3t),(0,s._)("button",{onClick:w,class:"tw-px-2 tw-flex tw-items-center tw-justify-center tw-gap-4 tw-bg-rose-500/10 tw-text-rose-500 tw-text-whitxe tw-rounded tw-py-3 hover:tw-saturate-150x tw-duration-200 tw-border-2 tw-border-solid tw-border-white hover:tw-border-rose-200 tw-text-lg"},[o.value.wishlist?((0,s.wg)(),(0,s.j4)(c,{key:0,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-rose-500"})):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(c,{key:0,icon:"ph:heart-light",class:"tw-text-3xl tw-text-rose-500"})),a.value?((0,s.wg)(),(0,s.j4)(c,{key:1,icon:"ph:heart-fill",class:"tw-text-3xl tw-text-rose-500"})):(0,s.kq)("",!0)],64)),a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",P3t,"Add to wishlist")),a.value?((0,s.wg)(),(0,s.iD)("span",L3t,"Wishlisted")):(0,s.kq)("",!0)])])),e.isCard?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,lt.C_)([[(o.value.import||o.value.wishlist)&&"!tw-translate-y-0"],"tw-absolute tw-top-0 tw-left-0 tw-z-20 tw-w-full tw-h-[60px] tw-bg-gradient-to-b tw-from-black/40 tw-to-transparent -tw-translate-y-full group-hover:tw-translate-y-0 tw-duration-200"])},[(0,s._)("div",W3t,[(0,s._)("button",{onClick:n,class:"tw-px-2 tw-aspect-square tw-bg-emerald-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[!o.value.import&&l.value?((0,s.wg)(),(0,s.j4)(c,{key:0,icon:"gravity-ui:check",class:"tw-text-2xl tw-text-white"})):(0,s.kq)("",!0),o.value.import||l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(c,{key:1,icon:"charm:plus",class:"tw-text-2xl tw-text-white"})),o.value.import?((0,s.wg)(),(0,s.j4)(c,{key:2,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):(0,s.kq)("",!0)]),(0,s._)("button",{onClick:w,class:"tw-px-2 tw-aspect-square tw-bg-rose-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[o.value.wishlist?((0,s.wg)(),(0,s.j4)(c,{key:1,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):((0,s.wg)(),(0,s.j4)(c,{key:0,icon:a.value?"ph:heart-fill":"ph:heart-light",class:"tw-text-2xl tw-text-white"},null,8,["icon"]))])])],2)):(0,s.kq)("",!0),(0,s.Wm)(u,{visible:i.value.import,closeable:!o.value.import,onCancel:r[1]||(r[1]=t=>i.value.import=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",A3t,[$3t,(0,s._)("div",E3t,[l.value?((0,s.wg)(),(0,s.iD)("p",j3t," Are you sure you want to remove from import list ? ")):((0,s.wg)(),(0,s.iD)("p",T3t," Are you sure you want to import with this product ? "))]),(0,s._)("div",F3t,[(0,s._)("button",{disabled:o.value.import,onClick:r[0]||(r[0]=t=>i.value.import=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,V3t),l.value?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:d,disabled:o.value.import,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 tw-border-rose-800 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.import&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),M3t],8,H3t)):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:d,disabled:o.value.import,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.import&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),O3t],8,I3t))])])])),_:1},8,["visible","closeable"])],64)}}};const N3t=R3t;var Y3t=N3t;const Z3t={class:"tw-relative tw-rounded tw-overflow-hidden tw-group tw-border tw-border-solid tw-shadow-sm tw-bg-white"},K3t=["src"],B3t=(0,s._)("div",{class:"tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-gray-200 tw-animate-pulse"},null,-1),Q3t={class:"tw-absolute tw-bottom-2 tw-right-2 tw-min-w-[80px] tw-min-h-[40px] tw-p-2 tw-gap-2 tw-rounded tw-py-0 tw-flex tw-items-center tw-justify-center tw-bg-white tw-shadow tw-shadow-orange-400 tw-z-10"},J3t={class:"tw-text-lg tw-font-semibold"},G3t={class:"tw-flex tw-items-center tw-gap-2 tw-absolute tw-bottom-2 tw-left-2 tw-z-20"},X3t={key:0,title:"TikTok videos exists",class:"tw-border tw-border-solid tw-bg-white tw-border-gray-200 tw-p-1 tw-rounded tw-flex tw-items-center tw-gap-2"},t8t={key:1,title:"Facebook videos exists",class:"tw-border tw-border-solid tw-bg-white tw-border-gray-200 tw-p-1 tw-rounded tw-flex tw-items-center tw-gap-2"},e8t={class:"tw-p-4 tw-pb-2 tw-min-h-[20px]"},r8t={class:"tw-relative"},a8t={class:"tw-flex tw-items-center tw-justify-between"};var s8t={__name:"ProductCard",props:["product"],setup(t){const e=t,r=(0,ve.Vh)(e,"product");return(t,e)=>{const a=(0,s.up)("icon"),l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Z3t,[(0,s.Wm)((0,ve.SU)(Y3t),{product:(0,ve.SU)(r)},null,8,["product"]),(0,s.Wm)(l,{to:{name:"affiliate.show",params:{id:(0,ve.SU)(r).id}},class:"tw-h-[400px] tw-block tw-aspect-square tw-w-full tw-overflow-hidden tw-relative tw-border-b tw-border-solid tw-border-gray-200"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:(0,ve.SU)(r).thumbnail,class:"tw-w-full tw-h-full tw-aspect-square tw-object-cover group-hover:tw-scale-105 tw-duration-200 tw-relative tw-z-10"},null,8,K3t),B3t,(0,s._)("div",Q3t,[(0,s.Wm)(a,{icon:"hugeicons:sale-tag-02",class:"tw-text-2xl tw-text-orange-500"}),(0,s._)("span",J3t,(0,lt.zw)((0,ve.SU)(c))+(0,lt.zw)((0,ve.SU)(r).selling_price),1)]),(0,s._)("div",G3t,[(0,ve.SU)(r).media.tiktok_ads?((0,s.wg)(),(0,s.iD)("div",X3t,[(0,s.Wm)(a,{icon:"logos:tiktok-icon",class:"tw-text-lg"})])):(0,s.kq)("",!0),(0,ve.SU)(r).media.facebook_ads?((0,s.wg)(),(0,s.iD)("div",t8t,[(0,s.Wm)(a,{icon:"basil:facebook-solid",class:"tw-text-lg tw-text-sky-600"})])):(0,s.kq)("",!0)])])),_:1},8,["to"]),(0,s._)("div",e8t,[(0,s._)("div",r8t,[(0,s.Wm)(l,{to:{name:"affiliate.show",params:{id:(0,ve.SU)(r).id}},class:"tw-text-lg tw-font-medium tw-max-w-full tw-truncate tw-block"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)((0,ve.SU)(r).name),1)])),_:1},8,["to"]),(0,s._)("div",a8t,[((0,s.wg)(),(0,s.iD)("p",{key:(0,ve.SU)(r).category,class:"tw-text-sm tw-text-orange-500 tw-rounded tw-w-fit tw-my-1"},(0,lt.zw)((0,ve.SU)(r).category),1))]),(0,s.kq)("",!0)])]),(0,s.kq)("",!0)])}}};const l8t=s8t;var o8t=l8t;const i8t=(0,s._)("div",{class:"tw-px-5 tw-py-2"},[(0,s._)("div",null,[(0,s._)("button",{class:"tw-py-2 tw-border-b-2 tw-border-solid tw-border-orange-500"},"All Products")])],-1),w8t={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},n8t={class:"tw-px-3"},d8t={class:"tw-mt-5x tw-flexx tw-items-centerx"},c8t={key:0},u8t={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},p8t={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},g8t={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},m8t=["src"],h8t=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),f8t={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},b8t=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),x8t={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var v8t={__name:"ProductResearchView",setup(t){const e=(0,ve.iH)(!1),r=(0,ve.iH)([]),a=async()=>{e.value=!0,await D3t.paginate("/").then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[i8t,(0,s._)("div",w8t,[(0,s._)("section",n8t,[(0,s.kq)("",!0),(0,s._)("div",d8t,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",c8t,[r.value.length?((0,s.wg)(),(0,s.iD)("div",u8t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ve.SU)(o8t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",p8t,[(0,s._)("div",g8t,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,m8t),h8t])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",f8t,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[b8t,(0,s._)("div",x8t,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const y8t=v8t;var _8t=y8t;const k8t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},C8t=(0,s.uE)('<section class="tw-px-3"><div class="tw-flex tw-items-center tw-justify-between tw-flex-wrap"><div><div class="tw-flex tw-items-center tw-gap-x-3"><h2 class="tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"> Products </h2><span class="tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded darkx:tw-bg-gray-800 darkx:tw-text-orange-400">0 products</span></div><p class="tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"> List of affiliate products. </p></div></div></section>',1),D8t=[C8t];function S8t(t,e){return(0,s.wg)(),(0,s.iD)("div",k8t,D8t)}const U8t={},z8t=(0,g.Z)(U8t,[["render",S8t]]);var q8t=z8t,P8t=r(7200),L8t=r(6835),W8t=r(6414),A8t=r(3798),$8t=r(4018);const E8t={class:"tw-flex tw-items-center tw-gap-2 tw-p-1 tw-border tw-border-solid tw-border-gray-200 tw-rounded-t tw-border-b-0 tw-bg-gray-100 tw-overflow-auto"},T8t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1),j8t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1),F8t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1);var V8t={__name:"EditorToolbar",props:["editor"],setup(t){const e=t,r=(0,ve.Vh)(e,"editor");return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",E8t,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>(0,ve.SU)(r)?.chain().focus().toggleBold().run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive("bold")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-bold-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>(0,ve.SU)(r)?.chain().focus().toggleItalic().run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive("italic")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-italic-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[2]||(e[2]=t=>(0,ve.SU)(r)?.chain().focus().toggleUnderline().run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive("underline")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-underline-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[3]||(e[3]=t=>(0,ve.SU)(r)?.chain().focus().toggleStrike().run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive("strike")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-cross-bold",class:"tw-text-sm"})],2),T8t,(0,s._)("button",{onClick:e[4]||(e[4]=t=>(0,ve.SU)(r)?.chain().focus().toggleHeading({level:1}).run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive("heading",{level:1})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-one-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>(0,ve.SU)(r)?.chain().focus().toggleHeading({level:2}).run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive("heading",{level:2})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-two-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[6]||(e[6]=t=>(0,ve.SU)(r)?.chain().focus().toggleHeading({level:3}).run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive("heading",{level:3})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-three-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[7]||(e[7]=t=>(0,ve.SU)(r)?.chain().focus().toggleHeading({level:4}).run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive("heading",{level:4})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-four-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[8]||(e[8]=t=>(0,ve.SU)(r)?.chain().focus().toggleHeading({level:5}).run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive("heading",{level:5})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-five-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[9]||(e[9]=t=>(0,ve.SU)(r)?.chain().focus().toggleHeading({level:6}).run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive("heading",{level:6})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-six-bold",class:"tw-text-sm"})],2),j8t,(0,s._)("button",{onClick:e[10]||(e[10]=t=>(0,ve.SU)(r)?.chain().focus().setTextAlign("left").run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive({textAlign:"left"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-left-bold",class:""})],2),(0,s._)("button",{onClick:e[11]||(e[11]=t=>(0,ve.SU)(r)?.chain().focus().setTextAlign("center").run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive({textAlign:"center"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-center-bold",class:""})],2),(0,s._)("button",{onClick:e[12]||(e[12]=t=>(0,ve.SU)(r)?.chain().focus().setTextAlign("right").run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive({textAlign:"right"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-right-bold",class:""})],2),F8t,(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{onClick:e[14]||(e[14]=t=>(0,ve.SU)(r)?.chain().focus().toggleBulletList().run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive("bulletList")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"fluent:text-bullet-list-ltr-20-filled",class:""})],2),(0,s._)("button",{onClick:e[15]||(e[15]=t=>(0,ve.SU)(r)?.chain().focus().toggleOrderedList().run()),class:(0,lt.C_)([[(0,ve.SU)(r)?.isActive("orderedList")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:list-numbers-light",class:""})],2)])}}};const I8t=V8t;var O8t=I8t,H8t={__name:"TiptapEditor",props:{modelValue:{required:!0},editable:{required:!1,default:!0}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t;console.log(r.modelValue);const a=(0,P8t.jE)({editable:r.editable,content:r.modelValue,extensions:[W8t.Z,L8t.Z,$8t.ZP,A8t.Z.configure({types:["heading","paragraph"]})],editorProps:{attributes:{class:r.editable?"tw-outline-none tw-border tw-border-solid tw-border-gray-200 tw-min-h-[250px] tw-p-5 tw-rounded-b":"tw-outline-none"}},onUpdate({editor:t}){e("update:modelValue",t.getHTML())}});return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[r.editable?((0,s.wg)(),(0,s.j4)((0,ve.SU)(O8t),{key:0,editor:(0,ve.SU)(a)},null,8,["editor"])):(0,s.kq)("",!0),(0,s.Wm)((0,ve.SU)(P8t.kg),{editor:(0,ve.SU)(a),class:"tw-w-full tw-min-h-[300px] tw-outline-none no-tailwind"},null,8,["editor"])]))}};const M8t=H8t;var R8t=M8t;class N8t{async create(t){return await $.getCookie(),W.post("api/categories",t)}async all(){return await $.getCookie(),W.get("api/categories")}}var Y8t=new N8t;const Z8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Category",-1),K8t={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-1"},B8t={class:"tw-flex-1"},Q8t={class:"tw-relative"},J8t=["disabled"],G8t=(0,s._)("option",{value:"",selected:""},"Choose category",-1),X8t=["value"],t6t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},e6t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Add category ",-1),r6t={class:"tw-p-5 tw-bg-white"},a6t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},s6t={class:"tw-col-span-2 md:tw-col-span-2"},l6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),o6t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},i6t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},w6t=["disabled"],n6t=(0,s._)("span",null,"Create",-1);var d6t={__name:"CategoryField",setup(t){const e=(0,s.f3)("product"),r=(0,ve.iH)(!1),l=(0,ve.iH)(!1),o=(0,ve.iH)(!1),i=(0,ve.iH)({type:"products"}),w=(0,ve.iH)([]),n=(0,ve.iH)({}),d=async()=>{if(n.value={},!i.value.name)return n.value.name="Name is required",!1;l.value=!0,await Y8t.create(i.value).then((t=>{"SUCCESS"==t.data.code&&(w.value.unshift(t.data.category),Pc("New category has been added"),c())}),(t=>{console.log(t)})),l.value=!1},c=()=>{i.value={type:"products"},r.value=!1},u=async()=>{o.value=!1,await Y8t.all().then((t=>{"SUCCESS"==t.data.code&&(w.value=t.data.categories,o.value=!0)}),(t=>{console.log(t)}))};return o.value||u(),(t,u)=>{const p=(0,s.up)("icon"),g=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[Z8t,(0,s._)("div",K8t,[(0,s._)("div",B8t,[(0,s._)("div",Q8t,[(0,s.wy)((0,s._)("select",{disabled:!o.value,"onUpdate:modelValue":u[0]||(u[0]=t=>(0,ve.SU)(e).category_id=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"},[G8t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t},(0,lt.zw)(t.name),9,X8t)))),128))],8,J8t),[[a.bM,(0,ve.SU)(e).category_id]])])]),(0,s._)("button",{onClick:u[1]||(u[1]=t=>r.value=!r.value),class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(p,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.Wm)(g,{visible:r.value,closeable:!0,onCancel:u[4]||(u[4]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",t6t,[e6t,(0,s._)("div",r6t,[(0,s._)("div",a6t,[(0,s._)("div",s6t,[l6t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":u[2]||(u[2]=t=>i.value.name=t),onInput:u[3]||(u[3]=t=>n.value.name=null),type:"text",class:(0,lt.C_)([[n.value.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Name",required:""},null,34),[[a.nr,i.value.name]]),n.value.name?((0,s.wg)(),(0,s.iD)("label",o6t,(0,lt.zw)(n.value.name),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",i6t,[(0,s._)("button",{onClick:c,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),n6t],8,w6t)])])])),_:1},8,["visible"])])}}};const c6t=d6t;var u6t=c6t;const p6t={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-10"},g6t={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},m6t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Basic Informations")],-1),h6t={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},f6t={class:"tw-col-span-2"},b6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),x6t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},v6t={class:"tw-col-span-2"},y6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"SKU",-1),_6t=["disabled"],k6t={key:0,class:"tw-block tw-mb-1 tw-mt-1 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},C6t={key:1,class:"tw-block tw-mb-1 tw-mt-1 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},D6t={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},S6t={class:"tw-col-span-2"},U6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Buying Price",-1),z6t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},q6t={class:"tw-col-span-2"},P6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Selling Price",-1),L6t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},W6t={class:"tw-col-span-2"},A6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Description",-1),$6t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},E6t={class:"md:tw-col-span-5 tw-col-span-12 tw-w-full tw-rounded-md tw-flex tw-flex-col tw-gap-5 tw-h-fit"},T6t={class:"tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-overflow-hidden tw-h-fit"},j6t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Visibility")],-1),F6t={class:"tw-p-5"},V6t={class:"tw-flex tw-items-center tw-gap-5"},I6t=(0,s._)("span",null,"Visible",-1),O6t=(0,s._)("span",null,"Hidden",-1),H6t={class:"md:tw-col-span-5 tw-col-span-12"},M6t={class:"tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-h-fit tw-overflow-hidden"},R6t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Category")],-1),N6t={class:"tw-p-5 tw-space-y-4"},Y6t={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-gap-2 tw-overflow-hidden tw-h-fit"},Z6t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Rates")],-1),K6t={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},B6t={class:"tw-col-span-2 md:tw-col-span-1"},Q6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Confirmation",-1),J6t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},G6t={class:"tw-col-span-2 md:tw-col-span-1"},X6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Delivery",-1),t7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"};var e7t={__name:"MainDetailsTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.f3)("errors"),l=(0,s.f3)("isUpdate");return(t,o)=>((0,s.wg)(),(0,s.iD)("div",p6t,[(0,s._)("div",g6t,[m6t,(0,s._)("div",h6t,[(0,s._)("div",f6t,[b6t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>(0,ve.SU)(e).name=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter product name...",required:""},null,512),[[a.nr,(0,ve.SU)(e).name]]),(0,ve.SU)(r).name?((0,s.wg)(),(0,s.iD)("label",x6t,(0,lt.zw)((0,ve.SU)(r).name),1)):(0,s.kq)("",!0)]),(0,s._)("div",v6t,[y6t,(0,s.wy)((0,s._)("input",{disabled:(0,ve.SU)(l),type:"text","onUpdate:modelValue":o[1]||(o[1]=t=>(0,ve.SU)(e).sku=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter product SKU...",required:""},null,8,_6t),[[a.nr,(0,ve.SU)(e).sku]]),(0,ve.SU)(l)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("label",k6t,"SKU should be unique for all products")),(0,ve.SU)(l)?((0,s.wg)(),(0,s.iD)("label",C6t,"SKU cannot be updated")):(0,s.kq)("",!0),(0,ve.SU)(r).sku?((0,s.wg)(),(0,s.iD)("label",D6t,(0,lt.zw)((0,ve.SU)(r).sku),1)):(0,s.kq)("",!0)]),(0,s._)("div",S6t,[U6t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[2]||(o[2]=t=>(0,ve.SU)(e).buying_price=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Buying price...",required:""},null,512),[[a.nr,(0,ve.SU)(e).buying_price]]),(0,ve.SU)(r).buying_price?((0,s.wg)(),(0,s.iD)("label",z6t,(0,lt.zw)((0,ve.SU)(r).buying_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",q6t,[P6t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=t=>(0,ve.SU)(e).selling_price=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Selling price...",required:""},null,512),[[a.nr,(0,ve.SU)(e).selling_price]]),(0,ve.SU)(r).selling_price?((0,s.wg)(),(0,s.iD)("label",L6t,(0,lt.zw)((0,ve.SU)(r).selling_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",W6t,[A6t,(0,s.Wm)(R8t,{modelValue:(0,ve.SU)(e).description,"onUpdate:modelValue":o[4]||(o[4]=t=>(0,ve.SU)(e).description=t)},null,8,["modelValue"]),(0,ve.SU)(r).description?((0,s.wg)(),(0,s.iD)("label",$6t,(0,lt.zw)((0,ve.SU)(r).description),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",E6t,[(0,s._)("div",T6t,[j6t,(0,s._)("div",F6t,[(0,s._)("div",V6t,[(0,s._)("button",{onClick:o[5]||(o[5]=t=>(0,ve.SU)(e).status=!(0,ve.SU)(e).status),class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(e).status&&"tw-bg-gray-700"],"tw-w-5 tw-h-5 tw-rounded-md tw-order tw-border-2 tw-border-solid tw-border-gray-600 tw-duration-200"])},null,2),I6t]),(0,s._)("button",{onClick:o[6]||(o[6]=t=>(0,ve.SU)(e).status=!(0,ve.SU)(e).status),class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:(0,lt.C_)([[!(0,ve.SU)(e).status&&"tw-bg-gray-700"],"tw-w-5 tw-h-5 tw-rounded-md tw-order tw-border-2 tw-border-solid tw-border-gray-600 tw-duration-200"])},null,2),O6t])])])]),(0,s._)("div",H6t,[(0,s._)("div",M6t,[R6t,(0,s._)("div",N6t,[(0,s.Wm)(u6t),(0,s.kq)("",!0)])])]),(0,s._)("div",Y6t,[(0,s._)("div",null,[Z6t,(0,s._)("div",K6t,[(0,s._)("div",B6t,[Q6t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[7]||(o[7]=t=>(0,ve.SU)(e).confirmation_rate=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Confirmation rate %",required:""},null,512),[[a.nr,(0,ve.SU)(e).confirmation_rate]]),(0,ve.SU)(r).confirmation_rate?((0,s.wg)(),(0,s.iD)("label",J6t,(0,lt.zw)((0,ve.SU)(r).confirmation_rate),1)):(0,s.kq)("",!0)]),(0,s._)("div",G6t,[X6t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[8]||(o[8]=t=>(0,ve.SU)(e).delivery_rate=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Delivery rate %",required:""},null,512),[[a.nr,(0,ve.SU)(e).delivery_rate]]),(0,ve.SU)(r).delivery_rate?((0,s.wg)(),(0,s.iD)("label",t7t,(0,lt.zw)((0,ve.SU)(r).delivery_rate),1)):(0,s.kq)("",!0)])])])])])]))}};const r7t=e7t;var a7t=r7t;const s7t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},l7t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Add variation ",-1),o7t={class:"tw-p-5 tw-bg-white"},i7t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},w7t={class:"tw-col-span-2 md:tw-col-span-2"},n7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),d7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},c7t={class:"tw-col-span-2 md:tw-col-span-2"},u7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Color",-1),p7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},g7t={class:"tw-col-span-2 md:tw-col-span-2"},m7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Size",-1),h7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},f7t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},b7t=["disabled"],x7t=(0,s._)("span",null,"Create",-1);var v7t={__name:"ProductVariationAdd",emits:["create"],setup(t,{emit:e}){const r=(0,ve.iH)(!1),l=(0,ve.iH)(!1),o=(0,ve.iH)({}),i=(0,ve.iH)({}),w=()=>{if(!o.value.quantity)return Pc("Quantity is required","error"),!1;o.value.id=Date.now(),e("create",o.value),n()},n=()=>{o.value={},r.value=!1};return(t,e)=>{const d=(0,s.up)("icon"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-aspect-square tw-rounded"},[(0,s.Wm)(d,{icon:"jam:plus",class:"tw"})]),(0,s.Wm)(c,{visible:r.value,closeable:!0,onCancel:e[7]||(e[7]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",s7t,[l7t,(0,s._)("div",o7t,[(0,s._)("div",i7t,[(0,s._)("div",w7t,[n7t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.quantity=t),onInput:e[2]||(e[2]=t=>i.value.quantity=null),type:"number",class:(0,lt.C_)([[i.value.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"0",required:""},null,34),[[a.nr,o.value.quantity]]),i.value.quantity?((0,s.wg)(),(0,s.iD)("label",d7t,(0,lt.zw)(i.value.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",c7t,[u7t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.value.color=t),onInput:e[4]||(e[4]=t=>i.value.color=null),type:"text",class:(0,lt.C_)([[i.value.color&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"White, Black...",required:""},null,34),[[a.nr,o.value.color]]),i.value.color?((0,s.wg)(),(0,s.iD)("label",p7t,(0,lt.zw)(i.value.color),1)):(0,s.kq)("",!0)]),(0,s._)("div",g7t,[m7t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.value.size=t),onInput:e[6]||(e[6]=t=>i.value.size=null),type:"text",class:(0,lt.C_)([[i.value.size&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Small, Large...",required:""},null,34),[[a.nr,o.value.size]]),i.value.size?((0,s.wg)(),(0,s.iD)("label",h7t,(0,lt.zw)(i.value.size),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",f7t,[(0,s._)("button",{onClick:n,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:w,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),x7t],8,b7t)])])])),_:1},8,["visible"])])}}};const y7t=v7t;var _7t=y7t;const k7t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},C7t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Update variation ",-1),D7t={class:"tw-p-5 tw-bg-white"},S7t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},U7t={class:"tw-col-span-2 md:tw-col-span-2"},z7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),q7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},P7t={class:"tw-col-span-2 md:tw-col-span-2"},L7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Color",-1),W7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},A7t={class:"tw-col-span-2 md:tw-col-span-2"},$7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Size",-1),E7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T7t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},j7t=["disabled"],F7t=(0,s._)("span",null,"Create",-1);var V7t={__name:"ProductVariationUpdate",props:["variation"],emits:["update","cancel"],setup(t,{emit:e}){const r=t,l=(0,ve.iH)(!0),o=(0,ve.iH)(!1),i=(0,ve.iH)({...r.variation}),w=(0,ve.iH)({}),n=()=>{if(!i.value.quantity)return Pc("Quantity is required","error"),!1;e("update",i.value),d()},d=()=>{i.value=r.variation,l.value=!1,e("cancel")};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:l.value,closeable:!0,onCancel:e[6]||(e[6]=t=>l.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",k7t,[C7t,(0,s._)("div",D7t,[(0,s._)("div",S7t,[(0,s._)("div",U7t,[z7t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.value.quantity=t),onInput:e[1]||(e[1]=t=>w.value.quantity=null),type:"number",class:(0,lt.C_)([[w.value.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"0",required:""},null,34),[[a.nr,i.value.quantity]]),w.value.quantity?((0,s.wg)(),(0,s.iD)("label",q7t,(0,lt.zw)(w.value.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",P7t,[L7t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.value.color=t),onInput:e[3]||(e[3]=t=>w.value.color=null),type:"text",class:(0,lt.C_)([[w.value.color&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"White, Black...",required:""},null,34),[[a.nr,i.value.color]]),w.value.color?((0,s.wg)(),(0,s.iD)("label",W7t,(0,lt.zw)(w.value.color),1)):(0,s.kq)("",!0)]),(0,s._)("div",A7t,[$7t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.value.size=t),onInput:e[5]||(e[5]=t=>w.value.size=null),type:"text",class:(0,lt.C_)([[w.value.size&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Small, Large...",required:""},null,34),[[a.nr,i.value.size]]),w.value.size?((0,s.wg)(),(0,s.iD)("label",E7t,(0,lt.zw)(w.value.size),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",T7t,[(0,s._)("button",{onClick:d,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:n,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(wt.t,{size:"small",class:(0,lt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),F7t],8,j7t)])])])),_:1},8,["visible"])])}}};const I7t=V7t;var O7t=I7t;const H7t={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},M7t={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},R7t={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},N7t={class:"tw-p-1 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100 tw-flex tw-items-center tw-justify-center tw-gap-2"},Y7t={title:"Delete variation",class:"tw-aspect-square tw-scale-90 tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-rose-100 hover:tw-border-rose-400 tw-bg-rose-50/10 hover:tw-bg-rose-100 tw-duration-200"};var Z7t={__name:"ProductVariation",props:["variation"],emits:["update"],setup(t,{emit:e}){const r=t,a=(0,ve.iH)(!1),l=(0,ve.Vh)(r,"variation");return(t,r)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",{key:(0,ve.SU)(l),class:"tw-grid tw-grid-cols-4 tw-divide-x tw-text-center"},[(0,s._)("div",H7t,(0,lt.zw)((0,ve.SU)(l).quantity),1),(0,s._)("div",M7t,(0,lt.zw)((0,ve.SU)(l).color),1),(0,s._)("div",R7t,(0,lt.zw)((0,ve.SU)(l).size),1),(0,s._)("div",N7t,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>a.value=!0),title:"Delete variation",class:"tw-aspect-square tw-scale-90 tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 tw-bg-amber-50/10 hover:tw-bg-amber-100 tw-duration-200"},[(0,s.Wm)(o,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})]),(0,s._)("button",Y7t,[(0,s.Wm)(o,{icon:"solar:trash-bin-trash-bold-duotone",class:"tw-text-xl tw-text-rose-500"})])]),a.value?((0,s.wg)(),(0,s.j4)((0,ve.SU)(O7t),{key:0,variation:(0,ve.SU)(l),onUpdate:r[1]||(r[1]=t=>e("update",t))},null,8,["variation"])):(0,s.kq)("",!0)])}}};const K7t=Z7t;var B7t=K7t;const Q7t={class:"tw-grid tw-grid-cols-12 tw-gap-5"},J7t={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},G7t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Variations")],-1),X7t={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},t9t={class:"tw-col-span-2 tw-flex tw-items-center tw-justify-between tw-mb-2"},e9t=(0,s._)("p",null,"Does the product have variations ?",-1),r9t=(0,s.uE)('<div class="tw-col-span-1"><label class="tw-block tw-text-sm tw-mb-2 tw-font-medium tw-text-gray-900 dark:tw-text-white"> Warehouse</label><div class="tw-relative"><select value="lebanon" class="tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"><option value="a" disabled>Choose warehouse</option><option value="lebanon">Lebanon</option></select></div></div>',1),a9t={key:0,class:"tw-col-span-1"},s9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Initial quantity",-1),l9t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},o9t={key:0,class:"tw-col-span-2 tw-mt-5"},i9t={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},w9t=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Variations list",-1),n9t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},d9t={key:2,class:"tw-p-5 tw-bg-gray-100 tw-text-center"},c9t=(0,s._)("p",null,"No variations added yet",-1),u9t=[c9t],p9t={key:3,class:"tw-p-2 tw-bg-gray-100 tw-"},g9t=(0,s._)("div",{class:"tw-grid tw-grid-cols-4 tw-mb-1 tw-text-center"},[(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Quantity"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Color"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Size"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Actions")],-1),m9t=(0,s.uE)('<div class="md:tw-col-span-5 tw-col-span-12 tw-h-fit"><div class="tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"><div class="tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"><h1 class="tw-font-semibold tw-text-white">Deliveries</h1></div><div class="tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"><div class="tw-col-span-2"><label class="tw-block tw-text-sm tw-mb-2 tw-font-medium tw-text-gray-900 dark:tw-text-white"> Can be delivered by</label><div class="tw-relative"><select value="road-runner" class="tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"><option value="a" disabled>Choose deliveries</option><option value="road-runner">Road Runner</option></select></div></div></div></div></div>',1);var h9t={__name:"ProductStockTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.f3)("errors"),l=t=>{e.value.variations.unshift(t)},o=t=>{e.value.variations=e.value.variations.map((e=>e.id==t.id?t:e))};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",Q7t,[(0,s._)("div",J7t,[G7t,(0,s._)("div",X7t,[(0,s._)("div",t9t,[e9t,(0,s._)("button",{onClick:i[0]||(i[0]=t=>(0,ve.SU)(e).has_variations=!(0,ve.SU)(e).has_variations),class:"tw-p-1 tw-h-[35px] tw-w-[90px] tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-rounded"},[(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(e).has_variations?"tw-translate-x-full":""],"tw-w-[40px] tw-duration-200 tw-h-full tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded-sm tw-uppercase tw-text-center tw-font-medium tw-text-sm tw-flex tw-items-center tw-justify-center"])},(0,lt.zw)((0,ve.SU)(e).has_variations?"Yes":"No"),3)])]),r9t,(0,ve.SU)(e).has_variations?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",a9t,[s9t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":i[1]||(i[1]=t=>(0,ve.SU)(e).initial_quantity=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"0",required:""},null,512),[[a.nr,(0,ve.SU)(e).initial_quantity]]),(0,ve.SU)(r).initial_quantity?((0,s.wg)(),(0,s.iD)("label",l9t,(0,lt.zw)((0,ve.SU)(r).initial_quantity),1)):(0,s.kq)("",!0)])),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]"},{default:(0,s.w5)((()=>[(0,ve.SU)(e).has_variations?((0,s.wg)(),(0,s.iD)("div",o9t,[(0,s._)("div",i9t,[w9t,(0,s.Wm)((0,ve.SU)(_7t),{onCreate:l})]),(0,ve.SU)(r).variations?((0,s.wg)(),(0,s.iD)("label",n9t,(0,lt.zw)((0,ve.SU)(r).variations),1)):(0,s.kq)("",!0),Object.keys((0,ve.SU)(r)).find((t=>t.startsWith("variations.")))?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(Object.keys((0,ve.SU)(r)).filter((t=>t.startsWith("variations."))),(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(r)[t],(t=>((0,s.wg)(),(0,s.iD)("label",{key:t,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},(0,lt.zw)(t),1)))),128))])))),128)):(0,s.kq)("",!0),(0,ve.SU)(e).variations.length?((0,s.wg)(),(0,s.iD)("div",p9t,[g9t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(e).variations,(t=>((0,s.wg)(),(0,s.j4)((0,ve.SU)(B7t),{key:t,variation:t,onUpdate:o},null,8,["variation"])))),128))])):((0,s.wg)(),(0,s.iD)("div",d9t,u9t))])):(0,s.kq)("",!0)])),_:1})])]),m9t]))}};const f9t=h9t;var b9t=f9t;class x9t{async store(t,e,r){return await $.getCookie(),L.post("api/temporary-file",{file:t,collection_name:e},r)}}var v9t=new x9t;const y9t={class:"tw-aspect-square tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},_9t={class:"tw-w-full tw-bg-gray-50"},k9t=["src"],C9t={class:"tw-text-sm tw-text-white tw-truncate"},D9t={class:"tw-relative"},S9t={key:0,class:"tw-absolute tw-h-full tw-flex tw-items-center tw-justify-center tw-w-full tw-bg-neutral-900/80 tw-backdrop-blur tw-border tw-border-gray-700 tw-border-solid tw-roundedx tw-top-0 tw-right-0"},U9t={class:"tw-max-w-2/3 tw-p-5 tw-flex tw-flex-col tw-gap-4"},z9t=(0,s._)("span",{class:"tw-text-lg"},"Delete",-1);var q9t={__name:"ImageCard",props:["file"],emits:["show-preview","update","delete"],setup(t,{emit:e}){const r=t,l=(0,ve.Vh)(r,"file"),o=(0,ve.iH)(!1),i=(0,ve.iH)(0),w={onUploadProgress:t=>{i.value=Math.round(100*t.loaded/t.total),i.value>=100&&(o.value=!1)}},n=async()=>(o.value=!0,v9t.store(l.value.file,l.value.collection_name,w).then((t=>{if(t.data.uuid){const r={...l.value,uuid:t.data.uuid};e("update",l.value,r),console.log(r)}}),(t=>{console.log(t)})));return l.value.uuid||!l.value.is_new||o.value||n(),(t,r)=>{const w=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",y9t,[(0,s._)("div",_9t,[o.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,lt.j5)({width:i.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("img",{onClick:r[0]||(r[0]=t=>e("show-preview")),src:(0,ve.SU)(l).url,class:"tw-w-full tw-h-full tw-object-contain group-hover:tw-scale-105 tw-duration-200"},null,8,k9t),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(l).showOptions&&"!tw-hidden"],"tw-p-2 tw-flex tw-items-center tw-justify-between group-hover:tw-translate-y-0 tw-absolute tw-bottom-0 tw-translate-y-full tw-duration-200 tw-w-full tw-h-fit tw-backdrop-blur-sm tw-bg-black/50 tw-left-0"])},[(0,s._)("p",C9t,(0,lt.zw)((0,ve.SU)(l).name),1),(0,s._)("div",D9t,[(0,s._)("button",{onClick:r[1]||(r[1]=t=>(0,ve.SU)(l).showOptions=!(0,ve.SU)(l).showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-duration-200 tw-p-1"},[(0,s.Wm)(w,{icon:"tabler:dots",class:"tw-text-3xl tw-text-white"})])])],2)]),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0","leave-to-class":"tw-opacity-0",mode:"out-in"},{default:(0,s.w5)((()=>[(0,ve.SU)(l).showOptions?((0,s.wg)(),(0,s.iD)("div",S9t,[(0,s._)("div",U9t,[(0,s._)("button",{onClick:r[2]||(r[2]=t=>e("delete")),class:"tw-flex tw-items-center tw-gap-2 tw-text-red-300 hover:tw-text-red-500 tw-duration-200"},[(0,s.Wm)(w,{icon:"mdi:trash-can-empty",class:"tw-text-xl"}),z9t])]),(0,s._)("button",{onClick:r[3]||(r[3]=t=>(0,ve.SU)(l).showOptions=!(0,ve.SU)(l).showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(w,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})])])):(0,s.kq)("",!0)])),_:1})])])}}};const P9t=q9t;var L9t=P9t;const W9t={class:"tw-aspect-square tw-group tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},A9t={class:"tw-w-full tw-h-full tw-bg-gray-50"},$9t=["controls","src"],E9t={class:"tw-text-sm tw-text-white tw-truncate"},T9t={class:"tw-relative"},j9t={key:0,class:"tw-absolute tw-h-full tw-flex tw-items-center tw-justify-center tw-w-full tw-bg-neutral-900/80 tw-backdrop-blur tw-border tw-border-gray-700 tw-border-solid tw-roundedx tw-top-0 tw-right-0"},F9t={class:"tw-max-w-2/3 tw-p-5 tw-flex tw-flex-col tw-gap-4"},V9t=(0,s._)("span",{class:"tw-text-lg"},"Delete",-1);var I9t={__name:"VideoCard",props:["file"],emits:["show-preview","update","delete"],setup(t,{emit:e}){const r=t,l=(0,ve.Vh)(r,"file"),o=(0,ve.iH)(null),i=(0,ve.iH)(0),w=(0,ve.iH)(!1),n=(0,ve.iH)(null),d=()=>{e("show-preview")},c={onUploadProgress:t=>{i.value=Math.round(100*t.loaded/t.total),i.value>=100&&(w.value=!1)}},u=async()=>(w.value=!0,v9t.store(l.value.file,l.value.collection_name,c).then((t=>{if(t.data.uuid){const r={...l.value,uuid:t.data.uuid};e("update",l.value,r),console.log(r)}}),(t=>{console.log(t)})));return l.value.uuid||!l.value.is_new||w.value||u(),(t,r)=>{const c=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",W9t,[(0,s._)("div",A9t,[w.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,lt.j5)({width:i.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("video",{ref_key:"video",ref:o,controls:n.value,preload:"false",src:(0,ve.SU)(l).url,class:"tw-w-full tw-h-full tw-object-contain tw-duration-200"},null,8,$9t),n.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:d,class:"tw-absolute tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center group-hover:tw-scale-110 tw-duration-200 tw-bottom-1/2 tw-right-1/2 tw-translate-x-1/2 tw-translate-y-1/2 tw-p-5"},[(0,s.Wm)(c,{icon:"solar:play-circle-bold",class:"tw-text-7xl tw-drop-shadow-md tw-text-white"})])),(0,s._)("div",{class:(0,lt.C_)([[(0,ve.SU)(l).showOptions&&"!tw-hidden"],"tw-p-2 tw-flex tw-items-center tw-justify-between group-hover:tw-translate-y-0 tw-absolute tw-bottom-0 tw-translate-y-full tw-duration-200 tw-w-full tw-h-fit tw-backdrop-blur-sm tw-bg-black/50 tw-left-0"])},[(0,s._)("p",E9t,(0,lt.zw)((0,ve.SU)(l).name),1),(0,s._)("div",T9t,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>(0,ve.SU)(l).showOptions=!(0,ve.SU)(l).showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-duration-200 tw-p-1"},[(0,s.Wm)(c,{icon:"tabler:dots",class:"tw-text-3xl tw-text-white"})])])],2)]),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0","leave-to-class":"tw-opacity-0",mode:"out-in"},{default:(0,s.w5)((()=>[(0,ve.SU)(l).showOptions?((0,s.wg)(),(0,s.iD)("div",j9t,[(0,s._)("div",F9t,[(0,s._)("button",{onClick:r[1]||(r[1]=t=>e("delete")),class:"tw-flex tw-items-center tw-gap-2 tw-text-red-300 hover:tw-text-red-500 tw-duration-200"},[(0,s.Wm)(c,{icon:"mdi:trash-can-empty",class:"tw-text-xl"}),V9t])]),(0,s._)("button",{onClick:r[2]||(r[2]=t=>(0,ve.SU)(l).showOptions=!(0,ve.SU)(l).showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(c,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})])])):(0,s.kq)("",!0)])),_:1})])])}}};const O9t=I9t;var H9t=O9t;const M9t={key:0},R9t={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function N9t(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",M9t,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",R9t,[(0,s.Wm)(jt.Z5,null,{default:(0,s.w5)((()=>[o.showContent?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] !tw-overflow-auto !tw-max-h-screen"},[(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)])),_:3}),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,lt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-backdrop-blur-sm tw-bg-black/20 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var Y9t={props:{visible:{required:!0,default:!1},closeable:{required:!1,default:!0}},data(){return{showContent:!1}},watch:{visible(t){t?setTimeout((()=>{this.showContent=t}),0):this.showContent=t}},methods:{resolve(t){this.closeable&&this.$emit("cancel",t)}},computed:{},mounted(){this.showContent=this.visible},unmounted(){}};const Z9t=(0,g.Z)(Y9t,[["render",N9t]]);var K9t=Z9t;const B9t={class:"tw-p-4"},Q9t={key:0,class:"tw-mb-4"},J9t={class:"tw-flex tw-justify-between tw-items-center"},G9t=["disabled"],X9t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-6 tw-w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),tte=[X9t],ete=["src","alt"],rte=["src"],ate={key:2},ste=["disabled"],lte=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-6 tw-w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),ote=[lte];var ite={__name:"MediaPreview",props:{files:{type:Array,required:!0},index:{type:Number,default:0},visible:{type:Boolean,default:!1}},emits:["update:visible","update:index"],setup(t,{emit:e}){const r=t,a=()=>{r.index>0&&e("update:index",r.index-1)},l=()=>{r.index<r.files.length-1&&e("update:index",r.index+1)},o=()=>{e("update:visible",!1)};return(t,e)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(K9t,{"z-index":"100000",visible:r.visible,closeable:!0,onCancel:o},{default:(0,s.w5)((()=>[(0,s._)("button",{onClick:o,class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(i,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})]),(0,s._)("div",B9t,[r.files.length>0?((0,s.wg)(),(0,s.iD)("div",Q9t,[(0,s._)("div",J9t,[(0,s._)("button",{onClick:a,disabled:0===r.index,class:"tw-px-2 tw-py-1 tw-rounded tw-bg-gray-200 tw-text-gray-700 tw-disabled:opacity-50"},tte,8,G9t),(0,s._)("div",null,[r.files[r.index].type.startsWith("image/")?((0,s.wg)(),(0,s.iD)("img",{key:0,src:r.files[r.index].url,alt:r.files[r.index].name,class:"tw-max-w-full tw-h-auto tw-max-h-[calc(100vh-200px)]"},null,8,ete)):r.files[r.index].type.startsWith("video/")?((0,s.wg)(),(0,s.iD)("video",{key:1,src:r.files[r.index].url,controls:"",class:"tw-max-w-full tw-h-auto tw-max-h-[calc(100vh-200px)]"},null,8,rte)):((0,s.wg)(),(0,s.iD)("div",ate,(0,lt.zw)(r.files[r.index].name)+" ("+(0,lt.zw)(r.files[r.index].type)+") ",1))]),(0,s._)("button",{onClick:l,disabled:r.index===r.files.length-1,class:"tw-px-2 tw-py-1 tw-rounded tw-bg-gray-200 tw-text-gray-700 tw-disabled:opacity-50"},ote,8,ste)])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])}}};const wte=ite;var nte=wte;const dte={class:"tw-fixed tw-bottom-4 tw-right-3 tw-z-[1000]"},cte=["multiple"],ute={class:"tw-px-5 tw-mt-5 tw-flex tw-items-center tw-gap-5 tw-justify-between"},pte={class:"tw-text-lg tw-font-medium tw-pl-5 tw-py-1 tw-border-l-2 tw-border-solid tw-border-orange-400"},gte=(0,s._)("span",null,"Upload",-1),mte={class:"tw-p-5"},hte={key:0,class:"tw-p-4 tw-bg-gray-100 tw-rounded tw-text-center tw-border tw-border-solid"},fte=(0,s._)("p",{class:"tw-font-medium tw-text-lg tw-text-gray-600"}," No media has been added yet ",-1),bte=[fte],xte={key:1,class:"tw-grid md:tw-grid-cols-4 lg:tw-grid-cols-4 xl:tw-grid-cols-6 tw-grid-cols-1 tw-gap-4"};var vte={__name:"MediaCollection",props:{label:{type:String,default:"Media"},collection:{type:String,default:"normal"},multiple:{type:Boolean,default:!0}},setup(t){const e=t,r=(0,s.f3)("product"),a=(0,ve.iH)(null),l=(0,ve.iH)(!1),o=(0,ve.iH)(0),i=(0,s.Fl)((()=>r.value.media.filter((t=>t.collection_name==e.collection)))),w=t=>{r.value.media=r.value.media.filter((e=>e.id!=t.id))},n=t=>{const a=t.target.files;for(const s of a){const t=s.type.startsWith("image/")?"image":s.type.startsWith("video/")?"video":"other";if("other"==t)return Pc("Only images and videos are supported","warning"),!1;const a=new FileReader;a.onload=()=>{r.value.media.push({id:Date.now(),name:s.name,url:a.result,file:s,type:s.type,category:t,is_new:!0,collection_name:e.collection})},a.readAsDataURL(s)}},d=t=>{o.value=t,l.value=!0},c=(t,e)=>{const a=r.value.media.indexOf(t);r.value.media[a]=e};return(t,r)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",dte,[(0,s._)("input",{ref_key:"imageFilePicker",ref:a,type:"file",name:"image-input",onChange:n,multiple:e.multiple,class:"tw-invisible tw-absolute tw-pointer-events-none"},null,40,cte)])])),(0,s.Wm)(nte,{files:(0,ve.SU)(i),visible:l.value,"onUpdate:visible":r[0]||(r[0]=t=>l.value=t),index:o.value,"onUpdate:index":r[1]||(r[1]=t=>o.value=t)},null,8,["files","visible","index"]),(0,s._)("div",ute,[(0,s._)("h1",pte,(0,lt.zw)(e.label),1),e.multiple||!e.multiple&&!(0,ve.SU)(i).length?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[2]||(r[2]=t=>a.value.click()),class:"tw-bg-gray-200 tw-flex tw-items-center tw-gap-2 tw-pr-6 tw-pl-4 tw-py-1 tw-rounded tw-text-gray-700 tw-border tw-border-solid tw-duration-200 hover:tw-border-gray-700"},[(0,s.Wm)(u,{icon:"mynaui:upload",class:"tw-text-xl"}),gte])):(0,s.kq)("",!0)]),(0,s._)("div",mte,[(0,ve.SU)(i).length?((0,s.wg)(),(0,s.iD)("div",xte,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(i),((t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.id},["image"==t.category?((0,s.wg)(),(0,s.j4)((0,ve.SU)(L9t),{key:0,file:t,onUpdate:c,onShowPreview:t=>d(e),onDelete:e=>w(t)},null,8,["file","onShowPreview","onDelete"])):(0,s.kq)("",!0),"video"==t.category?((0,s.wg)(),(0,s.j4)((0,ve.SU)(H9t),{key:1,file:t,onUpdate:c,onShowPreview:t=>d(e),onDelete:e=>w(t)},null,8,["file","onShowPreview","onDelete"])):(0,s.kq)("",!0)],64)))),128))])):((0,s.wg)(),(0,s.iD)("div",hte,bte))])],64)}}};const yte=vte;var _te=yte,kte={__name:"MediaTab",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)((0,ve.SU)(_te),{label:"Thumbnail",collection:"thumbnail",multiple:!1}),(0,s.Wm)((0,ve.SU)(_te),{label:"Images & Videos",collection:"normal"}),(0,s.Wm)((0,ve.SU)(_te),{label:"Facebook ADS",collection:"facebook_ads"}),(0,s.Wm)((0,ve.SU)(_te),{label:"TikTok ADS",collection:"tiktok_ads"})]))}};const Cte=kte;var Dte=Cte;const Ste={class:"tw-grid tw-grid-cols-12 tw-gap-5"},Ute={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},zte=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Landing pages")],-1),qte={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},Pte={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-2"},Lte={class:"tw-flex-1"},Wte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Add Landing Page Link",-1),Ate={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-2"},$te={class:"tw-p-5"},Ete={key:0,class:"tw-bg-gray-100 tw-p-5 tw-rounded tw-text-center"},Tte={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-flex-wrap"},jte=["href"],Fte={class:"tw-text-sm"},Vte={class:"tw-flex tw-items-center tw-gap-2"},Ite=["href"],Ote=["onClick"],Hte=(0,s._)("div",{class:"md:tw-col-span-5"},null,-1),Mte={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},Rte=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Video links")],-1),Nte={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},Yte={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-2"},Zte={class:"tw-flex-1"},Kte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Add Video Link",-1),Bte={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-2"},Qte={class:"tw-p-5"},Jte={key:0,class:"tw-bg-gray-100 tw-p-5 tw-rounded tw-text-center"},Gte={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-flex-wrap"},Xte=["href"],tee={class:"tw-text-sm"},eee={class:"tw-flex tw-items-center tw-gap-2"},ree=["href"],aee=["onClick"];var see={__name:"MetadataTab",setup(t){const e=(0,s.f3)("product"),r=((0,s.f3)("errors"),(0,ve.iH)("")),l=(0,s.Fl)((()=>e.value.metadata.filter((t=>"video_link"==t.meta_key)))),o=(0,ve.iH)(""),i=(0,s.Fl)((()=>e.value.metadata.filter((t=>"landing_page_link"==t.meta_key)))),w=()=>{const t={meta_key:"video_link",meta_value:r.value};e.value.metadata.push(t),r.value=""},n=t=>{e.value.metadata=e.value.metadata.filter((e=>!("landing_page_link"==e.meta_key&&e.meta_value==t)))},d=t=>{e.value.metadata=e.value.metadata.filter((e=>!("video_link"==e.meta_key&&e.meta_value==t)))},c=()=>{const t={meta_key:"landing_page_link",meta_value:o.value};e.value.metadata.push(t),o.value=""};return(t,e)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Ste,[(0,s._)("div",Ute,[zte,(0,s._)("div",qte,[(0,s._)("div",Pte,[(0,s._)("div",Lte,[Wte,(0,s._)("div",Ate,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),type:"text",class:"tw-bg-gray-50 tw-border tw-flex-1 tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"https://www...",required:""},null,512),[[a.nr,o.value]]),(0,s._)("button",{onClick:c,class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(u,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.kq)("",!0)])])]),(0,s._)("div",$te,[(0,ve.SU)(i).length?((0,s.wg)(),(0,s.iD)("div",Tte,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(i),((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-px-4 tw-py-1 tw-flex tw-items-center tw-gap-4"},[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-uppercase"},[(0,s._)("span",Fte,"LP Link "+(0,lt.zw)(e+1),1)],8,jte),(0,s._)("div",Vte,[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Ite),(0,s._)("button",{onClick:e=>n(t.meta_value),class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"flowbite:close-outline",class:"tw-text-xl tw-text-gray-500"})],8,Ote)])])))),128))])):((0,s.wg)(),(0,s.iD)("div",Ete," No landing pages has been added "))])]),Hte,(0,s._)("div",Mte,[Rte,(0,s._)("div",Nte,[(0,s._)("div",Yte,[(0,s._)("div",Zte,[Kte,(0,s._)("div",Bte,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),class:"tw-bg-gray-50 tw-border tw-flex-1 tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"https://www...",required:""},null,512),[[a.nr,r.value]]),(0,s._)("button",{onClick:w,class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(u,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.kq)("",!0)])])]),(0,s._)("div",Qte,[(0,ve.SU)(l).length?((0,s.wg)(),(0,s.iD)("div",Gte,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(l),((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-px-4 tw-py-1 tw-flex tw-items-center tw-gap-4"},[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-uppercase"},[(0,s._)("span",tee,"Video Link "+(0,lt.zw)(e+1),1)],8,Xte),(0,s._)("div",eee,[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,ree),(0,s._)("button",{onClick:e=>d(t.meta_value),class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"flowbite:close-outline",class:"tw-text-xl tw-text-gray-500"})],8,aee)])])))),128))])):((0,s.wg)(),(0,s.iD)("div",Jte," No videos has been added "))])])])}}};const lee=see;var oee=lee;const iee={class:"tw-pt-2 tw-pb-20x tw-overflow-hidden"},wee={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},nee={class:"tw-flex tw-items-center tw-gap-1 tw-w-fit tw-h-fit tw-p-1 tw-bg-gray-100 tw-rounded-md tw-border tw-border-solid tw-border-gray-200/80 tw-relative tw-z-10"},dee=["onClick"],cee=["disabled"],uee=(0,s._)("span",null,"Create",-1),pee={class:"tw-mt-4"};var gee={__name:"CreateProductView",setup(t){const e=[{key:"main-details-tab",component:a7t,name:"Informations",icon:"clarity:help-info-solid",fields:["name","description","buying_price","selling_price","sku","status","offers","categories","tags"]},{key:"product-stock-tab",component:b9t,name:"Inventory",icon:"ic:round-warehouse",fields:["product_variations","warehouse","product_deliveries","has_variations","initial_quantity"]},{key:"media-tab",component:Dte,name:"Media",icon:"mdi:folder-media",fields:["media"]},{key:"metadata-tab",component:oee,name:"Metadata",icon:"dashicons:admin-links",fields:["metadata"]}],r=(0,ve.XI)(e[0]),l=(0,ve.iH)({}),o=(0,ve.iH)(!1),i=(0,ve.iH)({status:!0,tags:[],categories:[],variations:[],has_variations:!1,media:[],metadata:[],category_id:"",initial_quantity:0,description:""});(0,s.JJ)("product",i),(0,s.JJ)("errors",l);const w=async()=>{const t={...i.value,media:i.value.media.map((t=>({uuid:t.uuid,id:t.id,collection_name:t.collection_name})))};o.value=!0,await D3t.create(t).then((t=>{"SUCCESS"==t.data.code&&(Pc("Product created successfully","success"),i.value={status:!0,tags:[],categories:[],variations:[],metadata:[],has_variations:!1,media:[],category_id:"",initial_quantity:0,description:""})}),(t=>{if(t?.response?.data?.errors&&422==t?.response.status)for(const e in t.response.data.errors)e.startsWith("variations.")?l.value[e]=t?.response?.data?.errors[e]:l.value[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return(t,n)=>{const d=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",iee,[(0,s._)("div",wee,[(0,s._)("div",nee,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("div",{key:t.key,onClick:e=>r.value=t,class:(0,lt.C_)([[(0,ve.SU)(r).key==t.key&&" tw-border-neutral-200 tw-bg-white",(0,ve.SU)(r).key!=t.key&&"tw-border-transparent hover:tw-bg-white tw-cursor-pointer hover:tw-border-neutral-200",Object.keys(l.value).find((e=>t.fields.includes(e)))&&"!tw-border-red-500 !tw-text-red-400"],"tw-flex tw-items-center tw-relative tw-gap-2 tw-px-8 tw-py-2 tw-rounded tw-duration-200 tw-border tw-border-solid"])},[(0,s.Wm)(d,{icon:t.icon,class:"tw-text-2xl"},null,8,["icon"]),(0,s._)("span",null,(0,lt.zw)(t.name),1)],10,dee))),64))]),(0,s._)("div",null,[(0,s._)("button",{disabled:o.value,class:(0,lt.C_)([[o.value&&"!tw-bg-gray-300 !tw-text-gray-600 tw-cursor-not-allowed"],"tw-bg-gray-800 hover:tw-bg-gray-900 tw-text-white tw-flex tw-items-center tw-gap-2 tw-pr-8 tw-pl-6 tw-py-3 tw-rounded"]),onClick:w},[o.value?((0,s.wg)(),(0,s.j4)(d,{key:0,icon:"eos-icons:three-dots-loading",class:"tw-text-2xl"})):((0,s.wg)(),(0,s.j4)(d,{key:1,icon:"mynaui:plus",class:"tw-text-2xl"})),uee],10,cee)])]),(0,s._)("div",pee,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,ve.SU)(r).component),{product:i.value,"onUpdate:product":n[0]||(n[0]=t=>i.value=t)},null,40,["product"]))])),_:1})],1024))])])}}};const mee=gee;var hee=mee;const fee={key:0,class:"tw-p-2"},bee=(0,s.uE)('<div class="tw-w-2/5 tw-h-[60px] tw-bg-gray-200 tw-rounded tw-animate-pulse"></div><div class="tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"><div class="tw-col-span-8 tw-min-h-[500px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div><div class="tw-col-span-4 tw-min-h-[500px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div><div class="tw-col-span-8 tw-min-h-[200px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div></div>',2),xee=[bee],vee={key:1,class:"tw-pt-2 tw-pb-20x tw-overflow-hidden"},yee={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},_ee={class:"tw-flex tw-items-center tw-gap-1 tw-w-fit tw-h-fit tw-p-1 tw-bg-gray-100 tw-rounded-md tw-border tw-border-solid tw-border-gray-200/80 tw-relative tw-z-10"},kee=["onClick"],Cee=["disabled"],Dee=(0,s._)("span",null,"Update",-1),See={class:"tw-mt-4"};var Uee={__name:"EditProductView",setup(t){const e=[{key:"main-details-tab",component:a7t,name:"Informations",icon:"clarity:help-info-solid",fields:["name","description","buying_price","selling_price","sku","status","offers","categories","tags"]},{key:"product-stock-tab",component:b9t,name:"Inventory",icon:"ic:round-warehouse",fields:["product_variations","warehouse","product_deliveries","has_variations","initial_quantity"]},{key:"media-tab",component:Dte,name:"Media",icon:"mdi:folder-media",fields:["media"]},{key:"metadata-tab",component:oee,name:"Metadata",icon:"dashicons:admin-links",fields:["metadata"]}],r=(0,f.yj)(),l=(0,ve.iH)(!0),o=(0,ve.iH)(!1),i=(0,ve.XI)(e[0]),w=(0,ve.iH)({}),n=(0,ve.iH)({status:!0,tags:[],categories:[],variations:[],has_variations:!1,media:[],metadata:[],category_id:"",initial_quantity:0,description:""});(0,s.JJ)("product",n),(0,s.JJ)("isUpdate",!0),(0,s.JJ)("errors",w);const d=async t=>{l.value=!0,await D3t.edit(t).then((t=>{"SUCCESS"==t.data.code&&(n.value=t.data.product)})),l.value=!1},c=async()=>{const t={...n.value,media:n.value.media.map((t=>({uuid:t.uuid,id:t.id,collection_name:t.collection_name})))};o.value=!0,await D3t.update(r.params.id,t).then((t=>{"SUCCESS"==t.data.code&&Pc("Product updated successfully","success")}),(t=>{if(t?.response?.data?.errors&&422==t?.response.status)for(const e in t.response.data.errors)e.startsWith("variations.")?w.value[e]=t?.response?.data?.errors[e]:w.value[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return d(r.params.id),(t,r)=>{const d=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l.value?((0,s.wg)(),(0,s.iD)("div",fee,xee)):(0,s.kq)("",!0),l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vee,[(0,s._)("div",yee,[(0,s._)("div",_ee,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("div",{key:t.key,onClick:e=>i.value=t,class:(0,lt.C_)([[(0,ve.SU)(i).key==t.key&&" tw-border-neutral-200 tw-bg-white",(0,ve.SU)(i).key!=t.key&&"tw-border-transparent hover:tw-bg-white tw-cursor-pointer hover:tw-border-neutral-200",Object.keys(w.value).find((e=>t.fields.includes(e)))&&"!tw-border-red-500 !tw-text-red-400"],"tw-flex tw-items-center tw-relative tw-gap-2 tw-px-8 tw-py-2 tw-rounded tw-duration-200 tw-border tw-border-solid"])},[(0,s.Wm)(d,{icon:t.icon,class:"tw-text-2xl"},null,8,["icon"]),(0,s._)("span",null,(0,lt.zw)(t.name),1)],10,kee))),64))]),(0,s._)("div",null,[(0,s._)("button",{disabled:o.value,class:(0,lt.C_)([[o.value&&"!tw-bg-gray-300 !tw-text-gray-600 tw-cursor-not-allowed"],"tw-bg-gray-800 hover:tw-bg-gray-900 tw-text-white tw-flex tw-items-center tw-gap-2 tw-pr-8 tw-pl-6 tw-py-3 tw-rounded"]),onClick:c},[o.value?((0,s.wg)(),(0,s.j4)(d,{key:0,icon:"eos-icons:three-dots-loading",class:"tw-text-2xl"})):(0,s.kq)("",!0),Dee],10,Cee)])]),(0,s._)("div",See,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,ve.SU)(i).component),{product:n.value,"onUpdate:product":r[0]||(r[0]=t=>n.value=t)},null,40,["product"]))])),_:1})],1024))])]))],64)}}};const zee=Uee;var qee=zee;const Pee={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},Lee={class:"tw-px-3"},Wee={class:"tw-mt-5x tw-flexx tw-items-centerx"},Aee={key:0},$ee={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Eee={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},Tee={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},jee=["src"],Fee=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),Vee={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Iee=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),Oee={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var Hee={__name:"ImportListView",setup(t){const e=(0,ve.iH)(!1),r=(0,ve.iH)([]),a=async()=>{e.value=!0,await D3t.imported("/").then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.kq)("",!0),(0,s._)("div",Pee,[(0,s._)("section",Lee,[(0,s.kq)("",!0),(0,s._)("div",Wee,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Aee,[r.value.length?((0,s.wg)(),(0,s.iD)("div",$ee,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ve.SU)(o8t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",Eee,[(0,s._)("div",Tee,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,jee),Fee])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",Vee,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[Iee,(0,s._)("div",Oee,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const Mee=Hee;var Ree=Mee;const Nee={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},Yee={class:"tw-px-3"},Zee={class:"tw-mt-5x tw-flexx tw-items-centerx"},Kee={key:0},Bee={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Qee={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},Jee={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},Gee=["src"],Xee=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),tre={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},ere=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),rre={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var are={__name:"WishlistView",setup(t){const e=(0,ve.iH)(!1),r=(0,ve.iH)([]),a=async()=>{e.value=!0,await D3t.wishlisted("/").then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.kq)("",!0),(0,s._)("div",Nee,[(0,s._)("section",Yee,[(0,s.kq)("",!0),(0,s._)("div",Zee,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Kee,[r.value.length?((0,s.wg)(),(0,s.iD)("div",Bee,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ve.SU)(o8t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",Qee,[(0,s._)("div",Jee,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,Gee),Xee])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",tre,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[ere,(0,s._)("div",rre,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const sre=are;var lre=sre;const ore={class:"tw-min-h-[calc(100dvh-148px)] tw-w-full tw-bg-white tw-rounded tw-overflow-hidden tw-p-5"},ire=(0,s.uE)('<div class="tw-grid tw-grid-cols-12 tw-gap-5"><div class="tw-col-span-full lg:tw-col-span-6 tw-flex tw-flex-col tw-gap-2 tw-animate-pulse"><div class="tw-h-[550px] tw-w-full tw-bg-gray-200 tw-p-5 tw-rounded"></div><div class="tw-w-full tw-grid tw-grid-cols-12 tw-gap-2"><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div></div></div><div class="tw-col-span-full lg:tw-col-span-6 lg:tw-p-5 tw-animate-pulse"><div class="tw-w-full tw-h-[50px] tw-bg-gray-100 tw-rounded"></div><div class="tw-w-1/3 tw-h-[30px] tw-bg-gray-50 tw-mt-2 tw-rounded"></div><div class="tw-w-full tw-h-[300px] tw-bg-gray-50 tw-mt-10 tw-rounded"></div></div></div>',1),wre=[ire];function nre(t,e){return(0,s.wg)(),(0,s.iD)("div",ore,wre)}const dre={},cre=(0,g.Z)(dre,[["render",nre]]);var ure=cre,pre=r(1618);const gre={class:"tw-flex tw-flex-col tw-gap-4"},mre={class:"tw-h-[550px] tw-w-full tw-bg-gray-50 tw-border tw-border-solid tw-rounded tw-overflow-hidden"},hre=["src"],fre={class:"tw-relative"},bre=["slides-per-view"],xre=["onClick"],vre=["src"];var yre={__name:"ProductImageSlider",setup(t){(0,pre.z2)();const e=(0,s.f3)("product"),r=(0,ve.iH)(e.value.thumbnail);return(t,a)=>{(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",gre,[(0,s._)("div",mre,[(0,s._)("img",{class:"tw-h-full tw-w-full tw-object-contain tw-drop-shadow",src:r.value.url},null,8,hre)]),(0,s._)("div",fre,[(0,s._)("swiper-container",{ref:"swiper-container","slides-per-view":5.5,"space-between":8},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(e).media.filter((t=>["thumbnail","normal"].includes(t.collection_name))),(t=>((0,s.wg)(),(0,s.iD)("swiper-slide",{key:t,navigation:!0},[(0,s._)("button",{onClick:e=>r.value=t,class:(0,lt.C_)([[r.value.url==t.url&&"!tw-border-orange-500"],"tw-aspect-square tw-border-2 tw-border-solid tw-border-transparent tw-rounded tw-overflow-hidden tw-cursor-pointer"])},[(0,s._)("img",{src:t.url,class:"tw-w-full tw-h-full tw-object-cover"},null,8,vre)],10,xre)])))),128))],8,bre),(0,s.kq)("",!0),(0,s.kq)("",!0)])])}}};const _re=yre;var kre=_re;const Cre={class:"tw-w-full tw-h-[50px] md:tw-text-4xl tw-text-3xl tw-font-bold tw-rounded tw-truncate tw-font-[cairo]"},Dre={class:"tw-flex tw-items-center tw-gap-4"},Sre={key:0,class:"tw-w-fit tw-h-[30px] md:tw-text-xl tw-text-lg tw-font-bold tw-rounded tw-truncate tw-text-orange-500 tw-font-[cairo]"},Ure={class:"tw-px-4 tw-border-l tw-border-solid tw-border-gray-200 tw-flex tw-items-center tw-gap-4"},zre=(0,s._)("span",null,"SKU:",-1),qre={class:"tw-mt-10 tw-w-full tw-rounded"},Pre=(0,s._)("div",{class:"tw-p-1 tw-px-10 tw-bg-orange-500 tw-text-white tw-w-fit tw-rounded-t"},"Pricing",-1),Lre={class:"tw-border-2 tw-border-solid tw-border-orange-500 tw-rounded-b tw-overflow-hidden tw-rounded-tr"},Wre={class:"tw-w-full"},Are=(0,s._)("thead",null,[(0,s._)("tr",{class:"tw-bg-gray-100"},[(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Variation"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Available"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Price")])],-1),$re={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Ere={key:0},Tre={key:1,class:"tw-flex tw-items-center tw-gap-1"},jre={key:0},Fre={key:1},Vre={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Ire={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Ore={class:"tw-mt-10 tw-w-full tw-rounded"},Hre=(0,s._)("div",{class:"tw-p-1 tw-px-10 tw-bg-emerald-500 tw-text-white tw-w-fit tw-rounded-t"},"Rates",-1),Mre={class:"tw-border-2 tw-border-solid tw-border-emerald-500 tw-rounded-b tw-overflow-hidden tw-rounded-tr"},Rre={class:"tw-w-full"},Nre=(0,s._)("thead",null,[(0,s._)("tr",{class:"tw-bg-gray-100"},[(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Confirmation"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Delivery")])],-1),Yre={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Zre={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"};var Kre={__name:"ProductDetails",setup(t){const e=(0,s.f3)("product"),r=t=>{navigator.clipboard.writeText(t),Pc("Copied to clipboard")};return(t,a)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Cre,(0,lt.zw)((0,ve.SU)(e).name),1),(0,s._)("div",Dre,[(0,ve.SU)(e).category?((0,s.wg)(),(0,s.iD)("div",Sre,(0,lt.zw)((0,ve.SU)(e).category),1)):(0,s.kq)("",!0),(0,s._)("div",Ure,[zre,(0,s._)("button",{onClick:a[0]||(a[0]=t=>r((0,ve.SU)(e).sku)),class:"tw-py-0.5 tw-px-2 tw-bg-orange-50 tw-text-orange-500 tw-rounded tw-flex tw-items-center tw-gap-2"},[(0,s._)("span",null,(0,lt.zw)((0,ve.SU)(e).sku),1),(0,s.Wm)(l,{icon:"solar:copy-linear"})])])]),(0,s._)("div",qre,[Pre,(0,s._)("div",Lre,[(0,s._)("table",Wre,[Are,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(e).variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",$re,[t.size||t.color?((0,s.wg)(),(0,s.iD)("div",Tre,[t.size?((0,s.wg)(),(0,s.iD)("span",jre,(0,lt.zw)(t.size),1)):(0,s.kq)("",!0),t.color?((0,s.wg)(),(0,s.iD)("span",Fre,(0,lt.zw)(t.color),1)):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("span",Ere,"Default"))]),(0,s._)("td",Vre,(0,lt.zw)(t.available_quantity),1),(0,s._)("td",Ire,(0,lt.zw)((0,ve.SU)(c)+(0,ve.SU)(e).selling_price),1)])))),128))])])])]),(0,s._)("div",Ore,[Hre,(0,s._)("div",Mre,[(0,s._)("table",Rre,[Nre,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",Yre,(0,lt.zw)((0,ve.SU)(e).confirmation_rate)+"%",1),(0,s._)("td",Zre,(0,lt.zw)((0,ve.SU)(e).delivery_rate)+"%",1)])])])])]),(0,s.Wm)(Y3t,{"is-card":!1,product:(0,ve.SU)(e)},null,8,["product"]),(0,s.kq)("",!0),(0,s.kq)("",!0)])}}};const Bre=Kre;var Qre=Bre;const Jre={class:"tw-aspect-square tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},Gre={class:"tw-w-full tw-bg-gray-50"},Xre=["src"],tae=["download","href"];var eae={__name:"ImageCard",props:["file"],emits:["show-preview","update"],setup(t,{emit:e}){const r=t,a=(0,ve.Vh)(r,"file"),l=(0,s.f3)("product"),o=(0,ve.iH)(!1),i=(0,ve.iH)(0),w={onUploadProgress:t=>{i.value=Math.round(100*t.loaded/t.total),i.value>=100&&(o.value=!1)}},n=async()=>(o.value=!0,v9t.store(a.value.file,a.value.collection_name,w).then((t=>{if(t.data.uuid){const r={...a.value,uuid:t.data.uuid};e("update",a.value,r),console.log(r)}}),(t=>{console.log(t)})));function d(t){const e=new URL(t),r=e.pathname,a=r.split(".").pop();return a.includes("/")?"":a}return a.value.uuid||!a.value.is_new||o.value||n(),(t,r)=>{const w=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Jre,[(0,s._)("div",Gre,[o.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,lt.j5)({width:i.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("img",{onClick:r[0]||(r[0]=t=>e("show-preview")),src:(0,ve.SU)(a).url,class:"tw-w-full tw-h-full tw-object-contain group-hover:tw-scale-105 tw-duration-200"},null,8,Xre),(0,s._)("a",{target:"_blank",download:(0,ve.SU)(l).name+"-"+(0,ve.SU)(a).id+"."+d((0,ve.SU)(a).url),href:(0,ve.SU)(a).url,class:"hover:tw-bg-black/50 tw-rounded tw-duration-200 tw-p-1 tw-absolute tw-bottom-4 tw-right-4 tw-bg-black/20 tw-backdrop-blur"},[(0,s.Wm)(w,{icon:"octicon:download-16",class:"tw-text-3xl tw-text-white"})],8,tae)])])])}}};const rae=eae;var aae=rae;const sae={class:"tw-aspect-square tw-group tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},lae={class:"tw-w-full tw-h-full tw-bg-gray-50"},oae=["controls","src"],iae=["download","href"];var wae={__name:"VideoCard",props:["file"],emits:["show-preview","update"],setup(t,{emit:e}){const r=t,a=(0,ve.Vh)(r,"file"),l=(0,ve.iH)(null),o=(0,s.f3)("product"),i=(0,ve.iH)(0),w=(0,ve.iH)(!1),n=(0,ve.iH)(null),d=()=>{e("show-preview")},c={onUploadProgress:t=>{i.value=Math.round(100*t.loaded/t.total),i.value>=100&&(w.value=!1)}},u=async()=>(w.value=!0,v9t.store(a.value.file,a.value.collection_name,c).then((t=>{if(t.data.uuid){const r={...a.value,uuid:t.data.uuid};e("update",a.value,r),console.log(r)}}),(t=>{console.log(t)})));function p(t){const e=new URL(t),r=e.pathname,a=r.split(".").pop();return a.includes("/")?"":a}return a.value.uuid||!a.value.is_new||w.value||u(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",sae,[(0,s._)("div",lae,[w.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,lt.j5)({width:i.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("video",{ref_key:"video",ref:l,controls:n.value,preload:"false",src:(0,ve.SU)(a).url,class:"tw-w-full tw-h-full tw-object-contain tw-duration-200"},null,8,oae),n.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:d,class:"tw-absolute tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center group-hover:tw-scale-110 tw-duration-200 tw-bottom-1/2 tw-right-1/2 tw-translate-x-1/2 tw-translate-y-1/2 tw-p-5"},[(0,s.Wm)(r,{icon:"solar:play-circle-bold",class:"tw-text-7xl tw-drop-shadow-md tw-text-white"})])),(0,s._)("a",{target:"_blank",download:(0,ve.SU)(o).name+"-"+(0,ve.SU)(a).id+"."+p((0,ve.SU)(a).url),href:(0,ve.SU)(a).url,class:"hover:tw-bg-black/50 tw-rounded tw-duration-200 tw-p-1 tw-absolute tw-bottom-4 tw-right-4 tw-bg-black/20 tw-backdrop-blur"},[(0,s.Wm)(r,{icon:"octicon:download-16",class:"tw-text-3xl tw-text-white"})],8,iae)])])])}}};const nae=wae;var dae=nae;const cae={class:"tw-fixed tw-bottom-4 tw-right-3 tw-z-[1000]"},uae=["multiple"],pae={class:"tw-px-5 tw-mt-5 tw-flex tw-items-center tw-gap-5 tw-justify-between"},gae={class:"tw-text-lg tw-font-medium tw-pl-5 tw-py-1 tw-border-l-2 tw-border-solid tw-border-orange-400"},mae=(0,s._)("span",null,"Upload",-1),hae={class:"tw-p-5"},fae={key:0,class:"tw-p-4 tw-bg-gray-100 tw-rounded tw-text-center tw-border tw-border-solid"},bae=(0,s._)("p",{class:"tw-font-medium tw-text-lg tw-text-gray-600"}," No media has been added yet ",-1),xae=[bae],vae={key:1,class:"tw-grid md:tw-grid-cols-4 lg:tw-grid-cols-4 xl:tw-grid-cols-6 tw-grid-cols-1 tw-gap-4"};var yae={__name:"MediaCollection",props:{label:{type:String,default:"Media"},collection:{type:String,default:"normal"},multiple:{type:Boolean,default:!0},upload:{type:Boolean,default:!1}},setup(t){const e=t,r=(0,s.f3)("product"),a=(0,ve.iH)(null),l=(0,ve.iH)(!1),o=(0,ve.iH)(0),i=(0,s.Fl)((()=>r.value.media.filter((t=>t.collection_name==e.collection)))),w=t=>{const a=t.target.files;for(const s of a){const t=s.type.startsWith("image/")?"image":s.type.startsWith("video/")?"video":"other";if("other"==t)return Pc("Only images and videos are supported","warning"),!1;const a=new FileReader;a.onload=()=>{r.value.media.push({id:Date.now(),name:s.name,url:a.result,file:s,type:s.type,category:t,is_new:!0,collection_name:e.collection})},a.readAsDataURL(s)}},n=t=>{o.value=t,l.value=!0},d=(t,e)=>{const a=r.value.media.indexOf(t);r.value.media[a]=e};return(t,r)=>{const c=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",cae,[(0,s._)("input",{ref_key:"imageFilePicker",ref:a,type:"file",name:"image-input",onChange:w,multiple:e.multiple,class:"tw-invisible tw-absolute tw-pointer-events-none"},null,40,uae)])])),(0,s.Wm)(nte,{files:(0,ve.SU)(i),visible:l.value,"onUpdate:visible":r[0]||(r[0]=t=>l.value=t),index:o.value,"onUpdate:index":r[1]||(r[1]=t=>o.value=t)},null,8,["files","visible","index"]),(0,s._)("div",pae,[(0,s._)("h1",gae,(0,lt.zw)(e.label),1),e.upload?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[2]||(r[2]=t=>a.value.click()),class:"tw-bg-gray-200 tw-flex tw-items-center tw-gap-2 tw-pr-6 tw-pl-4 tw-py-1 tw-rounded tw-text-gray-700 tw-border tw-border-solid tw-duration-200 hover:tw-border-gray-700"},[(0,s.Wm)(c,{icon:"mynaui:upload",class:"tw-text-xl"}),mae])):(0,s.kq)("",!0)]),(0,s._)("div",hae,[(0,ve.SU)(i).length?((0,s.wg)(),(0,s.iD)("div",vae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(i),((t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.id},["image"==t.category?((0,s.wg)(),(0,s.j4)((0,ve.SU)(aae),{key:0,file:t,onUpdate:d,onShowPreview:t=>n(e)},null,8,["file","onShowPreview"])):(0,s.kq)("",!0),"video"==t.category?((0,s.wg)(),(0,s.j4)((0,ve.SU)(dae),{key:1,file:t,onUpdate:d,onShowPreview:t=>n(e)},null,8,["file","onShowPreview"])):(0,s.kq)("",!0)],64)))),128))])):((0,s.wg)(),(0,s.iD)("div",fae,xae))])],64)}}};const _ae=yae;var kae=_ae;const Cae={class:"tw-min-h-[300px] tw-p-2x"},Dae={class:""};var Sae={__name:"AdvertisingTab",setup(t){(0,s.f3)("product");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",Cae,[(0,s._)("div",Dae,[(0,s.Wm)((0,ve.SU)(kae),{collection:"facebook_ads",label:"Facebook"}),(0,s.Wm)((0,ve.SU)(kae),{collection:"tiktok_ads",label:"TikTok"})])]))}};const Uae=Sae;var zae=Uae;const qae={class:"tw-w-full tw-p-4 tw-text-gray-600"};var Pae={__name:"OverviewTab",setup(t){const e=(0,s.f3)("product");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",qae,[(0,s.kq)("",!0),(0,s.Wm)((0,ve.SU)(R8t),{modelValue:(0,ve.SU)(e).description,"onUpdate:modelValue":r[0]||(r[0]=t=>(0,ve.SU)(e).description=t),editable:!1},null,8,["modelValue"])]))}};const Lae=Pae;var Wae=Lae;const Aae={class:"tw-min-h-[400px] tw-px-4"},$ae={class:""},Eae=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold"},"Landing pages",-1),Tae={key:0,class:"tw-flex tw-flex-col tw-gap-2 tw-mt-4"},jae=["href"],Fae={key:1,class:"tw-mt-4 tw-p-4 tw-bg-gray-100 tw-text-center"},Vae=(0,s._)("p",null,"No landing pages available",-1),Iae=[Vae],Oae={class:"tw-mt-5"},Hae=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold"},"Videos",-1),Mae={key:0,class:"tw-flex tw-flex-col tw-gap-2 tw-mt-4"},Rae=["href"],Nae={key:1,class:"tw-mt-4 tw-p-4 tw-bg-gray-100 tw-text-center"},Yae=(0,s._)("p",null,"No videos available",-1),Zae=[Yae];var Kae={__name:"LinksTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.Fl)((()=>e.value.metadata.filter((t=>"landing_page_link"==t.meta_key)))),a=(0,s.Fl)((()=>e.value.metadata.filter((t=>"video_link"==t.meta_key))));return(t,e)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Aae,[(0,s._)("div",$ae,[Eae,(0,ve.SU)(r).length?((0,s.wg)(),(0,s.iD)("div",Tae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(r),((t,e)=>((0,s.wg)(),(0,s.iD)("a",{target:"_blank",href:t.meta_value,key:t,class:"tw-w-full tw-p-2 tw-flex tw-items-center tw-justify-between tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("span",null,"Landing Page link "+(0,lt.zw)(e+1),1),(0,s.Wm)(l,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,jae)))),128))])):((0,s.wg)(),(0,s.iD)("div",Fae,Iae))]),(0,s._)("div",Oae,[Hae,(0,ve.SU)(a).length?((0,s.wg)(),(0,s.iD)("div",Mae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ve.SU)(a),((t,e)=>((0,s.wg)(),(0,s.iD)("a",{target:"_blank",href:t.meta_value,key:t,class:"tw-w-full tw-p-2 tw-flex tw-items-center tw-justify-between tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("span",null,"Video link "+(0,lt.zw)(e+1),1),(0,s.Wm)(l,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Rae)))),128))])):((0,s.wg)(),(0,s.iD)("div",Nae,Zae))])])}}};const Bae=Kae;var Qae=Bae;const Jae={class:"tw-flex tw-items-center tw-gap-2"},Gae=["onClick"],Xae={class:"tw-bg-white tw-w-full tw-border tw-border-solid tw-border-gray-200"},tse={class:"tw-mt-4 tw-overflow-hidden"};var ese={__name:"TabContainer",setup(t){const e=[{key:"overview-tab",component:Wae,name:"Overview",icon:"clarity:help-info-solid"},{key:"advertising-tab",component:zae,name:"Advertising Data",icon:"ic:sharp-ads-click"},{key:"links-tab",component:Qae,name:"Links",icon:"lucide:link"}],r=(0,s.f3)("product"),l=(0,ve.XI)(e[0]);return(t,o)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Jae,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("button",{key:t.key,onClick:e=>l.value=t,class:(0,lt.C_)([[t==(0,ve.SU)(l)&&"tw-bg-orange-400 !tw-text-white"],"tw-bg-white tw-text-gray-600 tw-flex tw-items-center tw-duration-200 tw-gap-2 tw-px-4 tw-py-2 tw-rounded-t tw-border tw-border-b-0 tw-border-solid tw-border-gray-200"])},[(0,s.Wm)(i,{icon:t.icon,class:"tw-text-xl"},null,8,["icon"]),(0,s._)("span",null,(0,lt.zw)(t.name),1)],10,Gae))),64))]),(0,s._)("div",Xae,[(0,s._)("div",tse,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,ve.SU)(l).component),{product:(0,ve.SU)(r),"onUpdate:product":o[0]||(o[0]=t=>(0,ve.dq)(r)?r.value=t:null)},null,40,["product"]))])),_:1})],1024))])])])}}};const rse=ese;var ase=rse;const sse={class:"tw-p-2"},lse=(0,s._)("span",null,"Go Back",-1),ose={class:"tw-p-2"},ise={key:1,class:"tw-min-h-fit tw-w-full tw-bg-white tw-rounded tw-overflow-hidden tw-p-5 tw-border tw-border-solid tw-border-gray-200"},wse={class:"tw-grid tw-grid-cols-12 tw-gap-5"},nse={class:"tw-col-span-full lg:tw-col-span-6"},dse={class:"tw-col-span-full lg:tw-col-span-6 lg:tw-p-5"},cse={key:2,class:"tw-mt-5"};var use={__name:"ShowProductView",setup(t){const e=(0,f.yj)(),r=(0,ve.iH)(!1),a=(0,ve.iH)({});(0,s.JJ)("product",a),(0,s.JJ)("loading",r);const l=async t=>{r.value=!0,await D3t.get(t).then((t=>{"SUCCESS"==t.data.code&&(a.value=t.data.product),console.log(t)}),(t=>{console.log(t)})),r.value=!1};return l(e.params.id),(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",sse,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$router.go(-1)),class:"tw-text-gray-600 tw-flex tw-items-center tw-gap-1 tw-duration-200 hover:tw-text-gray-700"},[(0,s.Wm)(a,{icon:"iconamoon:arrow-left-2",class:"tw-text-3xl tw-text-gray-400"}),lse])]),(0,s._)("div",ose,[r.value?((0,s.wg)(),(0,s.j4)((0,ve.SU)(ure),{key:0})):((0,s.wg)(),(0,s.iD)("div",ise,[(0,s._)("div",wse,[(0,s._)("div",nse,[(0,s.Wm)((0,ve.SU)(kre))]),(0,s._)("div",dse,[(0,s.Wm)((0,ve.SU)(Qre))])])])),r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cse,[(0,s.Wm)((0,ve.SU)(ase))]))])],64)}}};const pse=use;var gse=pse;const mse={class:"tw-min-w-full tw-leading-normal"},hse={class:""},fse={key:0},bse=(0,s._)("div",{class:"tw-w-full tw-py-3 tw-bg-gray-50 group-even:tw-bg-white tw-rounded tw-min-w-[30px] tw-animate-pulse"},null,-1),xse=[bse],vse={key:1},yse={class:"tw-px-5 tw-py-3 tw-text-sm"},_se={class:"tw-px-5 tw-py-3 tw-text-sm"},kse={class:"tw-px-5 tw-py-3 tw-text-sm"},Cse={class:"tw-px-5 tw-py-3 tw-text-sm"},Dse={class:"tw-px-5 tw-py-3 tw-text-sm"},Sse={class:"tw-px-5 tw-py-3 tw-text-sm"},Use={class:"tw-text-green-500"},zse={class:"tw-px-5 tw-py-3 tw-text-sm"},qse={class:"tw-text-green-500"},Pse={class:"tw-px-5 tw-py-3 tw-text-sm"},Lse={class:"tw-text-green-500"},Wse={key:1},Ase=["colspan"],$se=(0,s._)("div",{class:"tw-p-5 tw-bg-white tw-min-h-[250px] tw-text-gray-600 tw-flex tw-items-center tw-justify-center tw-text-lg"},[(0,s._)("p",null,"No results was found")],-1),Ese=[$se];var Tse={__name:"ProductSellerTable",setup(t){const e=(0,ve.iH)(!1),r=(0,s.f3)("product",{}),a=(0,s.Fl)((()=>r.value.sellers)),l=(0,ve.iH)([{name:"seller",label:"Seller",classes:["tw-w-[220px]x"]},{name:"orders",label:"Orders",classes:["tw-w-[150px]"]},{name:"quantity",label:"Quantity",classes:["tw-w-[150px]"]},{name:"confirmation",label:"Confirmation",classes:["tw-w-[220px]"]},{name:"delivery",label:"Delivery",classes:["tw-w-[220px]"]},{name:"revenue",label:"Seller Revenue",classes:["tw-w-[200px]"]},{name:"expenses",label:"Expenses",classes:["tw-w-[200px]"]},{name:"profit",label:"Estimated Profit",classes:["tw-w-[200px]"]}]);return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("table",mse,[(0,s._)("thead",hse,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.name,class:(0,lt.C_)([t.classes,"tw-px-5 last:tw-border-e-0 tw-whitespace-nowrap tw-border-e tw-py-3 tw-border-b tw-borderx tw-border-gray-100 tw-bg-gray-50 tw-text-start tw-text-[12px] tw-font-semibold tw-text-gray-600 tw-uppercase tw-tracking-wider"])},(0,lt.zw)(t.label),3)))),128))])]),e.value?((0,s.wg)(),(0,s.iD)("tbody",fse,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("tr",{class:"tw-border-b tw-border-solid tw-border-gray-100 last:tw-border-b-0 tw-group even:tw-bg-gray-50/50",key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("td",{key:t.name,class:"tw-px-2 tw-py-3"},xse)))),128))]))),64))])):((0,s.wg)(),(0,s.iD)("tbody",vse,[(0,ve.SU)(a).length>0?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)((0,ve.SU)(a),(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-border-b tw-border-solid tw-border-gray-100 last:tw-border-b-0 tw-group even:tw-bg-gray-50/50 hover:tw-bg-primary-50/60 tw-duration-100"},[(0,s._)("td",yse,[(0,s._)("p",null,(0,lt.zw)(t.username),1)]),(0,s._)("td",_se,[(0,s._)("p",null,(0,lt.zw)(t.orders_count),1)]),(0,s._)("td",kse,[(0,s._)("p",null,(0,lt.zw)(t.total_quantity),1)]),(0,s._)("td",Cse,[(0,s._)("p",null,(0,lt.zw)(t.confirmation_rate)+"%",1)]),(0,s._)("td",Dse,[(0,s._)("p",null,(0,lt.zw)(t.delivery_rate)+"%",1)]),(0,s._)("td",Sse,[(0,s._)("p",Use,(0,lt.zw)((0,ve.SU)(c))+" "+(0,lt.zw)(t.revenue),1)]),(0,s._)("td",zse,[(0,s._)("p",qse,(0,lt.zw)((0,ve.SU)(c))+" "+(0,lt.zw)(t.product_expenses),1)]),(0,s._)("td",Pse,[(0,s._)("p",Lse,(0,lt.zw)((0,ve.SU)(c))+" "+(0,lt.zw)(t.product_profit),1)])])))),128)):((0,s.wg)(),(0,s.iD)("tr",Wse,[(0,s._)("td",{colspan:l.value.length},Ese,8,Ase)]))]))])]))}};const jse=Tse;var Fse=jse;const Vse={key:0,class:"tw-p-2"},Ise={class:"tw-p-2 tw-text-lg tw-font-bold"},Ose={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-mt-2"},Hse={class:"tw-min-h-[100px] tw-grid tw-grid-cols-4 tw-col-span-12 tw-gap-2"},Mse={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},Rse={class:"tw-flex tw-items-center tw-gap-4"},Nse=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Sellers",-1),Yse={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},Zse={class:"tw-text-2xl tw-font-bold tw-ml-auto"},Kse={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},Bse={class:"tw-flex tw-items-center tw-gap-4"},Qse=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Orders",-1),Jse={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},Gse={class:"tw-text-2xl tw-font-bold tw-ml-auto"},Xse={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},tle={class:"tw-flex tw-items-center tw-gap-4"},ele=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Imported",-1),rle={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},ale={class:"tw-text-2xl tw-font-bold tw-ml-auto"},sle={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},lle={class:"tw-flex tw-items-center tw-gap-4"},ole=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Wishlisted",-1),ile={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},wle={class:"tw-text-2xl tw-font-bold tw-ml-auto"},nle={class:"tw-mt-2 tw-overflow-hidden tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded"};var dle={__name:"ShowAffiliateProduct",setup(t){const e=(0,f.yj)(),r=(0,ve.iH)(!0),a=(0,ve.iH)(null);(0,s.JJ)("product",a);const l=async t=>{r.value=!0,await D3t.details(t).then((t=>{"SUCCESS"==t.data.code&&(a.value=t.data.product)})).catch((t=>{console.log(t)})),r.value=!1};return l(e.params.id),(t,e)=>{const l=(0,s.up)("icon");return r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Vse,[(0,s._)("div",Ise,(0,lt.zw)(a.value.name),1),(0,s._)("div",Ose,[(0,s._)("div",Hse,[(0,s._)("div",Mse,[(0,s._)("div",Rse,[(0,s.Wm)(l,{icon:"heroicons:user-group-20-solid",class:"tw-text-4xl tw-text-sky-400"}),Nse]),(0,s._)("div",Yse,[(0,s._)("p",Zse,(0,lt.zw)(a.value.sellers.length),1)])]),(0,s._)("div",Kse,[(0,s._)("div",Bse,[(0,s.Wm)(l,{icon:"fa-solid:boxes",class:"tw-text-4xl tw-text-amber-400"}),Qse]),(0,s._)("div",Jse,[(0,s._)("p",Gse,(0,lt.zw)(a.value.orders_count),1)])]),(0,s._)("div",Xse,[(0,s._)("div",tle,[(0,s.Wm)(l,{icon:"lets-icons:import-fill",class:"tw-text-4xl tw-text-green-400"}),ele]),(0,s._)("div",rle,[(0,s._)("p",ale,(0,lt.zw)(a.value.import_count),1)])]),(0,s._)("div",sle,[(0,s._)("div",lle,[(0,s.Wm)(l,{icon:"mdi:heart",class:"tw-text-4xl tw-text-rose-400"}),ole]),(0,s._)("div",ile,[(0,s._)("p",wle,(0,lt.zw)(a.value.wishlist_count),1)])])])]),(0,s._)("div",nle,[(0,s.Wm)((0,ve.SU)(Fse))])]))}}};const cle=dle;var ule=cle;const ple={class:"tw-flex tw-flex-col tw-mt-5"},gle={class:"tw-overflow-x-auto"},mle={class:"tw-inline-block tw-min-w-full tw-align-middle"},hle={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},fle={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},ble={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},xle={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},vle={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},yle=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No seller has imported this product ! ")])],-1),_le=[yle],kle={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Cle={colspan:"11"},Dle={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Sle=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Ule=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),zle=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),qle=[Ule,zle],Ple={class:"tw-mt-6"};var Lle={__name:"IndexTable",setup(t){const e={per_page:10,current_page:1,from:1,to:10,last_page:1,total:1},r=(0,ve.iH)([{name:"Username",key:"username",class:[""]},{name:"Orders",key:"orders",class:["tw-w-[200px]"]},{name:"Added",key:"added",class:["tw-w-[200px]"]}]),a=(0,ve.iH)(!1),l=(0,ve.iH)([]);return(t,o)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ple,[(0,s._)("div",gle,[(0,s._)("div",mle,[(0,s._)("div",hle,[(0,s._)("table",fle,[(0,s._)("thead",ble,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,lt.C_)([[t.class],"tw-px-4 tw-w-fit tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"]),scope:"col"},(0,lt.zw)(t.name),3)))),128))])]),!a.value&&l.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",xle)):(0,s.kq)("",!0),a.value||0!=l.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",vle,_le)),a.value?((0,s.wg)(),(0,s.iD)("tbody",kle,[(0,s._)("tr",null,[(0,s._)("td",Cle,[(0,s._)("div",Dle,[Sle,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.per_page-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},qle)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Ple,[(0,s.Wm)((0,ve.SU)(Pbt),{from:e.from,to:e.to,"last-page":e.last_page,"per-page":e.per_page,total:e.total,"current-page":e.current_page,onPageChange:o[0]||(o[0]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const Wle=Lle;var Ale=Wle;const $le={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Ele={class:"tw-px-3"},Tle=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Product Sellers")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of sellers working on this product. ")])],-1);var jle={__name:"ProductSellerListView",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",$le,[(0,s._)("section",Ele,[Tle,(0,s._)("div",null,[(0,s.Wm)(Ale)])])]))}};const Fle=jle;var Vle=Fle,Ile={name:"affiliate",path:"/affiliate",component:Sa,meta:{module:"affiliate"},children:[{name:"affiliate.admin.list",path:"admin/products",component:q8t,meta:{module:"affiliate",subModule:"affiliate.admin.list",title:"Affiliate Products",role:["admin"]}},{name:"affiliate.admin.show",path:"admin/products/:id",component:ule,meta:{module:"product",subModule:"affiliate.admin.show",title:"Affiliate Product",role:["admin"]}},{name:"affiliate.admin.create",path:"admin/products/create",component:hee,meta:{module:"affiliate",subModule:"affiliate.create",title:"Create Affiliate Product",role:["admin"]}},{name:"affiliate.admin.edit",path:"admin/products/:id/edit",component:qee,meta:{module:"affiliate",subModule:"affiliate.edit",title:"Edit Affiliate Product",role:["admin"]}},{name:"affiliate.index",path:"products",component:_8t,meta:{module:"affiliate",subModule:"affiliate.index",title:"Affiliate Products",role:["admin","seller"]}},{name:"affiliate.show",path:"products/:id",component:gse,meta:{module:"affiliate",subModule:"affiliate.show",title:"Product Details",role:["admin","seller"]}},{name:"affiliate.show.sellers",path:"products/:id/sellers",component:Vle,meta:{module:"affiliate",subModule:"affiliate.show.sellers",title:"Product Sellers",role:["admin"]}},{name:"affiliate.import",path:"products/imported",component:Ree,meta:{module:"affiliate",subModule:"affiliate.import",title:"Import List",role:["admin","seller"]}},{name:"affiliate.wishlist",path:"products/wishlisted",component:lre,meta:{module:"affiliate",subModule:"affiliate.wishlist",title:"My wishlist",role:["admin","seller"]}}]};class Ole{async getOrdersCountByDays(t=null,e=null){return await $.getCookie(),W.get("api/analytics/orders-count-by-days",{params:{from:t,to:e}})}}var Hle=new Ole;const Mle={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[350px]"},Rle={class:"tw-flex tw-items-center tw-gap-2"},Nle=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Orders",-1),Yle={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Zle={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[350px]"},Kle=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Orders"),(0,s._)("p",{class:"tw-px-1 tw-bg-gray-200 tw-text-white tw-text-sm tw-rounded tw-w-[60px] tw-h-[25px] tw-animate-pulse"})],-1),Ble=(0,s._)("div",{class:"tw-h-[280px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1),Qle=[Kle,Ble];var Jle={__name:"OrdersCountChart",setup(t){const e=(0,ve.iH)(!0),r=(0,ve.iH)(0),a=(0,ve.iH)([]),l=(0,s.Fl)((()=>({chart:{id:"vuechart-example",foreColor:"#000"},xaxis:{categories:a.value.map((t=>Ce()(t.date).format("MMM D")))},yaxis:{show:!1},stroke:{colors:["#000"]},fill:{type:"gradient",colors:["#000"],gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[50,90,100]}},dataLabels:{enabled:!0,style:{fontSize:"10px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff",padding:4,borderRadius:2,borderWidth:1,borderColor:"#fff",opacity:.9,backgroundColor:"#000",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}}}}))),o=(0,s.Fl)((()=>[{name:"Orders",data:a.value.map((t=>t.count))}])),i=async()=>{e.value=!0,await Hle.getOrdersCountByDays(null,null).then((t=>{"SUCCESS"==t.data.code&&(console.log(a),a.value=t.data.data,r.value=t.data.count)}),(t=>{console.log(t)})),e.value=!1};return i(),(t,a)=>{const i=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Mle,[(0,s._)("div",Rle,[Nle,(0,s._)("p",Yle,(0,lt.zw)((new Intl.NumberFormat).format(r.value)),1)]),(0,s.Wm)(i,{type:"area",height:"280",options:(0,ve.SU)(l),series:(0,ve.SU)(o)},null,8,["options","series"])])),e.value?((0,s.wg)(),(0,s.iD)("div",Zle,Qle)):(0,s.kq)("",!0)],64)}}};const Gle=Jle;var Xle=Gle;const toe={class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[350px]"},eoe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),roe={class:"tw-h-fullx tw-flex tw-gap-2"},aoe={class:"tw-w-fit"},soe={class:"tw-flex-1 tw-p-2 tw-flex tw-flex-col tw-gap-4 tw-justify-center"},loe={class:"tw-text-smx tw-font-semibold"},ooe={class:"tw-text-xs"};var ioe={__name:"ConfirmationChart",setup(t){const e=(0,ve.iH)({confirmations:[{name:"Total",value:450,percentage:"100%",color:"#000"},{name:"Confirmed",value:225,percentage:"77%",color:"#10b981"},{name:"Double",value:225,percentage:"77%",color:"#8b5cf6"},{name:"Canceled",value:225,percentage:"77%",color:"#e11d48"},{name:"No Answer",value:225,percentage:"77%",color:"#f59e0b"},{name:"Others",value:225,percentage:"77%",color:"#64748b"}]}),r=(0,ve.iH)([77]),a=(0,ve.iH)({chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#888",fontSize:"17px"},value:{formatter:function(t){return parseInt(t)+"%"},color:"#111",fontSize:"36px",show:!0}}}},fill:{type:"gradient",colors:r.value[0]>50?["#10b981"]:["#f43f5e"],gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:r.value[0]>50?["#22c55e","#10b981"]:["#f43f5e","#e11d48"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Confirmed"]});return(t,l)=>{const o=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",toe,[eoe,(0,s._)("div",roe,[(0,s._)("div",aoe,[(0,s.Wm)(o,{type:"radialBar",height:"300",options:a.value,series:r.value},null,8,["options","series"])]),(0,s._)("div",soe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.value.confirmations,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{style:(0,lt.j5)({background:t.color}),class:"tw-p-0 tw-px-1 tw-rounded tw-text-[10px] tw-font-bold tw-text-white tw-text-center tw-w-[35px]"},(0,lt.zw)(t.percentage),5),(0,s._)("p",loe,[(0,s.Uk)((0,lt.zw)(t.name)+" ",1),(0,s._)("span",ooe,"("+(0,lt.zw)((new Intl.NumberFormat).format(t.value))+")",1)])])))),128))])])])}}};const woe=ioe;var noe=woe;const doe={class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[350px]"},coe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Delivery",-1),uoe={class:"tw-h-fullx tw-flex tw-gap-2"},poe={class:"tw-w-fit"},goe={class:"tw-flex-1 tw-p-2 tw-flex tw-flex-col tw-gap-4 tw-justify-center"},moe={class:"tw-text-smx tw-font-semibold"},hoe={class:"tw-text-xs"};var foe={__name:"DeliveryChart",setup(t){const e=(0,ve.iH)({deliveries:[{name:"Total",value:45032,percentage:"100%",color:"#000"},{name:"Delivered",value:2254,percentage:"77%",color:"#10b981"},{name:"Shipped",value:2252,percentage:"77%",color:"#8b5cf6"},{name:"Canceled",value:22511,percentage:"77%",color:"#e11d48"},{name:"No Answer",value:2252,percentage:"77%",color:"#f59e0b"},{name:"Others",value:225,percentage:"77%",color:"#64748b"}]}),r=(0,ve.iH)([27]),a=(0,ve.iH)({chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#888",fontSize:"17px"},value:{formatter:function(t){return parseInt(t)+"%"},color:"#111",fontSize:"36px",show:!0}}}},fill:{type:"gradient",colors:r.value[0]>50?["#38bdf8"]:["#f43f5e"],gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:r.value[0]>50?["#38bdf8","#06b6d4"]:["#f43f5e","#e11d48"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Delivered"]});return(t,l)=>{const o=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",doe,[coe,(0,s._)("div",uoe,[(0,s._)("div",poe,[(0,s.Wm)(o,{type:"radialBar",height:"300",options:a.value,series:r.value},null,8,["options","series"])]),(0,s._)("div",goe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.value.deliveries,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{style:(0,lt.j5)({background:t.color}),class:"tw-p-0 tw-px-1 tw-rounded tw-text-[10px] tw-font-bold tw-text-white tw-text-center tw-w-[35px]"},(0,lt.zw)(t.percentage),5),(0,s._)("p",moe,[(0,s.Uk)((0,lt.zw)(t.name)+" ",1),(0,s._)("span",hoe,"("+(0,lt.zw)((new Intl.NumberFormat).format(t.value))+")",1)])])))),128))])])])}}};const boe=foe;var xoe=boe;const voe={class:"tw-p-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200"},yoe={class:"tw-grid tw-grid-cols-12 tw-divide-x tw-gap-5"},_oe={class:"tw-h-[150px]x tw-col-span-12 md:tw-col-span-3 tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},koe=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Total Transaction Volume",-1),Coe=(0,s._)("p",{class:"tw-text-3xl tw-font-bold"},[(0,s.Uk)("$38,782.10 "),(0,s._)("span",{class:"tw-text-sm tw-text-emerald-400"},"+2.8%")],-1),Doe={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},Soe=(0,s._)("span",{class:"tw-font-bold tw-text-black"},"$3,123.26",-1),Uoe={class:"tw-h-[150px]x tw-col-span-12 md:tw-col-span-3 tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},zoe=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Total Revenue",-1),qoe=(0,s._)("p",{class:"tw-text-3xl tw-font-bold"},[(0,s.Uk)("$18,782.10 "),(0,s._)("span",{class:"tw-text-sm tw-text-emerald-400"},"+10.8%")],-1),Poe={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},Loe=(0,s._)("span",{class:"tw-font-bold tw-text-black"},"$7,123.26",-1),Woe={class:"tw-h-[150px]x tw-col-span-12 md:tw-col-span-3 tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},Aoe=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Total Delivered",-1),$oe=(0,s._)("p",{class:"tw-text-3xl tw-font-bold"},[(0,s.Uk)("$52,782.10 "),(0,s._)("span",{class:"tw-text-sm tw-text-emerald-400"},"+10.8%")],-1),Eoe={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},Toe=(0,s._)("span",{class:"tw-font-bold tw-text-black"},"$12,123.26",-1),joe={class:"tw-h-[150px]x tw-col-span-12 md:tw-col-span-3 tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},Foe=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Total Paid",-1),Voe=(0,s._)("p",{class:"tw-text-3xl tw-font-bold"},[(0,s.Uk)("$52,782.10 "),(0,s._)("span",{class:"tw-text-sm tw-text-emerald-400"},"+10.8%")],-1),Ioe={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},Ooe=(0,s._)("span",{class:"tw-font-bold tw-text-black"},"$3,123.26",-1);var Hoe={__name:"FinanceData",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",voe,[(0,s._)("div",yoe,[(0,s._)("div",_oe,[koe,Coe,(0,s._)("p",Doe,[(0,s.Uk)((0,lt.zw)((0,ve.SU)(Ce())("2024-07-04").format("MMM D, YYYY"))+": ",1),Soe])]),(0,s._)("div",Uoe,[zoe,qoe,(0,s._)("p",Poe,[(0,s.Uk)((0,lt.zw)((0,ve.SU)(Ce())("2024-07-04").format("MMM D, YYYY"))+": ",1),Loe])]),(0,s._)("div",Woe,[Aoe,$oe,(0,s._)("p",Eoe,[(0,s.Uk)((0,lt.zw)((0,ve.SU)(Ce())("2024-07-04").format("MMM D, YYYY"))+": ",1),Toe])]),(0,s._)("div",joe,[Foe,Voe,(0,s._)("p",Ioe,[(0,s.Uk)((0,lt.zw)((0,ve.SU)(Ce())("2024-07-04").format("MMM D, YYYY"))+": ",1),Ooe])])])]))}};const Moe=Hoe;var Roe=Moe;const Noe=(0,s._)("div",{class:"tw-p-2 tw-flex tw-items-center tw-justify-end tw-gap-2"},[(0,s._)("div",{class:"tw-bg-white tw-h-[40px] tw-w-[150px] tw-border tw-border-solid tw-border-gray-300"}),(0,s._)("div",{class:"tw-bg-white tw-h-[40px] tw-w-[150px] tw-border tw-border-solid tw-border-gray-300"})],-1),Yoe={class:"tw-grid tw-grid-cols-12 tw-gap-2"},Zoe={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},Koe={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},Boe={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},Qoe={class:"tw-col-span-12"};var Joe={__name:"SellersAnalyticsView",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[Noe,(0,s._)("div",Yoe,[(0,s._)("div",Zoe,[(0,s.Wm)((0,ve.SU)(Xle))]),(0,s._)("div",Koe,[(0,s.Wm)((0,ve.SU)(noe))]),(0,s._)("div",Boe,[(0,s.Wm)((0,ve.SU)(xoe))]),(0,s._)("div",Qoe,[(0,s.Wm)((0,ve.SU)(Roe))])])]))}};const Goe=Joe;var Xoe=Goe,tie={name:"analytics.admin",path:"/admin/analytics",component:Sa,meta:{module:"analytics"},children:[{name:"analytics.admin.sellers",path:"sellers",component:Xoe,meta:{module:"analytics",subModule:"analytics.admin.sellers",title:"Analytics",role:["admin"]}}]};const eie=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Page not found")])],-1),rie={class:"py-5 px-5 tw-border bg-white tw-w-full tw-flex tw-items-center tw-justify-center tw-rounded-md tw-min-h-[500px]"},aie={class:"tw-flex tw-items-center tw-flex-col"},sie=(0,s._)("div",{class:"md:tw-text-6xl tw-text-4xl tw-font-black text-primary-color"},"404",-1),lie={class:"tw-w-fit tw-flex tw-items-center md:tw-text-2xl tw-text-xl mt-md-5 mt-3 tw-gap-2"},oie=(0,s._)("div",{class:"tw-max-w-[400px] tw-text-center md:tw-text-lg tw-text-sm mt-5"}," The page you requested was not found or you don't have the permission to access it. ",-1);function iie(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[eie,(0,s._)("div",rie,[(0,s._)("div",aie,[sie,(0,s._)("div",lie,[(0,s.Wm)(wt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-circle")])),_:1}),(0,s.Uk)(" Oops! Page not found! ")]),oie])])])}var wie={};const nie=(0,g.Z)(wie,[["render",iie]]);var die=nie;const cie={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"};function uie(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",cie,[(0,s._)("div",null,[(0,s.Wm)(ot.T,{onClick:o.sendRequest,loading:l.isLoading,variant:"flat",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("Send Request")])),_:1},8,["onClick","loading"])])])])}const pie="/api/storeimport",gie="post";var mie={name:"Orders from Youcan",sheet_id:"QSDfFsqdDSQDfrsqFDSRHTRzer",sheet_name:"Youcan-Orders",auto_fetch:!0},hie={data(){return{isLoading:!1,test:mie}},methods:{async sendRequest(){switch(this.isLoading=!0,await $.getCookie(),gie){case"get":W.get(pie).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"post":W.post(pie,mie).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"delete":W["delete"](pie).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;default:break}}}};const fie=(0,g.Z)(hie,[["render",uie]]);var bie=fie;const xie=[Zt,VWt,sKt,aq,qA,H6,klt,Oit,mct,Ypt,wmt,LDt,ezt,lOt,NVt,a2t,fw,e4t,k3t,Uut,Ile,tie,{name:"default",path:"/test",component:Sa,children:[{name:"test",path:"",component:bie,meta:{title:"Test abro m3a rasek",module:"test",gate:"all"}}]},{name:"not-found",path:"/404",component:Sa,meta:{title:"Not Found"},children:[{name:"404",path:"",component:die}]},{name:"catch-all",path:"/:pathMatch(.*)",beforeEnter:(t,e,r)=>r({name:"404"}),meta:{title:"Not Found"}}],vie=(0,f.p7)({history:(0,f.PO)("/"),routes:xie});vie.beforeEach(((t,e)=>st(t,e,vie)));var yie=vie,_ie=(r(9773),r(8957));const kie={colors:{"primary-color":"#FF9F43","secondary-color":"#1B2850","primary-indigo":"#1B2850","primary-orange":"#FF9F43","primary-blue":"#00CFE8","primary-green":"#28C76F"}};var Cie=(0,_ie.Rd)({theme:{defaultTheme:"customTheme",themes:{customTheme:kie}}});const Die={install(t){t.config.globalProperties.$can=function(t){const e=this.$store.getters["user/permissions"];return e.includes(t)}}};var Sie=Die;const Uie={install(t){t.config.globalProperties.$alert=function(t){this.$store.dispatch("alert/toggleAlert",t)}}};var zie=Uie,qie={install(t){t.config.globalProperties.$frontend=t=>w+t,t.config.globalProperties.$backend=t=>n+t;const e={get:(e,r)=>t.config.globalProperties.$store.getters["user/user"][r]};t.config.globalProperties.$user=new Proxy(t.config.globalProperties.$store.getters["user/user"],e)}};const Pie={install(t){t.config.globalProperties.$handleApiError=function(e){const r=e?.response?.data?.code;let a="error",s="Something wrong happened. Try again",l=!0;const o=["VALIDATION_ERROR","NOT_ACTIVE_ERROR","INVALID_CREDENTIALS","PERMISSION_DENIED"];switch(o.includes(r)&&(l=!1),console.log(e),"ERR_NETWORK"==e.code&&(s="Network error. Check your connection"),r){case"NOT_ALLOWED":s="Your are not allowed to this resources";break;case"ERROR":s=e?.response?.data.message;break;case"NOT_AUTHENTICATED":s="Your session expired",setTimeout((()=>{t.config.globalProperties.$store.dispatch("user/logout"),t.config.globalProperties.$router.push("/login")}),2e3);break;case"NOT_FOUND":l=!1,t.config.globalProperties.$router.push({name:"404"});break;case"RELOAD":l=!1,console.log("reload"),location.reload(!0);break;case"HIDE_APP":l=!1,document.getElementById("app").innerHTML="";break;default:break}return l&&t.config.globalProperties.$alert({type:a,title:s}),e}}};var Lie=Pie,Wie=r(7025);const Aie=t=>((0,s.dD)("data-v-ff4afcd0"),t=t(),(0,s.Cn)(),t),$ie={class:"tw-min-h-[500px] tw-flex tw-items-center tw-justify-center tw-bg-white tw-rounded-md tw-border"},Eie=Aie((()=>(0,s._)("div",{class:"tw-w-[40px] tw-h-[40px] tw-animate-spin loading tw-border-4 tw-border-x-transparent tw-border-t-transparent tw-rounded-full"},null,-1))),Tie=[Eie];function jie(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",$ie,Tie)}var Fie={};const Vie=(0,g.Z)(Fie,[["render",jie],["__scopeId","data-v-ff4afcd0"]]);var Iie=Vie;const Oie={class:"tw-flex tw-justify-center tw-items-center"},Hie=(0,s._)("div",{class:"tw-relative tw-w-8 tw-h-8 tw-animate-spin tw-rounded-full tw-bg-gradient-to-r tw-from-purple-400 tw-via-blue-500 tw-to-red-400"},[(0,s._)("div",{class:"tw-absolute tw-top-1/2 tw-left-1/2 tw-transform tw--translate-x-1/2 tw--translate-y-1/2 tw-w-7 tw-h-7 tw-bg-white tw-rounded-full tw-border-2 tw-border-white"})],-1),Mie=[Hie];function Rie(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Oie,Mie)}var Nie={};const Yie=(0,g.Z)(Nie,[["render",Rie]]);var Zie=Yie;const Kie={key:0},Bie={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"},Qie={name:"body",class:"tw-z-[50999] tw-bg-white md:tw-min-w-[300px] md:tw-max-w-[800px] tw-flex tw-flex-col md:tw-min-h-[170px] tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5"},Jie=["innerHTML"],Gie={key:1,class:"tw-text-lg tw-text-gray-700"},Xie={class:"tw-flex tw-gap-3 tw-justify-end mt-5"};function twe(t,e,r,a,l,o){return r.visible?((0,s.wg)(),(0,s.iD)("div",Kie,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",Bie,[(0,s._)("div",Qie,[(0,s._)("div",{class:(0,lt.C_)(["tw-font-medium tw-text-lg mb-5 tw-text-start",o.currentType.class])},[(0,s.Wm)(wt.t,{size:"small",class:"mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,lt.zw)(o.currentType.icon),1)])),_:1}),(0,s._)("span",null,(0,lt.zw)(r.title),1)],2),r.body?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tw-text-center tw-text-lg tw-text-gray-700",innerHTML:r.body},null,8,Jie)):((0,s.wg)(),(0,s.iD)("div",Gie,[(0,s.WI)(t.$slots,"default")])),(0,s.Wm)(or.C),(0,s._)("div",Xie,[(0,s.Wm)(ot.T,{variant:"flat",color:"grey",onClick:e[0]||(e[0]=t=>o.resolve(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),r.noConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.T,{key:0,loading:r.loading,variant:"flat",color:r.btnColor?r.btnColor:"red",onClick:e[1]||(e[1]=t=>o.resolve(!0))},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","color"]))])]),(0,s._)("div",{onClick:e[2]||(e[2]=t=>o.resolve(!1)),class:(0,lt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var ewe={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("resolved",t)}},computed:{currentType(){return this.types[this.type]}}};const rwe=(0,g.Z)(ewe,[["render",twe]]);var awe=rwe;const swe={key:0},lwe={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function owe(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",swe,[((0,s.wg)(),(0,s.j4)(s.lR,{to:".my-application"},[(0,s._)("div",null,[(0,s._)("div",lwe,[(0,s._)("div",{name:"body",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] tw-overflow-y-auto tw-max-h-screen tw-flex tw-flex-col md:tw-min-h-[170px]"},[(0,s.WI)(t.$slots,"default")]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,lt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var iwe={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("cancel",t)}},computed:{currentType(){return this.types[this.type]}}};const wwe=(0,g.Z)(iwe,[["render",owe]]);var nwe=wwe,dwe=r(2340),cwe=r(5781),uwe=r.n(cwe),pwe=r(6088),gwe=r(32),mwe=(0,a.ri)(h).use(yie).use(et).use(Cie).use(Sie).use(zie).use(qie).use(Lie).use(Wie.Z).use(gwe.Z).component("LoadingAnimation",Iie).component("Loading",Zie).component("Popup",awe).component("PopupFull",nwe).component("VueDatePicker",dwe.Z).component("downloadCsv",uwe()).component("popupNew",K9t).component("icon",pwe.JO).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var l=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,l){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],l=t[d][2];for(var i=!0,w=0;w<a.length;w++)(!1&l||o>=l)&&Object.keys(r.O).every((function(t){return r.O[t](a[w])}))?a.splice(w--,1):(i=!1,l<o&&(o=l));if(i){t.splice(d--,1);var n=s();void 0!==n&&(e=n)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[a,s,l]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,l,o=a[0],i=a[1],w=a[2],n=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(w)var d=w(r)}for(e&&e(a);n<o.length;n++)l=o[n],r.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return r.O(d)},a=self["webpackChunkproduction"]=self["webpackChunkproduction"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(6078)}));a=r.O(a)})();
//# sourceMappingURL=app.46acee51.js.map