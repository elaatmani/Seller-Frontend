(function(){var t={6700:function(t,e,r){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function s(t){var e=l(t);return r(e)}function l(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=l,t.exports=s,s.id=6700},6262:function(t,e,r){"use strict";r.d(e,{Z:function(){return Sde}});var a=r(9242),s=r(3396),l=r(7718);function o(t,e,r,a,o,i){const w=(0,s.up)("router-view"),n=(0,s.up)("AppProvider");return(0,s.wg)(),(0,s.j4)(l.q,{class:"my-application"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{i18n:t.locales},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1},8,["i18n"])])),_:1})}var i=r(7139);const w="https://codsquad.net/",n="https://api.codsquad.net/",d="1.0.1",c="$",u="cods";var p=r(9641),g={name:"App",data:()=>({theme:"light",version:d,locales:p}),methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions"]),checkVersion(){const t=localStorage.getItem("app_version");t!=this.version&&(localStorage.setItem("app_version",this.version),location.reload(!0))}},mounted(){this.checkVersion(),document.documentElement.style.setProperty("--p-color-scrollbar-thumb-bg-hover","none"),document.documentElement.style.scrollbarColor="auto",document.documentElement.style.scrollbarWidth="auto"}},m=r(89);const h=(0,m.Z)(g,[["render",o],["__scopeId","data-v-6dc71e7d"]]);var f=h,b=r(2483);r(7658);let v={roles:localStorage.getItem("roles")?JSON.parse(localStorage.getItem("roles")):[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):[],isLoggedIn:"true"==localStorage.getItem("isLoggedIn"),permissions:localStorage.getItem("permissions")?JSON.parse(localStorage.getItem("permissions")):[],users:[],agents:[],deliveries:[],fetched:!1,fetchedRoles:!1};var x={name:"user",namespaced:!0,state:v,getters:{fetched:t=>t.fetched,fetchedRoles:t=>t.fetchedRoles,isLoggedIn:t=>t.isLoggedIn,permissions:t=>t.permissions,user:t=>t.user,users:t=>t.users,roles:t=>t.roles,agents:t=>t.agents,deliveries:t=>t.deliveries},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FETCHED_ROLES:(t,e)=>{t.fetchedRoles=e},SET_IS_LOGGED_IN:(t,e)=>{localStorage.setItem("isLoggedIn",e),t.isLoggedIn=e},SET_USER:(t,e)=>{localStorage.setItem("user",JSON.stringify(e)),t.user=e},SET_USERS:(t,e)=>{t.users=e},SET_PERMISSIONS:(t,e)=>{localStorage.setItem("permissions",JSON.stringify(e)),t.permissions=e},SET_ROLES:(t,e)=>{localStorage.setItem("roles",JSON.stringify(e)),t.roles=e},SET_DELIVERIES:(t,e)=>{t.deliveries=e},SET_AGENTS:(t,e)=>{t.agents=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFetchedRoles:({commit:t},e)=>{t("SET_FETCHED_ROLES",e)},setUser:({commit:t},e)=>{t("SET_USER",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)},setAgents:({commit:t},e)=>{t("SET_AGENTS",e)},setDeliveries:({commit:t},e)=>{t("SET_DELIVERIES",e)},setIsLoggedIn:({commit:t},e)=>{t("SET_IS_LOGGED_IN",e)},setPermissions:({commit:t},e)=>{t("SET_PERMISSIONS",e)},setRoles:({commit:t},e)=>{t("SET_ROLES",e)},logout:({commit:t})=>{t("SET_USER",{}),t("SET_IS_LOGGED_IN",!1),t("SET_PERMISSIONS",[]),t("SET_ROLES",[])}}},y={name:"alert",namespaced:!0,state:{active:!1,alert:{type:"success",title:"Toast",body:"Hello body"}},getters:{alert:t=>t},mutations:{TOGGLE_TOAST:(t,e)=>{t.alert=e,t.active=!0,setTimeout((()=>{t.active=!1}),4500)}},actions:{toggleAlert:({commit:t},e)=>{t("TOGGLE_TOAST",e)}}};let _={products:[],fetched:!1};var k={name:"product",namespaced:!0,state:_,getters:{products:t=>t.products,fetched:t=>t.fetched},mutations:{SET_PRODUCTS:(t,e)=>{t.products=e},SET_PRODUCT:(t,e)=>{t.products=t.products.map((t=>t.id===e.id?e:t))},ADD_PRODUCT:(t,e)=>{t.products.push(e)},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setProducts:({commit:t},e)=>{t("SET_PRODUCTS",e)},setProduct:({commit:t},e)=>{t("SET_PRODUCT",e)},addProduct:({commit:t},e)=>{t("ADD_PRODUCT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};r(541);let C={fetched:!1,sales:[],count:0};var D={name:"sale",namespaced:!0,state:C,getters:{sales:t=>t.sales,count:t=>t.count,fetched:t=>t.fetched},mutations:{SET_SALES:(t,e)=>{t.sales=e},SET_COUNT:(t,e)=>{t.count=e},SET_FETCHED:(t,e)=>{t.fetched=e},UPDATE_SALE:(t,e)=>{t.sales=t.sales.map((t=>t.id===e.id?e.sale:t))},ADD_SALE:(t,e)=>{t.sales.unshift(e)},ADD_SALES:(t,e)=>{t.sales=[...e,...t.sales]},UPDATE_CONFIRMATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,console.log("sale updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.affectation=e.affectation,null!=e.affectation?t.delivery="dispatch":t.delivery=null,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,console.log("order updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))},RESET_SALES:(t,e)=>{t.sales=t.sales.map((t=>(e.includes(t.id)&&(t.agente_id=null,t.upsell=null,t.confirmation=null,t.affectation=null,t.note=null,t.note_d=null,t.delivery=null,t.reported_agente_date=null,t.reported_agente_note=null,t.reported_delivery_date=null,t.reported_delivery_note=null),t)))}},actions:{setSales:({commit:t},e)=>{t("SET_SALES",e)},setCount:({commit:t},e)=>{t("SET_COUNT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},update:({commit:t},e)=>{t("UPDATE_SALE",e)},add:({commit:t},e)=>{t("ADD_SALE",e)},addSales:({commit:t},e)=>{t("ADD_SALES",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)},resetSales:({commit:t},e)=>{t("RESET_SALES",e)}}};let S={orders:[],order:null,all_orders:[],fetched:!1};var z={name:"order",namespaced:!0,state:S,getters:{fetched:t=>t.fetched,orders:t=>t.orders,order:t=>t.order,allOrders:t=>t.all_orders},mutations:{SET_ORDERS:(t,e)=>{t.orders=e},ADD_ORDER:(t,e)=>{t.orders.unshift(e),t.all_orders.unshift(e)},SET_FETCHED:(t,e)=>{t.fetched=e},SET_ALL_ORDERS:(t,e)=>{t.all_orders=e},SET_ORDER:(t,e)=>{t.order=e},UPDATE_ORDER:(t,e)=>{t.orders=t.orders.map((t=>t.id===e.id?e.order:t)),t.all_orders=t.all_orders.map((t=>t.id===e.id?e.order:t))},UPDATE_CONFIRMATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))}},actions:{setOrders:({commit:t},e)=>{t("SET_ORDERS",e)},addOrder:({commit:t},e)=>{t("ADD_ORDER",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setAllOrders:({commit:t},e)=>{t("SET_ALL_ORDERS",e)},setOrder:({commit:t},e)=>{t("SET_ORDER",e)},update:({commit:t},e)=>{t("UPDATE_ORDER",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)}}};let U={fetcehd:!1,inventoryList:[],inventoryState:[],inventoryMovements:[]};var q={name:"inventory",namespaced:!0,state:U,getters:{fetched:t=>t.fetched,inventoryList:t=>t.inventoryList,inventoryState:t=>t.inventoryState,inventoryMovements:t=>t.inventoryMovements},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_INVENTORY_LIST:(t,e)=>{t.inventoryList=e},SET_INVENTORY_STATE:(t,e)=>{t.inventoryState=e},SET_INVENTORY_MOVEMENTS:(t,e)=>{t.inventoryMovements=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setInventoryList:({commit:t},e)=>{t("SET_INVENTORY_LIST",e)},setInventoryState:({commit:t},e)=>{t("SET_INVENTORY_STATE",e)},setInventoryMovements:({commit:t},e)=>{t("SET_INVENTORY_MOVEMENTS",e)}}},P=r(6943);const L=P.Z.create({baseURL:n}),W=P.Z.create({baseURL:n});W.defaults.withCredentials=!0,W.defaults.headers={"Content-Type":"multipart/form-data",Accept:"application/json"},L.defaults.withCredentials=!0,L.defaults.headers={"Content-Type":"application/json",Accept:"application/json"};var A=L,$=r(680),E={getCookie(){let t=$.Z.get("XSRF-TOKEN");return t?new Promise((t=>{t()})):A.get("sanctum/csrf-cookie")}};class T{async statistics(t){return await E.getCookie(),A.post("api/v1/agent/statistics",t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/agent/orders"+t,e)}async counts(){return await E.getCookie(),A.get("api/v1/agent/orders/counts")}async update(t,e){return await E.getCookie(),A.post("api/v1/agent/orders/"+t+"/update",e)}async toConfirm(){return await E.getCookie(),A.get("api/orders/toconfirmate")}async getOrder(){return await E.getCookie(),A.get("api/orders/add")}async create(t){return await E.getCookie(),A.post("api/v1/agent/orders/create",t)}}var F=new T;let j={fetched:!1,totalAvailable:0,totalConfirmed:0,totalNotConfirmed:0};var I={name:"agent",namespaced:!0,state:j,getters:{fetched:t=>t.fetched,state:t=>t},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_TOTAL_CONFIRMED:(t,e)=>{t.totalConfirmed=e},SET_TOTAL_NOT_CONFIRMED:(t,e)=>{t.totalNotConfirmed=e},SET_TOTAL_AVAILABLE:(t,e)=>{t.totalAvailable=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setTotalConfirmed:({commit:t},e)=>{t("SET_TOTAL_CONFIRMED",e)},setTotalNotConfirmed:({commit:t},e)=>{t("SET_TOTAL_NOT_CONFIRMED",e)},setTotalAvailable:({commit:t},e)=>{t("SET_TOTAL_AVAILABLE",e)},refreshCounts:t=>{t.commit("SET_FETCHED",!1),console.log(t),F.counts().then((e=>{if("SUCCESS"==e?.data.code){const r=e.data.data;t.commit("SET_TOTAL_CONFIRMED",r.confirmed),t.commit("SET_TOTAL_NOT_CONFIRMED",r.not_confirmed),t.commit("SET_TOTAL_AVAILABLE",r.available),t.commit("SET_FETCHED",!0)}}))}}};const V=localStorage.getItem("cities");let O={fetched:!1,cities:V?JSON.parse(V):[]};var H={name:"city",namespaced:!0,state:O,getters:{cities:t=>t.cities,fetched:t=>t.fetched},mutations:{SET_CITIES:(t,e)=>{localStorage.setItem("cities",JSON.stringify(e)),t.cities=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setCities:({commit:t},e)=>{t("SET_CITIES",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}},M={name:"app",namespaced:!0,state:{notifications:{fetched:!1,all:[],data:[],count:0,highlighted:null},factorisations:{fetched:!1,tobepaid:0},alerts:{fetched:!1,data:[]}},getters:{notifications:t=>t.notifications,factorisations:t=>t.factorisations,alerts:t=>t.alerts},mutations:{SET_DATA:(t,e)=>{t.notifications.data=e},SET_ALERTS_FETCHED:(t,e)=>{t.alerts.fetched=e},SET_ALERTS_DATA:(t,e)=>{t.alerts.data=e},SET_TO_BE_PAID:(t,e)=>{t.factorisations.tobepaid=e},SET_ALL_NOTIFICATIONS:(t,e)=>{t.notifications.all=e},SET_COUNT:(t,e)=>{t.notifications.count=e},SET_HIGHLIGHTED:(t,e)=>{t.notifications.highlighted=e},CHANGE_STATUS:t=>{t.notifications.data=t.notifications.data.map((t=>(t.status="read",t)),t.notifications.count=0)}},actions:{setData({commit:t},e){t("SET_DATA",e)},setAlertsFetched({commit:t},e){t("SET_ALERTS_FETCHED",e)},setAlertsData({commit:t},e){t("SET_ALERTS_DATA",e)},settobepaid({commit:t},e){t("SET_TO_BE_PAID",e)},setAllNotifications({commit:t},e){t("SET_ALL_NOTIFICATIONS",e)},sethighlighted({commit:t},e){t("SET_HIGHLIGHTED",e)},setCount({commit:t},e){t("SET_COUNT",e)},updatestatus({commit:t},e){t("CHANGE_STATUS",e)}}};let R={shops:[]};var N={name:"shop",namespaced:!0,state:R,getters:{shops:t=>t.shops},mutations:{SET_SHOPS:(t,e)=>{t.shops=e}},actions:{setShops:({commit:t},e)=>{t("SET_SHOPS",e)}}};let Y={fetched:!1,notifications:{productStockAlert:[],reportedSale:[],reportedOrderAgente:[],reportedOrderDelivery:[]}};var Z={name:"notification",namespaced:!0,state:Y,getters:{notifications:t=>t.notifications,fetched:t=>t.fetched},mutations:{SET_NOTIFICATIONS:(t,e)=>{t.notifications=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setNotifications:({commit:t},e)=>{t("SET_NOTIFICATIONS",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let K={fetched:!1,warehouses:[]};var B={name:"warehouse",namespaced:!0,state:K,getters:{fetched:t=>t.fetched,warehouses:t=>t.warehouses},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_WAREHOUSES:(t,e)=>{t.warehouses=e},ADD_WAREHOUSE:(t,e)=>{t.warehouses.push(e)},DELETE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.filter((t=>t.id!=e))},UPDATE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setWarehouses:({commit:t},e)=>{t("SET_WAREHOUSES",e)},addWarehouse:({commit:t},e)=>{t("ADD_WAREHOUSE",e)},update:({commit:t},e)=>{t("UPDATE_WAREHOUSE",e)},delete:({commit:t},e)=>{t("DELETE_WAREHOUSE",e)}}};let Q={fetched:!1,factorisations:[]};var J={name:"factorisation",namespaced:!0,state:Q,getters:{fetched:t=>t.fetched,factorisations:t=>t.factorisations},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FACTORISATIONS:(t,e)=>{t.factorisations=e},ADD_FACTORISATION:(t,e)=>{t.factorisations.push(e)},DELETE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.filter((t=>t.id!=e))},UPDATE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFactorisations:({commit:t},e)=>{t("SET_FACTORISATIONS",e)},addFactorisation:({commit:t},e)=>{t("ADD_FACTORISATION",e)},update:({commit:t},e)=>{t("UPDATE_FACTORISATION",e)},delete:({commit:t},e)=>{t("DELETE_FACTORISATION",e)}}};let G={fetched:!1,sheets:[]};var X={name:"sheet",namespaced:!0,state:G,getters:{fetched:t=>t.fetched,sheets:t=>t.sheets},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_SHEETS:(t,e)=>{t.sheets=e},ADD_SHEET:(t,e)=>{t.sheets.push(e)},DELETE_SHEET:(t,e)=>{t.sheets=t.sheets.filter((t=>t.id!=e))},UPDATE_SHEET:(t,e)=>{t.sheets=t.sheets.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setSheets:({commit:t},e)=>{t("SET_SHEETS",e)},addSheet:({commit:t},e)=>{t("ADD_SHEET",e)},update:({commit:t},e)=>{t("UPDATE_SHEET",e)},delete:({commit:t},e)=>{t("DELETE_SHEET",e)}}};let tt={supply_requests:[]};var et={name:"supply-request",namespaced:!0,state:tt,getters:{supply_requests:t=>t.supply_requests},mutations:{SET_SUPPLY_REQUESTS:(t,e)=>{t.supply_requests=e},ADD_SUPPLY_REQUEST:(t,e)=>{t.supply_requests.unshift(e)},DELETE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.filter((t=>t.id!=e))},UPDATE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.map((t=>t.id==e.id?e:t))}},actions:{setSupplyRequests:({commit:t},e)=>{t("SET_SUPPLY_REQUESTS",e)},addSupplyRequest:({commit:t},e)=>{t("ADD_SUPPLY_REQUEST",e)},deleteSupplyRequest:({commit:t},e)=>{t("DELETE_SUPPLY_REQUEST",e)},updateSupplyRequest:({commit:t},e)=>{t("UPDATE_SUPPLY_REQUEST",e)}}},rt=(0,i.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:x,product:k,alert:y,sale:D,order:z,inventory:q,city:H,agent:I,shop:N,notification:Z,warehouse:B,factorisation:J,sheet:X,app:M,"supply-request":et}});class at{async login(t){return await E.getCookie(),A.post("api/auth/login",{email:t.email,password:t.password})}async register(t){return await E.getCookie(),A.post("api/users/new",{email:t.email,password:t.password,phone:t.phone,status:t.status,role:t.role,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,city:t?.city,deliverycity:t?.deliveryCities,having_all:t.having_all})}async update(t,e){return await E.getCookie(),A.post("api/users/update/"+t.id,{email:t.email,password:t.password,phone:t.phone,status:t.status,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,role:t.role,city:t?.city,deliverycity:t?.deliveryCities,updatePassword:e,having_all:t.having_all})}async updateProfile(t,e){return await E.getCookie(),A.post("api/users/profile",{password:t.password,phone:t.phone,firstname:t.firstname,lastname:t.lastname,updatePassword:e})}async online(){return await E.getCookie(),A.get("api/user")}async profile(){return await E.getCookie(),A.get("api/users/profile")}async logout(){return await E.getCookie(),A.get("api/auth/logout")}async clear(){return await E.getCookie(),A.get("api/auth/clear")}async permessions(){return await E.getCookie(),A.get("api/permissions")}async permession(){return await E.getCookie(),A.get("api/auth/permission")}async roles(){return await E.getCookie(),A.get("api/auth/roles")}async all(){return await E.getCookie(),A.get("api/users")}async updateStatus({id:t,status:e}){return await E.getCookie(),A.post("api/users/status/"+t,{status:e})}async delete(t){return await E.getCookie(),A["delete"]("api/users/delete/"+t)}async getUser(t){return await E.getCookie(),A.get("api/users/"+t)}async createPermission(t){return await E.getCookie(),A.post("api/permissions/new",{name:t})}async createRole({name:t,permissions:e}){return await E.getCookie(),A.post("api/roles/new",{name:t,permissions:e})}async updateRole(t,{name:e,permissions:r}){return await E.getCookie(),A.post("api/roles/update/"+t,{name:e,permissions:r})}async deleteRole(t){return await E.getCookie(),A["delete"]("api/roles/delete/"+t)}async getRole(t){return await E.getCookie(),A.get("api/roles/"+t)}async agents(){return await E.getCookie(),A.get("api/agents")}async deliveries(){return await E.getCookie(),A.get("api/delevries")}async allDeliveries(){return await E.getCookie(),A.get("api/deliveries")}async allSellers(){return await E.getCookie(),A.get("api/sellers")}async cities(){return await E.getCookie(),A.get("api/cities")}}var st=new at;function lt(t,e,r){if(document.title=t.meta?.title+" | COD Squad",!rt.getters["user/isLoggedIn"])return"/login"==t.path||{name:"login"};if(st.online().then((t=>{"USER_SHOWED"==t.data.code&&t.data.data.user.email!=rt.getters["user/user"]?.email&&(rt.dispatch("user/logout"),r.push({name:"login"}))})).catch(Sde.$handleApiError),"/login"==t.path)return{name:"404"};const{gate:a}=t.meta,s=rt.getters["user/permissions"];return"all"===a||(!!t.meta.role?.includes(rt.getters["user/user"].role)||((a||"/404"===t.path)&&!(!s.includes(a)&&"/404"!==t.path)||{name:"404"}))}var ot=r(2268),it=r(7312),wt=r(3369),nt=r(3289),dt=r(165);const ct={class:"tw-min-h-screen tw-overflow-auto tw-bg-slate-50"},ut={class:"tw-grid tw-h-fit tw-overflow-hidden md:tw-grid-cols-2 tw-grid-cols-1"},pt={class:"py-md-5 py-10 pb-0 tw-flex tw-justify-center md:tw-items-center"},gt={class:"px-md-10 tw-w-full"},mt={class:"tw-w-[270px] tw-h-[60px]"},ht=["src"],ft={class:"mt-md-10 mt-15 pt-5 px-md-5 px-lg-16 tw-w-full d-felx justify-center align-center"},bt={class:"pa-5 py-7 tw-border bg-white tw-rounded-lg tw-mx-auto tw-max-w-[450px]"},vt=(0,s._)("h1",{class:"text-h5 font-weight-medium !tw-text-gray-600"},"Login",-1),xt=(0,s._)("p",{class:"text-body-1 mt-2 !tw-text-gray-500"},"Please login to your account",-1),yt={key:0,class:"text-body-2 mt-2 !tw-text-red-500"},_t={class:"mt-5"},kt=(0,s._)("p",{class:"mb-1"},"Email",-1),Ct=(0,s._)("p",{class:"mb-1"},"Password",-1),Dt={class:"mt-5"},St=(0,s._)("span",{class:"text-capitalize text-white"},"Login",-1),zt={class:"bg-primary-color tw-min-h-screen tw-hidden md:tw-flex tw-items-center tw-justify-center"},Ut=["src"];function qt(t,e,r,l,o,i){const w=(0,s.up)("Alert");return(0,s.wg)(),(0,s.iD)("div",ct,[(0,s.Wm)(w),(0,s._)("div",ut,[(0,s._)("div",pt,[(0,s.Wm)(wt.K,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",gt,[(0,s._)("div",mt,[(0,s._)("img",{class:"tw-w-full",src:o.localUrl+"images/logo.png"},null,8,ht)]),(0,s._)("div",ft,[(0,s._)("div",bt,[vt,xt,o.error.active?((0,s.wg)(),(0,s.iD)("p",yt,(0,ot.zw)(o.error.message),1)):(0,s.kq)("",!0),(0,s._)("div",_t,[(0,s._)("div",null,[kt,(0,s.Wm)(dt.hw,{name:"email",onKeyup:e[0]||(e[0]=t=>i.resetError("email")),modelValue:o.email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t),error:!o.emailStatus.valid,"error-messages":o.emailStatus.valid?"":o.emailStatus.message,autofocus:"",onBlur:e[2]||(e[2]=t=>o.emailFocus=!1),onFocus:e[3]||(e[3]=t=>o.emailFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:o.emailFocus?o.emailStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-email-outline")])),_:1},8,["color"])])),_:1},8,["modelValue","error","error-messages"])]),(0,s._)("div",null,[Ct,(0,s.Wm)(dt.hw,{name:"password",onKeyup:(0,a.D2)(i.login,["enter"]),modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),error:!o.passwordStatus.valid,"error-messages":o.passwordStatus.valid?"":o.passwordStatus.message,type:o.showPassword?"text":"password",onBlur:e[6]||(e[6]=t=>o.passwordFocus=!1),onFocus:e[7]||(e[7]=t=>o.passwordFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(nt.t,{onClick:e[4]||(e[4]=t=>o.showPassword=!o.showPassword),class:"tw-relative tw-z-50 tw-cursor-pointer",color:o.passwordFocus?o.passwordStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(o.showPassword?"mdi-eye-off-outline":"mdi-eye-outline"),1)])),_:1},8,["color"])])),_:1},8,["onKeyup","modelValue","error","error-messages","type"])]),(0,s._)("div",Dt,[(0,s.Wm)(it.T,{disabled:o.isLoading||!o.cookiesCleared,loading:o.isLoading||!o.cookiesCleared,onClick:i.login,block:"",size:"large",color:"primary-color",variant:"flat",class:"!tw-text-white disabled:!tw-bg-gray-200"},{default:(0,s.w5)((()=>[St])),_:1},8,["disabled","loading","onClick"])])])])])])])),_:1})]),(0,s._)("div",zt,[(0,s._)("img",{src:o.localUrl+"assets/img/login.jpg",class:"tw-w-full tw-h-full tw-object-cover",alt:""},null,8,Ut)])])])}function Pt(t){var e=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;return t?new RegExp(e).test(t)?{valid:!0}:{valid:!1,message:"Email is not valid."}:{valid:!1,message:"Email is required."}}function Lt(t){return t?t.length<=4||t.length>=16?{valid:!1,message:"Password length must be between 4 and 16."}:{valid:!0}:{valid:!1,message:"This field is required"}}function Wt(t,e="This field"){return t?{valid:!0}:{valid:!1,message:`${e} is required`}}function At(t,e="This field"){return t?isNaN(t)?{valid:!1,message:`${e} must be a valid number`}:{valid:!0}:{valid:!1,message:`${e} is required`}}function $t(t,e){return t?t!==e?{valid:!1,message:"Passwords doesn't match"}:{valid:!0}:{valid:!1,message:"This field is required."}}function Et(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one variant to create a product !"}}function Tt(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one permission to create a role !"}}var Ft=r(7771),jt=r(8952);const It={key:0,class:"pa-2 tw-absolute !tw-z-[510000]"},Vt={class:"tw-text-sm"};function Ot(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(jt.V,null,{default:(0,s.w5)((()=>[o.state.active?((0,s.wg)(),(0,s.iD)("div",It,[(0,s.Wm)(Ft.w,{closable:"",density:"compact",variant:"flat",type:o.state.alert.type,position:"fixed",location:"bottom right",class:"ma-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Vt,(0,ot.zw)(o.state.alert.title),1)])),_:1},8,["type"])])):(0,s.kq)("",!0)])),_:1})])}var Ht={computed:{state(){return this.$store.getters["alert/alert"]}}};const Mt=(0,m.Z)(Ht,[["render",Ot]]);var Rt=Mt,Nt={components:{Alert:Rt},data(){return{localUrl:w,isLoading:!1,cookiesCleared:!1,error:{active:!1,message:""},email:"",password:"",emailStatus:{valid:!0,message:""},passwordStatus:{valid:!0,message:""},emailFocus:!1,passwordFocus:!1,showPassword:!1}},methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions","setUser"]),validateForm(){return this.emailStatus=Pt(this.email),this.passwordStatus=Lt(this.password),this.passwordStatus.valid&&this.emailStatus.valid},login(){this.validateForm()&&(this.isLoading=!0,this.error={active:!1,message:""},st.login({email:this.email,password:this.password}).then((t=>{if("AUTHENTICATION_SUCCESSFUL"==t.data.code){this.setUser(t.data.data.user),this.setIsLoggedIn(!0);const e=t.data.data.user.permissions;this.setPermissions(e),this.$router.push("/")}})).catch((t=>{this.$handleApiError(t),"INVALID_CREDENTIALS"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"NOT_ACTIVE_ERROR"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"VALIDATION_ERROR"==t.response?.data.code&&(this.emailStatus={valid:!1,message:t.response.data.error["email"][0]},this.passwordStatus={valid:!1,message:t.response.data.error["password"][0]})})).finally((()=>{this.isLoading=!1})),console.log("login..."))},resetError(t){"email"==t&&(this.emailStatus={valid:!0,message:""}),"password"==t&&(this.passwordStatus={valid:!0,message:""})}},mounted(){st.clear().then((()=>{this.cookiesCleared=!0}))}};const Yt=(0,m.Z)(Nt,[["render",qt]]);var Zt=Yt,Kt={name:"login",path:"/login",component:Zt,meta:{title:"Login"}},Bt=r(4454),Qt=r(3140);function Jt(t,e,r,a,l,o){const i=(0,s.up)("AppSidebar"),w=(0,s.up)("AppHeader"),n=(0,s.up)("Alert"),d=(0,s.up)("AlertNotification"),c=(0,s.up)("AppAnnonces"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoggedIn?((0,s.wg)(),(0,s.j4)(Bt.s,{key:0,"full-height":!0},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{active:l.drawer},null,8,["active"]),(0,s.Wm)(w,{onToggleSidebar:o.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Wm)(n),(0,s.Wm)(d),(0,s.Wm)(Qt.O,{class:"tw-bg-gray-50 tw-min-h-screen tw-overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(wt.K,{fluid:"",class:(0,ot.C_)(["scanner/code"==t.$route.name?"tw-p-0":"tw-p-2"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c),(0,s.Wm)(u)])),_:1},8,["class"])])),_:1}),l.showScrollUpButton?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.scrollToTop&&o.scrollToTop(...t)),class:"tw-fixed tw-shadow tw-text-sm tw-bottom-5 tw-right-3 tw-w-10 tw-h-10 tw-z-10 tw-rounded-full tw-bg-orange-400 tw-text-white"},[(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-transfer-up")])),_:1})])):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])}var Gt=r(6439),Xt=r(9156);const te={class:"tw-flex tw-items-center tw-gap-2"};function ee(t,e,r,l,o,i){const w=(0,s.up)("ToBePaid"),n=(0,s.up)("GlobalNotification"),d=(0,s.up)("HeaderMenu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Gt.L,{color:"white",density:"default",elevation:"0",class:"tw-border-b-0 !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-0 !tw-fixed tw-overflow-visible",absolute:!1},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s._)("div",te,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(w,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(n),(0,s.Wm)(d)])])),default:(0,s.w5)((()=>[(0,s.Wm)(Xt.g,{variant:"text",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.handleClick()),["stop"]))})])),_:2},[void 0]),1024)])}var re=r(652),ae=r(4075),se=r(8694),le=r(8793);const oe={class:"tw-relative"},ie=(0,s._)("div",{class:"tw-absolute tw-bottom-0 tw-border-2 tw-border-solid tw-border-white tw-right-0 tw-w-3 tw-h-3 tw-rounded-full tw-bg-green-500"},null,-1),we={key:0,class:"!tw-duration-100"},ne={class:"tw-absolute tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[200px] tw-min-h-[50px]"},de={class:"pa-2 d-flex tw-items-center tw-gap-2 tw-border-b tw-border-b-neutral-100"},ce={class:"d-flex flex-column justify-center"},ue={class:"tw-text-sm tw-text-neutral-800 text-capitalize"},pe={class:"tw-text-xs tw-rounded-lg tw-text-green-500 text-capitalize"},ge=(0,s._)("span",{class:"text-capitalize tw-text-neutral-700 tw-text-xs"}," Profile ",-1),me={class:"d-flex tw-items-center tw-gap-2"},he=(0,s._)("span",{class:"text-capitalize tw-text-red-700 tw-text-xs"}," Logout ",-1);function fe(t,e,r,a,l,o){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",oe,[(0,s.Wm)(it.T,{onClick:o.toggleMenu,icon:"","max-width":"35","max-height":"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(re.V,{size:"32"},{default:(0,s.w5)((()=>[(0,s.Wm)(se.f,{src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),ie])),_:1},8,["onClick"]),(0,s.Wm)(jt.Z5,null,{default:(0,s.w5)((()=>[l.isActive?((0,s.wg)(),(0,s.iD)("div",we,[(0,s._)("div",ne,[(0,s._)("div",de,[(0,s.Wm)(re.V,{size:"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(se.f,{eager:"",src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),(0,s._)("div",ce,[(0,s._)("div",ue,(0,ot.zw)(o.user.firstname)+" "+(0,ot.zw)(o.user.lastname),1),(0,s._)("div",pe,(0,ot.zw)(o.user.role),1)])]),(0,s.Wm)(ae.J),(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>o.closeMenu&&o.closeMenu(...t)),class:"d-flex tw-items-center tw-gap-2"},[(0,s.Wm)(it.T,{block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{class:"mr-2 tw-text-neutral-700"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-account-outline ")])),_:1}),ge])),_:1})]),(0,s.Wm)(ae.J),(0,s._)("div",me,[(0,s.Wm)(it.T,{onClick:o.logout,block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{class:(0,ot.C_)([{"tw-animate-pulse":l.loginOut},"mr-2 tw-text-red-700"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(l.loginOut?"mdi-power-settings":"mdi-power"),1)])),_:1},8,["class"]),he])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])),_:1})])),[[le.L,o.closeMenu]])}var be={data(){return{localUrl:w,isActive:!1,loginOut:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},logout(){this.loginOut=!0,st.logout().then((()=>{this.$store.dispatch("user/logout"),this.$router.push("/login")})).finally((()=>{this.loginOut=!1}))}},computed:{user(){return this.$store.getters["user/user"]}}};const ve=(0,m.Z)(be,[["render",fe]]);var xe=ve,ye=r(4870);class _e{async AllNotifications(t={}){return await E.getCookie(),A.get("api/app/all",{params:t})}async notifications(){return await E.getCookie(),A.get("api/app/notifications")}async Changestatus(){return await E.getCookie(),A.get("api/app/changestatus")}}var ke=new _e,Ce=r(6797),De=r.n(Ce),Se=r(6562);const ze={class:"tw-relative"},Ue={key:0,class:"!tw-duration-100"},qe={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[350px] tw-min-h-[50px]"},Pe=(0,s._)("p",{class:"tw-p-2 tw-text-lg"},"Notifications",-1),Le={key:0},We={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Ae={key:1},$e={key:0},Ee=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),Te=[Ee],Fe={class:"tw-text-sm"},je={class:"tw-ml-auto tw-mt-2 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},Ie={class:"tw-flex tw-justify-evenly tw-items-center tw-p-2"};var Ve={__name:"GlobalNotification",setup(t){const e=(0,i.oR)(),r=(0,ye.iH)(!1),a=(0,ye.iH)(!1),l=()=>{r.value=!r.value},o=()=>{r.value=!1},n=t=>{switch(t.priority){case"low":return"tw-bg-blue-50";case"medium":return"tw-bg-orange-100";case"high":return"tw-bg-red-100";default:return"tw-bg-gray-50"}},d=()=>{ke.notifications().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setData",t.data.data),e.dispatch("app/setCount",t.data.count),e.dispatch("app/sethighlighted",t.data.highlighted))})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))},c=()=>{ke.Changestatus().then((t=>{"SUCCESS"==t.data.code&&e.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))};(0,s.bv)((()=>{d()}));const u=(0,s.Fl)((()=>e.getters["app/notifications"]));return(t,e)=>{const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",ze,[(0,s.Wm)(it.T,{onClick:l,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(se.f,{width:"22",height:"22",src:(0,ye.SU)(w)+"assets/img/icons/notification-bing.svg"},null,8,["src"]),a.value&&u.value.count>0?((0,s.wg)(),(0,s.j4)(Se.G,{key:0,class:"tw-animate-bounce tw-scale-50",floating:"","offset-y":"20","offset-x":"5",color:"red",bordered:!0,location:"bottom right",content:u.value.count},null,8,["content"])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(jt.Z5,null,{default:(0,s.w5)((()=>[r.value?((0,s.wg)(),(0,s.iD)("div",Ue,[(0,s._)("div",qe,[Pe,a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Le,[(0,s._)("div",We,[(0,s.Wm)(nt.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),a.value?((0,s.wg)(),(0,s.iD)("div",Ae,[""==u.value.data?((0,s.wg)(),(0,s.iD)("div",$e,Te)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value.data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",{class:(0,ot.C_)([n(t),"tw-p-2 tw-border-y tw-flex tw-flex-col tw-border-neutral-100"])},[(0,s.Wm)(i,{to:`/sourcings/${t.action}`},{default:(0,s.w5)((()=>[(0,s._)("p",Fe,(0,ot.zw)(t.message),1)])),_:2},1032,["to"]),(0,s._)("div",je,(0,ot.zw)((0,ye.SU)(De())(t.created_at).fromNow()),1)],2)])))),128)),(0,s._)("div",Ie,[(0,s.Wm)(i,{to:"/notifications"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:e[0]||(e[0]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("View All")])),_:1})])),_:1}),(0,s.Wm)(it.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:c},{default:(0,s.w5)((()=>[(0,s.Uk)("Mark all as Read")])),_:1})])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),_:1})])),[[le.L,o]])}}};const Oe=Ve;var He=Oe;class Me{async update(t,e){return await E.getCookie(),A.post("api/factorisations/update/"+t,{factorisation_id:e.factorisation_id,delivery_id:e.delivery_id,price:e.price,commands_number:e.commands_number})}async updateComment(t,e){return await E.getCookie(),A.post("api/factorisations/update/comment/"+t,{comment:e.comment})}async updateMethod(t,e){return await E.getCookie(),A.post("api/v1/factorisation/update/"+t+"/method",{withdrawal_method_id:e})}async updatePaid(t,e){return await E.getCookie(),A.post("api/factorisations/update/payment/"+t,{paid:e})}async updateClose(t,e){return await E.getCookie(),A.post("api/factorisations/update/closing/"+t,{close:e})}async updateFees(t,e){return await E.getCookie(),A.post("api/factorisations/update/fees/"+t,{fees:e})}async uploadImage(t,e){return await E.getCookie(),W.post("api/factorisations/update/"+t+"/attachement",e)}async sumToBePaid(){return await E.getCookie(),A.get("api/v1/factorisation/sum")}async delete(t){return await E.getCookie(),A["delete"]("api/v1/factorisation/delete/"+t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/factorisation"+t,e)}async history(t){return await E.getCookie(),A.get("api/v1/factorisation/"+t+"/history")}}var Re=new Me;const Ne={key:0,class:"tw-text-emerald-600 tw-text-sm tw-font-semibold tw-rounded"},Ye={key:1};var Ze={__name:"ToBePaid",setup(t){const e=(0,i.oR)(),r=(0,ye.iH)(!1),a=()=>{Re.sumToBePaid().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("app/settobepaid",t.data.data.totalPrice),console.log(parseFloat(t.data.data.totalPrice).toFixed(2)))})).catch((t=>{console.error("API Error",t)})).finally((()=>{r.value=!0}))};(0,s.bv)((()=>{a()}));const l=(0,s.Fl)((()=>e.getters["app/factorisations"]));return(t,e)=>r.value?((0,s.wg)(),(0,s.iD)("div",Ne,(0,ot.zw)((0,ye.SU)(c))+(0,ot.zw)(parseFloat(l.value.tobepaid).toFixed(2)),1)):((0,s.wg)(),(0,s.iD)("div",Ye,[(0,s.Wm)(nt.t,{size:"medium",class:"tw-animate-spin",color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}};const Ke=Ze;var Be=Ke,Qe={emits:["toggleSidebar"],components:{HeaderMenu:xe,GlobalNotification:He,ToBePaid:Be},data(){return{localUrl:w}},computed:{},methods:{handleClick(){this.$emit("toggleSidebar")}}};const Je=(0,m.Z)(Qe,[["render",ee]]);var Ge=Je,Xe=r(9457),tr=r(2329),er=r(9657);const rr={class:"tw-h-[60px] tw-flex tw-items-center tw-justify-center tw-max-w-[200px]"},ar=["src"];function sr(t,e,r,a,l,o){const i=(0,s.up)("SidebarItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(er.V,{modelValue:l.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>l.drawer=t),location:"left",absolute:!1,class:"!tw-top-0 !tw-fixed"},{default:(0,s.w5)((()=>[(0,s.Wm)(Xe.l,{class:"tw-py-3"},{default:(0,s.w5)((()=>[(0,s._)("div",rr,[(0,s._)("img",{class:"tw-w-full",src:l.localUrl+"images/logo.png"},null,8,ar)])])),_:1}),(0,s.Wm)(tr.i,{class:"mt-2",nav:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.links,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,link:t},null,8,["link"])))),128))])),_:1})])),_:1},8,["modelValue"])])}const lr=[4,6,7],or=[{id:1,title:"Dashboard",module:"dashboard",hasChildren:!0,gate:"all",icon:{type:"icon",value:"mdi-chart-box-outline"},children:[{id:1,title:"Overview",subModule:"dashboard/dashboard",gate:"all",to:"/"},{id:2,title:"Finance",subModule:"dashboard/analytics",role:["admin"],to:"/analytics"}]},{id:1,title:"Analytics",module:"analytics",hasChildren:!0,role:["admin"],icon:{type:"icon",value:"mdi-chart-arc"},children:[{id:1,title:"Sellers",subModule:"analytics.admin.sellers",gate:"all",to:"/admin/analytics/sellers"}]},{id:2,module:"sourcing",title:"Sourcing",hasChildren:!0,role:["admin","seller"],icon:{type:"icon",value:"mdi-truck-outline"},children:[{id:1,title:"Request a new product",subModule:"sourcing/new",role:["seller"],to:"/sourcings/new"},{id:2,title:"All Requests",subModule:"sourcing/index",role:["seller","admin"],to:"/sourcings"}]},{id:2,module:"product",title:"Product",hasChildren:!0,gate:"access_to_products",icon:{type:"svg",value:"assets/img/icons/product.svg"},children:[{id:1,title:"Products List",subModule:"product/list",gate:"show_all_products",to:"/products"},{id:2,title:"New Products List",subModule:"product/newlist",gate:"show_all_products",to:"/newproducts"},{id:3,title:"Add Product",subModule:"product/add",gate:"create_product",to:"/products/add"},{id:4,title:"Supply Requests",subModule:"product/seller/request",gate:"access_to_seller_sales",to:"/products/seller/request"},{id:5,title:"Supply Requests",subModule:"product/admin/request",gate:"access_to_sales",to:"/products/admin/request"}]},{id:3,module:"track",title:"Tracking",hasChildren:!0,gate:"none",icon:{type:"icon",value:"mdi-radar"},children:[{id:1,title:"Deliveries",subModule:"track/delivery",gate:"none",to:"/tracking/delivery"}]},{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Sales list",subModule:"sale/list",gate:"show_all_sales",to:"/sales"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]},{id:10,module:"sellersale",title:"Seller Sales",hasChildren:!0,gate:"access_to_seller_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Seller Sales",subModule:"seller/list",gate:"show_seller_sales",to:"/seller/list"}]},{id:5,module:"factorisation",title:"Factorisation",hasChildren:!0,gate:"access_to_factorisations",icon:{type:"icon",value:"mdi-note-multiple"},children:[{id:1,title:"Factorisation list",subModule:"factorisation/list",gate:"show_all_factorisations",to:"/factorisations"}]},{id:20,module:"ads",title:"Ads",hasChildren:!0,gate:"access_to_ads",icon:{type:"icon",value:"mdi-google-ads"},children:[{id:1,title:"Ads list",subModule:"ads/list",gate:"show_all_factorisations",to:"/ads"}]},{id:10,module:"affiliate",title:"Affiliate",hasChildren:!0,gate:"access_to_affiliate",role:["admin","seller"],icon:{type:"icon",value:"mdi-bookshelf"},children:[{id:1,title:"All Products",subModule:"affiliate.admin.list",to:{name:"affiliate.admin.list"}},{id:2,title:"Create new product",subModule:"affiliate.admin.create",role:["admin"],gate:"create_affiliate_product",to:{name:"affiliate.admin.create"}},{id:3,title:"Winning Products",subModule:"affiliate.index",role:["admin","seller"],gate:"access_to_affiliate",to:{name:"affiliate.index"}},{id:4,title:"Import list",subModule:"affiliate.import",role:["admin","seller"],gate:"access_to_affiliate",to:{name:"affiliate.import"}},{id:5,title:"My wishlist",subModule:"affiliate.wishlist",role:["admin","seller"],gate:"access_to_affiliate",to:{name:"affiliate.wishlist"}}]},{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Order",subModule:"order/show",gate:"show_all_orders",to:"/order"},{id:2,title:"My Orders",subModule:"order/list",gate:"show_all_orders",to:"/orders"},{id:3,title:"Confirmed Orders",subModule:"order/confirmed",gate:"show_all_orders",to:"/orders/confirmed"}]},{id:7,module:"delivery",title:"Orders",hasChildren:!0,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders List",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries"},{id:2,title:"Orders Delivered",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered"}]},{id:8,module:"inventory",title:"Inventory",hasChildren:!0,gate:"access_to_inventory x",icon:{type:"icon",value:"mdi-warehouse"},children:[{id:1,title:"Inventory State",gate:"show_all_inventory_states",subModule:"inventory/state",to:"/inventories"},{id:2,title:"Inventory Movements",gate:"show_all_inventory_movements",subModule:"inventory/movements",to:"/inventories/movements"},{id:4,title:"Add Movement",gate:"create_inventory_movement",subModule:"inventory/add",to:"/inventories/add"}]},{id:9,module:"shop",title:"Shop",hasChildren:!0,gate:"access_to_shop",icon:{type:"icon",value:"mdi-store"},children:[{id:1,title:"Shop List",gate:"show_all_shops",subModule:"shop/list",to:"/shops"},{id:2,title:"Add Shop",gate:"create_shop",subModule:"shop/add",to:"/shops/add"}]},{id:10,module:"warehouse",title:"Warehouses",hasChildren:!0,gate:"access_to_warehouse",icon:{type:"icon",value:"mdi-home-group"},children:[{id:1,title:"Warehouses list",subModule:"warehouse/list",gate:"show_all_warehouses",to:"/warehouses"}]},{id:11,title:"Users",module:"user",gate:"access_to_users",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/users1.svg"},children:[{id:1,title:"Users List",subModule:"user/list",gate:"show_all_users",to:"/users"},{id:2,title:"Add User",subModule:"user/add",gate:"create_user",to:"/users/add"},{id:3,title:"Roles List",subModule:"user/roles",gate:"show_all_roles",to:"/users/roles"},{id:4,title:"Add Role",subModule:"user/addRole",gate:"create_role",to:"/users/addRole"}]},{id:15,title:"Sheets",module:"sheets",to:"/sheets",gate:"access_to_sheets",hasChildren:!1,icon:{type:"icon",value:"mdi-note-text-outline"}},{id:15,title:"Alerts",module:"alert",role:["admin"],to:"/alerts",icon:{type:"icon",value:"mdi-bell-alert-outline"}},{id:16,title:"Scanner",module:"scanner",to:"/scanner",role:"admin",gate:"stock_management",hasChildren:!1,icon:{type:"icon",value:"mdi-qrcode"}},{id:12,title:"Settings",module:"settings",role:["admin","seller"],hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/settings.svg"},children:[{id:1,title:"Cron Jobs",subModule:"settings/cronJobs",role:"admin",to:"/settings/cronJobs"},{id:2,title:"Account",subModule:"settings/account",role:"admin",to:"/settings/account"},{id:3,title:"Withdrawal methods",subModule:"settings/account",role:["admin","seller"],to:{name:"settings.seller.withdrawal-methods"}}]},{id:13,title:"Orders",module:"followup",to:"/followup",hasChildren:!1,gate:"follow_up_orders",icon:{type:"icon",value:"mdi-package-variant-closed"}}];var ir=r(9234),wr=r(2127);const nr={key:0},dr={class:"d-flex align-center"},cr={class:"tw-rounded-md tw-bg-gray-50"},ur={class:"tw-h-full py-2"},pr={key:1},gr={key:2},mr={key:3};function hr(t,e,r,a,l,o){const i=(0,s.up)("SidebarSales"),w=(0,s.up)("SidebarDelivery"),n=(0,s.up)("SidebarAgente");return(0,s.wg)(),(0,s.iD)("div",null,[!t.$can(r.link.gate)&&!r.link.role?.includes(o.user.role)&&"all"!=r.link.gate||l.disabled_links.includes(r.link.id)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",nr,[(0,s.Wm)(Xe.l,{class:(0,ot.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.link.hasChildren?"":r.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",dr,["icon"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,icon:r.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(se.f,{key:1,src:l.localUrl+r.link.icon.value,"max-width":"18",class:(0,ot.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(wr.V,{class:(0,ot.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,ot.zw)(r.link.title)},null,8,["class","textContent"]),(0,s.Wm)(ir.C),r.link.hasChildren?((0,s.wg)(),(0,s.j4)(nt.t,{key:2,class:(0,ot.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),r.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",cr,[(0,s.Wm)(tr.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(Xe.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",ur,[(0,s.Wm)(nt.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,ot.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,ot.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])),4==r.link.id?((0,s.wg)(),(0,s.iD)("div",pr,[(0,s.Wm)(i)])):(0,s.kq)("",!0),7==r.link.id?((0,s.wg)(),(0,s.iD)("div",gr,[(0,s.Wm)(w)])):(0,s.kq)("",!0),8==r.link.id?((0,s.wg)(),(0,s.iD)("div",mr,[(0,s.Wm)(n)])):(0,s.kq)("",!0)])}const fr={key:0},br={class:"d-flex align-center"},vr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},xr={key:1,class:"tw-text-xs"},yr={class:"tw-rounded-md tw-bg-gray-50"},_r={class:"tw-h-full py-2"};function kr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",fr,[(0,s.Wm)(Xe.l,{class:(0,ot.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:l.link.hasChildren?"":l.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",br,["icon"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,icon:l.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(se.f,{key:1,src:l.localUrl+l.link.icon.value,"max-width":"18",class:(0,ot.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(wr.V,{class:(0,ot.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,ot.zw)(l.link.title)},null,8,["class","textContent"]),(0,s._)("div",vr,[(l.isLoaded,(0,s.kq)("",!0)),(l.isLoaded,(0,s.wg)(),(0,s.iD)("p",xr,(0,ot.zw)(o.count),1))]),(0,s.Wm)(ir.C),l.link.hasChildren?((0,s.wg)(),(0,s.j4)(nt.t,{key:2,class:(0,ot.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),l.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",yr,[(0,s.Wm)(tr.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(Xe.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",_r,[(0,s.Wm)(nt.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,ot.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,ot.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var Cr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:4,title:"New Sales list",subModule:"sale/newlist",gate:"show_all_sales",to:"/sales/new"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},sales(){return this.$store.getters["sale/sales"]},count(){return this.$store.getters["sale/count"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Dr=(0,m.Z)(Cr,[["render",kr],["__scopeId","data-v-419eeb7c"]]);var Sr=Dr;const zr={key:0},Ur={class:"d-flex align-center"},qr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Pr={key:1,class:"tw-text-xs"};function Lr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",zr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(Xe.l,{class:(0,ot.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Ur,[(0,s.Wm)(nt.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(wr.V,{class:(0,ot.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,ot.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(ir.C),(0,s._)("div",qr,[o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(nt.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.fetched?((0,s.wg)(),(0,s.iD)("p",Pr,(0,ot.zw)(1==r.id?o.orders.length-o.deliveredOrders.length:o.deliveredOrders.length),1)):(0,s.kq)("",!0)])])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}class Wr{async delivery(){return await E.getCookie(),A.get("api/dashboard/delivery")}async agente(){return await E.getCookie(),A.get("api/dashboard/agente")}}var Ar=new Wr,$r={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:7,module:"delivery",title:"Orders",hasChildren:!1,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries",icon:"mdi-truck"},{id:2,title:"Delivered Orders",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered",icon:"mdi-truck-check"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path},getOrders(){return this.isLoaded=!1,Ar.delivery().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("order/setAllOrders",e),this.$store.dispatch("order/setFetched",!0),this.isLoaded=!0}console.log(t)})).catch(this.$handleApiError)}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},orders(){return this.$store.getters["order/allOrders"].filter((t=>"confirmer"==t.confirmation))},deliveredOrders(){return this.orders.filter((t=>"livrer"==t.delivery))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive(),this.$can(this.link.gate)&&this.getOrders()}};const Er=(0,m.Z)($r,[["render",Lr],["__scopeId","data-v-69fa82e9"]]);var Tr=Er;const Fr={key:0},jr={class:"d-flex align-center"},Ir={key:0,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Vr={key:1,class:"tw-text-xs"},Or={key:1,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Hr={key:1,class:"tw-text-xs"};function Mr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",Fr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(Xe.l,{class:(0,ot.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",jr,[(0,s.Wm)(nt.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(wr.V,{class:(0,ot.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,ot.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(ir.C),1!=r.id?((0,s.wg)(),(0,s.iD)("div",Ir,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(nt.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Vr,(0,ot.zw)(4==r.id?o.state.totalNotConfirmed:o.state.totalConfirmed),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),1==r.id?((0,s.wg)(),(0,s.iD)("div",Or,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(nt.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Hr,(0,ot.zw)(o.state.totalAvailable),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}var Rr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Add Order",subModule:"agent/orders/add",gate:"show_all_orders",to:"/agent/orders/add",icon:"mdi-plus-box"},{id:4,title:"Orders",subModule:"agent/orders",gate:"show_all_orders",to:"/agent/orders",icon:"mdi-package-variant-closed"},{id:5,title:"Confirmed Orders",subModule:"agent/orders/confirmed",gate:"show_all_orders",to:"/agent/orders/confirmed",icon:"mdi-checkbox-marked"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},state(){return this.$store.getters["agent/state"]},orders(){return this.$store.getters["order/allOrders"]},myOrders(){return this.orders.filter((t=>"confirmer"!=t.confirmation))},confirmedOrders(){return this.orders.filter((t=>"confirmer"==t.confirmation))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Nr=(0,m.Z)(Rr,[["render",Mr],["__scopeId","data-v-26146d6f"]]);var Yr=Nr,Zr={props:["link"],components:{SidebarSales:Sr,SidebarDelivery:Tr,SidebarAgente:Yr},data(){return{localUrl:w,disabled_links:lr,isActive:!1}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to||this.$route.name==t.to?.name},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate||t.role?.includes(this.user.role)))},user(){return this.$store.getters["user/user"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Kr=(0,m.Z)(Zr,[["render",hr],["__scopeId","data-v-5df4c53a"]]);var Br=Kr,Qr={components:{SidebarItem:Br},props:["active"],data(){return{localUrl:w,drawer:!0,links:or}},computed:{},watch:{active(){this.drawer=!this.drawer}},methods:{},mounted(){this.$vuetify.display.mdAndDown&&(this.drawer=!1)}};const Jr=(0,m.Z)(Qr,[["render",sr]]);var Gr=Jr;const Xr={key:0,class:"tw-space-y-2 tw-mb-5 tw-opacity-100"},ta=["dir"],ea={class:"tw-flex tw-items-start"},ra={class:"tw-p-2"},aa={class:"tw-p-2"},sa={class:"tw-text-white tw-font-semibold"},la={key:0,class:"tw-flex-1"},oa={key:1,class:"tw-pt-2 tw-pr-2"},ia=["onClick"];var wa={__name:"AppAnnonces",setup(t){const e=(0,s.Fl)((()=>rt.getters["app/alerts"])),r=(0,s.Fl)((()=>rt.getters["user/user"])),l=(0,ye.iH)([]),o=(0,s.Fl)((()=>e.value.data.filter((t=>!l.value.includes(r.value.id+"*"+t.id))))),i=t=>{l.value.push(r.value.id+"*"+t),localStorage.setItem("closed_alerts",JSON.stringify(l.value))},w=()=>{const t=localStorage.getItem("closed_alerts");null==t?localStorage.setItem("closed_alerts",JSON.stringify([])):l.value=JSON.parse(t)};return w(),(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(a.uT,{class:"tw-duration-500","enter-from-class":"!tw-opacity-0","leave-to-class":"!tw-opacity-0"},{default:(0,s.w5)((()=>[e.value.fetched&&o.value.length?((0,s.wg)(),(0,s.iD)("div",Xr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,dir:t.direction,class:(0,ot.C_)([["danger"==t.variant&&"tw-bg-rose-500","info"==t.variant&&"tw-bg-cyan-500","warning"==t.variant&&"tw-bg-amber-500","success"==t.variant&&"tw-bg-emerald-500"],"tw-h-fit tw-w-full tw-border tw-border-solid"])},[(0,s._)("div",ea,[(0,s._)("div",ra,[(0,s.Wm)(l,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl tw-text-white"})]),(0,s._)("div",aa,[(0,s._)("p",sa,(0,ot.zw)(t.content),1)]),t.closeable?((0,s.wg)(),(0,s.iD)("div",la)):(0,s.kq)("",!0),t.closeable?((0,s.wg)(),(0,s.iD)("div",oa,[(0,s._)("button",{onClick:e=>i(t.id),class:"tw-p-1 hover:tw-bg-white/10 tw-duration-200 tw-rounded-full"},[(0,s.Wm)(l,{icon:"iconamoon:close-duotone",class:"tw-text-white tw-text-lg"})],8,ia)])):(0,s.kq)("",!0)])],10,ta)))),128))])):(0,s.kq)("",!0)])),_:1})}}};const na=wa;var da=na;class ca{async paginate(t="",e){return await E.getCookie(),A.get("api/alerts"+t,{params:e})}async alerts(){return await E.getCookie(),A.get("api/my-alerts")}async create(t){return await E.getCookie(),A.post("api/alerts",t)}async update(t,e){return await E.getCookie(),A.post("api/alerts/"+t,e)}async get(t){return await E.getCookie(),A.get("api/alerts/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/alerts/"+t)}}var ua=new ca;class pa{async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/products"+t,e)}async create(t){await E.getCookie();const e=new FormData;return e.append("name",t.name),e.append("buying_price",t.buyingPrice),e.append("selling_price",t.sellingPrice),e.append("ref",t.reference),e.append("link_video",t.link_video),e.append("link_store",t.link_store),e.append("transport_mode",t.transport_mode),e.append("expedition_date",t.expedition_date),e.append("country_of_purchase",t.country_of_purchase),e.append("variations",JSON.stringify(t.variants)),e.append("offers",JSON.stringify(t.offers)),e.append("description",t.description),e.append("image",t.image),e.append("deliveries",JSON.stringify(t.selectedDeliveries)),W.post("api/products/new",e)}async update(t,e){await E.getCookie();const r=new FormData;return r.append("name",e.name),r.append("buying_price",e.buyingPrice),r.append("selling_price",e.sellingPrice),r.append("ref",e.reference),r.append("link_video",e.link_video),r.append("link_store",e.link_store),r.append("transport_mode",e.transport_mode),r.append("expedition_date",e.expedition_date),r.append("country_of_purchase",e.country_of_purchase),r.append("variations",JSON.stringify(e.variants)),r.append("offers",JSON.stringify(e.offers)),r.append("description",e.description),r.append("image",e.image),r.append("deliveries",JSON.stringify(e.selectedDeliveries)),W.post("api/products/update/"+t,r)}async updateStatus(t,e){await E.getCookie();const r=new FormData;return r.append("status",e.status),r.append("note",e.note),W.post("api/products/status/update/"+t,r)}async all(){return await E.getCookie(),A.get("api/products")}async allForOrder(t){return await E.getCookie(),A.get("api/products/for-order/"+t)}async getProduct(t){return await E.getCookie(),A.get("api/products/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/products/delete/"+t)}async stockAlert(){return await E.getCookie(),A.get("api/product/stockAlert")}}var ga=new pa;class ma{async all(){return await E.getCookie(),A.get("api/sales")}async delete(t){return await E.getCookie(),A.get("api/sales/delete/"+t)}async update(t,e){return await E.getCookie(),A.post("api/orders/update/"+t,e)}async create(t){return await E.getCookie(),A.post("api/sales/new",t)}async getNewOrders(t){return await E.getCookie(),A.post("api/sales/fresh",{ids:t})}async agenteOrders(){return await E.getCookie(),A.get("api/orders")}async agenteConfirmedOrders(){return await E.getCookie(),A.get("api/orders/confirmer")}async agenteAddOrder(){return await E.getCookie(),A.get("api/orders/add")}async agenteGetOrder(){return await E.getCookie(),A.get("api/orders/toconfirmate")}async agenteUpdateConfirmation(t,e,r={}){return await E.getCookie(),A.post("api/orders/update/confirmation/"+t,{confirmation:e,...r})}async agenteUpdateConfirmationWithNote(t,e,r){return await E.getCookie(),A.post("api/orders/update/confirmationandnote/"+t,{confirmation:e,note:r})}async agenteUpdateUpsell(t,e){return await E.getCookie(),A.post("api/orders/update/upsell/"+t,{upsell:e})}async agenteUpdateAffectaion(t,e){return await E.getCookie(),A.post("api/orders/update/affectation/"+t,{affectation:e})}async agenteUpdateNote(t,e){return await E.getCookie(),A.post("api/orders/update/note/"+t,{note:e})}async deliveryOrders(){return await E.getCookie(),A.get("api/orders/todelivery")}async deliveryDeliveredOrders(){return await E.getCookie(),A.get("api/orders/delivred")}async deliveryUpdateDelivery(t,e,r){return await E.getCookie(),A.post("api/orders/update/delivery/"+t,{delivery:e,...r})}async history(t){return await E.getCookie(),A.get("api/orders/history/show/"+t)}async itemHistory(t){return await E.getCookie(),A.get("api/orders/item/history/show/"+t)}async resetSale(t){return await E.getCookie(),A.post("api/sales/reset",{ids:t})}async scanSale(t){return await E.getCookie(),A.post("api/sales/scan",t)}async availableOrders(){return await E.getCookie(),A.get("api/orders/count")}async warehouseControl(t,e){return await E.getCookie(),A.post("api/warehouse-control",{id:t,target:e.target,scanned:e.scanned})}}var ha=new ma;const fa={key:0,class:"tw-w-[400px] tw-fixed tw-top-[70px] !tw-z-[510000] tw-right-[5px]"},ba={class:"tw-flex tw-items-center tw-justify-between tw-text-neutral-400 tw-mt-2"},va={class:"tw-text-xs"},xa=["disabled"],ya=(0,s._)("div",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap tw-ml-[70%]"},null,-1);var _a={__name:"AlertNotification",setup(t){const e=(0,ye.iH)(!0),r=(0,i.oR)(),a=(0,ye.iH)(!1),l=async()=>{a.value=!0,await ke.Changestatus().then((t=>{"SUCCESS"==t.data.code&&r.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})),e.value=!1,a.value=!1},o=(0,s.Fl)((()=>r.getters["app/notifications"].highlighted));return(t,r)=>((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[o.value&&e.value?((0,s.wg)(),(0,s.iD)("div",fa,[(0,s.Wm)(Ft.w,{color:"white",border:"start","border-color":"success",elevation:"2",density:"compact"},{text:(0,s.w5)((()=>[(0,s._)("p",null,(0,ot.zw)(o.value.message),1),(0,s._)("div",ba,[(0,s._)("span",va,(0,ot.zw)((0,ye.SU)(De())(o.value.created_at).fromNow()),1),(0,s._)("button",{disabled:a.value,onClick:l,class:"tw-p-0.5 tw-px-4 hover:tw-bg-neutral-100 tw-text-sm"},(0,ot.zw)(a.value?"Closing...":"Close"),9,xa)])])),default:(0,s.w5)((()=>[ya])),_:1})])):(0,s.kq)("",!0)]))}};const ka=_a;var Ca=ka,Da={components:{AppHeader:Ge,AppSidebar:Gr,Alert:Rt,AlertNotification:Ca,AppAnnonces:da},data(){return{drawer:!1,subscribed:!1,fetching:null,delay:6e4,showScrollUpButton:!1,firstFetch:!1}},computed:{isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},sales(){return this.$store.getters["sale/sales"]},salesFetched(){return this.$store.getters["sale/fetched"]}},methods:{toggleSidebar(){this.drawer=!this.drawer},checkScroll(){this.showScrollUpButton=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},async getCities(){if(0==this.cities.length||1!=localStorage.getItem("update_cities"))return st.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e),localStorage.setItem("update_cities",1)}))},getUsers(){st.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ga.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getSales(){return this.isLoaded=!1,ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)},async fetchNewOrders(){if(this.salesFetched||!this.firstFetch){const t=this.sales.map((t=>t.id));return ha.getNewOrders(t).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders,r=t.data.data.count;this.$store.dispatch("sale/setCount",r),e.length>0&&(this.$store.dispatch("sale/addSales",e),this.$alert({type:"info",title:e.length+" New orders has been added"})),this.firstFetch=!0}}))}},async getAlerts(){return ua.alerts().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.alerts;this.$store.dispatch("app/setAlertsData",e),this.$store.dispatch("app/setAlertsFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}},watch:{$route(){"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts")}},mounted(){this.getCities(),this.getAlerts(),"admin"==this.user.role&&this.fetchNewOrders(),this.$can("show_all_products")&&this.getProducts(),"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts"),this.getUsers(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll)}};const Sa=(0,m.Z)(Da,[["render",Jt]]);var za=Sa;const Ua={key:0};function qa(t,e,r,a,l,o){return l.exists?((0,s.wg)(),(0,s.iD)("div",Ua,[((0,s.wg)(),(0,s.j4)((0,s.LL)(o.dashboard)))])):(0,s.kq)("",!0)}var Pa=r(6824),La=r(8521);const Wa={key:0},Aa={key:1},$a=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Ea={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Ta={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Fa={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},ja=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),Ia=["disabled"],Va={key:0,class:"tw-flex tw-items-center tw-gap-2"},Oa={key:1},Ha=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Ma={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Ra(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable"),n=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Wa,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Aa,[$a,(0,s._)("div",Ea,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1})]),(0,s._)("div",Ta,[(0,s._)("div",Fa,[ja,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Va,[(0,s.Wm)(nt.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Oa,[Ha,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,Ia)])]),(0,s._)("div",Ma,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(La.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(La.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(La.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Na=r(4286);const Ya={class:"tw-flex tw-items-center"},Za={class:"tw-flex tw-flex-col tw-h-full tw-text-neutral-600"},Ka={class:"tw-text-lg tw-font-bold"},Ba={class:"tw-text-sm"};function Qa(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(Na.C,{class:"tw-rounded-lg tw-border pa-5 py-2",color:"white",height:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",Ya,[(0,s._)("div",{class:(0,ot.C_)([o.bgColor,"pa-3 rounded-circle tw-w-fit tw-mr-3"])},[(0,s.Wm)(nt.t,{color:r.dash.color,size:"large",icon:r.dash.icon},null,8,["color","icon"])],2),(0,s._)("div",Za,[(0,s._)("p",Ka,(0,ot.zw)(r.dash.value),1),(0,s.Wm)(ir.C),(0,s._)("p",Ba,(0,ot.zw)(r.dash.title),1)])])])),_:1})}var Ja={props:["dash"],computed:{bgColor(){const t={orange:"tw-bg-orange-500/10",green:"tw-bg-green-500/10",blue:"tw-bg-blue-500/10",pink:"tw-bg-pink-500/10",red:"tw-bg-red-500/10",yellow:"tw-bg-yellow-500/10"};return t[this.dash.color]}}};const Ga=(0,m.Z)(Ja,[["render",Qa]]);var Xa=Ga;const ts={key:0,class:""},es={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},rs=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),as=[rs],ss={key:1,class:"tw-min-h-[50px]"},ls={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},os={class:"py-2 px-3 tw-rounded tw-border tw-grid tw-grid-cols-12"},is={class:"tw-col-span-12 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},ws={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs"},ns={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},ds=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-red-400"},null,-1),cs={key:1},us={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},ps=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),gs={key:1,class:"tw-flex tw-items-center tw-gap-2"},ms=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-yellow-400"},null,-1);function hs(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ts,[(0,s._)("div",es,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},as))),64))])])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",ss,[(0,s._)("div",ls,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",os,[(0,s._)("div",is,(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),1),(0,s._)("div",ws,[t.last_action?((0,s.wg)(),(0,s.iD)("div",cs,[1==o.isOnline(o.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",us,[ps,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",gs,[ms,(0,s.Uk)(" "+(0,ot.zw)(o.lastSeen(t.last_action)),1)]))])):((0,s.wg)(),(0,s.iD)("div",ns,[ds,(0,s.Uk)(" Never Connected ")]))])])])))),128))]),(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var fs=r(8777),bs={components:{},data(){return{isLoaded:!1}},computed:{users(){return this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name))}},methods:{getUsers(){st.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),console.log(t),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,fs.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const vs=(0,m.Z)(bs,[["render",hs]]);var xs=vs,ys=r(1489),_s=r(3144),ks=r(9870),Cs=r(6161),Ds=r(4722);function Ss(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(ys._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(_s.d,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>l.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(ks.L,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(Cs.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Ds.H,{key:t.id,value:t.id,transition:"fade-transition","reverse-transition":"fade-transition"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component),{"filtered-sales":r.filteredSales},null,8,["filtered-sales"]))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const zs={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},Us={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},qs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ps={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ls={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ws={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},As={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},$s={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Es(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",zs,[(0,s._)("div",Us,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",qs,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Ps,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Ls,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Ws,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",As,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",$s,[(0,s.Wm)(i,{dash:o.transferSales},null,8,["dash"])])])])}const Ts={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},Fs={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},js={class:"tw-text-xl tw-font-bold"},Is={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},Vs={class:"tw-text-sm"},Os={class:"rounded-circle tw-w-fit tw-mr-3"};function Hs(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Na.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",Ts,[(0,s._)("div",Fs,[(0,s._)("p",js,(0,ot.zw)(isNaN(r.dash.pourcentage)?"0.00%":r.dash.pourcentage)+" "+(0,ot.zw)(r.symbol),1),(0,s._)("span",Is,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",Vs,(0,ot.zw)(r.dash.title),1)])]),(0,s._)("div",Os,[(0,s.Wm)(nt.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var Ms={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Rs=(0,m.Z)(Ms,[["render",Hs]]);var Ns=Rs,Ys={components:{DashItemTwo:Ns},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.sales.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"livrer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.delivery))).length,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"expidier"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-orange",icon:"mdi-truck"}},transferSales(){return{id:8,title:"Transferred",value:this.sales.filter((t=>"transfer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"transfer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"purple-darken-1",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},mounted(){ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Zs=(0,m.Z)(Ys,[["render",Es]]);var Ks=Zs;const Bs={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},Qs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Js={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Gs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Xs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},tl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},el={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},rl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},al={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function sl(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Bs,[(0,s._)("div",Qs,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Js,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Gs,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",Xs,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",tl,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",el,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",rl,[(0,s.Wm)(i,{dash:o.doubledSales},null,8,["dash"])]),(0,s._)("div",al,[(0,s.Wm)(i,{dash:o.wrongNumberSales},null,8,["dash"])])])])}var ll={components:{DashItemTwo:Ns},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",pourcentage:100,value:this.sales.length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>!t.confirmation)).length/this.sales.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.confirmation)).length/this.sales.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}},doubledSales(){return{id:8,title:"Doubled",pourcentage:(100*this.sales.filter((t=>"double"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"double"==t.confirmation)).length,color:"purple-accent-4",icon:"mdi mdi-selection-multiple"}},wrongNumberSales(){return{id:9,title:"Wrong Number",pourcentage:(100*this.sales.filter((t=>"wrong-number"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"wrong-number"==t.confirmation)).length,color:"purple-lighten-1",icon:"mdi mdi-phone-remove"}}},mounted(){ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const ol=(0,m.Z)(ll,[["render",sl]]);var il=ol,wl={components:{DeliveryTab:Ks,ConfirmationTab:il},props:["filteredSales"],data(){return{tab:1,tabs:[{id:1,name:"Confirmation",component:"ConfirmationTab"},{id:2,name:"Delivery",component:"DeliveryTab"}]}}};const nl=(0,m.Z)(wl,[["render",Ss]]);var dl=nl;const cl={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4 py-5"},ul={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},pl={class:"tw-relative"},gl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ml={class:"tw-relative"},hl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},fl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agents",-1),bl={class:"tw-relative"},vl=(0,s._)("option",{value:"all"},"Select",-1),xl=["value"],yl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},_l=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Deliveries",-1),kl={class:"tw-relative"},Cl=(0,s._)("option",{value:"all"},"Select",-1),Dl=["value"],Sl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},zl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Cities",-1),Ul={class:"tw-relative"},ql=(0,s._)("option",{value:"all"},"Select",-1),Pl=["value"],Ll={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Wl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Products",-1),Al={class:"tw-relative"},$l=(0,s._)("option",{value:"all"},"Select",-1),El=["value"],Tl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Fl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Shops",-1),jl={class:"tw-relative"},Il=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Vl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Ol=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Sources",-1),Hl={class:"tw-relative"},Ml=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Rl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Nl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),Yl={class:"tw-relative"},Zl=(0,s._)("option",{value:"all"},"Select",-1),Kl=(0,s._)("option",{value:"oui"},"Oui",-1),Bl=(0,s._)("option",{value:"non"},"Non",-1),Ql=[Zl,Kl,Bl];function Jl(t,e,r,l,o,i){const w=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",cl,[(0,s._)("div",ul,[(0,s._)("div",pl,[(0,s.Wm)(w,{name:"Created Date",filter:o.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>o.dateFilter=t)},null,8,["filter"])])]),(0,s._)("div",gl,[(0,s._)("div",ml,[(0,s.Wm)(w,{name:"Dropped Date",filter:o.droppedAtFilter,"onUpdate:filter":e[1]||(e[1]=t=>o.droppedAtFilter=t)},null,8,["filter"])])]),(0,s._)("div",hl,[fl,(0,s._)("div",bl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.agentFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[vl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,xl)))),128))],512),[[a.bM,o.agentFilter]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",yl,[_l,(0,s._)("div",kl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Cl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,Dl)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Sl,[zl,(0,s._)("div",Ul,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.cityFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[ql,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,ot.zw)(t.name),9,Pl)))),128))],512),[[a.bM,o.cityFilter]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ll,[Wl,(0,s._)("div",Al,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[$l,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,El)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Tl,[Fl,(0,s._)("div",jl,[Il,(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Vl,[Ol,(0,s._)("div",Hl,[Ml,(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Rl,[Nl,(0,s._)("div",Yl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.upsellFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},Ql,512),[[a.bM,o.upsellFilter]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0)])}const Gl={class:"tw-text-sm tw-text-neutral-600"},Xl=["onClick"];function to(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Gl,(0,ot.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,ot.zw)(t),9,Xl)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var eo=r(1271),ro=r(2292),ao=r(1745),so=r(4253),lo=r(4819),oo=r(2143),io={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,eo.Z)(new Date,1),(0,eo.Z)(new Date,1)]},{label:"This month",range:[(0,ro.Z)(new Date),(0,ao.Z)(new Date)]},{label:"Last month",range:[(0,ro.Z)((0,so.Z)(new Date,1)),(0,ao.Z)((0,so.Z)(new Date,1))]},{label:"This year",range:[(0,lo.Z)(new Date),(0,oo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const wo=(0,m.Z)(io,[["render",to]]);var no=wo,co={components:{DateFilter:no},props:["filters"],data(){return{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""],isLoaded:!1,dashItems:[{id:1,title:"Total Chiffres d'affaire",value:1200,icon:"mdi-currency-usd",color:"green"},{id:2,title:"Chiffres d'affaire versé",value:"35000 DH",icon:"mdi mdi-credit-card-check-outline",color:"orange"},{id:3,title:"Chiffres d'affaire non versé",value:600,icon:"mdi mdi-credit-card-remove-outline",color:"red"},{id:4,title:"Chiffres d'affaire en caisse",value:543,icon:"mdi mdi-bank",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},watch:{agentFilter(t){this.$emit("update:filters",{...this.filters,agentFilter:t})},deliveryFilter(t){this.$emit("update:filters",{...this.filters,deliveryFilter:t})},productFilter(t){this.$emit("update:filters",{...this.filters,productFilter:t})},cityFilter(t){this.$emit("update:filters",{...this.filters,cityFilter:t})},upsellFilter(t){this.$emit("update:filters",{...this.filters,upsellFilter:t})},dateFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,dateFilter:t})}},droppedAtFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,droppedAtFilter:t})}}},computed:{agents(){return this.$store.getters["user/agents"]},deliveries(){return this.$store.getters["user/deliveries"]},products(){return this.$store.getters["product/products"]},cities(){return this.$store.getters["city/cities"]}},mounted(){st.deliveries().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setDeliveries",e),this.isLoaded=!0}})).catch(this.$handleApiError),ga.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.products;console.log(t.data),this.$store.dispatch("product/setProducts",e),this.isLoaded=!0}})).catch(this.$handleApiError),st.cities().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("city/setCities",e),this.isLoaded=!0}})).catch(this.$handleApiError),st.agents().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setAgents",e),this.isLoaded=!0}})).catch(this.$handleApiError)}};const uo=(0,m.Z)(co,[["render",Jl]]);var po=uo;const go=t=>{if(!t)return 0;const e=t.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return(parseFloat(t.price?t.price:0)+parseFloat(e)).toFixed(2)},mo=t=>t?t.split("api/")[1]:null,ho=t=>JSON.parse(JSON.stringify(t));var fo={components:{DashItem:Xa,UsersTable:xs,TabSwitcher:dl,FilterTabs:po},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],w=this.filters.droppedAtFilter[1];return this.sales.filter((n=>{if("all"!==t&&parseInt(n.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(n.affectation)!=parseInt(e))return!1;if("all"!==s&&n.upsell!=s)return!1;if("all"!==r&&!n.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&n.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(n.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const g=new Date(n.dropped_at),m=g.getDate(),h=g.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&m<t)return!1}if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&m>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=go(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=go(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=go(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const bo=(0,m.Z)(fo,[["render",Ra]]);var vo=bo;const xo=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Dashboard")])],-1),yo={key:0},_o={key:1},ko={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Co={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},Do={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},So={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},zo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Uo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},qo={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-5"},Po={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Lo(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[xo,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yo,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",_o,[(0,s._)("div",ko,[(0,s._)("div",Co,[(0,s._)("div",Do,[(0,s.Wm)(w,{dash:o.earningsDash,symbol:"DH",numbers:!1},null,8,["dash"])]),(0,s._)("div",So,[(0,s.Wm)(w,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",zo,[(0,s.Wm)(w,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Uo,[(0,s.Wm)(w,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",qo,[(0,s.Wm)(w,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Po,[(0,s.Wm)(w,{dash:o.canceledSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Wo={components:{DashItemTwo:Ns},data(){return{isLoaded:!0,orders:[],cities:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},totalSales(){return{id:1,title:"Total Orders",value:this.orders.length,pourcentage:100,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.filterByStatus("livrer").length,pourcentage:100*this.filterByStatus("livrer").length/this.orders.length,color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:231,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.filterByStatus("expidier").length,pourcentage:100*this.filterByStatus("expidier").length/this.orders.length,color:"primary-orange",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.filterByStatus("reporter").length,pourcentage:100*this.filterByStatus("reporter").length/this.orders.length,color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.filterByStatus("annuler").length,pourcentage:100*this.filterByStatus("annuler").length/this.orders.length,color:"red-accent-3",icon:"mdi mdi-cancel"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:this.earnings,color:"green-darken-4",icon:"mdi-currency-usd"}},earnings(){return this.orders.reduce(((t,e)=>null==e.factorisations||e.factorisations.paid||e.factorisations.close?t:t+e.factorisations.price),0)}},methods:{filterByStatus(t){return this.orders.filter((e=>e.delivery==t))},getOrders(){this.isLoaded=!1,Ar.delivery().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const Ao=(0,m.Z)(Wo,[["render",Lo]]);var $o=Ao;const Eo=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Dashboard ")])],-1),To={key:0},Fo={key:1},jo={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Io={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},Vo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Oo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ho={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Mo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ro={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},No={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Yo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Zo(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[Eo,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",To,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Fo,[(0,s._)("div",jo,[(0,s._)("div",Io,[(0,s._)("div",Vo,[(0,s.Wm)(w,{dash:o.earningsDash,symbol:l.currency,numbers:!1},null,8,["dash","symbol"])]),(0,s._)("div",Oo,[(0,s.Wm)(w,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Ho,[(0,s.Wm)(w,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Mo,[(0,s.Wm)(w,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Ro,[(0,s.Wm)(w,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",No,[(0,s.Wm)(w,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Yo,[(0,s.Wm)(w,{dash:o.upsellSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Ko={components:{DashItemTwo:Ns},data(){return{currency:c,isLoaded:!0,orders:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},totalSales(){return{id:1,title:"Total",pourcentage:0===this.orders.length?0:100,value:this.orders.filter((t=>"double"!=t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.orders.filter((t=>!t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>!t.confirmation)).length/this.orders.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.orders.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"confirmer"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.orders.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"reporter"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.orders.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"annuler"==t.confirmation)).length/this.orders.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},upsellSales(){return{id:6,title:"Upsell",value:this.orders.filter((t=>"oui"==t.upsell)).length,pourcentage:(100*this.orders.filter((t=>"oui"==t.upsell)).length/this.orders.length).toFixed(2),color:"#2563eb",icon:"mdi mdi-transfer-up"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:.7*this.orders.filter((t=>"oui"==t.upsell&&"livrer"==t.delivery)).length,color:"green-darken-4",icon:"mdi-currency-usd"}},noanswerSales(){return{id:6,title:"No Answer",value:this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.orders.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},methods:{filterByStatus(t){return this.orders.filter((e=>e.confirmation==t))},getOrders(){this.isLoaded=!1,Ar.agente().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const Bo=(0,m.Z)(Ko,[["render",Zo]]);var Qo=Bo;const Jo=(0,s._)("div",{class:"tw-w-full tw-rounded-lg tw-py-5 tw-px-5 tw-flex tw-flex-center tw-justify-center"},[(0,s._)("h1",{class:"tw-text-lg"},"Welcome to Dashboard !")],-1),Go=[Jo];function Xo(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,Go)}var ti={components:{},data(){return{dashItems:[{id:1,title:"Orders",value:1200,icon:"mdi-package-variant-closed",color:"orange"},{id:2,title:"Total Sales",value:"35000 DH",icon:"mdi-currency-usd",color:"green"},{id:3,title:"Orders Confirmed",value:600,icon:"mdi-phone-check-outline",color:"blue"},{id:4,title:"Orders Delivered",value:543,icon:"mdi-truck-check-outline",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role}}};const ei=(0,m.Z)(ti,[["render",Xo]]);var ri=ei;const ai={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},si=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),li=[si];function oi(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ai,[l.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},li))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.dashes,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const ii={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},wi={class:"tw-flex tw-justify-between"},ni={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},di={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},ci={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},ui={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function pi(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ii,[(0,s._)("div",wi,[(0,s._)("div",null,[(0,s._)("div",ni,[(0,s._)("p",di,(0,ot.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,ot.j5)({background:r.color})},(0,ot.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",ci,[(0,s._)("span",ui,(0,ot.zw)(r.value),1)])]),(0,s._)("div",{style:(0,ot.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(nt.t,{style:(0,ot.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var gi={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const mi=(0,m.Z)(gi,[["render",pi]]);var hi=mi;class fi{async statistics(){return await E.getCookie(),A.post("api/v1/followup/statistics")}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/followup/orders"+t,e)}async update(t,e){return await E.getCookie(),A.post("api/v1/followup/orders/"+t+"/update",e)}async create(t){return await E.getCookie(),A.post("api/v1/followup/orders/create",t)}}var bi=new fi,vi={components:{DashCard:hi},data(){return{fetching:!0,dashes:[]}},mounted(){bi.statistics().then((t=>{console.log(t.data.data),this.dashes=t.data.data.statistics,this.fetching=!1}))}};const xi=(0,m.Z)(vi,[["render",oi]]);var yi=xi;const _i={key:0},ki={key:1},Ci=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Di={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Si={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},zi={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},Ui=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),qi=["disabled"],Pi={key:0,class:"tw-flex tw-items-center tw-gap-2"},Li={key:1},Wi=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Ai={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function $i(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable"),n=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_i,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ki,[Ci,(0,s._)("div",Di,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1})]),(0,s._)("div",Si,[(0,s._)("div",zi,[Ui,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Pi,[(0,s.Wm)(nt.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Li,[Wi,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,qi)])]),(0,s._)("div",Ai,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(La.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(La.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(La.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Ei={components:{DashItem:Xa,UsersTable:xs,TabSwitcher:dl,FilterTabs:po},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],w=this.filters.droppedAtFilter[1];return this.sales.filter((n=>{if("all"!==t&&parseInt(n.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(n.affectation)!=parseInt(e))return!1;if("all"!==s&&n.upsell!=s)return!1;if("all"!==r&&!n.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&n.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(n.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const g=new Date(n.dropped_at),m=g.getDate(),h=g.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&m<t)return!1}if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&m>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=go(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=go(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=go(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const Ti=(0,m.Z)(Ei,[["render",$i]]);var Fi=Ti,ji={components:{admin:vo,delivery:$o,agente:Qo,default:ri,seller:Fi,"follow-up":yi},data(){return{localUrl:w,exists:!1}},computed:{user(){return this.$store.getters["user/user"]},dashboard(){return["admin","seller","delivery","agente","follow-up"].includes(this.user.role)?this.user.role:"default"}},methods:{check(){switch(this.user.role){case"admin":this.$router.push({name:"dashboards/admin"});break;case"agente":this.$router.push({name:"dashboards/agent"});break;case"seller":this.$router.push({name:"dashboards/seller"});break;default:this.exists=!0;break}}},created(){this.check()}};const Ii=(0,m.Z)(ji,[["render",qa]]);var Vi=Ii;const Oi={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Hi={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Mi={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Ri={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Ni=["disabled"],Yi=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Zi=(0,s._)("span",null," previous ",-1),Ki=[Yi,Zi],Bi=["disabled"],Qi=(0,s._)("span",null," Next ",-1),Ji=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Gi=[Qi,Ji];function Xi(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Oi,[(0,s._)("div",Hi,[(0,s.Uk)(" Page "),(0,s._)("span",Mi,(0,ot.zw)(r.currentPage)+" of "+(0,ot.zw)(r.lastPage),1)]),(0,s._)("div",Ri,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,ot.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Ki,10,Ni),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,ot.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Gi,10,Bi)])])])}var tw={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const ew=(0,m.Z)(tw,[["render",Xi]]);var rw=ew;const aw={class:"py-5 tw-min-h-[calc(100dvh-110px)] px-5 tw-border bg-white tw-w-full tw-rounded-md"},sw=(0,s._)("h1",{class:"tw-text-lg tw-pl-1"},"Notifications",-1),lw={key:0},ow={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},iw={key:1,class:"tw-relative tw-h-full tw-flex-col tw-flex tw-overflow-x-auto sm:tw-rounded-lg"},ww={key:0},nw=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),dw=[nw],cw={class:"tw-w-full tw-text-left tw-text-gray-500"},uw={class:"tw-w-fit tw-flex tw-flex-col tw-whitespace-nowrap text-black"},pw={class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},gw=(0,s._)("div",{class:"tw-flex-1 tw-mt-auto"},null,-1);var mw={__name:"NotificationView",setup(t){const e=(0,i.oR)(),r=(0,ye.iH)(!1),a=(0,ye.iH)(null),l=t=>{a.value.page=t,o()},o=async()=>{const t={...a.value,data:null};r.value=!1,await ke.AllNotifications(t).then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setAllNotifications",t.data.data),a.value=t.data.data)})).catch((t=>{console.error("API Error",t)})),r.value=!0};(0,s.bv)((()=>{o()}));const w=(0,s.Fl)((()=>e.getters["app/notifications"].all));return(t,e)=>((0,s.wg)(),(0,s.iD)("div",aw,[sw,r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",lw,[(0,s._)("div",ow,[(0,s.Wm)(nt.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),r.value?((0,s.wg)(),(0,s.iD)("div",iw,[""==w.value.data?((0,s.wg)(),(0,s.iD)("div",ww,dw)):(0,s.kq)("",!0),(0,s._)("table",cw,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value.data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,scope:"col",class:(0,ot.C_)([{"bg-white":"read"==t.status},"tw-bg-orange-50 tw-py-3 tw-px-1 text-truncate"])},[(0,s._)("div",uw,(0,ot.zw)(t.message),1),(0,s._)("div",pw,(0,ot.zw)((0,ye.SU)(De())(t.created_at).fromNow()),1)],2)))),128))]),gw,r.value?((0,s.wg)(),(0,s.j4)(rw,{key:1,onPageChange:l,"per-page":a.value.per_page,"last-page":a.value.last_page,from:a.value.from,to:a.value.to,total:a.value.total,"current-page":a.value.current_page},null,8,["per-page","last-page","from","to","total","current-page"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]))}};const hw=mw;var fw=hw,bw={path:"/",name:"home",component:za,meta:{module:"dashboard"},children:[{path:"",name:"dashboard",component:Vi,meta:{module:"dashboard",title:"Dashboard",gate:"all"}},{path:"/notifications",name:"notifications",component:fw,meta:{module:"notification",title:"Notifications",gate:"all"}}]};const vw={class:"mb-5 tw-flex tw-justify-between tw-items-center"},xw=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your products")],-1),yw={key:0},_w=(0,s._)("span",{class:"text-white"}," Add Expedition ",-1),kw={key:0},Cw={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Dw={class:"mb-5 tw-flex"},Sw={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},zw={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Uw={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},qw=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Pw={class:"tw-relative"},Lw={class:""};function Ww(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.products.length},[(0,s._)("div",vw,[xw,t.$can("create_product")?((0,s.wg)(),(0,s.iD)("div",yw,[(0,s.Wm)(it.T,{color:"primary-color",link:"",to:{name:"product/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),_w])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",kw,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",Cw,[(0,s._)("div",Dw,[(0,s.Wm)(it.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Sw,[(0,s.Wm)(se.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,ot.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",zw,[(0,s._)("div",Uw,[qw,(0,s._)("div",Pw,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Lw,[(0,s.Wm)(n,{columns:o.columns,products:i.filteredProducts},null,8,["columns","products"])])])):(0,s.kq)("",!0)])}const Aw={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},$w={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Ew={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Tw=(0,s._)("th",null,null,-1),Fw={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},jw={class:"tw-w-4 tw-p-4"},Iw={class:"tw-flex tw-items-center"},Vw={key:0,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-green-500"},Ow={key:1,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-yellow-500"},Hw={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Mw={class:"tw-px-6 tw-py-4"},Rw={key:0},Nw={class:"tw-px-6 tw-py-4"},Yw={class:"tw-px-6 tw-py-4"},Zw={class:"tw-px-6 tw-py-4"},Kw={class:"tw-px-6 tw-py-4"},Bw={class:"tw-px-6 tw-py-4"},Qw={class:"tw-px-6 tw-py-4"},Jw={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Gw={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Xw={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},tn=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),en=["value"],rn={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},an={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},sn={class:"tw-text-white"};function ln(t,e,r,l,o,i){const w=(0,s.up)("ProductActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Aw,[(0,s._)("table",$w,[(0,s._)("thead",Ew,[(0,s._)("tr",null,[Tw,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Fw,(0,ot.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",jw,[(0,s._)("div",Iw,[1==t.status?((0,s.wg)(),(0,s.iD)("span",Vw)):(0,s.kq)("",!0),0==t.status?((0,s.wg)(),(0,s.iD)("span",Ow)):(0,s.kq)("",!0)])]),(0,s._)("th",Hw,(0,ot.zw)(t.id),1),(0,s._)("td",Mw,[t.seller_user?((0,s.wg)(),(0,s.iD)("span",Rw,(0,ot.zw)(t.seller_user.firstname)+" "+(0,ot.zw)(t.seller_user.lastname),1)):(0,s.kq)("",!0)]),(0,s._)("td",Nw,(0,ot.zw)(t.ref),1),(0,s._)("td",Yw,(0,ot.zw)(t.name),1),(0,s._)("td",Zw,(0,ot.zw)(t.buying_price)+" "+(0,ot.zw)(o.currency),1),(0,s._)("td",Kw,(0,ot.zw)(t.selling_price)+" "+(0,ot.zw)(o.currency),1),(0,s._)("td",Bw,(0,ot.zw)(i.calculQty(t.variations)),1),(0,s._)("td",Qw,(0,ot.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Jw,[(0,s.Wm)(w,{product:t},null,8,["product"])])])))),128))])])]),(0,s._)("div",Gw,[(0,s._)("div",Xw,[tn,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,ot.zw)(t),9,en)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",rn,[(0,s._)("div",an,(0,ot.zw)(i.prevRange+1)+" - "+(0,ot.zw)(o.currentPage==i.pageCount?r.products.length:i.nextRange)+" of "+(0,ot.zw)(r.products.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(it.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",sn,(0,ot.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const on={class:"tw-flex tw-items-center tw-gap-1"},wn=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12 2C11.8 2 11.6 2.1 11.4 2.2L3.5 6.6C3.2 6.8 3 7.1 3 7.5V16.5C3 16.9 3.2 17.2 3.5 17.4L11.4 21.8C11.6 21.9 11.8 22 12 22S12.4 21.9 12.6 21.8L13.5 21.3C13.2 20.7 13.1 20 13 19.3V12.6L19 9.2V13C19.7 13 20.4 13.1 21 13.3V7.5C21 7.1 20.8 6.8 20.5 6.6L12.6 2.2C12.4 2.1 12.2 2 12 2M12 4.2L18 7.5L16 8.6L10.1 5.2L12 4.2M8.1 6.3L14 9.8L12 10.9L6 7.5L8.1 6.3M5 9.2L11 12.6V19.3L5 15.9V9.2M21.3 15.8L17.7 19.4L16.1 17.8L15 19L17.8 22L22.6 17.2L21.3 15.8Z",fill:"white"})],-1),nn={key:4};function dn(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("ProductStatusPopup");return(0,s.wg)(),(0,s.iD)("div",on,[t.$can("update_product")&&"admin"==this.user.role?((0,s.wg)(),(0,s.j4)(it.T,{key:0,onClick:e[0]||(e[0]=t=>l.showStatusPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[wn])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_product")?((0,s.wg)(),(0,s.j4)(it.T,{key:1,to:"/products/update/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(it.T,{key:2,to:"/products/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.j4)(it.T,{key:3,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"]),l.showStatusPopup?((0,s.wg)(),(0,s.iD)("div",nn,[(0,s.Wm)(w,{visible:l.showStatusPopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showStatusPopup=t),onCancel:e[3]||(e[3]=t=>l.showStatusPopup=!1),product:r.product},null,8,["visible","product"])])):(0,s.kq)("",!0)])}const cn={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},un=(0,s._)("h1",{class:"tw-text-lg"},"Update Product Status",-1),pn={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},gn={class:"tw-w-full tw-col-span-6"},mn={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},hn=["disabled"],fn=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),bn={class:"tw-w-full tw-col-span-12"},vn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),xn={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},yn=(0,s._)("span",{class:"text-white"}," Cancel ",-1),_n=(0,s._)("span",{class:"text-white"}," Update ",-1);function kn(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",cn,[un,(0,s._)("div",pn,[(0,s._)("div",gn,[(0,s._)("label",mn,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingStatus,"onUpdate:modelValue":e[0]||(e[0]=t=>o.currentStatus=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,hn),[[a.e8,o.currentStatus]]),fn]),o.isLoadingStatus?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",bn,[vn,(0,s.wy)((0,s._)("textarea",{"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",512),[[a.nr,o.note]])])]),(0,s._)("div",xn,[(0,s.Wm)(it.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[yn])),_:1}),(0,s.Wm)(it.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[_n])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Cn={components:{},props:["product","visible","updated"],data(){return{isLoading:!1,isLoadingStatus:!1,currentStatus:!1,note:""}},computed:{},methods:{update(){this.isLoading=!0;const t={status:this.currentStatus,note:this.note};ga.updateStatus(this.product.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("product/setProduct",t.data.data.product),this.$emit("updated",t.data.data.product),this.$emit("cancel")),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))}},mounted(){this.Product={...this.product},this.currentStatus=1==this.product.status,this.note=this.product.note}};const Dn=(0,m.Z)(Cn,[["render",kn]]);var Sn=Dn,zn={components:{ProductStatusPopup:Sn},props:["rowIndex","product"],name:"productActions",data(){return{showStatusPopup:!1,showPopup:!1,isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,ga["delete"](this.product.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"})),ga.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Un=(0,m.Z)(zn,[["render",dn]]);var qn=Un,Pn={props:["columns","products"],components:{ProductActions:qn},data(){return{currency:c,allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.products.length/this.paginationLimit)},items(){return this.products.slice(this.prevRange,this.nextRange)}},methods:{calculQty(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Ln=(0,m.Z)(Pn,[["render",ln]]);var Wn=Ln;const An=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:16,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:15,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:12,value:"wrong-number",name:"Wrong number",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:13,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:14,value:"double",name:"Double",text:"tw-text-purple-500",textLight:"tw-text-purple-800",bg:"tw-bg-purple-500/10",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"}],$n=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:2,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"}],En=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:13,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-cyan-500",textLight:"tw-text-cyan-800",bg:"tw-bg-cyan-500/10",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"}],Tn=[{id:0,value:null,name:"Select",text:"tw-text-neutral-600",bg:"tw-bg-neutral-500/10",ring:"tw-ring-neutral-300"},{id:1,value:"oui",name:"Oui",text:"tw-text-green-500",bg:"tw-bg-green-500/10",ring:"tw-ring-green-300"},{id:2,value:"non",name:"Non",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",ring:"tw-ring-pink-300"}],Fn=[{id:0,value:null,name:"Select",text:"tw-text-gray-500",textLight:"tw-text-gray-800",bg:"tw-bg-gray-500/10",bgLight:"tw-bg-gray-100",ring:"tw-ring-gray-300"},{id:1,value:"dispatch",name:"Dispatched",text:"tw-text-yellow-500",textLight:"tw-text-yellow-800",bg:"tw-bg-yellow-500/10",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:2,value:"expidier",name:"Shipped",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:3,value:"livrer",name:"Delivered",text:"tw-text-green-500",bg:"tw-bg-green-500/10",textLight:"tw-text-green-800",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:4,value:"reporter",name:"Reported",text:"tw-text-orange-500",bg:"tw-bg-orange-500/10",textLight:"tw-text-orange-800",bgLight:"tw-bg-orange-100",ring:"tw-ring-orange-300"},{id:5,value:"refuser",name:"Refused",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",textLight:"tw-text-pink-800",bgLight:"tw-bg-pink-100",ring:"tw-ring-pink-300"},{id:6,value:"annuler",name:"Canceled",text:"tw-text-red-500",bg:"tw-bg-red-500/10",textLight:"tw-text-red-800",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:9,value:"pas-de-reponse",name:"No Answer",text:"tw-text-yellow-500",bg:"tw-bg-yellow-500/10",textLight:"tw-text-yellow-800",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:8,value:"printed",name:"Printed",text:"tw-text-blue-500",bg:"tw-bg-blue-500/10",textLight:"tw-text-blue-800",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:10,value:"retourner",name:"Returned",text:"tw-text-purple-500",bg:"tw-bg-purple-500/10",textLight:"tw-text-purple-800",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:11,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-indigo-500",bg:"tw-bg-indigo-500/10",textLight:"tw-text-indigo-800",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:12,value:"paid",name:"Paid",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:13,value:"transfer",name:"Transferd",text:"tw-text-violet-500",bg:"tw-bg-violet-500/10",textLight:"tw-text-violet-800",bgLight:"tw-bg-violet-100",ring:"tw-ring-violet-300"},{id:14,value:"livrer-et-retourner",name:"Delivered & Return",text:"tw-text-teal-500",bg:"tw-bg-teal-500/10",textLight:"tw-text-teal-800",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:15,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:17,value:"in-warehouse",name:"In Warehouse",text:"tw-text-lime-500",bg:"tw-bg-lime-500/10",ring:"tw-ring-lime-300",textLight:"tw-text-lime-800",bgLight:"tw-bg-lime-100"},{id:18,value:"cleared",name:"Cleared",text:"tw-text-cyan-500",bg:"tw-bg-cyan-500/10",ring:"tw-ring-cyan-300",textLight:"tw-text-cyan-800",bgLight:"tw-bg-cyan-100"}],jn=[null,"expidier","paid","transfer","dispatch"];var In={components:{ProductsTable:Wn},data(){return{localUrl:w,confirmations:An,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"seller",name:"Seller"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},filteredProducts(){const t=this.date;return this.products.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!(e.ref.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase())||e.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{getProducts(){ga.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts()}};const Vn=(0,m.Z)(In,[["render",Ww]]);var On=Vn;const Hn={class:"py-5 !tw-pt-0 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Mn={class:"tw-px-3"},Rn=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},null,-1),Nn={key:0};function Yn(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Hn,[(0,s._)("section",Mn,[Rn,(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Nn,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Zn={class:"tw-flex tw-flex-col"},Kn={class:"tw-overflow-x-auto"},Bn={class:"tw-inline-block tw-min-w-full tw-align-middle"},Qn={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Jn={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Gn={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},Xn={scope:"col",class:"rtl:tw-text-right tw-w-7 tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},td={class:"tw-max-w-[25px]"},ed={class:"tw-inline-flex tw-items-center"},rd={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},ad=["checked"],sd=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),ld=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),od={key:0,scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},id=(0,s._)("span",null,"Seller",-1),wd=[id],nd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," SKU ",-1),dd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),cd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Pricing ( $ ) ",-1),ud=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-whitespace-nowrap !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Qty ",-1),pd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivered ",-1),gd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Shipped ",-1),md=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Available ",-1),hd={scope:"col",class:"tw-py-3.5 tw-w-5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},fd=(0,s._)("span",null,"Created",-1),bd=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),vd=[fd,bd],xd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Actions")],-1),yd={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},_d={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},kd=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),Cd=[kd],Dd={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Sd={colspan:"13"},zd={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Ud=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),qd=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Pd=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Ld=[qd,Pd],Wd={class:"tw-mt-6"};function Ad(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Zn,[(0,s._)("div",Kn,[(0,s._)("div",Bn,[(0,s._)("div",Qn,[(0,s._)("table",Jn,[(0,s._)("thead",Gn,[(0,s._)("tr",null,[(0,s._)("th",Xn,[(0,s._)("div",td,[(0,s._)("div",ed,[(0,s._)("label",rd,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,ad),sd])])])]),ld,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",od,wd)):(0,s.kq)("",!0),nd,dd,cd,ud,pd,gd,md,(0,s._)("th",hd,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},vd)]),xd])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",yd,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,l)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:l,index:a,key:r.id,item:r},null,8,["selected","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",_d,Cd)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Dd,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Sd,[(0,s._)("div",zd,[Ud,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Ld)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Wd,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const $d={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Ed={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Td={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Fd={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},jd=["disabled"],Id=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Vd=(0,s._)("span",null," previous ",-1),Od=[Id,Vd],Hd=["disabled"],Md=(0,s._)("span",null," Next ",-1),Rd=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Nd=[Md,Rd];function Yd(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",$d,[(0,s._)("div",Ed,[(0,s.Uk)(" Page "),(0,s._)("span",Td,(0,ot.zw)(r.currentPage)+" of "+(0,ot.zw)(r.lastPage),1)]),(0,s._)("div",Fd,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,ot.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Od,10,jd),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,ot.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Nd,10,Hd)])])])}var Zd={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Kd=(0,m.Z)(Zd,[["render",Yd]]);var Bd=Kd;const Qd={class:"tw-p-2 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Jd={class:"tw-max-w-[25px]"},Gd={class:"tw-inline-flex tw-items-center"},Xd={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},tc=["checked","id"],ec=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),rc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ac={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},sc={key:0,class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lc={key:0},oc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},ic={key:1},wc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},dc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},cc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uc={class:"tw-flex tw-items-center tw-gap-1"},pc={title:"Buying Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},gc={class:"tw-text-blue-700"},mc={title:"Selling Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},hc={class:"tw-text-green-700"},fc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},vc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},xc={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},yc={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},_c={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kc={class:"tw-flex tw-font-medium tw-text-purple-600 tw-rounded tw-items-center"},Cc={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Dc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Sc={class:"tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},zc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-max-w-[100px]"},Uc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-max-w-[100px] tw-flex tw-items-center tw-gap-2"},qc={class:"tw-px-4 tw-py-1 tw-text-sm tw-whitespace-nowrap"};function Pc(t,e,r,a,l,o){const i=(0,s.up)("router-link"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,ot.C_)(["hover:tw-bg-gray-50",[o.availableQuantity<=0&&"!tw-border !tw-border-red-300 tw-bg-red-50 hover:tw-bg-red-100 "]])},[(0,s._)("td",Qd,[(0,s._)("div",Jd,[(0,s._)("div",Gd,[(0,s._)("label",Xd,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,tc),ec])])])]),(0,s._)("td",rc,[(0,s._)("div",null,[(0,s._)("h2",ac,(0,ot.zw)(r.item.id),1)])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",sc,["affiliate"!=r.item.type?((0,s.wg)(),(0,s.iD)("div",lc,[(0,s._)("h2",oc,(0,ot.zw)(r.item.seller_user.firstname)+" "+(0,ot.zw)(r.item.seller_user.lastname),1)])):((0,s.wg)(),(0,s.iD)("div",ic,[(0,s.Wm)(i,{to:{name:"affiliate.show.sellers",params:{id:r.item.id}},class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-underline-offset-2 tw-underline"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(r.item.imported_count)+" sellers ",1)])),_:1},8,["to"])]))])):(0,s.kq)("",!0),(0,s._)("td",wc,[(0,s._)("div",null,[(0,s._)("h2",{class:(0,ot.C_)([{"!tw-text-emerald-500":r.item.status,"!tw-text-amber-500":!r.item.status},"tw-font-bold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[70px] tw-truncate"])},(0,ot.zw)(r.item.ref),3)])]),(0,s._)("td",nc,[(0,s._)("div",null,[(0,s._)("h2",dc,(0,ot.zw)(r.item.name),1)])]),(0,s._)("td",cc,[(0,s._)("div",uc,[(0,s._)("div",pc,[(0,s._)("span",gc,(0,ot.zw)(r.item.buying_price),1),(0,s.Wm)(nt.t,{class:"tw-text-lg tw-text-blue-400 tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-down-bold")])),_:1})]),(0,s._)("div",mc,[(0,s.Wm)(nt.t,{class:"tw-text-lg tw-mr-1 tw-text-green-400"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-up-bold")])),_:1}),(0,s._)("span",hc,(0,ot.zw)(r.item.selling_price),1)])])]),(0,s._)("td",fc,[(0,s._)("div",null,[(0,s._)("h2",bc,(0,ot.zw)(o.quantityTotal),1)])]),(0,s._)("td",vc,[(0,s._)("div",xc,[(0,s._)("h2",yc,(0,ot.zw)(o.deliveredQuantity),1)])]),(0,s._)("td",_c,[(0,s._)("div",kc,[(0,s._)("h2",Cc,(0,ot.zw)(o.shippedQuantity),1)])]),(0,s._)("td",Dc,[(0,s._)("div",{class:(0,ot.C_)([{"tw-text-red-500 !tw-font-bold":o.availableQuantity<=0},"tw-flex tw-font-medium tw-text-blue-600 tw-rounded tw-items-center"])},[(0,s._)("h2",Sc,(0,ot.zw)(o.availableQuantity),1)],2)]),(0,s._)("td",zc,[(0,s._)("div",null,[(0,s._)("h2",Uc,[(0,s._)("p",null,(0,ot.zw)(l.moment(r.item.created_at).format("DD[-]MM[-]YY")),1)])])]),(0,s._)("td",qc,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const Lc=(t,e="success")=>{rt.dispatch("alert/toggleAlert",{type:e,title:t})},Wc={key:0,class:"tw-h-full"},Ac={class:"tw-flex tw-items-center tw-gap-2"},$c={key:4},Ec={key:1,class:"tw-h-full"},Tc={class:"tw-flex tw-items-center tw-gap-2"};var Fc={__name:"TableActions",props:["item"],emits:["update"],setup(t,{emit:e}){const r=t,a=(0,ye.Vh)(r,"item"),l=(0,s.f3)("refresh"),o=(0,s.f3)("update"),i=(0,ye.iH)({delete:!1,status:!1}),w=(0,ye.iH)({delete:!1,status:!1}),n=async t=>{if(!t)return i.value.delete=!1,!1;w.value.delete=!0,await ga["delete"](a.value.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(Lc("Product Deleted Successfully"),l())})).catch((t=>{console.log(t),Lc("Something wrong happened","danger")})),w.value.delete=!1,i.value.delete=!1},d=t=>{o({...a.value,status:t.status})};return(t,e)=>{const r=(0,s.up)("icon"),l=(0,s.up)("router-link"),o=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,["normal"==a.value.type?((0,s.wg)(),(0,s.iD)("div",Wc,[(0,s._)("div",Ac,[(0,s.kq)("",!0),t.$can("update_product")&&"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>i.value.status=!0),class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-emerald-500/20 hover:tw-bg-emerald-500/10 hover:tw-border-emerald-500/70 tw-duration-300 tw-text-emerald-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(r,{icon:"ci:check-big",class:"tw-text-base tw-text-emerald-500"})])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(l,{key:2,to:"/products/"+a.value.id,class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-sky-500/20 hover:tw-bg-sky-500/10 hover:tw-border-sky-500/70 tw-duration-300 tw-text-sky-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"solar:eye-bold-duotone",class:"tw-text-base tw-text-sky-500"})])),_:1},8,["to"])):(0,s.kq)("",!0),(0,s.Wm)(l,{title:"Edit",to:"/products/update/"+a.value.id,class:"!tw-bg-white tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 hover:!tw-bg-amber-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})])),_:1},8,["to"]),t.$can("delete_product")?((0,s.wg)(),(0,s.iD)("button",{key:3,onClick:e[1]||(e[1]=t=>i.value.delete=!0),class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-rose-500/20 hover:tw-bg-rose-500/10 hover:tw-border-rose-500/70 tw-duration-300 tw-text-rose-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1})])):(0,s.kq)("",!0),(0,s.Wm)(o,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:w.value.delete,visible:i.value.delete,onResolved:n},null,8,["loading","visible"]),i.value.status?((0,s.wg)(),(0,s.iD)("div",$c,[(0,s.Wm)((0,ye.SU)(Sn),{visible:i.value.status,"onUpdate:visible":e[2]||(e[2]=t=>i.value.status=t),onCancel:e[3]||(e[3]=t=>i.value.status=!1),onUpdated:d,product:a.value},null,8,["visible","product"])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"affiliate"==a.value.type&&"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",Ec,[(0,s._)("div",Tc,[(0,s.Wm)(l,{title:"Show",to:{name:"affiliate.admin.show",params:{id:a.value.id}},class:"!tw-bg-white tw-aspect-square tw-cursor-pointer tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-blue-100 hover:tw-border-blue-400 hover:!tw-bg-blue-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"solar:eye-bold-duotone",class:"tw-text-xl tw-text-blue-500"})])),_:1},8,["to"]),(0,s.Wm)(l,{title:"Edit",to:{name:"affiliate.admin.edit",params:{id:a.value.id}},class:"!tw-bg-white tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 hover:!tw-bg-amber-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})])),_:1},8,["to"])])])):(0,s.kq)("",!0)],64)}}};const jc=Fc;var Ic=jc,Vc={components:{TableActions:Ic},props:{item:{required:!0},selected:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:De(),currency:c}},computed:{isSelected(){return this.selected.includes(this.item.id)},quantityTotal(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.quantity)),0)},deliveredQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.delivered_quantity)),0)},shippedQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.shipped_quantity)),0)},availableQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.available_quantity)),0)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const Oc=(0,m.Z)(Vc,[["render",Pc]]);var Hc=Oc,Mc={components:{TablePaginationNoNums:Bd,TableRow:Hc},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const Rc=(0,m.Z)(Mc,[["render",Ad]]);var Nc=Rc;const Yc={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Zc={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Kc=["disabled"],Bc=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),Qc=[Bc],Jc=["disabled"],Gc=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),Xc=[Gc],tu={class:"tw-relative"},eu=["value"],ru=(0,s._)("option",{value:5},"5",-1),au=(0,s._)("option",{value:10},"10",-1),su=(0,s._)("option",{value:20},"20",-1),lu=(0,s._)("option",{value:50},"50",-1),ou=(0,s._)("option",{value:100},"100",-1),iu=(0,s._)("option",{value:250},"250",-1),wu=(0,s._)("option",{value:500},"500",-1),nu=[ru,au,su,lu,ou,iu,wu],du=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),cu={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},uu=["value"],pu={class:"tw-overflow-hidden tw-col-span-1"},gu={class:"tw-overflow-hidden tw-col-span-1"},mu={class:"tw-overflow-hidden tw-col-span-1"};function hu(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Yc,[(0,s._)("div",Zc,[(0,s._)("button",{class:(0,ot.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,Kc),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,ot.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},Qc,2),(r.activeStatistics&&r.statistics,(0,s.kq)("",!0)),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Xc,8,Jc),(0,s.kq)("",!0),(0,s._)("div",tu,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},nu,40,eu),du])]),(0,s._)("div",cu,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,uu),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,ot.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",pu,["admin"==this.user.role?((0,s.wg)(),(0,s.j4)(w,{key:0,onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])):(0,s.kq)("",!0)])],2),(0,s._)("div",{class:(0,ot.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",gu,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",mu,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const fu={class:"tw-mb-4"},bu={class:"tw-grid tw-grid-cols-12 tw-gap-4"},vu={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},xu={class:"tw-flex tw-items-center tw-justify-between"},yu={class:"tw-text-xl tw-font-bold tw-text-gray-900"},_u={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function ku(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",fu,[(0,s._)("div",bu,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",vu,[(0,s._)("p",{class:(0,ot.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,ot.zw)(t.name),3),(0,s._)("div",xu,[(0,s._)("span",yu,(0,ot.zw)(t.total),1),(0,s._)("span",_u,(0,ot.zw)(t.percent)+"%",1)])])])))),128))])])}var Cu={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return An.find((e=>e.value==t))}}};const Du=(0,m.Z)(Cu,[["render",ku]]);var Su=Du;const zu={class:"tw-mb-4"},Uu={class:"tw-flex tw-items-center tw-gap-2"},qu=["disabled"],Pu=(0,s._)("span",null,"Select Filtered",-1),Lu={class:"tw-flex tw-justify-end"},Wu=["disabled"];function Au(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",zu,[(0,s._)("div",Uu,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Pu],8,qu)]),(0,s._)("div",Lu,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,ot.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,Wu)])])}class $u{async statistics(t){return await E.getCookie(),A.post("api/v1/admin/statistics",t)}async analytics(t){return await E.getCookie(),A.post("api/v1/admin/analytics",t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/admin/orders"+t,e)}async update(t,e){return await E.getCookie(),A.post("api/v1/admin/orders/"+t+"/update",e)}async create(t){return await E.getCookie(),A.post("api/v1/admin/orders/create",t)}async export(t={}){return await E.getCookie(),A.post("api/v1/admin/orders/export",t)}}var Eu=new $u,Tu={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Eu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const Fu=(0,m.Z)(Tu,[["render",Au]]);var ju=Fu;const Iu={class:"tw-mb-4"},Vu={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Ou={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Hu=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Mu=(0,s._)("span",null,"Clear",-1),Ru=[Hu,Mu],Nu=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Yu=(0,s._)("span",null,"Filter",-1),Zu=[Nu,Yu];function Ku(t,e,r,a,l,o){(0,s.up)("DateFilter"),(0,s.up)("ProductFilter");const i=(0,s.up)("SellerFilter");return(0,s.wg)(),(0,s.iD)("div",Iu,[(0,s._)("div",Vu,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Ou,[(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Ru),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Zu)])])])}const Bu={class:"tw-text-sm tw-text-neutral-600"},Qu=["onClick"];function Ju(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Bu,(0,ot.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,ot.zw)(t),9,Qu)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Gu={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,eo.Z)(new Date,1),(0,eo.Z)(new Date,1)]},{label:"This month",range:[(0,ro.Z)(new Date),(0,ao.Z)(new Date)]},{label:"Last month",range:[(0,ro.Z)((0,so.Z)(new Date,1)),(0,ao.Z)((0,so.Z)(new Date,1))]},{label:"This year",range:[(0,lo.Z)(new Date),(0,oo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const Xu=(0,m.Z)(Gu,[["render",Ju]]);var tp=Xu;const ep={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),ap=["value"],sp=(0,s._)("option",{value:"all"},"All",-1),lp=["value"];function op(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",ep,[rp,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[sp,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.name),9,lp)))),128))],40,ap)])}var ip={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ga.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const wp=(0,m.Z)(ip,[["render",op]]);var np=wp;const dp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},cp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),up=["value"],pp=(0,s._)("option",{value:"all"},"All",-1),gp=["value"];function mp(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",dp,[cp,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[pp,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,gp)))),128))],40,up)])}var hp={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const fp=(0,m.Z)(hp,[["render",mp]]);var bp=fp,vp={components:{DateFilter:tp,ProductFilter:np,SellerFilter:bp},props:{filters:{required:!0,default:{}}},data(){return{dateFilter:["",""]}}};const xp=(0,m.Z)(vp,[["render",Ku]]);var yp=xp,_p={components:{IndexStatistics:Su,FiltersWrapper:yp,IndexExport:ju},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=De()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const kp=(0,m.Z)(_p,[["render",hu]]);var Cp=kp;const Dp={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Sp=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),zp={class:"tw-bg-white tw-p-4"},Up={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},qp={class:"tw-col-span-2 md:tw-col-span-1"},Pp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),Lp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Wp={class:"tw-col-span-2 md:tw-col-span-1"},Ap=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),$p={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ep={class:"tw-col-span-2 md:tw-col-span-1"},Tp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Fp={class:"tw-relative"},jp=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Ip=["value"],Vp=["value"],Op=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Hp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Mp={class:"tw-col-span-2 md:tw-col-span-1"},Rp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Np={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Yp={class:"tw-col-span-2"},Zp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Kp={class:"tw-relative"},Bp=["value"],Qp=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Jp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Gp={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Xp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),tg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},eg={key:1,class:"md:tw-col-span-1 tw-col-span-2"},rg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),ag={class:"tw-col-span-2"},sg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),lg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},og={class:"md:tw-col-span-1 tw-col-span-2"},ig={class:"md:tw-col-span-1 tw-col-span-2"},wg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),ng={class:"tw-relative"},dg=["value"],cg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ug={class:"tw-col-span-2"},pg={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},gg={key:0,class:"tw-text-red-400 tw-text-xs"},mg={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},hg=["disabled"],fg=(0,s._)("span",null,"Create",-1);function bg(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Dp,[Sp,(0,s._)("div",zp,[(0,s._)("div",Up,[(0,s._)("div",qp,[Pp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,ot.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",Lp,(0,ot.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Wp,[Ap,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,ot.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",$p,(0,ot.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Ep,[Tp,(0,s._)("div",Fp,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,ot.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[jp,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,ot.zw)(o.itemCopy.city),9,Ip),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,ot.zw)(t.name),9,Vp)))),128))],34),[[a.bM,o.itemCopy.city]]),Op]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",Hp,(0,ot.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Mp,[Rp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,ot.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Np,(0,ot.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Yp,[Zp,(0,s._)("div",Kp,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,ot.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,ot.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,ot.zw)(t.name),11,Bp)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),Qp]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",Jp,(0,ot.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Gp,[Xp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,ot.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",tg,(0,ot.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",eg,[rg,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",ag,[sg,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,ot.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",lg,(0,ot.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",og,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",ig,[wg,(0,s._)("div",ng,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.text]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,dg)))),128))],512),[[a.bM,o.itemCopy.upsell]]),cg])]),(0,s._)("div",ug,[(0,s._)("label",pg,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",gg," # "+(0,ot.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",mg,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),fg],8,hg)])])])),_:1},8,["visible","onCancel"])])}const vg=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!xg(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),xg=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},yg=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},_g=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},kg=(t,e)=>{t.isLoading=!0,t.errors={},Eu.create(e).then((e=>yg(t,e.data))).catch((e=>_g(t,e.response.data))).finally((()=>t.isLoading=!1))},Cg={key:0},Dg=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Sg={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},zg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Ug=(0,s._)("span",null,"Add Item",-1),qg=[zg,Ug],Pg={key:1,class:"md:tw-col-span-12 tw-col-span-12"},Lg={class:"tw-max-w-full tw-overflow-auto"},Wg={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},Ag={class:"tw-bg-gray-50"},$g={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Eg={key:0},Tg={colspan:"6"},Fg={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},jg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Ig=(0,s._)("span",null,"Add Item",-1),Vg=[jg,Ig],Og=(0,s._)("td",{colspan:"4"},null,-1),Hg=(0,s._)("td",null,null,-1),Mg={colspan:"1",class:"tw-p-2"},Rg={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Ng={key:1},Yg={colspan:"6"},Zg={class:"tw-scale-75 tw-p-5"};function Kg(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Cg,[Dg,(0,s._)("div",Sg,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},qg)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",Pg,[(0,s._)("div",Lg,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Wg,[(0,s._)("tr",Ag,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",$g,(0,ot.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",Eg,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",Tg,[(0,s._)("div",Fg,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Vg)])])]),(0,s._)("tr",null,[Og,Hg,(0,s._)("td",Mg,[(0,s._)("div",Rg,[(0,s._)("p",null,(0,ot.zw)(l.currency)+" "+(0,ot.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Ng,[(0,s._)("tr",null,[(0,s._)("td",Yg,[(0,s._)("div",Zg,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const Bg=(0,s._)("td",null,null,-1),Qg={class:"tw-p-2"},Jg={class:"tw-relative"},Gg=["value"],Xg=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),tm=["value"],em=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rm={class:"tw-p-2"},am={key:0,class:"tw-relative"},sm=["value"],lm=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),om=["value"],im={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},wm=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),nm=[wm],dm={class:"tw-p-2"},cm=["value"],um={class:"tw-p-2"},pm=["value"],gm={class:"tw-flex tw-justify-center"};function mm(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[Bg,(0,s._)("td",null,[(0,s._)("div",Qg,[(0,s._)("div",Jg,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Xg,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.name),9,tm)))),128))],40,Gg),em])])]),(0,s._)("td",null,[(0,s._)("div",rm,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",am,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[lm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.color)+" "+(0,ot.zw)(t.size),9,om)))),128))],40,sm)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",im,nm)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",dm,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,cm)])]),(0,s._)("td",null,[(0,s._)("div",um,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,pm)])]),(0,s._)("td",null,[(0,s._)("div",gm,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var hm={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const fm=(0,m.Z)(hm,[["render",mm]]);var bm=fm,vm={components:{ItemRow:bm},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return go(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const xm=(0,m.Z)(vm,[["render",Kg]]);var ym=xm;const _m=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),km={key:0,class:"tw-relative"},Cm=["value","disabled"],Dm=(0,s._)("option",{value:""},"Choose a Delivery",-1),Sm=["value"],zm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Um={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qm={key:2,class:"tw-relative"},Pm={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Lm=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Wm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function Am(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[_m,l.fetched?((0,s.wg)(),(0,s.iD)("div",km,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,ot.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Dm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,Sm)))),128))],42,Cm),zm])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Um,(0,ot.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qm,[(0,s._)("div",Pm,[(0,s.Wm)(i)]),Lm,Wm]))])}var $m={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,st.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const Em=(0,m.Z)($m,[["render",Am]]);var Tm=Em,Fm={components:{OrderItems:ym,OrderAffectation:Tm},props:{visible:{required:!0}},data(){return{confirmations:An,upsells:Tn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=vg(this,this.itemCopy);if(!t)return!1;kg(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ga.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const jm=(0,m.Z)(Fm,[["render",bg]]);var Im=jm,Vm={components:{IndexTable:Nc,IndexFilters:Cp,CreatePopup:Im},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,user_id:"all",product_id:"all"}}},methods:{async paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ga.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=mo(t.first_page_url),this.lase_page_url=mo(t.last_page_url),this.next_page_url=mo(t.next_page_url),this.prev_page_url=mo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()},provide(){return{refresh:this.paginateProducts,update:t=>{this.items=this.items.map((e=>e.id==t.id?t:e))}}}};const Om=(0,m.Z)(Vm,[["render",Yn]]);var Hm=Om;const Mm={class:"py-5 !tw-pt-0 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Rm={class:"tw-px-3"},Nm=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},null,-1),Ym={key:0};function Zm(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Mm,[(0,s._)("section",Rm,[Nm,(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Ym,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var Km={components:{IndexTable:Nc,IndexFilters:Cp,CreatePopup:Im},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,user_id:"all",product_id:"all"}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,is_affiliate:!0};return this.fetching=!0,ga.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=mo(t.first_page_url),this.lase_page_url=mo(t.last_page_url),this.next_page_url=mo(t.next_page_url),this.prev_page_url=mo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()},provide(){return{refresh:this.paginateProducts,update:t=>{this.items=this.items.map((e=>e.id==t.id?t:e))}}}};const Bm=(0,m.Z)(Km,[["render",Zm]]);var Qm=Bm;const Jm={key:0,class:"tw-p-2 tw-flex tw-items-center tw-gap-2x tw-mb-2"};var Gm={__name:"IndexProducts",setup(t){const e=(0,ye.iH)("normal");return(t,r)=>((0,s.wg)(),(0,s.iD)(s.HY,null,["admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",Jm,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>e.value="normal"),class:(0,ot.C_)(["normal"==e.value?"!tw-border-orange-500":"tw-border-gray-200","tw-py-1 tw-px-4 tw-border-b-2 tw-border-solid tw-border-gray-200 hover:tw-border-orange-200"])},"Normal",2),(0,s._)("button",{onClick:r[1]||(r[1]=t=>e.value="affiliate"),class:(0,ot.C_)(["affiliate"==e.value?"!tw-border-orange-500":"tw-border-gray-200","tw-py-1 tw-px-4 tw-border-b-2 tw-border-solid tw-border-gray-200 hover:tw-border-orange-200"])},"Affiliate",2)])):(0,s.kq)("",!0),(0,s._)("div",null,["normal"==e.value?((0,s.wg)(),(0,s.j4)((0,ye.SU)(Hm),{key:0})):(0,s.kq)("",!0),"affiliate"==e.value?((0,s.wg)(),(0,s.j4)((0,ye.SU)(Qm),{key:1})):(0,s.kq)("",!0)])],64))}};const Xm=Gm;var th=Xm,eh=r(240),rh=r(3104),ah=r(4842);const sh=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Expedition "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new expedition")],-1),lh={key:0},oh={key:1},ih={class:"mb-5"},wh=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),nh={class:"tw-w-full"},dh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),ch={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},uh={class:"tw-w-full"},ph=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Reference ",-1),gh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},mh={class:"tw-w-full"},hh={class:"mb-1 text-body-2 tw-text-zinc-700"},fh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},bh={class:"mb-1 text-body-2 tw-text-zinc-700"},vh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),yh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},_h={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},kh=(0,s._)("span",null,"Add Variants: ",-1),Ch={key:0,class:"tw-h-fit tw-mb-"},Dh=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Sh={class:"tw-relative"},zh=(0,s._)("option",{value:0},"Select",-1),Uh=["value"],qh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ph={key:1},Lh={class:"md:tw-col-span-3 tw-col-span-12"},Wh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Ah={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$h={class:"md:tw-col-span-3 tw-col-span-12"},Eh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Th={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Fh={key:2},jh={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Ih={class:"md:tw-col-span-3 tw-col-span-12"},Vh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Oh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Hh={class:"md:tw-col-span-3 tw-col-span-12"},Mh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Rh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Nh={class:"md:tw-col-span-3 tw-col-span-12"},Yh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Quantity ",-1),Zh=(0,s._)("div",{class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},null,-1),Kh={class:"md:tw-col-span-3 tw-col-span-12"},Bh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Qh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jh={class:"tw-col-span-12 tw-flex tw-justify-end"},Gh=["disabled"],Xh=(0,s._)("span",{class:"tw-text-white"},"Add",-1),tf={class:""},ef={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},rf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Variants ",-1),af={class:"mb-1 text-body-2 tw-text-zinc-700"},sf={key:1,class:"tw-max-w-full tw-overflow-x-auto"},lf={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},of={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},wf={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},nf={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},df={class:"tw-px-6 tw-py-2"},cf={class:"tw-px-6 tw-py-2"},uf={class:"tw-px-6 tw-py-2"},pf={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},gf=(0,s._)("h1",{class:"tw-font-medium"},"Image",-1),mf={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},hf={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},ff={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},bf={class:"tw-w-max tw-relative"},vf=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),xf={class:"md:tw-col-span-6 tw-col-span-12"},yf={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},_f=(0,s._)("span",null,"No image available",-1),kf=[_f],Cf={class:"mb-5"},Df=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),Sf={class:"tw-w-full"},zf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Uf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qf={class:"tw-w-full"},Pf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Lf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Wf={class:"tw-w-full"},Af=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),$f={class:"tw-relative"},Ef=["error"],Tf=(0,s._)("option",{value:"",disabled:""},"Select",-1),Ff=(0,s._)("option",{value:"Sea"},"Sea",-1),jf=(0,s._)("option",{value:"Air"},"Air",-1),If=[Tf,Ff,jf],Vf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Of={class:"tw-w-full"},Hf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),Mf={class:"tw-relative"},Rf=["error"],Nf=(0,s._)("option",{value:""},"Select",-1),Yf=(0,s._)("option",{value:"China"},"China",-1),Zf=(0,s._)("option",{value:"Dubai"},"Dubai",-1),Kf=(0,s._)("option",{value:"Turky"},"Turky",-1),Bf=[Nf,Yf,Zf,Kf],Qf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jf={class:"tw-w-full"},Gf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),Xf={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},eb={class:"mb-5"},rb=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),ab={key:0,class:"mb-5"},sb=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),lb=(0,s._)("h1",{class:"tw-font-medium"},"Deliveries",-1),ob={class:"tw-mt-2"},ib={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},wb=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),nb=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function db(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("VariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[sh,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",lh,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",oh,[(0,s._)("div",null,[(0,s._)("div",ih,[wh,(0,s.Wm)(Pa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",nh,[dh,(0,s.Wm)(dt.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ch,(0,ot.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",uh,[ph,(0,s.Wm)(dt.hw,{error:!o.formStatus.reference.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("reference")),"hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",gh,(0,ot.zw)(o.formStatus.reference.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",mh,[(0,s._)("div",hh," Buying Price ("+(0,ot.zw)(o.currency)+") ",1),(0,s.Wm)(dt.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",fh,(0,ot.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",bh," Selling Price ("+(0,ot.zw)(o.currency)+") ",1),(0,s.Wm)(dt.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",vh,(0,ot.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[xh,(0,s.Wm)(ah.z,{error:!o.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",yh,(0,ot.zw)(o.formStatus.description.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",_h,[kh,(0,s.Wm)(rh.G,{modelValue:o.addVariants,"onUpdate:modelValue":e[10]||(e[10]=t=>o.addVariants=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(La.D,{cols:"12",md:"6",class:"tw-border-l tw-border-r-neutral-700 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Ch,[Dh,(0,s._)("div",Sh,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.warehouse=t),onChange:e[12]||(e[12]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[zh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.name),9,Uh)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",qh,(0,ot.zw)(o.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),o.addVariants?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ph,[(0,s._)("div",Lh,[Wh,(0,s.Wm)(dt.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[13]||(e[13]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[14]||(e[14]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Ah,(0,ot.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",$h,[Eh,(0,s.Wm)(dt.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[15]||(e[15]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[16]||(e[16]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Th,(0,ot.zw)(o.formStatus.stockAlert.message),1)])])),o.addVariants?((0,s.wg)(),(0,s.iD)("div",Fh,[(0,s._)("div",jh,[(0,s._)("div",Ih,[Vh,(0,s.Wm)(dt.hw,{error:!o.formStatus.size.valid,onKeyup:e[17]||(e[17]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[18]||(e[18]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Oh,(0,ot.zw)(o.formStatus.size.message),1)]),(0,s._)("div",Hh,[Mh,(0,s.Wm)(dt.hw,{error:!o.formStatus.color.valid,onKeyup:e[19]||(e[19]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[20]||(e[20]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Rh,(0,ot.zw)(o.formStatus.color.message),1)]),(0,s._)("div",Nh,[Yh,(0,s.Wm)(dt.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid&&!1,onKeyup:e[21]||(e[21]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[22]||(e[22]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),Zh]),(0,s._)("div",Kh,[Bh,(0,s.Wm)(dt.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[24]||(e[24]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Qh,(0,ot.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Jh,[(0,s._)("button",{disabled:!o.quantity,class:(0,ot.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[25]||(e[25]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(nt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Xh],10,Gh)])]),(0,s._)("div",tf,[(0,s._)("div",ef,[rf,(0,s._)("div",af," Quantity Total: "+(0,ot.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,ot.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",sf,[(0,s._)("table",lf,[(0,s._)("thead",of,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","stockAlert","actions"],(t=>(0,s._)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",wf,(0,ot.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",nf,(0,ot.zw)(t.size),1),(0,s._)("td",df,(0,ot.zw)(t.color),1),(0,s._)("td",cf,(0,ot.zw)(t.quantity),1),(0,s._)("td",uf,(0,ot.zw)(t.stockAlert),1),(0,s._)("td",pf,[(0,s._)("div",null,[(0,s.Wm)(n,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(La.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[gf,(0,s._)("div",mf,[(0,s._)("div",hf,[(0,s._)("label",ff,[(0,s._)("div",bf,[(0,s.Wm)(nt.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),vf]),(0,s._)("input",{onChange:e[26]||(e[26]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",xf,[(0,s._)("div",yf,[(0,s._)("img",{class:(0,ot.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",id:"image-preview",alt:"Image Preview"},null,2),(0,s._)("div",{class:(0,ot.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},kf,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",Cf,[Df,(0,s.Wm)(Pa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Sf,[zf,(0,s.Wm)(dt.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[27]||(e[27]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[28]||(e[28]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Uf,(0,ot.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qf,[Pf,(0,s.Wm)(dt.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[29]||(e[29]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[30]||(e[30]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Lf,(0,ot.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Wf,[Af,(0,s._)("div",$f,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.transport_mode.valid,onKeyup:e[31]||(e[31]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[32]||(e[32]=t=>o.product.transport_mode=t)},If,40,Ef),[[a.bM,o.product.transport_mode]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Vf,(0,ot.zw)(o.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Of,[Hf,(0,s._)("div",Mf,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.country_of_purchase.valid,onKeyup:e[33]||(e[33]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[34]||(e[34]=t=>o.product.country_of_purchase=t)},Bf,40,Rf),[[a.bM,o.product.country_of_purchase]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Qf,(0,ot.zw)(o.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Jf,[Gf,(0,s._)("div",Xf,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[35]||(e[35]=t=>o.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,o.product.expedition_date]])]),(0,s._)("div",tb,(0,ot.zw)(o.formStatus.expedition_date.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",eb,[rb,(0,s.Wm)(Pa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[36]||(e[36]=t=>o.offers=t)},null,8,["offers"])])])),_:1})])),_:1})]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",ab,[sb,(0,s.Wm)(Pa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[lb,(0,s._)("div",ob,[(0,s.Wm)(eh.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[37]||(e[37]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",ib,[(0,s.Wm)(it.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[wb])),_:1}),(0,s.Wm)(it.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[nb])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}function cb(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("UpdateProductVariant"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(it.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(it.T,{onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(n,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"])])}const ub={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},pb={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},gb={class:"tw-col-span-12"},mb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),hb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},fb={class:"tw-col-span-12"},bb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),vb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xb={class:"tw-col-span-12"},yb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),_b={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kb={class:"tw-col-span-12"},Cb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),Db={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Sb={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end"},zb=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),Ub=[zb],qb=["disabled"],Pb=(0,s._)("span",{class:"tw-text-white"},"Save",-1),Lb=[Pb];function Wb(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",ub,[(0,s._)("div",pb,[(0,s._)("div",gb,[mb,(0,s.Wm)(dt.hw,{error:!l.formStatus.size.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[1]||(e[1]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",hb,(0,ot.zw)(l.formStatus.size.message),1)]),(0,s._)("div",fb,[bb,(0,s.Wm)(dt.hw,{error:!l.formStatus.color.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[3]||(e[3]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",vb,(0,ot.zw)(l.formStatus.color.message),1)]),(0,s._)("div",xb,[yb,(0,s.Wm)(dt.hw,{onChange:o.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[5]||(e[5]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",_b,(0,ot.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",kb,[Cb,(0,s.Wm)(dt.hw,{onChange:o.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[6]||(e[6]=t=>o.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[7]||(e[7]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Db,(0,ot.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Sb,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},Ub),(0,s._)("button",{disabled:!l.quantity,class:(0,ot.C_)([{"tw-bg-orange-500":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[9]||(e[9]=(...t)=>o.updateVariant&&o.updateVariant(...t))},Lb,10,qb)])])])}var Ab={props:["variant"],data(){return{size:"",color:"",quantity:0,stockAlert:0,newVariant:null,formStatus:{quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""}}}},methods:{updateVariant(){console.log("updated");const t=this.quantity-this.newVariant.quantity;this.newVariant.size=this.size?this.size.toLocaleUpperCase():"",this.newVariant.color=this.color?this.color.toLocaleUpperCase():"",this.newVariant.quantity=this.quantity,this.newVariant.stockAlert=this.stockAlert,this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(t),this.cancel()},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},cancel(){this.$emit("cancel")},resetError(t){this.formStatus[t]={valid:!0,message:""}}},mounted(){this.size=this.variant.size,this.color=this.variant.color,this.quantity=this.variant.quantity,this.stockAlert=this.variant.stockAlert,this.newVariant=this.variant}};const $b=(0,m.Z)(Ab,[["render",Wb]]);var Eb=$b,Tb={components:{UpdateProductVariant:Eb},props:["variant"],data(){return{visible:!1,deletePopup:!1}},methods:{cancel(){this.visible=!1},update(t){console.log("from actions: ",t)},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}}};const Fb=(0,m.Z)(Tb,[["render",cb]]);var jb=Fb;class Ib{async create(t){return await E.getCookie(),A.post("api/warehouses/new",{name:t.name})}async update(t,e){return await E.getCookie(),A.post("api/warehouses/update/"+t,{name:e.name})}async all(){return await E.getCookie(),A.get("api/warehouses")}async getWarehouse(t){return await E.getCookie(),A.get("api/warehouses/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/warehouses/delete/"+t)}}var Vb=new Ib;const Ob=(0,s._)("h1",{class:"tw-font-medium"},"Offers",-1),Hb={class:"tw-grid tw-grid-cols-12 tw-mb-5 tw-mt-3 tw-gap-3"},Mb={class:"md:tw-col-span-3 tw-col-span-12"},Rb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Nb={class:"md:tw-col-span-3 tw-col-span-12"},Yb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),Zb={class:"md:tw-col-span-5 tw-col-span-12"},Kb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),Bb={class:"md:tw-col-span-1 tw-col-span-12"},Qb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-transparent"},"Note",-1),Jb={class:"tw-mt-2"},Gb={class:"tw-relative tw-overflow-x-auto tw-shadow sm:tw-rounded"},Xb={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},tv=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-24"},"Action")])],-1),ev={class:"tw-px-6 tw-py-4"},rv={class:"tw-px-6 tw-py-4"},av={class:"tw-px-6 tw-py-4"},sv={class:"tw-max-w-[250px] tw-text-sm"},lv={class:"tw-px-6 tw-py-4"},ov={key:0},iv=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),wv=[iv];function nv(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[Ob,(0,s._)("div",Hb,[(0,s._)("div",Mb,[Rb,(0,s.Wm)(dt.hw,{type:"number","hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[0]||(e[0]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Nb,[Yb,(0,s.Wm)(dt.hw,{type:"number","hide-details":!0,modelValue:l.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Zb,[Kb,(0,s.Wm)(dt.hw,{type:"text","hide-details":!0,modelValue:l.note,"onUpdate:modelValue":e[2]||(e[2]=t=>l.note=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Bb,[Qb,(0,s.Wm)(it.T,{onClick:o.handleAdd,class:"mx-auto !tw-px-0 !tw-py-0","min-height":"40px","min-width":"40",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])]),(0,s._)("div",Jb,[(0,s._)("div",Gb,[(0,s._)("table",Xb,[tv,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",ev,(0,ot.zw)(t.quantity),1),(0,s._)("td",rv,(0,ot.zw)(t.price)+" "+(0,ot.zw)(l.currency),1),(0,s._)("td",av,[(0,s._)("p",sv,(0,ot.zw)(t.note),1)]),(0,s._)("td",lv,[(0,s.Wm)(it.T,{onClick:e=>o.handleDeleteClicked(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==r.offers.length?((0,s.wg)(),(0,s.iD)("tr",ov,wv)):(0,s.kq)("",!0)])])])]),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this offer?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"])])}var dv={props:["offers"],data(){return{currency:c,deletePopup:!1,toDeleteID:null,quantity:1,price:0,note:""}},methods:{handleDeleteClicked(t){this.toDeleteID=t,this.deletePopup=!0},handleDelete(t){if(this.deletePopup=!1,!t)return!1;this.$emit("update:offers",this.offers.filter((t=>t.id!=this.toDeleteID)))},handleAdd(){const t=this.offers.length>0?this.offers[this.offers.length-1].id:0,e=t+1,r={id:e,quantity:this.quantity,price:this.price,note:this.note};this.$emit("update:offers",[...this.offers,r]),this.quantity=1,this.price=0,this.note=""}}};const cv=(0,m.Z)(dv,[["render",nv]]);var uv=cv,pv={components:{VariantActions:jb,ProductOffers:uv},data(){return{currency:c,isLoading:!1,isLoaded:!1,addVariants:!1,variantId:1,variants:[],image:"",imageFile:null,color:"",size:"",quantity:0,warehouse:0,stockAlert:0,offers:[],product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},reference:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},warehouse:{valid:!0,message:""},variants:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;if(t.addVariants=this.addVariants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t}))),this.addVariants)t.variants=this.variants;else{const e=[{id:this.variantId,color:null,size:null,quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert}];t.variants=e}ga.create(t).then((t=>{"PRODUCT_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.product={name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},this.offers=[],this.selectedDeliveries=[],this.variants=[],this.$store.dispatch("product/addProduct",t.data.data.product)),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Wt(this.product.name,"Product name"),this.formStatus.reference=Wt(this.product.reference,"Reference"),this.formStatus.buyingPrice=Wt(this.product.buyingPrice,"Buying price"),this.formStatus.link_store=Wt(this.product.link_store,"Link store"),this.formStatus.link_video=Wt(this.product.link_video,"Link video"),this.formStatus.transport_mode=Wt(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=Wt(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=Wt(this.product.country_of_purchase,"Country of purchase"),this.formStatus.quantity=Wt(this.quantity,"Quantity"),this.formStatus.sellingPrice=Wt(this.product.sellingPrice,"Selling price"),this.formStatus.description=Wt(this.product.description,"Description"),this.formStatus.variants=Et(this.variants),this.addVariants||"admin"!=this.user.role||(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"}),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.reference.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&(!this.addVariants||this.formStatus.variants.valid)&&(!!this.addVariants||this.formStatus.quantity.valid)&&(!!this.addVariants||this.formStatus.warehouse.valid)},addVariant(){if("admin"==this.user.role&&(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"},!this.formStatus.warehouse.valid))return!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.stockAlert=0,this.color="",this.size="",this.quantity=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return this.isLoaded=!1,Vb.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getWarhouses();const t=this.deliveries[1];t&&(this.selectedDeliveries=[t.id])}};const gv=(0,m.Z)(pv,[["render",db]]);var mv=gv;const hv=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update product informations")],-1),fv={key:0},bv={key:1},vv={key:0,class:"tw-flex py-3 px-5 tw-border tw-justify-between bg-white tw-w-full tw-rounded-md tw-text-neutral-800 tw-items-center tw-mb-5"},xv={class:"tw-flex tw-items-center"},yv={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},_v={class:"tw-w-full tw-flex tw-items-center"},kv=(0,s._)("div",{class:"text-body-2 tw-text-zinc-700"},"Status Approval :",-1),Cv={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Dv=["disabled"],Sv=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),zv={class:"mb-5 px-3"},Uv=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),qv={class:"tw-w-full"},Pv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),Lv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Wv={class:"tw-w-full"},Av=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),$v={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ev={class:"tw-w-full"},Tv={class:"mb-1 text-body-2 tw-text-zinc-700"},Fv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},jv={class:"mb-1 text-body-2 tw-text-zinc-700"},Iv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),Ov={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Hv={key:0,class:"tw-h-fit tw-mb-"},Mv=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Rv={class:"tw-relative"},Nv=(0,s._)("option",{value:0},"Select",-1),Yv=["value"],Zv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Kv={key:0,class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Bv={class:"md:tw-col-span-3 tw-col-span-12"},Qv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Jv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Gv={class:"md:tw-col-span-3 tw-col-span-12"},Xv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),tx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ex={class:"md:tw-col-span-3 tw-col-span-12"},rx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),ax={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sx={class:"md:tw-col-span-3 tw-col-span-12"},lx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),ox={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ix={key:1},wx={class:"tw-col-span-12 tw-flex tw-justify-end"},nx=["disabled"],dx=(0,s._)("span",{class:"tw-text-white"},"Add",-1),cx={class:""},ux={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},px=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),gx={class:"mb-1 text-body-2 tw-text-zinc-700"},mx={key:1,class:"tw-max-w-full tw-overflow-x-auto"},hx={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},fx={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},bx={key:0,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},vx=(0,s._)("div",{class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"}," warehouse ",-1),xx=[vx],yx={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},_x={key:0,class:"tw-px-6 tw-py-2 tw-capitalize"},kx={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Cx={class:"tw-px-6 tw-py-2"},Dx={class:"tw-px-6 tw-py-2"},Sx={class:"tw-flex tw-flex-col"},zx={key:0,class:"tw-text-xs tw-text-green-500"},Ux={class:"tw-px-6 tw-py-2"},qx={key:1,class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},Px=(0,s._)("h1",null,"Image",-1),Lx={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},Wx={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},Ax={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},$x={class:"tw-w-max tw-relative"},Ex=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),Tx={class:"md:tw-col-span-6 tw-col-span-12"},Fx={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},jx=["src"],Ix=(0,s._)("span",null,"No image available",-1),Vx=[Ix],Ox={class:"mb-5"},Hx=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),Mx={class:"tw-w-full"},Rx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Nx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Yx={class:"tw-w-full"},Zx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Kx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Bx={class:"tw-w-full"},Qx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),Jx={class:"tw-relative"},Gx=["error"],Xx=(0,s._)("option",{value:""},"Select",-1),ty=(0,s._)("option",{value:"Sea"},"Sea",-1),ey=(0,s._)("option",{value:"Air"},"Air",-1),ry=[Xx,ty,ey],ay={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sy={class:"tw-w-full"},ly=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),oy={class:"tw-relative"},iy=["error"],wy=(0,s._)("option",{value:""},"Select",-1),ny=(0,s._)("option",{value:"China"},"China",-1),dy=(0,s._)("option",{value:"Dubai"},"Dubai",-1),cy=(0,s._)("option",{value:"Turky"},"Turky",-1),uy=[wy,ny,dy,cy],py={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gy={class:"tw-w-full"},my=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),hy={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},by={class:"mb-5"},vy=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),xy={class:"mb-5"},yy=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),_y=(0,s._)("h1",null,"Deliveries",-1),ky={class:"tw-mt-2"},Cy={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Dy=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Sy=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function zy(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UpdateVariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[hv,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fv,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",bv,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("div",vv,[(0,s._)("div",xv,[(0,s.Uk)(" Product ID: "),(0,s._)("span",yv,(0,ot.zw)(i.id),1)]),(0,s._)("div",null,[(0,s._)("div",_v,[kv,(0,s._)("label",Cv,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingStatus,"onUpdate:modelValue":e[0]||(e[0]=t=>o.status=t),onChange:e[1]||(e[1]=(...t)=>i.updateApprouved&&i.updateApprouved(...t)),type:"checkbox",class:"tw-sr-only tw-peer"},null,40,Dv),[[a.e8,o.status]]),Sv]),o.isLoadingStatus?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("div",zv,[Uv,(0,s.Wm)(Pa.o,{class:"py-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qv,[Pv,(0,s.Wm)(dt.hw,{error:!o.formStatus.name.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Lv,(0,ot.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Wv,[Av,(0,s.Wm)(dt.hw,{error:!o.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("quantity")),disabled:"","hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",$v,(0,ot.zw)(o.formStatus.quantity.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ev,[(0,s._)("div",Tv," Buying Price ("+(0,ot.zw)(o.currency)+") ",1),(0,s.Wm)(dt.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Fv,(0,ot.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",jv," Selling Price ("+(0,ot.zw)(o.currency)+") ",1),(0,s.Wm)(dt.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Iv,(0,ot.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Vv,(0,s.Wm)(ah.z,{error:!o.formStatus.description.valid,onKeyup:e[10]||(e[10]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[11]||(e[11]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",Ov,(0,ot.zw)(o.formStatus.description.message),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(La.D,{cols:"12",md:"12",class:"tw-border-t tw-border-t-neutral-300 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Hv,[Mv,(0,s._)("div",Rv,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.warehouse=t),onChange:e[13]||(e[13]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Nv,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.name),9,Yv)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Zv,(0,ot.zw)(o.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),(0,s._)("div",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Kv,[(0,s._)("div",Bv,[Qv,(0,s.Wm)(dt.hw,{error:!o.formStatus.size.valid,onKeyup:e[14]||(e[14]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[15]||(e[15]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Jv,(0,ot.zw)(o.formStatus.size.message),1)]),(0,s._)("div",Gv,[Xv,(0,s.Wm)(dt.hw,{error:!o.formStatus.color.valid,onKeyup:e[16]||(e[16]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[17]||(e[17]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",tx,(0,ot.zw)(o.formStatus.color.message),1)]),(0,s._)("div",ex,[rx,(0,s.Wm)(dt.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[18]||(e[18]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[19]||(e[19]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ax,(0,ot.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",sx,[lx,(0,s.Wm)(dt.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[20]||(e[20]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[21]||(e[21]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ox,(0,ot.zw)(o.formStatus.stockAlert.message),1)])])):(0,s.kq)("",!0),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",ix,[(0,s._)("div",wx,[(0,s._)("button",{disabled:!o.quantity,class:(0,ot.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[22]||(e[22]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(nt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),dx],10,nx)])])):(0,s.kq)("",!0),(0,s._)("div",cx,[(0,s._)("div",ux,[px,(0,s._)("div",gx," Quantity Total: "+(0,ot.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,ot.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",mx,[(0,s._)("table",hx,[(0,s._)("thead",fx,[(0,s._)("tr",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("th",bx,xx)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","Stock Alert","admin"==i.user.role?"actions":""],(t=>((0,s.wg)(),(0,s.iD)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",yx,(0,ot.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",_x,(0,ot.zw)(t.warehouse.name),1)):(0,s.kq)("",!0),(0,s._)("td",kx,(0,ot.zw)(t.size),1),(0,s._)("td",Cx,(0,ot.zw)(t.color),1),(0,s._)("td",Dx,[(0,s._)("div",Sx,[(0,s._)("span",null,(0,ot.zw)(t.quantity),1),t.created_at?((0,s.wg)(),(0,s.iD)("span",zx,(0,ot.zw)(t.available_quantity),1)):(0,s.kq)("",!0)])]),(0,s._)("td",Ux,(0,ot.zw)(t.stockAlert),1),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",qx,[(0,s._)("div",null,[(0,s.Wm)(n,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])):(0,s.kq)("",!0)])))),128))])])]))])])])),_:1}),(0,s.Wm)(La.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Px,(0,s._)("div",Lx,[(0,s._)("div",Wx,[(0,s._)("label",Ax,[(0,s._)("div",$x,[(0,s.Wm)(nt.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),Ex]),(0,s._)("input",{onChange:e[23]||(e[23]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",Tx,[(0,s._)("div",Fx,[(0,s._)("img",{class:(0,ot.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",src:o.serverUrl+"storage/"+o.image,id:"image-preview",alt:"Image Preview"},null,10,jx),(0,s._)("div",{class:(0,ot.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},Vx,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",Ox,[Hx,(0,s.Wm)(Pa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Mx,[Rx,(0,s.Wm)(dt.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[24]||(e[24]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[25]||(e[25]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Nx,(0,ot.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Yx,[Zx,(0,s.Wm)(dt.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[26]||(e[26]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[27]||(e[27]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Kx,(0,ot.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Bx,[Qx,(0,s._)("div",Jx,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.transport_mode.valid,onKeyup:e[28]||(e[28]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[29]||(e[29]=t=>o.product.transport_mode=t)},ry,40,Gx),[[a.bM,o.product.transport_mode]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",ay,(0,ot.zw)(o.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",sy,[ly,(0,s._)("div",oy,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.country_of_purchase.valid,onKeyup:e[30]||(e[30]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[31]||(e[31]=t=>o.product.country_of_purchase=t)},uy,40,iy),[[a.bM,o.product.country_of_purchase]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",py,(0,ot.zw)(o.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",gy,[my,(0,s._)("div",hy,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[32]||(e[32]=t=>o.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,o.product.expedition_date]])]),(0,s._)("div",fy,(0,ot.zw)(o.formStatus.expedition_date.message),1)])])),_:1})])),_:1})]),(0,s._)("div",by,[vy,(0,s.Wm)(Pa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[33]||(e[33]=t=>o.offers=t)},null,8,["offers"])])])),_:1})])),_:1})])]),(0,s._)("div",xy,[yy,(0,s.Wm)(Pa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.j4)(La.D,{key:0,cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[_y,(0,s._)("div",ky,[(0,s.Wm)(eh.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[34]||(e[34]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",Cy,[(0,s.Wm)(it.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Dy])),_:1}),(0,s.Wm)(it.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Sy])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}const Uy={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},qy={class:"tw-w-full"},Py=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Add quantity",-1),Ly={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end tw-mt-3"},Wy=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),Ay=[Wy],$y=["disabled"],Ey=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Ty=[Ey];function Fy(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("UpdateProductVariant"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[r.variant.created_at?((0,s.wg)(),(0,s.j4)(it.T,{key:0,onClick:e[0]||(e[0]=t=>l.visibleAdd=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1})):(0,s.kq)("",!0),void 0===r.variant.on_hold||r.variant.available_quantity==r.variant.quantity?((0,s.wg)(),(0,s.j4)(it.T,{key:1,onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(it.T,{onClick:e[2]||(e[2]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(n,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"]),(0,s.Wm)(n,{visible:l.visibleAdd,onCancel:o.cancelAdd},{default:(0,s.w5)((()=>[(0,s._)("div",Uy,[(0,s._)("div",qy,[Py,(0,s.Wm)(dt.hw,{"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>l.quantity=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Ly,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.cancelAdd&&o.cancelAdd(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},Ay),(0,s._)("button",{disabled:!l.quantity||0==l.quantity,class:(0,ot.C_)([{"!tw-bg-green-500":0!=l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[5]||(e[5]=(...t)=>o.addQuantity&&o.addQuantity(...t))},Ty,10,$y)])])])),_:1},8,["visible","onCancel"])])}var jy={components:{UpdateProductVariant:Eb},props:["variant"],data(){return{visible:!1,visibleAdd:!1,deletePopup:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1},cancelAdd(){this.visibleAdd=!1},update(t){console.log("from actions: ",t)},addQuantity(){this.newVariant.quantity=parseInt(this.newVariant.quantity)+parseInt(this.quantity),this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(this.quantity),this.quantity=1,this.cancelAdd()},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}},mounted(){this.newVariant=this.variant}};const Iy=(0,m.Z)(jy,[["render",Fy]]);var Vy=Iy,Oy={components:{UpdateVariantActions:Vy,ProductOffers:uv},data(){return{currency:c,serverUrl:n,isLoading:!1,isLoaded:!1,variantId:1,variants:[],color:"",size:"",quantity:0,stockAlert:0,image:"",imageFile:null,offers:[],isLoadingStatus:!1,status:!1,note:null,warehouse:0,product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},variants:{valid:!0,message:""},warehouse:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},id(){return this.$route.params.id},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;t.variants=this.variants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t,product_id:this.id}))),ga.update(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message}),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},updateApprouved(){this.isLoadingStatus=!0;const t={status:!!this.status,note:this.note};ga.updateStatus(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("product/setProduct",t.data.data.product),this.$emit("cancel")),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingStatus=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},getLastVariantId(t){return Math.max(...t.map((t=>t.id)))+1},validate(){return this.formStatus.name=Wt(this.product.name,"Product name"),this.formStatus.buyingPrice=Wt(this.product.buyingPrice,"Buying price"),this.formStatus.sellingPrice=Wt(this.product.sellingPrice,"Selling price"),this.formStatus.link_store=Wt(this.product.link_store,"Link store"),this.formStatus.link_video=Wt(this.product.link_video,"Link video"),this.formStatus.transport_mode=Wt(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=Wt(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=Wt(this.product.country_of_purchase,"Country of purchase"),this.formStatus.description=Wt(this.product.description,"Description"),this.formStatus.variants=Et(this.variants),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.sellingPrice&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.description.valid&&this.formStatus.variants.valid},addVariant(){if(0==this.warehouse)return this.$alert({type:"warning",title:"Select warehouse"}),!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,warehouse:this.warehouses.find((t=>t.id==this.warehouse)),stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.color="",this.size="",this.quantity=0,this.stockAlert=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.quantity<=0&&(this.quantity=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return Vb.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),t)),this.$handleApiError)},getProduct(){return ga.getProduct(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{variations:e,buying_price:r,selling_price:a,ref:s,link_video:l,link_store:o,expedition_date:i,transport_mode:w,country_of_purchase:n,name:d,description:c,deliveries:u,image:p,offers:g,status:m}=t.data.data.products;return this.variants=e,this.product.buyingPrice=r,this.product.sellingPrice=a,this.product.name=d,this.product.reference=s,this.product.link_video=l,this.product.link_store=o,this.product.expedition_date=i?i.split(" ")[0]:null,this.product.transport_mode=w,this.product.country_of_purchase=n,this.product.description=c,this.image=p,this.offers=g,this.status=Boolean(m),this.variantId=this.getLastVariantId(e),this.selectedDeliveries=u.map((t=>t.delivery_id)),this.isLoaded=!0,t}}),this.$handleApiError)},getData(){this.isLoaded=!1,Promise.allSettled([this.getWarhouses(),this.getProduct()]).then((t=>{t.every((t=>"fulfilled"==t.status))&&(this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getData()}};const Hy=(0,m.Z)(Oy,[["render",zy]]);var My=Hy;const Ry={class:"tw-pb-14"},Ny=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Show product informations")],-1),Yy={key:0},Zy={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ky={class:"tw-grid tw-grid-cols-12 tw-gap-2"},By={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Qy=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Name:",-1),Jy={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Gy={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Xy=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Reference:",-1),t_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},e_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},r_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Buying Price:",-1),a_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},s_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},l_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Selling Price:",-1),o_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},i_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},w_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Delivered:",-1),n_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},d_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},c_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Sent:",-1),u_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},p_={class:"tw-col-span-12 md:tw-col-span-12 tw-flex tw-gap-2 tw-flex-col tw-flex-wrap"},g_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Description:",-1),m_={class:"tw-text-neutral-800 tw-font-medium"},h_={key:2,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},f_={key:3,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},b_={class:"tw-grid tw-grid-cols-12 tw-gap-2"},v_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},x_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Store Link:",-1),y_=["href"],__={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},k_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Video Link:",-1),C_=["href"],D_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},S_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Expidition Date:",-1),z_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},U_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},q_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Transport Mode:",-1),P_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},L_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},W_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Country Of Purchase:",-1),A_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},$_={key:4,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},E_={key:5,class:"tw-border bg-white tw-w-full tw-rounded-md"},T_={key:6,class:"tw-text-neutral-700 tw-font-bold tw-mt-5 tw-mb-1"},F_={key:7,class:"tw-overflow-hidden tw-border bg-white tw-w-full tw-rounded-md"},j_={class:"tw-max-w-full tw-overflow-auto"},I_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},V_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},O_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},H_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},M_={key:0},R_={key:1},N_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Y_={class:"tw-px-6 tw-py-2"},Z_={class:"tw-px-6 tw-py-2"},K_={class:"tw-flex tw-flex-col"},B_={class:"tw-px-6 tw-py-2"},Q_={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},J_=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),G_=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),X_=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1),tk={class:"tw-px-6 tw-py-2"},ek={class:"tw-flex tw-flex-col tw-font-medium"},rk=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1);function ak(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ProductTracking");return(0,s.wg)(),(0,s.iD)("div",Ry,[Ny,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Yy,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Zy,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",Ky,[(0,s._)("div",By,[Qy,(0,s._)("p",Jy,(0,ot.zw)(l.product.name),1)]),(0,s._)("div",Gy,[Xy,(0,s._)("p",t_,(0,ot.zw)(l.product.ref),1)]),(0,s._)("div",e_,[r_,(0,s._)("p",a_,(0,ot.zw)(l.product.buying_price)+" "+(0,ot.zw)(l.currency),1)]),(0,s._)("div",s_,[l_,(0,s._)("p",o_,(0,ot.zw)(l.product.selling_price)+" "+(0,ot.zw)(l.currency),1)]),(0,s._)("div",i_,[w_,(0,s._)("p",n_,(0,ot.zw)(o.qtyTotalDelivered),1)]),(0,s._)("div",d_,[c_,(0,s._)("p",u_,(0,ot.zw)(o.qtyTotalSent),1)]),(0,s._)("div",p_,[g_,(0,s._)("p",m_,(0,ot.zw)(l.product.description),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",h_,"Expidition Infos")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",f_,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",b_,[(0,s._)("div",v_,[x_,(0,s._)("a",{target:"_blank",href:l.product.link_store,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,ot.zw)(l.product.link_store),9,y_)]),(0,s._)("div",__,[k_,(0,s._)("a",{target:"_blank",href:l.product.link_video,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,ot.zw)(l.product.link_video),9,C_)]),(0,s._)("div",D_,[S_,(0,s._)("p",z_,(0,ot.zw)(l.product.expedition_date.split(" ")[0]),1)]),(0,s._)("div",U_,[q_,(0,s._)("p",P_,(0,ot.zw)(l.product.transport_mode),1)]),(0,s._)("div",L_,[W_,(0,s._)("p",A_,(0,ot.zw)(l.product.country_of_purchase),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",$_,"Tracking")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",E_,[(0,s.Wm)(w,{product:l.product},null,8,["product"])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",T_,"Variations")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",F_,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",j_,[(0,s._)("table",I_,[(0,s._)("thead",V_,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","size","color","qty","Stock Alert"],(t=>(0,s._)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",O_,(0,ot.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",H_,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",M_,(0,ot.zw)(t.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",R_,(0,ot.zw)(e+1),1)):(0,s.kq)("",!0)]),(0,s._)("th",N_,(0,ot.zw)(t.size),1),(0,s._)("td",Y_,(0,ot.zw)(t.color),1),(0,s._)("td",Z_,[(0,s._)("div",K_,[(0,s._)("span",null,"Initial: "+(0,ot.zw)(t.quantity),1)])]),(0,s._)("td",B_,(0,ot.zw)(t.stockAlert),1)])))),128)),(0,s._)("tr",Q_,[J_,G_,X_,(0,s._)("td",tk,[(0,s._)("div",ek,[(0,s._)("span",null,"Total: "+(0,ot.zw)(o.qtyTotal),1)])]),rk])])])])])])])):(0,s.kq)("",!0)])}const sk={class:"tw-flex tw-items-ce tw-gap-1 tw-border-b tw-border-solid tw-border-neutral-200"},lk=["onClick"];function ok(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingTable");return(0,s.wg)(),(0,s.j4)(ys._,{flat:"",class:"tw-p-1"},{default:(0,s.w5)((()=>[(0,s._)("div",sk,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,onClick:e=>l.tab=t.id,class:(0,ot.C_)(["tw-px-4 tw-py-2 tw-rounded-t hover:tw-border-orange-500/50 tw-duration-300 tw-border tw-border-solid tw-border-neutral-200 tw-text-neutral-500 tw-border-b-0",{"tw-bg-orange-500 !tw-text-white tw-border-transparent":t.id==l.tab}])},(0,ot.zw)(t.name),11,lk)))),128))]),(0,s.kq)("",!0),(0,s.Wm)(Cs.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Ds.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{product:r.product,source:t.source},null,8,["product","source"])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const ik={class:"tw-mt-5"},wk={class:"tw-max-w-full tw-overflow-auto"},nk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},dk={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},ck={key:0},uk={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},pk={key:1},gk={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"};function mk(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingRow");return(0,s.wg)(),(0,s.iD)("div",ik,[(0,s._)("div",wk,[(0,s._)("table",nk,[(0,s._)("thead",dk,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",ck,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","name","quantity","actions"],(t=>(0,s._)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",uk,(0,ot.zw)(t),1)],2))),64))])):(0,s.kq)("",!0),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",pk,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","quantity","actions"],(t=>(0,s._)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",gk,(0,ot.zw)(t),1)],2))),64))])):(0,s.kq)("",!0)]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{item:t,index:e+1,key:t.id,source:r.source},null,8,["item","index","source"])))),128))])])])])}const hk={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},fk={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},bk={class:"tw-flex tw-items-start tw-h-full"},vk={key:0},xk={key:1},yk={key:0,scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},_k={class:"tw-px-6 tw-py-2"},kk={key:0},Ck={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Dk={key:0,class:"tw-h-fit tw-py-2"},Sk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),zk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Uk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),qk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Pk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Lk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Wk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Ak={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},$k={key:1},Ek={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Tk={key:0,class:"tw-h-fit tw-py-2"},Fk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),jk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Ik=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),Vk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Ok=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Hk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Mk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Rk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Nk={class:"tw-px-6 tw-py-2 tw-space-x-3"};function Yk(t,e,r,a,l,o){const i=(0,s.up)("ShowProductVariantActions");return(0,s.wg)(),(0,s.iD)("tr",hk,[(0,s._)("th",fk,[(0,s._)("div",bk,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",vk,(0,ot.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",xk,(0,ot.zw)(r.index),1)):(0,s.kq)("",!0)])]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("th",yk,(0,ot.zw)(r.item.name),1)):(0,s.kq)("",!0),(0,s._)("td",_k,["warehouses"==r.source?((0,s.wg)(),(0,s.iD)("div",kk,[(0,s._)("div",Ck,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,ot.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(jt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",Dk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Sk,(0,s._)("td",zk,(0,ot.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[Uk,(0,s._)("td",qk,(0,ot.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[Pk,(0,s._)("td",Lk,(0,ot.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Wk,(0,s._)("td",Ak,(0,ot.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0),"deliveries"==r.source?((0,s.wg)(),(0,s.iD)("div",$k,[(0,s._)("div",Ek,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,ot.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(jt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",Tk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Fk,(0,s._)("td",jk,(0,ot.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[Ik,(0,s._)("td",Vk,(0,ot.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[Ok,(0,s._)("td",Hk,(0,ot.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Mk,(0,s._)("td",Rk,(0,ot.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("td",Nk,[(0,s._)("div",null,[(0,s.Wm)(i,{type:r.source,source:r.item},null,8,["type","source"])])])])}function Zk(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetails");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(it.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue-lighten-2",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})])),_:1}),(0,s.Wm)(i,{visible:l.visible,onCancel:o.cancel,type:r.type,source:r.source},null,8,["visible","onCancel","type","source"])])}const Kk={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Bk={class:"tw-p-5"},Qk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Jk=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},"SIZE"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"},"COLOR"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1);function Gk(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetailsRow"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Kk,[(0,s.Wm)(it.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Bk,[(0,s._)("table",Qk,[Jk,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.source.product_variations,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{index:e,key:t.id,item:t,type:r.type},null,8,["index","item","type"])))),128))])]),(0,s.kq)("",!0)])])])),_:1},8,["visible","onCancel"])])}const Xk={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},tC={class:"tw-w-4 tw-px-2 tw-py-1"},eC={key:0},rC={key:1},aC={class:"tw-w-4 tw-px-2 tw-py-1"},sC={class:"tw-w-4 tw-px-2 tw-py-1"},lC={class:"tw-w-4 tw-px-2 tw-py-1"},oC={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},iC={key:0,class:"tw-h-fit tw-py-2"},wC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),nC={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},dC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),cC={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},uC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),pC={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},gC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),mC={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"};function hC(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",Xk,[(0,s._)("td",tC,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",eC,(0,ot.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",rC,(0,ot.zw)(r.index+1),1)):(0,s.kq)("",!0)]),(0,s._)("td",aC,(0,ot.zw)(r.item.size),1),(0,s._)("td",sC,(0,ot.zw)(r.item.color),1),(0,s._)("td",lC,[(0,s._)("div",null,[(0,s._)("div",oC,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null," Total: "+(0,ot.zw)(r.item.on_hand_quantity),1),(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(jt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",iC,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[wC,(0,s._)("td",nC,(0,ot.zw)(r.item.movements_total_confirmed_quantity),1)]),(0,s._)("tr",null,[dC,(0,s._)("td",cC,(0,ot.zw)(r.item.movements_total_not_confirmed_quantity),1)]),(0,s._)("tr",null,[uC,(0,s._)("td",pC,(0,ot.zw)(r.item.total_shipped_quantity),1)]),(0,s._)("tr",null,[gC,(0,s._)("td",mC,(0,ot.zw)(r.item.total_delivered_quantity),1)])])])])):(0,s.kq)("",!0)])),_:1})])])])}var fC={props:["type","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}}};const bC=(0,m.Z)(fC,[["render",hC]]);var vC=bC,xC={props:["visible","source","type"],components:{ProductVariantDetailsRow:vC},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const yC=(0,m.Z)(xC,[["render",Gk]]);var _C=yC,kC={props:["product","source","type"],components:{ProductVariantDetails:_C},data(){return{visible:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1}},mounted(){console.log(this.source)}};const CC=(0,m.Z)(kC,[["render",Zk]]);var DC=CC,SC={components:{ShowProductVariantActions:DC},props:["source","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{get_total_quantity(t,e="on_hand_quantity"){let r=0;return t.forEach((t=>{r+=t[e]})),r}}};const zC=(0,m.Z)(SC,[["render",Yk]]);var UC=zC,qC={props:["product","source"],components:{ProductTrackingRow:UC},computed:{user(){return this.$store.getters["user/user"]},items(){return this.product.tracking[this.source]}},methods:{},mounted(){}};const PC=(0,m.Z)(qC,[["render",mk]]);var LC=PC,WC={components:{ProductTrackingTable:LC},props:["product"],data(){return{tab:1,tabs:[{id:1,name:"Deliveries",source:"deliveries"},{id:2,name:"Warehouses",source:"warehouses"}]}}};const AC=(0,m.Z)(WC,[["render",ok]]);var $C=AC,EC={components:{ProductTracking:$C},data(){return{currency:c,isLoading:!1,isLoaded:!1,variantId:1,variants:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""}}},computed:{user(){return this.$store.getters["user/user"]},qtyTotalDelivered(){let t=0;return this.product.tracking.deliveries.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),t},qtyTotalSent(){let t=0;return this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.movements_total_confirmed_quantity,t+=e.movements_total_not_confirmed_quantity}))})),t},qtyTotal(){if(this.isLoaded){let t=0;return this.product.variations.forEach((e=>{t+=e.quantity})),t}return 0}},methods:{getProduct(){const t=this.$route.params.id;ga.getProduct(t).then((t=>{"SUCCESS"==t.data.code&&(this.product=t.data.data.products,this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getProduct()}};const TC=(0,m.Z)(EC,[["render",ak]]);var FC=TC;class jC{async paginate(t="",e){return await E.getCookie(),A.post("api/supply-requests"+t,e)}async create(t){return await E.getCookie(),A.post("api/supply-requests/new",t)}async update(t,e){return await E.getCookie(),A.post("api/supply-requests/"+t,e)}async delete(t){return await E.getCookie(),A["delete"]("api/supply-requests/"+t)}}var IC=new jC;const VC={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},OC=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),HC={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},MC=["disabled"],RC=["disabled"];var NC={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=(0,ye.iH)(!1),l=t,o=(0,i.oR)(),w=async()=>{a.value=!0,await IC["delete"](l.item.id).then((t=>{"SUCCESS"==t.data.code&&(o.dispatch("supply-request/deleteSupplyRequest",l.item.id),Lc("Deleted Successfully"),n())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),Lc(e,"error"),n()})),a.value=!1},n=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:l.visible,onCancel:n,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",VC,[OC,(0,s._)("div",HC,[(0,s._)("button",{onClick:n,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,MC),(0,s._)("button",{onClick:w,disabled:a.value,type:"button",class:(0,ot.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,ot.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,RC)])])])),_:1},8,["visible","closeable"])])}}};const YC=NC;var ZC=YC;const KC=[{name:"Pending",value:"pending",style:"tw-text-yellow-600 tw-bg-yellow-100",text:"tw-text-yellow-600"},{name:"Accepted",value:"accepted",style:"tw-text-emerald-600 tw-bg-emerald-100",text:"tw-text-emerald-600"},{name:"Refused",value:"refused",style:"tw-text-red-600 tw-bg-red-100",text:"tw-text-red-600"}],BC={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},QC={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},JC=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),GC={class:"tw-p-5 tw-space-y-4"},XC=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),tD={class:"tw-font-semibold tw-mt-1"},eD={class:"tw-flex tw-items-center"},rD={key:0,class:"tw-flex-1"},aD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),sD={class:"tw-font-semibold tw-mt-1"},lD={class:"tw-text-blue-500"},oD={class:"tw-text-green-500"},iD={class:"tw-flex-1"},wD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),nD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),dD={class:"tw-font-semibold tw-mt-1"},cD={key:0},uD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),pD={class:"tw-font-semibold tw-mt-1"};var gD={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=t,l=(0,ye.Vh)(a,"item"),o=(0,s.Fl)((()=>KC.find((t=>t.value==l.value.status)))),i=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:a.visible,onCancel:i},{default:(0,s.w5)((()=>[(0,s._)("div",BC,[(0,s._)("div",QC,[JC,(0,s._)("div",GC,[(0,s._)("div",null,[XC,(0,s._)("p",tD,(0,ot.zw)(l.value.product.name),1)]),(0,s._)("div",eD,[l.value.product_variation.color||l.value.product_variation.size?((0,s.wg)(),(0,s.iD)("div",rD,[aD,(0,s._)("p",sD,[(0,s._)("span",lD,(0,ot.zw)(l.value.product_variation.color),1),(0,s.Uk)(),(0,s._)("span",oD,(0,ot.zw)(l.value.product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",iD,[wD,(0,s._)("p",{class:(0,ot.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[o.value.style]])},(0,ot.zw)(o.value.name),3)])]),(0,s._)("div",null,[nD,(0,s._)("p",dD,(0,ot.zw)(l.value.note),1)]),l.value.admin_note?((0,s.wg)(),(0,s.iD)("div",cD,[uD,(0,s._)("p",pD,(0,ot.zw)(l.value.admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:i,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const mD=gD;var hD=mD;const fD={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var bD={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,ye.qj)({delete:!1,show:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",fD,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,ye.SU)(hD),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[1]||(a[1]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,ye.SU)(ZC),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[3]||(a[3]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const vD=bD;var xD=vD;const yD={class:"tw-px-4 tw-py-2"},_D={class:"tw-px-4 tw-py-2 tw-truncate"},kD={class:"tw-max-w-[200px] tw-truncate"},CD={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},DD={class:"tw-text-blue-500"},SD={class:"tw-text-green-500"},zD={class:"tw-px-4 tw-py-2 tw-truncate"},UD={class:"tw-max-w-[200px] tw-truncate"},qD={class:"tw-px-4 tw-py-2 tw-truncate"},PD={class:"tw-px-4 tw-py-2"},LD={class:"tw-text-sm tw-whitespace-nowrap"};var WD={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,ye.Vh)(e,"item"),a=(0,s.Fl)((()=>KC.find((t=>t.value==r.value.status))));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",yD,(0,ot.zw)(r.value.id),1),(0,s._)("td",_D,[(0,s._)("p",kD,(0,ot.zw)(r.value.product.name),1)]),(0,s._)("td",CD,[(0,s._)("p",null,[(0,s._)("span",DD,(0,ot.zw)(r.value.product_variation.color),1),(0,s.Uk)(),(0,s._)("span",SD,(0,ot.zw)(r.value.product_variation.size),1)])]),(0,s._)("td",zD,[(0,s._)("p",UD,(0,ot.zw)(r.value.quantity),1)]),(0,s._)("td",qD,[(0,s._)("p",{class:(0,ot.C_)(["tw-max-w-[200px] tw-w-fit tw-truncate tw-px-2 tw-py-1 tw-rounded tw-font-semibold tw-text-xs tw-uppercase",[a.value.style]])},(0,ot.zw)(r.value.status),3)]),(0,s._)("td",PD,[(0,s._)("p",LD,(0,ot.zw)((0,ye.SU)(De())(r.value.created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,ye.SU)(xD),{item:r.value},null,8,["item"])])]))}};const AD=WD;var $D=AD;const ED={class:""},TD={class:"tw-overflow-x-auto tw-bg-white"},FD={class:"tw-inline-block tw-min-w-full tw-align-middle"},jD={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},ID={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},VD=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),OD={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},HD={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},MD=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),RD=[MD],ND={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},YD={colspan:"11"},ZD={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},KD=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),BD=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),QD=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),JD=[BD,QD],GD={class:"tw-mt-6"};var XD={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=e,a=t,l=(0,ye.Vh)(a,"options"),o=(0,ye.Vh)(a,"data"),i=(0,ye.Vh)(a,"loading"),w=t=>{r("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",ED,[(0,s._)("div",TD,[(0,s._)("div",FD,[(0,s._)("div",jD,[(0,s._)("table",ID,[VD,!i.value&&o.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",OD,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.j4)((0,ye.SU)($D),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),i.value||0!=o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",HD,RD)),i.value?((0,s.wg)(),(0,s.iD)("tbody",ND,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",YD,[(0,s._)("div",ZD,[KD,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},JD))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",GD,[(0,s.Wm)((0,ye.SU)(rw),{from:l.value.from,to:l.value.to,"last-page":l.value.last_page,"per-page":l.value.per_page,total:l.value.total,"current-page":l.value.current_page,onPageChange:w},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const tS=XD;var eS=tS;const rS={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},aS={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},sS=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),lS={class:"tw-p-5 tw-space-y-4"},oS={class:""},iS={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},wS={key:0,class:"tw-text-xs tw-text-gray-400"},nS={class:"tw-relative"},dS=["disabled"],cS=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),uS=["value"],pS=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),gS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mS={key:0},hS={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},fS={key:0,class:"tw-text-xs tw-text-gray-400"},bS={class:"tw-relative"},vS=["disabled"],xS=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),yS=["value"],_S=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),kS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},CS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),DS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},SS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Message",-1),zS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},US={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},qS=["disabled"],PS=(0,s._)("span",null,"Add",-1);var LS={__name:"SupplyRequestAdd",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,i.oR)(),w=(0,ye.iH)(!1),n=(0,ye.qj)({request:{product_id:"no-value-selected",product_variation_id:"no-value-selected",quantity:0,note:""},errors:{}}),d=(0,s.Fl)((()=>o.getters["product/products"])),c=(0,s.Fl)((()=>o.getters["product/fetched"])),u=(0,s.Fl)((()=>"no-value-selected"==n.request.product_id?[]:d.value.find((t=>t.id==n.request.product_id)).variations));(0,s.YP)((()=>n.request.product_id),(()=>{1!=u.value.length?n.request.product_variation_id="no-value-selected":n.request.product_variation_id=u.value[0].id}));const p=()=>{r("update:visible",!1)},g=async()=>{w.value=!0,await IC.create(n.request).then((t=>{"SUCCESS"==t.data.code&&(Lc("Request has been added"),o.dispatch("supply-request/addSupplyRequest",t.data.supply_request),p())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)n.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&Lc("Something went wrong","error")})),w.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(r,{visible:l.visible,onCancel:p},{default:(0,s.w5)((()=>[(0,s._)("div",rS,[(0,s._)("div",aS,[sS,(0,s._)("div",lS,[(0,s._)("div",oS,[(0,s._)("label",iS,[(0,s.Uk)("Product "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",wS," loading..."))]),(0,s._)("div",nS,[(0,s.wy)((0,s._)("select",{disabled:!c.value,onChange:e[0]||(e[0]=t=>n.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>n.request.product_id=t),class:(0,ot.C_)([[n.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[cS,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.name]),value:t.id,key:t.id},(0,ot.zw)(t.name),11,uS)))),128))],42,dS),[[a.bM,n.request.product_id]]),pS]),n.errors.product_id?((0,s.wg)(),(0,s.iD)("label",gS,(0,ot.zw)(n.errors.product_id),1)):(0,s.kq)("",!0)]),u.value.length>1?((0,s.wg)(),(0,s.iD)("div",mS,[(0,s._)("label",hS,[(0,s.Uk)("Variation "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",fS," loading..."))]),(0,s._)("div",bS,[(0,s.wy)((0,s._)("select",{disabled:!c.value||"no-value-selected"==n.request.product_id,onChange:e[2]||(e[2]=t=>n.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>n.request.product_variation_id=t),class:(0,ot.C_)([[n.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[xS,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.name]),value:t.id,key:t.id},(0,ot.zw)(t.size)+" "+(0,ot.zw)(t.size&&t.color?"|":"")+" "+(0,ot.zw)(t.color),11,yS)))),128))],42,vS),[[a.bM,n.request.product_variation_id]]),_S]),n.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",kS,(0,ot.zw)(n.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[CS,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>n.request.quantity=t),onInput:e[5]||(e[5]=t=>n.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,ot.C_)([[n.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,34),[[a.nr,n.request.quantity]]),n.errors.quantity?((0,s.wg)(),(0,s.iD)("label",DS,(0,ot.zw)(n.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[SS,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[6]||(e[6]=t=>n.request.note=t),onInput:e[7]||(e[7]=t=>n.errors.note=null),type:"number",min:"0",max:"10000",class:(0,ot.C_)([[n.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for your request",rows:"2",required:""},null,34),[[a.nr,n.request.note]]),n.errors.note?((0,s.wg)(),(0,s.iD)("label",zS,(0,ot.zw)(n.errors.note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",US,[(0,s._)("button",{onClick:p,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:g,disabled:w.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[w.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),PS],8,qS)])])])])),_:1},8,["visible"])}}};const WS=LS;var AS=WS;const $S={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},ES={class:"mb-5 tw-flex tw-w-full tw-justify-between"},TS=(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ",-1),FS=(0,s._)("span",null,"Create",-1),jS=[FS],IS=(0,s._)("div",{class:"tw-mt-5"},null,-1);var VS={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,ye.qj)({create:!1}),a=(0,ye.qj)({}),l=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),o=(0,ye.iH)(!0),w=async()=>{o.value=!0,await IC.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(a,t.data.data.supply_requests))})),o.value=!1},n=t=>{console.log(t)};return w(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",$S,[(0,s._)("div",ES,[TS,(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.create=!0),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-orange-100 tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},jS),r.create?((0,s.wg)(),(0,s.j4)((0,ye.SU)(AS),{key:0,visible:r.create,"onUpdate:visible":e[1]||(e[1]=t=>r.create=t)},null,8,["visible"])):(0,s.kq)("",!0)])]),IS,(0,s.Wm)((0,ye.SU)(eS),{onPageChange:n,data:l.value,loading:o.value,options:a},null,8,["data","loading","options"])]))}};const OS=VS;var HS=OS;const MS={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},RS=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),NS={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},YS=["disabled"],ZS=["disabled"];var KS={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=(0,ye.iH)(!1),l=t,o=(0,i.oR)(),w=async()=>{a.value=!0,await IC["delete"](l.item.id).then((t=>{"SUCCESS"==t.data.code&&(o.dispatch("supply-request/deleteSupplyRequest",l.item.id),Lc("Deleted Successfully"),n())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),Lc(e,"error"),n()})),a.value=!1},n=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:l.visible,onCancel:n,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",MS,[RS,(0,s._)("div",NS,[(0,s._)("button",{onClick:n,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,YS),(0,s._)("button",{onClick:w,disabled:a.value,type:"button",class:(0,ot.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,ot.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,ZS)])])])),_:1},8,["visible","closeable"])])}}};const BS=KS;var QS=BS;const JS={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},GS={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},XS=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),tz={class:"tw-p-5 tw-space-y-4"},ez=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),rz={class:"tw-font-semibold tw-mt-1"},az={class:"tw-flex tw-items-center"},sz={key:0,class:"tw-flex-1"},lz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),oz={class:"tw-font-semibold tw-mt-1"},iz={class:"tw-text-blue-500"},wz={class:"tw-text-green-500"},nz={class:"tw-flex-1"},dz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),cz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),uz={class:"tw-font-semibold tw-mt-1"},pz={key:0},gz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),mz={class:"tw-font-semibold tw-mt-1"};var hz={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=t,l=(0,ye.Vh)(a,"item"),o=(0,s.Fl)((()=>KC.find((t=>t.value==l.value.status)))),i=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:a.visible,onCancel:i},{default:(0,s.w5)((()=>[(0,s._)("div",JS,[(0,s._)("div",GS,[XS,(0,s._)("div",tz,[(0,s._)("div",null,[ez,(0,s._)("p",rz,(0,ot.zw)(l.value.product.name),1)]),(0,s._)("div",az,[l.value.product_variation.color||l.value.product_variation.size?((0,s.wg)(),(0,s.iD)("div",sz,[lz,(0,s._)("p",oz,[(0,s._)("span",iz,(0,ot.zw)(l.value.product_variation.color),1),(0,s.Uk)(),(0,s._)("span",wz,(0,ot.zw)(l.value.product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",nz,[dz,(0,s._)("p",{class:(0,ot.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[o.value.style]])},(0,ot.zw)(o.value.name),3)])]),(0,s._)("div",null,[cz,(0,s._)("p",uz,(0,ot.zw)(l.value.note),1)]),l.value.admin_note?((0,s.wg)(),(0,s.iD)("div",pz,[gz,(0,s._)("p",mz,(0,ot.zw)(l.value.admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:i,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const fz=hz;var bz=fz;const vz={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},xz={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},yz=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),_z={class:"tw-p-5 tw-space-y-4"},kz={class:""},Cz={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Dz={key:0,class:"tw-text-xs tw-text-gray-400"},Sz={class:"tw-relative"},zz=["disabled"],Uz=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),qz=["value"],Pz=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Lz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Wz={key:0},Az={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},$z={key:0,class:"tw-text-xs tw-text-gray-400"},Ez={class:"tw-relative"},Tz=["disabled"],Fz=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),jz=["value"],Iz=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Vz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Oz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),Hz=["disabled"],Mz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},Rz={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Nz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's Message",-1),Yz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Zz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leave note for seller",-1),Kz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Bz={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},Qz=["disabled"],Jz=(0,s._)("span",null,"Save",-1);var Gz={__name:"SupplyRequestTableActionsEdit",props:["visible","item"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,i.oR)(),w=(0,ye.iH)(!1),n=(0,ye.qj)({request:JSON.parse(JSON.stringify(l.item)),errors:{}}),d=(0,s.Fl)((()=>o.getters["product/products"])),c=(0,s.Fl)((()=>o.getters["product/fetched"])),u=(0,s.Fl)((()=>"no-value-selected"==n.request.product_id?[]:d.value.find((t=>t.id==n.request.product_id)).variations));(0,s.YP)((()=>n.request.product_id),(()=>{1!=u.value.length?n.request.product_variation_id="no-value-selected":n.request.product_variation_id=u.value[0].id}));const p=()=>{r("update:visible",!1)},g=async()=>{w.value=!0,await IC.update(l.item.id,n.request).then((t=>{"SUCCESS"==t.data.code&&(Lc("Request has been updated"),o.dispatch("supply-request/updateSupplyRequest",t.data.supply_request),p())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)n.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&Lc("Something went wrong","error")})),w.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(r,{visible:l.visible,onCancel:p},{default:(0,s.w5)((()=>[(0,s._)("div",vz,[(0,s._)("div",xz,[yz,(0,s._)("div",_z,[(0,s._)("div",kz,[(0,s._)("label",Cz,[(0,s.Uk)("Product "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",Dz," loading..."))]),(0,s._)("div",Sz,[(0,s.wy)((0,s._)("select",{disabled:!c.value||!0,onChange:e[0]||(e[0]=t=>n.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>n.request.product_id=t),class:(0,ot.C_)([[n.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Uz,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.name]),value:t.id,key:t.id},(0,ot.zw)(t.name),11,qz)))),128))],42,zz),[[a.bM,n.request.product_id]]),Pz]),n.errors.product_id?((0,s.wg)(),(0,s.iD)("label",Lz,(0,ot.zw)(n.errors.product_id),1)):(0,s.kq)("",!0)]),u.value.length>1?((0,s.wg)(),(0,s.iD)("div",Wz,[(0,s._)("label",Az,[(0,s.Uk)("Variation "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",$z," loading..."))]),(0,s._)("div",Ez,[(0,s.wy)((0,s._)("select",{disabled:!c.value||"no-value-selected"==n.request.product_id||!0,onChange:e[2]||(e[2]=t=>n.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>n.request.product_variation_id=t),class:(0,ot.C_)([[n.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Fz,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.name]),value:t.id,key:t.id},(0,ot.zw)(t.size)+" "+(0,ot.zw)(t.size&&t.color?"|":"")+" "+(0,ot.zw)(t.color),11,jz)))),128))],42,Tz),[[a.bM,n.request.product_variation_id]]),Iz]),n.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",Vz,(0,ot.zw)(n.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[Oz,(0,s.wy)((0,s._)("input",{disabled:"accepted"==n.request.status,"onUpdate:modelValue":e[4]||(e[4]=t=>n.request.quantity=t),onInput:e[5]||(e[5]=t=>n.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,ot.C_)([[n.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,42,Hz),[[a.nr,n.request.quantity]]),"accepted"==n.request.status?((0,s.wg)(),(0,s.iD)("label",Mz,(0,ot.zw)("cannot edit, request has already been accepted"))):(0,s.kq)("",!0),n.errors.quantity?((0,s.wg)(),(0,s.iD)("label",Rz,(0,ot.zw)(n.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[Nz,(0,s.wy)((0,s._)("textarea",{disabled:"","onUpdate:modelValue":e[6]||(e[6]=t=>n.request.note=t),onInput:e[7]||(e[7]=t=>n.errors.note=null),type:"number",min:"0",max:"10000",class:(0,ot.C_)([[n.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Seller's note here",rows:"2",required:""},null,34),[[a.nr,n.request.note]]),n.errors.note?((0,s.wg)(),(0,s.iD)("label",Yz,(0,ot.zw)(n.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[Zz,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>n.request.admin_note=t),onInput:e[9]||(e[9]=t=>n.errors.admin_note=null),type:"number",min:"0",max:"10000",class:(0,ot.C_)([[n.errors.admin_note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for the seller",rows:"2",required:""},null,34),[[a.nr,n.request.admin_note]]),n.errors.admin_note?((0,s.wg)(),(0,s.iD)("label",Kz,(0,ot.zw)(n.errors.admin_note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",Bz,[(0,s._)("button",{onClick:p,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:g,disabled:w.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[w.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Jz],8,Qz)])])])])),_:1},8,["visible"])}}};const Xz=Gz;var tU=Xz;const eU={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var rU={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,ye.qj)({delete:!1,show:!1,edit:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",eU,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.edit=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-amber-500/20 hover:tw-bg-amber-600 tw-bg-amber-500 hover:tw-border-amber-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil")])),_:1})]),r.edit?((0,s.wg)(),(0,s.j4)((0,ye.SU)(tU),{key:0,item:e.item,visible:r.edit,"onUpdate:visible":a[1]||(a[1]=t=>r.edit=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,ye.SU)(bz),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[3]||(a[3]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[4]||(a[4]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,ye.SU)(QS),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[5]||(a[5]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const aU=rU;var sU=aU;const lU={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},oU={class:"tw-relative tw-inline-block tw-text-left"},iU=["disabled"],wU={key:0,class:"tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},nU=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),dU=[nU],cU={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},uU={class:"tw-w-full tw-max-w-[200px] tw-mx-auto tw-p-2"},pU={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},gU=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-2"}," Select a status ",-1),mU={class:"tw-bg-white tw-divide-y"},hU=["onClick"];var fU={__name:"SupplyRequestStatus",props:["item"],setup(t){const e=t,r=(0,ye.iH)(!1),a=(0,ye.iH)(!1),l=(0,ye.qj)({}),o=(0,i.oR)(),w=(0,ye.iH)(KC[0]),n=()=>{r.value&&(r.value=!1)},d=async t=>{a.value=!0,await IC.update(e.item.id,{...e.item,status:t.value}).then((e=>{"SUCCESS"==e.data.code&&(Lc("Updated successfully"),o.dispatch("supply-request/updateSupplyRequest",e.data.supply_request),w.value=t)})),a.value=!1};return w.value=KC.find((t=>t.value==e.item.status)),(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",lU,[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",oU,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),type:"button",disabled:a.value,class:(0,ot.C_)([[w.value.style,a.value&&"!tw-bg-gray-50 !tw-text-gray-200 tw-cursor-not-allowed hover:!tw-shadow-none"],"tw-inline-flex tw-relative tw-w-[120px] tw-truncate tw-justify-center tw-items-center tw-gap-x-1.5 tw-rounded-md tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm"]),id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[(0,s._)("p",{class:(0,ot.C_)([[w.value.style,a.value&&"tw-invisible"],"tw-w-full tw-mx-auto tw-text-center tw-truncate tw-text-gray-500 tw-px-2"])},(0,ot.zw)(w.value.name),3),a.value?((0,s.wg)(),(0,s.iD)("svg",wU,dU)):(0,s.kq)("",!0)],10,iU),l.status?((0,s.wg)(),(0,s.iD)("p",cU,(0,ot.zw)(l.status),1)):(0,s.kq)("",!0)]),(0,s.Wm)(o,{visible:r.value,onCancel:e[1]||(e[1]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",uU,[(0,s._)("div",pU,[gU,(0,s._)("div",mU,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ye.SU)(KC).filter((t=>t.value!=w.value.value)),(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>d(t),key:t.value,class:(0,ot.C_)([[t.text],"hover:tw-bg-gray-100 tw-border-solid tw-justify-start tw-items-center tw-w-full tw-text-start tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm"]),role:"menuitem"},[(0,s._)("span",null,(0,ot.zw)(t.name),1)],10,hU)))),128))])])])])),_:1},8,["visible"])])),[[le.L,n]])])}}};const bU=fU;var vU=bU;const xU={class:"tw-px-4 tw-py-2"},yU={class:"tw-px-4 tw-py-2 tw-truncate"},_U={class:"tw-max-w-[200px] tw-truncate"},kU={class:"tw-px-4 tw-py-2 tw-truncate"},CU={class:"tw-max-w-[200px] tw-truncate"},DU={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},SU={class:"tw-flex tw-items-center tw-gap-2 tw-text-sm"},zU={key:0,class:"tw-px-1 tw-rounded-md tw-bg-orange-500 tw-text-white"},UU={key:1,class:"tw-px-1 tw-rounded-md tw-bg-green-500 tw-text-white"},qU={class:"tw-px-4 tw-py-2 tw-truncate"},PU={class:"tw-max-w-[200px] tw-truncate"},LU={class:"tw-px-4 tw-py-2 tw-truncate"},WU={class:"tw-px-4 tw-py-2"},AU={class:"tw-text-sm tw-whitespace-nowrap"};var $U={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,ye.Vh)(e,"item");return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",xU,(0,ot.zw)(r.value.id),1),(0,s._)("td",yU,[(0,s._)("p",_U,(0,ot.zw)(r.value.seller.firstname)+" "+(0,ot.zw)(r.value.seller.lastname),1)]),(0,s._)("td",kU,[(0,s._)("p",CU,(0,ot.zw)(r.value.product.name),1)]),(0,s._)("td",DU,[(0,s._)("div",SU,[r.value.product_variation.color?((0,s.wg)(),(0,s.iD)("div",zU,(0,ot.zw)(r.value.product_variation.color),1)):(0,s.kq)("",!0),r.value.product_variation.size?((0,s.wg)(),(0,s.iD)("div",UU,(0,ot.zw)(r.value.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("td",qU,[(0,s._)("p",PU,(0,ot.zw)(r.value.quantity),1)]),(0,s._)("td",LU,[(0,s._)("div",null,[(0,s.Wm)((0,ye.SU)(vU),{item:r.value},null,8,["item"])])]),(0,s._)("td",WU,[(0,s._)("p",AU,(0,ot.zw)((0,ye.SU)(De())(r.value.created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,ye.SU)(sU),{item:r.value},null,8,["item"])])]))}};const EU=$U;var TU=EU;const FU={class:""},jU={class:"tw-overflow-x-auto tw-bg-white"},IU={class:"tw-inline-block tw-min-w-full tw-align-middle"},VU={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},OU={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},HU=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[50px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),MU={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},RU={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},NU=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),YU=[NU],ZU={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},KU={colspan:"11"},BU={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},QU=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),JU=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),GU=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),XU=[JU,GU],tq={class:"tw-mt-6"};var eq={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=e,a=t,l=(0,ye.Vh)(a,"options"),o=(0,ye.Vh)(a,"data"),i=(0,ye.Vh)(a,"loading"),w=t=>{r("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",FU,[(0,s._)("div",jU,[(0,s._)("div",IU,[(0,s._)("div",VU,[(0,s._)("table",OU,[HU,!i.value&&o.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",MU,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.j4)((0,ye.SU)(TU),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),i.value||0!=o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",RU,YU)),i.value?((0,s.wg)(),(0,s.iD)("tbody",ZU,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",KU,[(0,s._)("div",BU,[QU,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},XU))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",tq,[(0,s.Wm)((0,ye.SU)(rw),{from:l.value.from,to:l.value.to,"last-page":l.value.last_page,"per-page":l.value.per_page,total:l.value.total,"current-page":l.value.current_page,onPageChange:w},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const rq=eq;var aq=rq;const sq={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},lq=(0,s._)("div",{class:"mb-5 tw-flex tw-w-full tw-justify-between"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ")],-1),oq=(0,s._)("div",{class:"tw-mt-5"},null,-1);var iq={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,ye.qj)({}),a=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),l=(0,ye.iH)(!0),o=async()=>{l.value=!0,await IC.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(r,t.data.data.supply_requests))})),l.value=!1},w=t=>{console.log(t)};return o(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",sq,[lq,oq,(0,s.Wm)((0,ye.SU)(aq),{onPageChange:w,data:a.value,loading:l.value,options:r},null,8,["data","loading","options"])]))}};const wq=iq;var nq=wq,dq={name:"products",path:"/products",component:za,meta:{module:"product"},children:[{name:"product/list",path:"",component:On,meta:{module:"product",subModule:"product/list",title:"Products List",gate:"show_all_products"}},{name:"product/newlist",path:"/newproducts",component:th,meta:{module:"product",subModule:"product/newlist",title:"Products List",gate:"show_all_products"}},{name:"product/add",path:"add",component:mv,meta:{module:"product",subModule:"product/add",title:"Add Product",gate:"create_product"}},{name:"product/seller/request",path:"seller/request",component:HS,meta:{module:"product",subModule:"product/seller/request",title:"Supply Request",gate:"access_to_seller_sales"}},{name:"product/admin/request",path:"admin/request",component:nq,meta:{module:"product",subModule:"product/admin/request",title:"Supply Request",gate:"access_to_sales"}},{name:"product/update",path:"update/:id",component:My,meta:{module:"product",subModule:"product/update",title:"Update Product",gate:"update_product"}},{name:"product/show",path:":id",component:FC,meta:{module:"product",subModule:"product/show",title:"Product Informations",gate:"view_product"}}]};const cq={class:"mb-5 tw-flex tw-justify-between tw-items-center"},uq=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Users List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all users")],-1),pq={key:0},gq=(0,s._)("span",{class:"text-white"}," Add User ",-1),mq={key:0},hq={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},fq={class:"mb-5 tw-flex"},bq={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},vq={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},xq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},yq=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Role",-1),_q={class:"tw-relative"},kq=["value"],Cq={class:""};function Dq(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.users.length},[(0,s._)("div",cq,[uq,t.$can("create_user")?((0,s.wg)(),(0,s.iD)("div",pq,[(0,s.Wm)(it.T,{color:"primary-color",link:"",to:{name:"user/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),gq])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",mq,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",hq,[(0,s._)("div",fq,[(0,s.Wm)(it.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",bq,[(0,s.Wm)(se.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,ot.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",vq,[(0,s._)("div",xq,[yq,(0,s._)("div",_q,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.role=t),class:"tw-w-full focus:tw-border-orange-400 tw-capitalize tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.roles,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t},(0,ot.zw)(t),9,kq)))),128))],512),[[a.bM,o.role]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),(0,s._)("div",Cq,[(0,s.Wm)(n,{users:i.filteredUsers,columns:o.columns},null,8,["users","columns"])])])):(0,s.kq)("",!0)])}const Sq={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},zq={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Uq={class:"tw-text-xs tw-text-gray-700 tw- tw-bg-gray-50"},qq=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Pq={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Lq=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Wq={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Aq={class:"tw-px-6 tw-py-4"},$q={class:"tw-px-6 tw-py-4"},Eq={class:"tw-px-6 tw-py-4"},Tq={class:"tw-px-6 tw-py-4"},Fq={class:"tw-px-6 tw-py-4"},jq={key:0,class:"tw-text-red-500"},Iq={key:1},Vq={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},Oq=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),Hq={key:1,class:"tw-text-neutral-700"},Mq={class:"tw-px-6 tw-py-4"},Rq={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Nq={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Yq={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Zq=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Kq=["value"],Bq={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Qq={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Jq={class:"tw-text-white"};function Gq(t,e,r,l,o,i){const w=(0,s.up)("RoleName"),n=(0,s.up)("UserStatus"),d=(0,s.up)("UserActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Sq,[(0,s._)("table",zq,[(0,s._)("thead",Uq,[(0,s._)("tr",null,[qq,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Pq,(0,ot.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Lq,(0,s._)("th",Wq,(0,ot.zw)(e.id),1),(0,s._)("td",Aq,(0,ot.zw)(e.firstname)+" "+(0,ot.zw)(e.lastname),1),(0,s._)("td",$q,[(0,s.Wm)(w,{role:e.role_name},null,8,["role"])]),(0,s._)("td",Eq,(0,ot.zw)(e.email),1),(0,s._)("td",Tq,(0,ot.zw)(e.phone),1),(0,s._)("td",Fq,[e.last_action?((0,s.wg)(),(0,s.iD)("div",Iq,[1==i.isOnline(i.lastSeen(e.last_action))?((0,s.wg)(),(0,s.iD)("div",Vq,[Oq,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",Hq,(0,ot.zw)(i.lastSeen(e.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",jq," Never Connected "))]),(0,s._)("td",Mq,[t.$can("update_user_status")?((0,s.wg)(),(0,s.j4)(n,{key:0,user:e},null,8,["user"])):(0,s.kq)("",!0)]),(0,s._)("td",Rq,[(0,s.Wm)(d,{user:e},null,8,["user"])])])))),128))])])]),(0,s._)("div",Nq,[(0,s._)("div",Yq,[Zq,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,ot.zw)(t),9,Kq)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Bq,[(0,s._)("div",Qq,(0,ot.zw)(i.prevRange+1)+" - "+(0,ot.zw)(o.currentPage==i.pageCount?r.users.length:i.nextRange)+" of "+(0,ot.zw)(r.users.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(it.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Jq,(0,ot.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function Xq(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[t.$can("update_user")?((0,s.wg)(),(0,s.j4)(it.T,{key:0,to:"/users/update/"+r.user.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_user")?((0,s.wg)(),(0,s.j4)(it.T,{key:1,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_user")&&"admin"!==r.user.role_name?((0,s.wg)(),(0,s.j4)(it.T,{key:2,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this user?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var tP={props:["rowIndex","user"],name:"userActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,st["delete"](this.user.id).then((t=>{"USER_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"User Deleted Successfully"})),st.all().then((t=>{"SHOW_ALL_USERS"==t.data.code&&this.$store.dispatch("user/setUsers",t.data.data.users)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const eP=(0,m.Z)(tP,[["render",Xq]]);var rP=eP;const aP={key:0,class:"tw-flex tw-items-center"};function sP(t,e,r,a,l,o){return"admin"!==r.user.role_name?((0,s.wg)(),(0,s.iD)("div",aP,[(0,s.Wm)(rh.G,{disabled:l.isLoading,loading:l.isLoading,onChange:o.handleChange,color:"primary-color",flat:!0,modelValue:l.checked,"onUpdate:modelValue":e[0]||(e[0]=t=>l.checked=t),density:"compact","hide-details":!0},null,8,["disabled","loading","onChange","modelValue"])])):(0,s.kq)("",!0)}var lP={props:["rowIndex","prop","user"],data(){return{isLoading:!1,checked:!1}},watch:{},methods:{handleChange(){const t={id:this.user.id,status:this.checked?"true":"false"};this.isLoading=!0,st.updateStatus(t).then((t=>{"STATUS_USER_UPDATED"==t.data.code&&(this.$alert({type:"success",title:"Status updated"}),this.setUpdatedUser(this.user.id,this.checked))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},setUpdatedUser(t,e){let r=localStorage.getItem("updatedUsers"),a={};r?(a=JSON.parse(r),a[t]=e):a[t]=e,localStorage.setItem("updatedUsers",JSON.stringify(a))},getUpdatedUsers(){let t=localStorage.getItem("updatedUsers");if(!t)return{};let e=JSON.parse(t);return e}},mounted(){const t=this.getUpdatedUsers();Object.keys(t).includes(`${this.user.id}`)?this.checked=1==t[this.model.id]:this.checked=1==this.user.status}};const oP=(0,m.Z)(lP,[["render",sP]]);var iP=oP;const wP={class:"tw-flex tw-items-center tw-h-full"};function nP(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",wP,[(0,s._)("div",{class:(0,ot.C_)([o.current.bg,"tw-px-2 tw-py-1 tw-rounded-lg"])},[(0,s._)("div",{class:(0,ot.C_)([o.current.text,"tw-text-sm tw-uppercase"])},(0,ot.zw)(r.role),3)],2)])}var dP={props:["role"],data(){return{variants:{default:{bg:"tw-bg-neutral-500/10",text:"tw-text-neutral-500"},admin:{bg:"tw-bg-pink-500/10",text:"tw-text-pink-500"},agente:{bg:"tw-bg-green-500/10",text:"tw-text-green-500"},delivery:{bg:"tw-bg-blue-500/10",text:"tw-text-blue-500"}}}},computed:{current(){return["admin","delivery","agente"].includes(this.role)?this.variants[this.role]:this.variants["default"]}}};const cP=(0,m.Z)(dP,[["render",nP]]);var uP=cP,pP={props:["columns","users"],components:{UserActions:rP,UserStatus:iP,RoleName:uP},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.users.length/this.paginationLimit)},items(){return this.users.slice(this.prevRange,this.nextRange)}},methods:{lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,fs.x)(e)},isOnline(t){let e=["Just Now","one minute ago","2 minutes ago","3 minutes ago"];return e.includes(t)}}};const gP=(0,m.Z)(pP,[["render",Gq]]);var mP=gP,hP={components:{UsersTable:mP},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,role:"All",search:"",columns:[{prop:"id",name:"#"},{prop:"fullname",name:"Name"},{prop:"role_name",name:"Role"},{prop:"email",name:"Email"},{prop:"phone",name:"Phone Number"},{prop:"last_seen",name:"Last Seen"},{prop:"status",name:"Active"},{name:"Acions",prop:"users"}]}},computed:{fetched(){return this.$store.getters["user/fetched"]},users(){return this.$store.getters["user/users"]},roles(){let t=new Set(["All",...this.users.map((t=>t.role_name))]);return t},filteredUsers(){const t=this.role,e=this.search;return this.users.filter((r=>("all"===t.toLocaleLowerCase()||t.toLocaleLowerCase()===r.role_name)&&!!(r.firstname.toLowerCase().includes(e.toLowerCase())||r.lastname.toLowerCase().includes(e.toLowerCase())||r.role_name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase())||r.phone.toLowerCase().includes(e.toLowerCase()))))}},methods:{getRoles(){st.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},getUsers(){st.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)}},mounted(){localStorage.removeItem("updatedUsers"),this.fetched||this.getUsers()}};const fP=(0,m.Z)(hP,[["render",Dq]]);var bP=fP,vP=r(988);const xP=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new user")],-1),yP={key:0},_P={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},kP={class:"tw-w-full"},CP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),DP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},SP={class:"tw-w-full"},zP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),UP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qP={class:"tw-w-full"},PP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),LP={class:"tw-w-full"},WP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),AP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$P={class:"tw-w-full"},EP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),TP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},FP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),jP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),IP=["value"],VP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),OP=["value"],HP=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),MP=(0,s._)("span",{class:"text-white"},"Add",-1),RP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),NP={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},YP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),ZP={class:"tw-w-full"},KP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),BP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},QP={class:"tw-w-full"},JP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),GP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},XP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),tL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},eL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),rL=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function aL(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[xP,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yP,[(0,s.Wm)(w)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",_P,[(0,s._)("div",null,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",kP,[CP,(0,s.Wm)(dt.hw,{error:!o.formStatus.firstname.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:o.user.firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.user.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",DP,(0,ot.zw)(o.formStatus.firstname.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",SP,[zP,(0,s.Wm)(dt.hw,{error:!o.formStatus.lastname.valid,"hide-details":!0,onKeyup:e[2]||(e[2]=t=>i.resetError("lastname")),modelValue:o.user.lastname,"onUpdate:modelValue":e[3]||(e[3]=t=>o.user.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",UP,(0,ot.zw)(o.formStatus.lastname.message),1)])])),_:1}),i.isSeller?((0,s.wg)(),(0,s.j4)(La.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qP,[PP,(0,s.Wm)(dt.hw,{"hide-details":!0,modelValue:o.user.username,"onUpdate:modelValue":e[4]||(e[4]=t=>o.user.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LP,[WP,(0,s.Wm)(dt.hw,{error:!o.formStatus.email.valid,"hide-details":!0,onKeyup:e[5]||(e[5]=t=>i.resetError("email")),modelValue:o.user.email,"onUpdate:modelValue":e[6]||(e[6]=t=>o.user.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",AP,(0,ot.zw)(o.formStatus.email.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$P,[EP,(0,s.Wm)(dt.hw,{error:!o.formStatus.phone.valid,"hide-details":!0,onKeyup:e[7]||(e[7]=t=>i.resetError("phone")),modelValue:o.user.phone,"onUpdate:modelValue":e[8]||(e[8]=t=>o.user.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",TP,(0,ot.zw)(o.formStatus.phone.message),1)])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(La.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(rh.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),FP,(0,s._)("div",null,[(0,s.Wm)(vP.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(La.D,{key:2,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[jP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,IP)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(La.D,{key:3,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[VP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,OP)))),128))],512),[[a.bM,o.deliveryCity]]),HP,(0,s.Wm)(dt.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(it.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[MP])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(La.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[RP,(0,s.Wm)(eh.r,{class:"text-capitalize",items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[14]||(e[14]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["items","modelValue"])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",NP,[YP,(0,s.Wm)(rh.G,{modelValue:o.user.status,"onUpdate:modelValue":e[15]||(e[15]=t=>o.user.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ZP,[KP,(0,s.Wm)(dt.hw,{error:!o.formStatus.password.valid,"hide-details":!0,onKeyup:e[16]||(e[16]=t=>i.resetError("password")),modelValue:o.user.password,"onUpdate:modelValue":e[17]||(e[17]=t=>o.user.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",BP,(0,ot.zw)(o.formStatus.password.message),1)])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",QP,[JP,(0,s.Wm)(dt.hw,{error:!o.formStatus.confirmPassword.valid,"hide-details":!0,onKeyup:e[18]||(e[18]=t=>i.resetError("confirmPassword")),modelValue:o.user.confirmPassword,"onUpdate:modelValue":e[19]||(e[19]=t=>o.user.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",GP,(0,ot.zw)(o.formStatus.confirmPassword.message),1)])])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(La.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[XP,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,ot.zw)(i.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,ot.zw)(t.fee)+" "+(0,ot.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(nt.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",tL,[(0,s.Wm)(it.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[eL])),_:1}),(0,s.Wm)(it.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[rL])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var sL={data(){return{localUrl:w,currency:c,isFormReady:!1,isLoading:!1,city:1,isMultipleProducts:!1,isHavingAllProducts:!1,id:1,deliveryCity:1,deliveryCityFee:0,deliveryCities:[],product:0,selectedProducts:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},user:{firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},role:3}},computed:{roles(){return this.$store.getters["user/roles"]},rolesFetched(){return this.$store.getters["user/fetchedRoles"]},cities(){return this.$store.getters["city/cities"]},citiesFetched(){return this.$store.getters["city/fetched"]},products(){return this.$store.getters["product/products"]},productsFethched(){return this.$store.getters["product/fetched"]},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},isSeller(){return 4===this.role},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{},methods:{removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.id,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.id+=1,this.deliveryCity=1,this.deliveryCityFee=0},create(){if(!this.validate())return!1;this.isLoading=!0;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};st.register(t).then((t=>{"USER_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.user={firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},this.role=3,this.product_id=null,this.deliveryCities=[],this.id=1)})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){this.formStatus.email=Pt(this.user.email),this.formStatus.firstname=Wt(this.user.firstname),this.formStatus.lastname=Wt(this.user.lastname),this.formStatus.phone=Wt(this.user.phone),this.formStatus.password=Lt(this.user.password),this.formStatus.confirmPassword=$t(this.user.password,this.user.confirmPassword);const t=this.formStatus.email.valid,e=this.formStatus.firstname.valid,r=this.formStatus.lastname.valid,a=this.formStatus.phone.valid,s=this.formStatus.password.valid,l=this.formStatus.confirmPassword.valid;return t&&e&&r&&s&&l&&a},getRoles(){return this.rolesFetched?new Promise((t=>t())):st.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)},async getCities(){return this.citiesFetched?new Promise((t=>t())):st.cities().then((t=>{this.$store.dispatch("city/cities",t.data.data),this.$store.dispatch("city/setFetched",!0)}))},async getProducts(){return this.productsFethched?new Promise((t=>t())):ga.all().then((t=>{this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0)}),(t=>this.$handleApiError(t)))}},mounted(){Promise.allSettled([this.getRoles(),this.getCities(),this.getProducts()]).then((t=>{console.log(t),this.isFormReady=!0}),(t=>this.$handleApiError(t)))}};const lL=(0,m.Z)(sL,[["render",aL]]);var oL=lL;const iL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update user informations")],-1),wL={key:0},nL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},dL={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},cL={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},uL={class:"tw-w-full"},pL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),gL={class:"tw-w-full"},mL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),hL={class:"tw-w-full"},fL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),bL={class:"tw-w-full"},vL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),xL={class:"tw-w-full"},yL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),_L={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},kL=(0,s._)("span",null,"Update Password: ",-1),CL={class:"tw-w-full"},DL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),SL={class:"tw-w-full"},zL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),UL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),qL={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},PL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),LL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),WL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),AL=["value"],$L=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),EL=["value"],TL=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),FL=(0,s._)("span",{class:"text-white"},"Add",-1),jL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),IL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},VL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),OL=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function HL(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[iL,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",wL,[(0,s.Wm)(w)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",nL,[(0,s._)("div",dL,[(0,s.Uk)(" User ID: "),(0,s._)("span",cL,(0,ot.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",uL,[pL,(0,s.Wm)(dt.hw,{"error-messages":o.formStatus.firstname.message,modelValue:o.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>o.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",gL,[mL,(0,s.Wm)(dt.hw,{"error-messages":o.formStatus.lastname.message,modelValue:o.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",hL,[fL,(0,s.Wm)(dt.hw,{modelValue:o.username,"onUpdate:modelValue":e[2]||(e[2]=t=>o.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",bL,[vL,(0,s.Wm)(dt.hw,{"error-messages":o.formStatus.email.message,modelValue:o.email,"onUpdate:modelValue":e[3]||(e[3]=t=>o.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xL,[yL,(0,s.Wm)(dt.hw,{"error-messages":o.formStatus.phone.message,modelValue:o.phone,"onUpdate:modelValue":e[4]||(e[4]=t=>o.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",_L,[kL,(0,s.Wm)(rh.G,{modelValue:o.updatePassword,"onUpdate:modelValue":e[5]||(e[5]=t=>o.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),o.updatePassword?((0,s.wg)(),(0,s.j4)(La.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",CL,[DL,(0,s.Wm)(dt.hw,{"error-messages":o.formStatus.password.message,modelValue:o.password,"onUpdate:modelValue":e[6]||(e[6]=t=>o.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),o.updatePassword?((0,s.wg)(),(0,s.j4)(La.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",SL,[zL,(0,s.Wm)(dt.hw,{"error-messages":o.formStatus.confirmPassword.message,modelValue:o.confirmPassword,"onUpdate:modelValue":e[7]||(e[7]=t=>o.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(La.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[UL,(0,s.Wm)(eh.r,{class:"text-capitalize","error-messages":o.formStatus.role,items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[8]||(e[8]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","items","modelValue"])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qL,[PL,(0,s.Wm)(rh.G,{modelValue:o.status,"onUpdate:modelValue":e[9]||(e[9]=t=>o.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(La.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(rh.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),LL,(0,s._)("div",null,[(0,s.Wm)(vP.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[11]||(e[11]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(La.D,{key:1,class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[WL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,AL)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(La.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[$L,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,EL)))),128))],512),[[a.bM,o.deliveryCity]]),TL,(0,s.Wm)(dt.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[14]||(e[14]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(it.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[FL])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(La.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[jL,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,ot.zw)(o.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,ot.zw)(t.fee)+" "+(0,ot.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(nt.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",IL,[(0,s.Wm)(it.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[VL])),_:1}),(0,s.Wm)(it.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[OL])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var ML={data(){return{serverUrl:n,currency:c,isFetched:!1,isRolesFetched:!1,isUserFetched:!1,isProductsFetched:!1,isLoading:!1,updatePassword:!1,autoId:1,cities:[],deliveryCity:1,deliveryCityFee:0,city:1,deliveryCities:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",username:"",role:"",user_image:null,status:!1,product:null,products:[],selectedProducts:[],isMultipleProducts:!1,isHavingAllProducts:!1}},computed:{roles(){return this.$store.getters["user/roles"]},isFormReady(){return this.isFetched},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,username:this.username,phone:this.phone,email:this.email,password:this.password,product_id:this.product,deliveryCities:this.deliveryCities,city:this.city,role:this.role,status:this.status?1:0}},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{role(t){console.log("changed"),2===t&&0===this.products.length&&(this.isProductsFetched=!1)}},methods:{update(){if(!this.validate())return!1;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};this.isLoading=!0,st.update(t,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["email"]=Pt(this.email),this.formStatus["firstname"]=Wt(this.firstname),this.formStatus["lastname"]=Wt(this.lastname),this.formStatus["phone"]=Wt(this.phone),this.formStatus["password"]=Lt(this.password),this.formStatus["confirmPassword"]=$t(this.password,this.confirmPassword);const t=this.formStatus["email"].valid,e=this.formStatus["firstname"].valid,r=this.formStatus["lastname"].valid,a=this.formStatus["phone"].valid;if(this.updatePassword){const s=this.formStatus["password"].valid,l=this.formStatus["confirmPassword"].valid;return t&&e&&r&&s&&l&&a}return t&&e&&r&&a},removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.autoId,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.autoId+=1,this.deliveryCity=1,this.deliveryCityFee=0},async getRoles(){await st.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isRolesFetched=!0}})).catch(this.$handleApiError)},async getUser(){return st.getUser(this.$route.params.id).then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;if(this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.username=e.username,this.email=e.email,this.phone=e.phone,this.role=e.role,2==e.role&&(this.isHavingAllProducts=1==e.having_all,this.selectedProducts=e?.product),this.user_image=e.photo,this.status=1==e.status,this.isUserFetched=!0,3==e.role){console.log("this is delivery"),this.city=e?.city?.id;let t=0;this.deliveryCities=e.deliveryPlaces.map((e=>(parseInt(e.id)>=t&&(t=parseInt(e.id)+1),{id:e.id,city_id:e.city_id,fee:e.fee}))),this.autoId=t}}})).catch(this.$handleApiError)},async getProducts(){return ga.all().then((t=>{this.products=t.data.data.products,this.products.length>0?this.product=this.user.product_id:this.product=null,this.isProductsFetched=!0}),(t=>this.$handleApiError(t)))},async getCities(){return st.cities().then((t=>{console.log(t.data),this.cities=t.data.data}))}},async mounted(){0==this.roles.length?await this.getRoles():this.isRolesFetched=!0,Promise.allSettled([this.getRoles(),this.getProducts(),this.getCities(),this.getUser()]).then((()=>{this.selectedProducts.length==this.products.length&&(this.product=0,this.isMultipleProducts=!1),this.isFetched=!0}),(t=>this.$handleApiError(t)))}};const RL=(0,m.Z)(ML,[["render",HL]]);var NL=RL;const YL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add New Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new Role")],-1),ZL={key:0},KL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},BL={class:"md:tw-w-1/2 tw-w-full"},QL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role Name",-1),JL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},GL={class:"mb-3 text-body-2 tw-text-zinc-700"},XL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},tW={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},eW=["onClick"],rW={key:0},aW={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},sW=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),lW=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function oW(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[YL,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ZL,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",KL,[(0,s._)("div",null,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",BL,[QL,(0,s.Wm)(dt.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",JL,(0,ot.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(La.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",GL,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",XL,(0,ot.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",tW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,ot.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},[(0,s._)("span",null,(0,ot.zw)(t),1)],10,eW)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(La.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",rW,(0,ot.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",aW,[(0,s.Wm)(it.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[sW])),_:1}),(0,s.Wm)(it.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[lW])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var iW={data(){return{localUrl:w,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0,st.createRole({name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_ADDED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles(),this.name="",this.selectedPermissions=[])})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Wt(this.name,"Name"),this.formStatus.permissions=Tt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRoles(){st.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},async getPermissions(){return await st.permessions().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.permissions;this.permissions=e.map((t=>t.name)),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getPermissions(),this.isFormReady=!0}};const wW=(0,m.Z)(iW,[["render",oW]]);var nW=wW;const dW={class:"mb-5 tw-flex tw-justify-between tw-items-center"},cW=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Roles List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all Roles")],-1),uW={class:"tw-flex tw-items-center tw-gap-2"},pW={key:0},gW=(0,s._)("span",{class:"text-white"}," Role ",-1),mW={key:0},hW={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},fW={class:"mb-5 tw-flex"},bW={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},vW={class:""};function xW(t,e,r,l,o,i){const w=(0,s.up)("CreatePermission"),n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("RolesTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.roles.length},[(0,s._)("div",dW,[cW,(0,s._)("div",uW,[(0,s.Wm)(w,{visible:o.visible,"onUpdate:visible":e[0]||(e[0]=t=>o.visible=t)},null,8,["visible"]),t.$can("create_role")?((0,s.wg)(),(0,s.iD)("div",pW,[(0,s.Wm)(it.T,{color:"primary-color",link:"",to:{name:"user/addRole"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),gW])),_:1})])):(0,s.kq)("",!0)])]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",mW,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",hW,[(0,s._)("div",fW,[(0,s.Wm)(it.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",bW,[(0,s.Wm)(se.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",vW,[(0,s.Wm)(d,{roles:i.filteredRoles,columns:o.columns},null,8,["roles","columns"])])])):(0,s.kq)("",!0)])}const yW={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},_W={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},kW={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},CW=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),DW={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},SW=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),zW={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},UW={class:"tw-px-6 tw-py-4 tw-uppercase"},qW={class:"tw-px-6 tw-py-4"},PW={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},LW={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},WW={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},AW=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),$W=["value"],EW={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},TW={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},FW={class:"tw-text-white"};function jW(t,e,r,l,o,i){const w=(0,s.up)("RolePermissions"),n=(0,s.up)("RoleActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",yW,[(0,s._)("table",_W,[(0,s._)("thead",kW,[(0,s._)("tr",null,[CW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",DW,(0,ot.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[SW,(0,s._)("th",zW,(0,ot.zw)(t.id),1),(0,s._)("td",UW,(0,ot.zw)(t.name),1),(0,s._)("td",qW,[(0,s.Wm)(w,{role:t},null,8,["role"])]),(0,s._)("td",PW,[(0,s.Wm)(n,{role:t},null,8,["role"])])])))),128))])])]),(0,s._)("div",LW,[(0,s._)("div",WW,[AW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,ot.zw)(t),9,$W)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",EW,[(0,s._)("div",TW,(0,ot.zw)(i.prevRange+1)+" - "+(0,ot.zw)(o.currentPage==i.pageCount?r.roles.length:i.nextRange)+" of "+(0,ot.zw)(r.roles.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(it.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",FW,(0,ot.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const IW={key:0},VW={class:"tw-flex tw-flex-wrap tw-gap-2"};function OW(t,e,r,a,l,o){const i=(0,s.up)("popup");return["admin","agente","delivery"].includes(r.role.name)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",IW,[t.$can("update_role")?((0,s.wg)(),(0,s.j4)(it.T,{key:0,to:"/users/roles/update/"+r.role.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_role")&&"admin"!==r.role.name?((0,s.wg)(),(0,s.j4)(it.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopupDelete=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this Role?</p> You won't be able to revert this!",loading:l.isLoadingDelete,visible:l.showPopupDelete,onResolved:o.handleResolvedDelete},null,8,["loading","visible","onResolved"]),(0,s.Wm)(i,{noConfirm:!0,type:"info",title:"Permissions",loading:l.isLoadingShow,visible:l.showPopupShow,onResolved:o.handleResolvedShow},{default:(0,s.w5)((()=>[(0,s._)("div",VW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer",key:t},(0,ot.zw)(t),1)))),128))])])),_:1},8,["loading","visible","onResolved"])]))}var HW={props:["rowIndex","prop","role"],name:"roleActions",data(){return{showPopupDelete:!1,showPopupShow:!1,isLoadingDelete:!1,isLoadingShow:!1,permissions:["create_user","delete_user","update_user","show_user"]}},methods:{handleResolvedDelete(t){t?(this.isLoadingDelete=!0,st.deleteRole(this.role.id).then((t=>{"ROLE_DELETED"==t.data.code&&(this.isLoadingDelete=!1,this.$alert({type:"success",title:"Role Deleted Successfully"})),st.roles().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("user/setRoles",t.data.data.roles)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoadingDelete=!1,this.showPopupDelete=!1}))):this.showPopupDelete=!1},handleResolvedShow(t){t?console.log(t):this.showPopupShow=!1}}};const MW=(0,m.Z)(HW,[["render",OW]]);var RW=MW;const NW={class:"tw-h-100 tw-flex tw-items-center tw-max-w-[750px] tw-flex-wrap tw-gap-2"},YW=["title"];function ZW(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",NW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-0 tw-px-2 tw-text-xs tw-h-5 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg",title:t.description,key:t.name},(0,ot.zw)(t.name),9,YW)))),128))])}var KW={props:["role"],name:"rolePermissions",data(){return{}},computed:{permissions(){return this.role.permissions.map((t=>t))}}};const BW=(0,m.Z)(KW,[["render",ZW]]);var QW=BW,JW={props:["columns","roles"],components:{RoleActions:RW,RolePermissions:QW},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.roles.length/this.paginationLimit)},items(){return this.roles.slice(this.prevRange,this.nextRange)}},methods:{}};const GW=(0,m.Z)(JW,[["render",jW]]);var XW=GW;const tA=(0,s._)("span",{class:"text-white"}," Permission ",-1),eA={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},rA={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},aA=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Add permission ",-1),sA={class:"tw-p-5"},lA={class:""},oA=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),iA={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},wA={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},nA=["disabled"],dA=["disabled"],cA=(0,s._)("span",null,"Add",-1);var uA={__name:"CreatePermission",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,ye.iH)(!1),i=(0,ye.iH)({}),w=(0,ye.iH)({name:""}),n=t=>{r("update:visible",t)},d=async()=>{if(!w.value.name)return i.value.name="Name is required",!1;i.value.name="",o.value=!0,await st.createPermission(w.value.name).then((t=>{if("SUCCESS"==t.data.code){const e=rt.getters["user/permissions"];e.push(t.data.permission.name),Lc("Permission added successfully"),n(!1)}})).catch((t=>{Lc("Something went wrong!","danger"),console.log(t)})),o.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(it.T,{onClick:e[0]||(e[0]=t=>n(!0)),color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),tA])),_:1}),(0,s.Wm)(r,{visible:l.visible},{default:(0,s.w5)((()=>[(0,s._)("div",eA,[(0,s._)("div",rA,[aA,(0,s._)("div",sA,[(0,s._)("div",lA,[oA,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>w.value.name=t),onInput:e[2]||(e[2]=t=>i.value.name=null),type:"text",class:(0,ot.C_)([[i.value.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter permission name",required:""},null,34),[[a.nr,w.value.name]]),i.value.name?((0,s.wg)(),(0,s.iD)("label",iA,(0,ot.zw)(i.value.name),1)):(0,s.kq)("",!0)])]),(0,s._)("div",wA,[(0,s._)("button",{onClick:e[3]||(e[3]=t=>n(!1)),disabled:o.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,nA),(0,s._)("button",{onClick:d,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),cA],8,dA)])])])])),_:1},8,["visible"])])}}};const pA=uA;var gA=pA,mA={components:{RolesTable:XW,CreatePermission:gA},data(){return{localUrl:w,visible:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Role Name"},{prop:"permissions",name:"Permissions"},{name:"Acions",prop:"roles"}]}},computed:{roles(){return this.$store.getters["user/roles"]},fetched(){return this.$store.getters["user/fetchedRoles"]},filteredRoles(){return this.roles.filter((t=>{const e=t.permissions.map((t=>t.name));return!!(""===this.search||t.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())||e.includes(this.search.toLocaleLowerCase())||e.some((t=>t.toLowerCase().includes(this.search.toLocaleLowerCase()))))}))}},methods:{getRoles(){return st.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)}},mounted(){this.rolesFetched||this.getRoles()}};const hA=(0,m.Z)(mA,[["render",xW]]);var fA=hA;const bA=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update existing role")],-1),vA={key:0},xA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},yA={class:"md:tw-w-1/2 tw-w-full"},_A=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Role Name ",-1),kA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},CA={class:"mb-3 text-body-2 tw-text-zinc-700"},DA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},SA={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},zA=["onClick"],UA={key:0},qA={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},PA=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),LA=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function WA(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[bA,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vA,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",xA,[(0,s._)("div",null,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",yA,[_A,(0,s.Wm)(dt.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",kA,(0,ot.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(La.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",CA,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",DA,(0,ot.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",SA,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,ot.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},(0,ot.zw)(t),11,zA)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(La.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",UA,(0,ot.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",qA,[(0,s.Wm)(it.T,{link:"",to:"/users/roles",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[PA])),_:1}),(0,s.Wm)(it.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[LA])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var AA={data(){return{localUrl:w,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,st.updateRole(this.$route.params.id,{name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_UPDATED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles())})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},addPermissions(t){return t},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Wt(this.name,"Name"),this.formStatus.permissions=Tt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRole(){st.getRole(this.$route.params.id).then((t=>{this.name=t.data.data.role,this.selectedPermissions=[...t.data.data.permission],this.isFormReady=!0}))},getRoles(){st.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getRole(),this.permissions=this.$store.getters["user/permissions"]}};const $A=(0,m.Z)(AA,[["render",WA]]);var EA=$A,TA={name:"users",path:"/users",component:za,meta:{module:"user"},children:[{name:"user/list",path:"",component:bP,meta:{module:"user",subModule:"user/list",title:"Users List",gate:"show_all_users"}},{name:"user/add",path:"add",component:oL,meta:{module:"user",subModule:"user/add",title:"Add User",gate:"create_user"}},{name:"user/update",path:"update/:id",component:NL,meta:{module:"user",subModule:"user/update",title:"Update User",gate:"update_user"}},{name:"user/addRole",path:"addRole",component:nW,meta:{module:"user",subModule:"user/addRole",title:"Add Role",gate:"create_role"}},{name:"user/roles",path:"roles",component:fA,meta:{module:"user",subModule:"user/roles",title:"Roles List",gate:"show_all_roles"}},{name:"user/updateRole",path:"roles/update/:id",component:EA,meta:{module:"user",subModule:"user/updateRole",title:"Update Role",gate:"view_role"}}]};const FA={class:"mb-5 tw-flex tw-justify-between tw-items-center"},jA=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Sales List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your sales")],-1),IA={key:0},VA=(0,s._)("span",{class:"text-white"}," Add Sale ",-1),OA={key:0},HA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},MA={class:"mb-5 tw-flex"},RA={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},NA={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},YA={class:""};function ZA(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("SalesAnalytics"),d=(0,s.up)("IndexFilter"),c=(0,s.up)("SalesTable"),u=(0,s.up)("AddSale"),p=(0,s.up)("NewAddSale");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",FA,[jA,t.$can("create_sale")&&i.fetched?((0,s.wg)(),(0,s.iD)("div",IA,[(0,s.Wm)(it.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),VA])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",OA,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",HA,[(0,s.Wm)(n,{sales:i.sales},null,8,["sales"]),(0,s._)("div",MA,[(0,s.Wm)(it.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",RA,[(0,s.Wm)(se.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by client, phone..."},null,512),[[a.nr,o.search]])]),(0,s._)("div",NA,[(0,s.Wm)(nt.t,{class:"tw-text-gray-500",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pound")])),_:1}),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.searchId=t),type:"number",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search By ID"},null,512),[[a.nr,o.searchId]])]),(0,s.Wm)(ir.C),(0,s.Wm)(it.T,{onClick:i.handleReset,icon:"",rounded:"lg",variant:"flat",size:"small",disabled:o.isButtonDisabled,loading:o.isLoadingReset,color:"red",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",icon:"mdi-restart-alert",size:"xx-large"})])),_:1},8,["onClick","disabled","loading"]),(0,s.Wm)(it.T,{onClick:i.getSales,icon:"",rounded:"lg",variant:"flat",size:"small",color:"blue",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",icon:"mdi-autorenew",size:"xx-large"})])),_:1},8,["onClick"])]),(0,s._)("div",{class:(0,ot.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[1000px] !tw-overflow-visible":o.showFilters}])},[(0,s.Wm)(d,{sales:i.sales,search:o.search,"search-id":o.searchId,filtered:o.filteredSales,"onUpdate:filtered":e[4]||(e[4]=t=>o.filteredSales=t),selected:i.selectedSales},null,8,["sales","search","search-id","filtered","selected"])],2),(0,s._)("div",YA,[((0,s.wg)(),(0,s.j4)(c,{onSelected:i.handleSelected,"selected-reset":o.selected,key:o.filteredSales.length,sales:o.filteredSales},null,8,["onSelected","selected-reset","sales"]))]),(0,s.Wm)(u,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:!1}),(0,s.Wm)(p,{onCancel:e[6]||(e[6]=t=>o.showPopup=!1),visible:o.showPopup,"onUpdate:visible":e[7]||(e[7]=t=>o.showPopup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const KA={class:"tw-grid tw-grid-cols-12 tw-mb-5"},BA={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-items-center"},QA=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),JA=["value"],GA={class:"tw-relative tw-pb-5 tw-overflow-x-auto tw-min-h-[400px] tw-overflow-y-visible sm:tw-rounded-lg"},XA={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},t$={scope:"col",class:"tw-p-4"},e$={class:"tw-flex tw-items-center"},r$=(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox",-1),a$={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},s$={class:"tw-w-4 tw-p-4 tw-relative"},l$={class:"tw-flex tw-items-center"},o$=["onChange","checked"],i$=(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox",-1),w$={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},n$={class:"tw-px-6 tw-py-4 tw-relative"},d$={key:0},c$={class:"tw-px-6 tw-py-4"},u$=["title"],p$={class:"tw-px-6 tw-py-4 tw-relative"},g$={class:"tw-pb-2"},m$={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},h$={key:0},f$={key:1},b$={class:"tw-absolute tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-text-xs"},v$={key:0,class:"tw-bg-emerald-500/10 tw-text-emerald-500 tw-px-2 tw-rounded-t"},x$={key:1,class:"tw-bg-blue-500/10 tw-text-blue-500 tw-px-2 tw-rounded-t"},y$={class:"tw-px-6 tw-py-4"},_$={class:"tw-px-6 tw-py-4 tw-relative"},k$={class:"tw-flex tw-items-center tw-justify-center"},C$={class:"tw-flex tw-gap-1"},D$={key:0},S$={class:"tw-px-6 tw-py-4"},z$={class:"tw-px-6 tw-py-4 tw-relative"},U$={class:"tw-flex tw-items-center tw-justify-center"},q$={class:"tw-flex tw-gap-1"},P$={key:0},L$={class:"tw-px-6 tw-py-4"},W$={class:"tw-px-6 tw-py-4"},A$={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},$$={class:"tw-col-span-12 md:tw-col-span-12 d-flex tw-justify-end tw-flex-wrap align-center"},E$={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},T$={class:"tw-flex tw-flex-wrap tw-gap-2"},F$={class:"tw-text-white"};function j$(t,e,r,l,o,i){const w=(0,s.up)("SaleConfirmation"),n=(0,s.up)("SaleAffectation"),d=(0,s.up)("SaleDelivery"),c=(0,s.up)("SaleActions");return(0,s.wg)(),(0,s.iD)("div",{key:i.items.length},[(0,s._)("div",KA,[(0,s._)("div",BA,[QA,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,ot.zw)(t),9,JA)))),128))],512),[[a.bM,o.paginationLimit]])])]),(0,s._)("div",GA,[((0,s.wg)(),(0,s.iD)("table",{key:i.reportedForToday.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",XA,[(0,s._)("tr",null,[(0,s._)("th",t$,[(0,s._)("div",e$,[(0,s.wy)((0,s._)("input",{onClick:e[1]||(e[1]=(...t)=>i.handleSelectAll&&i.handleSelectAll(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>o.isAllSelected=t),id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,512),[[a.e8,o.isAllSelected]]),r$])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,ot.C_)([["city"==t&&"!tw-max-w-[150px]"],"tw-px-6 tw-py-3 tw-truncate"]),scope:"col"},[(0,s._)("div",a$,(0,ot.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:(0,ot.C_)([[[t.confirmation,t.delivery].includes("reporter")&&"tw-relative",i.isReportedToday(t)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[(0,s._)("td",s$,[(0,s._)("div",l$,[(0,s._)("input",{onChange:e=>i.handleSelect(e,t.id),checked:i.isSelected(t.id),id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,40,o$),i$])]),(0,s._)("td",w$,(0,ot.zw)(t.id),1),(0,s._)("td",n$,[(0,s.Uk)((0,ot.zw)(t?.created_at?.split("T")[0])+" ",1),"reporter"==t.confirmation||"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[i.isReportedToday(t)?((0,s.wg)(),(0,s.iD)("span",d$," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",c$,[(0,s._)("div",{title:t.city,class:"!tw-max-w-[200px] tw-truncate"},(0,ot.zw)(t.city),9,u$)]),(0,s._)("td",p$,[(0,s._)("div",g$,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",m$,(0,ot.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,ot.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",h$,"| "+(0,ot.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",f$,"| "+(0,ot.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",b$,[t.counts_from_warehouse?((0,s.wg)(),(0,s.iD)("p",v$," warehouse ")):(0,s.kq)("",!0),t.counts_from_warehouse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",x$," delivery "))])])]),(0,s._)("td",y$,(0,ot.zw)(t.fullname),1),(0,s._)("td",_$,[(0,s._)("div",k$,[((0,s.wg)(),(0,s.j4)(w,{class:(0,ot.C_)("reporter"==t.confirmation&&"tw-mb-1"),sale:t,id:t.id,confirmation:t.confirmation,key:t.confirmation},null,8,["class","sale","id","confirmation"])),"reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",C$,["reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("span",D$,[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,ot.zw)(t?.reported_agente_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",S$,["confirmer"==t.confirmation?((0,s.wg)(),(0,s.j4)(n,{sale:t,affectation:t.affectation,id:t.id,key:t.affectation},null,8,["sale","affectation","id"])):(0,s.kq)("",!0)]),(0,s._)("td",z$,[(0,s._)("div",U$,[((0,s.wg)(),(0,s.j4)(d,{class:(0,ot.C_)("reporter"==t.delivery&&"tw-mb-1"),sale:t,id:t.id,key:t.delivery,delivery:t.delivery},null,8,["class","sale","id","delivery"])),"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",q$,["reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("span",P$,[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,ot.zw)(t.reported_delivery_date),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",L$,(0,ot.zw)(i.getPrice(t)),1),(0,s._)("td",W$,[((0,s.wg)(),(0,s.j4)(c,{id:t.id,key:t.delivery,sale:t},null,8,["id","sale"]))])],2)))),128))])]))]),(0,s._)("div",A$,[(0,s._)("div",$$,[(0,s._)("div",E$,(0,ot.zw)(i.prevRange+1)+" - "+(0,ot.zw)(o.currentPage==i.pageCount?r.sales.length:i.nextRange)+" of "+(0,ot.zw)(r.sales.length)+" items ",1),(0,s._)("div",T$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(it.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",F$,(0,ot.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const I$={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},V$=["onClick"],O$={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},H$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),M$={class:"tw-flex tw-justify-end tw-mt-2"};function R$(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("SaleConfirmationReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,ot.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,ot.zw)(i.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(nt.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(nt.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,ot.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",I$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,ot.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,ot.zw)(t.name),3)],8,V$)))),128))])],2),(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",O$,[H$,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",M$,[(0,s.Wm)(it.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(n,{order:r.sale,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])),[[le.L,i.close]])}const N$={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Y$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Z$=(0,s._)("br",null,null,-1),K$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),B$={class:"tw-flex tw-justify-end tw-mt-2"};function Q$(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",N$,[Y$,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),Z$,K$,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",B$,[(0,s.Wm)(it.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var J$={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.isLoading=!0,ha.agenteUpdateConfirmation(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const G$=(0,m.Z)(J$,[["render",Q$]]);var X$=G$,tE={props:["confirmation","id","sale"],components:{SaleConfirmationReporting:X$},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",noteReporter:"",selectedId:0,allOptions:An,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleClick(){this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))},handleClickReporter(){this.showPopupReporter=!1},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ha.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},async updateOrderWithNote(){return this.isLoading=!0,ha.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("sale/updateConfirmation",{id:t,confirmation:e})},updateConfirmationNote(t,e,r){this.$store.dispatch("sale/updateConfirmationWithNote",{id:t,confirmation:e,note:r})}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const eE=(0,m.Z)(tE,[["render",R$]]);var rE=eE;const aE={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},sE=["onClick"],lE={class:"tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100"},oE={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function iE(t,e,r,a,l,o){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:"tw-whitespace-nowrap focus:tw-ring-4 tw-ring-neutral-200 tw-bg-neutral-600/10 tw-text-neutral-800 focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center",type:"button"},[(0,s.Uk)((0,ot.zw)(o.selected.firstname)+" "+(0,ot.zw)(o.selected.lastname)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(nt.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(nt.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,ot.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",aE,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",lE,(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),1)],8,sE)))),128))])],2)])),[[le.L,o.close]]):((0,s.wg)(),(0,s.iD)("div",oE,[(0,s.Wm)(nt.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var wE={props:["affectation","id","sale"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,old:null}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},fetched(){return this.$store.getters["user/fetched"]},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.sale.items.some((e=>e.product_id==t.product_id))))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(this.old=this.affectation,t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},updateOrder(){ha.agenteUpdateAffectaion(this.id,this.selectedId).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateAffectation(this.id,this.selected.id),this.isLoading=!1)}),(t=>{this.$handleApiError(t),this.isLoading=!1,this.selectedId=this.old}))},updateAffectation(t,e){this.$store.dispatch("sale/updateAffectation",{id:t,affectation:e})}},mounted(){this.selectedId=this.affectation}};const nE=(0,m.Z)(wE,[["render",iE]]);var dE=nE;const cE={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},uE=["onClick"];function pE(t,e,r,a,l,o){const i=(0,s.up)("SaleDeliveryReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,ot.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,ot.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(nt.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(nt.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,ot.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",cE,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,ot.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,ot.zw)(t.name),3)],8,uE)))),128))])],2),(0,s.Wm)(i,{order:r.sale,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])),[[le.L,o.close]])}const gE={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},mE=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),hE=(0,s._)("br",null,null,-1),fE=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),bE={class:"tw-flex tw-justify-end tw-mt-2"};function vE(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",gE,[mE,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),hE,fE,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",bE,[(0,s.Wm)(it.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var xE={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ha.deliveryUpdateDelivery(t.id,"reporter",t).then((()=>{this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const yE=(0,m.Z)(xE,[["render",vE]]);var _E=yE,kE={props:["delivery","id","sale"],components:{SaleDeliveryReporting:_E},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Fn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){return t.id!==this.selectedId&&("reporter"!==t.value?(this.selectedId=t.id,this.updateOrder(),this.close(),!0):void("reporter"==t.value&&(this.showPopupReporter=!0,this.close())))},async updateOrder(){return this.isLoading=!0,ha.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("sale/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const CE=(0,m.Z)(kE,[["render",pE]]);var DE=CE;const SE={key:0};function zE(t,e,r,a,l,o){const i=(0,s.up)("SaleHistory"),w=(0,s.up)("popup-full"),n=(0,s.up)("UpdateSale");return r.sale?((0,s.wg)(),(0,s.iD)("div",SE,[(0,s.Wm)(it.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.sale.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"]),t.$can("update_sale")?((0,s.wg)(),(0,s.j4)(it.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(t.$can("view_sale"),(0,s.kq)("",!0)),(t.$can("delete_sale"),(0,s.kq)("",!0)),(0,s.Wm)(it.T,{onClick:e[2]||(e[2]=t=>l.showHistoryPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"teal",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-ascending-outline")])),_:1})])),_:1}),(0,s.Wm)(w,{visible:l.showHistoryPopup,onCancel:e[4]||(e[4]=t=>l.showHistoryPopup=!1)},{default:(0,s.w5)((()=>[l.showHistoryPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[3]||(e[3]=t=>l.showHistoryPopup=!1),sale:r.sale},null,8,["sale"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(n,{visible:l.showUpdatePopup,"onUpdate:visible":e[5]||(e[5]=t=>l.showUpdatePopup=t),order:r.sale},null,8,["visible","order"])])):(0,s.kq)("",!0)}var UE=r(7103),qE=r(795),PE=r(2773);const LE={class:"md:tw-w-[50%] tw-max-h-full tw-relative tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},WE={key:0,class:"tw-w-full tw-h-full"},AE={key:1,class:"tw-p-5"},$E={class:"d-flextw-flex-col justify-space-between flex-grow-1"},EE={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},TE={class:"tw-text-sm tw-capitalize tw-text-neutral-600"},FE={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},jE={class:"d-flextw-flex-col justify-space-between flex-grow-1"},IE={class:"tw-flex tw-flex-col tw-my-2"},VE=(0,s._)("div",null," New Order Created ",-1),OE={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"};function HE(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",LE,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",WE,[(0,s.Wm)(i,{class:"text-primary-color"})])),(0,s.Wm)(it.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",AE,[(0,s.Wm)(qE.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(PE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",$E,[(0,s._)("div",EE,[(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(UE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",TE,(0,ot.zw)(t.users.firstname)+" "+(0,ot.zw)(t.users.lastname),1),(0,s._)("div",FE,[(0,s._)("span",null,(0,ot.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,ot.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(PE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",jE,[(0,s._)("div",IE,[(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),VE]),(0,s._)("div",OE,[(0,s._)("span",null,(0,ot.zw)(r.sale.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,ot.zw)(r.sale.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)])}var ME={props:["sale"],data(){return{isLoaded:!1,allEvents:[]}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("cancel")},getHistory(){this.isLoaded=!1,ha.history(this.sale.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const RE=(0,m.Z)(ME,[["render",HE]]);var NE=RE;const YE={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},ZE={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},KE=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),BE={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},QE={class:"md:tw-col-span-6 tw-col-span-12"},JE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),GE={class:"md:tw-col-span-6 tw-col-span-12"},XE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),tT={class:"md:tw-col-span-6 tw-col-span-12"},eT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),rT=["value"],aT=["value"],sT={class:"md:tw-col-span-6 tw-col-span-12"},lT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),oT={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},iT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),wT={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},nT={class:"tw-col-span-12"},dT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),cT={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},uT={class:"tw-col-span-12 md:tw-col-span-4"},pT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),gT={class:"tw-col-span-12 md:tw-col-span-8"},mT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),hT={class:"md:tw-col-span-6 tw-col-span-12"},fT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),bT={class:"md:tw-col-span-6 tw-col-span-12"},vT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),xT=["value"],yT={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},_T={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},kT={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},CT=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),DT={class:"tw-flex tw-flex-col tw-justify-center"},ST=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),zT={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},UT={key:2,class:"md:tw-col-span-12 tw-col-span-12"},qT={class:"tw-max-w-full tw-overflow-auto"},PT={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},LT={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},WT={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},AT=["src"],$T={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},ET=["onUpdate:modelValue"],TT=(0,s._)("option",{value:0},"Select",-1),FT=["value"],jT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},IT=["disabled","onUpdate:modelValue"],VT=(0,s._)("option",{value:0},"Select",-1),OT=["value"],HT={key:0},MT={key:1},RT={key:2},NT={key:3},YT=["value"],ZT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},KT={class:"md:tw-col-span-6 tw-col-span-12"},BT=["onUpdate:modelValue"],QT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},JT={key:0},GT={key:1,class:"md:tw-col-span-6 tw-col-span-12"},XT=["onUpdate:modelValue"],tF={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},eF={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},rF=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),aF={class:"md:tw-col-span-12 tw-col-span-12"},sF={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},lF=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),oF={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},iF=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),wF={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},nF=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),dF={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},cF=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),uF={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},pF={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},gF=(0,s._)("span",{class:"text-white"}," Cancel ",-1),mF=(0,s._)("span",{class:"text-white"}," Update ",-1);function hF(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",YE,[(0,s.Wm)(w)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",ZE,[KE,(0,s._)("div",BE,[(0,s._)("div",QE,[JE,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",GE,[XE,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",tT,[eT,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,ot.zw)(o.sale.city),9,rT),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,ot.zw)(t.name),9,aT)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",sT,[lT,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",oT,[iT,(0,s.Wm)(n,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",wT,[(0,s._)("div",nT,[dT,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",cT,[(0,s._)("div",uT,[pT,(0,s._)("div",null,(0,ot.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",gT,[mT,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",hT,[fT,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",bT,[vT,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,ot.zw)(t.name),9,xT)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",yT,[(0,s._)("div",_T,[(0,s._)("label",kT,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),CT]),(0,s._)("label",DT,[(0,s._)("span",{class:(0,ot.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,ot.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),ST,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",zT," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",UT,[(0,s._)("div",qT,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",PT,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",LT,(0,ot.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",WT,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,AT)):(0,s.kq)("",!0)])])),(0,s._)("th",$T,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[TT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,FT)))),128))],8,ET),[[a.bM,t.product.id]])])])]),(0,s._)("th",jT,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[VT,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",MT,(0,ot.zw)(t.size)+" / "+(0,ot.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",RT,(0,ot.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",NT,(0,ot.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",HT,"-"))],8,OT)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,YT))],8,IT)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",ZT,[(0,s._)("div",KT,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,BT),[[a.nr,t.quantity]])])]),(0,s._)("th",QT,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",JT," - ")):((0,s.wg)(),(0,s.iD)("div",GT,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,XT),[[a.nr,t.price]])]))])]),(0,s._)("th",tF,[(0,s._)("div",null,[(0,s.Wm)(it.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",eF,[(0,s._)("div",null,[(0,s.Wm)(it.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),rF])),_:1},8,["onClick"])])]),(0,s._)("div",aF,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",sF,[lF,(0,s._)("div",oF,[iF,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",wF,[nF,(0,s._)("div",dF,[cF,(0,s._)("div",uF,(0,ot.zw)(o.currency)+" "+(0,ot.zw)(i.total_price),1)])])]),(0,s._)("div",pF,[(0,s.Wm)(it.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[gF])),_:1},8,["onClick"]),(0,s.Wm)(it.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[mF])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const fF={class:"tw-relative"},bF=["value"],vF={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},xF=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),yF={class:"tw-flex tw-justify-end tw-mt-2"};function _F(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("AddOrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px] tw-w-full"},[(0,s._)("div",null,[(0,s._)("div",fF,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.confirmationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.text,!t.value&&"!tw-text-gray-700"]),key:t.id,value:t.value},(0,ot.zw)(t.name),11,bF)))),128))],512),[[a.bM,i.confirmationValue]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",vF,[xF,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",yF,[(0,s.Wm)(it.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(n,{order:r.order,onConfirm:i.handleReportedDate,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","onConfirm","visible"])])),[[le.L,i.close]])}const kF={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},CF=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),DF=(0,s._)("br",null,null,-1),SF=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),zF={class:"tw-flex tw-justify-end tw-mt-2"};function UF(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",kF,[CF,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),DF,SF,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",zF,[(0,s.Wm)(it.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var qF={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.$emit("confirm",{reported_agente_date:this.realDate,reported_agente_note:this.note}),this.isLoading=!0},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}}};const PF=(0,m.Z)(qF,[["render",UF]]);var LF=PF,WF={props:["confirmation","id","order"],components:{AddOrderReporting:LF},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:An,reported_agente_date:null,reported_agente_note:"",showPopupReporter:!1}},watch:{},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},confirmationValue:{get(){return this.confirmation},set(t){switch(t){case"reporter":this.showPopupReporter=!0;break;case"confirmer":this.showPopup=!0;break;default:this.$emit("update:confirmation",t);break}}},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleReportedDate(t){this.reported_agente_date=t.reported_agente_date,this.reported_agente_note=t.reported_agente_note,this.$emit("update:confirmation","reporter"),this.$emit("reported",t),this.showPopupReporter=!1},handleClick(){this.showPopup=!1,this.$emit("update:confirmation","confirmer"),this.$emit("confirmed",this.note)},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ha.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t)))},async updateOrderWithNote(){return this.isLoading=!0,ha.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationWithNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("order/updateConfirmation",{id:t,confirmation:e}),this.$emit("update",e)},updateConfirmationWithNote(t,e,r){this.$store.dispatch("order/updateConfirmationWithNote",{id:t,confirmation:e,note:r}),this.$emit("update",e)}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const AF=(0,m.Z)(WF,[["render",_F]]);var $F=AF;const EF={class:"tw-relative"},TF=["disabled"],FF=["value"],jF={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function IF(t,e,r,l,o,i){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("div",null,[(0,s._)("div",EF,[(0,s.wy)((0,s._)("select",{disabled:"confirmer"!=r.confirmation,"onUpdate:modelValue":e[0]||(e[0]=t=>i.affectationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.firstname+" "+t.lastname),9,FF)))),128))],8,TF),[[a.bM,i.affectationValue]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),[[le.L,i.close]]):((0,s.wg)(),(0,s.iD)("div",jF,[(0,s.Wm)(nt.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var VF={props:["affectation","id","order","confirmation","items","productIds"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,fetched:!1}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},order_items(){return this.items},affectationValue:{get(){return this.affectation},set(t){this.$emit("update:affectation",t)}},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.productIds.includes(t.product_id)))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},getUsers(){this.fetched=!1,st.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0),this.fetched=!0}})).catch(this.$handleApiError)}},mounted(){this.selectedId=this.affectation,this.getUsers()}};const OF=(0,m.Z)(VF,[["render",IF]]);var HF=OF;const MF=(0,s._)("h1",{class:"tw-mb-2 tw-font-medium"},"Offers",-1),RF={class:"tw-relative tw-overflow-x-auto tw-border-b sm:tw-rounded"},NF={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},YF=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),ZF={class:"tw-px-6 tw-py-4"},KF={class:"tw-px-6 tw-py-4"},BF={class:"tw-px-6 tw-py-4"},QF={class:"tw-px-6 tw-py-4"},JF={class:"tw-max-w-[250px] tw-text-sm"},GF={key:0},XF=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),tj=[XF];function ej(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[MF,(0,s._)("div",null,[(0,s._)("div",RF,[(0,s._)("table",NF,[YF,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",ZF,(0,ot.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",KF,(0,ot.zw)(t.quantity),1),(0,s._)("td",BF,(0,ot.zw)(t.price)+" "+(0,ot.zw)(l.currency),1),(0,s._)("td",QF,[(0,s._)("p",JF,(0,ot.zw)(t.note),1)])])))),128)),0==o.offers.length?((0,s.wg)(),(0,s.iD)("tr",GF,tj)):(0,s.kq)("",!0)])])])])])}var rj={props:["productIds"],data(){return{currency:c}},computed:{products(){return this.$store.getters["product/products"]},offers(){return this.products.filter((t=>this.productIds.includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}}};const aj=(0,m.Z)(rj,[["render",ej]]);var sj=aj,lj={components:{AddOrderConfirmation:$F,AddOrderAffectation:HF,ProductOffers:sj},props:["visible","order"],data(){return{upsells:Tn,serverUrl:n,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!1}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,order_id:this.order.id,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},update(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={id:this.sale.id,fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};"confirmer"!=t.confirmation&&(t.affectation=null,t.delivery=null),this.isLoading=!0,ha.update(t.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"Order updated"}),this.$store.dispatch("sale/update",{id:t.id,sale:e.data.data.sale}),this.$emit("update:visible",!1),this.$emit("updateOrder",e.data.data.sale))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.sale={...this.order},this.items=[...this.order.items],this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ga.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.sale={...this.order},this.items=[...this.order.items]}};const oj=(0,m.Z)(lj,[["render",hF]]);var ij=oj,wj={props:["sale"],name:"saleActions",components:{SaleHistory:NE,UpdateSale:ij},data(){return{showPopup:!1,showUpdatePopup:!1,showHistoryPopup:!1,isLoading:!1}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{}};const nj=(0,m.Z)(wj,[["render",zE]]);var dj=nj,cj={props:{sales:{required:!0},selectedReset:{required:!1,default:[]}},components:{SaleConfirmation:rE,SaleAffectation:dE,SaleDelivery:DE,SaleActions:dj},data(){return{allowedLimit:[5,10,20,50,100,300,500],currentPage:1,paginationLimit:50,todayDate:null,selected:[],isAllSelected:!1,columns:["id","date","city","products","client","confirmation","affectation","delivery","price","actions"]}},watch:{selectedReset(t){this.selected=t,0==this.selected.length&&(this.isAllSelected=!1)},paginationLimit(){this.currentPage=1},selected(t){this.$emit("selected",t)}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sales.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.sales.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.sales.filter(this.isReportedToday)}},methods:{getPrice(t){return go(t)},isReportedToday(t){return this.isConfirmationReportedToday(t)||this.isDeliveryReportedToday(t)},isDeliveryReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date?.split("T")[0]==this.todayDate},isConfirmationReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date?.split("T")[0]==this.todayDate},handleSelect(t,e){t.target.checked?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!=e))},isSelected(t){return this.selected.includes(t)},handleSelectAll(t){t.target.checked?this.selected=[...this.items.map((t=>t.id))]:this.selected=[]}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const uj=(0,m.Z)(cj,[["render",j$]]);var pj=uj;const gj={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},mj={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},hj=(0,s._)("h1",{class:"tw-text-lg"},"Create Order",-1),fj={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},bj={class:"md:tw-col-span-6 tw-col-span-12"},vj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),xj={class:"md:tw-col-span-6 tw-col-span-12"},yj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),_j={class:"md:tw-col-span-6 tw-col-span-12"},kj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),Cj=["value"],Dj={class:"md:tw-col-span-6 tw-col-span-12"},Sj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),zj={class:"md:tw-col-span-12 tw-col-span-12"},Uj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),qj={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},Pj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse",-1),Lj=(0,s._)("option",{value:0}," Select ",-1),Wj=["value"],Aj={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},$j=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),Ej=(0,s._)("option",{value:0}," Select ",-1),Tj=["value"],Fj={class:"md:tw-col-span-6 tw-col-span-12"},jj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variations",-1),Ij=(0,s._)("option",{value:0}," Select ",-1),Vj=["value"],Oj={class:"md:tw-col-span-6 tw-col-span-12"},Hj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Mj={class:"md:tw-col-span-6 tw-col-span-12"},Rj={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Nj={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},Yj=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Zj={class:"tw-flex tw-flex-col tw-justify-center"},Kj={class:"md:tw-col-span-6 tw-col-span-12"},Bj={key:0,class:"md:tw-col-span-12 tw-col-span-12"},Qj={class:"tw-max-w-full tw-overflow-auto"},Jj={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Gj={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Xj={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},tI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},eI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},rI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},aI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},sI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},lI={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},oI=(0,s._)("span",{class:"text-white"}," Cancel ",-1),iI=(0,s._)("span",{class:"text-white"}," Save ",-1);function wI(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[12]||(e[12]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",gj,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",mj,[hj,(0,s._)("div",fj,[(0,s._)("div",bj,[vj,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",xj,[yj,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",_j,[kj,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,ot.zw)(t.name),9,Cj)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",Dj,[Sj,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",zj,[Uj,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>o.sale.price=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])]),(0,s._)("div",qj,[Pj,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.warehouse_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Lj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,Wj)))),128))],512),[[a.bM,o.warehouse_id]])]),(0,s._)("div",Aj,[$j,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.product_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Ej,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,Tj)))),128))],512),[[a.bM,o.product_id]])]),(0,s._)("div",Fj,[jj,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.product_variation_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Ij,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.size)+" / "+(0,ot.zw)(t.color),9,Vj)))),128))],512),[[a.bM,o.product_variation_id]])]),(0,s._)("div",Oj,[Hj,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>o.quantity=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.quantity]])]),(0,s._)("div",Mj,[(0,s._)("div",Rj,[(0,s._)("label",Nj,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),Yj]),(0,s._)("label",Zj,[(0,s._)("span",{class:(0,ot.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,ot.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),(0,s._)("div",Kj,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-block tw-ml-auto tw-py-1 tw-px-4 tw-rounded tw-bg-emerald-500 tw-text-white"}," Add ")]),o.items.length?((0,s.wg)(),(0,s.iD)("div",Bj,[(0,s._)("div",Qj,[(0,s._)("table",Jj,[(0,s._)("thead",Gj,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","warehouse","actions"],(t=>(0,s._)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Xj,(0,ot.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",tI,(0,ot.zw)(t.product.name),1),(0,s._)("th",eI,(0,ot.zw)(t.product_variation.size)+" / "+(0,ot.zw)(t.product_variation.color),1),(0,s._)("th",rI,(0,ot.zw)(t.quantity),1),(0,s._)("th",aI,(0,ot.zw)(t.product_variation.warehouse.name),1),(0,s._)("th",sI,[(0,s._)("div",null,[(0,s.Wm)(it.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])):(0,s.kq)("",!0)]),(0,s._)("div",lI,[(0,s.Wm)(it.T,{onClick:e[11]||(e[11]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[oI])),_:1}),(0,s.Wm)(it.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[iI])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var nI={props:["visible"],data(){return{isLoading:!1,isLoaded:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],sale:{fullname:"",phone:"",city:"",adresse:"",price:0,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0}},computed:{products(){return this.$store.getters["product/products"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return 0==this.warehouse_id?[]:this.products.filter((t=>t.variations.some((t=>t.warehouse_id==this.warehouse_id))))},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,orderItems:this.items,counts_from_warehouse:!0};ha.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sale created successfully"}),this.$store.dispatch("sale/add",t.data.data.sale))}),this.$handleApiError).finally((()=>this.isLoading=!1))},deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},addItem(){if([this.warehouse_id,this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:0};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.item_id+=1},getProducts(){ga.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}},mounted(){this.getProducts(),this.sale.city=this.cities[0].name||1}};const dI=(0,m.Z)(nI,[["render",wI]]);var cI=dI;const uI={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},pI={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},gI=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),mI={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},hI={class:"md:tw-col-span-6 tw-col-span-12"},fI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),bI={class:"md:tw-col-span-6 tw-col-span-12"},vI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),xI={class:"md:tw-col-span-6 tw-col-span-12"},yI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),_I=["value"],kI=["value"],CI={class:"md:tw-col-span-6 tw-col-span-12"},DI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),SI={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},zI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),UI={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},qI={class:"tw-col-span-12"},PI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),LI={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},WI={class:"tw-col-span-12 md:tw-col-span-4"},AI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),$I={class:"tw-col-span-12 md:tw-col-span-8"},EI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),TI={class:"md:tw-col-span-6 tw-col-span-12"},FI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),jI={class:"md:tw-col-span-6 tw-col-span-12"},II=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),VI=["value"],OI={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},HI={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},MI={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},RI=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),NI={class:"tw-flex tw-flex-col tw-justify-center"},YI=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),ZI={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},KI={key:2,class:"md:tw-col-span-12 tw-col-span-12"},BI={class:"tw-max-w-full tw-overflow-auto"},QI={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},JI={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},GI={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},XI=["src"],tV={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},eV=["onUpdate:modelValue"],rV=(0,s._)("option",{value:0},"Select",-1),aV=["value"],sV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},lV=["disabled","onUpdate:modelValue"],oV=(0,s._)("option",{value:0},"Select",-1),iV=["value"],wV={key:0},nV={key:1},dV={key:2},cV={key:3},uV=["value"],pV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},gV={class:"md:tw-col-span-6 tw-col-span-12"},mV=["onUpdate:modelValue"],hV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},fV={key:0},bV={key:1,class:"md:tw-col-span-6 tw-col-span-12"},vV=["onUpdate:modelValue"],xV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},yV={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},_V=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),kV={class:"md:tw-col-span-12 tw-col-span-12"},CV={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},DV=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),SV={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},zV=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),UV={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},qV=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),PV={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},LV=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),WV={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},AV={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},$V=(0,s._)("span",{class:"text-white"}," Cancel ",-1),EV=(0,s._)("span",{class:"text-white"}," Create ",-1);function TV(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",uI,[(0,s.Wm)(w)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",pI,[gI,(0,s._)("div",mI,[(0,s._)("div",hI,[fI,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",bI,[vI,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",xI,[yI,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,ot.zw)(o.sale.city),9,_I),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,ot.zw)(t.name),9,kI)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",CI,[DI,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",SI,[zI,(0,s.Wm)(n,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",UI,[(0,s._)("div",qI,[PI,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",LI,[(0,s._)("div",WI,[AI,(0,s._)("div",null,(0,ot.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",$I,[EI,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",TI,[FI,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",jI,[II,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,ot.zw)(t.name),9,VI)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",OI,[(0,s._)("div",HI,[(0,s._)("label",MI,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),RI]),(0,s._)("label",NI,[(0,s._)("span",{class:(0,ot.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,ot.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),YI,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",ZI," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",KI,[(0,s._)("div",BI,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",QI,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",JI,(0,ot.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",GI,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,XI)):(0,s.kq)("",!0)])])),(0,s._)("th",tV,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[rV,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,aV)))),128))],8,eV),[[a.bM,t.product.id]])])])]),(0,s._)("th",sV,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[oV,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",nV,(0,ot.zw)(t.size)+" / "+(0,ot.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",dV,(0,ot.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",cV,(0,ot.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",wV,"-"))],8,iV)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,uV))],8,lV)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",pV,[(0,s._)("div",gV,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,mV),[[a.nr,t.quantity]])])]),(0,s._)("th",hV,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",fV," - ")):((0,s.wg)(),(0,s.iD)("div",bV,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,vV),[[a.nr,t.price]])]))])]),(0,s._)("th",xV,[(0,s._)("div",null,[(0,s.Wm)(it.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",yV,[(0,s._)("div",null,[(0,s.Wm)(it.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),_V])),_:1},8,["onClick"])])]),(0,s._)("div",kV,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",CV,[DV,(0,s._)("div",SV,[zV,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",UV,[qV,(0,s._)("div",PV,[LV,(0,s._)("div",WV,(0,ot.zw)(o.currency)+" "+(0,ot.zw)(i.total_price),1)])])]),(0,s._)("div",AV,[(0,s.Wm)(it.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[$V])),_:1},8,["onClick"]),(0,s.Wm)(it.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[EV])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var FV={components:{AddOrderConfirmation:$F,AddOrderAffectation:HF,ProductOffers:sj},props:["visible","order"],data(){return{upsells:Tn,serverUrl:n,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},create(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};this.isLoading=!0,ha.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"New Order Added"}),this.$store.dispatch("sale/add",t.data.data.sale),this.$emit("update:visible",!1))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ga.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){}};const jV=(0,m.Z)(FV,[["render",TV]]);var IV=jV;const VV={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},OV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},HV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},MV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},RV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},NV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},YV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ZV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},KV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"};function BV(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),w=(0,s.up)("UpsellFilter"),n=(0,s.up)("ConfirmationFilter"),d=(0,s.up)("AffectationFilter"),c=(0,s.up)("AgenteFilter"),u=(0,s.up)("DeliveryFilter"),p=(0,s.up)("ProductFilter"),g=(0,s.up)("ExcelExport");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",VV,[(0,s._)("div",OV,[(0,s.Wm)(i,{filter:l.config.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>l.config.dateFilter=t)},null,8,["filter"])]),(0,s._)("div",HV,[(0,s.Wm)(w,{filter:l.config.upsellFilter,"onUpdate:filter":e[1]||(e[1]=t=>l.config.upsellFilter=t)},null,8,["filter"])]),(0,s._)("div",MV,[(0,s.Wm)(n,{filter:l.config.confirmationFilter,"onUpdate:filter":e[2]||(e[2]=t=>l.config.confirmationFilter=t)},null,8,["filter"])]),(0,s._)("div",RV,[(0,s.Wm)(d,{filter:l.config.affectationFilter,"onUpdate:filter":e[3]||(e[3]=t=>l.config.affectationFilter=t)},null,8,["filter"])]),(0,s._)("div",NV,[(0,s.Wm)(c,{filter:l.config.agenteFilter,"onUpdate:filter":e[4]||(e[4]=t=>l.config.agenteFilter=t)},null,8,["filter"])]),(0,s._)("div",YV,[(0,s.Wm)(u,{filter:l.config.deliveryFilter,"onUpdate:filter":e[5]||(e[5]=t=>l.config.deliveryFilter=t)},null,8,["filter"])]),(0,s._)("div",ZV,[(0,s.Wm)(p,{filter:l.config.productFilter,"onUpdate:filter":e[6]||(e[6]=t=>l.config.productFilter=t)},null,8,["filter"])]),(0,s._)("div",KV,[(0,s.Wm)(g,{selected:r.selected,filtered:r.filtered,sales:r.sales},null,8,["selected","filtered","sales"])])])])}const QV=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),JV=["onClick"];function GV(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[QV,(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,ot.zw)(t),9,JV)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var XV={data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,eo.Z)(new Date,1),(0,eo.Z)(new Date,1)]},{label:"This month",range:[(0,ro.Z)(new Date),(0,ao.Z)(new Date)]},{label:"Last month",range:[(0,ro.Z)((0,so.Z)(new Date,1)),(0,ao.Z)((0,so.Z)(new Date,1))]},{label:"This year",range:[(0,lo.Z)(new Date),(0,oo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const tO=(0,m.Z)(XV,[["render",GV]]);var eO=tO;const rO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),aO={class:"tw-relative"},sO=(0,s._)("option",{value:"all"},"Select",-1),lO=(0,s._)("option",{value:"oui"},"Oui",-1),oO=(0,s._)("option",{value:"non"},"Non",-1),iO=[sO,lO,oO];function wO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[rO,(0,s._)("div",aO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},iO,512),[[a.bM,o.value]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var nO={data(){return{value:"all"}},watch:{value(t){this.$emit("update:filter",t)}}};const dO=(0,m.Z)(nO,[["render",wO]]);var cO=dO;const uO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),pO={class:"tw-relative"},gO=["value"];function mO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[uO,(0,s._)("div",pO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value?t.value:"all",key:t.id},(0,ot.zw)(t.value?t.name:"Select"),9,gO)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var hO={props:["filter"],data(){return{deliveryFilter:"all",deliveryStatus:Fn}},watch:{deliveryFilter(t){this.$emit("update:filter",t)}}};const fO=(0,m.Z)(hO,[["render",mO]]);var bO=fO;const vO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Confirmation",-1),xO={class:"tw-relative"},yO=(0,s._)("option",{value:"all"}," Select ",-1),_O=["value"];function kO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[vO,(0,s._)("div",xO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.confirmationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[yO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value},(0,ot.zw)(t.name),9,_O)))),128))],512),[[a.bM,o.confirmationFilter]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var CO={props:["filter"],data(){return{confirmationFilter:"all",confirmations:An}},watch:{confirmationFilter(t){this.$emit("update:filter",t)}}};const DO=(0,m.Z)(CO,[["render",kO]]);var SO=DO;const zO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Affecté",-1),UO={class:"tw-relative"},qO=(0,s._)("option",{value:"all"},"Select",-1),PO=(0,s._)("option",{value:null},"Without delivery",-1),LO=["value"];function WO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[zO,(0,s._)("div",UO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.affectationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[qO,PO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,LO)))),128))],512),[[a.bM,o.affectationFilter]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var AO={props:["filter"],data(){return{affectationFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))}},watch:{affectationFilter(t){this.$emit("update:filter",t)}}};const $O=(0,m.Z)(AO,[["render",WO]]);var EO=$O;const TO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agente",-1),FO={class:"tw-relative"},jO=(0,s._)("option",{value:"all"},"Select",-1),IO=(0,s._)("option",{value:null},"Without agente",-1),VO=["value"];function OO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[TO,(0,s._)("div",FO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.agenteFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[jO,IO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agentes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,VO)))),128))],512),[[a.bM,o.agenteFilter]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var HO={props:["filter"],data(){return{agenteFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},agentes(){return this.users.filter((t=>2==t.role.id))}},watch:{agenteFilter(t){this.$emit("update:filter",t)}}};const MO=(0,m.Z)(HO,[["render",OO]]);var RO=MO;const NO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Product",-1),YO={key:0},ZO={key:1,class:"tw-relative"},KO=(0,s._)("option",{value:"all"},"Select",-1),BO=["value"];function QO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[NO,i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",YO,[(0,s._)("div",null,[(0,s.Wm)(nt.t,{class:"tw-text-orange-500 tw-animate-spin tw-text-lg tw-"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),i.fetched?((0,s.wg)(),(0,s.iD)("div",ZO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[KO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,BO)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])):(0,s.kq)("",!0)])}var JO={props:["filter"],data(){return{productFilter:"all"}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},watch:{productFilter(t){this.$emit("update:filter",t)}},methods:{getProducts(){ga.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts(),console.log(this.products)}};const GO=(0,m.Z)(JO,[["render",QO]]);var XO=GO;function tH(t,e,r,{confirmationFilter:a,affectationFilter:s,upsellFilter:l,deliveryFilter:o,agenteFilter:i,dateFilter:w,productFilter:n}){const d=w[0],c=w[1];return t.filter((t=>{const w=new Date(t.created_at);if(""!=r&&r!=t.id)return!1;if("all"!==a&&t.confirmation!==a)return!1;if("all"!==s&&t.affectation!=s)return!1;if("all"!==l&&t.upsell!=l)return!1;if("all"!==o&&t.delivery!=o)return!1;if("all"!==i&&t.agente_id!=i)return!1;const u=((t,e)=>{for(const r in t)if(!["created_at","updated_at","sheets_id","reported_agente_note","reported_agente_note","reported_agente_date","reported_delivery_note","reported_delivery_date"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(t,e);if(!u)return!1;if("all"!==n&&!t.items.some((t=>t.product_id==n)))return!1;const p=w.getDate(),g=w.getMonth(),m=w.getFullYear();if(d){const t=d.getDate(),e=d.getMonth(),r=d.getFullYear();if(m<r||m===r&&g<e||m===r&&g===e&&p<t)return!1}if(c){const t=c.getDate(),e=c.getMonth(),r=c.getFullYear();if(m>r||m===r&&g>e||m===r&&g===e&&p>t)return!1}return!0}))}function eH(t){return{id:1,title:"New",value:t.filter((t=>!t.confirmation||"new"==t.confirmation)).length,pourcentage:(100*t.filter((t=>!t.confirmation||"new"==t.confirmation)).length/t.length).toFixed(2),color:"primary-green",icon:"mdi mdi-new-box"}}function rH(t){return{id:3,title:"Confirmed",value:t.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*t.filter((t=>"confirmer"==t.confirmation)).length/t.length).toFixed(2),color:"deep-purple-accent-2",icon:"mdi-phone-check"}}function aH(t){return{id:4,title:"Delivered",value:t.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*t.filter((t=>"livrer"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi-account-check-outline"}}function sH(t){return{id:5,title:"Shipped",value:t.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*t.filter((t=>"expidier"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red",icon:"mdi-truck"}}const lH=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Export",-1),oH={class:"tw-relative tw-flex tw-items-center tw-gap-2 tw-justify-between"},iH={class:"tw-relative tw-w-full"},wH=(0,s._)("option",{value:"all"},"All Sales",-1),nH=(0,s._)("option",{value:"selected"},"Selected Sales",-1),dH=(0,s._)("option",{value:"filtered"},"Filtered Sales",-1),cH=[wH,nH,dH];function uH(t,e,r,l,o,i){const w=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",null,[lH,(0,s._)("div",oH,[(0,s._)("div",iH,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.selection=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},cH,512),[[a.bM,o.selection]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s.Wm)(w,{delimiter:";",data:i.toImport},{default:(0,s.w5)((()=>[(0,s.Wm)(it.T,{onClick:i.handleImport,icon:"",rounded:"lg",variant:"flat",size:"x-small",color:"green",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",icon:"mdi-download",size:"x-large"})])),_:1},8,["onClick"])])),_:1},8,["data"])])])}var pH={props:["selected","filtered","sales"],data(){return{selection:"all"}},computed:{toImport(){const t=this.data.map((t=>({...t}))),e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));return a.map((t=>(delete t["items"],t)))},data(){switch(this.selection){case"selected":return this.selected;case"filtered":return this.filtered;default:return this.sales}}},methods:{handleImport(){0==this.data.length&&this.$alert({title:"No Data To Export",type:"warning"})}}};const gH=(0,m.Z)(pH,[["render",uH]]);var mH=gH,hH={components:{DateFilter:eO,UpsellFilter:cO,DeliveryFilter:bO,ConfirmationFilter:SO,AffectationFilter:EO,AgenteFilter:RO,ProductFilter:XO,ExcelExport:mH},props:["sales","filtered","search","searchId","selected"],data(){return{config:{confirmationFilter:"all",affectationFilter:"all",upsellFilter:"all",deliveryFilter:"all",agenteFilter:"all",productFilter:"all",dateFilter:[null,null]}}},computed:{results(){return tH(this.sales,this.search,this.searchId,this.config)}},watch:{results(t){this.$emit("update:filtered",t)}},mounted(){this.$emit("update:filtered",this.sales)}};const fH=(0,m.Z)(hH,[["render",BV]]);var bH=fH;const vH={class:"mb-5 tw-border-b tw-border-solid tw-pb-5 tw-border-neutral-200"},xH={class:"tw-grid tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2"},yH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},_H={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},kH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},CH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-4"};function DH(t,e,r,a,l,o){const i=(0,s.up)("DashItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vH,[(0,s._)("div",xH,[(0,s._)("div",yH,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",_H,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",kH,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",CH,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])])])])])}const SH={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},zH={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},UH={class:"tw-text-xl tw-font-bold"},qH={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},PH={class:"tw-text-sm"},LH={class:"rounded-circle tw-w-fit tw-mr-3"};function WH(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Na.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",SH,[(0,s._)("div",zH,[(0,s._)("p",UH,(0,ot.zw)(isNaN(r.dash.pourcentage)?"0.00":r.dash.pourcentage)+" "+(0,ot.zw)(r.symbol),1),(0,s._)("span",qH,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",PH,(0,ot.zw)(r.dash.title),1)])]),(0,s._)("div",LH,[(0,s.Wm)(nt.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var AH={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const $H=(0,m.Z)(AH,[["render",WH]]);var EH=$H,TH={components:{DashItem:EH},props:["sales"],computed:{newSales(){return eH(this.sales)},confirmedSales(){return rH(this.sales)},deliveredSales(){return aH(this.sales)},shippedSales(){return sH(this.sales)}}};const FH=(0,m.Z)(TH,[["render",DH]]);var jH=FH,IH={components:{SalesTable:pj,AddSale:cI,SalesAnalytics:jH,IndexFilter:bH,NewAddSale:IV},data(){return{localUrl:w,isLoaded:!1,isLoadingReset:!1,showFilters:!1,isButtonDisabled:!0,filteredSales:[],search:"",searchId:"",selected:[],showPopup:!1}},computed:{fetched(){return this.$store.getters["sale/fetched"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))},agentes(){return this.users.filter((t=>2==t.role.id))},sales(){return this.$store.getters["sale/sales"]},cities(){return this.$store.getters["city/cities"]},selectedSales(){return this.sales.filter((t=>this.selected.includes(t.id)))}},methods:{handleSelected(t){this.selected=t,this.selected.length>0?this.isButtonDisabled=!1:this.isButtonDisabled=!0},async getDeliveries(){await st.deliveries().then((t=>{this.$store.dispatch("user/setDeliveries",t.data.data)}),this.$handleApiError)},async getUsers(){await st.all().then((t=>{this.$store.dispatch("user/setUsers",t.data.data.users)}),this.$handleApiError)},getSales(){return ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ga.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getCities(){if(0==this.cities.length)return st.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e)}))},handleReset(){this.isLoadingReset=!0,0!=this.selected.length&&ha.resetSale(this.selected).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("sale/resetSales",this.selected),this.selected=[])})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingReset=!1))}},async mounted(){0==this.deliveries.length&&(await this.getDeliveries(),this.getUsers()),this.fetched&&(this.isLoaded=!0),this.fetched&&(this.getProducts(),this.getCities())}};const VH=(0,m.Z)(IH,[["render",ZA]]);var OH=VH;const HH={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},MH={class:"tw-px-3"},RH={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},NH={class:"tw-flex tw-items-center tw-gap-x-3"},YH=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),ZH={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},KH=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all orders. ",-1),BH={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},QH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),JH=(0,s._)("span",null,"Create",-1),GH=[QH,JH],XH={class:"tw-overflow-hidden tw-col-span-1"},tM={key:0};function eM(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",HH,[(0,s._)("section",MH,[(0,s._)("div",RH,[(0,s._)("div",null,[(0,s._)("div",NH,[YH,(0,s._)("span",ZH,(0,ot.zw)(l.totalOrders)+" order",1)]),KH]),(0,s._)("div",BH,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},GH)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),"search-by-field":l.searchByField,"onUpdate:searchByField":e[2]||(e[2]=t=>l.searchByField=t),filters:l.filters,"onUpdate:filters":e[3]||(e[3]=t=>l.filters=t),onFilter:e[4]||(e[4]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,ot.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",XH,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[6]||(e[6]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",tM,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const rM={class:"tw-flex tw-flex-col"},aM={class:"tw-overflow-x-auto"},sM={class:"tw-inline-block tw-min-w-full tw-align-middle"},lM={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},oM={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},iM={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},wM={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},nM={class:"tw-max-w-[25px]"},dM={class:"tw-inline-flex tw-items-center"},cM={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},uM=["checked"],pM=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),gM=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),mM={scope:"col",class:"tw-py-3.5 tw-px-2 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},hM=(0,s._)("span",null,"Created",-1),fM=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),bM=[hM,fM],vM={key:0,scope:"col",class:"tw-py-3.5 tw-px-2 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},xM=(0,s._)("span",null,"Updated",-1),yM=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),_M=[xM,yM],kM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller ",-1),CM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),DM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),SM=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),zM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),UM=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),qM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),PM=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),LM=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),WM={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},AM={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},$M=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),EM=[$M],TM={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},FM={colspan:"11"},jM={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},IM=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),VM=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),OM=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),HM=[VM,OM],MM={class:"tw-mt-6"};function RM(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",rM,[(0,s._)("div",aM,[(0,s._)("div",sM,[(0,s._)("div",lM,[(0,s._)("table",oM,[(0,s._)("thead",iM,[(0,s._)("tr",null,[(0,s._)("th",wM,[(0,s._)("div",nM,[(0,s._)("div",dM,[(0,s._)("label",cM,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,uM),pM])])])]),gM,(0,s._)("th",mM,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},bM)]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",vM,[(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("sortOrder",{name:"updated_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},_M)])):(0,s.kq)("",!0),kM,CM,DM,SM,zM,UM,qM,PM,LM])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",WM,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,w)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[3]||(e[3]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),all:w,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",AM,EM)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",TM,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",FM,[(0,s._)("div",jM,[IM,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},HM)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",MM,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[5]||(e[5]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const NM={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},YM={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},ZM={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},KM={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},BM=["disabled"],QM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),JM=(0,s._)("span",null," previous ",-1),GM=[QM,JM],XM=["disabled"],tR=(0,s._)("span",null," Next ",-1),eR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),rR=[tR,eR];function aR(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",NM,[(0,s._)("div",YM,[(0,s.Uk)(" Page "),(0,s._)("span",ZM,(0,ot.zw)(r.currentPage)+" of "+(0,ot.zw)(r.lastPage),1)]),(0,s._)("div",KM,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,ot.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},GM,10,BM),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,ot.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},rR,10,XM)])])])}var sR={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const lR=(0,m.Z)(sR,[["render",aR]]);var oR=lR;const iR={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},wR={class:"tw-max-w-[25px]"},nR={class:"tw-inline-flex tw-items-center"},dR={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},cR=["checked","id"],uR=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),pR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},gR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},mR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},hR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},fR={key:0,class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},vR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},xR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},yR={key:0},_R={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},CR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},DR={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},SR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},zR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},UR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},qR={class:"tw-space-y-1"},PR={class:"tw-font-bold tw-text-green-500"},LR={class:"tw-block tw-max-w-[150px] tw-truncate"},WR={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},AR={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},$R={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ER={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},TR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},FR={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function jR(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,ot.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300",r.item.is_paid_by_delivery&&r.item.is_delivered&&" tw-bg-emerald-50 tw-bg-gradient-to-r tw-via-white tw-from-emerald-200/50 tw-to-white",r.item.is_canceled&&" tw-bg-rose-50 tw-bg-gradient-to-r tw-via-white tw-from-rose-200/50 tw-to-white",r.item.is_paid_to_seller&&" tw-bg-cyan-50 tw-bg-gradient-to-r tw-via-white tw-from-cyan-200/50 tw-to-white"]])},[(0,s._)("td",iR,[(0,s._)("div",wR,[(0,s._)("div",nR,[(0,s._)("label",dR,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,cR),uR])])])]),(0,s._)("td",pR,[(0,s._)("div",null,[(0,s._)("h2",gR,(0,ot.zw)(r.item.id),1)])]),(0,s._)("td",mR,[(0,s._)("div",null,[(0,s._)("h2",hR,[(0,s._)("p",null,(0,ot.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",null,(0,ot.zw)(l.moment(r.item.created_at).format("HH[:]mm[:]ss")),1)])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",fR,[(0,s._)("div",null,[(0,s._)("h2",bR,[(0,s._)("p",null,(0,ot.zw)(l.moment(r.item.updated_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",null,(0,ot.zw)(l.moment(r.item.updated_at).format("HH[:]mm[:]ss")),1)])])])):(0,s.kq)("",!0),(0,s._)("td",vR,[(0,s._)("div",null,[(0,s._)("h2",xR,[r.item.seller_user?((0,s.wg)(),(0,s.iD)("span",yR,(0,ot.zw)(r.item.seller_user.username),1)):(0,s.kq)("",!0)])])]),(0,s._)("td",_R,[(0,s._)("div",null,[(0,s._)("h2",kR,(0,ot.zw)(r.item.fullname),1)])]),(0,s._)("td",CR,[(0,s._)("div",null,[(0,s._)("h2",DR,(0,ot.zw)(r.item.city),1)])]),(0,s._)("td",SR,[(0,s._)("div",null,[(0,s._)("h2",zR,(0,ot.zw)(r.item.phone),1)])]),(0,s._)("td",UR,[(0,s._)("div",null,[(0,s._)("ul",qR,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",PR,(0,ot.zw)(t.quantity)+" x ",1),(0,s._)("span",LR,(0,ot.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",WR,(0,ot.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",AR,(0,ot.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",$R,[(0,s._)("div",null,[(0,s._)("span",{class:(0,ot.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,ot.zw)(o.confirmation.name),3)])]),(0,s._)("td",ER,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",TR,[(0,s._)("div",null,[(0,s._)("span",{class:(0,ot.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,ot.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",FR,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const IR={class:"tw-h-full"},VR={class:"tw-flex tw-items-center tw-gap-2"},OR=["href"],HR={key:0},MR={key:1},RR={key:2};function NR(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),w=(0,s.up)("HistoryPopup"),n=(0,s.up)("HistoryItemPopup");return(0,s.wg)(),(0,s.iD)("div",IR,[(0,s._)("div",VR,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,OR),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>l.historyItem=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-yellow-500/20 hover:tw-bg-yellow-500/10 hover:tw-border-yellow-500/70 tw-duration-300 tw-text-yellow-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-alphabetical-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",HR,[(0,s.Wm)(i,{onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[4]||(e[4]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",MR,[(0,s.Wm)(w,{visible:l.history,"onUpdate:visible":e[5]||(e[5]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.historyItem?((0,s.wg)(),(0,s.iD)("div",RR,[(0,s.Wm)(n,{visible:l.historyItem,"onUpdate:visible":e[6]||(e[6]=t=>l.historyItem=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const YR={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},ZR=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),KR={class:"tw-bg-white tw-p-4"},BR={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},QR={class:"tw-col-span-2 md:tw-col-span-1"},JR=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),GR={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},XR={class:"tw-col-span-2 md:tw-col-span-1"},tN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),eN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rN={class:"tw-col-span-2 md:tw-col-span-1"},aN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),sN={class:"tw-relative"},lN=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),oN=["value"],iN=["value"],wN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),nN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dN={class:"tw-col-span-2 md:tw-col-span-1"},cN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),uN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pN={class:"tw-col-span-2"},gN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),mN={class:"tw-relative"},hN=["value"],fN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),bN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},vN={key:0,class:"md:tw-col-span-1 tw-col-span-2"},xN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),yN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_N={key:1,class:"md:tw-col-span-1 tw-col-span-2"},kN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),CN={class:"tw-col-span-2"},DN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),SN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zN={class:"md:tw-col-span-1 tw-col-span-2"},UN={class:"tw-col-span-1"},qN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),PN={class:"tw-relative"},LN=["value"],WN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),AN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$N={key:2,class:"tw-col-span-1"},EN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),TN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},FN={class:"md:tw-col-span-1 tw-col-span-2"},jN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),IN={class:"tw-relative"},VN=["value"],ON=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),HN={class:"tw-col-span-2"},MN={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},RN={key:0,class:"tw-text-red-400 tw-text-xs"},NN={key:3,class:"tw-col-span-2"},YN={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},ZN=["disabled"],KN=(0,s._)("span",null,"Update",-1);function BN(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",YR,[ZR,(0,s._)("div",KR,[(0,s._)("div",BR,[(0,s._)("div",QR,[JR,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,ot.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",GR,(0,ot.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",XR,[tN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,ot.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",eN,(0,ot.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",rN,[aN,(0,s._)("div",sN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,ot.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[lN,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,ot.zw)(o.itemCopy.city),9,oN),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,ot.zw)(t.name),9,iN)))),128))],34),[[a.bM,o.itemCopy.city]]),wN]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",nN,(0,ot.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",dN,[cN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,ot.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",uN,(0,ot.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",pN,[gN,(0,s._)("div",mN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,ot.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,ot.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,ot.zw)(t.name),11,hN)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),fN]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",bN,(0,ot.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",vN,[xN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,ot.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",yN,(0,ot.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",_N,[kN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",CN,[DN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,ot.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",SN,(0,ot.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",zN,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",UN,[qN,(0,s._)("div",PN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.delivery=t),onChange:e[18]||(e[18]=t=>o.errors.delivery=null),class:(0,ot.C_)([[o.errors.delivery&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,ot.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,ot.zw)(t.name),11,LN)))),128))],34),[[a.bM,o.itemCopy.delivery]]),WN]),o.errors.delivery?((0,s.wg)(),(0,s.iD)("label",AN,(0,ot.zw)(o.errors.delivery),1)):(0,s.kq)("",!0)]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",$N,[EN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.parent_id=t),onInput:e[20]||(e[20]=t=>o.errors.parent_id=null),type:"text",class:(0,ot.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",TN,(0,ot.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",FN,[jN,(0,s._)("div",IN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[21]||(e[21]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.text]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,VN)))),128))],512),[[a.bM,o.itemCopy.upsell]]),ON])]),(0,s._)("div",HN,[(0,s._)("label",MN,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",RN," # "+(0,ot.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[22]||(e[22]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",NN,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",YN,[(0,s._)("button",{onClick:e[23]||(e[23]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[24]||(e[24]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),KN],8,ZN)])])])),_:1},8,["visible","onCancel"])])}const QN=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.parent_id||"refund"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!JN(t,e.items):(t.errors.parent_id="Add Parent id !",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),JN=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},GN=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},XN=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},tY=(t,e)=>{t.isLoading=!0,t.errors={},Eu.update(e.id,e).then((e=>GN(t,e.data))).catch((e=>XN(t,e.response.data))).finally((()=>t.isLoading=!1))},eY={key:0},rY=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),aY={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},sY=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),lY=(0,s._)("span",null,"Add Item",-1),oY=[sY,lY],iY={key:1,class:"md:tw-col-span-12 tw-col-span-12"},wY={class:"tw-max-w-full tw-overflow-auto"},nY={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},dY={class:"tw-bg-gray-50"},cY={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},uY={key:0},pY={colspan:"6"},gY={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},mY=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),hY=(0,s._)("span",null,"Add Item",-1),fY=[mY,hY],bY=(0,s._)("td",{colspan:"4"},null,-1),vY={colspan:"1",class:"tw-p-2"},xY={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},yY={key:1},_Y={colspan:"5"},kY={class:"tw-scale-75 tw-p-5"};function CY(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",eY,[rY,(0,s._)("div",aY,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},oY)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",iY,[(0,s._)("div",wY,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",nY,[(0,s._)("tr",dY,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",cY,(0,ot.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",uY,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",pY,[(0,s._)("div",gY,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},fY)])])]),(0,s._)("tr",null,[bY,(0,s._)("td",vY,[(0,s._)("div",xY,[(0,s._)("p",null,(0,ot.zw)(l.currency)+" "+(0,ot.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",yY,[(0,s._)("tr",null,[(0,s._)("td",_Y,[(0,s._)("div",kY,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const DY={class:"tw-p-2"},SY={class:"tw-p-2"},zY={key:0,class:"tw-relative"},UY=["value"],qY=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),PY=["value"],LY={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},WY=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),AY=[WY],$Y={class:"tw-p-2"},EY=["value"],TY={class:"tw-p-2"},FY=["value"],jY={class:"tw-flex tw-justify-center"};function IY(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("div",DY,[((0,s.wg)(),(0,s.j4)(i,{"append-to-body":"",reduce:t=>t.id,key:r.item.id,"onOption:selected":e[0]||(e[0]=t=>o.handleProductChange(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Product",modelValue:o.product,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),options:o.allProducts,label:"name"},null,8,["reduce","modelValue","options"])),(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",SY,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",zY,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[3]||(e[3]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[qY,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.color)+" "+(0,ot.zw)(t.size),9,PY)))),128))],40,UY)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",LY,AY)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",$Y,[(0,s._)("input",{onInput:e[4]||(e[4]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,EY)])]),(0,s._)("td",null,[(0,s._)("div",TY,[(0,s._)("input",{onInput:e[5]||(e[5]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,FY)])]),(0,s._)("td",null,[(0,s._)("div",jY,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var VY=r(3636),OY={components:{"vue-select":VY.Z},props:{item:{required:!0},products:{required:!0}},computed:{allProducts(){return[{id:0,name:"Choose Product"},...this.products]},product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t,e){const r=1===e?parseInt(t.target.value):t.id;if(!r)return!1;const a=this.products.find((t=>t.id==r)),s={...this.item,product_id:r,product:a,product_ref:a.ref,product_variation_id:a.variations.length>0?a.variations[0].id:null,product_variation:a.variations.length>0?a.variations[0]:null};this.$emit("update",s)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const HY=(0,m.Z)(OY,[["render",IY]]);var MY=HY,RY={components:{ItemRow:MY},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return go(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const NY=(0,m.Z)(RY,[["render",CY]]);var YY=NY;const ZY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),KY={key:0,class:"tw-relative"},BY=["value","disabled"],QY=(0,s._)("option",{value:""},"Choose a Delivery",-1),JY=["value"],GY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),XY={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},tZ={key:2,class:"tw-relative"},eZ={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},rZ=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),aZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function sZ(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[ZY,l.fetched?((0,s.wg)(),(0,s.iD)("div",KY,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,ot.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[QY,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,JY)))),128))],42,BY),GY])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",XY,(0,ot.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",tZ,[(0,s._)("div",eZ,[(0,s.Wm)(i)]),rZ,aZ]))])}var lZ={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,st.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const oZ=(0,m.Z)(lZ,[["render",sZ]]);var iZ=oZ;const wZ={key:0},nZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),dZ={class:"md:tw-col-span-12 tw-col-span-12"},cZ={class:"tw-max-w-full tw-overflow-auto"},uZ={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},pZ=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),gZ={class:"tw-px-3 tw-py-2"},mZ={class:"tw-px-3 tw-py-2"},hZ={class:"tw-px-3 tw-py-2"},fZ={class:"tw-px-3 tw-py-2"},bZ={class:"tw-max-w-[250px] tw-text-sm"};function vZ(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",wZ,[nZ,(0,s._)("div",dZ,[(0,s._)("div",cZ,[(0,s._)("table",uZ,[pZ,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",gZ,(0,ot.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",mZ,(0,ot.zw)(t.quantity),1),(0,s._)("td",hZ,(0,ot.zw)(t.price)+" "+(0,ot.zw)(l.currency),1),(0,s._)("td",fZ,[(0,s._)("p",bZ,(0,ot.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var xZ={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const yZ=(0,m.Z)(xZ,[["render",vZ]]);var _Z=yZ,kZ={components:{OrderItems:YY,OrderAffectation:iZ,ProductOffersTable:_Z},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:An,deliveryStatus:Fn,upsells:Tn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=QN(this,this.itemCopy);if(!t)return!1;tY(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ga.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const CZ=(0,m.Z)(kZ,[["render",BN]]);var DZ=CZ;const SZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},zZ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),UZ={class:"tw-bg-white tw-p-4"},qZ={key:0},PZ={key:1,class:"tw-p-5"},LZ={class:"d-flex tw-flex-col justify-space-between flex-grow-1"},WZ={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},AZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},$Z={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},EZ={class:"d-flextw-flex-col justify-space-between flex-grow-1"},TZ={class:"tw-flex tw-flex-col tw-my-2"},FZ=(0,s._)("div",null,"New Order Created",-1),jZ={class:"tw-flex tw-flex-col"},IZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},VZ={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},OZ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function HZ(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",SZ,[zZ,(0,s._)("div",UZ,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qZ,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",PZ,[(0,s.Wm)(qE.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(PE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",LZ,[(0,s._)("div",WZ,[(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.type in l.keys?l.keys[t.type]:t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(UE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(!t.historique&&["affectation","delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",AZ,[(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,ot.zw)(t.users.firstname)+" "+(0,ot.zw)(t.users.lastname),1)]),(0,s._)("div",$Z,[(0,s._)("span",null,(0,ot.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,ot.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(PE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",EZ,[(0,s._)("div",TZ,[(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),FZ]),(0,s._)("div",jZ,[(0,s._)("div",IZ,[(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,ot.zw)(r.item.created_by.firstname)+" "+(0,ot.zw)(r.item.created_by.lastname),1)]),(0,s._)("div",VZ,[(0,s._)("span",null,(0,ot.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,ot.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",OZ,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var MZ={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1,keys:{in_warehouse:"Warehouse State"}}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ha.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const RZ=(0,m.Z)(MZ,[["render",HZ]]);var NZ=RZ;const YZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},ZZ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Item History ",-1),KZ={class:"tw-bg-white tw-p-4"},BZ={key:0},QZ={key:1,class:"tw-p-5"},JZ={class:"d-flextw-flex-col justify-space-between flex-grow-1"},GZ={key:0,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},XZ={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},tK={key:2,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},eK={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},rK={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},aK={class:"d-flextw-flex-col justify-space-between flex-grow-1"},sK={class:"tw-flex tw-flex-col tw-my-2"},lK=(0,s._)("div",null,"No Changes Happend Yet",-1),oK={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},iK={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function wK(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",YZ,[ZZ,(0,s._)("div",KZ,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",BZ,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",QZ,[(0,s.Wm)(qE.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(PE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",JZ,[t.old_product.id!=t.new_product.id?((0,s.wg)(),(0,s.iD)("div",GZ,[(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"purple",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Product ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.old_product.name),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(nt.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(UE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.new_product.name),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_quantity!=t.new_quantity?((0,s.wg)(),(0,s.iD)("div",XZ,[(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"blue",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Quantity ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.old_quantity),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(nt.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(UE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.new_quantity),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_price!=t.new_price?((0,s.wg)(),(0,s.iD)("div",tK,[(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"#118C4F",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Price ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.old_price),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(nt.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(UE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.new_price),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",eK,[(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,ot.zw)(t.users.firstname)+" "+(0,ot.zw)(t.users.lastname),1)]),(0,s._)("div",rK,[(0,s._)("span",null,(0,ot.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,ot.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(PE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",aK,[(0,s._)("div",sK,[(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),lK]),(0,s._)("div",oK,[(0,s._)("span",null,(0,ot.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,ot.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",iK,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var nK={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getItemHistory(){this.isLoaded=!1,ha.itemHistory(this.item.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={old_product:"red",old_price:"green",old_quantity:"blue"};return["old_product","old_price","old_quantity"].includes(t)?e[t]:"primary-color"}},mounted(){this.getItemHistory()}};const dK=(0,m.Z)(nK,[["render",wK]]);var cK=dK,uK={components:{UpdatePopup:DZ,HistoryPopup:NZ,HistoryItemPopup:cK},props:{item:{required:!0}},data(){return{update:!1,history:!1,historyItem:!1,isLoading:!1}},methods:{handle(){}}};const pK=(0,m.Z)(uK,[["render",NR]]);var gK=pK;const mK={key:0},hK={key:0,class:"tw-relative tw-inline-block tw-text-left"},fK={key:0},bK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),vK=[bK],xK={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},yK={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},_K=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),kK=[_K],CK={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},DK={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},SK={class:"tw-py-1",role:"none"},zK=["onClick"],UK={key:1},qK={class:"tw-p-2 tw-scale-75"};function PK(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",mK,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",hK,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",fK,vK)):(0,s.kq)("",!0),(0,s._)("p",xK,(0,ot.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",yK,kK)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",CK,(0,ot.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(jt.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",DK,[(0,s._)("div",SK,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,ot.zw)(t.name),1)],8,zK)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[le.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",UK,[(0,s._)("div",qK,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var LK={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};tY(this,e,!1)}}};const WK=(0,m.Z)(LK,[["render",PK]]);var AK=WK,$K={components:{TableActions:gK,TableRowAffectation:AK},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:De()}},computed:{confirmation(){return An.find((t=>t.value==this.item.confirmation))},deliveryState(){return Fn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const EK=(0,m.Z)($K,[["render",jR]]);var TK=EK,FK={components:{TablePaginationNoNums:oR,TableRow:TK},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const jK=(0,m.Z)(FK,[["render",RM]]);var IK=jK;const VK={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},OK={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},HK=["disabled"],MK=["disabled"],RK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),NK=[RK],YK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),ZK=[YK],KK=["disabled"],BK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),QK=[BK],JK=["disabled"],GK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),XK=[GK],tB=["disabled"],eB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),rB=[eB],aB={class:"tw-relative"},sB=["value"],lB=(0,s._)("option",{value:5},"5",-1),oB=(0,s._)("option",{value:10},"10",-1),iB=(0,s._)("option",{value:20},"20",-1),wB=(0,s._)("option",{value:50},"50",-1),nB=(0,s._)("option",{value:100},"100",-1),dB=(0,s._)("option",{value:250},"250",-1),cB=(0,s._)("option",{value:500},"500",-1),uB=[lB,oB,iB,wB,nB,dB,cB],pB=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),gB={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},mB=["value"],hB=(0,s._)("option",{value:"all"},"All",-1),fB=(0,s._)("option",{value:"id"},"ID",-1),bB=[hB,fB],vB=["value"],xB={class:"tw-overflow-hidden tw-col-span-1"},yB={class:"tw-overflow-hidden tw-col-span-1"},_B={class:"tw-overflow-hidden tw-col-span-1"};function kB(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",VK,[(0,s._)("div",OK,[(0,s._)("button",{class:(0,ot.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,HK),(0,s._)("button",{title:"Orders Created Today",class:(0,ot.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,MK),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,ot.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},NK,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,ot.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},ZK,2)):(0,s.kq)("",!0),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[4]||(e[4]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,ot.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},QK,10,KK),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},XK,8,JK),(0,s._)("button",{title:"Show Export Options",onClick:e[6]||(e[6]=t=>o.showExport=!o.showExport),class:(0,ot.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},rB,10,tB),(0,s._)("div",aB,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},uB,40,sB),pB])]),(0,s._)("div",gB,[(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},bB,40,mB),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[9]||(e[9]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[10]||(e[10]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,vB),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,ot.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",xB,[(0,s.Wm)(w,{onClear:e[12]||(e[12]=e=>t.$emit("clear")),onFilter:e[13]||(e[13]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[14]||(e[14]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,ot.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",yB,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",_B,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const CB={class:"tw-mb-4"},DB={class:"tw-grid tw-grid-cols-12 tw-gap-4"},SB={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},zB={class:"tw-flex tw-items-center tw-justify-between"},UB={class:"tw-text-xl tw-font-bold tw-text-gray-900"},qB={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function PB(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",CB,[(0,s._)("div",DB,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",SB,[(0,s._)("p",{class:(0,ot.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,ot.zw)(t.name),3),(0,s._)("div",zB,[(0,s._)("span",UB,(0,ot.zw)(t.total),1),(0,s._)("span",qB,(0,ot.zw)(t.percent)+"%",1)])])])))),128))])])}var LB={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return An.find((e=>e.value==t))}}};const WB=(0,m.Z)(LB,[["render",PB]]);var AB=WB;const $B={class:"tw-mb-4"},EB={class:"tw-flex tw-items-center tw-gap-2"},TB=["disabled"],FB=(0,s._)("span",null,"Select Filtered",-1),jB={class:"tw-flex tw-justify-end"},IB=["disabled"];function VB(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",$B,[(0,s._)("div",EB,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),FB],8,TB)]),(0,s._)("div",jB,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,ot.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,IB)])])}var OB={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Eu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const HB=(0,m.Z)(OB,[["render",VB]]);var MB=HB;const RB={class:"tw-mb-4"},NB={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},YB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ZB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),KB=["value"],BB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},QB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),JB=["value"],GB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},XB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),tQ=["value"],eQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),aQ=["value"],sQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},lQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),oQ=["value"],iQ=(0,s._)("option",{value:"all",selected:""},"All",-1),wQ=["value"],nQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),cQ=["value"],uQ=(0,s._)("option",{value:"all",selected:""},"All",-1),pQ=["value"],gQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},mQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),hQ=["value"],fQ=(0,s._)("option",{value:"all",selected:""},"All",-1),bQ=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),vQ=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),xQ=[fQ,bQ,vQ],yQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},_Q=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Warehouse state",-1),kQ=["value"],CQ=(0,s._)("option",{value:"all",selected:""},"All",-1),DQ=(0,s._)("option",{value:"in",selected:""},"In",-1),SQ=(0,s._)("option",{value:"out",selected:""},"Out",-1),zQ=[CQ,DQ,SQ],UQ={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},qQ=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),PQ=(0,s._)("span",null,"Clear",-1),LQ=[qQ,PQ],WQ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),AQ=(0,s._)("span",null,"Filter",-1),$Q=[WQ,AQ];function EQ(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),w=(0,s.up)("AgentFilter"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",RB,[(0,s._)("div",NB,[(0,s.kq)("",!0),(0,s._)("div",YB,[ZB,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,KB)]),(0,s._)("div",BB,[QB,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,JB)]),(0,s._)("div",GB,[XB,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,tQ)]),(0,s._)("div",eQ,[rQ,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,aQ)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",sQ,[lQ,(0,s._)("select",{value:r.filters.confirmation,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[iQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,ot.zw)(t.name),11,wQ)))),128))],40,oQ)]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",nQ,[dQ,(0,s._)("select",{onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[uQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,ot.zw)(t.name),11,pQ)))),128))],40,cQ)]),(0,s._)("div",gQ,[mQ,(0,s._)("select",{value:r.filters.upsell,onChange:e[11]||(e[11]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},xQ,40,hQ)]),(0,s._)("div",yQ,[_Q,(0,s._)("select",{value:r.filters.in_warehouse,onChange:e[12]||(e[12]=e=>t.$emit("update",{...r.filters,in_warehouse:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},zQ,40,kQ)]),(0,s._)("div",UQ,[(0,s._)("button",{onClick:e[13]||(e[13]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},LQ),(0,s._)("button",{onClick:e[14]||(e[14]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},$Q)])])])}const TQ={class:"tw-text-sm tw-text-neutral-600"},FQ=["onClick"];function jQ(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",TQ,(0,ot.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,ot.zw)(t),9,FQ)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var IQ={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,eo.Z)(new Date,1),(0,eo.Z)(new Date,1)]},{label:"This month",range:[(0,ro.Z)(new Date),(0,ao.Z)(new Date)]},{label:"Last month",range:[(0,ro.Z)((0,so.Z)(new Date,1)),(0,ao.Z)((0,so.Z)(new Date,1))]},{label:"This year",range:[(0,lo.Z)(new Date),(0,oo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const VQ=(0,m.Z)(IQ,[["render",jQ]]);var OQ=VQ;const HQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},MQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),RQ=["value"],NQ=(0,s._)("option",{value:"all"},"All",-1),YQ=(0,s._)("option",{value:""},"No Delivery",-1),ZQ=["value"];function KQ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",HQ,[MQ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[NQ,YQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,ZQ)))),128))],40,RQ)])}var BQ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const QQ=(0,m.Z)(BQ,[["render",KQ]]);var JQ=QQ;const GQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},XQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),tJ=["value"],eJ=(0,s._)("option",{value:"all"},"All",-1),rJ=(0,s._)("option",{value:""},"No Agent",-1),aJ=["value"];function sJ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",GQ,[XQ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[eJ,rJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,aJ)))),128))],40,tJ)])}var lJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const oJ=(0,m.Z)(lJ,[["render",sJ]]);var iJ=oJ;const wJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),dJ=["value"],cJ=(0,s._)("option",{value:"all"},"All",-1),uJ=["value"];function pJ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",wJ,[nJ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[cJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,uJ)))),128))],40,dJ)])}var gJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const mJ=(0,m.Z)(gJ,[["render",pJ]]);var hJ=mJ;const fJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},bJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function vJ(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",fJ,[bJ,(0,s.Wm)(i,{"append-to-body":"",dense:"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var xJ={components:{"vue-select":VY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ga.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const yJ=(0,m.Z)(xJ,[["render",vJ]]);var _J=yJ,kJ={components:{DateFilter:OQ,AffectationFilter:JQ,AgentFilter:iJ,ProductFilter:_J,SellerFilter:hJ},props:{filters:{required:!0,default:{}}},data(){return{confirmations:An,deliveries:Fn,dateFilter:["",""]}}};const CJ=(0,m.Z)(kJ,[["render",EQ]]);var DJ=CJ,SJ={components:{IndexStatistics:AB,FiltersWrapper:DJ,IndexExport:MB},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=De()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const zJ=(0,m.Z)(SJ,[["render",kB]]);var UJ=zJ;const qJ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},PJ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),LJ={class:"tw-bg-white tw-p-4"},WJ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},AJ={class:"tw-col-span-2 md:tw-col-span-1"},$J=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),EJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},TJ={class:"tw-col-span-2 md:tw-col-span-1"},FJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),jJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},IJ={class:"tw-col-span-2 md:tw-col-span-1"},VJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),OJ={class:"tw-relative"},HJ=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),MJ=["value"],RJ=["value"],NJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),YJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ZJ={class:"tw-col-span-2 md:tw-col-span-1"},KJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),BJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},QJ={class:"tw-col-span-2"},JJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),GJ={class:"tw-relative"},XJ=["value"],tG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),eG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rG={key:0,class:"md:tw-col-span-1 tw-col-span-2"},aG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),sG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lG={key:1,class:"md:tw-col-span-1 tw-col-span-2"},oG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),iG={class:"tw-col-span-2"},wG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),nG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dG={class:"md:tw-col-span-1 tw-col-span-2"},cG={key:2,class:"tw-col-span-1"},uG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),pG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gG={class:"md:tw-col-span-1 tw-col-span-2"},mG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),hG={class:"tw-relative"},fG=["value"],bG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),vG={class:"tw-col-span-2"},xG={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},yG={key:0,class:"tw-text-red-400 tw-text-xs"},_G={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},kG=["disabled"],CG=(0,s._)("span",null,"Create",-1);function DG(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",qJ,[PJ,(0,s._)("div",LJ,[(0,s._)("div",WJ,[(0,s._)("div",AJ,[$J,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,ot.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",EJ,(0,ot.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",TJ,[FJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,ot.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",jJ,(0,ot.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",IJ,[VJ,(0,s._)("div",OJ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,ot.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[HJ,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,ot.zw)(o.itemCopy.city),9,MJ),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,ot.zw)(t.name),9,RJ)))),128))],34),[[a.bM,o.itemCopy.city]]),NJ]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",YJ,(0,ot.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",ZJ,[KJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,ot.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",BJ,(0,ot.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",QJ,[JJ,(0,s._)("div",GJ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,ot.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,ot.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,ot.zw)(t.name),11,XJ)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),tG]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",eG,(0,ot.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",rG,[aG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,ot.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",sG,(0,ot.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",lG,[oG,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",iG,[wG,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,ot.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",nG,(0,ot.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",dG,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",cG,[uG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,ot.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",pG,(0,ot.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",gG,[mG,(0,s._)("div",hG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.text]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,fG)))),128))],512),[[a.bM,o.itemCopy.upsell]]),bG])]),(0,s._)("div",vG,[(0,s._)("label",xG,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",yG," # "+(0,ot.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",_G,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),CG],8,kG)])])])),_:1},8,["visible","onCancel"])])}const SG=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},zG=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},UG=(t,e)=>{t.isLoading=!0,t.errors={},Eu.create(e).then((e=>SG(t,e.data))).catch((e=>zG(t,e.response.data))).finally((()=>t.isLoading=!1))};var qG={components:{OrderItems:YY,OrderAffectation:iZ},props:{visible:{required:!0}},data(){return{confirmations:An,upsells:Tn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=QN(this,this.itemCopy);if(!t)return!1;UG(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ga.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const PG=(0,m.Z)(qG,[["render",DG]]);var LG=PG;const WG={class:"tw-mb-4"},AG={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},$G={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},EG={class:"tw-flex tw-items-center tw-gap-2"},TG={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},FG=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),jG={class:"tw-flex tw-items-center tw-gap-2"},IG=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),VG=(0,s._)("span",null," Clear Selection ",-1),OG=[IG,VG],HG=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),MG=(0,s._)("span",null," Actions ",-1),RG=[HG,MG],NG={key:0};function YG(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",WG,[(0,s._)("div",AG,[(0,s._)("div",$G,[(0,s._)("div",EG,[(0,s._)("div",TG,(0,ot.zw)(r.selected.length),1),FG]),(0,s._)("div",jG,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},OG),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},RG)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",NG,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const ZG={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},KG={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},BG=(0,s._)("span",null,"Quick Actions",-1),QG={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},JG={class:"tw-bg-white tw-p-4"},GG={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},XG={class:"tw-col-span-2 md:tw-col-span-1"},tX={key:0,class:"tw-col-span-2 md:tw-col-span-1"},eX={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},rX=(0,s._)("span",null,"Apply",-1);function aX(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",ZG,[(0,s._)("div",KG,[BG,(0,s._)("span",QG,(0,ot.zw)(r.selected.length),1)]),(0,s._)("div",JG,[(0,s._)("div",GG,[(0,s._)("div",XG,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",tX,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",eX,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),rX])])])])),_:1},8,["visible","closeable","onCancel"])])}const sX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),lX={class:"tw-relative"},oX=["value"],iX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function wX(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[sX,(0,s._)("div",lX,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,ot.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,oX)))),128))],512),[[a.bM,i.vaction]]),iX]),(0,s.kq)("",!0)])}var nX={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const dX=(0,m.Z)(nX,[["render",wX]]);var cX=dX;const uX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),pX={class:"tw-relative"},gX=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),mX=["value"],hX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function fX(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[uX,(0,s._)("div",pX,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,ot.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[gX,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.text]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,mX)))),128))],512),[[a.bM,i.vvalue]]),hX]),(0,s.kq)("",!0)])}var bX={props:{value:{required:!0}},data(){return{statuses:Fn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const vX=(0,m.Z)(bX,[["render",fX]]);var xX=vX;class yX{async execute(t){return await E.getCookie(),A.post("api/v1/bulk/execute",t)}}var _X=new yX,kX=(t,e)=>{t.isLoading=!0,_X.execute(e).then((e=>CX(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const CX=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var DX={components:{BulkSelectAction:cX,BulkDeliveryAction:xX},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};kX(this,t)}}};const SX=(0,m.Z)(DX,[["render",aX]]);var zX=SX,UX={components:{BulkPopup:zX},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const qX=(0,m.Z)(UX,[["render",YG]]);var PX=qX,LX={components:{IndexTable:IK,IndexFilters:UJ,CreatePopup:LG,BulkActions:PX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,Eu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=mo(t.first_page_url),this.lase_page_url=mo(t.last_page_url),this.next_page_url=mo(t.next_page_url),this.prev_page_url=mo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(t){this.sort_order="asc"==this.sort_order?"desc":"asc",this.sort_by=t.name,this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,st.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const WX=(0,m.Z)(LX,[["render",eM]]);var AX=WX;const $X={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},EX={class:"tw-px-3"},TX={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},FX={class:"tw-flex tw-items-center tw-gap-x-3"},jX=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Dispatched Orders ",-1),IX={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},VX=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of dispatched orders. ",-1),OX={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},HX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),MX=(0,s._)("span",null,"Create",-1),RX=[HX,MX],NX={class:"tw-overflow-hidden tw-col-span-1"},YX={key:0};function ZX(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",$X,[(0,s._)("section",EX,[(0,s._)("div",TX,[(0,s._)("div",null,[(0,s._)("div",FX,[jX,(0,s._)("span",IX,(0,ot.zw)(l.totalOrders)+" order",1)]),VX]),(0,s._)("div",OX,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},RX)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,ot.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",NX,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",YX,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var KX={components:{IndexTable:IK,IndexFilters:UJ,CreatePopup:LG,BulkActions:PX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Eu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=mo(t.first_page_url),this.lase_page_url=mo(t.last_page_url),this.next_page_url=mo(t.next_page_url),this.prev_page_url=mo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,st.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const BX=(0,m.Z)(KX,[["render",ZX]]);var QX=BX;const JX={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},GX={class:"tw-px-3"},XX={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},t0={class:"tw-flex tw-items-center tw-gap-x-3"},e0=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Shipped Orders ",-1),r0={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},a0=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of shipped orders. ",-1),s0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},l0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),o0=(0,s._)("span",null,"Create",-1),i0=[l0,o0],w0={class:"tw-overflow-hidden tw-col-span-1"},n0={key:0};function d0(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",JX,[(0,s._)("section",GX,[(0,s._)("div",XX,[(0,s._)("div",null,[(0,s._)("div",t0,[e0,(0,s._)("span",r0,(0,ot.zw)(l.totalOrders)+" order",1)]),a0]),(0,s._)("div",s0,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},i0)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,ot.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",w0,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",n0,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var c0={components:{IndexTable:IK,IndexFilters:UJ,CreatePopup:LG,BulkActions:PX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Eu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=mo(t.first_page_url),this.lase_page_url=mo(t.last_page_url),this.next_page_url=mo(t.next_page_url),this.prev_page_url=mo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,st.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const u0=(0,m.Z)(c0,[["render",d0]]);var p0=u0;const g0={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},m0={class:"tw-px-3"},h0={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},f0={class:"tw-flex tw-items-center tw-gap-x-3"},b0=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),v0={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},x0=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),y0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},_0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),k0=(0,s._)("span",null,"Create",-1),C0=[_0,k0],D0={class:"tw-overflow-hidden tw-col-span-1"},S0={key:0};function z0(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",g0,[(0,s._)("section",m0,[(0,s._)("div",h0,[(0,s._)("div",null,[(0,s._)("div",f0,[b0,(0,s._)("span",v0,(0,ot.zw)(l.totalOrders)+" order",1)]),x0]),(0,s._)("div",y0,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},C0)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,ot.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",D0,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",S0,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const U0={class:"tw-flex tw-flex-col"},q0={class:"tw-overflow-x-auto"},P0={class:"tw-inline-block tw-min-w-full tw-align-middle"},L0={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},W0={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},A0={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},$0={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},E0={class:"tw-max-w-[25px]"},T0={class:"tw-inline-flex tw-items-center"},F0={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},j0=["checked"],I0=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),V0=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),O0={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},H0=(0,s._)("span",null,"Created",-1),M0=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),R0=[H0,M0],N0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),Y0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),Z0=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),K0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),B0=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),Q0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),J0=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),G0=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),X0={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},t1={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},e1=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),r1=[e1],a1={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},s1={colspan:"11"},l1={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},o1=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),i1=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),w1=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),n1=[i1,w1],d1={class:"tw-mt-6"};function c1(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",U0,[(0,s._)("div",q0,[(0,s._)("div",P0,[(0,s._)("div",L0,[(0,s._)("table",W0,[(0,s._)("thead",A0,[(0,s._)("tr",null,[(0,s._)("th",$0,[(0,s._)("div",E0,[(0,s._)("div",T0,[(0,s._)("label",F0,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,j0),I0])])])]),V0,(0,s._)("th",O0,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},R0)]),N0,Y0,Z0,K0,B0,Q0,J0,G0])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",X0,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,w)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:w,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",t1,r1)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",a1,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",s1,[(0,s._)("div",l1,[o1,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},n1)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",d1,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const u1={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},p1={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},g1={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},m1={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},h1=["disabled"],f1=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),b1=(0,s._)("span",null," previous ",-1),v1=[f1,b1],x1=["disabled"],y1=(0,s._)("span",null," Next ",-1),_1=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),k1=[y1,_1];function C1(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",u1,[(0,s._)("div",p1,[(0,s.Uk)(" Page "),(0,s._)("span",g1,(0,ot.zw)(r.currentPage)+" of "+(0,ot.zw)(r.lastPage),1)]),(0,s._)("div",m1,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,ot.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},v1,10,h1),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,ot.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},k1,10,x1)])])])}var D1={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const S1=(0,m.Z)(D1,[["render",C1]]);var z1=S1;const U1={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},q1={class:"tw-max-w-[25px]"},P1={class:"tw-inline-flex tw-items-center"},L1={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},W1=["checked","id"],A1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),$1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},E1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},T1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},F1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},j1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},I1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},V1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},O1={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},H1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},M1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},R1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},N1={class:"tw-space-y-1"},Y1={class:"tw-font-bold tw-text-green-500"},Z1={class:"tw-block tw-max-w-[150px] tw-truncate"},K1={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},B1={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},Q1={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},J1={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},G1={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},X1={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function t2(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,ot.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",U1,[(0,s._)("div",q1,[(0,s._)("div",P1,[(0,s._)("label",L1,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,W1),A1])])])]),(0,s._)("td",$1,[(0,s._)("div",null,[(0,s._)("h2",E1,(0,ot.zw)(r.item.id),1)])]),(0,s._)("td",T1,[(0,s._)("div",null,[(0,s._)("h2",F1,[(0,s._)("p",null,(0,ot.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",j1,[(0,s._)("div",null,[(0,s._)("h2",I1,(0,ot.zw)(r.item.fullname),1)])]),(0,s._)("td",V1,[(0,s._)("div",null,[(0,s._)("h2",O1,(0,ot.zw)(r.item.city),1)])]),(0,s._)("td",H1,[(0,s._)("div",null,[(0,s._)("h2",M1,(0,ot.zw)(r.item.phone),1)])]),(0,s._)("td",R1,[(0,s._)("div",null,[(0,s._)("ul",N1,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",Y1,(0,ot.zw)(t.quantity)+" x ",1),(0,s._)("span",Z1,(0,ot.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",K1,(0,ot.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",B1,(0,ot.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",Q1,[(0,s._)("div",null,[(0,s._)("span",{class:(0,ot.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,ot.zw)(o.confirmation.name),3)])]),(0,s._)("td",J1,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",G1,[(0,s._)("div",null,[(0,s._)("span",{class:(0,ot.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,ot.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",X1,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const e2={class:"tw-h-full"},r2={class:"tw-flex tw-items-center tw-gap-2"},a2=["href"],s2={key:0};function l2(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",e2,[(0,s._)("div",r2,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,a2),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",s2,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[2]||(e[2]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const o2={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},i2=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),w2={class:"tw-bg-white tw-p-4"},n2={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},d2={class:"tw-col-span-2 md:tw-col-span-1"},c2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),u2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},p2={class:"tw-col-span-2 md:tw-col-span-1"},g2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),m2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},h2={class:"tw-col-span-2 md:tw-col-span-1"},f2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),b2={class:"tw-relative"},v2=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),x2=["value"],y2=["value"],_2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),k2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},C2={class:"tw-col-span-2 md:tw-col-span-1"},D2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),S2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},z2={class:"tw-col-span-2"},U2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),q2={class:"tw-relative"},P2=["value"],L2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),W2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},A2={key:0,class:"md:tw-col-span-1 tw-col-span-2"},$2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),E2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T2={key:1,class:"md:tw-col-span-1 tw-col-span-2"},F2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),j2={class:"tw-col-span-2"},I2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),V2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},O2={class:"md:tw-col-span-1 tw-col-span-2"},H2={class:"md:tw-col-span-1 tw-col-span-2"},M2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),R2={class:"tw-relative"},N2=["value"],Y2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Z2={class:"tw-col-span-2"},K2={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},B2={key:0,class:"tw-text-red-400 tw-text-xs"},Q2={key:3,class:"tw-col-span-2"},J2={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},G2=["disabled"],X2=(0,s._)("span",null,"Update",-1);function t5(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",o2,[i2,(0,s._)("div",w2,[(0,s._)("div",n2,[(0,s._)("div",d2,[c2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,ot.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",u2,(0,ot.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",p2,[g2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,ot.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",m2,(0,ot.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",h2,[f2,(0,s._)("div",b2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,ot.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[v2,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,ot.zw)(o.itemCopy.city),9,x2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,ot.zw)(t.name),9,y2)))),128))],34),[[a.bM,o.itemCopy.city]]),_2]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",k2,(0,ot.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",C2,[D2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,ot.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",S2,(0,ot.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",z2,[U2,(0,s._)("div",q2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,ot.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,ot.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,ot.zw)(t.name),11,P2)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),L2]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",W2,(0,ot.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",A2,[$2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,ot.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",E2,(0,ot.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",T2,[F2,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",j2,[I2,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,ot.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",V2,(0,ot.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",O2,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",H2,[M2,(0,s._)("div",R2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.text]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,N2)))),128))],512),[[a.bM,o.itemCopy.upsell]]),Y2])]),(0,s._)("div",Z2,[(0,s._)("label",K2,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",B2," # "+(0,ot.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",Q2,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",J2,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),X2],8,G2)])])])),_:1},8,["visible","onCancel"])])}const e5=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!r5(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),r5=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},a5=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},s5=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},l5=(t,e)=>{t.isLoading=!0,t.errors={},Eu.update(e.id,e).then((e=>a5(t,e.data))).catch((e=>s5(t,e.response.data))).finally((()=>t.isLoading=!1))},o5={key:0},i5=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),w5={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},n5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),d5=(0,s._)("span",null,"Add Item",-1),c5=[n5,d5],u5={key:1,class:"md:tw-col-span-12 tw-col-span-12"},p5={class:"tw-max-w-full tw-overflow-auto"},g5={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},m5={class:"tw-bg-gray-50"},h5={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},f5={key:0},b5={colspan:"6"},v5={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},x5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),y5=(0,s._)("span",null,"Add Item",-1),_5=[x5,y5],k5=(0,s._)("td",{colspan:"4"},null,-1),C5=(0,s._)("td",null,null,-1),D5={colspan:"1",class:"tw-p-2"},S5={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},z5={key:1},U5={colspan:"6"},q5={class:"tw-scale-75 tw-p-5"};function P5(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",o5,[i5,(0,s._)("div",w5,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},c5)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",u5,[(0,s._)("div",p5,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",g5,[(0,s._)("tr",m5,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",h5,(0,ot.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",f5,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",b5,[(0,s._)("div",v5,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},_5)])])]),(0,s._)("tr",null,[k5,C5,(0,s._)("td",D5,[(0,s._)("div",S5,[(0,s._)("p",null,(0,ot.zw)(l.currency)+" "+(0,ot.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",z5,[(0,s._)("tr",null,[(0,s._)("td",U5,[(0,s._)("div",q5,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const L5=(0,s._)("td",null,null,-1),W5={class:"tw-p-2"},A5={class:"tw-relative"},$5=["value"],E5=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),T5=["value"],F5=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),j5={class:"tw-p-2"},I5={key:0,class:"tw-relative"},V5=["value"],O5=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),H5=["value"],M5={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},R5=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),N5=[R5],Y5={class:"tw-p-2"},Z5=["value"],K5={class:"tw-p-2"},B5=["value"],Q5={class:"tw-flex tw-justify-center"};function J5(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[L5,(0,s._)("td",null,[(0,s._)("div",W5,[(0,s._)("div",A5,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[E5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.name),9,T5)))),128))],40,$5),F5])])]),(0,s._)("td",null,[(0,s._)("div",j5,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",I5,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[O5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.color)+" "+(0,ot.zw)(t.size),9,H5)))),128))],40,V5)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",M5,N5)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",Y5,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Z5)])]),(0,s._)("td",null,[(0,s._)("div",K5,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,B5)])]),(0,s._)("td",null,[(0,s._)("div",Q5,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var G5={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const X5=(0,m.Z)(G5,[["render",J5]]);var t4=X5,e4={components:{ItemRow:t4},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return go(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const r4=(0,m.Z)(e4,[["render",P5]]);var a4=r4;const s4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),l4={key:0,class:"tw-relative"},o4=["value","disabled"],i4=(0,s._)("option",{value:""},"Choose a Delivery",-1),w4=["value"],n4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),d4={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},c4={key:2,class:"tw-relative"},u4={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},p4=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),g4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function m4(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[s4,l.fetched?((0,s.wg)(),(0,s.iD)("div",l4,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,ot.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[i4,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,w4)))),128))],42,o4),n4])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",d4,(0,ot.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",c4,[(0,s._)("div",u4,[(0,s.Wm)(i)]),p4,g4]))])}var h4={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,st.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const f4=(0,m.Z)(h4,[["render",m4]]);var b4=f4;const v4={key:0},x4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),y4={class:"md:tw-col-span-12 tw-col-span-12"},_4={class:"tw-max-w-full tw-overflow-auto"},k4={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},C4=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),D4={class:"tw-px-3 tw-py-2"},S4={class:"tw-px-3 tw-py-2"},z4={class:"tw-px-3 tw-py-2"},U4={class:"tw-px-3 tw-py-2"},q4={class:"tw-max-w-[250px] tw-text-sm"};function P4(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",v4,[x4,(0,s._)("div",y4,[(0,s._)("div",_4,[(0,s._)("table",k4,[C4,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",D4,(0,ot.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",S4,(0,ot.zw)(t.quantity),1),(0,s._)("td",z4,(0,ot.zw)(t.price)+" "+(0,ot.zw)(l.currency),1),(0,s._)("td",U4,[(0,s._)("p",q4,(0,ot.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var L4={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const W4=(0,m.Z)(L4,[["render",P4]]);var A4=W4,$4={components:{OrderItems:a4,OrderAffectation:b4,ProductOffersTable:A4},props:{visible:{required:!0},item:{required:!0}},data(){return{followup_confirmations:En,deliveryStatus:Fn,upsells:Tn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=e5(this,this.itemCopy);if(!t)return!1;l5(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ga.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const E4=(0,m.Z)($4,[["render",t5]]);var T4=E4,F4={components:{UpdatePopup:T4},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const j4=(0,m.Z)(F4,[["render",l2]]);var I4=j4;const V4={key:0},O4={key:0,class:"tw-relative tw-inline-block tw-text-left"},H4={key:0},M4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),R4=[M4],N4={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},Y4={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},Z4=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),K4=[Z4],B4={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},Q4={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},J4={class:"tw-py-1",role:"none"},G4=["onClick"],X4={key:1},t3={class:"tw-p-2 tw-scale-75"};function e3(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",V4,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",O4,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",H4,R4)):(0,s.kq)("",!0),(0,s._)("p",N4,(0,ot.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",Y4,K4)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",B4,(0,ot.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(jt.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",Q4,[(0,s._)("div",J4,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,ot.zw)(t.name),1)],8,G4)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[le.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",X4,[(0,s._)("div",t3,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var r3={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};l5(this,e,!1)}}};const a3=(0,m.Z)(r3,[["render",e3]]);var s3=a3,l3={components:{TableActions:I4,TableRowAffectation:s3},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:De()}},computed:{confirmation(){return An.find((t=>t.value==this.item.confirmation))},deliveryState(){return Fn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const o3=(0,m.Z)(l3,[["render",t2]]);var i3=o3,w3={components:{TablePaginationNoNums:z1,TableRow:i3},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const n3=(0,m.Z)(w3,[["render",c1]]);var d3=n3;const c3={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},u3={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},p3=["disabled"],g3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),m3=[g3],h3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),f3=[h3],b3=["disabled"],v3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),x3=[v3],y3={class:"tw-relative"},_3=["value"],k3=(0,s._)("option",{value:5},"5",-1),C3=(0,s._)("option",{value:10},"10",-1),D3=(0,s._)("option",{value:20},"20",-1),S3=(0,s._)("option",{value:50},"50",-1),z3=(0,s._)("option",{value:100},"100",-1),U3=(0,s._)("option",{value:250},"250",-1),q3=(0,s._)("option",{value:500},"500",-1),P3=[k3,C3,D3,S3,z3,U3,q3],L3=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),W3={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},A3=["value"],$3={class:"tw-overflow-hidden tw-col-span-1"},E3={class:"tw-overflow-hidden tw-col-span-1"};function T3(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=((0,s.up)("IndexExport"),(0,s.up)("IndexStatistics"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",c3,[(0,s._)("div",u3,[(0,s._)("button",{class:(0,ot.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,p3),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,ot.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},m3,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:1,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,ot.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},f3,2)):(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},x3,8,b3),(0,s.kq)("",!0),(0,s._)("div",y3,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},P3,40,_3),L3])]),(0,s._)("div",W3,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,A3),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,ot.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",$3,[(0,s.Wm)(w,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s.kq)("",!0),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,ot.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",E3,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const F3={class:"tw-mb-4"},j3={class:"tw-grid tw-grid-cols-12 tw-gap-4"},I3={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},V3={class:"tw-flex tw-items-center tw-justify-between"},O3={class:"tw-text-xl tw-font-bold tw-text-gray-900"},H3={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function M3(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",F3,[(0,s._)("div",j3,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",I3,[(0,s._)("p",{class:(0,ot.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,ot.zw)(t.name),3),(0,s._)("div",V3,[(0,s._)("span",O3,(0,ot.zw)(t.total),1),(0,s._)("span",H3,(0,ot.zw)(t.percent)+"%",1)])])])))),128))])])}var R3={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return An.find((e=>e.value==t))}}};const N3=(0,m.Z)(R3,[["render",M3]]);var Y3=N3;const Z3={class:"tw-mb-4"},K3={class:"tw-flex tw-items-center tw-gap-2"},B3=["disabled"],Q3=(0,s._)("span",null,"Select Filtered",-1),J3={class:"tw-flex tw-justify-end"},G3=["disabled"];function X3(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",Z3,[(0,s._)("div",K3,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Q3],8,B3)]),(0,s._)("div",J3,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,ot.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,G3)])])}var t8={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Eu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const e8=(0,m.Z)(t8,[["render",X3]]);var r8=e8;const a8={class:"tw-mb-4"},s8={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},l8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},o8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),i8=["value"],w8=(0,s._)("option",{value:"all",selected:""},"All",-1),n8=["value"],d8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},c8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),u8=["value"],p8=(0,s._)("option",{value:"all",selected:""},"All",-1),g8=["value"],m8={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},h8=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),f8=(0,s._)("span",null,"Clear",-1),b8=[h8,f8],v8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),x8=(0,s._)("span",null,"Filter",-1),y8=[v8,x8];function _8(t,e,r,a,l,o){(0,s.up)("ProductFilter"),(0,s.up)("AgentFilter");const i=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",a8,[(0,s._)("div",s8,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",l8,[o8,(0,s._)("select",{value:r.filters.followup_confirmation,onChange:e[6]||(e[6]=e=>t.$emit("update",{...r.filters,followup_confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[w8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,ot.zw)(t.name),11,n8)))),128))],40,i8)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",d8,[c8,(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[p8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,ot.zw)(t.name),11,g8)))),128))],40,u8)]),(0,s.kq)("",!0),(0,s._)("div",m8,[(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},b8),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},y8)])])])}const k8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},C8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),D8=["value"],S8=(0,s._)("option",{value:"all"},"All",-1),z8=(0,s._)("option",{value:""},"No Delivery",-1),U8=["value"];function q8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",k8,[C8,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[S8,z8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,U8)))),128))],40,D8)])}var P8={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const L8=(0,m.Z)(P8,[["render",q8]]);var W8=L8;const A8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),E8=["value"],T8=(0,s._)("option",{value:"all"},"All",-1),F8=(0,s._)("option",{value:""},"No Agent",-1),j8=["value"];function I8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",A8,[$8,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[T8,F8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,j8)))),128))],40,E8)])}var V8={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const O8=(0,m.Z)(V8,[["render",I8]]);var H8=O8;const M8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},R8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),N8=["value"],Y8=(0,s._)("option",{value:"all"},"All",-1),Z8=["value"];function K8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",M8,[R8,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Y8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.name),9,Z8)))),128))],40,N8)])}var B8={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ga.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const Q8=(0,m.Z)(B8,[["render",K8]]);var J8=Q8,G8={components:{AffectationFilter:W8,AgentFilter:H8,ProductFilter:J8},props:{filters:{required:!0,default:{}}},data(){return{followup_confirmations:En,deliveries:Fn,dateFilter:["",""]}}};const X8=(0,m.Z)(G8,[["render",_8]]);var t6=X8,e6={components:{IndexStatistics:Y3,FiltersWrapper:t6,IndexExport:r8},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=De()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const r6=(0,m.Z)(e6,[["render",T3]]);var a6=r6;const s6={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},l6=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),o6={class:"tw-bg-white tw-p-4"},i6={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},w6={class:"tw-col-span-2 md:tw-col-span-1"},n6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),d6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},c6={class:"tw-col-span-2 md:tw-col-span-1"},u6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),p6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},g6={class:"tw-col-span-2 md:tw-col-span-1"},m6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),h6={class:"tw-relative"},f6=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),b6=["value"],v6=["value"],x6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),y6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_6={class:"tw-col-span-2 md:tw-col-span-1"},k6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),C6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},D6={class:"tw-col-span-2"},S6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),z6={class:"tw-relative"},U6=["value"],q6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),P6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},L6={key:0,class:"md:tw-col-span-1 tw-col-span-2"},W6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),A6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$6={key:1,class:"md:tw-col-span-1 tw-col-span-2"},E6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),T6={class:"tw-col-span-2"},F6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),j6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},I6={class:"md:tw-col-span-1 tw-col-span-2"},V6={class:"md:tw-col-span-1 tw-col-span-2"},O6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),H6={class:"tw-relative"},M6=["value"],R6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),N6={class:"tw-col-span-2"},Y6={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Z6={key:0,class:"tw-text-red-400 tw-text-xs"},K6={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},B6=["disabled"],Q6=(0,s._)("span",null,"Create",-1);function J6(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",s6,[l6,(0,s._)("div",o6,[(0,s._)("div",i6,[(0,s._)("div",w6,[n6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,ot.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",d6,(0,ot.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",c6,[u6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,ot.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",p6,(0,ot.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",g6,[m6,(0,s._)("div",h6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,ot.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[f6,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,ot.zw)(o.itemCopy.city),9,b6),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,ot.zw)(t.name),9,v6)))),128))],34),[[a.bM,o.itemCopy.city]]),x6]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",y6,(0,ot.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",_6,[k6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,ot.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",C6,(0,ot.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",D6,[S6,(0,s._)("div",z6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,ot.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,ot.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,ot.zw)(t.name),11,U6)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),q6]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",P6,(0,ot.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",L6,[W6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,ot.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",A6,(0,ot.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",$6,[E6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",T6,[F6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,ot.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",j6,(0,ot.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",I6,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",V6,[O6,(0,s._)("div",H6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.text]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,M6)))),128))],512),[[a.bM,o.itemCopy.upsell]]),R6])]),(0,s._)("div",N6,[(0,s._)("label",Y6,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",Z6," # "+(0,ot.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",K6,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Q6],8,B6)])])])),_:1},8,["visible","onCancel"])])}const G6=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},X6=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},t7=(t,e)=>{t.isLoading=!0,t.errors={},bi.create(e).then((e=>G6(t,e.data))).catch((e=>X6(t,e.response.data))).finally((()=>t.isLoading=!1))};var e7={components:{OrderItems:a4,OrderAffectation:b4},props:{visible:{required:!0}},data(){return{followup_confirmations:En,upsells:Tn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=e5(this,this.itemCopy);if(!t)return!1;t7(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ga.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:"confirmer",upsell:null,items:[]},this.getProducts()}};const r7=(0,m.Z)(e7,[["render",J6]]);var a7=r7,s7={components:{IndexTable:d3,IndexFilters:a6,CreatePopup:a7,BulkActions:PX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,bi.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=mo(t.first_page_url),this.lase_page_url=mo(t.last_page_url),this.next_page_url=mo(t.next_page_url),this.prev_page_url=mo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,st.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const l7=(0,m.Z)(s7,[["render",z0]]);var o7=l7,i7={name:"sales",path:"/sales",component:za,meta:{module:"sale"},children:[{name:"sale/list",path:"",component:OH,meta:{module:"sale",subModule:"sale/list",title:"Sales List",gate:"show_all_sales"}},{name:"sale/newlist",path:"new",component:AX,meta:{module:"sale",subModule:"sale/newlist",title:"Sales List",gate:"show_all_sales"}},{name:"sale/expidation",path:"expidation",component:QX,meta:{module:"sale",subModule:"sale/expidation",title:"Expidation",gate:"show_all_expidations"}},{name:"sale/shipping",path:"shipping",component:p0,meta:{module:"sale",subModule:"sale/shipping",title:"Shipping",gate:"show_all_expidations"}},{name:"sale/followup",path:"followup",component:o7,meta:{module:"followup",subModule:"sale/followup",title:"Follow Up",gate:"show_all_expidations"}}]};const w7={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},n7={class:"tw-px-3"},d7={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},c7={class:"tw-flex tw-items-center tw-gap-x-3"},u7=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),p7={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},g7=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"List of all orders.",-1),m7={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},h7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f7=(0,s._)("span",null,"Create",-1),b7=[h7,f7],v7={key:0};function x7(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",w7,[(0,s._)("section",n7,[(0,s._)("div",d7,[(0,s._)("div",null,[(0,s._)("div",c7,[u7,(0,s._)("span",p7,(0,ot.zw)(l.totalOrders)+" order",1)]),g7]),(0,s._)("div",m7,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},b7)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",v7,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const y7={class:"tw-flex tw-flex-col"},_7={class:"tw-overflow-x-auto"},k7={class:"tw-inline-block tw-min-w-full tw-align-middle"},C7={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},D7={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},S7={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},z7=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),U7={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},q7=(0,s._)("span",null,"Created",-1),P7=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),L7=[q7,P7],W7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),A7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),$7=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Products ",-1),E7=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),T7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),F7=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),j7={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},I7={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},V7=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),O7=[V7],H7={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},M7={colspan:"8"},R7={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},N7=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Y7=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Z7=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),K7=[Y7,Z7],B7={class:"tw-mt-6"};function Q7(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",y7,[(0,s._)("div",_7,[(0,s._)("div",k7,[(0,s._)("div",C7,[(0,s._)("table",D7,[(0,s._)("thead",S7,[(0,s._)("tr",null,[z7,(0,s._)("th",U7,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},L7)]),W7,A7,$7,E7,T7,F7])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",j7,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",I7,O7)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",H7,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",M7,[(0,s._)("div",R7,[N7,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},K7)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",B7,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const J7={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},G7={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},X7={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},t9={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},e9=["disabled"],r9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),a9=(0,s._)("span",null," previous ",-1),s9=[r9,a9],l9=["disabled"],o9=(0,s._)("span",null," Next ",-1),i9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),w9=[o9,i9];function n9(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",J7,[(0,s._)("div",G7,[(0,s.Uk)(" Page "),(0,s._)("span",X7,(0,ot.zw)(r.currentPage)+" of "+(0,ot.zw)(r.lastPage),1)]),(0,s._)("div",t9,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,ot.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},s9,10,e9),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,ot.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},w9,10,l9)])])])}var d9={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const c9=(0,m.Z)(d9,[["render",n9]]);var u9=c9;const p9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},g9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},m9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},h9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},f9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},b9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},v9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},x9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},y9={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_9={class:"tw-space-y-1"},k9={class:"tw-font-bold tw-text-green-500"},C9={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},D9={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},S9={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},z9={class:"tw-px-12 tw-py-2 tw-text-sm tw-whitespace-nowrap"},U9=(0,s._)("div",{class:"tw-w-1.5 tw-h-1.5 tw-rounded-full tw-bg-emerald-500"},null,-1),q9={key:1},P9={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function L9(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",p9,[(0,s._)("div",null,[(0,s._)("h2",g9,(0,ot.zw)(r.item.id),1)])]),(0,s._)("td",m9,[(0,s._)("div",null,[(0,s._)("h2",h9,[(0,s._)("p",null,(0,ot.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",f9,[(0,s._)("div",null,[(0,s._)("h2",b9,(0,ot.zw)(r.item.fullname),1)])]),(0,s._)("td",v9,[(0,s._)("div",null,[(0,s._)("h2",x9,(0,ot.zw)(r.item.phone),1)])]),(0,s._)("td",y9,[(0,s._)("div",null,[(0,s._)("ul",_9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",k9,(0,ot.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,ot.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",C9,(0,ot.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",D9,(0,ot.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",S9,[(0,s._)("span",{class:(0,ot.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,ot.zw)(o.confirmation.name),3)]),(0,s._)("td",z9,[r.item.delivery_fullname?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([["tw-text-emerald-800","tw-bg-emerald-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-pl-1.5 tw-py-0.5 tw-rounded tw-w-fit tw-flex tw-items-center tw-gap-2"])},[U9,(0,s._)("span",null,(0,ot.zw)(r.item.delivery_fullname),1)])):((0,s.wg)(),(0,s.iD)("div",q9,[(0,s._)("span",{class:(0,ot.C_)([["tw-text-gray-800","tw-bg-gray-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},"No Delivery")]))]),(0,s._)("td",P9,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const W9={class:"tw-h-full"},A9={class:"tw-flex tw-items-center tw-gap-2"},$9=["href"],E9={key:0};function T9(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",W9,[(0,s._)("div",A9,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,$9),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",E9,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const F9={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},j9=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),I9={class:"tw-bg-white tw-p-4"},V9={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},O9={class:"tw-col-span-2 md:tw-col-span-1"},H9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),M9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},R9={class:"tw-col-span-2 md:tw-col-span-1"},N9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Y9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Z9={class:"tw-col-span-2 md:tw-col-span-1"},K9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),B9={class:"tw-relative"},Q9=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),J9=["value"],G9=["value"],X9=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ttt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ett={class:"tw-col-span-2 md:tw-col-span-1"},rtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),att={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},stt={class:"tw-col-span-2"},ltt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),ott={class:"tw-relative"},itt=["value"],wtt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ntt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dtt={key:0,class:"md:tw-col-span-1 tw-col-span-2"},ctt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),utt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ptt={key:1,class:"md:tw-col-span-1 tw-col-span-2"},gtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),mtt={class:"tw-col-span-2"},htt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),ftt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},btt={class:"md:tw-col-span-1 tw-col-span-2"},vtt={key:2,class:"tw-col-span-1"},xtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),ytt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_tt={class:"md:tw-col-span-1 tw-col-span-2"},ktt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Ctt={class:"tw-relative"},Dtt=["value"],Stt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ztt={class:"tw-col-span-2"},Utt={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},qtt={key:0,class:"tw-text-red-400 tw-text-xs"},Ptt={key:3,class:"tw-col-span-2"},Ltt={class:"tw-grid lg:tw-grid-cols-2 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},Wtt={class:"tw-space-y-2 tw-px-5"},Att=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-youtube tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Video Link")],-1),$tt=["href"],Ett={class:"tw-space-y-2 tw-px-5"},Ttt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-store tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Store Link")],-1),Ftt=["href"],jtt={key:4,class:"tw-col-span-2"},Itt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Vtt=["disabled"],Ott=(0,s._)("span",null,"Update",-1);function Htt(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",F9,[j9,(0,s._)("div",I9,[(0,s._)("div",V9,[(0,s._)("div",O9,[H9,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,ot.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",M9,(0,ot.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",R9,[N9,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,ot.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",Y9,(0,ot.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Z9,[K9,(0,s._)("div",B9,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,ot.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Q9,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,ot.zw)(o.itemCopy.city),9,J9),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,ot.zw)(t.name),9,G9)))),128))],34),[[a.bM,o.itemCopy.city]]),X9]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",ttt,(0,ot.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",ett,[rtt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,ot.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",att,(0,ot.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",stt,[ltt,(0,s._)("div",ott,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,ot.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,ot.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,ot.zw)(t.name),11,itt)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),wtt]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",ntt,(0,ot.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",dtt,[ctt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,ot.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",utt,(0,ot.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",ptt,[gtt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",mtt,[htt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,ot.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",ftt,(0,ot.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",btt,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",vtt,[xtt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,ot.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",ytt,(0,ot.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",_tt,[ktt,(0,s._)("div",Ctt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.text]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,Dtt)))),128))],512),[[a.bM,o.itemCopy.upsell]]),Stt])]),(0,s._)("div",ztt,[(0,s._)("label",Utt,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",qtt," # "+(0,ot.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{action:"update",order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",Ptt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",Ltt,[(0,s._)("div",Wtt,[Att,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.video},(0,ot.zw)(i.truncateText(t.video,30)),9,$tt)]),(0,s._)("div",Ett,[Ttt,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.store},(0,ot.zw)(i.truncateText(t.store,30)),9,Ftt)])])])))),128))])):(0,s.kq)("",!0),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",jtt,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",Itt,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Ott],8,Vtt)])])])),_:1},8,["visible","onCancel"])])}const Mtt=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.parent_id||"refund"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!Rtt(t,e.items):(t.errors.parent_id="Add Parent id !",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),Rtt=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Ntt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={},t.$store.dispatch("agent/refreshCounts")},Ytt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Ztt=(t,e)=>{t.isLoading=!0,t.errors={},F.update(e.id,e).then((e=>Ntt(t,e.data))).catch((e=>Ytt(t,e.response.data))).finally((()=>t.isLoading=!1))},Ktt={key:0},Btt=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Qtt={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Jtt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Gtt=(0,s._)("span",null,"Add Item",-1),Xtt=[Jtt,Gtt],tet={key:1,class:"md:tw-col-span-12 tw-col-span-12"},eet={class:"tw-max-w-full tw-overflow-auto"},ret={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},aet={class:"tw-bg-gray-50"},set={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},oet={key:0},iet={colspan:"5"},wet={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},net=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),det=(0,s._)("span",null,"Add Item",-1),cet=[net,det],uet=(0,s._)("td",{colspan:"4"},null,-1),pet={colspan:"1",class:"tw-p-2"},get={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},met={key:1},het={colspan:"6"},fet={class:"tw-scale-75 tw-p-5"};function bet(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ktt,[Btt,(0,s._)("div",Qtt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Xtt)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",tet,[(0,s._)("div",eet,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",ret,[(0,s._)("tr",aet,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",set,(0,ot.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",oet,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,action:r.action,item:t,order:r.order,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["action","item","order","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",iet,[(0,s._)("div",wet,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},cet)])])]),(0,s._)("tr",null,[uet,(0,s._)("td",pet,[(0,s._)("div",get,[(0,s._)("p",null,(0,ot.zw)(l.currency)+" "+(0,ot.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",met,[(0,s._)("tr",null,[(0,s._)("td",het,[(0,s._)("div",fet,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const vet={class:"tw-p-2"},xet={class:"tw-p-2"},yet={key:0,class:"tw-relative"},_et=["value"],ket=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),Cet=["value"],Det={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},zet=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),Uet=[zet],qet={class:"tw-p-2"},Pet=["value"],Let={class:"tw-p-2"},Wet=["value"],Aet={class:"tw-flex tw-justify-center"};function $et(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("div",vet,[((0,s.wg)(),(0,s.j4)(i,{"append-to-body":"",reduce:t=>t.id,key:r.item.id,"onOption:selected":e[0]||(e[0]=t=>o.handleProductChange(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Product",modelValue:o.product,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),options:o.allProducts,label:"name"},null,8,["reduce","modelValue","options"])),(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",xet,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",yet,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[3]||(e[3]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[ket,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.color)+" "+(0,ot.zw)(t.size),9,Cet)))),128))],40,_et)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",Det,Uet)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",qet,[(0,s._)("input",{onInput:e[4]||(e[4]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Pet)])]),(0,s._)("td",null,[(0,s._)("div",Let,[(0,s._)("input",{onInput:e[5]||(e[5]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Wet)])]),(0,s._)("td",null,[(0,s._)("div",Aet,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var Eet={components:{"vue-select":VY.Z},props:{item:{required:!0},products:{required:!0},order:{required:!1},action:{required:!0}},computed:{allProducts(){return[{id:0,name:"Choose Product"},...this.products]},product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))},productsForUpdate(){return this.products.filter((t=>t.user_id==this.order.user_id))},productsForCreate(){if(!this.order.items.length)return this.products;const t=this.order.items[0];return t.product_id?this.products.filter((e=>e.user_id==t.product.user_id)):this.products},filteredProducts(){return"update"==this.action?this.productsForUpdate:this.productsForCreate}},methods:{handleProductChange(t,e){const r=1===e?parseInt(t.target.value):t.id;if(!r)return!1;const a=this.products.find((t=>t.id==r));console.log(a.variations.length>0?a.variations[0].id:null);const s={...this.item,product_id:r,product:a,product_ref:a.ref,product_variation_id:a.variations.length>0?a.variations[0].id:null,product_variation:a.variations.length>0?a.variations[0]:null};if(this.$emit("update",s),console.log(this.order),this.order.items.length){const t=this.order.items[0];console.log(t)}},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const Tet=(0,m.Z)(Eet,[["render",$et]]);var Fet=Tet,jet={components:{ItemRow:Fet},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0},action:{required:!1,default:"update"}},data(){return{currency:c}},computed:{price(){return go(this.order)},filteredProducts(){return this.products.filter((t=>t.user_id==this.order.user_id))}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Iet=(0,m.Z)(jet,[["render",bet]]);var Vet=Iet;const Oet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Het={key:0,class:"tw-relative"},Met=["value","disabled"],Ret=(0,s._)("option",{value:""},"Choose a Delivery",-1),Net=["value"],Yet=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Zet={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ket={key:2,class:"tw-relative"},Bet={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Qet=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Jet=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function Get(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[Oet,l.fetched?((0,s.wg)(),(0,s.iD)("div",Het,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,ot.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Ret,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,Net)))),128))],42,Met),Yet])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Zet,(0,ot.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ket,[(0,s._)("div",Bet,[(0,s.Wm)(i)]),Qet,Jet]))])}var Xet={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,st.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const trt=(0,m.Z)(Xet,[["render",Get]]);var ert=trt;const rrt={key:0},art=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),srt={class:"md:tw-col-span-12 tw-col-span-12"},lrt={class:"tw-max-w-full tw-overflow-auto"},ort={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},irt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),wrt={class:"tw-px-3 tw-py-2"},nrt={class:"tw-px-3 tw-py-2"},drt={class:"tw-px-3 tw-py-2"},crt={class:"tw-px-3 tw-py-2"},urt={class:"tw-max-w-[250px] tw-text-sm"};function prt(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",rrt,[art,(0,s._)("div",srt,[(0,s._)("div",lrt,[(0,s._)("table",ort,[irt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",wrt,(0,ot.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",nrt,(0,ot.zw)(t.quantity),1),(0,s._)("td",drt,(0,ot.zw)(t.price)+" "+(0,ot.zw)(l.currency),1),(0,s._)("td",crt,[(0,s._)("p",urt,(0,ot.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var grt={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const mrt=(0,m.Z)(grt,[["render",prt]]);var hrt=mrt,frt={components:{OrderItems:Vet,OrderAffectation:ert,ProductOffersTable:hrt},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:An,upsells:Tn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,product:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,parent_id:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=Mtt(this,this.itemCopy);if(!t)return!1;Ztt(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ga.allForOrder(this.itemCopy.user_id).then((t=>{if("SUCCESS"==t.data.code){this.products=t.data.data.products;const e=this.itemCopy.items.map((t=>t.product_id));this.product=this.products.filter((t=>e.includes(t.id)))}else this.products=[];this.products_fetched=!0})).catch(this.$handleApiError)},truncateText(t,e){return t.length>e?t.slice(0,e)+"...":t}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const brt=(0,m.Z)(frt,[["render",Htt]]);var vrt=brt,xrt={components:{UpdatePopup:vrt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const yrt=(0,m.Z)(xrt,[["render",T9]]);var _rt=yrt,krt={components:{TableActions:_rt},props:{item:{required:!0}},data(){return{moment:De()}},computed:{confirmation(){return An.find((t=>t.value==this.item.confirmation))},deliveryState(){return Fn.find((t=>t.value==this.item.delivery))}},methods:{}};const Crt=(0,m.Z)(krt,[["render",L9]]);var Drt=Crt,Srt={components:{TablePaginationNoNums:u9,TableRow:Drt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const zrt=(0,m.Z)(Srt,[["render",Q7]]);var Urt=zrt;const qrt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Prt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),Lrt={class:"tw-bg-white tw-p-4"},Wrt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},Art={class:"tw-col-span-2 md:tw-col-span-1"},$rt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),Ert={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Trt={class:"tw-col-span-2 md:tw-col-span-1"},Frt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),jrt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Irt={class:"tw-col-span-2 md:tw-col-span-1"},Vrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Ort={class:"tw-relative"},Hrt=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Mrt=["value"],Rrt=["value"],Nrt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Yrt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Zrt={class:"tw-col-span-2 md:tw-col-span-1"},Krt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Brt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Qrt={class:"tw-col-span-2"},Jrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Grt={class:"tw-relative"},Xrt=["value"],tat=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),eat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rat={key:0,class:"md:tw-col-span-1 tw-col-span-2"},aat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),sat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lat={key:1,class:"md:tw-col-span-1 tw-col-span-2"},oat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),iat={class:"tw-col-span-2"},wat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),nat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dat={class:"md:tw-col-span-1 tw-col-span-2"},cat={key:2,class:"tw-col-span-1"},uat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),pat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gat={class:"md:tw-col-span-1 tw-col-span-2"},mat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),hat={class:"tw-relative"},fat=["value"],bat=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),vat={class:"tw-col-span-2"},xat={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},yat={key:0,class:"tw-text-red-400 tw-text-xs"},_at={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},kat=["disabled"],Cat=(0,s._)("span",null,"Create",-1);function Dat(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",qrt,[Prt,(0,s._)("div",Lrt,[(0,s._)("div",Wrt,[(0,s._)("div",Art,[$rt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,ot.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",Ert,(0,ot.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Trt,[Frt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,ot.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",jrt,(0,ot.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Irt,[Vrt,(0,s._)("div",Ort,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,ot.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Hrt,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,ot.zw)(o.itemCopy.city),9,Mrt),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,ot.zw)(t.name),9,Rrt)))),128))],34),[[a.bM,o.itemCopy.city]]),Nrt]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",Yrt,(0,ot.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Zrt,[Krt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,ot.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Brt,(0,ot.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Qrt,[Jrt,(0,s._)("div",Grt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,ot.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,ot.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,ot.zw)(t.name),11,Xrt)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),tat]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",eat,(0,ot.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",rat,[aat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,ot.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",sat,(0,ot.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",lat,[oat,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",iat,[wat,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,ot.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",nat,(0,ot.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",dat,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",cat,[uat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,ot.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",pat,(0,ot.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",gat,[mat,(0,s._)("div",hat,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.text]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,fat)))),128))],512),[[a.bM,o.itemCopy.upsell]]),bat])]),(0,s._)("div",vat,[(0,s._)("label",xat,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",yat," # "+(0,ot.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{action:"create",order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",_at,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Cat],8,kat)])])])),_:1},8,["visible","onCancel"])])}const Sat=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},zat=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Uat=(t,e)=>{t.isLoading=!0,t.errors={},F.create(e).then((e=>Sat(t,e.data))).catch((e=>zat(t,e.response.data))).finally((()=>t.isLoading=!1))};var qat={components:{OrderItems:Vet,OrderAffectation:ert},props:{visible:{required:!0}},data(){return{confirmations:$n,upsells:Tn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=Mtt(this,this.itemCopy);if(!t)return!1;Uat(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ga.allForOrder().then((t=>{"SUCCESS"==t.data.code?(this.products=t.data.data.products,console.log(this.products)):this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const Pat=(0,m.Z)(qat,[["render",Dat]]);var Lat=Pat;const Wat={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Aat={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},$at=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),Eat=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),Tat=[Eat],Fat=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),jat=[Fat],Iat=["disabled"],Vat=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),Oat=[Vat],Hat={class:"tw-relative"},Mat=["value"],Rat=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),Nat=[Rat],Yat=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Zat={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},Kat=["value"],Bat={class:"tw-overflow-hidden tw-col-span-1"},Qat={class:"tw-overflow-hidden tw-col-span-1"};function Jat(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Wat,[(0,s._)("div",Aat,[$at,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Tat),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},jat)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Oat,8,Iat),(0,s._)("div",Hat,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Nat,40,Mat),Yat])]),(0,s._)("div",Zat,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,Kat),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,ot.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Bat,[(0,s.Wm)(w,{onFilter:e[7]||(e[7]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Qat,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const Gat={class:"tw-mb-4"},Xat={class:"tw-grid tw-grid-cols-12 tw-gap-4"},tst={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},est={class:"tw-flex tw-items-center tw-justify-between"},rst={class:"tw-text-xl tw-font-bold tw-text-gray-900"},ast={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function sst(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Gat,[(0,s._)("div",Xat,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",tst,[(0,s._)("p",{class:(0,ot.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,ot.zw)(t.name),3),(0,s._)("div",est,[(0,s._)("span",rst,(0,ot.zw)(t.total),1),(0,s._)("span",ast,(0,ot.zw)(t.percent)+"%",1)])])])))),128))])])}var lst={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.confirmation)))}},methods:{getConfirmation(t){return An.find((e=>e.value==t))}}};const ost=(0,m.Z)(lst,[["render",sst]]);var ist=ost;const wst={class:"tw-mb-4"},nst={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},dst={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},cst=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created",-1),ust=["value"],pst={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},gst=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),mst=["value"],hst=(0,s._)("option",{value:"all",selected:""},"All",-1),fst=["value"],bst=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})]),(0,s._)("span",null,"Filter")],-1),vst=[bst];function xst(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",wst,[(0,s._)("div",nst,[(0,s._)("div",dst,[cst,(0,s._)("input",{value:r.filters.created_at,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_at:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,ust)]),(0,s._)("div",pst,[gst,(0,s._)("select",{value:r.filters.confirmation,onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[hst,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.name),9,fst)))),128))],40,mst)]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",{onClick:e[3]||(e[3]=e=>t.$emit("filter")),class:"tw-col-span-12 tw-flex tw-justify-end"},vst)])])}var yst={props:{filters:{required:!0,default:{}}},data(){return{confirmations:An,deliveryStatus:Fn,deliveries:[{id:1,value:"annuler",name:"Cancelled"},{id:2,value:"pas-de-reponse",name:"No Answer"}]}}};const _st=(0,m.Z)(yst,[["render",xst]]);var kst=_st,Cst={components:{IndexStatistics:ist,FiltersWrapper:kst},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const Dst=(0,m.Z)(Cst,[["render",Jat]]);var Sst=Dst,zst={components:{IndexTable:Urt,IndexFilters:Sst,CreatePopup:Lat},data(){return{fetching:!0,items:[],statistics:null,create_popup:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",delivery:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,F.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=mo(t.first_page_url),this.lase_page_url=mo(t.last_page_url),this.next_page_url=mo(t.next_page_url),this.prev_page_url=mo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Ust=(0,m.Z)(zst,[["render",x7]]);var qst=Ust;const Pst={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Lst={class:"tw-px-3 tw-h-fit"},Wst={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Ast=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"New Orders")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"take responsibility for new orders.")],-1),$st={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},Est=["disabled"],Tst=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Fst=(0,s._)("span",null,"Get Order",-1),jst=[Tst,Fst],Ist={key:0,class:"tw-p-5"},Vst={key:1,class:"tw-mt-5 tw-space-y-5"},Ost={class:"tw-flex tw-items-center tw-justify-end"},Hst={key:2},Mst=(0,s._)("div",{class:"tw-p-5 tw-border tw-border-solid tw-shadow-sm tw-mt-5 tw-text-center tw-font-medium tw-text-xl tw-text-gray-600 tw-bg-gray-100 tw-w-full tw-rounded-lg"}," No Orders ",-1),Rst=[Mst];function Nst(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",Pst,[(0,s._)("section",Lst,[(0,s._)("div",Wst,[Ast,(0,s._)("div",$st,[(0,s._)("button",{disabled:l.fetching,onClick:e[0]||(e[0]=(...t)=>o.getOrder&&o.getOrder(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},jst,8,Est)])]),l.fetching?((0,s.wg)(),(0,s.iD)("div",Ist,[(0,s.Wm)(i)])):(0,s.kq)("",!0),!l.fetching&&l.order_exists?((0,s.wg)(),(0,s.iD)("div",Vst,[(0,s.Wm)(w,{order:l.order,onUpdate:e[1]||(e[1]=t=>l.order=t)},null,8,["order"]),l.doubles.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.doubles,(t=>((0,s.wg)(),(0,s.j4)(w,{double:!0,key:t.id,order:t,onUpdate:e[2]||(e[2]=t=>l.doubles=l.doubles.map((e=>e.id==t.id?t:e)))},null,8,["order"])))),128)):(0,s.kq)("",!0),(0,s._)("div",Ost,[(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.save&&o.save(...t)),type:"button",class:"tw-px-5 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-orange-500 hover:tw-bg-orange-600 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-orange-100 tw-rounded-lg tw-text-center dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 dark:focus:tw-ring-orange-800"}," Save ")])])):(0,s.kq)("",!0),l.fetching||l.order_exists?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Hst,Rst))])])}const Yst=t=>{t.fetching=!0,F.toConfirm().then((e=>{const r=e.data;if("NO_ORDER"===r.code)return t.order_exists=!1,!1;"SUCCESS"==r.code&&r.data.orders.length>0&&(t.order=r.data.orders[0],t.order_exists=!0),t.doubles=1==r.data.double?r.data.double_orders.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},Zst=t=>null==t.order.confirmation?(t.$alert({title:"Confirmation Not Changed",type:"warning"}),!1):t.doubles.some((t=>null==t.confirmation))?(t.$alert({title:"Double Order Confirmation Not Changed",type:"warning"}),!1):(t.order_exists=!1,t.order=null,t.doubles=[],void t.$alert({title:"Your changes has been saved !",type:"success"})),Kst=t=>{let e=t.order;if(null!=e&&null==e.confirmation)return t.$alert({type:"warning",title:"Order Not Confirmed"}),!1;t.fetching=!0,F.getOrder().then((e=>{let r=e.data;if("ORDER_NOT_CONFIRMED"==r.code){t.$alert({type:"warning",title:"Order Not Confirmed"});let r=e.data.orders[0];return t.order=JSON.parse(JSON.stringify(r)),t.order_exists=!0,!1}if("SUCCESS"==r.code&&!e.data.orders?.id){let e=r.data.orders;t.order=JSON.parse(JSON.stringify(e)),t.order_exists=!0}if("NO_ORDERS"===r.code)return t.order_exists=!1,!1;t.doubles=1==r.data.double?r.data.double_orders?.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},Bst={class:"tw-bg-gray-50 tw-border tw-shadow-sm tw-rounded-lg tw-relative"},Qst=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"white","fill-rule":"evenodd",d:"M21.455 5.416a.75.75 0 0 1-.096.943l-9.193 9.192a.75.75 0 0 1-.34.195l-3.829 1a.75.75 0 0 1-.915-.915l1-3.828a.778.778 0 0 1 .161-.312L17.47 2.47a.75.75 0 0 1 1.06 0l2.829 2.828a.756.756 0 0 1 .096.118Zm-1.687.412L18 4.061l-8.518 8.518l-.625 2.393l2.393-.625l8.518-8.519Z","clip-rule":"evenodd"}),(0,s._)("path",{fill:"white",d:"M19.641 17.16a44.4 44.4 0 0 0 .261-7.04a.403.403 0 0 1 .117-.3l.984-.984a.198.198 0 0 1 .338.127a45.91 45.91 0 0 1-.21 8.372c-.236 2.022-1.86 3.607-3.873 3.832a47.77 47.77 0 0 1-10.516 0c-2.012-.225-3.637-1.81-3.873-3.832a45.922 45.922 0 0 1 0-10.67c.236-2.022 1.86-3.607 3.873-3.832a47.75 47.75 0 0 1 7.989-.213a.2.2 0 0 1 .128.34l-.993.992a.402.402 0 0 1-.297.117a46.164 46.164 0 0 0-6.66.255a2.89 2.89 0 0 0-2.55 2.516a44.421 44.421 0 0 0 0 10.32a2.89 2.89 0 0 0 2.55 2.516c3.355.375 6.827.375 10.183 0a2.89 2.89 0 0 0 2.55-2.516Z"})],-1),Jst={class:"tw-p-5 tw-flex tw-items-center tw-gap-2"},Gst={class:"tw-text-xl tw-font-bold tw-text-gray-600"},Xst=(0,s._)("span",{class:"tw-text-sm tw-text-gray-500"},null,-1),tlt={key:0,class:"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded tw-bg-purple-100 tw-text-purple-600"},elt={class:"tw-grid lg:tw-grid-cols-4 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},rlt={class:"tw-space-y-2 tw-px-5"},alt=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke-linecap="round" stroke-width="1.5"><path d="M7 18v-1a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v1"></path><path stroke-linejoin="round" d="M12 12a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"></path><path stroke-linejoin="round" d="M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6Z"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">Client Name</span></div>',1),slt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},llt={class:"tw-space-y-2 tw-px-5"},olt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{class:"tw-stroke-orange-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.118 14.702L14 15.5c-2.782-1.396-4.5-3-5.5-5.5l.77-4.13L7.815 2H4.064c-1.128 0-2.016.932-1.847 2.047c.42 2.783 1.66 7.83 5.283 11.453c3.805 3.805 9.286 5.456 12.302 6.113c1.165.253 2.198-.655 2.198-1.848v-3.584l-3.882-1.479Z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Phone Number")],-1),ilt={class:"tw-flex tw-items-center tw-gap-2"},wlt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},nlt={class:"tw-space-y-2 tw-px-5"},dlt=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path d="M3.75 18a.75.75 0 0 0-1.5 0h1.5Zm-1.5-4a.75.75 0 0 0 1.5 0h-1.5ZM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08v1.5ZM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094h1.5ZM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066v-1.5ZM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294h1.5Zm0 10v-4h-1.5v4h1.5Zm0-8v-2h-1.5v2h1.5Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 22v-6c0-1.886 0-2.828.586-3.414C8.172 12 9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525c-.356-.514-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707C4.586 4.5 5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293C10 5.086 10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">City</span></div>',1),clt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},ult={class:"tw-space-y-2 tw-px-5"},plt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[(0,s._)("path",{fill:"#f97316",d:"m19.799 5.165l-2.375-1.83a1.997 1.997 0 0 0-.521-.237A2.035 2.035 0 0 0 16.336 3H9.5l.801 5h6.035c.164 0 .369-.037.566-.098s.387-.145.521-.236l2.375-1.832c.135-.091.202-.212.202-.334s-.067-.243-.201-.335zM8.5 1h-1a.5.5 0 0 0-.5.5V5H3.664c-.166 0-.37.037-.567.099c-.198.06-.387.143-.521.236L.201 7.165C.066 7.256 0 7.378 0 7.5c0 .121.066.242.201.335l2.375 1.832c.134.091.323.175.521.235c.197.061.401.098.567.098H7v8.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-17a.5.5 0 0 0-.5-.5z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Address")],-1),glt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},mlt={class:"tw-p-5 tw-py-3 tw-w-full tw-border-t tw-border-solid tw-mt-3"},hlt={class:""},flt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 2048 2048"},[(0,s._)("path",{fill:"#f97316",d:"M1024 1000v959l-64 32l-832-415V536l832-416l832 416v744h-128V680l-640 320zm-64-736L719 384l621 314l245-122l-625-312zm-64 1552v-816L256 680v816l640 320zM335 576l625 312l238-118l-622-314l-241 120zm1073 1216v-128h640v128h-640zm0-384h640v128h-640v-128zm-256 640v-128h128v128h-128zm0-512v-128h128v128h-128zm0 256v-128h128v128h-128zm-128 24h1h-1zm384 232v-128h640v128h-640z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Product")],-1),blt={class:"tw-p-3 tw-pl-10 tw-space-y-2"},vlt={class:"tw-font-bold tw-text-green-500"},xlt={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},ylt={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},_lt={class:"tw-font-[cairo] tw-mt-2 tw-flex tw-items-center tw-justify-end tw-gap-1 tw-text-2xl tw-text-green-400 tw-font-bold"},klt={key:0};function Clt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Bst,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),type:"button",class:"tw-px-5 tw-absolute tw-right-3 tw-top-3 tw-z-10 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-green-400 hover:tw-bg-green-500 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-green-100 tw-rounded-lg tw-text-center dark:tw-bg-green-600 dark:hover:tw-bg-green-700 dark:focus:tw-ring-green-800"},[Qst,(0,s.Uk)(" Edit ")]),(0,s._)("div",Jst,[(0,s._)("span",Gst,[Xst,(0,s.Uk)(" ID: "+(0,ot.zw)(r.order.id),1)]),(0,s._)("span",{class:(0,ot.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,ot.zw)(o.confirmation.name),3),r.double?((0,s.wg)(),(0,s.iD)("span",tlt,"Maybe double")):(0,s.kq)("",!0)]),(0,s._)("div",elt,[(0,s._)("div",rlt,[alt,(0,s._)("span",slt,(0,ot.zw)(r.order.fullname),1)]),(0,s._)("div",llt,[olt,(0,s._)("div",ilt,[(0,s._)("span",wlt,(0,ot.zw)(r.order.phone),1),(0,s.Wm)(it.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"text",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])]),(0,s._)("div",nlt,[dlt,(0,s._)("span",clt,(0,ot.zw)(r.order.city),1)]),(0,s._)("div",ult,[plt,(0,s._)("span",glt,(0,ot.zw)(r.order.adresse),1)])]),(0,s._)("div",mlt,[(0,s._)("div",hlt,[flt,(0,s._)("ul",blt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",vlt,(0,ot.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,ot.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",xlt,(0,ot.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",ylt,(0,ot.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128)),(0,s._)("li",_lt,[(0,s._)("span",null,(0,ot.zw)(l.currency),1),(0,s._)("span",null,(0,ot.zw)(o.price),1)])])])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",klt,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.order},null,8,["visible","item"])])):(0,s.kq)("",!0)])}var Dlt={components:{UpdatePopup:vrt},props:{order:{required:!0},double:{required:!1}},data(){return{currency:c,popup:!1}},computed:{price(){return go(this.order)},confirmation(){return An.find((t=>t.value==this.order.confirmation))}}};const Slt=(0,m.Z)(Dlt,[["render",Clt]]);var zlt=Slt,Ult={components:{OrderCard:zlt},data(){return{fetching:!0,order_exists:!1,doubles:[],order:null}},methods:{toConfirm(){Yst(this)},getOrder(){Kst(this)},save(){Zst(this)}},mounted(){this.toConfirm()}};const qlt=(0,m.Z)(Ult,[["render",Nst]]);var Plt=qlt;const Llt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Wlt={class:"tw-px-3"},Alt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},$lt={class:"tw-flex tw-items-center tw-gap-x-3"},Elt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),Tlt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Flt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Show all confirmed orders.",-1);function jlt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",Llt,[(0,s._)("section",Wlt,[(0,s._)("div",Alt,[(0,s._)("div",null,[(0,s._)("div",$lt,[Elt,(0,s._)("span",Tlt,(0,ot.zw)(l.totalOrders)+" order",1)]),Flt]),(0,s.kq)("",!0)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}var Ilt={components:{IndexTable:Urt,IndexFilters:Sst},data(){return{fetching:!0,items:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,confirmation:"confirmer"};return this.fetching=!0,F.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=mo(t.first_page_url),this.lase_page_url=mo(t.last_page_url),this.next_page_url=mo(t.next_page_url),this.prev_page_url=mo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Vlt=(0,m.Z)(Ilt,[["render",jlt]]);var Olt=Vlt,Hlt={name:"orders",path:"/agent/orders",component:za,meta:{module:"order"},children:[{name:"order/list",path:"",component:qst,meta:{module:"order",subModule:"order/list",title:"Orders List",gate:"show_all_orders"}},{name:"order/show",path:"add",component:Plt,meta:{module:"order",subModule:"order/show",title:"Current Order",gate:"show_all_orders"}},{name:"order/confirmed",path:"confirmed",component:Olt,meta:{module:"order",subModule:"order/confirmed",title:"Confirmed Orders",gate:"show_all_orders"}}]};const Mlt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Orders")])],-1),Rlt={key:0},Nlt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ylt={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-5"},Zlt={key:1},Klt={class:"tw-min-h-[400px] tw-flex tw-flex-col tw-justify-center tw-items-center"},Blt=(0,s._)("p",{class:"tw-font-medium tw-text-neutral-400 tw-text-lg tw-mb-n3"},"No Confirmed orders for now.",-1),Qlt=["src"];function Jlt(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",null,[Mlt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Rlt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Nlt,[o.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Ylt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.filteredOrders,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tw-col-span-12 md:tw-col-span-4"},[((0,s.wg)(),(0,s.j4)(w,{order:t,key:t.id},null,8,["order"]))])))),128))])):((0,s.wg)(),(0,s.iD)("div",Zlt,[(0,s._)("div",Klt,[Blt,(0,s._)("img",{src:l.localUrl+"images/delivery.jpg",class:"tw-mt-0 tw-mx-auto tw-max-w-[600px] tw-w-full",alt:""},null,8,Qlt)])]))])):(0,s.kq)("",!0)])}var Glt=r(9875),Xlt=r(1888),tot=r(1334);const eot={class:"tw-text-sm tw-text-orange-500x tw-bg-orange-500x/10 tw-underline tw-underline-offset-2 tw-px-1 tw-w-fit tw-rounded"},rot={class:"tw-w-full tw-whitespace-normal"},aot=(0,s._)("div",{class:"tw-border-b tw-mb-1 tw-border-dashed"},null,-1),sot={class:"tw-flex tw-items-center"},lot={key:0},oot={key:1},iot={class:"tw-min-w-fit tw-w-[25px] tw-h-[25px] tw-flex tw-items-center tw-justify-center tw-text-md tw-font-bold tw-p-1 tw-rounded tw-text-orange-400 tw-bg-orange-400/10"},wot=(0,s._)("span",{class:"tw-text-sm"},"x",-1),not={key:0},dot={key:0,class:"tw-px-5 tw-py-2 tw-mt-2 tw-border-neutral-200 tw-border-t tw-border-dashed"},cot=(0,s._)("p",{class:"tw-text-md tw-font-bold tw-text-pink-500"},"NOTE",-1),uot={class:"tw-flex tw-items-center tw-text-gray-500"},pot={class:"tw-flex tw-items-center tw-text-gray-500"};function got(t,e,r,a,l,o){const i=(0,s.up)("OrderCardDelivery");return(0,s.wg)(),(0,s.j4)(ys._,{class:(0,ot.C_)(["tw-mx-auto tw-relative tw-border-dashed !tw-shadow-lg !tw-shadow-gray-100/70",[!!r.order.note&&"tw-border-pink-00","livrer"==r.order.delivery&&"tw-border-emerald-400"]]),flat:"",border:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,ot.C_)(["tw-absolute tw-top-0 tw-right-0 tw-py-1 tw-px-2 tw-rounded-bl tw-text-xs",[o.delivery?.bg,o.delivery?.text]])},(0,ot.zw)(r.order.delivery),3),(0,s.Wm)(Glt._,null,{title:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("p",eot,(0,ot.zw)(r.order.city),1),(0,s._)("p",rot,(0,ot.zw)(r.order.adresse),1)]),aot])),_:1}),(0,s.Wm)(Xlt.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,{align:"center","no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",class:"tw-flex tw-items-center tw-flex-wrap tw-text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{icon:"mdi-account",size:"small",class:"tw-mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,ot.zw)(r.order.fullname)+" ",1),r.order.note?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,icon:"mdi-note-outline",size:"small",class:"tw-ml-2 tw-text-sm !tw-text-pink-500"})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(La.D,{cols:"12",class:"tw-text-gray-500 tw-space-y-1 tw-mt-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-3",key:t.id},[(0,s._)("div",sot,[(0,s._)("span",null,[(0,s.Uk)((0,ot.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",lot,"| "+(0,ot.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",oot,"| "+(0,ot.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s._)("p",iot,[wot,(0,s.Uk)(" "+(0,ot.zw)(t.quantity),1)])])])))),128))])),_:1}),(0,s.Wm)(La.D,{class:"text-h4 tw-my-3",cols:"12"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(o.getPrice(r.order)),1)])),_:1})])),_:1})])),_:1}),(0,s.kq)("",!0),(0,s.Wm)(jt.Fx,null,{default:(0,s.w5)((()=>[t.expand?((0,s.wg)(),(0,s.iD)("div",not,[r.order.note?((0,s.wg)(),(0,s.iD)("div",dot,[cot,(0,s._)("p",null,(0,ot.zw)(r.order.note),1)])):(0,s.kq)("",!0),(0,s.Wm)(tr.i,{class:"bg-transparent tw-space-y-2 !tw-px-5 tw-py-3 tw-border-neutral-200 tw-border-dashed tw-border-t tw-mt-5"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",uot,[(0,s.Wm)(nt.t,{icon:"mdi-phone",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,ot.zw)(r.order.phone),1)])]),(0,s._)("div",null,[(0,s._)("div",pot,[(0,s.Wm)(nt.t,{icon:"mdi-calendar",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,ot.zw)(r.order.created_at?.split("T")[0].split("-").reverse().join(".")),1)])])])),_:1})])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(ae.J),(0,s.Wm)(tot.h,{class:"tw-flex tw-justify-end tw-gap-2 tw-flex-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.T,{class:"tw-capitalize tw-mx-auto tw-bg-orange-500/5 tw-text-orange-500",rounded:"lg",density:"comfortable",icon:"",variant:"flat",onClick:e[0]||(e[0]=e=>t.expand=!t.expand)},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.expand?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1}),(0,s.Wm)(ir.C),r.order.phone?((0,s.wg)(),(0,s.j4)(it.T,{key:0,link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-capitalize tw-bg-green-500/5 tw-text-green-500 tw-border tw-border-green-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),r.order.phone?((0,s.wg)(),(0,s.j4)(it.T,{key:1,link:"",target:"_blank",href:"tel:"+r.order.phone,class:"tw-capitalize tw-bg-blue-500/5 tw-text-blue-500 tw-border tw-border-blue-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-phone")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),(0,s.Wm)(it.T,{onClick:e[1]||(e[1]=e=>t.confirmPopup=!0),class:"tw-capitalize tw-bg-emerald-500 tw-text-white tw-border tw-border-emerald-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])),_:1})])),_:1}),((0,s.wg)(),(0,s.j4)(i,{delivery:r.order.delivery,order:r.order,key:r.order,visible:t.confirmPopup,onCancel:e[2]||(e[2]=e=>t.confirmPopup=!1)},null,8,["delivery","order","visible"]))])),_:1},8,["class"])}const mot={class:"md:tw-w-[80%] tw-overflow-hidden tw-w-[95%] tw-max-w-[550px] tw-mx-auto tw-my-3 tw-min-h-[200px] tw-bg-white tw-rounded-lg tw-shadow-lg"},hot={class:"tw-px-5 tw-pt-5"},fot=(0,s._)("h1",{class:"tw-font-bold tw-text-gray-600"},"Select Status",-1),bot={class:"tw-mt-3 tw-flex tw-gap-3 tw-flex-wrap"},vot=["disabled","onClick"],xot={class:"tw-mt-5 tw-px-5 tw-py-3 tw-bg-gray-50 tw-border-t tw-flex tw-gap-2 tw-justify-end"},yot=(0,s._)("span",{class:"!tw-text-gray-500"},"Cancel",-1),_ot=(0,s._)("span",{class:"!tw-text-white"},"Confirm",-1);function kot(t,e,r,a,l,o){const i=(0,s.up)("popup-full"),w=(0,s.up)("OrderReporting");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:o.cancel,visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",mot,[(0,s._)("div",hot,[fot,(0,s._)("div",bot,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(e=>((0,s.wg)(),(0,s.iD)("button",{disabled:o.isDisabled(e),onClick:t=>o.handleChange(e),key:e.value,class:(0,ot.C_)([[o.isDisabled(e)&&"tw-saturate-0",e.text,e.bg,e.id==t.delivery&&[e.ring,"tw-ring"]],"tw-px-4 tw-py-2 tw-rounded"])},(0,ot.zw)(e.name),11,vot)))),128))])]),(0,s._)("div",xot,[(0,s.Wm)(it.T,{onClick:o.cancel,class:"!tw-capitalize",color:"grey-lighten-3",flat:""},{default:(0,s.w5)((()=>[yot])),_:1},8,["onClick"]),(0,s.Wm)(it.T,{onClick:o.handleConfirm,loading:t.isLoading,class:"!tw-capitalize",color:"primary-color",flat:""},{default:(0,s.w5)((()=>[_ot])),_:1},8,["onClick","loading"])])])])),_:1},8,["onCancel","visible"]),(0,s.Wm)(w,{onOrderReported:o.cancel,order:r.order,visible:t.showPopupReporter,onCancel:e[0]||(e[0]=e=>t.showPopupReporter=!1)},null,8,["onOrderReported","order","visible"])])}const Cot={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Dot=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Sot=(0,s._)("br",null,null,-1),zot=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),Uot={class:"tw-flex tw-justify-end tw-mt-2"};function qot(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Cot,[Dot,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),Sot,zot,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",Uot,[(0,s.Wm)(it.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Pot={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ha.deliveryUpdateDelivery(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$emit("orderReported"),this.$store.dispatch("order/update",{id:t.id,order:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){console.log(this.order)}};const Lot=(0,m.Z)(Pot,[["render",qot]]);var Wot=Lot,Aot={props:["visible","order"],components:{OrderReporting:Wot},data:()=>({status:Fn,disabled:jn,delivery:2,isLoading:!1,note:"",showPopupReporter:!1}),computed:{deliveryStatus(){return this.status.filter((t=>!!t.value))},selected(){return this.status.find((t=>t.id==this.delivery))}},watch:{order:{handler(t){this.delivery=this.getDeliveryId(t.delivery)},deep:!0,immediate:!0}},methods:{cancel(){this.getCurrentStatus(),this.$emit("cancel")},isDisabled(t){return this.disabled.includes(t.value)},handleChange(t){if(this.isDisabled(t))return!1;this.delivery=t.id},handleConfirm(){const t=this.selected;if(t.value===this.order.delivery)return this.cancel(),!1;"reporter"!=t.value&&this.updateOrder().then((()=>{this.cancel()})),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ha.deliveryUpdateDelivery(this.order.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.order.id,this.selected.value),this.isLoading=!1,this.cancel())}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})},getDeliveryId(t){return this.status.find((e=>e.value==t)).id||0},getCurrentStatus(){this.delivery=this.getDeliveryId(this.order.delivery)}},mounted(){this.getCurrentStatus()}};const $ot=(0,m.Z)(Aot,[["render",kot]]);var Eot=$ot,Tot={components:{OrderCardDelivery:Eot},props:["order"],data:()=>({deliveryStatus:Fn,expand:!1,confirmPopup:!1,labels:[{name:"Telephone",field:"phone",icon:"mdi-phone"},{name:"Date",field:"created_at",icon:"mdi-calendar"}]}),computed:{delivery(){return this.getDeliveryStatus(this.order.delivery)}},methods:{getDeliveryStatus(t){return this.deliveryStatus.find((e=>e.value==t))||this.deliveryStatus[0]},getPrice(t){return go(t)}}};const Fot=(0,m.Z)(Tot,[["render",got]]);var jot=Fot,Iot={components:{OrderCard:jot},data(){return{localUrl:w,deliveryStatus:Fn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"].filter((t=>"livrer"!=t.delivery))},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ha.deliveryOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Vot=(0,m.Z)(Iot,[["render",Jlt]]);var Oot=Vot;const Hot=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Delivered Orders"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Delivered orders list")])],-1),Mot={key:0},Rot={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Not={class:"mb-5 tw-flex"},Yot={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Zot={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Kot={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Bot=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),Qot={class:"tw-relative"},Jot=["value"],Got={key:0,class:""},Xot={key:1},tit=(0,s._)("p",null,"No orders for now",-1),eit=[tit];function rit(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("OrdersTable");return(0,s.wg)(),(0,s.iD)("div",null,[Hot,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Mot,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Rot,[(0,s._)("div",Not,[(0,s.Wm)(it.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Yot,[(0,s.Wm)(se.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,ot.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Zot,[(0,s._)("div",Kot,[Bot,(0,s._)("div",Qot,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value?t.value:"all"},(0,ot.zw)(t.name),9,Jot)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(nt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),i.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Got,[(0,s.Wm)(n,{orders:i.filteredOrders},null,8,["orders"])])):((0,s.wg)(),(0,s.iD)("div",Xot,eit))])):(0,s.kq)("",!0)])}const ait={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},sit={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},lit={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},oit=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),iit={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},wit={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},nit={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},dit=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),cit=["value"],uit={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},pit={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},git={class:"tw-text-white"};function mit(t,e,r,l,o,i){const w=(0,s.up)("OrderRow");return(0,s.wg)(),(0,s.iD)("div",{key:r.orders.length},[(0,s._)("div",ait,[(0,s._)("table",sit,[(0,s._)("thead",lit,[(0,s._)("tr",null,[oit,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",iit,(0,ot.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.j4)(w,{key:t.id,order:t},null,8,["order"])))),128))])])]),(0,s._)("div",wit,[(0,s._)("div",nit,[dit,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,ot.zw)(t),9,cit)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",uit,[(0,s._)("div",pit,(0,ot.zw)(i.prevRange+1)+" - "+(0,ot.zw)(o.currentPage==i.pageCount?r.orders.length:i.nextRange)+" of "+(0,ot.zw)(r.orders.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(it.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",git,(0,ot.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const hit=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),fit={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},bit={class:"tw-px-6 tw-py-4 tw-relative"},vit={key:0},xit={class:"tw-px-6 tw-py-4"},yit={class:"tw-px-6 tw-py-4"},_it={class:"tw-px-6 tw-py-4"},kit={class:"tw-px-6 tw-py-4"},Cit={class:"tw-pb-2"},Dit={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},Sit={key:0},zit={key:1},Uit={class:"tw-px-6 tw-py-4 tw-relative"},qit={class:"tw-flex tw-items-center tw-justify-center"},Pit={class:"tw-flex tw-gap-1"},Lit={key:0},Wit={class:"tw-px-6 tw-py-4"},Ait={class:"tw-px-6 tw-py-4"},$it={class:"tw-px-6 tw-py-4"},Eit={class:"tw-max-w-[300px] tw-min-w-[150px] tw-whitespace-normal"},Tit={class:"tw-px-6 tw-py-4"};function Fit(t,e,r,a,l,o){const i=(0,s.up)("OrderDelivery"),w=(0,s.up)("OrderActions");return(0,s.wg)(),(0,s.iD)("tr",{key:r.order.id,class:(0,ot.C_)([["reporter"==r.order.delivery&&"tw-relative",o.isReportedToday(r.order)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[hit,(0,s._)("th",fit,(0,ot.zw)(r.order.id),1),(0,s._)("td",bit,[(0,s.Uk)((0,ot.zw)(r.order?.created_at?.split("T")[0])+" ",1),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[o.isReportedToday(r.order)?((0,s.wg)(),(0,s.iD)("span",vit," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",xit,(0,ot.zw)(r.order.fullname),1),(0,s._)("td",yit,(0,ot.zw)(r.order.adresse),1),(0,s._)("td",_it,(0,ot.zw)(r.order.phone),1),(0,s._)("td",kit,[(0,s._)("div",Cit,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",Dit,(0,ot.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,ot.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Sit,"| "+(0,ot.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",zit,"| "+(0,ot.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",Uit,[(0,s._)("div",qit,[((0,s.wg)(),(0,s.j4)(i,{class:(0,ot.C_)("reporter"==r.order.delivery&&"tw-mb-1"),order:r.order,id:r.order.id,key:r.order.delivery,delivery:r.order.delivery},null,8,["class","order","id","delivery"])),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",Pit,["reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("span",Lit,[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,ot.zw)(r.order?.reported_delivery_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",Wit,(0,ot.zw)(o.getPrice(r.order)),1),(0,s._)("td",Ait,(0,ot.zw)(r.order.city),1),(0,s._)("td",$it,[(0,s._)("div",Eit,(0,ot.zw)(r.order.note),1)]),(0,s._)("td",Tit,[((0,s.wg)(),(0,s.j4)(w,{key:r.order.id,order:r.order},null,8,["order"]))])],2)}const jit={key:0,class:"focus:tw-ring-4 tw-min-w-fit focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between tw-bg-green-500/10 tw-text-green-500"},Iit={key:1},Vit={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},Oit=["onClick"];function Hit(t,e,r,a,l,o){const i=(0,s.up)("OrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},["livrer"==r.delivery?((0,s.wg)(),(0,s.iD)("div",jit,(0,ot.zw)(o.selected.name),1)):(0,s.kq)("",!0),"livrer"!=r.delivery?((0,s.wg)(),(0,s.iD)("div",Iit,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,ot.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,ot.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(nt.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(nt.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,ot.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Vit,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>!l.disabled.includes(t.value)&&o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,ot.C_)(["tw-block tw-px-4 tw-py-2",[l.disabled.includes(t.value)?"tw-text-neutral-400/80 tw-bg-neutral-400/10":[t.text,t.bg]]])},(0,ot.zw)(t.name),3)],8,Oit)))),128))])],2),(0,s.Wm)(i,{order:r.order,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])):(0,s.kq)("",!0)])),[[le.L,o.close]])}var Mit={props:["delivery","id","order"],components:{OrderReporting:Wot},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Fn,disabled:jn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;"reporter"!=t.value&&(this.selectedId=t.id,this.updateOrder(),this.close()),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ha.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const Rit=(0,m.Z)(Mit,[["render",Hit]]);var Nit=Rit;const Yit={key:0};function Zit(t,e,r,a,l,o){return l.newOrder?((0,s.wg)(),(0,s.iD)("div",Yit,[(0,s.Wm)(it.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])):(0,s.kq)("",!0)}var Kit={props:["order"],name:"orderActions",data(){return{newOrder:null}},computed:{},methods:{},mounted(){this.newOrder={...this.order}}};const Bit=(0,m.Z)(Kit,[["render",Zit]]);var Qit=Bit,Jit={props:["order","showNote"],components:{OrderDelivery:Nit,OrderActions:Qit},data(){return{showPopup:!1,isLoading:!1,todayDate:null}},methods:{handleClick(){this.showPopup=!0},isReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date==this.todayDate},getPrice(t){return go(t)}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const Git=(0,m.Z)(Jit,[["render",Fit]]);var Xit=Git,twt={props:["orders"],components:{OrderRow:Xit},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,todayDate:null,columns:["#","Date","Client","Address","Phone","Product","Delivery","Price","City","Note","Actions"]}},computed:{deliveries(){return this.$store.getters["user/deliveries"]},prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.orders.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.orders.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.orders.filter(this.isReportedToday)}},methods:{isReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date==this.todayDate}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const ewt=(0,m.Z)(twt,[["render",mit]]);var rwt=ewt,awt={components:{OrdersTable:rwt},data(){return{localUrl:w,deliveryStatus:Fn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"]},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ha.deliveryDeliveredOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const swt=(0,m.Z)(awt,[["render",rit]]);var lwt=swt,owt={name:"deliveries",path:"/deliveries",component:za,meta:{module:"delivery"},children:[{name:"delivery/list",path:"",component:Oot,meta:{module:"delivery",subModule:"delivery/list",title:"Orders List",gate:"all"}},{name:"delivery/delivered",path:"/delivered",component:lwt,meta:{module:"delivery",subModule:"delivery/delivered",title:"Delivered Orders List",gate:"all"}}]};const iwt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Inventory State List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),wwt={key:0},nwt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},dwt={class:"mb-5 tw-flex"},cwt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},uwt={key:0,class:""};function pwt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("InventoryStateTable");return(0,s.wg)(),(0,s.iD)("div",null,[iwt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",wwt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",nwt,[(0,s._)("div",dwt,[(0,s.Wm)(it.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",cwt,[(0,s.Wm)(se.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryState.length>0?((0,s.wg)(),(0,s.iD)("div",uwt,[(0,s.Wm)(n,{columns:o.columns,states:i.filteredInventoryState},null,8,["columns","states"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}class gwt{async inventoryStates(){return await E.getCookie(),A.get("api/inventorystates")}async inventoryMovements(){return await E.getCookie(),A.get("api/inventorymovements")}async getMovement(t){return await E.getCookie(),A.get("api/inventorymovements/"+t)}async inventoryMovementCreate({product_id:t,delivery_id:e,variants:r}){return await E.getCookie(),A.post("api/inventorymovements/new",{product_id:t,delivery_id:e,variations:r})}async inventoryMovementUpdate(t,{product_id:e,delivery_id:r,variants:a,quantity:s}){return await E.getCookie(),A.post("api/inventorymovements/update/"+t,{product_id:e,delivery_id:r,variants:a,quantity:s})}async deliveryUpdateMovement(t,e,r){return await E.getCookie(),A.post("api/delivery/inventorymovements/update/"+t,{is_received:e,note:r})}async delete(t){return await E.getCookie(),A["delete"]("api/inventorymovements/delete/"+t)}}var mwt=new gwt;const hwt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},fwt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},bwt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},vwt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),xwt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},ywt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),_wt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},kwt={class:"tw-px-6 tw-py-4 tw-underline tw-underline-offset-1 tw-font-medium"},Cwt={class:"tw-px-6 tw-py-4"},Dwt={class:"tw-px-6 tw-py-4"},Swt={class:"tw-px-6 tw-py-4 tw-font-bold tw-text-green-500"},zwt={class:"tw-px-6 tw-py-4"},Uwt={class:"tw-px-6 tw-py-4"},qwt=(0,s._)("br",null,null,-1),Pwt={class:"tw-px-6 tw-py-4"},Lwt={class:"mt-5 tw-flex tw-justify-between"},Wwt={class:"d-flex align-center"},Awt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700"},"Show per page: ",-1),$wt={class:"d-flex align-center"},Ewt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Twt={class:"tw-text-white"};function Fwt(t,e,r,a,l,o){const i=(0,s.up)("router-link"),w=(0,s.up)("InventoryStateActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",hwt,[(0,s._)("table",fwt,[(0,s._)("thead",bwt,[(0,s._)("tr",null,[vwt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",xwt,(0,ot.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[ywt,(0,s._)("th",_wt,(0,ot.zw)(t.id),1),(0,s._)("td",kwt,[(0,s.Wm)(i,{to:"products/"+t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Cwt,(0,ot.zw)(t.buying_price)+" DH ",1),(0,s._)("td",Dwt,(0,ot.zw)(t.selling_price)+" DH ",1),(0,s._)("td",Swt,(0,ot.zw)(o.availableQuantity(t)),1),(0,s._)("td",zwt,(0,ot.zw)(t.total_quantity),1),(0,s._)("td",Uwt,[(0,s.Uk)((0,ot.zw)(t.updated_at?.split("T")[0])+" ",1),qwt,(0,s.Uk)(" "+(0,ot.zw)(t.updated_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Pwt,[(0,s.Wm)(w,{state:t},null,8,["state"])])])))),128))])])]),(0,s._)("div",Lwt,[(0,s._)("div",Wwt,[Awt,(0,s.Wm)(eh.r,{"hide-details":!0,modelValue:l.paginationLimit,"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),items:l.allowedLimit,variant:"outlined",density:"compact",color:"primary-color"},null,8,["modelValue","items"])]),(0,s._)("div",$wt,[(0,s._)("div",Ewt,(0,ot.zw)(o.prevRange+1)+" - "+(0,ot.zw)(l.currentPage==o.pageCount?r.states.length:o.nextRange)+" of "+(0,ot.zw)(r.states.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.pageCount,(t=>((0,s.wg)(),(0,s.j4)(it.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Twt,(0,ot.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function jwt(t,e,r,a,l,o){const i=(0,s.up)("InventoryStateDetails"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.state.id,class:"tw-flex tw-items-center"},[(0,s.Wm)(it.T,{onClick:e[0]||(e[0]=t=>l.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1}),(0,s.Wm)(w,{visible:l.detailsPopup,onCancel:e[2]||(e[2]=t=>l.detailsPopup=!1)},{default:(0,s.w5)((()=>[l.detailsPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[1]||(e[1]=t=>l.detailsPopup=!1),state:r.state},null,8,["state"])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const Iwt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Vwt={class:"tw-p-5"},Owt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Hwt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Mwt={class:"tw-w-4 tw-p-4"},Rwt={class:"tw-w-4 tw-p-4"},Nwt={class:"tw-w-4 tw-p-4"},Ywt={class:"tw-w-4 tw-p-4"},Zwt={class:"tw-flex tw-items-center tw-gap-1"},Kwt={class:"tw-text-green-500"},Bwt={key:0},Qwt={class:"tw-text-red-400"},Jwt=(0,s.uE)('<div class="tw-flex tw-gap-3 mt-5"><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-green-500"></div><span>Available</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-neutral-700"></div><span>Initial</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-red-400"></div><span>Not Received</span></div></div>',1);function Gwt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Iwt,[(0,s.Wm)(it.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Vwt,[(0,s._)("table",Owt,[Hwt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Mwt,(0,ot.zw)(t.id),1),(0,s._)("td",Rwt,(0,ot.zw)(t.size),1),(0,s._)("td",Nwt,(0,ot.zw)(t.color),1),(0,s._)("td",Ywt,[(0,s._)("div",Zwt,[(0,s._)("span",Kwt,(0,ot.zw)(t.available_quantity),1),(0,s._)("span",null,"/ "+(0,ot.zw)(t.quantity),1),t.on_hold>0?((0,s.wg)(),(0,s.iD)("span",Bwt,[(0,s.Uk)(" / "),(0,s._)("span",Qwt,(0,ot.zw)(t.on_hold),1)])):(0,s.kq)("",!0)])])])))),128))])]),Jwt])])}var Xwt={props:["state"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){console.log(this.state)}};const tnt=(0,m.Z)(Xwt,[["render",Gwt]]);var ent=tnt,rnt={props:["rowIndex","state"],components:{InventoryStateDetails:ent},name:"inventoryStateActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{},mounted(){}};const ant=(0,m.Z)(rnt,[["render",jwt]]);var snt=ant,lnt={props:["columns","states"],components:{InventoryStateActions:snt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.states.length/this.paginationLimit)},items(){return this.states.slice(this.prevRange,this.nextRange)}},methods:{availableQuantity(t){let e=0;return t.variations.forEach((t=>{e+=t.available_quantity})),e}}};const ont=(0,m.Z)(lnt,[["render",Fwt]]);var int=ont,wnt={components:{InventoryStateTable:int},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"product_name",name:"Product Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"available",name:"Available"},{prop:"quantity",name:"Quantity"},{prop:"updated_at",name:"Updated At"},{prop:"actions",name:"Actions"}]}},computed:{inventoryState(){return this.$store.getters["inventory/inventoryState"]},filteredInventoryState(){return this.inventoryState.filter((t=>!!(t.ref.toLowerCase().includes(this.search.toLowerCase())||t.name.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{async getInventoryStates(){await mwt.inventoryStates().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryState",e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryStates()}};const nnt=(0,m.Z)(wnt,[["render",pwt]]);var dnt=nnt;const cnt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Add Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create New Movement")],-1),unt={key:0},pnt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},gnt={class:"tw-w-full"},mnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),hnt={class:"tw-relative"},fnt=["disabled"],bnt=["value"],vnt={class:"tw-w-full"},xnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product Name",-1),ynt={class:"tw-relative"},_nt=["disabled"],knt=["value"],Cnt={class:"tw-w-full"},Dnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),Snt={class:"tw-relative"},znt=["value"],Unt={class:"tw-w-full"},qnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Pnt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Lnt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),Wnt={class:"tw-max-w-full"},Ant={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},$nt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Ent={class:"tw-w-4 tw-p-4"},Tnt={class:"tw-w-4 tw-p-4"},Fnt={class:"tw-w-4 tw-p-4"},jnt={class:"tw-w-4 tw-p-4"},Int={class:"tw-w-4 tw-p-4"},Vnt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Ont={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Hnt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Mnt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Rnt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[cnt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",unt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",pnt,[(0,s._)("div",null,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",gnt,[mnt,(0,s._)("div",hnt,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length,"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.firstname+" "+t.lastname),9,bnt)))),128))],8,fnt),[[a.bM,o.delivery]]),(0,s.Wm)(nt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vnt,[xnt,(0,s._)("div",ynt,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length>0,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,knt)))),128))],8,_nt),[[a.bM,o.product]]),(0,s.Wm)(nt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Cnt,[Dnt,(0,s._)("div",Snt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.color+" - "+t.size+"  ("+t.available_quantity+" items)"),9,znt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(nt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Unt,[qnt,(0,s._)("div",null,[(0,s.Wm)(dt.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",Pnt,[(0,s.Wm)(it.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Lnt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(La.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Wnt,[(0,s._)("table",Ant,[$nt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Ent,(0,ot.zw)(t.id),1),(0,s._)("td",Tnt,(0,ot.zw)(t.size),1),(0,s._)("td",Fnt,(0,ot.zw)(t.color),1),(0,s._)("td",jnt,(0,ot.zw)(t.quantity),1),(0,s._)("td",Int,[(0,s._)("div",Vnt,[(0,s.Wm)(it.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Ont,[(0,s.Wm)(it.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Hnt])),_:1}),(0,s.Wm)(it.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Mnt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Nnt={data(){return{isLoading:!1,isLoaded:!1,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.available_quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.available_quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},create(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,mwt.inventoryMovementCreate({product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.selectedVariations=[],this.getData()),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await st.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return mwt.inventoryStates().then((t=>{if("SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;if(this.$store.dispatch("product/setProducts",e),e.length>0){const t=e[0];this.product=t.id,this.variations.length>0&&(this.variation=this.variations[0].id)}else this.product=null}}),(t=>{this.$handleApiError(t)}))},getData(){this.isLoaded=!1,Promise.allSettled([this.getProducts(),this.getDeliveries()]).then((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const Ynt=(0,m.Z)(Nnt,[["render",Rnt]]);var Znt=Ynt;const Knt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Edit an existing Movement")],-1),Bnt={key:0},Qnt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Jnt={class:"tw-w-full"},Gnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Xnt={class:"tw-relative"},tdt=["value"],edt={class:"tw-w-full"},rdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),adt={class:"tw-relative"},sdt=["value"],ldt={class:"tw-w-full"},odt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),idt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},wdt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),ndt={class:"tw-max-w-full"},ddt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},cdt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),udt={class:"tw-w-4 tw-p-4"},pdt={class:"tw-w-4 tw-p-4"},gdt={class:"tw-w-4 tw-p-4"},mdt={class:"tw-w-4 tw-p-4"},hdt={class:"tw-w-4 tw-p-4"},fdt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},bdt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},vdt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),xdt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function ydt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Knt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Bnt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Qnt,[(0,s._)("div",null,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Jnt,[Gnt,(0,s._)("div",Xnt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.firstname+" "+t.lastname),9,tdt)))),128))],512),[[a.bM,o.delivery]]),(0,s.Wm)(nt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",edt,[rdt,(0,s._)("div",adt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.color+" / "+t.size+" / "+t.quantity),9,sdt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(nt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",ldt,[odt,(0,s._)("div",null,[(0,s.Wm)(dt.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[2]||(e[2]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",idt,[(0,s.Wm)(it.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[wdt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(La.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",ndt,[(0,s._)("table",ddt,[cdt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",udt,(0,ot.zw)(t.id),1),(0,s._)("td",pdt,(0,ot.zw)(t.size),1),(0,s._)("td",gdt,(0,ot.zw)(t.color),1),(0,s._)("td",mdt,(0,ot.zw)(t.quantity),1),(0,s._)("td",hdt,[(0,s._)("div",fdt,[(0,s.Wm)(it.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",bdt,[(0,s.Wm)(it.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[vdt])),_:1}),(0,s.Wm)(it.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[xdt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var _dt={data(){return{isLoading:!1,isLoaded:!1,movement:null,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},id(){return this.$route.params.id},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},update(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,mwt.inventoryMovementUpdate(this.id,{product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await st.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return ga.all().then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.products;this.$store.dispatch("product/setProducts",e),e.length>0?this.product=e[0].id:this.product=null}}),(t=>{this.$handleApiError(t)}))},getMovement(){return mwt.getMovement(this.id).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.movement;this.product=e.product.id,this.delivery=e.delivery.id,this.selectedVariations=e.inventory_movement_variations;let r=0;this.selectedVariations.forEach((t=>{r+=t.quantity})),this.quantity_total=r}}),(t=>{this.$handleApiError(t)}))}},mounted(){Promise.allSettled([this.getProducts(),this.getDeliveries(),this.getMovement()]).then((()=>{this.isLoaded=!0}))}};const kdt=(0,m.Z)(_dt,[["render",ydt]]);var Cdt=kdt;const Ddt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Inventory State List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),Sdt={key:0},zdt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Udt={class:"mb-5 tw-flex"},qdt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Pdt={key:0,class:""};function Ldt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("InventoryMovementsTable");return(0,s.wg)(),(0,s.iD)("div",null,[Ddt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Sdt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",zdt,[(0,s._)("div",Udt,[(0,s.Wm)(it.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",qdt,[(0,s.Wm)(se.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryMovements.length>0?((0,s.wg)(),(0,s.iD)("div",Pdt,[(0,s.Wm)(n,{columns:o.columns,movements:i.inventoryMovements},null,8,["columns","movements"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}const Wdt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Adt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},$dt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Edt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Tdt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Fdt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),jdt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Idt={class:"tw-px-6 tw-py-4"},Vdt=(0,s._)("br",null,null,-1),Odt={class:"tw-px-6 tw-py-4"},Hdt={class:"tw-px-6 tw-py-4"},Mdt={class:"tw-px-6 tw-py-4"},Rdt={class:"tw-px-6 tw-py-4"},Ndt={class:"tw-px-6 tw-py-4"},Ydt={class:"tw-w-[200px] !tw-whitespace-normal"},Zdt={class:"tw-px-6 tw-py-4"},Kdt={class:"tw-px-6 tw-py-4"},Bdt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Qdt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Jdt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Gdt=["value"],Xdt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},tct={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},ect={class:"tw-text-white"};function rct(t,e,r,l,o,i){const w=(0,s.up)("router-link"),n=(0,s.up)("InventoryMovementsActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Wdt,[(0,s._)("table",Adt,[(0,s._)("thead",$dt,[(0,s._)("tr",null,[Edt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Tdt,(0,ot.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movements,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Fdt,(0,s._)("th",jdt,(0,ot.zw)(t.id),1),(0,s._)("td",Idt,[(0,s.Uk)((0,ot.zw)(t.created_at?.split("T")[0])+" ",1),Vdt,(0,s.Uk)(" "+(0,ot.zw)(t.created_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Odt,(0,ot.zw)(t.delivery.firstname+" "+t.delivery.lastname),1),(0,s._)("td",Hdt,[(0,s.Wm)(w,{to:"products/"+t.product.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.product.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Mdt,(0,ot.zw)(i.quantityTotal(t.inventory_movement_variations)),1),(0,s._)("td",Rdt,[(0,s._)("div",{class:(0,ot.C_)([[t.is_received?"tw-text-green-500 tw-bg-green-500/10":"tw-text-red-500 tw-bg-red-500/10"],"tw-flex tw-justify-center tw-py-1 tw-rounded-lg tw-items-center"])},[(0,s._)("span",null,(0,ot.zw)(t.is_received?"Yes":"No"),1)],2)]),(0,s._)("td",Ndt,[(0,s._)("div",Ydt,(0,ot.zw)(t.note?t.note:"-"),1)]),(0,s._)("td",Zdt,(0,ot.zw)(t.delivery.city?.name),1),(0,s._)("td",Kdt,[(0,s.Wm)(n,{movement:t},null,8,["movement"])])])))),128))])])]),(0,s._)("div",Bdt,[(0,s._)("div",Qdt,[Jdt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,ot.zw)(t),9,Gdt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Xdt,[(0,s._)("div",tct,(0,ot.zw)(i.prevRange+1)+" - "+(0,ot.zw)(o.currentPage==i.pageCount?r.movements.length:i.nextRange)+" of "+(0,ot.zw)(r.movements.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(it.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",ect,(0,ot.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const act={class:"md:tw-w-[50%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},sct=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-blue-500"},"Confirmation",-1),lct={class:"mt-3"},oct=(0,s._)("h2",{class:"mb-2"},"Received",-1),ict={class:"tw-mt-3"},wct=(0,s._)("h2",{class:"tw-text-md mb-1"},"Add note",-1),nct={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},dct=(0,s._)("span",{class:"text-white"}," Cancel ",-1),cct=(0,s._)("span",{class:"text-white"}," Update ",-1);function uct(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("MovementDetails"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",{key:r.movement.id,class:"tw-flex tw-items-center"},[["delivery","admin"].includes(i.user.role)?((0,s.wg)(),(0,s.j4)(it.T,{key:0,onClick:e[0]||(e[0]=t=>o.confirmPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-checkbox-marked-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.kq)("",!0),(t.$can("view_inventory_movement"),(0,s.wg)(),(0,s.j4)(it.T,{key:2,onClick:e[1]||(e[1]=t=>o.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})),t.$can("delete_inventory_movement")?((0,s.wg)(),(0,s.j4)(it.T,{key:3,onClick:e[2]||(e[2]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("confirmation_inventory_movement")?((0,s.wg)(),(0,s.j4)(w,{key:4,visible:o.confirmPopup,onCancel:e[6]||(e[6]=t=>o.confirmPopup=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",act,[sct,(0,s._)("div",lct,[oct,(0,s.Wm)(rh.G,{density:"compact","hide-details":!0,modelValue:o.isConfirmed,"onUpdate:modelValue":e[3]||(e[3]=t=>o.isConfirmed=t),color:"blue"},null,8,["modelValue"])]),(0,s._)("div",ict,[wct,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n\r\n              ",512),[[a.nr,o.note]])]),(0,s._)("div",nct,[(0,s.Wm)(it.T,{onClick:e[5]||(e[5]=t=>o.confirmPopup=!1),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[dct])),_:1}),(0,s.Wm)(it.T,{loading:o.isLoading,onClick:i.updateMovement,color:"blue",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[cct])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])):(0,s.kq)("",!0),(0,s.Wm)(w,{visible:o.detailsPopup,onCancel:e[8]||(e[8]=t=>o.detailsPopup=!1)},{default:(0,s.w5)((()=>[o.detailsPopup?((0,s.wg)(),(0,s.j4)(n,{key:0,onCancel:e[7]||(e[7]=t=>o.detailsPopup=!1),movement:r.movement},null,8,["movement"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this movement?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const pct={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},gct={class:"tw-p-5"},mct={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},hct=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),fct={class:"tw-w-4 tw-p-4"},bct={class:"tw-w-4 tw-p-4"},vct={class:"tw-w-4 tw-p-4"},xct={class:"tw-w-4 tw-p-4"};function yct(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",pct,[(0,s.Wm)(it.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",gct,[(0,s._)("table",mct,[hct,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movement.inventory_movement_variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",fct,(0,ot.zw)(t.id),1),(0,s._)("td",bct,(0,ot.zw)(t.product_variation.size),1),(0,s._)("td",vct,(0,ot.zw)(t.product_variation.color),1),(0,s._)("td",xct,(0,ot.zw)(t.quantity),1)])))),128))])])])])}var _ct={props:["movement"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const kct=(0,m.Z)(_ct,[["render",yct]]);var Cct=kct,Dct={props:["rowIndex","movement"],components:{MovementDetails:Cct},name:"inventoryActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,mwt["delete"](this.movement.id).then((t=>{"SUCCESS"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Inventory Movement Deleted Successfully"})),this.getMovements()})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1},updateMovement(){this.isLoading=!0,mwt.deliveryUpdateMovement(this.movement.id,this.isConfirmed?1:0,this.note).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:"Inventory Movement Updated Successfully"}),this.getMovements())}),this.$handleApiError).finally((()=>{this.isLoading=!1,this.confirmPopup=!1}))},getMovements(){mwt.inventoryMovements().then((t=>{if("SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e)}})).catch(this.$handleApiError)}},mounted(){this.note=this.movement.note,this.isConfirmed=1==this.movement.is_received}};const Sct=(0,m.Z)(Dct,[["render",uct]]);var zct=Sct,Uct={props:["columns","movements"],components:{InventoryMovementsActions:zct},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.movements.length/this.paginationLimit)},items(){return this.movements.slice(this.prevRange,this.nextRange)}},methods:{quantityTotal(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const qct=(0,m.Z)(Uct,[["render",rct]]);var Pct=qct,Lct={components:{InventoryMovementsTable:Pct},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"created_at",name:"Date"},{prop:"delivery",name:"Delivery"},{prop:"product",name:"Product"},{prop:"quantity",name:"Quantity"},{prop:"received",name:"Received"},{prop:"note",name:"Note"},{prop:"city",name:"City"},{prop:"actions",name:"Actions"}]}},computed:{inventoryMovements(){return this.$store.getters["inventory/inventoryMovements"]},filteredInventoryState(){return this.inventoryMovements.filter((()=>!0))}},methods:{async getInventoryMovements(){await mwt.inventoryMovements().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e),console.log(e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryMovements()}};const Wct=(0,m.Z)(Lct,[["render",Ldt]]);var Act=Wct,$ct={name:"inventory/list",path:"/inventories",component:za,meta:{module:"inventory"},children:[{name:"inventory/state",path:"",component:dnt,meta:{module:"inventory",subModule:"inventory/list",title:"Inventory State",gate:"show_all_inventory_states"}},{name:"inventory/movememnts",path:"movements",component:Act,meta:{module:"inventory",subModule:"inventory/movements",title:"Inventory Movements",gate:"show_all_inventory_movements"}},{name:"inventory/add",path:"add",component:Znt,meta:{module:"inventory",subModule:"inventory/add",title:"Add Inventory Movement",gate:"create_inventory_movement"}},{name:"inventory/update",path:"update/:id",component:Cdt,meta:{module:"inventory",subModule:"inventory/update",title:"Update Inventory Movement",gate:"update_inventory_movement"}}]},Ect=r(3012);const Tct={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},Fct={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},jct=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Scan the QR code ",-1),Ict={class:"tw-p-5"},Vct={class:"tw-rounded tw-overflow-hidden tw-ring tw-ring-orange-400"},Oct={key:1,class:"error"},Hct={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"};var Mct={__name:"ScanPopUp",props:["visible"],emits:["update:visible","detect"],setup(t,{emit:e}){const r=new Audio(w+"assets/bip.mp3"),a=e,l=t,o=t=>{a("update:visible",t)};function i(t,e){for(const r of t){const[t,...a]=r.cornerPoints;e.strokeStyle="red",e.beginPath(),e.moveTo(t.x,t.y);for(const{x:r,y:s}of a)e.lineTo(r,s);e.lineTo(t.x,t.y),e.closePath(),e.stroke()}}function n(t,e){for(const r of t){const{boundingBox:{x:t,y:a,width:s,height:l}}=r;e.lineWidth=2,e.strokeStyle="#007bff",e.strokeRect(t,a,s,l)}}function d(t,e){for(const r of t){const{boundingBox:t,rawValue:a}=r,s=t.x+t.width/2,l=t.y+t.height/2,o=Math.max(12,50*t.width/e.canvas.width);e.font=`bold ${o}px sans-serif`,e.textAlign="center",e.lineWidth=3,e.strokeStyle="#35495e",e.strokeText(r.rawValue,s,l),e.fillStyle="#5cb984",e.fillText(a,s,l)}}const c=[{text:"nothing (default)",value:void 0},{text:"outline",value:i},{text:"centered text",value:d},{text:"bounding box",value:n}],u=(0,ye.iH)(c[1]),p=(0,ye.iH)(null),g=(0,ye.iH)([]);(0,s.bv)((async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){if(g.value=(await navigator.mediaDevices.enumerateDevices()).filter((({kind:t})=>"videoinput"===t)),g.value.length>0){const t=g.value.find((({label:t})=>t.toLowerCase().includes("back")||t.toLowerCase().includes("rear")));p.value=t||g.value[0]}}else console.error("MediaDevices API not supported")}));const m=(0,ye.iH)("");function h(t){const e=t.map((t=>t.rawValue)).join(", ");console.log("Detected Code: "),console.log(e),a("detect",e),o(!1),r.play(),m.value=e}const f=(0,ye.iH)({qr_code:!0}),b=(0,s.Fl)((()=>Object.keys(f.value||{}).filter((t=>f.value&&f.value[t])))),v=(0,ye.iH)("");function x(t){"NotAllowedError"===t.name?v.value+="you need to grant camera access permission":"NotFoundError"===t.name?v.value+="no camera on this device":"NotSupportedError"===t.name?v.value+="secure context required (HTTPS, localhost)":"NotReadableError"===t.name?v.value+="is the camera already in use?":"OverconstrainedError"===t.name?v.value+="installed cameras are not suitable":"StreamApiNotSupportedError"===t.name?v.value+="Stream API is not supported in this browser":"InsecureContextError"===t.name?v.value+="Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":v.value+=t.message}return(t,e)=>{const r=(0,s.up)("icon"),a=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o(!0)),class:"tw-fixed tw-bottom-5 tw-shadow tw-shadow-orange-300 tw-right-5 tw-flex tw-items-center tw-justify-center tw-w-[60px] tw-h-[60px] tw-gap-2 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-border-orange-300 tw-rounded-md tw-mb-2 tw-z-20"},[(0,s.Wm)(r,{icon:"iconamoon:scanner-light",class:"lg:tw-text-3xl tw-text-2xl"})]),(0,s.Wm)(a,{visible:l.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Tct,[(0,s._)("div",Fct,[jct,(0,s._)("div",Ict,[(0,s._)("div",Vct,[null!==p.value?((0,s.wg)(),(0,s.j4)((0,ye.SU)(Ect.vG),{key:0,constraints:{deviceId:p.value.deviceId},track:u.value.value,formats:b.value,"facing-mode":"environment",onError:x,onDetect:h},null,8,["constraints","track","formats"])):((0,s.wg)(),(0,s.iD)("p",Oct," No cameras on this device "))])]),(0,s._)("div",Hct,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o(!1)),disabled:!1,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])])),_:1},8,["visible"])])}}};const Rct=Mct;var Nct=Rct;const Yct=t=>((0,s.dD)("data-v-3fcb733e"),t=t(),(0,s.Cn)(),t),Zct={class:"!tw-w-[25px] !tw-h-[25px] tw-relative"},Kct=Yct((()=>(0,s._)("div",{class:"check-container tw-scale-[0.2] tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2"},[(0,s._)("div",{class:"check-background"},[(0,s._)("svg",{viewBox:"0 0 65 51",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M7 25L27.3077 44L58.5 7",stroke:"white","stroke-width":"13","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1))),Bct=[Kct];function Qct(t,e){return(0,s.wg)(),(0,s.iD)("div",Zct,Bct)}const Jct={},Gct=(0,m.Z)(Jct,[["render",Qct],["__scopeId","data-v-3fcb733e"]]);var Xct=Gct;const tut={class:"tw-translate-y-0 tw-opacity-100 tw-w-full tw-p-2 tw-min-h-[60px] tw-bg-white tw-duration-300 tw-rounded tw-shadow-md"},eut={class:"tw-flex tw-justify-between tw-items-center"},rut={class:"tw-space-y-4"},aut={class:"tw-flex tw-items-center tw-gap-4"},sut={class:"tw-flex tw-items-center tw-gap-2"},lut={style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},out={key:0,class:"tw-flex tw-items-center tw-gap-0.5 tw-bg-blue-100 tw-p-1 tw-rounded"},iut=(0,s._)("span",{style:{"line-height":"10px"},class:"tw-text-xs tw-capitalize tw-font-medium tw-text-blue-600"},"Double Scan",-1),wut=[iut],nut={class:"tw-flex tw-items-center tw-gap-5"},dut={key:0,class:"tw-flex tw-items-center"},cut=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse"},null,-1),uut=(0,s._)("div",{class:"tw-w-[70px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),put=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-5"},null,-1),gut=(0,s._)("div",{class:"tw-w-[100px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),mut=[cut,uut,put,gut],hut={key:1,class:"tw-flex tw-items-center tw-gap-2"},fut={key:0,style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},but={key:2,class:"tw-flex tw-items-center tw-gap-2"},vut={key:0,style:{"line-height":"16px"},class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-max-w-[120px] tw-truncate"},xut={key:3,class:"tw-w-fit tw-px-2 tw-bg-rose-100 tw-text-rose-500 tw-text-sm tw-uppercase tw-h-[25px] tw-rounded-md tw-flex tw-items-center tw-justify-center"},yut={class:"tw-h-full tw-space-y-2 tw-flex-col tw-flex tw-items-end tw-justify-between"},_ut={key:0,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},kut={class:"tw-text-blue-500 tw-text-sm"},Cut={key:1,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},Dut={class:"tw-text-amber-500 tw-text-sm"};var Sut={__name:"OrderRow",props:["order"],emits:["update"],setup(t,{emit:e}){const r=t,a=e,l=()=>{const t=r.order.scanned.replace(/[^0-9]/g,"");ha.warehouseControl(t,{target:r.order.target,scanned:r.order.scanned}).then((t=>{if("SUCCESS"==t.data.code){const e={...r.order,...t.data.order,loading:!1,check:!0};a("update",r.order.scan_id,e)}else a("update",r.order.scan_id,{...r.order,loading:!1,check:!1})}),(t=>{a("update",r.order.scan_id,{...r.order,loading:!1,check:!1}),console.log(t)}))};return l(),(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",tut,[(0,s._)("div",eut,[(0,s._)("div",rut,[(0,s._)("div",aut,[(0,s._)("div",sut,[(0,s.Wm)(a,{icon:"solar:qr-code-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),(0,s._)("span",lut,(0,ot.zw)(r.order.scanned),1)]),r.order.already_scanned?((0,s.wg)(),(0,s.iD)("div",out,wut)):(0,s.kq)("",!0)]),(0,s._)("div",nut,[r.order.loading?((0,s.wg)(),(0,s.iD)("div",dut,mut)):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",hut,[(0,s.Wm)(a,{icon:"solar:hashtag-square-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.id?((0,s.wg)(),(0,s.iD)("span",fut,(0,ot.zw)(r.order.id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",but,[(0,s.Wm)(a,{icon:"solar:user-id-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.fullname?((0,s.wg)(),(0,s.iD)("span",vut,(0,ot.zw)(r.order.fullname),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xut,"Not Found"))])]),(0,s._)("div",yut,[(0,s._)("div",null,[!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.j4)((0,ye.SU)(Xct),{key:0})):(0,s.kq)("",!0),r.order.loading?((0,s.wg)(),(0,s.j4)(a,{key:1,class:"tw-text-lg tw-text-orange-400 tw-animate-spin",icon:"mingcute:loading-line"})):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(a,{key:2,class:"tw-text-2xl tw-text-rose-500",icon:"material-symbols-light:error-outline"}))]),(0,s._)("div",null,["in"==r.order.target?((0,s.wg)(),(0,s.iD)("div",_ut,[(0,s.Wm)(a,{icon:"lets-icons:sign-in-squre-duotone",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",kut,(0,ot.zw)(r.order.target),1)])):(0,s.kq)("",!0),"out"==r.order.target?((0,s.wg)(),(0,s.iD)("div",Cut,[(0,s.Wm)(a,{icon:"lets-icons:sign-out-squre-duotone",class:"tw-text-xl tw-text-amber-500"}),(0,s._)("span",Dut,(0,ot.zw)(r.order.target),1)])):(0,s.kq)("",!0)])])])])}}};const zut=Sut;var Uut=zut;const qut={class:"lg:tw-p-6"},Put={class:"tw-p-5 lg:tw-border tw-min-h-[calc(100vh-135px)] tw-flex tw-flex-col tw-bg-white tw-w-full lg:tw-rounded-md tw-mb-5"},Lut={class:"tw-grid tw-grid-cols-12 tw-h-full tw-flex-1 tw-gap-5"},Wut={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},Aut=(0,s._)("h1",{class:"tw-text-lg"},"Target",-1),$ut={class:"tw-grid tw-grid-cols-2 tw-gap-5 tw-mt-2"},Eut={class:"tw-grid tw-px-2 tw-grid-cols-12 tw-justify-center tw-mt-10"},Tut=(0,s._)("p",{class:"tw-text-xl tw-font-semibold tw-py-4"},"Scan the order reference ID.",-1),Fut={class:"tw-grid tw-grid-cols-8 tw-mt-16 col-span-12 tw-gap-2 tw-w-full tw-max-w-[23rem]"},jut={id:"success-message",class:"tw-inline-flex tw-items-center"},Iut=(0,s._)("div",{class:"tw-grid tw-grid-cols-8 tw-py-5 tw-gap-2 tw-w-full tw-max-w-[23rem]"},[(0,s._)("button",{class:"tw-col-span-8 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",{id:"success-message",class:"tw-inline-flex tw-items-center"}," Confirm ")])],-1),Vut={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},Out={class:"tw-min-h-[600px] tw-flex-1 tw-w-full tw-bg-gray-100 tw-rounded-md tw-p-2 tw-space-y-2 tw-shadow-inner"};var Hut={__name:"ScannerView",setup(t){const e=(0,ye.iH)(!1),r=(0,ye.iH)([]),l=(0,ye.iH)(""),o=(0,ye.iH)("in"),i=(0,s.Fl)((()=>{if(""==l.value)return!1;const t=l.value.replace(/[^a-zA-Z]/g,"").toLocaleLowerCase(),e=l.value.replace(/[^0-9]/g,"");return t!=u||!e})),w=t=>{l.value=t,g()},n=()=>{var t=document.getElementById("code");t.select(),navigator.clipboard.writeText(t.value)},d=(t,e)=>{r.value=r.value.map((r=>r.scan_id==t?e:r))},c=t=>r.value.some((e=>e.scanned==t)),p=()=>{const t=Date.now().toString(36),e=Math.random().toString(36).substr(2,5);return t+e},g=()=>{const t={scan_id:p(),scanned:l.value,loading:!0,check:!1,target:o.value};if(""==l.value)return Lc("Reference ID is not valid","warning"),!1;c(l.value)&&(t.already_scanned=!0),i.value||""==l.value||(r.value.unshift(t),l.value="")};return(t,c)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",qut,[(0,s._)("div",null,[(0,s.Wm)((0,ye.SU)(Nct),{visible:e.value,"onUpdate:visible":c[0]||(c[0]=t=>e.value=t),onDetect:w},null,8,["visible"])]),(0,s._)("div",Put,[(0,s._)("div",Lut,[(0,s._)("div",Wut,[(0,s._)("div",null,[Aut,(0,s._)("div",$ut,[(0,s._)("button",{onClick:c[1]||(c[1]=t=>o.value="in"),class:(0,ot.C_)([["in"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-plus",class:(0,ot.C_)(["tw-text-2xl",["in"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,ot.C_)(["in"==o.value?"tw-text-white":"tw-text-neutral-500"])},"IN",2)],2),(0,s._)("button",{onClick:c[2]||(c[2]=t=>o.value="out"),class:(0,ot.C_)([["out"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-minus",class:(0,ot.C_)(["tw-text-2xl",["out"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,ot.C_)(["out"==o.value?"tw-text-white":"tw-text-neutral-500"])},"OUT",2)],2)])]),(0,s._)("div",Eut,[(0,s._)("form",{onSubmit:(0,a.iM)(g,["prevent"]),class:"lg:tw-col-span-12 tw-col-span-12 tw-flex tw-flex-col tw-items-center tw-justify-center"},[Tut,(0,s._)("div",{onClick:c[3]||(c[3]=t=>e.value=!0),class:(0,ot.C_)([[i.value&&"tw-border-rose-400 tw-ring tw-ring-rose-400"],"tw-relative hover:tw-scale-110 tw-duration-300 tw-cursor-pointer tw-h-[150px] tw-w-[150px] tw-border-2 tw-rounded-3xl tw-mt-10 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(u,{class:"tw-w-[150px] tw-h-[150px] tw-border-2 tw-rounded-3xl",icon:"fluent:scan-dash-28-regular"}),(0,s._)("div",{class:(0,ot.C_)([[i.value&&"!tw-opacity-100"],"tw-opacity-0 tw-absolute tw-top-1/2 tw-left-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-w-full tw-h-[30px] tw-bg-rose-500 tw-flex tw-items-center tw-justify-center tw-font-medium tw-text-sm tw-text-white"])}," ID NOT VALID ",2)],2),(0,s.kq)("",!0),(0,s._)("div",Fut,[(0,s.wy)((0,s._)("input",{placeholder:"Reference ID",id:"code",type:"text","onUpdate:modelValue":c[4]||(c[4]=t=>l.value=t),class:"tw-bg-gray-50 border tw-col-span-6 tw-rounded-lg tw-outline-none focus:tw-ring-gray-500 focus:tw-border-gray-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-gray-400 dark:tw-focus:tw-ring-blue-500 dark:focus:tw-border-blue-500"},null,512),[[a.nr,l.value]]),(0,s._)("button",{type:"button",onClick:n,class:"tw-col-span-2 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",jut,[(0,s.Wm)(u,{icon:"mdi:content-copy"})])])]),Iut],32)])]),(0,s._)("div",Vut,[(0,s._)("div",Out,[(0,s.Wm)(a.W3,{"enter-from-class":"tw-translate-y-[10px] tw-opacity-0"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ye.SU)(Uut),{onUpdate:d,order:t,key:t.scan_id},null,8,["order"])))),128))])),_:1})])])])])])}}};const Mut=Hut;var Rut=Mut,Nut={name:"scanner",path:"/scanner",component:za,meta:{module:"qrcode"},children:[{name:"scanner/code",path:"",component:Rut,meta:{module:"scaanner",subModule:"scaanner/code",title:"Scanner",role:"admin",gate:"stock_management"}}]};const Yut={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Zut=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Shop List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your shops")],-1),Kut={key:0},But=(0,s._)("span",{class:"text-white"}," Add Shop ",-1),Qut={key:0},Jut={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Gut={class:"mb-5 tw-flex"},Xut={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},tpt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},ept={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},rpt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),apt={class:"tw-relative"},spt={class:""};function lpt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ShopsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.shops.length},[(0,s._)("div",Yut,[Zut,t.$can("create_shop")?((0,s.wg)(),(0,s.iD)("div",Kut,[(0,s.Wm)(it.T,{color:"primary-color",link:"",to:{name:"shop/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),But])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qut,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Jut,[(0,s._)("div",Gut,[(0,s.Wm)(it.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Xut,[(0,s.Wm)(se.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,ot.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",tpt,[(0,s._)("div",ept,[rpt,(0,s._)("div",apt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",spt,[(0,s.Wm)(n,{columns:o.columns,shops:i.filteredShops},null,8,["columns","shops"])])])):(0,s.kq)("",!0)])}class opt{async create(t){return await E.getCookie(),A.post("api/shops/new",{name:t.name})}async update(t,e){return await E.getCookie(),A.post("api/shops/update/"+t,{name:e.name})}async all(){return await E.getCookie(),A.get("api/shops")}async getShop(t){return await E.getCookie(),A.get("api/shops/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/shops/delete/"+t)}}var ipt=new opt;const wpt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},npt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},dpt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},cpt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),upt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},ppt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),gpt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},mpt={class:"tw-px-6 tw-py-4"},hpt={class:"tw-px-6 tw-py-4"},fpt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},bpt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},vpt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},xpt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),ypt=["value"],_pt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},kpt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Cpt={class:"tw-text-white"};function Dpt(t,e,r,l,o,i){const w=(0,s.up)("ShopActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",wpt,[(0,s._)("table",npt,[(0,s._)("thead",dpt,[(0,s._)("tr",null,[cpt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",upt,(0,ot.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shops,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[ppt,(0,s._)("th",gpt,(0,ot.zw)(t.id),1),(0,s._)("td",mpt,(0,ot.zw)(t.name),1),(0,s._)("td",hpt,(0,ot.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",fpt,[(0,s.Wm)(w,{shop:t},null,8,["shop"])])])))),128))])])]),(0,s._)("div",bpt,[(0,s._)("div",vpt,[xpt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,ot.zw)(t),9,ypt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",_pt,[(0,s._)("div",kpt,(0,ot.zw)(i.prevRange+1)+" - "+(0,ot.zw)(o.currentPage==i.pageCount?r.shops.length:i.nextRange)+" of "+(0,ot.zw)(r.shops.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(it.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Cpt,(0,ot.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Spt={class:"tw-flex tw-items-center tw-gap-1"};function zpt(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Spt,[t.$can("update_shop")?((0,s.wg)(),(0,s.j4)(it.T,{key:0,to:"/shops/update/"+r.shop.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_shop")?((0,s.wg)(),(0,s.j4)(it.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this shop?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var Upt={props:["rowIndex","shop"],name:"shopActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,ipt["delete"](this.shop.id).then((t=>{"SHOP_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Shop Deleted Successfully"})),ipt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const qpt=(0,m.Z)(Upt,[["render",zpt]]);var Ppt=qpt,Lpt={props:["columns","shops"],components:{ShopActions:Ppt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.shops.length/this.paginationLimit)},items(){return this.shops.slice(this.prevRange,this.nextRange)}},methods:{}};const Wpt=(0,m.Z)(Lpt,[["render",Dpt]]);var Apt=Wpt,$pt={components:{ShopsTable:Apt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{shops(){return this.$store.getters["shop/shops"]},filteredShops(){const t=this.date;return this.shops.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){ipt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Ept=(0,m.Z)($pt,[["render",lpt]]);var Tpt=Ept;const Fpt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Shop "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new shop")],-1),jpt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ipt={class:"tw-w-full"},Vpt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Shop Name ",-1),Opt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Hpt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Mpt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Rpt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Npt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[Fpt,(0,s._)("div",jpt,[(0,s._)("div",null,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ipt,[Vpt,(0,s.Wm)(dt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Opt,(0,ot.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Hpt,[(0,s.Wm)(it.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Mpt])),_:1}),(0,s.Wm)(it.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Rpt])),_:1},8,["onClick","loading"])])])])}var Ypt={components:{},data(){return{isLoading:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;ipt.create(t).then((t=>{"SHOP_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.shop={name:""}),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Wt(this.shop.name,"Shop name"),this.formStatus.name.valid}}};const Zpt=(0,m.Z)(Ypt,[["render",Npt]]);var Kpt=Zpt;const Bpt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Shop"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update shop informations")],-1),Qpt={key:0},Jpt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Gpt={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},Xpt={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},tgt={class:"tw-w-full"},egt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Shop Name",-1),rgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},agt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},sgt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),lgt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function ogt(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Bpt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qpt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Jpt,[(0,s._)("div",Gpt,[(0,s.Uk)(" Shop ID: "),(0,s._)("span",Xpt,(0,ot.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",tgt,[egt,(0,s.Wm)(dt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rgt,(0,ot.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",agt,[(0,s.Wm)(it.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[sgt])),_:1}),(0,s.Wm)(it.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[lgt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var igt={components:{},data(){return{isLoading:!1,isLoaded:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{id(){return this.$route.params.id}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;ipt.update(this.$route.params.id,t).then((t=>{"SHOP_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"SHOP_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Wt(this.shop.name,"Shop name"),this.formStatus.name.valid}},mounted(){ipt.getShop(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{name:e}=t.data.data.shops;this.shop.name=e,this.isLoaded=!0}}),this.$handleApiError)}};const wgt=(0,m.Z)(igt,[["render",ogt]]);var ngt=wgt,dgt={name:"shops",path:"/shops",component:za,meta:{module:"shop"},children:[{name:"shop/list",path:"",component:Tpt,meta:{module:"shop",subModule:"shop/list",title:"Shop List",gate:"show_all_sales"}},{name:"shop/add",path:"add",component:Kpt,meta:{module:"shop",subModule:"shop/add",title:"Shop Add",gate:"create_shop"}},{name:"shop/update",path:"update/:id",component:ngt,meta:{module:"shop",subModule:"shop/update",title:"Update Shop",gate:"update_shop"}}]};const cgt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},ugt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Warehouse List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your warehouses")],-1),pgt={key:0},ggt=(0,s._)("span",{class:"text-white"}," Add Warehouse ",-1),mgt={key:0},hgt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},fgt={class:"mb-5 tw-flex"},bgt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},vgt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},xgt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ygt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),_gt={class:"tw-relative"},kgt={class:""};function Cgt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("WarehousesTable"),d=(0,s.up)("AddWarehouse");return(0,s.wg)(),(0,s.iD)("div",{key:i.warehouses.length},[(0,s._)("div",cgt,[ugt,t.$can("create_warehouse")?((0,s.wg)(),(0,s.iD)("div",pgt,[(0,s.Wm)(it.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),ggt])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",mgt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",hgt,[(0,s._)("div",fgt,[(0,s.Wm)(it.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",bgt,[(0,s.Wm)(se.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,ot.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",vgt,[(0,s._)("div",xgt,[ygt,(0,s._)("div",_gt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",kgt,[(0,s.Wm)(n,{columns:o.columns,warehouses:i.filteredWarehouses},null,8,["columns","warehouses"])]),(0,s.Wm)(d,{onCancel:e[4]||(e[4]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const Dgt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Sgt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},zgt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Ugt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),qgt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Pgt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Lgt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Wgt={class:"tw-px-6 tw-py-4"},Agt={class:"tw-px-6 tw-py-4"},$gt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Egt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Tgt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Fgt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),jgt=["value"],Igt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Vgt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Ogt={class:"tw-text-white"};function Hgt(t,e,r,l,o,i){const w=(0,s.up)("WarehouseActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Dgt,[(0,s._)("table",Sgt,[(0,s._)("thead",zgt,[(0,s._)("tr",null,[Ugt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",qgt,(0,ot.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.warehouses,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Pgt,(0,s._)("th",Lgt,(0,ot.zw)(t.id),1),(0,s._)("td",Wgt,(0,ot.zw)(t.name),1),(0,s._)("td",Agt,(0,ot.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",$gt,[(0,s.Wm)(w,{warehouse:t},null,8,["warehouse"])])])))),128))])])]),(0,s._)("div",Egt,[(0,s._)("div",Tgt,[Fgt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,ot.zw)(t),9,jgt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Igt,[(0,s._)("div",Vgt,(0,ot.zw)(i.prevRange+1)+" - "+(0,ot.zw)(o.currentPage==i.pageCount?r.warehouses.length:i.nextRange)+" of "+(0,ot.zw)(r.warehouses.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(it.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Ogt,(0,ot.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Mgt={class:"tw-flex tw-items-center tw-gap-1"};function Rgt(t,e,r,a,l,o){const i=(0,s.up)("UpdateWarehouse"),w=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Mgt,[t.$can("update_warehouse")?((0,s.wg)(),(0,s.j4)(it.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_warehouse")?((0,s.wg)(),(0,s.j4)(it.T,{key:1,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[2]||(e[2]=t=>l.showUpdatePopup=!1),key:r.warehouse.id,warehouse:r.warehouse},null,8,["visible","warehouse"])),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this warehouse?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const Ngt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Ygt=(0,s._)("h1",{class:"tw-text-lg"},"Update Warehouse",-1),Zgt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Kgt={class:"tw-w-full tw-col-span-12"},Bgt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Qgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jgt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Ggt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Xgt=(0,s._)("span",{class:"text-white"}," Update ",-1);function tmt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Ngt,[Ygt,(0,s._)("div",Zgt,[(0,s._)("div",Kgt,[Bgt,(0,s.Wm)(dt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.Warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Qgt,(0,ot.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",Jgt,[(0,s.Wm)(it.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Ggt])),_:1}),(0,s.Wm)(it.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Xgt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var emt={components:{},props:["warehouse","visible"],data(){return{isLoading:!1,isLoaded:!1,Warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Vb.update(this.warehouse.id,this.Warehouse).then((t=>{"WAREHOUSE_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("warehouse/update",this.Warehouse),this.$emit("cancel")),"WAREHOUSE_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Wt(this.Warehouse.name,"Warehouse name"),this.formStatus.name.valid}},mounted(){this.Warehouse={...this.warehouse}}};const rmt=(0,m.Z)(emt,[["render",tmt]]);var amt=rmt,smt={components:{UpdateWarehouse:amt},props:["rowIndex","warehouse"],name:"warehouseActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Vb["delete"](this.warehouse.id).then((t=>{"WAREHOUSE_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Warehouse Deleted Successfully"}),this.$store.dispatch("warehouse/delete",this.warehouse.id))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const lmt=(0,m.Z)(smt,[["render",Rgt]]);var omt=lmt,imt={props:["columns","warehouses"],components:{WarehouseActions:omt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.warehouses.length/this.paginationLimit)},items(){return this.warehouses.slice(this.prevRange,this.nextRange)}},methods:{}};const wmt=(0,m.Z)(imt,[["render",Hgt]]);var nmt=wmt;const dmt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},cmt=(0,s._)("h1",{class:"tw-text-lg"},"Create Warehouse",-1),umt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},pmt={class:"tw-w-full tw-col-span-12"},gmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),mmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},hmt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},fmt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),bmt=(0,s._)("span",{class:"text-white"}," Create ",-1);function vmt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",dmt,[cmt,(0,s._)("div",umt,[(0,s._)("div",pmt,[gmt,(0,s.Wm)(dt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",mmt,(0,ot.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",hmt,[(0,s.Wm)(it.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[fmt])),_:1}),(0,s.Wm)(it.T,{loading:l.isLoading,onClick:o.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[bmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var xmt={props:["visible"],components:{},data(){return{isLoading:!1,warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.warehouse;Vb.create(t).then((t=>{if("WAREHOUSE_CREATED"==t.data.code){this.$alert({type:"success",title:t.data.message});const e=t.data.data.warehouse;this.$store.dispatch("warehouse/addWarehouse",e),this.$emit("cancel"),this.warehouse={name:""}}"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Wt(this.warehouse.name,"Warehouse name"),this.formStatus.name.valid}}};const ymt=(0,m.Z)(xmt,[["render",vmt]]);var _mt=ymt,kmt={components:{WarehousesTable:nmt,AddWarehouse:_mt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{warehouses(){return this.$store.getters["warehouse/warehouses"]},filteredWarehouses(){const t=this.date;return this.warehouses.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){Vb.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Cmt=(0,m.Z)(kmt,[["render",Cgt]]);var Dmt=Cmt,Smt={name:"warehouses",path:"/warehouses",component:za,meta:{module:"warehouse"},children:[{name:"warehouse/list",path:"",component:Dmt,meta:{module:"warehouse",subModule:"warehouse/list",title:"Warehouse List",gate:"show_all_warehouses"}}]};const zmt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Factorisation List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your factorisations")])],-1),Umt={key:0},qmt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Pmt={class:"mb-5 tw-flex"},Lmt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Wmt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Amt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},$mt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Emt={class:"tw-relative"},Tmt={class:""};function Fmt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("FactorisationsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.factorisations.length},[zmt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Umt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",qmt,[(0,s._)("div",Pmt,[(0,s.Wm)(it.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Lmt,[(0,s.Wm)(se.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,ot.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Wmt,[(0,s._)("div",Amt,[$mt,(0,s._)("div",Emt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Tmt,[(0,s.Wm)(n,{columns:i.columns,factorisations:i.filteredFactorisations},null,8,["columns","factorisations"])])])):(0,s.kq)("",!0)])}const jmt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Imt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Vmt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Omt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Hmt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Mmt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Rmt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Nmt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),Ymt=["value"],Zmt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Kmt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Bmt={class:"tw-text-white"};function Qmt(t,e,r,l,o,i){const w=(0,s.up)("FactorisationRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jmt,[(0,s._)("table",Imt,[(0,s._)("thead",Vmt,[(0,s._)("tr",null,[Omt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Hmt,(0,ot.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.factorisations,(t=>((0,s.wg)(),(0,s.j4)(w,{factorisation:t,key:t.id},null,8,["factorisation"])))),128))])])]),(0,s._)("div",Mmt,[(0,s._)("div",Rmt,[Nmt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,ot.zw)(t),9,Ymt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Zmt,[(0,s._)("div",Kmt,(0,ot.zw)(i.prevRange+1)+" - "+(0,ot.zw)(o.currentPage==i.pageCount?r.factorisations.length:i.nextRange)+" of "+(0,ot.zw)(r.factorisations.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(it.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Bmt,(0,ot.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Jmt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Gmt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Xmt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},tht={class:"tw-px-6 tw-py-4"},eht={key:0,class:"tw-px-6 tw-py-4"},rht={key:0},aht={key:1},sht={class:"tw-px-6 tw-py-4"},lht={key:0},oht={key:1},iht={class:"tw-px-6 tw-py-4"},wht={class:"tw-px-6 tw-py-4"},nht=(0,s._)("td",{class:"tw-px-6 tw-py-4"},[(0,s._)("div",null," Payment Method ")],-1),dht={class:"tw-px-6 tw-py-4"},cht={class:"tw-px-6 tw-py-4"},uht={key:1,class:"tw-px-6 tw-py-4"},pht={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},ght={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},mht=["disabled"],hht=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),fht={key:2,class:"tw-px-6 tw-py-4"},bht={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},vht={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},xht=["disabled"],yht=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),_ht={class:"tw-px-6 tw-py-4"},kht={key:3,class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function Cht(t,e,r,l,o,i){const w=(0,s.up)("FactorisationActions");return(0,s.wg)(),(0,s.iD)("tr",Jmt,[Gmt,(0,s._)("th",Xmt,(0,ot.zw)(r.factorisation.id),1),(0,s._)("td",tht,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>i.download(r.factorisation.id))},(0,ot.zw)(r.factorisation.factorisation_id),1)]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",eht,[r.factorisation.delivery?((0,s.wg)(),(0,s.iD)("span",rht,(0,ot.zw)(i.deliveryName),1)):((0,s.wg)(),(0,s.iD)("span",aht,"-"))])):(0,s.kq)("",!0),(0,s._)("td",sht,[r.factorisation.seller?((0,s.wg)(),(0,s.iD)("span",lht,(0,ot.zw)(i.sellerName),1)):((0,s.wg)(),(0,s.iD)("span",oht,"-"))]),(0,s._)("td",iht,(0,ot.zw)(r.factorisation.commands_number),1),(0,s._)("td",wht,(0,ot.zw)(r.factorisation.price),1),nht,(0,s._)("td",dht,(0,ot.zw)(r.factorisation.close_at?.split("T")[0]),1),(0,s._)("td",cht,(0,ot.zw)(r.factorisation.paid_at?.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",uht,[(0,s._)("div",pht,[(0,s._)("label",ght,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[1]||(e[1]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,mht),[[a.e8,i.close]]),hht]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",fht,[(0,s._)("div",bht,[(0,s._)("label",vht,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[2]||(e[2]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,xht),[[a.e8,i.paid]]),yht]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",_ht,(0,ot.zw)(r.factorisation.created_at.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",kht,[(0,s.Wm)(w,{factorisation:r.factorisation},null,8,["factorisation"])])):(0,s.kq)("",!0)])}const Dht={class:"tw-flex tw-items-center tw-gap-1"};function Sht(t,e,r,a,l,o){const i=(0,s.up)("UpdateFactorisation"),w=(0,s.up)("UpdateComment"),n=(0,s.up)("UpdateFees"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Dht,[t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(it.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdateCommentPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(it.T,{key:1,onClick:e[1]||(e[1]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_factorisation")?((0,s.wg)(),(0,s.j4)(it.T,{key:2,onClick:e[2]||(e[2]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")&&"seller"==this.factorisation.type?((0,s.wg)(),(0,s.j4)(it.T,{key:3,onClick:e[3]||(e[3]=t=>l.showUpdateFeesPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-format-list-text")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[4]||(e[4]=t=>l.showUpdatePopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(w,{visible:l.showUpdateCommentPopup,onCancel:e[5]||(e[5]=t=>l.showUpdateCommentPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(n,{visible:l.showUpdateFeesPopup,onCancel:e[6]||(e[6]=t=>l.showUpdateFeesPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this factorisation?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const zht={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Uht=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),qht={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Pht={class:"tw-w-full tw-col-span-6"},Lht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Wht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Aht={class:"tw-w-full tw-col-span-6"},$ht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Eht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Tht={class:"tw-w-full tw-col-span-6"},Fht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),jht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Iht={class:"tw-w-full tw-col-span-6"},Vht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Oht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Hht={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Mht=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Rht=(0,s._)("span",{class:"text-white"}," Update ",-1);function Nht(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[9]||(e[9]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",zht,[Uht,(0,s._)("div",qht,[(0,s._)("div",Pht,[Lht,(0,s.Wm)(dt.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.Factorisation.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Factorisation.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Wht,(0,ot.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",Aht,[$ht,(0,s.Wm)(dt.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Eht,(0,ot.zw)(l.formStatus.delivery_id.message),1)]),(0,s._)("div",Tht,[Fht,(0,s.Wm)(dt.hw,{error:!l.formStatus.price.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("price")),"hide-details":!0,modelValue:l.Factorisation.price,"onUpdate:modelValue":e[5]||(e[5]=t=>l.Factorisation.price=t),disabled:!0,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",jht,(0,ot.zw)(l.formStatus.price.message),1)]),(0,s._)("div",Iht,[Vht,(0,s.Wm)(dt.hw,{error:!l.formStatus.commands_number.valid,disabled:!0,onKeyup:e[6]||(e[6]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:l.Factorisation.commands_number,"onUpdate:modelValue":e[7]||(e[7]=t=>l.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Oht,(0,ot.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",Hht,[(0,s.Wm)(it.T,{onClick:e[8]||(e[8]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Mht])),_:1}),(0,s.Wm)(it.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Rht])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Yht={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{factorisation_id:"",delivery_id:0,price:0,commands_number:0,note:""},formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.Factorisation.delivery.firstname+" "+this.Factorisation.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Re.update(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Wt(this.Factorisation.factorisation_id,"Factorisation Code"),this.formStatus.price=At(this.Factorisation.price,"Factorisation Price"),this.formStatus.commands_number=At(this.Factorisation.commands_number,"Factorisation Nb Commands"),this.formStatus.factorisation_id.valid&&this.formStatus.price.valid&&this.formStatus.commands_number.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Zht=(0,m.Z)(Yht,[["render",Nht]]);var Kht=Zht;const Bht={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Qht=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Jht={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Ght={class:"tw-w-full tw-col-span-6"},Xht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),tft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},eft={class:"tw-w-full tw-col-span-6"},rft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),aft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sft={class:"tw-w-full tw-col-span-12"},lft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),oft=["error"],ift={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},wft={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},nft=(0,s._)("span",{class:"text-white"}," Cancel ",-1),dft=(0,s._)("span",{class:"text-white"}," Update ",-1);function cft(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[7]||(e[7]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Bht,[Qht,(0,s._)("div",Jht,[(0,s._)("div",Ght,[Xht,(0,s.Wm)(dt.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.Factorisation.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Factorisation.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",tft,(0,ot.zw)(o.formStatus.price.message),1)]),(0,s._)("div",eft,[rft,(0,s.Wm)(dt.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.Factorisation.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",aft,(0,ot.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",sft,[lft,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.Factorisation.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n            ",40,oft),[[a.nr,o.Factorisation.comment]]),(0,s._)("div",ift,(0,ot.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",wft,[(0,s.Wm)(it.T,{onClick:e[6]||(e[6]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[nft])),_:1}),(0,s.Wm)(it.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[dft])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var uft={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Re.updateComment(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Wt(this.Factorisation.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){this.Factorisation={...this.factorisation}}};const pft=(0,m.Z)(uft,[["render",cft]]);var gft=pft;const mft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},hft=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),fft={class:"tw-w-full tw-col-span-6"},bft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),vft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xft={class:"tw-w-full tw-col-span-6"},yft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),_ft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kft={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},Cft=["onClick"],Dft=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),Sft={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},zft=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Uft={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},qft=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Pft=(0,s._)("span",{class:"text-white"}," Update ",-1);function Lft(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",mft,[hft,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",fft,[bft,(0,s.Wm)(dt.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",vft,(0,ot.zw)(l.formStatus.price.message),1)]),(0,s._)("div",xft,[yft,(0,s.Wm)(dt.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",_ft,(0,ot.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",kft,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(nt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),Dft],8,Cft)])])])))),128)),(0,s._)("div",Sft,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(nt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),zft])]),(0,s._)("div",Uft,[(0,s.Wm)(it.T,{onClick:e[3]||(e[3]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[qft])),_:1}),(0,s.Wm)(it.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Pft])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Wft={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Re.updateFees(this.factorisation.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.Factorisation={...this.factorisation},this.fees=JSON.parse(JSON.stringify(this.factorisation.fees))}};const Aft=(0,m.Z)(Wft,[["render",Lft]]);var $ft=Aft,Eft={components:{UpdateFactorisation:Kht,UpdateComment:gft,UpdateFees:$ft},props:["rowIndex","factorisation"],name:"factorisationActions",data(){return{showPopup:!1,isLoading:!1,showUpdateCommentPopup:!1,showUpdateFeesPopup:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Re["delete"](this.factorisation.id).then((t=>{"FACTORISATION_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Factorisation Deleted Successfully"}),this.$store.dispatch("factorisation/delete",this.factorisation.id)),"DELETE_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Tft=(0,m.Z)(Eft,[["render",Sht]]);var Fft=Tft,jft={props:["factorisation"],components:{FactorisationActions:Fft},data(){return{isLoadingPaid:!1,isLoadingClose:!1}},computed:{deliveryName:{get(){return this.factorisation.delivery.firstname+" "+this.factorisation.delivery.lastname},set(t){console.log(t)}},sellerName:{get(){return this.factorisation.seller.firstname+" "+this.factorisation.seller.lastname},set(t){console.log(t)}},paid:{get(){return 1==this.factorisation.paid},set(t){this.updatePaid(t)}},close:{get(){return 1==this.factorisation.close},set(t){this.updateClose(t)}},user(){return this.$store.getters["user/user"]}},methods:{updatePaid(t){this.isLoadingPaid=!0,Re.updatePaid(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))},updateClose(t){this.isLoadingClose=!0,Re.updateClose(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))},download(t){const e=n+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const Ift=(0,m.Z)(jft,[["render",Cht]]);var Vft=Ift,Oft={props:["columns","factorisations"],components:{FactorisationRow:Vft},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.factorisations.length/this.paginationLimit)},items(){return this.factorisations.slice(this.prevRange,this.nextRange)}},methods:{}};const Hft=(0,m.Z)(Oft,[["render",Qmt]]);var Mft=Hft,Rft={components:{FactorisationsTable:Mft},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,userColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"payment_method",name:"Payment Method"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"created_at",name:"Created at"}],adminColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"delivery_id",name:"Delivery"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"close",name:"Close"},{prop:"paid",name:"Paid"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{user(){return this.$store.getters["user/user"]},columns(){return"admin"==this.user.role?this.adminColumns:this.userColumns},factorisations(){return this.$store.getters["factorisation/factorisations"]},filteredFactorisations(){const t=this.date;return this.factorisations.filter((e=>!t||e?.created_at.split("T")[0]===t))}},mounted(){Re.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("factorisation/setFactorisations",t.data.data.factorisations)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Nft=(0,m.Z)(Rft,[["render",Fmt]]);var Yft=Nft;const Zft={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Kft={class:"tw-px-3"},Bft={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Qft={class:"tw-flex tw-items-center tw-gap-x-3"},Jft=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Factorisation",-1),Gft={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Xft={key:0};function tbt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",Zft,[(0,s._)("section",Kft,[(0,s._)("div",Bft,[(0,s._)("div",null,[(0,s._)("div",Qft,[Jft,(0,s._)("span",Gft,(0,ot.zw)(l.totalOrders),1)])])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,"per-page":l.per_page,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","per-page","loading"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,"withdrawal-methods":l.withdrawal_methods,"is-withdrawal-methods-fetched":l.is_withdrawal_methods_fetched,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","withdrawal-methods","is-withdrawal-methods-fetched","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Xft)):(0,s.kq)("",!0)])}const ebt={class:"tw-flex tw-flex-col tw-mt-5"},rbt={class:"tw-overflow-x-auto"},abt={class:"tw-inline-block tw-min-w-full tw-align-middle"},sbt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},lbt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},obt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},ibt=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-w-fit tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID ",-1),wbt={key:1,scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},nbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Orders ",-1),dbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),cbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Payment Method ",-1),ubt={key:2,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},pbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Closed At ",-1),gbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid At ",-1),mbt={key:3,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},hbt={key:4,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},fbt={key:6,scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},bbt=(0,s._)("span",{class:"tw-sr-only"},"Actions",-1),vbt=[bbt],xbt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},ybt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},_bt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Factorisation was found ! ")])],-1),kbt=[_bt],Cbt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Dbt={colspan:"11"},Sbt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},zbt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Ubt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),qbt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Pbt=[Ubt,qbt],Lbt={class:"tw-mt-6"};function Wbt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ebt,[(0,s._)("div",rbt,[(0,s._)("div",abt,[(0,s._)("div",sbt,[(0,s._)("table",lbt,[(0,s._)("thead",obt,[(0,s._)("tr",null,[(0,s.kq)("",!0),ibt,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",wbt," User ")):(0,s.kq)("",!0),nbt,dbt,cbt,"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",ubt," Status ")):(0,s.kq)("",!0),pbt,gbt,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",mbt," Close ")):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",hbt," Paid ")):(0,s.kq)("",!0),(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",fbt,vbt)):(0,s.kq)("",!0)])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",xbt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(a=>((0,s.wg)(),(0,s.j4)(i,{"withdrawal-methods":r.withdrawalMethods,"is-withdrawal-methods-fetched":r.isWithdrawalMethodsFetched,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:a.id,item:a},null,8,["withdrawal-methods","is-withdrawal-methods-fetched","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",ybt,kbt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Cbt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Dbt,[(0,s._)("div",Sbt,[zbt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Pbt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Lbt,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Abt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},$bt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Ebt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Tbt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Fbt=["disabled"],jbt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Ibt=(0,s._)("span",null," previous ",-1),Vbt=[jbt,Ibt],Obt=["disabled"],Hbt=(0,s._)("span",null," Next ",-1),Mbt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Rbt=[Hbt,Mbt];function Nbt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Abt,[(0,s._)("div",$bt,[(0,s.Uk)(" Page "),(0,s._)("span",Ebt,(0,ot.zw)(r.currentPage)+" of "+(0,ot.zw)(r.lastPage),1)]),(0,s._)("div",Tbt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,ot.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Vbt,10,Fbt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,ot.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Rbt,10,Obt)])])])}var Ybt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Zbt=(0,m.Z)(Ybt,[["render",Nbt]]);var Kbt=Zbt;const Bbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-w-fit"},Qbt={key:1,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Jbt={key:0,class:"tw-flex tw-items-center tw-gap-2"},Gbt=(0,s._)("div",{title:"Delivery",class:"tw-text-sm tw-w-[24px] tw-rounded tw-aspect-square tw-bg-cyan-100 tw-text-cyan-500 tw-flex tw-items-center tw-justify-center"}," D ",-1),Xbt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},tvt={key:1,class:"tw-flex tw-items-center tw-gap-2"},evt=(0,s._)("div",{title:"Seller",class:"tw-text-sm tw-w-[24px] tw-rounded tw-aspect-square tw-bg-orange-100 tw-text-orange-500 tw-flex tw-items-center tw-justify-center"}," S ",-1),rvt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},avt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},svt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-text-center tw-font-[cairo]"},lvt={key:0},ovt={key:1},ivt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},wvt={class:"tw-text-emerald-500 tw-text-end tw-font-semibold darkx:tw-text-white tw-font-[cairo]"},nvt={key:0},dvt={key:1},cvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uvt={key:0},pvt={key:0},gvt={key:1},mvt={key:2,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},hvt={key:0,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-blue-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},fvt={key:1,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-yellow-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},bvt={key:2,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-emerald-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},vvt={class:"tw-px-8 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},xvt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},yvt={key:0},_vt={key:0},kvt={key:1},Cvt={class:"tw-px-8 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Dvt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Svt={key:0},zvt={key:0},Uvt={key:1},qvt={key:3,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Pvt={key:4,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Lvt={key:0},Wvt={key:6,class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function Avt(t,e,r,a,l,o){const i=(0,s.up)("PdfFactorisation"),w=(0,s.up)("WithdrawalMethodSeller"),n=(0,s.up)("WithdrawalMethodAdmin"),d=(0,s.up)("CloseFactorisation"),c=(0,s.up)("PaidFactorisation"),u=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Bbt,[(0,s._)("div",null,[(0,s.Wm)(i,{item:r.item},null,8,["item"])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Qbt,["delivery"==r.item.type?((0,s.wg)(),(0,s.iD)("div",Jbt,[Gbt,(0,s._)("h2",Xbt,(0,ot.zw)(r.item.delivery.firstname)+" "+(0,ot.zw)(r.item.delivery.lastname),1)])):(0,s.kq)("",!0),"seller"==r.item.type?((0,s.wg)(),(0,s.iD)("div",tvt,[evt,(0,s._)("h2",rvt,(0,ot.zw)(r.item.seller.firstname)+" "+(0,ot.zw)(r.item.seller.lastname),1)])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("td",avt,[(0,s._)("div",null,[(0,s._)("h2",svt,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",lvt,(0,ot.zw)(r.item.seller_order_count),1)):((0,s.wg)(),(0,s.iD)("span",ovt,(0,ot.zw)(r.item.delivery_order_count),1))])])]),(0,s._)("td",ivt,[(0,s._)("div",null,[(0,s._)("h2",wvt,[(0,s.Uk)((0,ot.zw)(l.currency)+" ",1),"seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",nvt,(0,ot.zw)(r.item.seller_order_price),1)):((0,s.wg)(),(0,s.iD)("span",dvt,(0,ot.zw)(r.item.delivery_order_price),1))])])]),(0,s._)("td",cvt,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("div",uvt,["seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",pvt,[(0,s.Wm)(w,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),factorisation:r.item,"withdrawal-methods":r.withdrawalMethods,"is-withdrawal-methods-fetched":r.isWithdrawalMethodsFetched},null,8,["factorisation","withdrawal-methods","is-withdrawal-methods-fetched"])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",gvt,[(0,s.Wm)(n,{factorisation:r.item,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["factorisation"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",mvt,[(0,s._)("div",null,[r.item.close||r.item.paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",hvt," Active ")),r.item.close&&!r.item.paid?((0,s.wg)(),(0,s.iD)("div",fvt," Prending ")):(0,s.kq)("",!0),r.item.close&&r.item.paid?((0,s.wg)(),(0,s.iD)("div",bvt," Paid ")):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",vvt,[(0,s._)("div",null,[(0,s._)("h2",xvt,[r.item.close_at?((0,s.wg)(),(0,s.iD)("span",yvt,[(0,s._)("p",null,(0,ot.zw)(l.moment(r.item.close_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",_vt,(0,ot.zw)(l.moment(r.item.close_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",kvt," - "))])])]),(0,s._)("td",Cvt,[(0,s._)("div",null,[(0,s._)("h2",Dvt,[r.item.paid_at?((0,s.wg)(),(0,s.iD)("span",Svt,[(0,s._)("p",null,(0,ot.zw)(l.moment(r.item.paid_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",zvt,(0,ot.zw)(l.moment(r.item.paid_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",Uvt," - "))])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",qvt,[(0,s._)("div",null,[((0,s.wg)(),(0,s.j4)(d,{item:r.item,key:r.item.id,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["item"]))])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Pvt,[r.item.close?((0,s.wg)(),(0,s.iD)("div",Lvt,[((0,s.wg)(),(0,s.j4)(c,{item:r.item,key:r.item.id,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e))},null,8,["item"]))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Wvt,[(0,s._)("div",null,[(0,s.Wm)(u,{onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])):(0,s.kq)("",!0)])}const $vt={class:"tw-h-full"},Evt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-end tw-relative"},Tvt={key:0,class:"tw-absolute tw-right-0 tw-z-10"},Fvt={class:"tw-absolute tw-top-1/2 -tw-translate-y-1/2 tw-right-10 tw-bg-white tw-border tw-border-solid tw-p-2 tw-rounded tw-flex tw-items-center tw-gap-2"},jvt=["href"],Ivt={key:0},Vvt={key:1},Ovt={key:2},Hvt={key:3};function Mvt(t,e,r,l,o,i){const w=(0,s.up)("icon"),n=(0,s.up)("TableActionsUploadImage"),d=(0,s.up)("CommentFactorisation"),c=(0,s.up)("UpdateFactorisation"),u=(0,s.up)("UpdateFees"),p=(0,s.up)("FactorisationHistory");return(0,s.wg)(),(0,s.iD)("div",$vt,[(0,s._)("div",Evt,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-x-[10px]  tw-opacity-0","leave-to-class":"tw-translate-x-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[o.visible?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",Tvt,[(0,s._)("div",Fvt,["admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show history",onClick:e[0]||(e[0]=t=>o.HistoryPopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-teal-100 hover:tw-border-teal-400 tw-bg-teal-50/10 hover:tw-bg-teal-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"uim:history",class:"tw-text-xl tw-text-teal-500"})])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("a",{key:1,title:"Download Excel File",target:"_blank",href:o.serverUrl+"api/export/factorisations/"+r.item.factorisation_id,class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-green-100 hover:tw-border-green-400 tw-bg-green-50/10 hover:tw-bg-green-200 tw-duration-200"},[(0,s.Wm)(w,{icon:"vscode-icons:file-type-excel",class:"tw-text-xl"})],8,jvt)):(0,s.kq)("",!0),(t.$user.role,(0,s.kq)("",!0)),(t.$user.role,(0,s.kq)("",!0)),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:4,title:"Delete",onClick:e[3]||(e[3]=t=>o.DeletePopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-rose-100 hover:tw-border-rose-400 tw-bg-rose-50/10 hover:tw-bg-rose-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"solar:trash-bin-trash-bold-duotone",class:"tw-text-xl tw-text-rose-500"})])):(0,s.kq)("",!0)])])),[[le.L,()=>o.visible=!1]]):(0,s.kq)("",!0)])),_:1}),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Add fees",onClick:e[4]||(e[4]=t=>o.FeesPopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-emerald-100 hover:tw-border-emerald-400 tw-bg-emerald-50/10 hover:tw-bg-emerald-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"solar:bill-list-bold-duotone",class:"tw-text-xl tw-text-emerald-500"})])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(n,{title:"Upload image",onUpdate:e[5]||(e[5]=e=>t.$emit("update",e)),key:r.item.id,item:r.item},null,8,["item"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[6]||(e[6]=t=>o.visible=!o.visible),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-gray-100 hover:tw-border-gray-400 tw-bg-gray-50/10 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(w,{icon:o.visible?"iconamoon:close-duotone":"solar:menu-dots-bold",class:"tw-text-xl tw-text-gray-500"},null,8,["icon"])])):(0,s.kq)("",!0),(0,s.kq)("",!0)]),o.CommentPopup?((0,s.wg)(),(0,s.iD)("div",Ivt,[((0,s.wg)(),(0,s.j4)(d,{onUpdate:e[11]||(e[11]=e=>t.$emit("update",e)),visible:o.CommentPopup,"onUpdate:visible":e[12]||(e[12]=t=>o.CommentPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.popup?((0,s.wg)(),(0,s.iD)("div",Vvt,[((0,s.wg)(),(0,s.j4)(c,{onUpdate:e[13]||(e[13]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[14]||(e[14]=t=>o.popup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.FeesPopup?((0,s.wg)(),(0,s.iD)("div",Ovt,[((0,s.wg)(),(0,s.j4)(u,{onUpdate:e[15]||(e[15]=e=>t.$emit("update",e)),visible:o.FeesPopup,"onUpdate:visible":e[16]||(e[16]=t=>o.FeesPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.HistoryPopup?((0,s.wg)(),(0,s.iD)("div",Hvt,[(0,s.Wm)(p,{visible:o.HistoryPopup,"onUpdate:visible":e[17]||(e[17]=t=>o.HistoryPopup=t),factorisation:r.item},null,8,["visible","factorisation"])])):(0,s.kq)("",!0)])}const Rvt={key:0},Nvt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Yvt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Zvt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Kvt={class:"tw-w-full tw-col-span-6"},Bvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Qvt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jvt={class:"tw-w-full tw-col-span-6"},Gvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Xvt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},txt={class:"tw-w-full tw-col-span-12"},ext=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),rxt=["error"],axt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sxt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},lxt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),oxt=(0,s._)("span",{class:"text-white"}," Update ",-1);function ixt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return o.itemCopy?((0,s.wg)(),(0,s.iD)("div",Rvt,[(0,s.Wm)(w,{onCancel:e[7]||(e[7]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Nvt,[Yvt,(0,s._)("div",Zvt,[(0,s._)("div",Kvt,[Bvt,(0,s.Wm)(dt.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.itemCopy.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.itemCopy.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Qvt,(0,ot.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Jvt,[Gvt,(0,s.Wm)(dt.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.itemCopy.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.itemCopy.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Xvt,(0,ot.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",txt,[ext,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.itemCopy.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",40,rxt),[[a.nr,o.itemCopy.comment]]),(0,s._)("div",axt,(0,ot.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",sxt,[(0,s.Wm)(it.T,{onClick:e[6]||(e[6]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[lxt])),_:1}),(0,s.Wm)(it.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[oxt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var wxt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Re.updateComment(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Wt(this.itemCopy.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const nxt=(0,m.Z)(wxt,[["render",ixt]]);var dxt=nxt;const cxt={key:0},uxt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},pxt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),gxt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},mxt={class:"tw-w-full tw-col-span-6"},hxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),fxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},bxt={class:"tw-w-full tw-col-span-6"},vxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),xxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},yxt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},_xt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),kxt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Cxt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",cxt,[(0,s.Wm)(i,{onCancel:e[5]||(e[5]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",uxt,[pxt,(0,s._)("div",gxt,[(0,s._)("div",mxt,[hxt,(0,s.Wm)(dt.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.itemCopy.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.itemCopy.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",fxt,(0,ot.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",bxt,[vxt,(0,s.Wm)(dt.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",xxt,(0,ot.zw)(l.formStatus.delivery_id.message),1)])]),(0,s._)("div",yxt,[(0,s.Wm)(it.T,{onClick:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[_xt])),_:1}),(0,s.Wm)(it.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[kxt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Dxt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.itemCopy.delivery.firstname+" "+this.itemCopy.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Re.update(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Wt(this.itemCopy.factorisation_id,"Factorisation Code"),this.formStatus.factorisation_id.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const Sxt=(0,m.Z)(Dxt,[["render",Cxt]]);var zxt=Sxt;const Uxt={key:0},qxt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Pxt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),Lxt={class:"tw-w-full tw-col-span-6"},Wxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),Axt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$xt={class:"tw-w-full tw-col-span-6"},Ext=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),Txt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Fxt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},jxt=["onClick"],Ixt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),Vxt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},Oxt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Hxt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Mxt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Rxt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Nxt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",Uxt,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",qxt,[Pxt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",Lxt,[Wxt,(0,s.Wm)(dt.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",Axt,(0,ot.zw)(l.formStatus.price.message),1)]),(0,s._)("div",$xt,[Ext,(0,s.Wm)(dt.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",Txt,(0,ot.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",Fxt,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(nt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),Ixt],8,jxt)])])])))),128)),(0,s._)("div",Vxt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(nt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Oxt])]),(0,s._)("div",Hxt,[(0,s.Wm)(it.T,{onClick:e[3]||(e[3]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Mxt])),_:1}),(0,s.Wm)(it.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Rxt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Yxt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Re.updateFees(this.itemCopy.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$emit("update",this.itemCopy),this.$emit("update:visible",!1)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.fees=this.itemCopy.fees??[]}};const Zxt=(0,m.Z)(Yxt,[["render",Nxt]]);var Kxt=Zxt;const Bxt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-3 tw-h-3 tw-bg-neutral-100 tw-rounded-full -tw-left-1.5 tw-translate-y-1.5 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),Qxt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},Jxt={class:"tw-text-gray-500 tw-flex tw-items-center tw-gap-2 tw-mb-2"},Gxt={class:"tw-text-black tw-font-semibold tw-capitalize"},Xxt={class:"tw-uppercase tw-text-xs"},tyt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600 tw-w-full"},eyt={key:0,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},ryt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},ayt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},syt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},lyt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},oyt={key:1,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},iyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},wyt={class:"tw-font-semibold tw-text-emerald-600 dark:tw-text-emerald-500 hover:tw-underline"},nyt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-cyan-100 dark:tw-text-cyan-500"},dyt={key:2,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},cyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},uyt={class:"tw-font-semibold tw-text-emerald-600 dark:tw-text-emerald-500 hover:tw-underline"},pyt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-cyan-100 dark:tw-text-cyan-500"};var gyt={__name:"FactorisationHistoryForFee",props:["history"],setup(t){const e=["event","factorisation_fee:factorisation_id","factorisation_fee:id"],r=t,a=(0,ye.Vh)(r,"history"),l=(0,ye.iH)(a.value.fields.find((t=>"event"==t.field))),o=(0,ye.iH)(a.value.fields.find((t=>"factorisation_fee:fee"==t.field)));console.log(a.value),console.log(o.value);const i={"factorisation_fee:feeprice":"Amount"},w={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}};return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[Bxt,(0,s._)("div",Qxt,[(0,s._)("p",Jxt,[(0,s._)("span",Gxt,(0,ot.zw)(a.value.action_by),1),(0,s._)("span",Xxt,"*"+(0,ot.zw)(l.value.new_value)+" FEE*",1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:r[0]||(r[0]=t=>a.value.isHovering=!0),onMouseleave:r[1]||(r[1]=t=>a.value.isHovering=!1)},(0,ot.zw)(a.value.isHovering?(0,ye.SU)(De())(a.value.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ye.SU)(De())(a.value.created_at).fromNow()),33)]),(0,s._)("div",tyt,["updated"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",eyt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value.fields.filter((t=>!e.includes(t.field))),(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[[].includes(t.field)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ryt,[(0,s.Uk)("Changed "),(0,s._)("span",ayt,(0,ot.zw)(i[t.field]??t.field),1),(0,s.Uk)(" from "),(0,s._)("span",syt,(0,ot.zw)(t.field in w?w[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",lyt,(0,ot.zw)(t.field in w?w[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])):(0,s.kq)("",!0),"created"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",oyt,[(0,s._)("div",iyt,[(0,s.Uk)("Added "),(0,s._)("span",wyt,(0,ot.zw)(a.value.fields.find((t=>"factorisation_fee:feeprice"==t.field))?.new_value)+(0,ot.zw)((0,ye.SU)(c)),1),(0,s.Uk)(" fee for "),(0,s._)("span",nyt,(0,ot.zw)(a.value.fields.find((t=>"factorisation_fee:feename"==t.field))?.new_value),1)])])):(0,s.kq)("",!0),"deleted"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",dyt,[(0,s._)("div",cyt,[(0,s.Uk)("Deleted "),(0,s._)("span",uyt,(0,ot.zw)(o.value.new_value.feeprice)+(0,ot.zw)((0,ye.SU)(c)),1),(0,s.Uk)(" fee for "),(0,s._)("span",pyt,(0,ot.zw)(o.value.new_value.feename),1)])])):(0,s.kq)("",!0)])]))}};const myt=gyt;var hyt=myt;const fyt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},byt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},vyt=(0,s._)("span",null,"History",-1),xyt={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},yyt={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},_yt={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},kyt={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},Cyt={key:1},Dyt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-3 tw-h-3 tw-bg-neutral-100 tw-rounded-full -tw-left-1.5 tw-translate-y-1.5 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),Syt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},zyt={class:"tw-text-gray-500"},Uyt={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},qyt=["onMouseenter","onMouseleave"],Pyt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600 tw-w-full"},Lyt={class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},Wyt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},Ayt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},$yt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},Eyt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},Tyt={key:1,class:"tw-w-full"},Fyt=(0,s._)("div",{class:"tw-items-center tw-justify-between sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300 tw-mb-2"},"Uploaded:")],-1),jyt={class:"tw-mx-auto tw-rounded tw-bg-gray-100 tw-overflow-hidden tw-flex tw-items-center tw-justify-center tw-border tw-border-solid tw-border-neutral-200 tw-relative"},Iyt=["src"],Vyt={class:"tw-absolute tw-bottom-4 tw-right-4 tw-flex tw-items-center tw-gap-2"},Oyt=["href"],Hyt=(0,s._)("span",null,"View",-1),Myt={key:2,class:"tw-w-full"},Ryt={class:"tw-items-center tw-justify-between sm:tw-flex"},Nyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},Yyt={key:3,class:"tw-w-full"},Zyt={class:"tw-items-center tw-justify-between sm:tw-flex"},Kyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},Byt={key:4,class:"tw-w-full tw-order-[10]"},Qyt={class:"tw-items-center tw-justify-between sm:tw-flex"},Jyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 tw-mb-3 dark:tw-text-gray-300"},Gyt={class:"tw-flex tw-flex-col"},Xyt={class:"tw-border-b-0 tw-border tw-border-solid tw-border-neutral-200 tw-bg-neutral-800 tw-text-white tw-grid tw-grid-cols-12 tw-divide-x"},t_t=(0,s._)("div",{class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},"ID",-1),e_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-xs"},"CONFIRMATION",-1),r_t=(0,s._)("div",{class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},"DELIVERY",-1),a_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-xs"},"DELIVERED AT",-1),s_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},l_t={class:"tw-border tw-border-solid tw-border-neutral-200 tw-grid tw-grid-cols-12 tw-divide-x"},o_t={class:"tw-col-span-2 tw-py-1 tw-px-2 tw-font-bold"},i_t={class:"tw-col-span-3 tw-py-1 tw-px-2"},w_t={class:"tw-col-span-2 tw-py-1 tw-px-2"},n_t={class:"tw-col-span-3 tw-py-1 tw-px-2 tw-text-center"},d_t={class:"tw-col-span-2 tw-py-1 tw-px-2 tw-font-medium tw-text-end"},c_t={class:"tw-text-black tw-grid tw-grid-cols-12"},u_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),p_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"SHIPPING FEES",-1),g_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},m_t={class:"tw-text-black tw-grid tw-grid-cols-12"},h_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),f_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"COD FEES",-1),b_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},v_t={class:"tw-text-black tw-grid tw-grid-cols-12"},x_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),y_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"OTHER FEES",-1),__t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},k_t={class:"tw-text-black tw-grid tw-grid-cols-12"},C_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),D_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-end tw-font-bold tw-text-lg tw-text-emerald-600"},"TOTAL",-1),S_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-lg tw-font-bold tw-text-emerald-600 tw-text-end"},z_t={key:5,class:"tw-w-full"},U_t={class:"tw-items-center tw-justify-between sm:tw-flex"},q_t=(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300 tw-mb-3"},"Withdrawal Details:",-1),P_t={key:0,class:"tw-flex tw-items-center tw-gap-2"},L_t=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),W_t={key:1,class:"tw-flex tw-items-center tw-gap-2"},A_t=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),$_t={key:0,class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var E_t={__name:"FactorisationHistory",props:["visible","factorisation"],emits:["update:visible"],setup(t,{emit:e}){const r=["commands_number","type","price","paid_at","amount_paid","close_at","total_cod_fees","total_shipping_fees","total_other_fees","commands_number","price"],a=(0,s.Fl)((()=>An.reduce(((t,e)=>(t[e.value]=e.name,t)),{}))),l=(0,s.Fl)((()=>Fn.reduce(((t,e)=>(t[e.value]=e.name,t)),{}))),o={user_id:"Seller ID",factorisation_id:"ID",delivery_id:"Delivery ID",close:"Close",paid:"Paid",commands_number:"Order's number",type:"Type",price:"Amount",close_at:"Closed at",paid_at:"Paid at",comment:"Comment",note:"Note",withdrawal_method_id:"Withdrawal Method ID",attachement_image:"Attachement",orders:"Orders",withdrawal_method_details:"Withdrawal Details"},i={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}},w=t,n=e,d=(0,ye.Vh)(w,"visible"),u=(0,ye.Vh)(w,"factorisation"),p=(0,ye.iH)(!0),g=(0,ye.iH)([!0]),m=async()=>{p.value=!0,await Re.history(u.value.id).then((t=>{"SUCCESS"==t.data.code&&(g.value=t.data.data.history.filter((t=>t.fields.every((t=>!["commands_number","price"].includes(t.field))))),g.value.reverse())})),p.value=!1};return m(),(t,e)=>{const w=(0,s.up)("icon"),u=(0,s.up)("loading"),m=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(m,{visible:d.value,onCancel:e[1]||(e[1]=t=>n("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",fyt,[(0,s._)("div",byt,[vyt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>n("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(w,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),p.value?((0,s.wg)(),(0,s.iD)("div",xyt,[(0,s.Wm)(u)])):(0,s.kq)("",!0),p.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yyt,[g.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",_yt,"There is no history for this invoice yet.")),g.value.length?((0,s.wg)(),(0,s.iD)("ol",kyt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.value,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id,class:"tw-mb-10 tw-mx-6"},[e.fields.some((t=>t.field.includes("factorisation_fee:")))?((0,s.wg)(),(0,s.j4)((0,ye.SU)(hyt),{key:0,history:e},null,8,["history"])):((0,s.wg)(),(0,s.iD)("div",Cyt,[Dyt,(0,s._)("div",Syt,[(0,s._)("p",zyt,[(0,s._)("span",Uyt,(0,ot.zw)(e.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:t=>e.isHovering=!0,onMouseleave:t=>e.isHovering=!1},(0,ot.zw)(e.isHovering?(0,ye.SU)(De())(e.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ye.SU)(De())(e.created_at).fromNow()),41,qyt)]),(0,s._)("div",Pyt,[(0,s._)("div",Lyt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.fields.filter((t=>!r.includes(t.field))),(r=>((0,s.wg)(),(0,s.iD)(s.HY,{key:r.field},[["attachement_image","withdrawal_method_details","orders","paid","close"].includes(r.field)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Wyt,[(0,s.Uk)("Changed "),(0,s._)("span",Ayt,(0,ot.zw)(o[r.field]??r.field),1),(0,s.Uk)(" from "),(0,s._)("span",$yt,(0,ot.zw)(r.field in i?i[r.field][r.old_value]:r.old_value),1),(0,s.Uk)("to "),(0,s._)("span",Eyt,(0,ot.zw)(r.field in i?i[r.field][r.new_value]:r.new_value),1)])),"attachement_image"==r.field&&r.new_value?((0,s.wg)(),(0,s.iD)("div",Tyt,[Fyt,(0,s._)("div",jyt,[(0,s._)("img",{class:"tw-w-full tw-h-auto tw-max-w-[300px] tw-max-h-[300px] tw-object-contain",src:t.$backend(r.new_value.startsWith("/")?r.new_value.substring(1):r.new_value)},null,8,Iyt),(0,s._)("div",Vyt,[(0,s._)("a",{target:"_blank",href:t.$backend(r.new_value.startsWith("/")?r.new_value.substring(1):r.new_value),class:"tw-px-2 tw-py-1 tw-flex tw-items-center tw-gap-2 tw-rounded tw-bg-green-500 tw-text-white"},[(0,s.Wm)(w,{icon:"carbon:view-filled",class:"tw-text-white tw-text-2xl"}),Hyt],8,Oyt)])])])):(0,s.kq)("",!0),"paid"==r.field?((0,s.wg)(),(0,s.iD)("div",Myt,[(0,s._)("div",Ryt,[(0,s._)("div",Nyt,[(0,s.Uk)("Marked this invoice as "),(0,s._)("span",{class:(0,ot.C_)([[r.new_value?"tw-text-green-600 tw-bg-green-50":"tw-text-amber-600 tw-bg-amber-50"],"tw-px-2 tw-py-0.5"])},(0,ot.zw)(r.new_value?"PAID":"UNPAID"),3)])])])):(0,s.kq)("",!0),"close"==r.field?((0,s.wg)(),(0,s.iD)("div",Yyt,[(0,s._)("div",Zyt,[(0,s._)("div",Kyt,[(0,s.Uk)("Marked this invoice as "),(0,s._)("span",{class:(0,ot.C_)([[r.new_value?"tw-text-rose-600 tw-bg-rose-50":"tw-text-green-600 tw-bg-green-50"],"tw-px-2 tw-py-0.5"])},(0,ot.zw)(r.new_value?"CLOSED":"OPEN"),3)])])])):(0,s.kq)("",!0),"orders"==r.field?((0,s.wg)(),(0,s.iD)("div",Byt,[(0,s._)("div",Qyt,[(0,s._)("div",Jyt,"Orders: ("+(0,ot.zw)(r.new_value.length)+")",1),(0,s.kq)("",!0)]),(0,s._)("div",Gyt,[(0,s._)("div",Xyt,[t_t,e_t,r_t,a_t,(0,s._)("div",s_t,"PRICE ("+(0,ot.zw)((0,ye.SU)(c))+")",1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.new_value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:""},[(0,s._)("div",l_t,[(0,s._)("div",o_t,(0,ot.zw)(t.id),1),(0,s._)("div",i_t,(0,ot.zw)(a.value[t.confirmation]??null),1),(0,s._)("div",w_t,(0,ot.zw)(l.value[t.delivery]),1),(0,s._)("div",n_t,(0,ot.zw)(t.delivery_date?.split("T")[0]??t.delivery_date),1),(0,s._)("div",d_t,(0,ot.zw)(t.price),1)])])))),128)),(0,s._)("div",c_t,[u_t,p_t,(0,s._)("div",g_t,(0,ot.zw)(e.fields.find((t=>"total_shipping_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",m_t,[h_t,f_t,(0,s._)("div",b_t,(0,ot.zw)(e.fields.find((t=>"total_cod_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",v_t,[x_t,y_t,(0,s._)("div",__t,(0,ot.zw)(e.fields.find((t=>"total_other_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",k_t,[C_t,D_t,(0,s._)("div",S_t,(0,ot.zw)((0,ye.SU)(c))+(0,ot.zw)(e.fields.find((t=>"amount_paid"==t.field))?.new_value??0),1)])])])):(0,s.kq)("",!0),"withdrawal_method_details"==r.field?((0,s.wg)(),(0,s.iD)("div",z_t,[(0,s._)("div",U_t,[q_t,"bank_transfer"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",P_t,[(0,s.Wm)(w,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),L_t])):(0,s.kq)("",!0),"binance"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",W_t,[(0,s.Wm)(w,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),A_t])):(0,s.kq)("",!0)]),"binance"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",$_t,(0,ot.zw)(r.new_value.metadata.binance_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)))),128))])])]))])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const T_t=E_t;var F_t=T_t;const j_t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},I_t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},V_t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Upload image ",-1),O_t={class:"tw-p-5"},H_t=["id"],M_t={class:"tw-text-center tw-flex tw-items-center tw-justify-center tw-flex-col tw-gap-5"},R_t=(0,s._)("p",null,"Click to upload",-1),N_t={key:0,class:"tw-absolute tw-h-full tw-w-full tw-left-0 tw-top-0 tw-bg-white tw-flex tw-items-center tw-justify-center"},Y_t=["src"],Z_t={key:1,class:"tw-absolute tw-h-full tw-w-full tw-left-0 tw-top-0 tw-bg-white tw-flex tw-items-center tw-justify-center"},K_t=["src"],B_t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},Q_t=["disabled"],J_t=["disabled"],G_t=(0,s._)("span",null,"Save",-1);var X_t={__name:"TableActionsUploadImage",props:["item"],emits:["update"],setup(t,{emit:e}){const r=(0,ye.iH)(!1),a=(0,ye.iH)(!1),l=(0,ye.iH)(null),o=t,i=e,w=(0,ye.iH)(""),n=async()=>{if(!l.value)return Lc("Add image to update","warning"),!1;a.value=!0;try{const t=new FormData;t.append("image",l.value);const e=await Re.uploadImage(o.item.id,t);if(console.log(e.data),"SUCCESS"==e.data.code){const t={...o.item,attachement_image:e.data.factorisation.attachement_image};i("update",t),Lc("Image attachement updated"),r.value=!1}}catch(t){console.error("Error uploading image:",t)}a.value=!1},d=()=>{document.getElementById("invoice-image-"+o.item.id).click()},c=t=>{t.target.files.length<=0||(l.value=t.target.files[0],w.value=URL.createObjectURL(l.value))};return(t,e)=>{const l=(0,s.up)("icon"),i=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-fuchsia-100 hover:tw-border-fuchsia-400 tw-bg-fuchsia-50/10 hover:tw-bg-fuchsia-100 tw-duration-200"},[(0,s.Wm)(l,{icon:"uim:image-v",class:"tw-text-xl tw-text-fuchsia-500"})]),(0,s.Wm)(i,{visible:r.value,onCancel:e[2]||(e[2]=t=>r.value=!1),closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",j_t,[(0,s._)("div",I_t,[V_t,(0,s._)("div",O_t,[(0,s._)("input",{onChange:c,ref:"image-field",type:"file",name:"image",id:"invoice-image-"+o.item.id,class:"tw-invisible"},null,40,H_t),(0,s._)("div",{role:"button",onClick:d,class:"tw-relative tw-min-h-[350px] tw-w-full tw-cursor-pointer tw-border tw-border-dashed hover:tw-border-orange-400 tw-duration-200 tw-rounded tw-flex tw-overflow-hidden tw-items-center tw-justify-center"},[(0,s._)("div",M_t,[(0,s.Wm)(l,{icon:"ep:upload-filled",class:"tw-text-7xl tw-text-neutral-500"}),R_t,o.item.attachement_image&&!w.value?((0,s.wg)(),(0,s.iD)("div",N_t,[(0,s._)("img",{class:"tw-w-full tw-h-full tw-object-contain",src:t.$backend(o.item.attachement_image.startsWith("/")?o.item.attachement_image.substring(1):o.item.attachement_image)},null,8,Y_t)])):(0,s.kq)("",!0),w.value?((0,s.wg)(),(0,s.iD)("div",Z_t,[(0,s._)("img",{class:"tw-w-full tw-h-full tw-object-contain",src:w.value},null,8,K_t)])):(0,s.kq)("",!0),(0,s.kq)("",!0)])])]),(0,s._)("div",B_t,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),disabled:a.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,Q_t),(0,s._)("button",{disabled:a.value,onClick:n,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[a.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),G_t],8,J_t)])])])])),_:1},8,["visible","closeable"])])}}};const tkt=X_t;var ekt=tkt,rkt={components:{CommentFactorisation:dxt,UpdateFactorisation:zxt,UpdateFees:Kxt,TableActionsUploadImage:ekt,FactorisationHistory:F_t},props:{item:{required:!0}},data(){return{CommentPopup:!1,HistoryPopup:!1,popup:!1,DeletePopup:!1,FeesPopup:!1,isLoading:!1,visible:!1,serverUrl:n}},computed:{},methods:{}};const akt=(0,m.Z)(rkt,[["render",Mvt]]);var skt=akt;const lkt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},okt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},ikt=["disabled"],wkt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function nkt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",lkt,[(0,s._)("label",okt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[0]||(e[0]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,ikt),[[a.e8,i.close]]),wkt]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var dkt={props:{item:{required:!0}},data(){return{isLoadingClose:!1}},computed:{close:{get(){return this.item.close},set(t){this.updateClose(t)}}},methods:{updateClose(t){this.isLoadingClose=!0,Re.updateClose(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))}}};const ckt=(0,m.Z)(dkt,[["render",nkt]]);var ukt=ckt;const pkt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},gkt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},mkt=["disabled"],hkt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function fkt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",pkt,[(0,s._)("label",gkt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[0]||(e[0]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,mkt),[[a.e8,i.paid]]),hkt]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var bkt={props:{item:{required:!0}},data(){return{isLoadingPaid:!1}},computed:{paid:{get(){return this.item.paid},set(t){this.updatePaid(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Re.updatePaid(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))}}};const vkt=(0,m.Z)(bkt,[["render",fkt]]);var xkt=vkt;const ykt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},_kt={class:"tw-text-gray-700"},kkt=["href"];function Ckt(t,e,r,a,l,o){const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("h2",ykt,[(0,s._)("span",_kt,(0,ot.zw)(r.item.factorisation_id),1),(0,s._)("button",{class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-shadowx tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5",onClick:e[0]||(e[0]=t=>o.download(r.item.id))},[(0,s.Wm)(i,{icon:"ci:arrow-down-sm",class:"tw-text-xl"})]),r.item.close&&r.item.paid&!!r.item.attachement_image?((0,s.wg)(),(0,s.iD)("a",{key:0,target:"_blank",href:t.$backend(r.item.attachement_image.startsWith("/")?r.item.attachement_image.substring(1):r.item.attachement_image),class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-border-cyan-200 tw-shadowx tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5"},[(0,s.Wm)(i,{icon:"uim:image-v",class:"tw-text-xl tw-text-cyan-400"})],8,kkt)):(0,s.kq)("",!0)])}var Dkt={props:{item:{required:!0}},methods:{download(t){const e=n+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const Skt=(0,m.Z)(Dkt,[["render",Ckt]]);var zkt=Skt;const Ukt={class:"tw-px-4"},qkt=["disabled"],Pkt={key:0,class:"tw-flex tw-items-center tw-gap-2"},Lkt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Not Specified",-1),Wkt=[Lkt],Akt={key:0,class:"tw-flex tw-items-center tw-gap-2"},$kt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),Ekt={key:1,class:"tw-flex tw-items-center tw-gap-2"},Tkt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),Fkt={key:2,class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-shadow tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5"},jkt={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},Ikt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},Vkt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Switch payment method ",-1),Okt={key:0,class:"tw-p-5 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5"},Hkt=["onClick"],Mkt={key:0,class:"tw-"},Rkt={class:"tw-flex tw-items-center tw-gap-3"},Nkt=(0,s._)("h1",{class:"tw-text-lg tw-font-bold"},"Bank Transfer",-1),Ykt={key:1},Zkt={class:"tw-flex tw-items-center tw-gap-3"},Kkt=(0,s._)("h1",{class:"tw-text-lg tw-font-bold"},"Binance",-1),Bkt={key:1,class:"tw-p-5 tw-text-center"},Qkt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},Jkt=["disabled"],Gkt=["disabled"],Xkt=(0,s._)("span",null,"Save",-1);var tCt={__name:"WithdrawalMethodSeller",props:["factorisation","withdrawalMethods","isWithdrawalMethodsFetched"],emits:["update"],setup(t,{emit:e}){const r=(0,ye.iH)(!1),a=(0,ye.iH)(!1),l=e,o=t,i=(0,ye.iH)(null),w=(0,ye.Vh)(o,"factorisation"),n=(0,ye.Vh)(o,"withdrawalMethods"),d=(0,ye.Vh)(o,"isWithdrawalMethodsFetched");i.value=w.value.withdrawal_method_id;const c=async()=>{w.value.withdrawal_method_id!=i.value&&(r.value=!0,await Re.updateMethod(w.value.id,i.value).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.factorisation;l("update",e),Lc("Withdrawal method has been updated"),a.value=!1}}),(t=>{Lc("NOT_ALLOWED"==t?.response?.data?.code?t?.response?.data?.message:"Something went wrong!","error")})),r.value=!1)},u=t=>{i.value=t.id};return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("router-link"),p=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",Ukt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>w.value.paid?"":a.value=!a.value),disabled:w.value.paid,class:"tw-rounded tw-flex tw-justify-between tw-items-center tw-gap-2 tw-overflow-hidden"},[w.value.withdrawal_method?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["bank_transfer"==w.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",Akt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),$kt])):(0,s.kq)("",!0),"binance"==w.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",Ekt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),Tkt])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("div",Pkt,Wkt)),w.value.paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fkt,[(0,s.Wm)(l,{icon:"uil:exchange",class:"tw-text-xl"})]))],8,qkt),(0,s.Wm)(p,{visible:a.value,closeable:!1,onCancel:e[2]||(e[2]=t=>a.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",jkt,[(0,s._)("div",Ikt,[Vkt,d.value&&n.value.length?((0,s.wg)(),(0,s.iD)("div",Okt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.value,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>u(t),key:t.id,class:(0,ot.C_)([i.value==t.id&&["!tw-border-orange-300 tw-ring tw-ring-orange-300"],"tw-border tw-flex tw-items-center tw-justify-center tw-border-solid tw-rounded tw-shadow tw-bg-white tw-p-5"])},["bank_transfer"==t.type?((0,s.wg)(),(0,s.iD)("div",Mkt,[(0,s._)("div",Rkt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-3xl tw-text-gray-600"}),Nkt])])):(0,s.kq)("",!0),"binance"==t.type?((0,s.wg)(),(0,s.iD)("div",Ykt,[(0,s._)("div",Zkt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-3xl tw-text-[#F3BA2F]"}),Kkt])])):(0,s.kq)("",!0)],10,Hkt)))),128))])):((0,s.wg)(),(0,s.iD)("div",Bkt,[(0,s._)("p",null,[(0,s.Uk)("You haven't added any withdrawal method yet. Click "),(0,s.Wm)(o,{to:{name:"settings.seller.withdrawal-methods"},class:"tw-text-orange-500 hover:tw-underline"},{default:(0,s.w5)((()=>[(0,s.Uk)("here")])),_:1}),(0,s.Uk)(" to add a withdrawal method and manage your funds")])])),(0,s._)("div",Qkt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>a.value=!1),disabled:r.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,Jkt),(0,s._)("button",{disabled:r.value,onClick:c,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Xkt],8,Gkt)])])])])),_:1},8,["visible"])])}}};const eCt=tCt;var rCt=eCt;const aCt={class:"tw-px-4 tw-mx-auto"},sCt={key:0,class:"tw-flex tw-items-center tw-gap-2"},lCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Not Specified",-1),oCt=[lCt],iCt={key:0,class:"tw-flex tw-items-center tw-gap-2"},wCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),nCt={key:1,class:"tw-flex tw-items-center tw-gap-2"},dCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),cCt={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},uCt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},pCt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Withdrawal method details ",-1),gCt={key:0,class:"tw-p-5 tw-space-y-4"},mCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Bank Name",-1),hCt=["value"],fCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Account Holder Name",-1),bCt=["value"],vCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"RIB",-1),xCt=["value"],yCt={key:1,class:"tw-p-5 tw-space-y-4"},_Ct=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Binance ID",-1),kCt=["value"],CCt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"};var DCt={__name:"WithdrawalMethodAdmin",props:["factorisation"],setup(t){const e=(0,ye.iH)(!1),r=t,a=(0,ye.Vh)(r,"factorisation");(0,s.f3)("withdrawal_methods"),(0,s.f3)("is_withdrawal_methods_fetched");return(t,r)=>{const l=(0,s.up)("icon"),o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",aCt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>e.value=!e.value),class:"tw-mx-auto tw-rounded tw-flex tw-justify-between tw-items-center tw-gap-2 tw-overflow-hidden tw-border tw-border-solid tw-p-2 tw-py-1 tw-duration-200 hover:tw-shadow-sm tw-shadow-black/10"},[a.value.withdrawal_method?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["bank_transfer"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",iCt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),wCt])):(0,s.kq)("",!0),"binance"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",nCt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),dCt])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("div",sCt,oCt))]),a.value.withdrawal_method?((0,s.wg)(),(0,s.j4)(o,{key:0,visible:e.value,closeable:!1,onCancel:r[2]||(r[2]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",cCt,[(0,s._)("div",uCt,[pCt,"bank_transfer"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",gCt,[(0,s._)("div",null,[mCt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.bank_name,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,hCt)]),(0,s._)("div",null,[fCt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.account_holder_name,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,bCt)]),(0,s._)("div",null,[vCt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.rib,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,xCt)])])):(0,s.kq)("",!0),"binance"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",yCt,[(0,s._)("div",null,[_Ct,(0,s._)("input",{value:a.value.withdrawal_method.metadata.binance_id,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,kCt)])])):(0,s.kq)("",!0),(0,s._)("div",CCt,[(0,s._)("button",{onClick:r[1]||(r[1]=t=>e.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])):(0,s.kq)("",!0)])}}};const SCt=DCt;var zCt=SCt,UCt={components:{TableActions:skt,CloseFactorisation:ukt,PaidFactorisation:xkt,PdfFactorisation:zkt,WithdrawalMethodSeller:rCt,WithdrawalMethodAdmin:zCt},props:{item:{required:!0},withdrawalMethods:{required:!0},isWithdrawalMethodsFetched:{required:!0}},data(){return{moment:De(),currency:c}},computed:{},methods:{}};const qCt=(0,m.Z)(UCt,[["render",Avt]]);var PCt=qCt,LCt={components:{TablePaginationNoNums:Kbt,TableRow:PCt},props:{items:{default:[]},withdrawalMethods:{required:!0},isWithdrawalMethodsFetched:{required:!0},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const WCt=(0,m.Z)(LCt,[["render",Wbt]]);var ACt=WCt;const $Ct={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},ECt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},TCt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),FCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),jCt=[FCt],ICt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),VCt=[ICt],OCt=["disabled"],HCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),MCt=[HCt],RCt={class:"tw-relative"},NCt=["value"],YCt=(0,s._)("option",{value:5},"5",-1),ZCt=(0,s._)("option",{value:10},"10",-1),KCt=(0,s._)("option",{value:20},"20",-1),BCt=(0,s._)("option",{value:50},"50",-1),QCt=(0,s._)("option",{value:100},"100",-1),JCt=(0,s._)("option",{value:250},"250",-1),GCt=(0,s._)("option",{value:500},"500",-1),XCt=[YCt,ZCt,KCt,BCt,QCt,JCt,GCt],tDt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),eDt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},rDt=["value"],aDt={class:"tw-overflow-hidden tw-col-span-1"},sDt=(0,s._)("div",{class:"tw-overflow-hidden tw-col-span-1"},null,-1),lDt=[sDt];function oDt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",$Ct,[(0,s._)("div",ECt,[TCt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},jCt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},VCt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},MCt,8,OCt),(0,s._)("div",RCt,[(0,s._)("select",{onChange:e[3]||(e[3]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},XCt,40,NCt),tDt])]),(0,s._)("div",eDt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,rDt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,ot.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",aDt,[(0,s.Wm)(w,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},lDt,2)):(0,s.kq)("",!0)])}const iDt={class:"tw-mb-4"},wDt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},nDt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},dDt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),cDt=(0,s._)("span",null,"Clear",-1),uDt=[dDt,cDt],pDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),gDt=(0,s._)("span",null,"Filter",-1),mDt=[pDt,gDt];function hDt(t,e,r,a,l,o){const i=(0,s.up)("SellerFilter"),w=(0,s.up)("CloseFilter"),n=(0,s.up)("PaidFilter");return(0,s.wg)(),(0,s.iD)("div",iDt,[(0,s._)("div",wDt,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,filters:r.filters,onUpdate:e[0]||(e[0]=e=>t.$emit("update",e))},null,8,["filters"])):(0,s.kq)("",!0),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",nDt,[(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},uDt),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},mDt)])])])}const fDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},bDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),vDt=["value"],xDt=(0,s._)("option",{value:"all"},"All",-1),yDt=["value"];function _Dt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",fDt,[bDt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[xDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,yDt)))),128))],40,vDt)])}var kDt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const CDt=(0,m.Z)(kDt,[["render",_Dt]]);var DDt=CDt;const SDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Close",-1),UDt=["value"],qDt=(0,s._)("option",{value:"all"},"All",-1),PDt=["value"];function LDt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",SDt,[zDt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,close:e.target.value})),value:r.filters.close,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[qDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.close,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,ot.zw)(t.title),9,PDt)))),128))],40,UDt)])}var WDt={props:{filters:{required:!0}},data(){return{close:[{id:1,title:"Close",value:1},{id:2,title:"Not Close",value:0}]}}};const ADt=(0,m.Z)(WDt,[["render",LDt]]);var $Dt=ADt;const EDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},TDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Paid",-1),FDt=["value"],jDt=(0,s._)("option",{value:"all"},"All",-1),IDt=["value"];function VDt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",EDt,[TDt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,paid:e.target.value})),value:r.filters.paid,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[jDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.paid,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,ot.zw)(t.title),9,IDt)))),128))],40,FDt)])}var ODt={props:{filters:{required:!0}},data(){return{paid:[{id:1,title:"Paid",value:1},{id:2,title:"Not Paid",value:0}]}}};const HDt=(0,m.Z)(ODt,[["render",VDt]]);var MDt=HDt,RDt={components:{SellerFilter:DDt,CloseFilter:$Dt,PaidFilter:MDt},props:{filters:{required:!0,default:{}}},data(){return{}}};const NDt=(0,m.Z)(RDt,[["render",hDt]]);var YDt=NDt,ZDt={components:{FiltersWrapper:YDt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value),console.log(t.target.value)}},data(){return{showFilters:!1,showStatistics:!1}}};const KDt=(0,m.Z)(ZDt,[["render",oDt]]);var BDt=KDt;class QDt{async all(){return await E.getCookie(),A.get("api/withdrawal-methods")}async update(t,e){return await E.getCookie(),A.post("api/withdrawal-methods/"+t,e)}async setup(t){return await E.getCookie(),A.post("api/withdrawal-methods/setup",t)}}var JDt=new QDt,GDt={components:{IndexTable:ACt,IndexFilters:BDt},data(){return{fetching:!0,create_popup:!1,items:[],withdrawal_methods:[],is_withdrawal_methods_fetched:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{user_id:"all",close:"all",paid:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Re.paginate(t,e).then((({data:t})=>{const e=t.data.factorisation;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={user_id:"all",close:"all",paid:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=mo(t.first_page_url),this.lase_page_url=mo(t.last_page_url),this.next_page_url=mo(t.next_page_url),this.prev_page_url=mo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){t&&(this.items=this.items.map((e=>e.id==t.id?t:e))),console.log("Item: ",t)},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},async getWithdrawalMethods(){return this.is_withdrawal_methods_fetched=!1,await JDt.all().then((t=>{"SUCCESS"==t.data.code&&(this.withdrawal_methods=t.data.withdrawal_methods,this.is_withdrawal_methods_fetched=!0,console.log(this.withdrawal_methods))}),(t=>{console.log(t)}))}},computed:{user(){return this.$store.getters["user/user"]}},provide(){return{withdrawal_methods:this.withdrawal_methods,is_withdrawal_methods_fetched:this.is_withdrawal_methods_fetched}},mounted(){this.paginateOrders(),"seller"==this.user.role&&this.getWithdrawalMethods()}};const XDt=(0,m.Z)(GDt,[["render",tbt]]);var tSt=XDt,eSt={name:"factorisations",path:"/factorisations",component:za,meta:{module:"factorisation"},children:[{name:"factorisation/list",path:"",component:Yft,meta:{module:"factorisation",subModule:"factorisation/list",title:"Factorisations List",gate:"show_all_factorisations"}},{name:"factorisation/list",path:"",component:tSt,meta:{module:"factorisation",subModule:"factorisation/list",title:"New Factorisations List",gate:"show_all_factorisations"}}]};const rSt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},aSt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Google Sheets"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your google sheets")],-1),sSt=(0,s._)("span",{class:"text-white"}," Add Sheet ",-1),lSt={key:0},oSt={key:1,class:"py-5 px-5 tw-mb-5 tw-border bg-white tw-w-full tw-rounded-md"},iSt={class:"tw-flex tw-items-center tw-gap-2"},wSt=(0,s._)("h1",null,"Application's email",-1),nSt={class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-py-2 tw-px-2 tw-text-sm tw-mt-2 tw-text-gray-700"},dSt=(0,s._)("p",{class:"tw-mt-1 tw-text-xs tw-text-gray-400"}," Use this email to give access to Google Sheets ",-1),cSt={key:2,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},uSt={class:"mb-5 tw-flex"},pSt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},gSt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},mSt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},hSt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),fSt={class:"tw-relative"},bSt={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},vSt={class:""};function xSt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("SheetsTable"),c=(0,s.up)("AddSheet");return(0,s.wg)(),(0,s.iD)("div",{key:i.sheets.length},[(0,s._)("div",rSt,[aSt,(0,s._)("div",null,[t.$can("create_sheet")?((0,s.wg)(),(0,s.j4)(it.T,{key:0,color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),sSt])),_:1})):(0,s.kq)("",!0)])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",lSt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",oSt,[(0,s._)("div",iSt,[wSt,(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.copy&&i.copy(...t)),class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-w-[30px] tw-h-[30px] tw-text-gray-500 hover:tw-text-gray-700 tw-duration-300 tw-border-solid hover:tw-border-gray-400"},[(0,s.Wm)(nt.t,{class:"tw-text-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-content-copy")])),_:1})])]),(0,s._)("div",nSt,(0,ot.zw)(o.email),1),dSt])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",cSt,[(0,s._)("div",uSt,[(0,s.Wm)(it.T,{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",pSt,[(0,s.Wm)(se.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,ot.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",gSt,[(0,s._)("div",mSt,[hSt,(0,s._)("div",fSt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",bSt,[(0,s.Wm)(n,{filters:o.filters,onUpdate:i.updateFilters},null,8,["filters","onUpdate"])])):(0,s.kq)("",!0),(0,s._)("div",vSt,[(0,s.Wm)(d,{sheets:i.sheets},null,8,["sheets"])]),(0,s.Wm)(c,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const ySt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},_St={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},kSt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},CSt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),DSt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},SSt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},zSt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},USt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),qSt=["value"],PSt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},LSt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},WSt={class:"tw-text-white"};function ASt(t,e,r,l,o,i){const w=(0,s.up)("SheetRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ySt,[(0,s._)("table",_St,[(0,s._)("thead",kSt,[(0,s._)("tr",null,[CSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",DSt,(0,ot.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sheets,(t=>((0,s.wg)(),(0,s.j4)(w,{sheet:t,key:t.id},null,8,["sheet"])))),128))])])]),(0,s._)("div",SSt,[(0,s._)("div",zSt,[USt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,ot.zw)(t),9,qSt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",PSt,[(0,s._)("div",LSt,(0,ot.zw)(i.prevRange+1)+" - "+(0,ot.zw)(o.currentPage==i.pageCount?r.sheets.length:i.nextRange)+" of "+(0,ot.zw)(r.sheets.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(it.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",WSt,(0,ot.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const $St={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},ESt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),TSt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},FSt={class:"tw-px-6 tw-py-4"},jSt={class:"tw-px-6 tw-py-4"},ISt={class:"tw-px-6 tw-py-4"},VSt={class:"tw-px-6 tw-py-4"},OSt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},HSt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},MSt=["disabled"],RSt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),NSt={class:"tw-px-6 tw-py-4"},YSt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function ZSt(t,e,r,l,o,i){const w=(0,s.up)("SheetActions");return(0,s.wg)(),(0,s.iD)("tr",$St,[ESt,(0,s._)("th",TSt,(0,ot.zw)(r.sheet.id),1),(0,s._)("td",FSt,[(0,s._)("div",null,[(0,s._)("span",{class:(0,ot.C_)(["tw-inline-block tw-w-[8px] tw-h-[8px] tw-rounded-full tw-mr-1",[1==r.sheet.active&&1==r.sheet.auto_fetch?"tw-bg-emerald-500":"tw-bg-red-500"]])},null,2),(0,s.Uk)(" "+(0,ot.zw)(r.sheet.name),1)])]),(0,s._)("td",jSt,[(0,s._)("div",null,(0,ot.zw)(r.sheet.username),1)]),(0,s._)("td",ISt,[(0,s._)("div",null,(0,ot.zw)(r.sheet.sheet_name),1)]),(0,s._)("td",VSt,[(0,s._)("div",OSt,[(0,s._)("label",HSt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>i.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,MSt),[[a.e8,i.autoFetch]]),RSt]),o.isLoadingAuto?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",NSt,(0,ot.zw)(r.sheet.created_at.split("T")[0]),1),(0,s._)("td",YSt,[(0,s.Wm)(w,{sheet:r.sheet},null,8,["sheet"])])])}const KSt={key:0};function BSt(t,e,r,a,l,o){const i=(0,s.up)("UpdateSheet"),w=(0,s.up)("SheetOrders"),n=(0,s.up)("popup");return r.sheet?((0,s.wg)(),(0,s.iD)("div",KSt,[t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(it.T,{key:0,onClick:o.sync,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{class:(0,ot.C_)([l.isLoadingSheet&&"tw-animate-spin"]),color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1},8,["class"])])),_:1},8,["onClick"])):(0,s.kq)("",!0),t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(it.T,{key:1,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_sheet")?((0,s.wg)(),(0,s.j4)(it.T,{key:2,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{visible:l.showUpdatePopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showUpdatePopup=t),sheet:r.sheet,onCancel:e[3]||(e[3]=t=>l.showUpdatePopup=!1)},null,8,["visible","sheet"]),(0,s.Wm)(w,{visible:l.showSheetPopup,"onUpdate:visible":e[4]||(e[4]=t=>l.showSheetPopup=t),sheet:r.sheet,orders:l.orders,onCancel:e[5]||(e[5]=t=>l.showSheetPopup=!1)},null,8,["visible","sheet","orders"]),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this sale?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleDelete},null,8,["loading","visible","onResolved"])])):(0,s.kq)("",!0)}const QSt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},JSt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),GSt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},XSt={class:"md:tw-col-span-6 tw-col-span-12"},tzt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),ezt={class:"md:tw-col-span-6 tw-col-span-12"},rzt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),azt={class:"md:tw-col-span-12 tw-col-span-12"},szt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),lzt={class:"md:tw-col-span-6 tw-col-span-12"},ozt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),izt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},wzt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),nzt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},dzt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),czt=(0,s._)("span",{class:"text-white"}," Save ",-1);function uzt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",QSt,[JSt,(0,s._)("div",GSt,[(0,s._)("div",XSt,[tzt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.newSheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.name]])]),(0,s._)("div",ezt,[rzt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.newSheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_name]])]),(0,s._)("div",azt,[szt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.newSheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_id]])]),(0,s._)("div",lzt,[ozt,(0,s._)("label",izt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.newSheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.newSheet.auto_fetch]]),wzt])])]),(0,s._)("div",nzt,[(0,s.Wm)(it.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[dzt])),_:1}),(0,s.Wm)(it.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[czt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}class pzt{async all(t){return await E.getCookie(),A.get("api/sheets",{params:t})}async create(t){await E.getCookie();const e={name:t.name,sheet_id:t.sheet_id,sheet_name:t.sheet_name,auto_fetch:t.auto_fetch};return A.post("api/sheets",e)}async update(t,e){await E.getCookie();const r={name:e.name,sheet_id:e.sheet_id,sheet_name:e.sheet_name,auto_fetch:e.auto_fetch};return A.post("api/sheets/"+t,r)}async delete(t){return await E.getCookie(),A["delete"]("api/sheets/"+t)}async updateAutoFetch(t,e){return await E.getCookie(),A.post("api/sheets/"+t+"/auto-fetch",{autoFetch:e})}async sync(t){return await E.getCookie(),A.get("api/sync/"+t)}async sync_all(){return await E.getCookie(),A.get("api/sync")}async auto(){return await E.getCookie(),A.post("api/sync")}async saveOrders(t){return await E.getCookie(),A.get("api/sync/"+t+"/save")}}var gzt=new pzt,mzt={props:["visible","sheet"],data(){return{isLoading:!1,newSheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},watch:{visible(t){t&&(this.newSheet={...this.sheet,auto_fetch:1==this.sheet.auto_fetch})}},computed:{isFormValid(){return!!this.newSheet.name&&!!this.newSheet.sheet_id&&!!this.newSheet.sheet_name}},methods:{update(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.newSheet;gzt.update(this.sheet.id,t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet updated successfully"}),this.$store.dispatch("sheet/update",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const hzt=(0,m.Z)(mzt,[["render",uzt]]);var fzt=hzt;const bzt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},vzt={key:0},xzt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},yzt=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-neutral-700"},"Sheet's New Orders",-1),_zt={class:"tw-bg-emerald-500 tw-text-white tw-px-1 tw-text-sm tw-rounded"},kzt={class:"tw-relative tw-overflow-x-auto"},Czt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-border tw-rounded"},Dzt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50 tw-rounded-t tw-overflow-hidden"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Fullname"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"SKU"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Qty"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Price")])],-1),Szt={class:"tw-px-6 tw-py-2"},zzt={class:"tw-px-6 tw-py-2"},Uzt={class:"tw-px-6 tw-py-2"},qzt={class:"tw-px-6 tw-py-2"},Pzt={class:"tw-px-6 tw-py-2"},Lzt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},Wzt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Azt=(0,s._)("span",{class:"text-white"}," Save Orders",-1);function $zt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[1]||(e[1]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",bzt,[r.orders.length>0?((0,s.wg)(),(0,s.iD)("div",vzt,[(0,s._)("div",xzt,[yzt,(0,s._)("div",_zt,(0,ot.zw)(r.orders.length),1)]),(0,s._)("div",null,[(0,s._)("div",kzt,[(0,s._)("table",Czt,[Dzt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b"},[(0,s._)("td",Szt,(0,ot.zw)(t["Full name"]),1),(0,s._)("td",zzt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Product name"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},"- "+(0,ot.zw)(t),1)))),128))])]),(0,s._)("td",Uzt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["SKU"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,ot.zw)(t),1)))),128))])]),(0,s._)("td",qzt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Total quantity"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,ot.zw)(t),1)))),128))])]),(0,s._)("td",Pzt,(0,ot.zw)(t["Total charge"]),1)])))),128))])])])]),(0,s._)("div",Lzt,[(0,s.Wm)(it.T,{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Wzt])),_:1}),(0,s.Wm)(it.T,{loading:l.isLoading,onClick:o.save,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Azt])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])])}var Ezt={props:["visible","sheet","orders"],data(){return{isLoading:!1}},computed:{sales(){return this.$store.getters["sale/sales"]}},methods:{save(){this.isLoading=!0,gzt.saveOrders(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:t.data.data.orders.length+" Order has been added",type:"success"}),this.$store.dispatch("sale/setSales",[...t.data.data.orders,...this.sales]),this.$emit("cancel"))}),(t=>{this.$handleApiError(t),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this sheet",type:"warning"})})).finally((()=>{this.isLoading=!1}))}}};const Tzt=(0,m.Z)(Ezt,[["render",$zt]]);var Fzt=Tzt,jzt={props:["sheet"],name:"sheetActions",components:{UpdateSheet:fzt,SheetOrders:Fzt},data(){return{showPopup:!1,showUpdatePopup:!1,showSheetPopup:!1,isLoading:!1,isLoadingSheet:!1,orders:[]}},computed:{},methods:{handleDelete(t){if(console.log(t),!t)return this.showPopup=!1,!1;this.delete()},delete(){this.isLoading=!0,gzt["delete"](this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:"Deleted successfully",type:"success"}),this.$store.dispatch("sheet/delete",this.sheet.id),this.showPopup=!1)}),this.$handleApiError).finally((()=>{this.isLoading=!1}))},sync(){this.isLoadingSheet=!0,gzt.sync(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(0==t.data.data.orders.length?this.$alert({title:"0 Orders found",type:"info"}):(this.orders=t.data.data.orders,this.showSheetPopup=!0),console.log(t.data.data.sheet),this.$store.dispatch("sheet/update",t.data.data.sheet)),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log(t),this.$store.dispatch("sheet/update",t.response.data.data.sheet),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this Google Sheet",type:"error"})})).finally((()=>{this.isLoadingSheet=!1}))}},mounted(){}};const Izt=(0,m.Z)(jzt,[["render",BSt]]);var Vzt=Izt,Ozt={props:["sheet"],components:{SheetActions:Vzt},data(){return{isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.sheet.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,gzt.updateAutoFetch(this.sheet.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("sheet/update",e.data.data.sheet))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const Hzt=(0,m.Z)(Ozt,[["render",ZSt]]);var Mzt=Hzt,Rzt={props:["sheets"],components:{SheetRow:Mzt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,columns:["id","name","username","sheet name","auto fetch","created","actions"]}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sheets.length/this.paginationLimit)},items(){return this.sheets.slice(this.prevRange,this.nextRange)}},methods:{}};const Nzt=(0,m.Z)(Rzt,[["render",ASt]]);var Yzt=Nzt;const Zzt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Kzt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),Bzt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Qzt={class:"md:tw-col-span-6 tw-col-span-12"},Jzt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),Gzt={class:"md:tw-col-span-6 tw-col-span-12"},Xzt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),tUt={class:"md:tw-col-span-12 tw-col-span-12"},eUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),rUt={class:"md:tw-col-span-6 tw-col-span-12"},aUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),sUt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},lUt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),oUt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},iUt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),wUt=(0,s._)("span",{class:"text-white"}," Save ",-1);function nUt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Zzt,[Kzt,(0,s._)("div",Bzt,[(0,s._)("div",Qzt,[Jzt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.name]])]),(0,s._)("div",Gzt,[Xzt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_name]])]),(0,s._)("div",tUt,[eUt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.sheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_id]])]),(0,s._)("div",rUt,[aUt,(0,s._)("label",sUt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.sheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sheet.auto_fetch]]),lUt])])]),(0,s._)("div",oUt,[(0,s.Wm)(it.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[iUt])),_:1}),(0,s.Wm)(it.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[wUt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var dUt={props:["visible"],data(){return{isLoading:!1,sheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},computed:{isFormValid(){return!!this.sheet.name&&!!this.sheet.sheet_id&&!!this.sheet.sheet_name}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.sheet;gzt.create(t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet created successfully"}),this.$store.dispatch("sheet/addSheet",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const cUt=(0,m.Z)(dUt,[["render",nUt]]);var uUt=cUt;const pUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gUt=(0,s._)("label",{for:"seller",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),mUt=["value"],hUt=(0,s._)("option",{value:"all"},"All",-1),fUt=["value"];function bUt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",pUt,[gUt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[hUt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,fUt)))),128))],40,mUt)])}var vUt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const xUt=(0,m.Z)(vUt,[["render",bUt]]);var yUt=xUt,_Ut={components:{SheetsTable:Yzt,AddSheet:uUt,SellerFilter:yUt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,email:"new-service-account@testing-379416.iam.gserviceaccount.com",filters:{user_id:"all"}}},computed:{sheets(){return this.$store.getters["sheet/sheets"]},user(){return this.$store.getters["user/user"]}},methods:{updateFilters(t){this.filters=t,this.getSheets()},getSheets(){return this.isLoaded=!1,gzt.all(this.filters).then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("sheet/setSheets",t.data.data.sheets),t)),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},copy(){navigator.clipboard.writeText(this.email),this.$alert({title:"Email Copied !",type:"success"})}},mounted(){this.getSheets()}};const kUt=(0,m.Z)(_Ut,[["render",xSt]]);var CUt=kUt,DUt={name:"sheets",path:"/sheets",component:za,meta:{module:"sheet"},children:[{name:"sheet/list",path:"",component:CUt,meta:{module:"sheet",subModule:"sheet/list",title:"Google Sheets List",gate:"show_all_sheets"}}]};const SUt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},zUt={class:"tw-px-3"},UUt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},qUt={class:"tw-flex tw-items-center tw-gap-x-3"},PUt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),LUt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},WUt=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),AUt=[WUt],$Ut={key:0};function EUt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",SUt,[(0,s._)("section",zUt,[(0,s._)("div",UUt,[(0,s._)("div",null,[(0,s._)("div",qUt,[PUt,(0,s._)("span",LUt,(0,ot.zw)(l.totalOrders)+" order",1)])]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},AUt)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",$Ut,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class TUt{async create(t){return await E.getCookie(),A.post("api/ads/new",t)}async update(t,e){return await E.getCookie(),A.post("api/ads/update/"+t,e)}async delete(t){return await E.getCookie(),A["delete"]("api/ads/delete/"+t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/ads"+t,e)}}var FUt=new TUt;const jUt={class:"tw-flex tw-flex-col"},IUt={class:"tw-overflow-x-auto"},VUt={class:"tw-inline-block tw-min-w-full tw-align-middle"},OUt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},HUt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},MUt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},RUt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),NUt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},YUt=(0,s._)("span",null,"Created",-1),ZUt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),KUt=[YUt,ZUt],BUt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},QUt=(0,s._)("span",null,"Ads For",-1),JUt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),GUt=[QUt,JUt],XUt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Marketer ",-1),tqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),eqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),rqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Leads ",-1),aqt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),sqt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),lqt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},oqt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},iqt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),wqt=[iqt],nqt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},dqt={colspan:"8"},cqt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},uqt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),pqt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),gqt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),mqt=[pqt,gqt],hqt={class:"tw-mt-6"};function fqt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jUt,[(0,s._)("div",IUt,[(0,s._)("div",VUt,[(0,s._)("div",OUt,[(0,s._)("table",HUt,[(0,s._)("thead",MUt,[(0,s._)("tr",null,[RUt,(0,s._)("th",NUt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},KUt)]),(0,s._)("th",BUt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},GUt)]),XUt,tqt,eqt,rqt,aqt,sqt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",lqt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",oqt,wqt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",nqt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",dqt,[(0,s._)("div",cqt,[uqt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},mqt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",hqt,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const bqt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},vqt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},xqt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},yqt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},_qt=["disabled"],kqt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Cqt=(0,s._)("span",null," previous ",-1),Dqt=[kqt,Cqt],Sqt=["disabled"],zqt=(0,s._)("span",null," Next ",-1),Uqt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),qqt=[zqt,Uqt];function Pqt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",bqt,[(0,s._)("div",vqt,[(0,s.Uk)(" Page "),(0,s._)("span",xqt,(0,ot.zw)(r.currentPage)+" of "+(0,ot.zw)(r.lastPage),1)]),(0,s._)("div",yqt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,ot.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Dqt,10,_qt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,ot.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},qqt,10,Sqt)])])])}var Lqt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Wqt=(0,m.Z)(Lqt,[["render",Pqt]]);var Aqt=Wqt;const $qt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Eqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Tqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Fqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},jqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Iqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Vqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Oqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Hqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Mqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Rqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Nqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Yqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Zqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Kqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Bqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Qqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function Jqt(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",$qt,[(0,s._)("div",null,[(0,s._)("h2",Eqt,(0,ot.zw)(r.item.id),1)])]),(0,s._)("td",Tqt,[(0,s._)("div",null,[(0,s._)("h2",Fqt,[(0,s._)("p",null,(0,ot.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",jqt,[(0,s._)("div",null,[(0,s._)("h2",Iqt,[(0,s._)("p",null,(0,ot.zw)(l.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Vqt,[(0,s._)("div",null,[(0,s._)("h2",Oqt,(0,ot.zw)(r.item.marketers.firstname)+" "+(0,ot.zw)(r.item.marketers.lastname),1)])]),(0,s._)("td",Hqt,[(0,s._)("div",null,[(0,s._)("h2",Mqt,(0,ot.zw)(r.item.source),1)])]),(0,s._)("td",Rqt,[(0,s._)("div",null,[(0,s._)("h2",Nqt,(0,ot.zw)(r.item.amount),1)])]),(0,s._)("td",Yqt,[(0,s._)("div",null,[(0,s._)("h2",Zqt,(0,ot.zw)(r.item.leads),1)])]),(0,s._)("td",Kqt,[(0,s._)("div",null,[(0,s._)("h2",Bqt,(0,ot.zw)(r.item.products.name),1)])]),(0,s._)("td",Qqt,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const Gqt={class:"tw-h-full"},Xqt={class:"tw-flex tw-items-center tw-gap-2"},tPt={key:0};function ePt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",Gqt,[(0,s._)("div",Xqt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",tPt,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const rPt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},aPt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),sPt={class:"tw-bg-white tw-p-4"},lPt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},oPt={class:"tw-col-span-2 md:tw-col-span-1"},iPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),wPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},nPt={class:"tw-col-span-2 md:tw-col-span-1"},dPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),cPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},uPt={class:"tw-col-span-2 md:tw-col-span-1"},pPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),gPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mPt={class:"tw-col-span-2 md:tw-col-span-1"},hPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),fPt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),bPt=["value"],vPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xPt={class:"tw-col-span-2 md:tw-col-span-1"},yPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),_Pt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),kPt=["value"],CPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DPt={class:"md:tw-col-span-1 tw-col-span-2"},SPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),zPt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},UPt={class:"tw-col-span-2"},qPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),PPt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},LPt=["disabled"],WPt=(0,s._)("span",null,"Update",-1);function APt(t,e,r,l,o,i){const w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",rPt,[aPt,(0,s._)("div",sPt,[(0,s._)("div",lPt,[(0,s._)("div",oPt,[iPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.source=t),onInput:e[1]||(e[1]=t=>o.errors.source=null),type:"text",class:(0,ot.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",wPt,(0,ot.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",nPt,[dPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,ot.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",cPt,(0,ot.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",uPt,[pPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,ot.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",gPt,(0,ot.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",mPt,[hPt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>o.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>o.items.product_id=t),class:(0,ot.C_)([[o.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[fPt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.name),9,bPt)))),128))],34),[[a.bM,o.items.product_id]]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",vPt,(0,ot.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",xPt,[yPt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.marketer_id=t),class:(0,ot.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[_Pt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,kPt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",CPt,(0,ot.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",DPt,[SPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.items.ads_at=t),onInput:e[11]||(e[11]=t=>o.errors.ads_at=null),class:(0,ot.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",zPt,(0,ot.zw)(o.errors.ads_at),1)]),(0,s._)("div",UPt,[qPt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",PPt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),WPt],8,LPt)])])])),_:1},8,["visible","onCancel"])])}const $Pt=(t,e)=>e.source?!e.product_id||parseInt(e.product_id)<=0?(t.errors.product_id="Product is required",!1):!e.amount||parseInt(e.amount)<=0?(t.errors.amount="Amount is required",!1):!!e.ads_at||(t.errors.ads_at="Add Ads Date !",!1):(t.errors.source="Source Name is required",!1),EPt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},TPt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},FPt=(t,e)=>{t.isLoading=!0,t.errors={},FUt.update(e.id,e).then((e=>EPt(t,e.data))).catch((e=>TPt(t,e.response.data))).finally((()=>t.isLoading=!1))};var jPt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,source:null,amount:null,ads_at:null}}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=$Pt(this,this.items);if(!t)return!1;FPt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ga.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts(),this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const IPt=(0,m.Z)(jPt,[["render",APt]]);var VPt=IPt,OPt={components:{UpdatePopup:VPt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const HPt=(0,m.Z)(OPt,[["render",ePt]]);var MPt=HPt,RPt={components:{TableActions:MPt},props:{item:{required:!0}},data(){return{moment:De()}},computed:{},methods:{}};const NPt=(0,m.Z)(RPt,[["render",Jqt]]);var YPt=NPt,ZPt={components:{TablePaginationNoNums:Aqt,TableRow:YPt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const KPt=(0,m.Z)(ZPt,[["render",fqt]]);var BPt=KPt;const QPt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},JPt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},GPt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),XPt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),tLt=[XPt],eLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),rLt=[eLt],aLt=["disabled"],sLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),lLt=[sLt],oLt={class:"tw-relative"},iLt=["value"],wLt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),nLt=[wLt],dLt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),cLt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},uLt=["value"],pLt={class:"tw-overflow-hidden tw-col-span-1"},gLt={class:"tw-overflow-hidden tw-col-span-1"};function mLt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",QPt,[(0,s._)("div",JPt,[GPt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},tLt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},rLt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},lLt,8,aLt),(0,s._)("div",oLt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},nLt,40,iLt),dLt])]),(0,s._)("div",cLt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,uLt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,ot.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",pLt,[(0,s.Wm)(w,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",gLt,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const hLt={class:"tw-mb-4"},fLt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},bLt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},vLt={class:"tw-flex tw-items-center tw-justify-between"},xLt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},yLt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function _Lt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",hLt,[(0,s._)("div",fLt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",bLt,[(0,s._)("p",{class:(0,ot.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,ot.zw)(t.name),3),(0,s._)("div",vLt,[(0,s._)("span",xLt,(0,ot.zw)(t.total),1),(0,s._)("span",yLt,(0,ot.zw)(t.percent)+"%",1)])])])))),128))])])}var kLt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return En.find((e=>e.value==t))}}};const CLt=(0,m.Z)(kLt,[["render",_Lt]]);var DLt=CLt;const SLt={class:"tw-mb-4"},zLt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},ULt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},qLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),PLt=["value"],LLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},WLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),ALt=["value"],$Lt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ELt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads From",-1),TLt=["value"],FLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},jLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads To",-1),ILt=["value"],VLt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},OLt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),HLt=(0,s._)("span",null,"Clear",-1),MLt=[OLt,HLt],RLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),NLt=(0,s._)("span",null,"Filter",-1),YLt=[RLt,NLt];function ZLt(t,e,r,a,l,o){const i=(0,s.up)("MarketerFilter"),w=(0,s.up)("ProductFilter"),n=(0,s.up)("SourceFilter");return(0,s.wg)(),(0,s.iD)("div",SLt,[(0,s._)("div",zLt,[(0,s._)("div",ULt,[qLt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,PLt)]),(0,s._)("div",LLt,[WLt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,ALt)]),(0,s._)("div",$Lt,[ELt,(0,s._)("input",{value:r.filters.ads_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,ads_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,TLt)]),(0,s._)("div",FLt,[jLt,(0,s._)("input",{value:r.filters.ads_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,ads_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,ILt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",VLt,[(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},MLt),(0,s._)("button",{onClick:e[8]||(e[8]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},YLt)])])])}const KLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},BLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),QLt=["value"],JLt=(0,s._)("option",{value:"all"},"All",-1),GLt=["value"];function XLt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",KLt,[BLt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[JLt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,GLt)))),128))],40,QLt)])}var tWt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const eWt=(0,m.Z)(tWt,[["render",XLt]]);var rWt=eWt;const aWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function lWt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",aWt,[sWt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var oWt={components:{"vue-select":VY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ga.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const iWt=(0,m.Z)(oWt,[["render",lWt]]);var wWt=iWt;const nWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Source",-1),cWt=["value"],uWt=(0,s._)("option",{value:"all"},"All",-1),pWt=["value"];function gWt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",nWt,[dWt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,source:e.target.value})),value:r.filters.source,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[uWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t,class:"tw-capitalize"},(0,ot.zw)(t),9,pWt)))),128))],40,cWt)])}var mWt={props:{filters:{required:!0}},data(){return{sources:["facebook","instagram","tiktok"]}}};const hWt=(0,m.Z)(mWt,[["render",gWt]]);var fWt=hWt,bWt={components:{MarketerFilter:rWt,ProductFilter:wWt,SourceFilter:fWt},props:{filters:{required:!0,default:{}}},data(){return{}}};const vWt=(0,m.Z)(bWt,[["render",ZLt]]);var xWt=vWt,yWt={components:{IndexStatistics:DLt,FiltersWrapper:xWt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const _Wt=(0,m.Z)(yWt,[["render",mLt]]);var kWt=_Wt;const CWt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},DWt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),SWt={class:"tw-bg-white tw-p-4"},zWt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},UWt={class:"tw-col-span-2 md:tw-col-span-1"},qWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),PWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},LWt={class:"tw-col-span-2 md:tw-col-span-1"},WWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),AWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$Wt={class:"tw-col-span-2 md:tw-col-span-1"},EWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),TWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},FWt={class:"tw-col-span-2 md:tw-col-span-1"},jWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),IWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},VWt={class:"tw-col-span-2 md:tw-col-span-1"},OWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),HWt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),MWt=["value"],RWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},NWt={class:"md:tw-col-span-1 tw-col-span-2"},YWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),ZWt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},KWt={class:"tw-col-span-2"},BWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),QWt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},JWt=["disabled"],GWt=(0,s._)("span",null,"Create",-1);function XWt(t,e,r,l,o,i){const w=(0,s.up)("vue-select"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",CWt,[DWt,(0,s._)("div",SWt,[(0,s._)("div",zWt,[(0,s._)("div",UWt,[qWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.source=t),onInput:e[1]||(e[1]=t=>o.errors.source=null),type:"text",class:(0,ot.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",PWt,(0,ot.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",LWt,[WWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,ot.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",AWt,(0,ot.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",$Wt,[EWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,ot.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",TWt,(0,ot.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",FWt,[jWt,(0,s.Wm)(w,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[6]||(e[6]=t=>{o.items.product_id=t.id,o.errors.product_id=null}),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"Choose Product","v-model":i.product,options:i.allProducts,label:"name"},null,8,["reduce","v-model","options"]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",IWt,(0,ot.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",VWt,[OWt,(0,s.wy)((0,s._)("select",{onChange:e[7]||(e[7]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[8]||(e[8]=t=>o.items.marketer_id=t),class:(0,ot.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[HWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,MWt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",RWt,(0,ot.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",NWt,[YWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.ads_at=t),onInput:e[10]||(e[10]=t=>o.errors.ads_at=null),class:(0,ot.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",ZWt,(0,ot.zw)(o.errors.ads_at),1)]),(0,s._)("div",KWt,[BWt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.items.note=t),onInput:e[12]||(e[12]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",QWt,[(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),GWt],8,JWt)])])])),_:1},8,["visible","onCancel"])])}const tAt=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},eAt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},rAt=(t,e)=>{t.isLoading=!0,t.errors={},FUt.create(e).then((e=>tAt(t,e.data))).catch((e=>eAt(t,e.response.data))).finally((()=>t.isLoading=!1))};var aAt={components:{"vue-select":VY.Z},props:{visible:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,marketer_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,marketer_id:null,source:null,leads:null,amount:null,ads_at:null}}},computed:{cities(){return this.$store.getters["city/cities"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]},product(){return this.$store.getters["product/products"]},allProducts(){return[...this.product]}},methods:{Test(){console.log("check")},handleCreate(){const t=$Pt(this,this.items);if(!t)return!1;rAt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ga.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){console.log(this.marketers),this.getProducts()}};const sAt=(0,m.Z)(aAt,[["render",XWt]]);var lAt=sAt,oAt={components:{IndexTable:BPt,IndexFilters:kWt,CreatePopup:lAt},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,FUt.paginate(t,e).then((({data:t})=>{const e=t.data.ads;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=mo(t.first_page_url),this.lase_page_url=mo(t.last_page_url),this.next_page_url=mo(t.next_page_url),this.prev_page_url=mo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const iAt=(0,m.Z)(oAt,[["render",EUt]]);var wAt=iAt,nAt={name:"ads",path:"/ads",component:za,meta:{module:"ads"},children:[{name:"ads/list",path:"",component:wAt,meta:{module:"ads",subModule:"ads/list",title:"Ads List",gate:"show_all_ads"}}]};const dAt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},cAt={class:"tw-px-3"},uAt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},pAt={class:"tw-flex tw-items-center tw-gap-x-3"},gAt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),mAt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},hAt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"These orders have needs to reconfirmed.",-1),fAt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"};function bAt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=((0,s.up)("BulkActions"),(0,s.up)("IndexTable"));return(0,s.wg)(),(0,s.iD)("div",dAt,[(0,s._)("section",cAt,[(0,s._)("div",uAt,[(0,s._)("div",null,[(0,s._)("div",pAt,[gAt,(0,s._)("span",mAt,(0,ot.zw)(l.totalOrders)+" order",1)]),hAt]),(0,s._)("div",fAt,[(0,s.kq)("",!0)])]),(0,s.Wm)(i,{"search-by-field":l.searchByField,"onUpdate:searchByField":e[0]||(e[0]=t=>l.searchByField=t),search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":"","per-page":l.per_page},null,8,["search-by-field","search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,ot.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s.kq)("",!0)],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}class vAt{async statistics(t){return await E.getCookie(),A.post("api/v1/seller/statistics",t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/seller/orders"+t,e)}async update(t,e){return await E.getCookie(),A.post("api/v1/seller/orders/"+t+"/update",e)}async export(t={}){return await E.getCookie(),A.post("api/v1/seller/orders/export",t)}}var xAt=new vAt;const yAt={class:"tw-flex tw-flex-col"},_At={class:"tw-overflow-x-auto"},kAt={class:"tw-inline-block tw-min-w-full tw-align-middle"},CAt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},DAt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},SAt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},zAt={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},UAt={class:"tw-max-w-[25px]"},qAt={class:"tw-inline-flex tw-items-center"},PAt={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},LAt=["checked"],WAt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),AAt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),$At={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},EAt=(0,s._)("span",null,"Created",-1),TAt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),FAt=[EAt,TAt],jAt=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),IAt=(0,s._)("th",{scope:"col",class:"tw-px-6 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),VAt=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),OAt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),HAt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),MAt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),RAt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},NAt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},YAt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),ZAt=[YAt],KAt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},BAt={colspan:"9"},QAt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},JAt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),GAt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),XAt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),t$t=[GAt,XAt],e$t={class:"tw-mt-6"};function r$t(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",yAt,[(0,s._)("div",_At,[(0,s._)("div",kAt,[(0,s._)("div",CAt,[(0,s._)("table",DAt,[(0,s._)("thead",SAt,[(0,s._)("tr",null,[(0,s._)("th",zAt,[(0,s._)("div",UAt,[(0,s._)("div",qAt,[(0,s._)("label",PAt,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,LAt),WAt])])])]),AAt,(0,s._)("th",$At,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},FAt)]),jAt,IAt,VAt,OAt,HAt,MAt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",RAt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["selected","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",NAt,ZAt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",KAt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",BAt,[(0,s._)("div",QAt,[JAt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},t$t)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",e$t,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const a$t={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},s$t={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},l$t={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},o$t={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},i$t=["disabled"],w$t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),n$t=(0,s._)("span",null," previous ",-1),d$t=[w$t,n$t],c$t=["disabled"],u$t=(0,s._)("span",null," Next ",-1),p$t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),g$t=[u$t,p$t];function m$t(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",a$t,[(0,s._)("div",s$t,[(0,s.Uk)(" Page "),(0,s._)("span",l$t,(0,ot.zw)(r.currentPage)+" of "+(0,ot.zw)(r.lastPage),1)]),(0,s._)("div",o$t,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,ot.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},d$t,10,i$t),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,ot.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},g$t,10,c$t)])])])}var h$t={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const f$t=(0,m.Z)(h$t,[["render",m$t]]);var b$t=f$t;const v$t={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},x$t={class:"tw-max-w-[25px]"},y$t={class:"tw-inline-flex tw-items-center"},_$t={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},k$t=["checked","id"],C$t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),D$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},S$t={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},z$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},U$t={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},q$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},P$t={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},L$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},W$t={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},A$t={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$$t={class:"tw-space-y-1"},E$t={class:"tw-font-bold tw-text-green-500"},T$t={class:"tw-block tw-max-w-[150px] tw-truncate"},F$t={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},j$t={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},I$t={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},V$t={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},O$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function H$t(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",v$t,[(0,s._)("div",x$t,[(0,s._)("div",y$t,[(0,s._)("label",_$t,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,k$t),C$t])])])]),(0,s._)("td",D$t,[(0,s._)("div",null,[(0,s._)("h2",S$t,(0,ot.zw)(r.item.id),1)])]),(0,s._)("td",z$t,[(0,s._)("div",null,[(0,s._)("h2",U$t,[(0,s._)("p",null,(0,ot.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",q$t,[(0,s._)("div",null,[(0,s._)("h2",P$t,(0,ot.zw)(r.item.fullname),1)])]),(0,s._)("td",L$t,[(0,s._)("div",null,[(0,s._)("h2",W$t,(0,ot.zw)(r.item.phone),1)])]),(0,s._)("td",A$t,[(0,s._)("div",null,[(0,s._)("ul",$$t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",E$t,(0,ot.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",T$t,(0,ot.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",F$t,(0,ot.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",j$t,(0,ot.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",I$t,[(0,s._)("span",{class:(0,ot.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,ot.zw)(o.confirmation.name),3)]),(0,s._)("td",V$t,[(0,s._)("span",{class:(0,ot.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,ot.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)]),(0,s._)("td",O$t,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const M$t={class:"tw-h-full"},R$t={class:"tw-flex tw-items-center tw-gap-2"},N$t={key:0},Y$t={key:1};function Z$t(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),w=(0,s.up)("HistoryPopup");return(0,s.wg)(),(0,s.iD)("div",M$t,[(0,s._)("div",R$t,[(0,s.kq)("",!0),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",N$t,[(0,s.Wm)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[3]||(e[3]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",Y$t,[(0,s.Wm)(w,{visible:l.history,"onUpdate:visible":e[4]||(e[4]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const K$t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},B$t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),Q$t={class:"tw-bg-white tw-p-4"},J$t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},G$t={class:"tw-col-span-2 md:tw-col-span-1"},X$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),tEt=["readonly"],eEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rEt={class:"tw-col-span-2 md:tw-col-span-1"},aEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),sEt=["readonly"],lEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},oEt={class:"tw-col-span-2 md:tw-col-span-1"},iEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),wEt={class:"tw-relative"},nEt=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),dEt=["value"],cEt=["value"],uEt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),pEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gEt={class:"tw-col-span-2 md:tw-col-span-1"},mEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),hEt=["readonly"],fEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bEt={key:3,class:"tw-col-span-2"},vEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),xEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},yEt={class:"tw-col-span-2"},_Et={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},kEt={key:0,class:"tw-text-red-400 tw-text-xs"},CEt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},DEt=["disabled"],SEt=(0,s._)("span",null,"Update",-1);function zEt(t,e,r,l,o,i){(0,s.up)("OrderAffectation");const w=(0,s.up)("OrderItems"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",K$t,[B$t,(0,s._)("div",Q$t,[(0,s._)("div",J$t,[(0,s._)("div",G$t,[X$t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,ot.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,42,tEt),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",eEt,(0,ot.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",rEt,[aEt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,class:(0,ot.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,42,sEt),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",lEt,(0,ot.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",oEt,[iEt,(0,s._)("div",wEt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),readonly:"",onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,ot.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[nEt,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,ot.zw)(o.itemCopy.city),9,dEt),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,ot.zw)(t.name),9,cEt)))),128))],34),[[a.bM,o.itemCopy.city]]),uEt]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",pEt,(0,ot.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",gEt,[mEt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,ot.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,42,hEt),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",fEt,(0,ot.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s.kq)("",!0),(o.itemCopy.confirmation,(0,s.kq)("",!0)),(o.itemCopy.confirmation,(0,s.kq)("",!0)),["change","refund"].includes(o.itemCopy.confirmation)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",bEt,[vEt,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,ot.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",xEt,(0,ot.zw)(o.errors.note),1)):(0,s.kq)("",!0)])),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",yEt,[(0,s._)("label",_Et,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",kEt," # "+(0,ot.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",CEt,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),o.itemCopy.affectation||o.itemCopy.confirmation?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),SEt],8,DEt))])])])),_:1},8,["visible","onCancel"])])}const UEt=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!qEt(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),qEt=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},PEt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},LEt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},WEt=(t,e)=>{t.isLoading=!0,t.errors={},bi.update(e.id,e).then((e=>PEt(t,e.data))).catch((e=>LEt(t,e.response.data))).finally((()=>t.isLoading=!1))},AEt={key:0,class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},$Et={key:1,class:"md:tw-col-span-12 tw-col-span-12"},EEt={class:"tw-max-w-full tw-overflow-auto"},TEt={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},FEt={class:"tw-bg-gray-50"},jEt={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},IEt={key:0},VEt=(0,s._)("td",{colspan:"3"},null,-1),OEt=(0,s._)("td",null,[(0,s._)("div",{class:"tw-p-2"},[(0,s._)("p",null,"Total: ")])],-1),HEt={colspan:"2",class:"tw-p-2"},MEt={class:"tw-p-2 tw-py-1 tw-text-sm tw-text-green-500 tw-w-24 tw-font-medium tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},REt={colspan:"6"},NEt={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},YEt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),ZEt=(0,s._)("span",null,"Add Item",-1),KEt=[YEt,ZEt],BEt={key:1},QEt={colspan:"6"},JEt={class:"tw-scale-75 tw-p-5"};function GEt(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",AEt," No Order items ")),r.items.length?((0,s.wg)(),(0,s.iD)("div",$Et,[(0,s._)("div",EEt,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",TEt,[(0,s._)("tr",FEt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,ot.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",jEt,(0,ot.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",IEt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,order:r.order,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["order","item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[VEt,OEt,(0,s._)("td",HEt,[(0,s._)("div",MEt,[(0,s._)("p",null,(0,ot.zw)(l.currency)+" "+(0,ot.zw)(o.price),1)])])]),(0,s._)("tr",null,[(0,s._)("td",REt,[(0,s._)("div",NEt,[r.order.affectation||r.order.confirmation?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},KEt))])])])])):((0,s.wg)(),(0,s.iD)("tbody",BEt,[(0,s._)("tr",null,[(0,s._)("td",QEt,[(0,s._)("div",JEt,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const XEt=(0,s._)("td",null,null,-1),tTt={class:"tw-p-2"},eTt={class:"tw-relative"},rTt=["readonly","value"],aTt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),sTt=["value"],lTt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),oTt={class:"tw-p-2"},iTt={key:0,class:"tw-relative"},wTt=["readonly","value"],nTt=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),dTt=["value"],cTt={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},uTt=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),pTt=[uTt],gTt={class:"tw-p-2"},mTt=["value","readonly"],hTt={class:"tw-p-2"},fTt=["value","readonly"],bTt={class:"tw-flex tw-justify-center"};function vTt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[XEt,(0,s._)("td",null,[(0,s._)("div",tTt,[(0,s._)("div",eTt,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),readonly:r.order.affectation||r.order.confirmation,value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[aTt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.name),9,sTt)))),128))],40,rTt),lTt])])]),(0,s._)("td",null,[(0,s._)("div",oTt,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",iTt,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,readonly:r.order.affectation||r.order.confirmation,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[nTt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,ot.zw)(t.color)+" "+(0,ot.zw)(t.size),9,dTt)))),128))],40,wTt)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",cTt,pTt)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",gTt,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,readonly:r.order.affectation||r.order.confirmation,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,mTt)])]),(0,s._)("td",null,[(0,s._)("div",hTt,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,readonly:r.order.affectation||r.order.confirmation,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,fTt)])]),(0,s._)("td",null,[(0,s._)("div",bTt,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var xTt={props:{item:{required:!0},products:{required:!0},order:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const yTt=(0,m.Z)(xTt,[["render",vTt]]);var _Tt=yTt,kTt={components:{ItemRow:_Tt},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0,default:!1},order:{required:!0}},data(){return{currency:c}},computed:{price(){return go(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1]:1,e=t?t.id+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const CTt=(0,m.Z)(kTt,[["render",GEt]]);var DTt=CTt;const STt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),zTt={key:0,class:"tw-relative"},UTt=["value","disabled"],qTt=(0,s._)("option",{value:""},"Choose a Delivery",-1),PTt=["value"],LTt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),WTt={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ATt={key:2,class:"tw-relative"},$Tt={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},ETt=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),TTt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function FTt(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[STt,l.fetched?((0,s.wg)(),(0,s.iD)("div",zTt,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,ot.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[qTt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,PTt)))),128))],42,UTt),LTt])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",WTt,(0,ot.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ATt,[(0,s._)("div",$Tt,[(0,s.Wm)(i)]),ETt,TTt]))])}var jTt={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,st.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const ITt=(0,m.Z)(jTt,[["render",FTt]]);var VTt=ITt,OTt={components:{OrderItems:DTt,OrderAffectation:VTt},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:An,upsells:Tn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=UEt(this,this.itemCopy);if(!t)return!1;this.itemCopy.note=this.item.note,WEt(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ga.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const HTt=(0,m.Z)(OTt,[["render",zEt]]);var MTt=HTt;const RTt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},NTt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),YTt={class:"tw-bg-white tw-p-4"},ZTt={key:0},KTt={key:1,class:"tw-p-5"},BTt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},QTt={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},JTt=(0,s._)("div",{class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},null,-1),GTt={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},XTt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},tFt={class:"tw-flex tw-flex-col tw-my-2"},eFt=(0,s._)("div",null,"New Order Created",-1),rFt={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},aFt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function sFt(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",RTt,[NTt,(0,s._)("div",YTt,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ZTt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",KTt,[(0,s.Wm)(qE.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(PE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",BTt,[(0,s._)("div",QTt,[(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(nt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(UE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(!t.historique&&["delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),JTt,(0,s._)("div",GTt,[(0,s._)("span",null,(0,ot.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,ot.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(PE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",XTt,[(0,s._)("div",tFt,[(0,s.Wm)(UE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),eFt]),(0,s._)("div",rFt,[(0,s._)("span",null,(0,ot.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,ot.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",aFt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var lFt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){const t=[...this.allEvents].reverse();return t.filter((t=>"affectation"!==t.type&&"responsibility"!==t.type))}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ha.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple"};return["confirmation","delivery","upsell"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const oFt=(0,m.Z)(lFt,[["render",sFt]]);var iFt=oFt,wFt={components:{UpdatePopup:MTt,HistoryPopup:iFt},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const nFt=(0,m.Z)(wFt,[["render",Z$t]]);var dFt=nFt,cFt={components:{TableActions:dFt},props:{item:{required:!0},selected:{required:!0}},data(){return{moment:De()}},computed:{confirmation(){return An.find((t=>t.value==this.item.confirmation))},deliveryState(){return Fn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}}};const uFt=(0,m.Z)(cFt,[["render",H$t]]);var pFt=uFt,gFt={components:{TablePaginationNoNums:b$t,TableRow:pFt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const mFt=(0,m.Z)(gFt,[["render",r$t]]);var hFt=mFt;const fFt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},bFt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},vFt=["disabled"],xFt=["disabled"],yFt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),_Ft=[yFt],kFt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),CFt=[kFt],DFt=["disabled"],SFt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),zFt=[SFt],UFt=["disabled"],qFt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),PFt=[qFt],LFt={class:"tw-relative"},WFt=["value"],AFt=(0,s._)("option",{value:5},"5",-1),$Ft=(0,s._)("option",{value:10},"10",-1),EFt=(0,s._)("option",{value:20},"20",-1),TFt=(0,s._)("option",{value:50},"50",-1),FFt=(0,s._)("option",{value:100},"100",-1),jFt=(0,s._)("option",{value:200},"200",-1),IFt=[AFt,$Ft,EFt,TFt,FFt,jFt],VFt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),OFt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},HFt=["value"],MFt=(0,s._)("option",{value:"all"},"All",-1),RFt=(0,s._)("option",{value:"id"},"ID",-1),NFt=[MFt,RFt],YFt=["value"],ZFt={class:"tw-overflow-hidden tw-col-span-1"},KFt={class:"tw-overflow-hidden tw-col-span-1"},BFt={class:"tw-overflow-hidden tw-col-span-1"};function QFt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",fFt,[(0,s._)("div",bFt,[(0,s._)("button",{class:(0,ot.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,vFt),(0,s._)("button",{class:(0,ot.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,xFt),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,ot.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},_Ft,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,ot.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},CFt,2)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},zFt,8,DFt),(0,s._)("button",{onClick:e[5]||(e[5]=t=>o.showExport=!o.showExport),class:(0,ot.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},PFt,10,UFt),(0,s._)("div",LFt,[(0,s._)("select",{onChange:e[6]||(e[6]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},IFt,40,WFt),VFt])]),(0,s._)("div",OFt,[(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},NFt,40,HFt),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,YFt),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,ot.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",ZFt,[(0,s.Wm)(w,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,ot.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",KFt,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,ot.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",BFt,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const JFt={class:"tw-mb-4"},GFt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},XFt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},tjt={class:"tw-flex tw-items-center tw-justify-between"},ejt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},rjt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function ajt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",JFt,[(0,s._)("div",GFt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",XFt,[(0,s._)("p",{class:(0,ot.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,ot.zw)(t.name),3),(0,s._)("div",tjt,[(0,s._)("span",ejt,(0,ot.zw)(t.total),1),(0,s._)("span",rjt,(0,ot.zw)(t.percent)+"%",1)])])])))),128))])])}var sjt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return An.find((e=>e.value==t))}}};const ljt=(0,m.Z)(sjt,[["render",ajt]]);var ojt=ljt;const ijt={class:"tw-mb-4"},wjt={class:"tw-flex tw-items-center tw-gap-2"},njt=["disabled"],djt=(0,s._)("span",null,"Select Filtered",-1),cjt={class:"tw-flex tw-justify-end"},ujt=["disabled"];function pjt(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",ijt,[(0,s._)("div",wjt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),djt],8,njt)]),(0,s._)("div",cjt,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,ot.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,ujt)])])}var gjt={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,xAt["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const mjt=(0,m.Z)(gjt,[["render",pjt]]);var hjt=mjt;const fjt={class:"tw-mb-4"},bjt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},vjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),yjt=["value"],_jt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),Cjt=["value"],Djt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Sjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),zjt=["value"],Ujt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},qjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),Pjt=["value"],Ljt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Wjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Ajt=["value"],$jt=(0,s._)("option",{value:"all",selected:""},"All",-1),Ejt=["value"],Tjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Fjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),jjt=["value"],Ijt=(0,s._)("option",{value:"all",selected:""},"All",-1),Vjt=["value"],Ojt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Hjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Mjt=["value"],Rjt=(0,s._)("option",{value:"all",selected:""},"All",-1),Njt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),Yjt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),Zjt=[Rjt,Njt,Yjt],Kjt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Bjt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Qjt=(0,s._)("span",null,"Clear",-1),Jjt=[Bjt,Qjt],Gjt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Xjt=(0,s._)("span",null,"Filter",-1),tIt=[Gjt,Xjt];function eIt(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",fjt,[(0,s._)("div",bjt,[(0,s.kq)("",!0),(0,s._)("div",vjt,[xjt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,yjt)]),(0,s._)("div",_jt,[kjt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Cjt)]),(0,s._)("div",Djt,[Sjt,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,zjt)]),(0,s._)("div",Ujt,[qjt,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Pjt)]),(0,s._)("div",Ljt,[Wjt,(0,s._)("select",{value:r.filters.confirmation,onChange:e[5]||(e[5]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[$jt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,Ejt)))),128))],40,Ajt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Tjt,[Fjt,(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Ijt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,Vjt)))),128))],40,jjt)]),(0,s._)("div",Ojt,[Hjt,(0,s._)("select",{value:r.filters.upsell,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},Zjt,40,Mjt)]),(0,s._)("div",Kjt,[(0,s._)("button",{onClick:e[9]||(e[9]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Jjt),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},tIt)])])])}const rIt={class:"tw-text-sm tw-text-neutral-600"},aIt=["onClick"];function sIt(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",rIt,(0,ot.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,ot.zw)(t),9,aIt)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var lIt={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,eo.Z)(new Date,1),(0,eo.Z)(new Date,1)]},{label:"This month",range:[(0,ro.Z)(new Date),(0,ao.Z)(new Date)]},{label:"Last month",range:[(0,ro.Z)((0,so.Z)(new Date,1)),(0,ao.Z)((0,so.Z)(new Date,1))]},{label:"This year",range:[(0,lo.Z)(new Date),(0,oo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const oIt=(0,m.Z)(lIt,[["render",sIt]]);var iIt=oIt;const wIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function dIt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",wIt,[nIt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var cIt={components:{"vue-select":VY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ga.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const uIt=(0,m.Z)(cIt,[["render",dIt]]);var pIt=uIt,gIt={components:{DateFilter:iIt,ProductFilter:pIt},props:{filters:{required:!0,default:{}}},data(){return{confirmations:An,deliveries:Fn,dateFilter:["",""]}}};const mIt=(0,m.Z)(gIt,[["render",eIt]]);var hIt=mIt,fIt={components:{IndexStatistics:ojt,FiltersWrapper:hIt,IndexExport:hjt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=De()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const bIt=(0,m.Z)(fIt,[["render",QFt]]);var vIt=bIt;const xIt={class:"tw-mb-4"},yIt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},_It={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},kIt={class:"tw-flex tw-items-center tw-gap-2"},CIt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},DIt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),SIt={class:"tw-flex tw-items-center tw-gap-2"},zIt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),UIt=(0,s._)("span",null," Clear Selection ",-1),qIt=[zIt,UIt],PIt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),LIt=(0,s._)("span",null," Actions ",-1),WIt=[PIt,LIt],AIt={key:0};function $It(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",xIt,[(0,s._)("div",yIt,[(0,s._)("div",_It,[(0,s._)("div",kIt,[(0,s._)("div",CIt,(0,ot.zw)(r.selected.length),1),DIt]),(0,s._)("div",SIt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},qIt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},WIt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",AIt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const EIt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},TIt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},FIt=(0,s._)("span",null,"Quick Actions",-1),jIt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},IIt={class:"tw-bg-white tw-p-4"},VIt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},OIt={class:"tw-col-span-2 md:tw-col-span-1"},HIt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},MIt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},RIt=(0,s._)("span",null,"Apply",-1);function NIt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",EIt,[(0,s._)("div",TIt,[FIt,(0,s._)("span",jIt,(0,ot.zw)(r.selected.length),1)]),(0,s._)("div",IIt,[(0,s._)("div",VIt,[(0,s._)("div",OIt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",HIt,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",MIt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),RIt])])])])),_:1},8,["visible","closeable","onCancel"])])}const YIt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),ZIt={class:"tw-relative"},KIt=["value"],BIt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function QIt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[YIt,(0,s._)("div",ZIt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,ot.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,KIt)))),128))],512),[[a.bM,i.vaction]]),BIt]),(0,s.kq)("",!0)])}var JIt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const GIt=(0,m.Z)(JIt,[["render",QIt]]);var XIt=GIt;const tVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),eVt={class:"tw-relative"},rVt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),aVt=["value"],sVt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function lVt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[tVt,(0,s._)("div",eVt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,ot.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[rVt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.text]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,aVt)))),128))],512),[[a.bM,i.vvalue]]),sVt]),(0,s.kq)("",!0)])}var oVt={props:{value:{required:!0}},data(){return{statuses:Fn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const iVt=(0,m.Z)(oVt,[["render",lVt]]);var wVt=iVt,nVt=(t,e)=>{t.isLoading=!0,_X.execute(e).then((e=>dVt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const dVt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var cVt={components:{BulkSelectAction:XIt,BulkDeliveryAction:wVt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};nVt(this,t)}}};const uVt=(0,m.Z)(cVt,[["render",NIt]]);var pVt=uVt,gVt={components:{BulkPopup:pVt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const mVt=(0,m.Z)(gVt,[["render",$It]]);var hVt=mVt,fVt={components:{IndexTable:hFt,IndexFilters:vIt,BulkActions:hVt},data(){return{fetching:!0,items:[],selected:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,xAt.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=mo(t.first_page_url),this.lase_page_url=mo(t.last_page_url),this.next_page_url=mo(t.next_page_url),this.prev_page_url=mo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"},this.handlePageChange(1)},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){console.log(t),this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},handleBulkUpdate(){this.selected=[],this.paginateOrders()}},mounted(){this.paginateOrders()}};const bVt=(0,m.Z)(fVt,[["render",bAt]]);var vVt=bVt,xVt={name:"seller",path:"/seller/list",component:za,meta:{module:"seller"},children:[{name:"seller/list",path:"",component:vVt,meta:{module:"sellersale",subModule:"seller/list",title:"Seller List",gate:"show_seller_sales"}}]};const yVt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},_Vt={class:"tw-px-3"},kVt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},CVt={class:"tw-flex tw-items-center tw-gap-x-3"},DVt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),SVt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},zVt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),UVt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},qVt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),PVt=(0,s._)("span",null,"Create",-1),LVt=[qVt,PVt],WVt={key:1};function AVt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=((0,s.up)("BulkActions"),(0,s.up)("IndexTable")),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",yVt,[(0,s._)("section",_Vt,[(0,s._)("div",kVt,[(0,s._)("div",null,[(0,s._)("div",CVt,[DVt,(0,s._)("span",SVt,(0,ot.zw)(l.totalOrders)+" order",1)]),zVt]),(0,s._)("div",UVt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},LVt)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",WVt,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const $Vt={class:"tw-mb-4"},EVt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},TVt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},FVt={class:"tw-flex tw-items-center tw-gap-2"},jVt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},IVt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),VVt={class:"tw-flex tw-items-center tw-gap-2"},OVt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),HVt=(0,s._)("span",null," Clear Selection ",-1),MVt=[OVt,HVt],RVt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),NVt=(0,s._)("span",null," Actions ",-1),YVt=[RVt,NVt],ZVt={key:0};function KVt(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",$Vt,[(0,s._)("div",EVt,[(0,s._)("div",TVt,[(0,s._)("div",FVt,[(0,s._)("div",jVt,(0,ot.zw)(r.selected.length),1),IVt]),(0,s._)("div",VVt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},MVt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},YVt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",ZVt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const BVt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},QVt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},JVt=(0,s._)("span",null,"Quick Actions",-1),GVt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},XVt={class:"tw-bg-white tw-p-4"},tOt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},eOt={class:"tw-col-span-2 md:tw-col-span-1"},rOt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},aOt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},sOt=(0,s._)("span",null,"Apply",-1);function lOt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",BVt,[(0,s._)("div",QVt,[JVt,(0,s._)("span",GVt,(0,ot.zw)(r.selected.length),1)]),(0,s._)("div",XVt,[(0,s._)("div",tOt,[(0,s._)("div",eOt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",rOt,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",aOt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),sOt])])])])),_:1},8,["visible","closeable","onCancel"])])}const oOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),iOt={class:"tw-relative"},wOt=["value"],nOt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function dOt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[oOt,(0,s._)("div",iOt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,ot.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,ot.zw)(t.name),9,wOt)))),128))],512),[[a.bM,i.vaction]]),nOt]),(0,s.kq)("",!0)])}var cOt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const uOt=(0,m.Z)(cOt,[["render",dOt]]);var pOt=uOt;const gOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),mOt={class:"tw-relative"},hOt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),fOt=["value"],bOt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function vOt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[gOt,(0,s._)("div",mOt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,ot.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[hOt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([t.text]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,fOt)))),128))],512),[[a.bM,i.vvalue]]),bOt]),(0,s.kq)("",!0)])}var xOt={props:{value:{required:!0}},data(){return{statuses:Fn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const yOt=(0,m.Z)(xOt,[["render",vOt]]);var _Ot=yOt,kOt=(t,e)=>{t.isLoading=!0,_X.execute(e).then((e=>COt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const COt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var DOt={components:{BulkSelectAction:pOt,BulkDeliveryAction:_Ot},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};kOt(this,t)}}};const SOt=(0,m.Z)(DOt,[["render",lOt]]);var zOt=SOt,UOt={components:{BulkPopup:zOt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const qOt=(0,m.Z)(UOt,[["render",KVt]]);var POt=qOt,LOt={components:{IndexTable:d3,IndexFilters:a6,CreatePopup:a7,BulkActions:POt},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,bi.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=mo(t.first_page_url),this.lase_page_url=mo(t.last_page_url),this.next_page_url=mo(t.next_page_url),this.prev_page_url=mo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,st.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const WOt=(0,m.Z)(LOt,[["render",AVt]]);var AOt=WOt,$Ot={path:"/followup",name:"followup",component:za,meta:{module:"dashboard"},children:[{name:"followup/index",path:"",component:AOt,meta:{module:"followup",title:"Follow Up Orders",gate:"follow_up_orders"}}]};const EOt={class:"tw-pb-40"},TOt={class:"tw-space-y-3"};function FOt(t,e,r,a,l,o){const i=(0,s.up)("OnlineUsers"),w=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexRevenue"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",EOt,[(0,s._)("div",TOt,[(0,s.Wm)(i),(0,s.Wm)(w,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(d,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const jOt={class:"tw-bg-white tw-p-5"},IOt={class:"tw-flex tw-items-center tw-justify-between"},VOt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Users",-1),OOt={class:"tw-relative tw-flex tw-items-center"},HOt=(0,s._)("span",{class:"tw-text-xs tw-absolute tw-right-0 tw-top-0 -tw-translate-y-full tw-whitespace-nowrap"},"Show All",-1),MOt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-scale-75"},ROt=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none peer-focus:tw-ring-4 peer-focus:tw-ring-orange-200 dark:peer-focus:tw-ring-orange-500 tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600 peer-checked:tw-bg-orange-500"},null,-1),NOt={key:0,class:""},YOt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},ZOt=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),KOt=[ZOt],BOt={key:1,class:"tw-min-h-[50px]"},QOt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},JOt={class:"py-2 px-3 tw-rounded tw-bg-white tw-shadow-sm tw-grid tw-grid-cols-12 tw-relative tw-overflow-hidden"},GOt={class:"tw-col-span-12 tw-flex tw-items-center tw-gap-2 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},XOt={key:0,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-red-400 tw-absolute tw-top-0 tw-right-0"},tHt={key:1,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-green-500 tw-absolute tw-top-0 tw-right-0"},eHt={key:2,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-yellow-400 tw-absolute tw-top-0 tw-right-0"},rHt={class:"tw-font-bold"},aHt={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs tw-mt-1"},sHt={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},lHt={key:1},oHt={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},iHt={key:1,class:"tw-flex tw-items-center tw-gap-2"};function wHt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",jOt,[(0,s._)("div",IOt,[VOt,(0,s._)("div",OOt,[HOt,(0,s._)("label",MOt,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>o.showAll=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.showAll]]),ROt])])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",NOt,[(0,s._)("div",YOt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},KOt))),64))])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",BOt,[(0,s._)("div",QOt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",JOt,[(0,s._)("div",GOt,[t.last_action?1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",tHt)):((0,s.wg)(),(0,s.iD)("div",eHt)):((0,s.wg)(),(0,s.iD)("div",XOt)),(0,s._)("span",rHt,(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),1)]),(0,s._)("div",aHt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",lHt,[1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",oHt," Online ")):((0,s.wg)(),(0,s.iD)("div",iHt,(0,ot.zw)(i.lastSeen(t.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",sHt," Never Connected "))])])])))),128))])])):(0,s.kq)("",!0)])}var nHt={components:{},data(){return{isLoaded:!1,showAll:!1}},computed:{users(){return this.showAll?this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?De()(t.last_action).isAfter(e.last_action)?-1:1:-1)):this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?De()(t.last_action).isAfter(e.last_action)?-1:1:-1)).slice(0,8)}},methods:{getUsers(){st.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,fs.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const dHt=(0,m.Z)(nHt,[["render",wHt]]);var cHt=dHt;const uHt={class:"tw-bg-white"},pHt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},gHt={class:"tw-p-5"};function mHt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),w=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",uHt,[(0,s._)("div",pHt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,ot.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,ot.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",gHt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(w,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const hHt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},fHt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),bHt=[fHt],vHt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function xHt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",hHt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},bHt))),64))])):((0,s.wg)(),(0,s.iD)("div",vHt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const yHt={class:"tw-flex tw-justify-between"},_Ht={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},kHt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},CHt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},DHt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function SHt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,ot.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",yHt,[(0,s._)("div",null,[(0,s._)("div",_Ht,[(0,s._)("p",kHt,(0,ot.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,ot.j5)({background:r.color})},(0,ot.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",CHt,[(0,s._)("span",DHt,(0,ot.zw)(r.value),1)])]),(0,s._)("div",{style:(0,ot.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(nt.t,{style:(0,ot.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var zHt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const UHt=(0,m.Z)(zHt,[["render",SHt]]);var qHt=UHt,PHt={components:{DashboardCard:qHt},props:{statistics:{required:!0},fetching:{required:!0}}};const LHt=(0,m.Z)(PHt,[["render",xHt]]);var WHt=LHt;const AHt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},$Ht=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),EHt=[$Ht],THt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function FHt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",AHt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},EHt))),64))])):((0,s.wg)(),(0,s.iD)("div",THt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var jHt={components:{DashboardCard:qHt},props:{statistics:{required:!0},fetching:{required:!0}}};const IHt=(0,m.Z)(jHt,[["render",FHt]]);var VHt=IHt,OHt={components:{ConfirmationTab:WHt,DeliveryTab:VHt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const HHt=(0,m.Z)(OHt,[["render",mHt]]);var MHt=HHt;const RHt={class:"tw-bg-white tw-p-5"},NHt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),YHt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},ZHt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},KHt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),BHt=(0,s._)("option",{value:"all",selected:""},"All",-1),QHt=["value"],JHt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},GHt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),XHt=(0,s._)("option",{value:"all",selected:""},"All",-1),tMt=["value"],eMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rMt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),aMt=(0,s._)("option",{value:"all",selected:""},"All",-1),sMt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),lMt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),oMt=[aMt,sMt,lMt],iMt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},wMt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),nMt=(0,s._)("span",null,"Clear",-1),dMt=[wMt,nMt],cMt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),uMt=(0,s._)("span",null,"Filter",-1),pMt=[cMt,uMt];function gMt(t,e,r,l,o,i){const w=(0,s.up)("DateFilter"),n=(0,s.up)("AgentFilter"),d=(0,s.up)("SellerFilter"),c=(0,s.up)("AffectationFilter"),u=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",RHt,[NHt,(0,s._)("div",YHt,[(0,s.Wm)(w,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.delivered_from,"onUpdate:from":e[4]||(e[4]=t=>o.filters.delivered_from=t),to:o.filters.delivered_to,"onUpdate:to":e[5]||(e[5]=t=>o.filters.delivered_to=t),label:"Delivered"},null,8,["from","to"]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[6]||(e[6]=t=>o.filters=t)},null,8,["filters"]),(0,s.Wm)(d,{filters:o.filters,onUpdate:e[7]||(e[7]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",ZHt,[KHt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[BHt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,QHt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s.Wm)(c,{filters:o.filters,onUpdate:e[9]||(e[9]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",JHt,[GHt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[XHt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,tMt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(u,{filters:o.filters,onUpdate:e[11]||(e[11]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",eMt,[rMt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},oMt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",iMt,[(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},dMt),(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},pMt)])])])}const mMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hMt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),fMt=["value"],bMt=(0,s._)("option",{value:"all"},"All",-1),vMt=(0,s._)("option",{value:""},"No Delivery",-1),xMt=["value"];function yMt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",mMt,[hMt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[bMt,vMt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,xMt)))),128))],40,fMt)])}var _Mt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const kMt=(0,m.Z)(_Mt,[["render",yMt]]);var CMt=kMt;const DMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},SMt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),zMt=["value"],UMt=(0,s._)("option",{value:"all"},"All",-1),qMt=(0,s._)("option",{value:""},"No Agent",-1),PMt=["value"];function LMt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",DMt,[SMt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[UMt,qMt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,PMt)))),128))],40,zMt)])}var WMt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const AMt=(0,m.Z)(WMt,[["render",LMt]]);var $Mt=AMt;const EMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},TMt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),FMt=["value"],jMt=(0,s._)("option",{value:"all"},"All",-1),IMt=["value"];function VMt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",EMt,[TMt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[jMt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,IMt)))),128))],40,FMt)])}var OMt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const HMt=(0,m.Z)(OMt,[["render",VMt]]);var MMt=HMt;const RMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},NMt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function YMt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",RMt,[NMt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"]),(0,s.kq)("",!0)])}var ZMt={components:{"vue-select":VY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return"all"!=this.filters.user_id?this.$store.getters["product/products"]?.filter((t=>t.user_id==this.filters.user_id)):this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const KMt=(0,m.Z)(ZMt,[["render",YMt]]);var BMt=KMt;const QMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},JMt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},GMt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),XMt=[GMt],tRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},eRt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},rRt=["value"],aRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sRt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},lRt=["value"];function oRt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",QMt,[(0,s._)("label",JMt,(0,ot.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},XMt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",tRt,[(0,s._)("label",eRt,(0,ot.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,rRt)]),(0,s._)("div",aRt,[(0,s._)("label",sRt,(0,ot.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,lRt)])],64)):(0,s.kq)("",!0)],64)}var iRt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=De()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=De()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=De()().startOf("month").format("YYYY-MM-DD"),a=De()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=De()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=De()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const wRt=(0,m.Z)(iRt,[["render",oRt]]);var nRt=wRt,dRt={components:{AffectationFilter:CMt,AgentFilter:$Mt,ProductFilter:BMt,DateFilter:nRt,SellerFilter:MMt},props:{},data(){return{confirmations:An,deliveries:Fn,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const cRt=(0,m.Z)(dRt,[["render",gMt]]);var uRt=cRt;const pRt={key:0},gRt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function mRt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",pRt,[(0,s._)("div",gRt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const hRt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},fRt={class:"tw-flex tw-justify-between"},bRt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},vRt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},xRt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},yRt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function _Rt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",hRt,[(0,s._)("div",fRt,[(0,s._)("div",null,[(0,s._)("div",bRt,[(0,s._)("p",vRt,(0,ot.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,ot.j5)({background:r.color})},(0,ot.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",xRt,[(0,s._)("span",yRt,(0,ot.zw)(o.format(r.value)),1)])]),(0,s._)("div",{style:(0,ot.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(nt.t,{style:(0,ot.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var kRt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const CRt=(0,m.Z)(kRt,[["render",_Rt]]);var DRt=CRt,SRt={components:{RevenueCard:DRt},props:{statistics:{required:!0},fetching:{required:!0}}};const zRt=(0,m.Z)(SRt,[["render",mRt]]);var URt=zRt,qRt={components:{OnlineUsers:cHt,IndexStatistics:MHt,IndexFilters:uRt,IndexRevenue:URt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Eu.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const PRt=(0,m.Z)(qRt,[["render",FOt]]);var LRt=PRt;const WRt={class:"tw-pb-40"},ARt={class:"tw-space-y-3"};function $Rt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexRevenue"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",WRt,[(0,s._)("div",ARt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const ERt={class:"tw-bg-white"},TRt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},FRt={class:"tw-p-5"};function jRt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),w=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",ERt,[(0,s._)("div",TRt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,ot.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,ot.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",FRt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(w,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const IRt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},VRt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),ORt=[VRt],HRt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function MRt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",IRt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},ORt))),64))])):((0,s.wg)(),(0,s.iD)("div",HRt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const RRt={class:"tw-flex tw-justify-between"},NRt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},YRt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},ZRt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},KRt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function BRt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,ot.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",RRt,[(0,s._)("div",null,[(0,s._)("div",NRt,[(0,s._)("p",YRt,(0,ot.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,ot.j5)({background:r.color})},(0,ot.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",ZRt,[(0,s._)("span",KRt,(0,ot.zw)(r.value),1)])]),(0,s._)("div",{style:(0,ot.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(nt.t,{style:(0,ot.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var QRt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const JRt=(0,m.Z)(QRt,[["render",BRt]]);var GRt=JRt,XRt={components:{DashboardCard:GRt},props:{statistics:{required:!0},fetching:{required:!0}}};const tNt=(0,m.Z)(XRt,[["render",MRt]]);var eNt=tNt;const rNt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},aNt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),sNt=[aNt],lNt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function oNt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",rNt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},sNt))),64))])):((0,s.wg)(),(0,s.iD)("div",lNt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var iNt={components:{DashboardCard:GRt},props:{statistics:{required:!0},fetching:{required:!0}}};const wNt=(0,m.Z)(iNt,[["render",oNt]]);var nNt=wNt,dNt={components:{ConfirmationTab:eNt,DeliveryTab:nNt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const cNt=(0,m.Z)(dNt,[["render",jRt]]);var uNt=cNt;const pNt={class:"tw-bg-white tw-p-5"},gNt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),mNt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},hNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fNt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),bNt=(0,s._)("option",{value:"all",selected:""},"All",-1),vNt=["value"],xNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},yNt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),_Nt=(0,s._)("option",{value:"all",selected:""},"All",-1),kNt=["value"],CNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},DNt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),SNt=(0,s._)("option",{value:"all",selected:""},"All",-1),zNt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),UNt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),qNt=[SNt,zNt,UNt],PNt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},LNt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),WNt=(0,s._)("span",null,"Clear",-1),ANt=[LNt,WNt],$Nt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),ENt=(0,s._)("span",null,"Filter",-1),TNt=[$Nt,ENt];function FNt(t,e,r,l,o,i){const w=(0,s.up)("DateFilter"),n=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",pNt,[gNt,(0,s._)("div",mNt,[(0,s.Wm)(w,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",hNt,[fNt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[bNt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,vNt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s._)("div",xNt,[yNt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[_Nt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,ot.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,ot.zw)(t.name),11,kNt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[6]||(e[6]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",CNt,[DNt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},qNt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",PNt,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},ANt),(0,s._)("button",{onClick:e[9]||(e[9]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},TNt)])])])}const jNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},INt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function VNt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",jNt,[INt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var ONt={components:{"vue-select":VY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const HNt=(0,m.Z)(ONt,[["render",VNt]]);var MNt=HNt;const RNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},NNt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},YNt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),ZNt=[YNt],KNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},BNt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},QNt=["value"],JNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},GNt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},XNt=["value"];function tYt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",RNt,[(0,s._)("label",NNt,(0,ot.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},ZNt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",KNt,[(0,s._)("label",BNt,(0,ot.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,QNt)]),(0,s._)("div",JNt,[(0,s._)("label",GNt,(0,ot.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,XNt)])],64)):(0,s.kq)("",!0)],64)}var eYt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=De()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=De()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=De()().startOf("month").format("YYYY-MM-DD"),a=De()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=De()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=De()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const rYt=(0,m.Z)(eYt,[["render",tYt]]);var aYt=rYt,sYt={components:{ProductFilter:MNt,DateFilter:aYt},props:{},data(){return{confirmations:An,deliveries:Fn,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const lYt=(0,m.Z)(sYt,[["render",FNt]]);var oYt=lYt;const iYt={key:0},wYt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function nYt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",iYt,[(0,s._)("div",wYt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const dYt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},cYt={class:"tw-flex tw-justify-between"},uYt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},pYt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},gYt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},mYt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function hYt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",dYt,[(0,s._)("div",cYt,[(0,s._)("div",null,[(0,s._)("div",uYt,[(0,s._)("p",pYt,(0,ot.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,ot.j5)({background:r.color})},(0,ot.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",gYt,[(0,s._)("span",mYt,(0,ot.zw)(r.value)+"$ ",1)])]),(0,s._)("div",{style:(0,ot.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(nt.t,{style:(0,ot.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var fYt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const bYt=(0,m.Z)(fYt,[["render",hYt]]);var vYt=bYt,xYt={components:{RevenueCard:vYt},props:{statistics:{required:!0},fetching:{required:!0}}};const yYt=(0,m.Z)(xYt,[["render",nYt]]);var _Yt=yYt,kYt={components:{IndexStatistics:uNt,IndexFilters:oYt,IndexRevenue:_Yt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,xAt.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"seller"!=this.user.role&&this.$router.push({name:"404"})}};const CYt=(0,m.Z)(kYt,[["render",$Rt]]);var DYt=CYt;const SYt={class:"tw-pb-40"},zYt={class:"tw-space-y-3"};function UYt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexAnalytics");return(0,s.wg)(),(0,s.iD)("div",SYt,[(0,s._)("div",zYt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{analytics:l.analytics,fetching:l.fetching},null,8,["analytics","fetching"])])])}const qYt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},PYt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),LYt=[PYt],WYt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function AYt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return r.fetching?((0,s.wg)(),(0,s.iD)("div",qYt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},LYt))),64))])):((0,s.wg)(),(0,s.iD)("div",WYt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.analytics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))}const $Yt={class:"tw-flex tw-justify-between"},EYt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},TYt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},FYt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},jYt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function IYt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,ot.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",$Yt,[(0,s._)("div",null,[(0,s._)("div",EYt,[(0,s._)("p",TYt,(0,ot.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,ot.j5)({background:r.color})},(0,ot.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",FYt,[(0,s._)("span",jYt,(0,ot.zw)(r.value),1)])]),(0,s._)("div",{style:(0,ot.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(nt.t,{style:(0,ot.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var VYt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const OYt=(0,m.Z)(VYt,[["render",IYt]]);var HYt=OYt,MYt={components:{DashboardCard:HYt},props:{analytics:{required:!0},fetching:{required:!0}}};const RYt=(0,m.Z)(MYt,[["render",AYt]]);var NYt=RYt;const YYt={class:"tw-bg-white tw-p-5"},ZYt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),KYt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},BYt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},QYt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),JYt=(0,s._)("span",null,"Clear",-1),GYt=[QYt,JYt],XYt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),tZt=(0,s._)("span",null,"Filter",-1),eZt=[XYt,tZt];function rZt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),w=(0,s.up)("SellerFilter"),n=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",YYt,[ZYt,(0,s._)("div",KYt,[(0,s.Wm)(i,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(i,{from:l.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(w,{filters:l.filters,onUpdate:e[4]||(e[4]=t=>l.filters=t)},null,8,["filters"]),(0,s.Wm)(n,{filters:l.filters,onUpdate:e[5]||(e[5]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",BYt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},GYt),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},eZt)])])])}const aZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sZt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),lZt=["value"],oZt=(0,s._)("option",{value:"all"},"All",-1),iZt=["value"];function wZt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",aZt,[sZt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[oZt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,iZt)))),128))],40,lZt)])}var nZt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const dZt=(0,m.Z)(nZt,[["render",wZt]]);var cZt=dZt;const uZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pZt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function gZt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",uZt,[pZt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var mZt={components:{"vue-select":VY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const hZt=(0,m.Z)(mZt,[["render",gZt]]);var fZt=hZt;const bZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vZt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},xZt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),yZt=[xZt],_Zt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kZt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},CZt=["value"],DZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},SZt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},zZt=["value"];function UZt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",bZt,[(0,s._)("label",vZt,(0,ot.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},yZt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",_Zt,[(0,s._)("label",kZt,(0,ot.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,CZt)]),(0,s._)("div",DZt,[(0,s._)("label",SZt,(0,ot.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,zZt)])],64)):(0,s.kq)("",!0)],64)}var qZt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=De()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=De()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=De()().startOf("month").format("YYYY-MM-DD"),a=De()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=De()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=De()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const PZt=(0,m.Z)(qZt,[["render",UZt]]);var LZt=PZt,WZt={components:{SellerFilter:cZt,ProductFilter:fZt,DateFilter:LZt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,user_id:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const AZt=(0,m.Z)(WZt,[["render",rZt]]);var $Zt=AZt,EZt={components:{IndexAnalytics:NYt,IndexFilters:$Zt},data(){return{filters:null,analytics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Eu.analytics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.analytics=t.data.data.analytics.analytics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const TZt=(0,m.Z)(EZt,[["render",UYt]]);var FZt=TZt;function jZt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])}const IZt={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1 tw-py-2"},VZt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),OZt=[VZt];function HZt(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",IZt,[r.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},OZt))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(r.statistics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])}const MZt={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},RZt={class:"tw-flex tw-justify-between"},NZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},YZt={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},ZZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},KZt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function BZt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",MZt,[(0,s._)("div",RZt,[(0,s._)("div",null,[(0,s._)("div",NZt,[(0,s._)("p",YZt,(0,ot.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,ot.j5)({background:r.color})},(0,ot.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",ZZt,[(0,s._)("span",KZt,(0,ot.zw)(r.value),1)])]),(0,s._)("div",{style:(0,ot.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(nt.t,{style:(0,ot.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var QZt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const JZt=(0,m.Z)(QZt,[["render",BZt]]);var GZt=JZt,XZt={components:{DashCard:GZt},props:{statistics:{required:!0},fetching:{required:!0}}};const tKt=(0,m.Z)(XZt,[["render",HZt]]);var eKt=tKt;const rKt={class:"tw-bg-white tw-p-5"},aKt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),sKt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},lKt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},oKt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),iKt=(0,s._)("span",null,"Clear",-1),wKt=[oKt,iKt],nKt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),dKt=(0,s._)("span",null,"Filter",-1),cKt=[nKt,dKt];function uKt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",rKt,[aKt,(0,s._)("div",sKt,[(0,s.Wm)(i,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",lKt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},wKt),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},cKt)])])])}const pKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gKt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},mKt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),hKt=[mKt],fKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},bKt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},vKt=["value"],xKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},yKt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},_Kt=["value"];function kKt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",pKt,[(0,s._)("label",gKt,(0,ot.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},hKt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",fKt,[(0,s._)("label",bKt,(0,ot.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,vKt)]),(0,s._)("div",xKt,[(0,s._)("label",yKt,(0,ot.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,_Kt)])],64)):(0,s.kq)("",!0)],64)}var CKt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=De()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=De()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=De()().startOf("month").format("YYYY-MM-DD"),a=De()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=De()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=De()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const DKt=(0,m.Z)(CKt,[["render",kKt]]);var SKt=DKt,zKt={components:{DateFilter:SKt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const UKt=(0,m.Z)(zKt,[["render",uKt]]);var qKt=UKt,PKt={components:{IndexStatistics:eKt,IndexFilters:qKt},data(){return{filters:null,statistics:null,fetching:!0}},methods:{handleFilter(){this.fetching=!0,F.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}}};const LKt=(0,m.Z)(PKt,[["render",jZt]]);var WKt=LKt,AKt={name:"dashboards",path:"/dashboards",component:za,meta:{module:"dashboards",gate:"all"},children:[{name:"dashboards/admin",path:"admin",component:LRt,meta:{module:"dashboards",subModule:"dashboards/admin",title:"Dashboard",gate:"all"}},{name:"dashboards/seller",path:"seller",component:DYt,meta:{module:"dashboards",subModule:"dashboards/seller",title:"Dashboard",gate:"all"}},{name:"dashboards/analytics",path:"/analytics",component:FZt,meta:{module:"dashboards",subModule:"dashboards/analytics",title:"Dashboard Analytics",gate:"show_all_ads"}},{name:"dashboards/agent",path:"agent",component:WKt,meta:{module:"dashboards",subModule:"dashboards/agent",title:"Dashboard",gate:"all"}}]};class $Kt{async paginate(t="",e){return await E.getCookie(),A.get("api/sourcings"+t,{params:e})}async create(t){return await E.getCookie(),A.post("api/sourcings/new",t)}async update(t,e){return await E.getCookie(),A.post("api/sourcings/"+t,e)}async get(t){return await E.getCookie(),A.get("api/sourcings/"+t)}async history(t){return await E.getCookie(),A.get("api/sourcings/"+t+"/history")}async delete(t){return await E.getCookie(),A["delete"]("api/sourcings/"+t)}}var EKt=new $Kt;const TKt=[{name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-600 tw-font-medium"},{name:"Quoting",value:"quoting",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"},{name:"Confirmed",value:"confirmed",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"}],FKt=[{step:1,name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{step:2,name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-500 tw-font-medium"},{step:3,name:"Packing",value:"packing",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{step:4,name:"Shipped",value:"shipped",class:"tw-text-white tw-bg-violet-500 tw-font-medium"},{step:5,name:"Delivered",value:"delivered",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"},{step:0,name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"}],jKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},IKt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Quotation",-1),VKt=(0,s._)("option",{value:"all"},"All",-1),OKt=["value"];var HKt={__name:"FilterByQuotation",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",jKt,[IKt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ye.SU)(e).setFilter("quotation_status",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[VKt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ye.SU)(TKt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,ot.zw)(t.name),9,OKt)))),128))],32)]))}};const MKt=HKt;var RKt=MKt;const NKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YKt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Sourcing",-1),ZKt=(0,s._)("option",{value:"all"},"All",-1),KKt=["value"];var BKt={__name:"FilterBySourcing",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",NKt,[YKt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ye.SU)(e).setFilter("sourcing_status",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[ZKt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ye.SU)(FKt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,ot.zw)(t.name),9,KKt)))),128))],32)]))}};const QKt=BKt;var JKt=QKt;const GKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},XKt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),tBt=(0,s._)("option",{value:"all"},"All",-1),eBt=["value"];var rBt={__name:"FilterBySeller",setup(t){const e=(0,s.f3)("options"),r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/fetched"])),l=(0,s.Fl)((()=>r.getters["user/users"])),o=(0,s.Fl)((()=>a.value?l.value.filter((t=>"seller"==t.role.name)):[]));return(t,r)=>((0,s.wg)(),(0,s.iD)("div",GKt,[XKt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ye.SU)(e).setFilter("user_id",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[tBt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,ot.zw)(t.firstname)+" "+(0,ot.zw)(t.lastname),9,eBt)))),128))],32)]))}};const aBt=rBt;var sBt=aBt;const lBt={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-4"},oBt={key:0,class:"md:tw-col-span-4 tw-col-span-12"},iBt={key:1,class:"md:tw-col-span-4 tw-col-span-12"},wBt={key:2,class:"md:tw-col-span-4 tw-col-span-12"},nBt={class:"tw-col-span-12 tw-flex tw-justify-end"},dBt=(0,s._)("span",null,"Filter",-1),cBt=[dBt];var uBt={__name:"FilterOption",setup(t){const e=(0,s.f3)("options");(0,ye.Vh)(e,"options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",lBt,[["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",oBt,[(0,s.Wm)((0,ye.SU)(sBt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",iBt,[(0,s.Wm)((0,ye.SU)(RKt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",wBt,[(0,s.Wm)((0,ye.SU)(JKt))])):(0,s.kq)("",!0),(0,s._)("div",nBt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>(0,ye.SU)(e).getData()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},cBt)])])]))}};const pBt=uBt;var gBt=pBt;const mBt={class:"tw-relative tw-h-[40px] tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},hBt=["value"],fBt=["value"],bBt=["value"];var vBt={__name:"SearchOption",emits:["update:search-by-field","update:search","filter"],setup(t,{emit:e}){const r=e,l=(0,ye.iH)([{field:"all",name:"All"},{field:"id",name:"ID"}]),o=(0,ye.iH)("all"),i=(0,ye.iH)(""),w=t=>{r("update:search-by-field",t.target.value)},n=t=>{r("update:search",t.target.value)},d=()=>{r("filter")};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",mBt,[(0,s._)("select",{onChange:w,value:o.value,class:"tw-block tw-h-[40px] !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.field,key:t.field},(0,ot.zw)(t.name),9,fBt)))),128))],40,hBt),(0,s._)("input",{type:"text",placeholder:"Search",value:i.value,onInput:n,onKeyup:(0,a.D2)(d,["enter"]),class:"tw-block tw-h-[40px] tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,bBt),(0,s._)("button",{onClick:d,class:"tw-absolute tw-h-[40px] tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(nt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])]))}};const xBt=vBt;var yBt=xBt;const _Bt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between tw-flex-wrap"},kBt={class:"tw-inline-flex tw-flex-wrap tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},CBt={class:"tw-relative tw-h-[40px]"},DBt=["value"],SBt={class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},zBt={key:0},UBt={class:"tw-overflow-hidden tw-col-span-1"};var qBt={__name:"IndexOptions",setup(t){const e=(0,ye.qj)({filters:!1}),r=(0,s.f3)("options"),a=t=>{r.setOptions({...r.options,per_page:parseInt(t)}),r.getData()};return(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",_Bt,[(0,s._)("div",kBt,[(0,s._)("button",{class:(0,ot.C_)([["!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:!0}," View all "),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Filters",class:(0,ot.C_)([[e.filters&&"!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),onClick:r[0]||(r[0]=t=>e.filters=!e.filters)},[(0,s.Wm)(l,{icon:"mi:filter",class:"tw-text-2xl"})],2)):(0,s.kq)("",!0),(0,s._)("div",CBt,[(0,s._)("select",{value:10,onChange:r[1]||(r[1]=t=>a(t.target.value)),class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)([5,10,20,50,100,250,500],(t=>(0,s._)("option",{value:t,key:t},(0,ot.zw)(t),9,DBt))),64))],32),(0,s._)("div",SBt,[(0,s.Wm)(l,{icon:"mdi:chevron-down",class:"tw-text-xl"})])])]),(0,s._)("div",null,[(0,s.Wm)((0,ye.SU)(yBt))])]),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",zBt,[(0,s._)("div",{class:(0,ot.C_)([[e.filters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",UBt,[(0,s.Wm)((0,ye.SU)(gBt))])],2)])):(0,s.kq)("",!0)])}}};const PBt=qBt;var LBt=PBt;const WBt={class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},ABt=["colspan"],$Bt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},EBt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),TBt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),FBt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),jBt=[TBt,FBt];var IBt={__name:"TableLoading",props:{columns:{type:Number,required:!1,default:10},rows:{type:Number,required:!1,default:10}},setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("tbody",WBt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:e.rows},[(0,s._)("div",$Bt,[EBt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.columns,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},jBt)))),128))])],8,ABt)])]))}};const VBt=IBt;var OBt=VBt;const HBt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},MBt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},RBt=(0,s._)("span",null,"Sourcing History",-1),NBt={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},YBt={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},ZBt={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},KBt={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},BBt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-6 tw-h-6 tw-bg-neutral-100 tw-rounded-full -tw-left-3 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),QBt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},JBt={class:"tw-text-gray-500"},GBt={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},XBt=["onMouseenter","onMouseleave"],tQt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600"},eQt={class:"tw-flex tw-flex-col tw-gap-4"},rQt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},aQt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},sQt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},lQt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},oQt={key:1,class:"tw-w-full"},iQt=(0,s._)("div",{class:"tw-items-center tw-justify-between tw-mb-3 sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},"Added a note:")],-1),wQt={class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var nQt={__name:"TableActionsHistory",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r={product_name:"Product name",product_url:"Product URL",video_url:"Video URL",is_paid:"Paid",paid_at:"Paid at",estimated_quantity:"Estimated Quantity",destination_country:"Destination Country",note_by_seller:"Note by seller",note_by_admin:"Note by admin",shipping_method:"Shipping Method",quotation_status:"Quotation Status",sourcing_status:"Sourcing Status",cost_per_unit:"Unit Price",total_cost:"Total Cost",additional_fees:"Additional Fees"},a={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}},l=t,o=e,i=(0,ye.Vh)(l,"visible"),w=(0,ye.Vh)(l,"sourcing"),n=(0,ye.iH)(!0),d=(0,ye.iH)([!0]),c=async()=>{n.value=!0,await EKt.history(w.value.id).then((t=>{"SUCCESS"==t.data.code&&(d.value=t.data.history,d.value.reverse())})),n.value=!1};return c(),(t,e)=>{const l=(0,s.up)("icon"),w=(0,s.up)("loading"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(c,{visible:i.value,onCancel:e[1]||(e[1]=t=>o("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",HBt,[(0,s._)("div",MBt,[RBt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(l,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),n.value?((0,s.wg)(),(0,s.iD)("div",NBt,[(0,s.Wm)(w)])):(0,s.kq)("",!0),n.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",YBt,[d.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",ZBt,"There is no history for this sourcing yet.")),d.value.length?((0,s.wg)(),(0,s.iD)("ol",KBt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-mb-10 tw-mx-6"},[BBt,(0,s._)("div",QBt,[(0,s._)("p",JBt,[(0,s.Uk)(" by "),(0,s._)("span",GBt,(0,ot.zw)(t.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:e=>t.isHovering=!0,onMouseleave:e=>t.isHovering=!1},(0,ot.zw)(t.isHovering?(0,ye.SU)(De())(t.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ye.SU)(De())(t.created_at).fromNow()),41,XBt)]),(0,s._)("div",tQt,[(0,s._)("div",eQt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.fields,(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[["note_by_seller","note_by_admin"].includes(t.field)?((0,s.wg)(),(0,s.iD)("div",oQt,[iQt,(0,s._)("div",wQt,(0,ot.zw)(t.new_value),1)])):((0,s.wg)(),(0,s.iD)("div",rQt,[(0,s.Uk)("Changed "),(0,s._)("span",aQt,(0,ot.zw)(r[t.field]),1),(0,s.Uk)(" from "),(0,s._)("span",sQt,(0,ot.zw)(t.field in a?a[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",lQt,(0,ot.zw)(t.field in a?a[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])])])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const dQt=nQt;var cQt=dQt;const uQt={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"};var pQt={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,ye.qj)({history:!1}),a=(0,ye.Vh)(e,"item");return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",uQt,["seller"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:0,to:{name:"sourcings.show",params:{id:a.value.id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-blue-300 tw-text-blue-500 tw-duration-200 hover:tw-bg-blue-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"solar:eye-bold"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:1,to:{name:"sourcings.show",params:{id:a.value.id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-emerald-300 tw-text-emerald-500 tw-duration-200 hover:tw-bg-emerald-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"clarity:edit-solid"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[0]||(e[0]=t=>r.history=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-purple-300 tw-text-purple-500 tw-duration-200 hover:tw-bg-purple-500 hover:tw-text-white"},[(0,s.Wm)(l,{icon:"iconamoon:history"})])):(0,s.kq)("",!0)]),"admin"==t.$user.role&&r.history?((0,s.wg)(),(0,s.j4)((0,ye.SU)(cQt),{key:0,visible:r.history,"onUpdate:visible":e[1]||(e[1]=t=>r.history=t),sourcing:a.value},null,8,["visible","sourcing"])):(0,s.kq)("",!0)])}}};const gQt=pQt;var mQt=gQt;const hQt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fQt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bQt={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},vQt={class:"tw-w-[100px] tw-truncate"},xQt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},yQt={class:"tw-w-[200px] tw-truncate"},_Qt={class:"tw-px-4 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kQt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},CQt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},DQt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},SQt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},zQt={key:0,class:"tw-flex tw-items-center tw-justify-center tw-gap-2"},UQt={key:1,class:"tw-flex tw-items-center tw-justify-center tw-gap-2"},qQt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},PQt={class:"tw-px-4"},LQt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},WQt={class:"tw-px-4"},AQt=["admin"];var $Qt={__name:"TableRow",props:{item:{type:Object,required:!0}},setup(t){const e=(0,i.oR)(),r=(0,s.Fl)((()=>e.getters["user/user"])),a=t,l=(0,ye.Vh)(a,"item"),o=(0,ye.iH)(TKt.find((t=>t.value==l.value.quotation_status))),w=(0,ye.iH)(FKt.find((t=>t.value==l.value.sourcing_status)));return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",hQt,(0,ot.zw)(l.value.id),1),(0,s._)("td",fQt,(0,ot.zw)((0,ye.SU)(De())(l.value.created_at).format("YYYY-MM-DD HH:mm:ss")),1),"admin"==r.value.role?((0,s.wg)(),(0,s.iD)("td",bQt,[(0,s._)("p",vQt,(0,ot.zw)(l.value.seller_name),1)])):(0,s.kq)("",!0),(0,s._)("td",xQt,[(0,s._)("p",yQt,(0,ot.zw)(l.value.product_name),1)]),(0,s._)("td",_Qt,[(0,s._)("p",{class:(0,ot.C_)({"tw-text-xs tw-text-center  tw-py-1 tw-font-medium tw-rounded tw-bg-blue-100 darkx:tw-bg-gray-800 darkx:tw-text-orange-400":"ocean-freight"===l.value.shipping_method,"tw-text-xs tw-text-center tw-py-1 tw-font-medium tw-bg-yellow-100  tw-rounded":"air-freight"===l.value.shipping_method})},(0,ot.zw)("air-freight"===l.value.shipping_method?"By Air":"ocean-freight"===l.value.shipping_method?"By Ocean":l.value.shipping_method),3)]),(0,s._)("td",kQt,(0,ot.zw)((0,ye.SU)(c))+(0,ot.zw)(l.value.total_cost),1),(0,s._)("td",CQt,(0,ot.zw)(l.value.estimated_quantity),1),(0,s._)("td",DQt,(0,ot.zw)(l.value.destination_country),1),(0,s._)("td",SQt,[(0,s._)("div",null,[l.value.is_paid?((0,s.wg)(),(0,s.iD)("div",zQt,[(0,s.Wm)(a,{icon:"mingcute:check-2-fill",class:"tw-text-xl tw-text-emerald-500"})])):((0,s.wg)(),(0,s.iD)("div",UQt,[(0,s.Wm)(a,{icon:"mdi:clock-time-two-outline",class:"tw-text-xl tw-text-yellow-500"})]))])]),(0,s._)("td",qQt,[(0,s._)("div",PQt,[(0,s._)("div",{class:(0,ot.C_)([o.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,ot.zw)(o.value.name),3)])]),(0,s._)("td",LQt,[(0,s._)("div",WQt,[(0,s._)("div",{class:(0,ot.C_)([w.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,ot.zw)(w.value.name),3)])]),(0,s._)("td",{admin:r.value},[(0,s._)("div",null,[(0,s.Wm)((0,ye.SU)(mQt),{item:l.value},null,8,["item"])])],8,AQt)])}}};const EQt=$Qt;var TQt=EQt;const FQt={class:"tw-overflow-x-auto"},jQt={class:"tw-inline-block tw-min-w-full tw-align-middle"},IQt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},VQt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},OQt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},HQt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},MQt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},RQt=["colspan"],NQt=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No request was found ! ",-1),YQt=[NQt];var ZQt={__name:"IndexTable",props:{loading:{required:!0,type:Boolean},sourcings:{required:!0,type:Array}},setup(t){const e=(0,i.oR)(),r=(0,s.Fl)((()=>e.getters["user/user"])),a=t,l=(0,ye.Vh)(a,"loading"),o=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"seller",name:"Seller",class:"tw-max-w-[150px] tw-truncate"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"total_cost",name:"Total Price",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"paid",name:"Paid",class:"tw-w-[80px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],w=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"total_cost",name:"Total Price",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"paid",name:"Paid",class:"tw-w-[80px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],n=(0,ye.iH)("admin"==r.value.role?o:w),d=(0,ye.Vh)(a,"sourcings");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",FQt,[(0,s._)("div",jQt,[(0,s._)("div",IQt,[(0,s._)("table",VQt,[(0,s._)("thead",OQt,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.field,class:(0,ot.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,ot.zw)(t.name),1)],2)))),128))])]),l.value?((0,s.wg)(),(0,s.j4)((0,ye.SU)(OBt),{key:1,columns:n.value.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[d.value.length?((0,s.wg)(),(0,s.iD)("tbody",HQt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.j4)((0,ye.SU)(TQt),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),d.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",MQt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:n.value.length},YQt,8,RQt)])]))],64))])])])])]))}};const KQt=ZQt;var BQt=KQt;const QQt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},JQt={class:"tw-px-3"},GQt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},XQt={class:"tw-flex tw-items-center tw-gap-x-3"},tJt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Requested Products ",-1),eJt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},rJt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all requested products. ",-1),aJt={key:0},sJt=(0,s._)("span",null,"Request new product",-1),lJt={class:"tw-mt-5"};var oJt={__name:"IndexSourcingView",setup(t){const e=(0,ye.iH)([]),r=(0,ye.qj)({total:0,current_page:1,last_page:1,from:1,to:1,per_page:10,sort_by:"created_at",sort_order:"desc",filters:{}}),a=(0,ye.iH)(!1),l=async()=>{a.value=!0,await EKt.paginate("",r).then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.sourcings.data,r.total=t.data.sourcings.total,r.current_page=t.data.sourcings.current_page,r.last_page=t.data.sourcings.last_page,r.from=t.data.sourcings.from,r.to=t.data.sourcings.to,r.per_page=t.data.sourcings.per_page,r.page=r.current_page)})),a.value=!1},o=t=>{r.current_page=t,r.page=t,l()};return(0,s.JJ)("options",{options:r,getData:l,setOptions:t=>Object.assign(r,t),setFilter:(t,e)=>r.filters[t]=e}),l(),(t,l)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",QQt,[(0,s._)("section",JQt,[(0,s._)("div",GQt,[(0,s._)("div",null,[(0,s._)("div",XQt,[tJt,(0,s._)("span",eJt,(0,ot.zw)(r.total)+" request",1)]),rJt]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",aJt,[(0,s.Wm)(i,{to:{name:"sourcings.new"},class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},{default:(0,s.w5)((()=>[sJt])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)((0,ye.SU)(LBt))]),(0,s._)("div",null,[(0,s.Wm)((0,ye.SU)(BQt),{loading:a.value,sourcings:e.value},null,8,["loading","sourcings"])]),(0,s._)("div",lJt,[(0,s.Wm)((0,ye.SU)(rw),{total:r.total,"current-page":r.current_page,"last-page":r.last_page,from:r.from,to:r.to,"per-page":r.per_page,onPageChange:o},null,8,["total","current-page","last-page","from","to","per-page"])])])])}}};const iJt=oJt;var wJt=iJt;const nJt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},dJt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),cJt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),uJt={class:"tw-p-5"},pJt={class:"tw-grid tw-grid-cols-5"},gJt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},mJt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),hJt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},fJt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),bJt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},vJt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),xJt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},yJt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),_Jt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},kJt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var CJt={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=(0,b.yj)(),r=t,a=(0,ye.Vh)(r,"sourcing"),l=(0,s.Fl)((()=>TKt.find((t=>t.value==a.value.quotation_status)))),o=(0,s.Fl)((()=>FKt.find((t=>t.value==a.value.sourcing_status))));return(t,r)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",nJt,[(0,s._)("p",null,[dJt,(0,s.Uk)(" "+(0,ot.zw)((0,ye.SU)(e).params.id),1)]),(0,s._)("p",null,[cJt,(0,s.Uk)(" "+(0,ot.zw)((0,ye.SU)(De())(a.value.created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",uJt,[(0,s._)("div",pJt,[(0,s._)("div",gJt,[(0,s._)("div",{class:(0,ot.C_)([[o.value.step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,ot.C_)([[o.value.step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),mJt]),(0,s._)("div",hJt,[(0,s._)("div",{class:(0,ot.C_)([[o.value.step>=2&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,ot.C_)([[o.value.step>=2&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),fJt]),(0,s._)("div",bJt,[(0,s._)("div",{class:(0,ot.C_)([[o.value.step>=3&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,ot.C_)([[o.value.step>=3&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),vJt]),(0,s._)("div",xJt,[(0,s._)("div",{class:(0,ot.C_)([[o.value.step>=4&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,ot.C_)([[o.value.step>=4&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),yJt]),(0,s._)("div",_Jt,[(0,s._)("div",{class:(0,ot.C_)([[o.value.step>=5&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,ot.C_)([[o.value.step>=5&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),kJt])])])])}}};const DJt=CJt;var SJt=DJt;const zJt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},UJt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Cancel product sourcing ",-1),qJt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to cancel with this sourcing ? ")],-1),PJt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},LJt=["disabled"],WJt=(0,s._)("span",null,"Confirm",-1);var AJt={__name:"SourcingRequestCancel",props:["sourcing"],setup(t){const e=(0,ye.iH)(!1),r=(0,ye.iH)(!1),a=t,l=(0,ye.Vh)(a,"sourcing"),o=(0,s.f3)("sourcing"),i=async()=>{console.log(a),r.value=!0,await EKt.update(l.value.id,{...l.value,quotation_status:"cancelled"}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Lc("Quotation has been cancelled"))})),e.value=!1,r.value=!1};return(t,a)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>e.value=!0),class:"tw-py-2 tw-px-7 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s.Wm)(l,{visible:e.value,onCancel:a[2]||(a[2]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",zJt,[UJt,qJt,(0,s._)("div",PJt,[(0,s._)("button",{onClick:a[1]||(a[1]=t=>e.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),WJt],8,LJt)])])])),_:1},8,["visible"])])}}};const $Jt=AJt;var EJt=$Jt;const TJt={class:"tw-p-5"},FJt={class:"tw-space-y-4"},jJt={class:"tw-flex tw-items-center tw-justify-between"},IJt=(0,s._)("span",null,"Destination Country:",-1),VJt={class:"tw-font-black tw-text-neutral-800, tw-capitalize"},OJt={class:"tw-flex tw-items-center tw-justify-between"},HJt=(0,s._)("span",null,"Shipping Method:",-1),MJt={key:0,class:"tw-font-black tw-text-neutral-800"},RJt={key:1,class:"tw-font-black tw-text-neutral-800"},NJt={class:"tw-flex tw-items-center tw-justify-between"},YJt=(0,s._)("span",null,"Quantity:",-1),ZJt={class:"tw-font-black tw-text-neutral-800"},KJt={class:"tw-flex tw-items-center tw-justify-between"},BJt=(0,s._)("span",null,"Unit Price:",-1),QJt={class:"tw-font-black tw-text-neutral-800"},JJt={class:"tw-flex tw-items-center tw-justify-between tw-"},GJt=(0,s._)("span",null,"Additional Fees:",-1),XJt={class:"tw-font-black tw-text-neutral-800"},tGt=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),eGt={class:"tw-flex tw-items-center tw-justify-between"},rGt=(0,s._)("span",null,"Total:",-1),aGt={class:"tw-font-black tw-text-neutral-800"},sGt={key:0,class:"tw-space-y-2 mt-5"},lGt=(0,s._)("span",null,"Confirm",-1),oGt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},iGt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Confirm product sourcing ",-1),wGt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to proceed with this action ? ")],-1),nGt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},dGt=["disabled"],cGt=(0,s._)("span",null,"Confirm",-1);var uGt={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=(0,ye.iH)(!1),r=(0,ye.iH)(!1),a=t,l=(0,ye.Vh)(a,"sourcing"),o=(0,s.f3)("sourcing"),i=async()=>{r.value=!0,await EKt.update(l.value.id,{...l.value,quotation_status:"confirmed"}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Lc("Quotation has been accepted"))})),e.value=!1,r.value=!1};return(t,a)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",TJt,[(0,s._)("div",null,[(0,s._)("ul",FJt,[(0,s._)("li",jJt,[IJt,(0,s._)("span",VJt,(0,ot.zw)(l.value.destination_country),1)]),(0,s._)("li",OJt,[HJt,"air-freight"==l.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",MJt,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==l.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",RJt,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",NJt,[YJt,(0,s._)("span",ZJt,(0,ot.zw)(l.value.estimated_quantity),1)]),(0,s._)("li",KJt,[BJt,(0,s._)("span",QJt,(0,ot.zw)(l.value.cost_per_unit)+" "+(0,ot.zw)((0,ye.SU)(c)),1)]),(0,s._)("li",JJt,[GJt,(0,s._)("span",XJt,(0,ot.zw)(l.value.additional_fees)+" "+(0,ot.zw)((0,ye.SU)(c)),1)]),tGt,(0,s._)("li",eGt,[rGt,(0,s._)("span",aGt,(0,ot.zw)(parseFloat(l.value.total_cost).toFixed(2))+" "+(0,ot.zw)((0,ye.SU)(c)),1)])])]),"quoting"==l.value.quotation_status||["quoting","pending"].includes(l.value.quotation_status)?((0,s.wg)(),(0,s.iD)("div",sGt,["quoting"==l.value.quotation_status?((0,s.wg)(),(0,s.iD)("button",{key:0,disabled:!1,onClick:a[0]||(a[0]=t=>e.value=!0),class:"tw-py-2 tw-px-7 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),lGt])):(0,s.kq)("",!0),["quoting","pending"].includes(l.value.quotation_status)?((0,s.wg)(),(0,s.j4)((0,ye.SU)(EJt),{key:1,sourcing:l.value},null,8,["sourcing"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"quoting"==l.value.quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:1,visible:e.value,onCancel:a[2]||(a[2]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",oGt,[iGt,wGt,(0,s._)("div",nGt,[(0,s._)("button",{onClick:a[1]||(a[1]=t=>e.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),cGt],8,dGt)])])])),_:1},8,["visible"])):(0,s.kq)("",!0)])}}};const pGt=uGt;var gGt=pGt;const mGt={class:"tw-w-full"},hGt={class:"tw-w-full"},fGt=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Product details "),(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Quantity ")])],-1),bGt={class:"tw-pt-2"},vGt={class:"tw-whitespace-normal tw-max-w-[500px] tw-truncate"},xGt=["href"],yGt={class:"tw-pt-2"};var _Gt={__name:"SourcingRequestProductDetails",props:["sourcing"],setup(t){const e=t,r=(0,ye.Vh)(e,"sourcing");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",mGt,[(0,s._)("table",hGt,[fGt,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",bGt,[(0,s._)("p",vGt,[(0,s._)("a",{href:r.value.product_url,class:"tw-text-blue-500 tw-cursor-pointer hover:tw-underline"},(0,ot.zw)(r.value.product_name),9,xGt)])]),(0,s._)("td",yGt,(0,ot.zw)(r.value.estimated_quantity),1)])])])]))}};const kGt=_Gt;var CGt=kGt;const DGt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},SGt={class:"tw-px-3"},zGt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},UGt={class:"tw-flex tw-items-center tw-gap-x-5"},qGt={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},PGt={class:"tw-flex tw-items-center tw-gap-2"},LGt={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},WGt={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},AGt={class:"tw-space-y-4 lg:tw-col-span-8"},$Gt={key:0,class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},EGt={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},TGt=(0,s._)("span",null,[(0,s.Uk)("Note from "),(0,s._)("span",{class:"tw-font-bold"},"Admin")],-1),FGt={class:"tw-p-2 tw-border tw-border-t-0 tw-bg-white tw-border-blue-200 tw-rounded-b-md"},jGt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},IGt={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},VGt={class:"lg:tw-col-span-4"},OGt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var HGt={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=(0,b.yj)(),r=(0,s.Fl)((()=>TKt.find((t=>t.value==o.value.quotation_status)))),a=(0,s.Fl)((()=>FKt.find((t=>t.value==o.value.sourcing_status)))),l=t,o=(0,ye.Vh)(l,"sourcing");(0,ye.Vh)(l,"loading");return(t,l)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",DGt,[(0,s._)("section",SGt,[(0,s._)("div",zGt,[(0,s._)("div",null,[(0,s._)("div",UGt,[(0,s._)("h2",qGt," Quotation: #"+(0,ot.zw)((0,ye.SU)(e).params.id),1),(0,s._)("div",PGt,[(0,s._)("div",{class:(0,ot.C_)([r.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,ot.zw)(r.value.name),3),(0,s._)("div",{class:(0,ot.C_)([a.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,ot.zw)(a.value.name),3)])]),(0,s._)("p",LGt,(0,ot.zw)((0,ye.SU)(De())(o.value.created_at).format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",WGt,[(0,s._)("div",AGt,[o.value.note_by_admin?((0,s.wg)(),(0,s.iD)("div",$Gt,[(0,s._)("div",EGt,[(0,s.Wm)(i,{icon:"ph:info-fill",class:"tw-text-xl tw-text-blue-500"}),TGt]),(0,s._)("div",FGt,[(0,s._)("h1",null,(0,ot.zw)(o.value.note_by_admin),1)])])):(0,s.kq)("",!0),(0,s._)("div",jGt,[(0,s.Wm)((0,ye.SU)(SJt),{sourcing:o.value},null,8,["sourcing"])]),(0,s._)("div",IGt,[(0,s.Wm)((0,ye.SU)(CGt),{sourcing:o.value},null,8,["sourcing"])])]),(0,s._)("div",VGt,[(0,s._)("div",OGt,[(0,s.Wm)((0,ye.SU)(gGt),{sourcing:o.value},null,8,["sourcing"])])])])])}}};const MGt=HGt;var RGt=MGt;const NGt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},YGt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),ZGt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),KGt={class:"tw-p-3 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-border-b tw-border-solid tw-border-neutral-200"},BGt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},QGt={class:"tw-relative tw-z-40"},JGt=["disabled","value"],GGt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),XGt={key:0,class:""},tXt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},eXt={class:"tw-space-y-1 tw-py-1"},rXt=["onClick"],aXt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},sXt={class:"tw-relative tw-z-30"},lXt=["disabled","value"],oXt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),iXt={key:0,class:""},wXt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},nXt={class:"tw-space-y-1 tw-py-1"},dXt=["onClick"],cXt={class:"tw-p-5"},uXt={class:"tw-grid tw-grid-cols-5"},pXt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},gXt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),mXt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},hXt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),fXt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},bXt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),vXt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},xXt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),yXt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},_Xt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var kXt={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=(0,b.yj)(),r=t,l=(0,ye.Vh)(r,"sourcing"),o=(0,s.f3)("sourcing"),i=(0,ye.qj)({quotation_status:!1,sourcing_status:!1}),w=(0,ye.qj)({quotation_status:!1,sourcing_status:!1}),n=(0,s.Fl)((()=>TKt.find((t=>t.value==l.value.quotation_status)))),d=(0,s.Fl)((()=>FKt.find((t=>t.value==l.value.sourcing_status)))),c=async(t,e)=>{if(i[t]=!1,l.value[t]==e.value)return!1;w[t]=!0,await EKt.update(l.value.id,{...l.value,[t]:e.value}).then((t=>{"SUCCESS"==t.data.code&&o.updateSourcing(t.data.sourcing)})),w[t]=!1};return(t,r)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",NGt,[(0,s._)("p",null,[YGt,(0,s.Uk)(" "+(0,ot.zw)((0,ye.SU)(e).params.id),1)]),(0,s._)("p",null,[ZGt,(0,s.Uk)(" "+(0,ot.zw)((0,ye.SU)(De())(l.value.created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",KGt,[(0,s._)("div",null,[(0,s._)("label",BGt,[(0,s.Uk)(" Quotation Status "),w.quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",QGt,[(0,s._)("input",{class:(0,ot.C_)([[!1],"tw-bg-gray-50 tw-text-start tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:w.quotation_status,onClick:r[0]||(r[0]=t=>i.quotation_status=!i.quotation_status),type:"button",value:n.value.name,readonly:"",required:""},null,8,JGt),GGt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.quotation_status?((0,s.wg)(),(0,s.iD)("div",XGt,[(0,s._)("div",tXt,[(0,s._)("div",eXt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ye.SU)(TKt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("quotation_status",t),class:(0,ot.C_)(["tw-w-full tw-p-2",[t.class]])},(0,ot.zw)(t.name),11,rXt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[le.L,()=>i.quotation_status=!1]]),(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("label",aXt,[(0,s.Uk)(" Sourcing Status "),w.sourcing_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",sXt,[(0,s._)("input",{class:(0,ot.C_)([[!1],"tw-bg-gray-50 tw-border tw-text-start tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:w.sourcing_status,onClick:r[1]||(r[1]=t=>i.sourcing_status=!i.sourcing_status),type:"button",value:d.value.name,readonly:"",required:""},null,8,lXt),oXt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.sourcing_status?((0,s.wg)(),(0,s.iD)("div",iXt,[(0,s._)("div",wXt,[(0,s._)("div",nXt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ye.SU)(FKt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("sourcing_status",t),class:(0,ot.C_)(["tw-w-full tw-p-2",[t.class]])},(0,ot.zw)(t.name),11,dXt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[le.L,()=>i.sourcing_status=!1]]),(0,s.kq)("",!0)])]),(0,s._)("div",cXt,[(0,s._)("div",uXt,[(0,s._)("div",pXt,[(0,s._)("div",{class:(0,ot.C_)([[d.value.step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,ot.C_)([[d.value.step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),gXt]),(0,s._)("div",mXt,[(0,s._)("div",{class:(0,ot.C_)([[d.value.step>=2&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,ot.C_)([[d.value.step>=2&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),hXt]),(0,s._)("div",fXt,[(0,s._)("div",{class:(0,ot.C_)([[d.value.step>=3&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,ot.C_)([[d.value.step>=3&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),bXt]),(0,s._)("div",vXt,[(0,s._)("div",{class:(0,ot.C_)([[d.value.step>=4&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,ot.C_)([[d.value.step>=4&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),xXt]),(0,s._)("div",yXt,[(0,s._)("div",{class:(0,ot.C_)([[d.value.step>=5&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,ot.C_)([[d.value.step>=5&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),_Xt])])])])}}};const CXt=kXt;var DXt=CXt;const SXt={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},zXt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},UXt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Quotation ",-1),qXt={class:"tw-p-5 tw-space-y-4"},PXt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),LXt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),WXt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),AXt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),$Xt=[LXt,WXt,AXt],EXt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},TXt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),FXt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},jXt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Unit Price",-1),IXt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},VXt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Additional Fees",-1),OXt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},HXt=(0,s._)("div",{class:"tw-border-b tw-border-solid tw-border-neutral-300 tw-my-2"},null,-1),MXt={class:"tw-flex tw-items-center tw-justify-between"},RXt=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Total",-1),NXt={class:"tw-text-lg tw-font-bold"},YXt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},ZXt=["disabled"],KXt=(0,s._)("span",null,"Send quotation",-1);var BXt={__name:"SourcingRequestPricingEdit",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,s.f3)("sourcing"),i=(0,ye.iH)(!1),w=(0,ye.qj)({sourcing:{},errors:{}}),n=(0,s.Fl)((()=>(w.sourcing.estimated_quantity??0)*(w.sourcing.cost_per_unit??0)+(w.sourcing.additional_fees??0))),d=()=>{r("update:visible",!1)},u=async()=>{i.value=!0;const t="pending"==w.sourcing.quotation_status?"quoting":w.sourcing.quotation_status;await EKt.update(w.sourcing.id,{...w.sourcing,total_cost:n.value,quotation_status:t}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Lc("Quotation sent"),d())}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)w.errors[e]=t?.response?.data?.errors[e][0]})),i.value=!1};return(0,s.YP)((()=>l.visible),(()=>{w.sourcing=ho(l.sourcing)})),(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(r,{visible:l.visible,onCancel:d},{default:(0,s.w5)((()=>[(0,s._)("div",SXt,[(0,s._)("div",zXt,[UXt,(0,s._)("div",qXt,[(0,s._)("div",null,[PXt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>w.sourcing.shipping_method=t),onInput:e[1]||(e[1]=t=>w.errors.shipping_method=null),class:(0,ot.C_)([[w.errors.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},$Xt,34),[[a.bM,w.sourcing.shipping_method,void 0,{number:!0}]]),w.errors.shipping_method?((0,s.wg)(),(0,s.iD)("label",EXt,(0,ot.zw)(w.errors.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[TXt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.sourcing.estimated_quantity=t),onInput:e[3]||(e[3]=t=>w.errors.estimated_quantity=null),type:"number",min:"0",max:"10000",class:(0,ot.C_)([[w.errors.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter the quantity",required:""},null,34),[[a.nr,w.sourcing.estimated_quantity,void 0,{number:!0}]]),w.errors.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",FXt,(0,ot.zw)(w.errors.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[jXt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>w.sourcing.cost_per_unit=t),onInput:e[5]||(e[5]=t=>w.errors.cost_per_unit=null),type:"number",class:(0,ot.C_)([[w.errors.cost_per_unit&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a unit price for the quotation",required:""},null,34),[[a.nr,w.sourcing.cost_per_unit,void 0,{number:!0}]]),w.errors.cost_per_unit?((0,s.wg)(),(0,s.iD)("label",IXt,(0,ot.zw)(w.errors.cost_per_unit),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[VXt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>w.sourcing.additional_fees=t),onInput:e[7]||(e[7]=t=>w.errors.additional_fees=null),type:"number",class:(0,ot.C_)([[w.errors.additional_fees&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a additional fees for the sourcing",required:""},null,34),[[a.nr,w.sourcing.additional_fees,void 0,{number:!0}]]),w.errors.additional_fees?((0,s.wg)(),(0,s.iD)("label",OXt,(0,ot.zw)(w.errors.additional_fees),1)):(0,s.kq)("",!0)]),HXt,(0,s._)("div",MXt,[RXt,(0,s._)("span",NXt,(0,ot.zw)(n.value.toFixed(2))+" "+(0,ot.zw)((0,ye.SU)(c)),1)])]),(0,s._)("div",YXt,[(0,s._)("button",{onClick:d,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:u,disabled:i.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),KXt],8,ZXt)])])])])),_:1},8,["visible"])}}};const QXt=BXt;var JXt=QXt;const GXt={class:"tw-flex tw-items-center tw-justify-between tw-p-2 tw-border-b tw-border-solid tw-border-gray-200"},XXt=(0,s._)("span",null,"Paid",-1),t0t=["disabled"],e0t={class:"tw-p-5"},r0t={class:"tw-space-y-4"},a0t={class:"tw-flex tw-items-center tw-justify-between"},s0t=(0,s._)("span",null,"Destination Country:",-1),l0t={class:"tw-font-black tw-text-neutral-800 tw-capitalize"},o0t={class:"tw-flex tw-items-center tw-justify-between"},i0t=(0,s._)("span",null,"Shipping Method:",-1),w0t={key:0,class:"tw-font-black tw-text-neutral-800"},n0t={key:1,class:"tw-font-black tw-text-neutral-800"},d0t={class:"tw-flex tw-items-center tw-justify-between"},c0t=(0,s._)("span",null,"Quantity:",-1),u0t={class:"tw-font-black tw-text-neutral-800"},p0t={class:"tw-flex tw-items-center tw-justify-between"},g0t=(0,s._)("span",null,"Unit Price:",-1),m0t={class:"tw-font-black tw-text-neutral-800"},h0t={class:"tw-flex tw-items-center tw-justify-between tw-"},f0t=(0,s._)("span",null,"Additional Fees:",-1),b0t={class:"tw-font-black tw-text-neutral-800"},v0t=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),x0t={class:"tw-flex tw-items-center tw-justify-between"},y0t=(0,s._)("span",null,"Total:",-1),_0t={class:"tw-font-black tw-text-neutral-800"},k0t={class:"tw-space-y-2 tw-px-5 tw-pb-5"},C0t=(0,s._)("span",null,"Edit",-1);var D0t={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=t,r=(0,ye.Vh)(e,"sourcing"),a=(0,s.f3)("sourcing"),l=(0,ye.iH)(!1),o=(0,ye.iH)(!1),i=(0,ye.iH)(!1);l.value=1==e.sourcing.is_paid;const w=async()=>{i.value=!0,l.value=!l.value;const t=(new Date).toISOString().slice(0,19).replace("T"," ");await EKt.update(r.value.id,{...e.sourcing,is_paid:l.value?1:0,paid_at:l.value?t:null}).then((t=>{"SUCCESS"==t.data.code&&(a.updateSourcing(t.data.sourcing),l.value=t.data.sourcing.is_paid)}),(t=>{console.log(t),l.value=1==e.sourcing.is_paid})),i.value=!1};return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",GXt,[XXt,(0,s._)("button",{disabled:i.value,onClick:w,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,ot.C_)([[l.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[(0,s.Wm)(a,{class:(0,ot.C_)([[!l.value&&!i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-yellow-500"]),icon:"mdi:clock-time-two-outline"},null,8,["class"]),(0,s.Wm)(a,{class:(0,ot.C_)([[l.value&&!i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-emerald-500"]),icon:"mingcute:check-2-fill"},null,8,["class"]),(0,s.Wm)(a,{class:(0,ot.C_)([[i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-orange-500"]),icon:"eos-icons:three-dots-loading"},null,8,["class"])],2)],8,t0t)]),(0,s._)("div",e0t,[(0,s._)("ul",r0t,[(0,s._)("li",a0t,[s0t,(0,s._)("span",l0t,(0,ot.zw)(r.value.destination_country),1)]),(0,s._)("li",o0t,[i0t,"air-freight"==r.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",w0t,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==r.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",n0t,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",d0t,[c0t,(0,s._)("span",u0t,(0,ot.zw)(r.value.estimated_quantity),1)]),(0,s._)("li",p0t,[g0t,(0,s._)("span",m0t,(0,ot.zw)(r.value.cost_per_unit)+" "+(0,ot.zw)((0,ye.SU)(c)),1)]),(0,s._)("li",h0t,[f0t,(0,s._)("span",b0t,(0,ot.zw)(r.value.additional_fees)+" "+(0,ot.zw)((0,ye.SU)(c)),1)]),v0t,(0,s._)("li",x0t,[y0t,(0,s._)("span",_0t,(0,ot.zw)(r.value.total_cost)+" "+(0,ot.zw)((0,ye.SU)(c)),1)])])]),(0,s._)("div",k0t,[(0,s._)("button",{disabled:!1,onClick:e[0]||(e[0]=t=>o.value=!0),class:"tw-py-2 tw-px-7 tw-gap-2 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),(0,s.Wm)(a,{icon:"clarity:edit-solid",class:"tw-text-lg tw-text-white"}),C0t]),(0,s.kq)("",!0)]),(0,s.Wm)((0,ye.SU)(JXt),{sourcing:r.value,visible:o.value,"onUpdate:visible":e[1]||(e[1]=t=>o.value=t)},null,8,["sourcing","visible"])])}}};const S0t=D0t;var z0t=S0t;const U0t={class:"tw-p-5"},q0t={class:"tw-grid tw-grid-cols-12 tw-gap-5"},P0t={class:"md:tw-col-span-6 tw-col-span-12"},L0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),W0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},A0t={class:"md:tw-col-span-6 tw-col-span-12"},$0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),E0t={class:"tw-relative"},T0t=["href"],F0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},j0t={class:"md:tw-col-span-6 tw-col-span-12"},I0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),V0t={class:"tw-relative"},O0t=["href"],H0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},M0t={class:"md:tw-col-span-6 tw-col-span-12"},R0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),N0t={class:"tw-relative"},Y0t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),Z0t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),K0t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),B0t=[Y0t,Z0t,K0t],Q0t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),J0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},G0t={class:"md:tw-col-span-6 tw-col-span-12"},X0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),t1t={class:"tw-relative"},e1t=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),r1t=[e1t],a1t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),s1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},l1t={class:"tw-col-span-12"},o1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's note",-1),i1t={class:"tw-col-span-12"},w1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Admin's note",-1),n1t={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-pt-4 tw-gap-3"},d1t=["disabled"],c1t=(0,s._)("span",null,"Update",-1);var u1t={__name:"SourcingRequestDetails",props:["sourcing"],setup(t){const e=(0,ye.qj)({}),r=t,l=(0,ye.iH)(!1),o=(0,s.f3)("sourcing"),i=(0,ye.qj)({sourcing:{}}),w=async()=>{l.value=!0,await EKt.update(i.sourcing.id,i.sourcing).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Lc("Updated success"))}),(t=>{if(422==t?.response?.status)for(let r in t?.response?.data?.errors)e[r]=t?.response?.data?.errors[r][0]})),l.value=!1};return(0,s.YP)((()=>r.sourcing),(()=>{i.sourcing=ho(r.sourcing)}),{deep:!0}),i.sourcing=ho(r.sourcing),(t,r)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",U0t,[(0,s._)("div",q0t,[(0,s._)("div",P0t,[L0t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>i.sourcing.product_name=t),onInput:r[1]||(r[1]=t=>e.product_name=null),class:(0,ot.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,i.sourcing.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",W0t,(0,ot.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",A0t,[$0t,(0,s._)("div",E0t,[(0,s._)("a",{href:i.sourcing.product_url,target:"_blank",class:"tw-p-1 tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2"},[(0,s.Wm)(o,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500 hover:tw-text-orange-400 tw-duration-200"})],8,T0t),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>i.sourcing.product_url=t),onInput:r[3]||(r[3]=t=>e.product_url=null),class:(0,ot.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.product_url]])]),e.product_url?((0,s.wg)(),(0,s.iD)("label",F0t,(0,ot.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",j0t,[I0t,(0,s._)("div",V0t,[(0,s._)("a",{href:i.sourcing.video_url,target:"_blank",class:"tw-p-1 tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2"},[(0,s.Wm)(o,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500 hover:tw-text-orange-400 tw-duration-200"})],8,O0t),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[4]||(r[4]=t=>i.sourcing.video_url=t),onInput:r[5]||(r[5]=t=>e.video_url=null),class:(0,ot.C_)([[e.video_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.video_url]])]),e.video_url?((0,s.wg)(),(0,s.iD)("label",H0t,(0,ot.zw)(e.video_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",M0t,[R0t,(0,s._)("div",N0t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":r[6]||(r[6]=t=>i.sourcing.shipping_method=t),onChange:r[7]||(r[7]=t=>e.shipping_method=null),class:(0,ot.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},B0t,34),[[a.bM,i.sourcing.shipping_method]]),Q0t]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",J0t,(0,ot.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",G0t,[X0t,(0,s._)("div",t1t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":r[8]||(r[8]=t=>i.sourcing.destination_country=t),onChange:r[9]||(r[9]=t=>e.destination_country=null),class:(0,ot.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},r1t,34),[[a.bM,i.sourcing.destination_country]]),a1t]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",s1t,(0,ot.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",l1t,[o1t,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":r[10]||(r[10]=t=>i.sourcing.note_by_seller=t),rows:"2",class:"tw-bg-gray-50 tw-borderx tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"There is no note"},null,512),[[a.nr,i.sourcing.note_by_seller]])]),(0,s._)("div",i1t,[w1t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":r[11]||(r[11]=t=>i.sourcing.note_by_admin=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Leave a note for seller"},null,512),[[a.nr,i.sourcing.note_by_admin]])]),(0,s._)("div",n1t,[(0,s._)("button",{disabled:l.value,onClick:w,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),c1t],8,d1t)])])])}}};const p1t=u1t;var g1t=p1t;const m1t={class:"tw-relative"},h1t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},f1t={class:"tw-px-3"},b1t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},v1t={class:"tw-flex tw-items-center tw-gap-x-5"},x1t={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},y1t={class:"tw-flex tw-items-center tw-gap-2"},_1t={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},k1t={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},C1t={class:"tw-space-y-4 lg:tw-col-span-8"},D1t={class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},S1t={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},z1t={class:"tw-font-bold"},U1t={key:0,class:"tw-w-full tw-overflow-hidden"},q1t={class:"tw-p-2 tw-border tw-border-t-0 tw-border-blue-200 tw-rounded-b-md"},P1t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},L1t={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},W1t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},A1t={class:"lg:tw-col-span-4"},$1t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var E1t={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=(0,b.yj)(),r=t,a=(0,ye.Vh)(r,"sourcing"),l=((0,ye.Vh)(r,"loading"),(0,s.Fl)((()=>TKt.find((t=>t.value==a.value.quotation_status))))),o=(0,s.Fl)((()=>FKt.find((t=>t.value==a.value.sourcing_status))));return(t,r)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",m1t,[(0,s._)("div",h1t,[(0,s._)("section",f1t,[(0,s._)("div",b1t,[(0,s._)("div",null,[(0,s._)("div",v1t,[(0,s._)("h2",x1t," Quotation: #"+(0,ot.zw)((0,ye.SU)(e).params.id),1),(0,s._)("div",y1t,[(0,s._)("div",{class:(0,ot.C_)([l.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,ot.zw)(l.value.name),3),(0,s._)("div",{class:(0,ot.C_)([o.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,ot.zw)(o.value.name),3)])]),(0,s._)("p",_1t,(0,ot.zw)((0,ye.SU)(De())("2023-09-08T17:45:06.000000Z").format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",k1t,[(0,s._)("div",C1t,[(0,s._)("div",D1t,[(0,s._)("div",S1t,[(0,s.Wm)(i,{icon:"solar:user-bold",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",null,[(0,s._)("span",z1t,(0,ot.zw)(a.value.seller.firstname)+" "+(0,ot.zw)(a.value.seller.lastname),1)])]),a.value.note_by_seller?((0,s.wg)(),(0,s.iD)("div",U1t,[(0,s._)("div",q1t,[(0,s._)("h1",null,(0,ot.zw)(a.value.note_by_seller),1)])])):(0,s.kq)("",!0)]),(0,s._)("div",P1t,[(0,s.Wm)((0,ye.SU)(DXt),{sourcing:a.value},null,8,["sourcing"])]),(0,s._)("div",L1t,[(0,s.Wm)((0,ye.SU)(CGt),{sourcing:a.value},null,8,["sourcing"])]),(0,s._)("div",W1t,[(0,s.Wm)((0,ye.SU)(g1t),{sourcing:a.value},null,8,["sourcing"])])]),(0,s._)("div",A1t,[(0,s._)("div",$1t,[(0,s.Wm)((0,ye.SU)(z0t),{sourcing:a.value},null,8,["sourcing"])])])])])}}};const T1t=E1t;var F1t=T1t;const j1t={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"};var I1t={__name:"ShowSourcingView",setup(t){const e=(0,i.oR)(),r=(0,b.yj)(),a=(0,b.tv)(),l=r.params.id,o=(0,ye.iH)(!0),w=(0,ye.iH)(null),n=e.getters["user/user"],d=async()=>{o.value=!0,await EKt.get(l).then((t=>{"SUCCESS"==t.data.code&&(w.value=t.data.sourcing),"NOT_FOUND"==t.data.code&&a.push({name:"404"})})),o.value=!1},c=t=>{w.value=t};return(0,s.JJ)("sourcing",{updateSourcing:c}),d(),(t,e)=>{const r=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.value?((0,s.wg)(),(0,s.iD)("div",j1t,[(0,s.Wm)(r)])):(0,s.kq)("",!0),o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["seller"==(0,ye.SU)(n).role?((0,s.wg)(),(0,s.j4)((0,ye.SU)(RGt),{key:0,sourcing:w.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0),"admin"==(0,ye.SU)(n).role?((0,s.wg)(),(0,s.j4)((0,ye.SU)(F1t),{key:1,sourcing:w.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0)],64))],64)}}};const V1t=I1t;var O1t=V1t;const H1t={class:"tw-p-5 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},M1t={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-12 tw-gap-5 tw-mt-5"},R1t={class:"tw-hidden tw-col-span-4 tw-py-16 md:tw-flex tw-items-center tw-justify-center"},N1t=["src"],Y1t={class:"tw-col-span-8"},Z1t=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-2xl tw-font-semibold"},"We Source For You"),(0,s._)("p",{class:"tw-text-lg tw-mt-2"},"Let our professional sourcing team take care all of your sourcing.")],-1),K1t={class:"tw-grid tw-grid-cols-12 tw-mt-10 tw-gap-5"},B1t={class:"md:tw-col-span-6 tw-col-span-12"},Q1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),J1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},G1t={class:"md:tw-col-span-6 tw-col-span-12"},X1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),t2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},e2t={class:"md:tw-col-span-6 tw-col-span-12"},r2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),a2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},s2t={class:"md:tw-col-span-6 tw-col-span-12"},l2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),o2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},i2t={class:"tw-col-span-12"},w2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),n2t={class:"md:tw-col-span-6 tw-col-span-12"},d2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),c2t={class:"tw-relative"},u2t=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),p2t=[u2t],g2t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),m2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},h2t={class:"md:tw-col-span-6 tw-col-span-12"},f2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),b2t={class:"tw-relative"},v2t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),x2t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),y2t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),_2t=[v2t,x2t,y2t],k2t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),C2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},D2t={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-py-4 tw-gap-3"},S2t=(0,s._)("button",{class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",-1),z2t=["disabled"],U2t=(0,s._)("span",null,"Request the product",-1);var q2t={__name:"CreateSourcingView",setup(t){const e=(0,ye.qj)({}),r=(0,ye.iH)(!1),l=(0,ye.qj)({destination_country:"lebanon",shipping_method:"not-selected"}),o=async()=>{r.value=!0,await EKt.create(l).then((t=>{"SUCCESS"==t.data.code&&(Lc("Your request has been added"),Object.keys(l).forEach((t=>l[t]=null)),l.destination_country="lebanon",l.shipping_method="not-selected")}),(t=>{if(422==t.response.status)for(let r in t.response.data.errors)e[r]=t.response.data.errors[r][0]})),r.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",H1t,[(0,s._)("div",M1t,[(0,s._)("div",R1t,[(0,s._)("img",{src:t.$frontend("images/delivering.svg"),class:"tw-w-full"},null,8,N1t)]),(0,s._)("div",Y1t,[Z1t,(0,s._)("div",K1t,[(0,s._)("div",B1t,[Q1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.product_name=t),onInput:i[1]||(i[1]=t=>e.product_name=null),class:(0,ot.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,l.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",J1t,(0,ot.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",G1t,[X1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[2]||(i[2]=t=>l.estimated_quantity=t),onInput:i[3]||(i[3]=t=>e.estimated_quantity=null),class:(0,ot.C_)([[e.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"number",placeholder:"Estimated quantity",required:""},null,34),[[a.nr,l.estimated_quantity]]),e.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",t2t,(0,ot.zw)(e.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",e2t,[r2t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[4]||(i[4]=t=>l.product_url=t),onInput:i[5]||(i[5]=t=>e.product_url=null),class:(0,ot.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.product_url]]),e.product_url?((0,s.wg)(),(0,s.iD)("label",a2t,(0,ot.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",s2t,[l2t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[6]||(i[6]=t=>l.video_url=t),onInput:i[7]||(i[7]=t=>e.video_url=null),class:(0,ot.C_)([[e.video_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.video_url]]),e.video_url?((0,s.wg)(),(0,s.iD)("label",o2t,(0,ot.zw)(e.video_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",i2t,[w2t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":i[8]||(i[8]=t=>l.note_by_seller=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Special request..."},null,512),[[a.nr,l.note_by_seller]])]),(0,s._)("div",n2t,[d2t,(0,s._)("div",c2t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[9]||(i[9]=t=>l.destination_country=t),onChange:i[10]||(i[10]=t=>e.destination_country=null),class:(0,ot.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},p2t,34),[[a.bM,l.destination_country]]),g2t]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",m2t,(0,ot.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",h2t,[f2t,(0,s._)("div",b2t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[11]||(i[11]=t=>l.shipping_method=t),onChange:i[12]||(i[12]=t=>e.shipping_method=null),class:(0,ot.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},_2t,34),[[a.bM,l.shipping_method]]),k2t]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",C2t,(0,ot.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",D2t,[S2t,(0,s._)("button",{disabled:r.value,onClick:o,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),U2t],8,z2t)])])])])]))}};const P2t=q2t;var L2t=P2t,W2t={name:"sourcings",path:"/sourcings",component:za,meta:{module:"sourcing"},children:[{name:"sourcings.index",path:"",component:wJt,meta:{module:"sourcing",title:"Sourcing",role:["admin","seller"]}},{name:"sourcings.admin",path:"admin",redirect:{name:"sourcings.index"}},{name:"sourcings.seller",path:"seller",redirect:{name:"sourcings.index"}},{name:"sourcings.new",path:"new",component:L2t,meta:{module:"sourcing",title:"New Sourcing",role:"seller"}},{name:"sourcings.show",path:":id",component:O1t,meta:{module:"sourcing",title:"Sourcing",role:["seller","admin"]}}]};class A2t{async create(t){return await E.getCookie(),A.post("api/settings/create",t)}}var $2t=new A2t;const E2t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},T2t={class:"tw-px-3"},F2t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Settings "),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Cron jobs for invoices. ")])],-1),j2t={class:"tw-mt-5"},I2t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},V2t={class:"tw-col-span-2 md:tw-col-span-1"},O2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Interval Time",-1),H2t={class:"tw-relative"},M2t=(0,s.uE)('<option value="" disabled>Select an Interval</option><option value="daily">Daily</option><option value="weekly">Weekly</option><option value="monthly">Monthly</option><option value="yearly">Yearly</option>',5),R2t=[M2t],N2t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Y2t={class:"tw-col-span-2 md:tw-col-span-1"},Z2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Cancellation Date Begins",-1),K2t={class:"tw-flex tw-justify-end tw-items-center tw-p-4"},B2t=["disabled"],Q2t=(0,s._)("span",null,"Save",-1);var J2t={__name:"CronJobs",setup(t){const e=(0,ye.iH)(!1),r=(0,ye.iH)(null),l=(0,ye.iH)(""),o=async()=>{e.value=!0,await $2t.create([{name:"e",value:r.value},{name:"factorisation_interval_date",value:l.value}]).then((t=>{console.log(t)}),(t=>{console.log(t)})),e.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",E2t,[(0,s._)("section",T2t,[F2t,(0,s._)("div",j2t,[(0,s._)("div",I2t,[(0,s._)("div",V2t,[O2t,(0,s._)("div",H2t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.value=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},R2t,512),[[a.bM,l.value]]),N2t])]),(0,s._)("div",Y2t,[Z2t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[1]||(i[1]=t=>r.value=t),type:"datetime-local",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"123-45-678",required:""},null,512),[[a.nr,r.value]])])])]),(0,s._)("div",K2t,[(0,s._)("button",{onClick:o,disabled:e.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[e.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Q2t],8,B2t)])])]))}};const G2t=J2t;var X2t=G2t;const t5t=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Settings ")],-1),e5t={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"},r5t={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},a5t={class:"tw-w-full"},s5t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),l5t={class:"tw-w-full"},o5t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),i5t={class:"tw-w-full"},w5t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),n5t={class:"tw-w-full"},d5t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),c5t={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},u5t=(0,s._)("span",null,"Update Password: ",-1),p5t={class:"tw-w-full"},g5t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),m5t={class:"tw-w-full"},h5t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),f5t={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},b5t=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),v5t=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function x5t(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[t5t,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",e5t,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",r5t,[(0,s._)("div",null,[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",a5t,[s5t,(0,s.Wm)(dt.hw,{"error-messages":l.formStatus.firstname.message,modelValue:l.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>l.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",l5t,[o5t,(0,s.Wm)(dt.hw,{"error-messages":l.formStatus.lastname.message,modelValue:l.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",i5t,[w5t,(0,s.Wm)(dt.hw,{"error-messages":l.formStatus.email.message,modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.email=t),readonly:"",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",n5t,[d5t,(0,s.Wm)(dt.hw,{"error-messages":l.formStatus.phone.message,modelValue:l.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>l.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(La.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",c5t,[u5t,(0,s.Wm)(rh.G,{modelValue:l.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>l.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),l.updatePassword?((0,s.wg)(),(0,s.j4)(La.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",p5t,[g5t,(0,s.Wm)(dt.hw,{"error-messages":l.formStatus.password.message,modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),l.updatePassword?((0,s.wg)(),(0,s.j4)(La.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",m5t,[h5t,(0,s.Wm)(dt.hw,{"error-messages":l.formStatus.confirmPassword.message,modelValue:l.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>l.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",f5t,[(0,s.Wm)(it.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[b5t])),_:1}),t.$can("update_account")?((0,s.wg)(),(0,s.j4)(it.T,{key:0,onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[v5t])),_:1},8,["onClick","loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var y5t={data(){return{serverUrl:n,isFetched:!1,isUserFetched:!1,isLoading:!1,updatePassword:!1,formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:""}},computed:{isFormReady(){return this.isFetched},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,password:this.password}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,st.updateProfile(this.user,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["firstname"]=Wt(this.firstname),this.formStatus["lastname"]=Wt(this.lastname),this.formStatus["phone"]=Wt(this.phone),this.formStatus["password"]=Lt(this.password),this.formStatus["confirmPassword"]=$t(this.password,this.confirmPassword);const t=this.formStatus["firstname"].valid,e=this.formStatus["lastname"].valid,r=this.formStatus["phone"].valid;if(this.updatePassword){const a=this.formStatus["password"].valid,s=this.formStatus["confirmPassword"].valid;return t&&e&&a&&s&&r}return t&&e&&r},async getUser(){return st.profile().then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.isUserFetched=!0}})).catch(this.$handleApiError)}},async mounted(){Promise.allSettled([this.getUser()]).then((()=>this.isFetched=!0),(t=>this.$handleApiError(t)))}};const _5t=(0,m.Z)(y5t,[["render",x5t]]);var k5t=_5t;const C5t={class:"tw-border tw-border-solid tw-shadow-sm tw-rounded tw-p-5"},D5t={class:"tw-flex tw-items-center tw-gap-2"},S5t={class:"tw-flex tw-items-center tw-gap-2"},z5t=(0,s._)("h1",{class:"tw-text-xl tw-font-bold"},"Bank Transfer",-1),U5t={key:0,class:"tw-flex tw-items-center tw-gap-1 tw-bg-teal-100 tw-rounded tw-pr-2 tw-pl-1 tw-py-0.5"},q5t=(0,s._)("span",{class:"tw-text-teal-500 tw-text-sm tw-capitalize"},"Preferred",-1),P5t=(0,s._)("p",{class:"tw-text-gray-500 tw-mt-2"},"Withdraw funds directly to your bank account.",-1),L5t={class:"tw-flex tw-justify-end tw-gap-2 tw-mt-2"},W5t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Setup",-1),A5t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Modify",-1),$5t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},E5t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},T5t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Bank Details ",-1),F5t={class:"tw-p-5 tw-space-y-4"},j5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Bank Name",-1),I5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},V5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Account Holder Name",-1),O5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},H5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"RIB",-1),M5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},R5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Set as Preferred",-1),N5t=["disabled"],Y5t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},Z5t=["disabled"],K5t=["disabled"],B5t=(0,s._)("span",null,"Save",-1);var Q5t={__name:"BankTransferMethod",props:["withdrawalMethods"],emits:["update"],setup(t,{emit:e}){const r=(0,ye.iH)(!1),l=(0,ye.iH)(!1),o=(0,ye.iH)(!1),i=t,w=e,n=(0,ye.iH)({rib:"",account_holder_name:"",bank_name:""}),d=(0,ye.iH)({}),c=(0,ye.iH)(!1),u=(0,ye.iH)({}),p=()=>{u.value=i.withdrawalMethods.find((t=>"bank_transfer"==t.type)),u.value&&(o.value=!0,c.value=1==u.value.is_preferred,console.log(c.value),console.log(1==u.value.is_preferred),n.value={...u.value.metadata})};p();const g=async()=>{if(!h())return!1;const t={type:"bank_transfer",metadata:n.value,is_preferred:c.value};l.value=!0,await JDt.update(u.value.id,t).then((t=>{"SUCCESS"==t.data.code&&(w("update",t.data.withdrawal_methods),Lc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Lc("Something went wrong","danger")})),l.value=!1},m=async()=>{if(!h())return!1;const t={type:"bank_transfer",metadata:n.value,is_preferred:c.value};l.value=!0,await JDt.setup(t).then((t=>{"SUCCESS"==t.data.code&&(w("update",t.data.withdrawal_methods),Lc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Lc("Something went wrong","danger")})),l.value=!1},h=()=>{let t=!0;return n.value.rib||(t=!1,d.value.rib="RIB is required"),n.value.account_holder_name||(t=!1,d.value.account_holder_name="Account holder's name is required"),n.value.bank_name||(t=!1,d.value.bank_name="Bank's name is required"),t};return(t,e)=>{const i=(0,s.up)("icon"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",C5t,[(0,s._)("div",D5t,[(0,s._)("div",S5t,[(0,s.Wm)(i,{icon:"ph:bank-duotone",class:"tw-text-3xl tw-text-gray-600"}),z5t]),u.value&&1==u.value.is_preferred?((0,s.wg)(),(0,s.iD)("div",U5t,[(0,s.Wm)(i,{icon:"uil:check",class:"tw-text-xl tw-text-teal-500"}),q5t])):(0,s.kq)("",!0)]),P5t,(0,s._)("div",L5t,[(o.value,(0,s.kq)("",!0)),(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[o.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)(i,{icon:"lets-icons:edit-duotone-line",class:"tw-text-gray-500 tw-text-2xl"}),A5t],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(i,{icon:"ph:gear-six-duotone",class:"tw-text-gray-500 tw-text-2xl"}),W5t],64))])]),(0,s.Wm)(w,{visible:r.value,onCancel:e[10]||(e[10]=t=>r.value=!1),closeable:!1},{default:(0,s.w5)((()=>[(0,s._)("div",$5t,[(0,s._)("div",E5t,[T5t,(0,s._)("div",F5t,[(0,s._)("div",null,[j5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.value.bank_name=t),onInput:e[2]||(e[2]=t=>d.value.bank_name=null),type:"text",class:(0,ot.C_)([[d.value.bank_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter bank name",required:""},null,34),[[a.nr,n.value.bank_name]]),d.value.bank_name?((0,s.wg)(),(0,s.iD)("label",I5t,(0,ot.zw)(d.value.bank_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[V5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>n.value.account_holder_name=t),onInput:e[4]||(e[4]=t=>d.value.account_holder_name=null),type:"text",class:(0,ot.C_)([[d.value.account_holder_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter account holder's name",required:""},null,34),[[a.nr,n.value.account_holder_name]]),d.value.account_holder_name?((0,s.wg)(),(0,s.iD)("label",O5t,(0,ot.zw)(d.value.account_holder_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[H5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>n.value.rib=t),onInput:e[6]||(e[6]=t=>d.value.rib=null),type:"text",class:(0,ot.C_)([[d.value.rib&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter your bank account RIB",required:""},null,34),[[a.nr,n.value.rib]]),d.value.rib?((0,s.wg)(),(0,s.iD)("label",M5t,(0,ot.zw)(d.value.rib),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[R5t,(0,s._)("button",{onClick:e[7]||(e[7]=t=>c.value=!c.value),disabled:l.value,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,ot.C_)([[c.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-yellow-500",icon:"iconamoon:close-duotone"})),c.value?((0,s.wg)(),(0,s.j4)(i,{key:1,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-emerald-500",icon:"mingcute:check-2-fill"})):(0,s.kq)("",!0)],2)],8,N5t)])]),(0,s._)("div",Y5t,[(0,s._)("button",{onClick:e[8]||(e[8]=t=>r.value=!1),disabled:l.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,Z5t),(0,s._)("button",{disabled:l.value,onClick:e[9]||(e[9]=()=>o.value?g():m()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),B5t],8,K5t)])])])])),_:1},8,["visible"])])}}};const J5t=Q5t;var G5t=J5t;const X5t={class:"tw-border tw-border-solid tw-shadow-sm tw-min-h-[400px]x tw-rounded tw-p-5"},t4t={class:"tw-flex tw-items-center tw-gap-2"},e4t={class:"tw-flex tw-items-center tw-gap-2"},r4t=(0,s._)("h1",{class:"tw-text-xl tw-font-bold"},"Binance",-1),a4t={key:0,class:"tw-flex tw-items-center tw-gap-1 tw-bg-teal-100 tw-rounded tw-pr-2 tw-pl-1 tw-py-0.5"},s4t=(0,s._)("span",{class:"tw-text-teal-500 tw-text-sm tw-capitalize"},"Preferred",-1),l4t=(0,s._)("p",{class:"tw-text-gray-500 tw-mt-2"},"Withdraw funds using Binance account",-1),o4t={class:"tw-flex tw-justify-end tw-gap-2 tw-mt-2"},i4t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Setup",-1),w4t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Modify",-1),n4t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},d4t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},c4t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Binance account details ",-1),u4t={class:"tw-p-5 tw-space-y-4"},p4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Binance ID",-1),g4t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},m4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Set as Preferred",-1),h4t=["disabled"],f4t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},b4t=["disabled"],v4t=["disabled"],x4t=(0,s._)("span",null,"Save",-1);var y4t={__name:"BinanceMethod",props:["withdrawalMethods"],emits:["update"],setup(t,{emit:e}){const r=(0,ye.iH)(!1),l=(0,ye.iH)(!1),o=(0,ye.iH)(!1),i=t,w=(0,ye.iH)({binance_id:""}),n=e,d=(0,ye.iH)(!1),c=(0,ye.iH)({}),u=(0,ye.iH)({}),p=()=>{u.value=i.withdrawalMethods.find((t=>"binance"==t.type)),u.value&&(o.value=!0,d.value=1==u.value.is_preferred,w.value={...u.value.metadata})};p();const g=async()=>{if(!h())return!1;const t={type:"binance",metadata:w.value,is_preferred:d.value};l.value=!0,await JDt.update(u.value.id,t).then((t=>{"SUCCESS"==t.data.code&&(n("update",t.data.withdrawal_methods),Lc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Lc("Something went wrong","danger")})),l.value=!1},m=async()=>{if(!h())return!1;const t={type:"binance",metadata:w.value,is_preferred:d.value};l.value=!0,await JDt.setup(t).then((t=>{"SUCCESS"==t.data.code&&(n("update",t.data.withdrawal_methods),Lc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Lc("Something went wrong","danger")})),l.value=!1},h=()=>{let t=!0;return w.value.binance_id||(t=!1,c.value.binance_id="Binance ID is required"),t};return(t,e)=>{const i=(0,s.up)("icon"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",X5t,[(0,s._)("div",t4t,[(0,s._)("div",e4t,[(0,s.Wm)(i,{icon:"simple-icons:binance",class:"tw-text-3xl tw-text-[#F3BA2F]"}),r4t]),u.value&&1==u.value.is_preferred?((0,s.wg)(),(0,s.iD)("div",a4t,[(0,s.Wm)(i,{icon:"uil:check",class:"tw-text-xl tw-text-teal-500"}),s4t])):(0,s.kq)("",!0)]),l4t,(0,s._)("div",o4t,[(o.value,(0,s.kq)("",!0)),o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[(0,s.Wm)(i,{icon:"ph:gear-six-duotone",class:"tw-text-gray-500 tw-text-2xl"}),i4t])),o.value?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[1]||(e[1]=t=>r.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[(0,s.Wm)(i,{icon:"lets-icons:edit-duotone-line",class:"tw-text-gray-500 tw-text-2xl"}),w4t])):(0,s.kq)("",!0)]),(0,s.Wm)(n,{visible:r.value,onCancel:e[7]||(e[7]=t=>r.value=!1),closeable:!1},{default:(0,s.w5)((()=>[(0,s._)("div",n4t,[(0,s._)("div",d4t,[c4t,(0,s._)("div",u4t,[(0,s._)("div",null,[p4t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.value.binance_id=t),onInput:e[3]||(e[3]=t=>c.value.binance_id=null),type:"text",class:(0,ot.C_)([[c.value.binance_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter your Binance account ID",required:""},null,34),[[a.nr,w.value.binance_id]]),c.value.binance_id?((0,s.wg)(),(0,s.iD)("label",g4t,(0,ot.zw)(c.value.binance_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[m4t,(0,s._)("button",{onClick:e[4]||(e[4]=t=>d.value=!d.value),disabled:l.value,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,ot.C_)([[d.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-yellow-500",icon:"iconamoon:close-duotone"})),d.value?((0,s.wg)(),(0,s.j4)(i,{key:1,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-emerald-500",icon:"mingcute:check-2-fill"})):(0,s.kq)("",!0)],2)],8,h4t)])]),(0,s._)("div",f4t,[(0,s._)("button",{onClick:e[5]||(e[5]=t=>r.value=!1),disabled:l.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,b4t),(0,s._)("button",{disabled:l.value,onClick:e[6]||(e[6]=()=>o.value?g():m()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),x4t],8,v4t)])])])])),_:1},8,["visible"])])}}};const _4t=y4t;var k4t=_4t;const C4t={class:"tw-px-3"},D4t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Withdrawal Methods ")])],-1),S4t={class:"tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-mt-5"};var z4t={__name:"WithdrawalMethodsView",setup(t){const e=(0,ye.iH)(!1),r=(0,ye.iH)({}),a=(0,ye.iH)(0),l=async()=>{e.value=!0,await JDt.all().then((t=>{"SUCCESS"==t.data.code&&(r.value=t.data.withdrawal_methods),console.log(t)}),(t=>{console.log(t)})),e.value=!1};l();const o=t=>{r.value=t,a.value++};return(t,l)=>((0,s.wg)(),(0,s.iD)("div",{key:a.value,class:"py-5 px-2 tw-border tw-bg-white tw-min-h-[calc(100dvh-85px)] tw-w-full tw-rounded-md tw-mb-5"},[(0,s._)("section",C4t,[D4t,(0,s._)("div",S4t,[e.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(2,(t=>(0,s._)("div",{key:t,class:"tw-h-[155px] tw-w-full tw-rounded tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-100 tw-animate-pulse tw-shadow-sm"}))),64)):(0,s.kq)("",!0),e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)((0,ye.SU)(G5t),{"withdrawal-methods":r.value,onUpdate:o},null,8,["withdrawal-methods"]),(0,s.Wm)((0,ye.SU)(k4t),{"withdrawal-methods":r.value,onUpdate:o},null,8,["withdrawal-methods"])],64))])])]))}};const U4t=z4t;var q4t=U4t,P4t={path:"/settings",name:"settings",component:za,meta:{module:"settings"},children:[{name:"settings/cronJobs",path:"/settings/cronJobs",component:X2t,meta:{module:"settings",subModule:"settings/cronJobs",title:"Cron Jobs",role:"admin"}},{path:"account",name:"settings.account",component:k5t,meta:{module:"settings",title:"Settings",role:"admin"}},{path:"withdrawal-methods",name:"settings.seller.withdrawal-methods",component:q4t,meta:{module:"settings",title:"Settings",role:["seller"]}}]};const L4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Role",-1);var W4t={__name:"RoleSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=e,a=(0,s.Fl)((()=>rt.getters["user/roles"])),l=(0,ye.iH)(null),o=(0,ye.iH)(!1),i=(0,ye.iH)([{id:null,name:"Choose Role"},...a.value.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]),w=t=>{i.value=[{id:null,name:"Choose Role"},...t.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]},n=async()=>{if(rt.getters["user/fetchedRoles"])return!1;o.value=!0,await st.roles().then((t=>{"SUCCESS"==t.data.code&&(rt.dispatch("user/setRoles",t.data.data.roles),rt.dispatch("user/setFetchedRoles",!0),w(a.value))})),o.value=!1},d=t=>{console.log(t),r("update:target",t.name)};return n(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[L4t,(0,s.Wm)((0,ye.SU)(VY.Z),{"append-to-body":"",loading:o.value,reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>d(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Role",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),options:i.value,label:"name"},{"open-indicator":(0,s.w5)((({attributes:t})=>[(0,s.Wm)(r,(0,s.dG)({icon:"octicon:chevron-down-24"},t,{class:"tw-text-xl"}),null,16)])),_:1},8,["loading","reduce","modelValue","options"])])}}};const A4t=W4t;var $4t=A4t;const E4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"User",-1);var T4t={__name:"UserSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=e,a=(0,s.Fl)((()=>rt.getters["user/users"])),l=(0,ye.iH)(null),o=(0,ye.iH)([{id:null,name:"Choose User"},...a.value.map((t=>({id:t.id,name:t.firstname+" "+t.lastname})))]),i=t=>{r("update:target",t.id)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[E4t,(0,s.Wm)((0,ye.SU)(VY.Z),{"append-to-body":"",class:"tw-min-w-[200px]",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>i(t)),clearable:!1,placeholder:"Choose User",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),options:o.value,label:"name"},null,8,["reduce","modelValue","options"])]))}};const F4t=T4t;var j4t=F4t;const I4t=(0,s._)("span",null,"Make announcement",-1),V4t=[I4t],O4t={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},H4t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},M4t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Make Announcement ",-1),R4t={class:"tw-p-5 tw-space-y-4"},N4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Variant",-1),Y4t={class:"tw-grid tw-grid-cols-4 tw-gap-2"},Z4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Type",-1),K4t={class:"tw-grid tw-grid-cols-3 tw-gap-2"},B4t={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Q4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Closeable",-1),J4t={class:"tw-grid tw-grid-cols-2 tw-gap-2"},G4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Direction",-1),X4t={class:"tw-grid tw-grid-cols-2 tw-gap-2"},t3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Content",-1),e3t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},r3t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},a3t=["disabled"],s3t=["disabled"],l3t=(0,s._)("span",null,"Send",-1);var o3t={__name:"AddAlertForm",setup(t){const e=(0,ye.iH)(!1),r=(0,ye.iH)(!1),l=(0,s.f3)("alerts"),o=(0,ye.iH)({variant:"success",type:"global",target:null,content:"",closeable:!0,direction:"rtl"});(0,s.YP)((()=>o.value.target),(t=>{console.log("Target has been updated: ",t)})),(0,s.YP)((()=>o.value.type),(()=>{o.value.target=null}));const i=(0,ye.iH)({}),w=async()=>(i.value.content="",i.value.target="","global"==o.value.type||o.value.target?""==o.value.content?(i.value.content="The content can't be empty.",!1):(r.value=!0,await ua.create(o.value).then((t=>{console.log(t),"SUCCESS"==t.data.code&&(e.value=!1,l.data.value.unshift(t.data.alert),Lc("Sent successfully"))})).catch((t=>{console.log(t)})),void(r.value=!1)):(i.value.target="The target cannot be empty.",!1));return(t,l)=>{const n=(0,s.up)("icon"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:l[0]||(l[0]=t=>e.value=!0),role:"button",class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},V4t),(0,s.Wm)(d,{visible:e.value,onCancel:l[17]||(l[17]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",O4t,[(0,s._)("div",H4t,[M4t,(0,s._)("div",R4t,[(0,s._)("div",null,[N4t,(0,s._)("div",Y4t,[(0,s._)("button",{onClick:l[1]||(l[1]=t=>o.value.variant="success"),class:(0,ot.C_)([["success"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-emerald-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[2]||(l[2]=t=>o.value.variant="info"),class:(0,ot.C_)([["info"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-cyan-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[3]||(l[3]=t=>o.value.variant="danger"),class:(0,ot.C_)([["danger"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-rose-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[4]||(l[4]=t=>o.value.variant="warning"),class:(0,ot.C_)([["warning"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-amber-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2)])]),(0,s._)("div",null,[Z4t,(0,s._)("div",K4t,[(0,s._)("button",{onClick:l[5]||(l[5]=t=>o.value.type="global"),class:(0,ot.C_)([["global"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Global ",2),(0,s._)("button",{onClick:l[6]||(l[6]=t=>o.value.type="role"),class:(0,ot.C_)([["role"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Role ",2),(0,s._)("button",{onClick:l[7]||(l[7]=t=>o.value.type="user"),class:(0,ot.C_)([["user"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," User ",2)])]),(0,s.wy)((0,s._)("div",null,["role"==o.value.type?((0,s.wg)(),(0,s.j4)((0,ye.SU)($4t),{key:0,target:o.value.target,"onUpdate:target":l[8]||(l[8]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),"user"==o.value.type?((0,s.wg)(),(0,s.j4)((0,ye.SU)(j4t),{key:1,target:o.value.target,"onUpdate:target":l[9]||(l[9]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),i.value.target?((0,s.wg)(),(0,s.iD)("label",B4t,(0,ot.zw)(i.value.target),1)):(0,s.kq)("",!0)],512),[[a.F8,"global"!=o.value.type]]),(0,s._)("div",null,[Q4t,(0,s._)("div",J4t,[(0,s._)("button",{onClick:l[10]||(l[10]=t=>o.value.closeable=!0),class:(0,ot.C_)([[1==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Yes ",2),(0,s._)("button",{onClick:l[11]||(l[11]=t=>o.value.closeable=!1),class:(0,ot.C_)([[0==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," No ",2)])]),(0,s._)("div",null,[G4t,(0,s._)("div",X4t,[(0,s._)("button",{onClick:l[12]||(l[12]=t=>o.value.direction="rtl"),class:(0,ot.C_)([["rtl"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Right To Left ",2),(0,s._)("button",{onClick:l[13]||(l[13]=t=>o.value.direction="ltr"),class:(0,ot.C_)([["ltr"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Left To Right ",2)])]),(0,s._)("div",null,[t3t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":l[14]||(l[14]=t=>o.value.content=t),onInput:l[15]||(l[15]=t=>i.value.content=null),class:(0,ot.C_)([[i.value.content&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Announcement content"},null,34),[[a.nr,o.value.content]]),i.value.content?((0,s.wg)(),(0,s.iD)("label",e3t,(0,ot.zw)(i.value.content),1)):(0,s.kq)("",!0)])]),(0,s._)("div",r3t,[(0,s._)("button",{onClick:l[16]||(l[16]=t=>e.value=!1),disabled:r.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,a3t),(0,s._)("button",{onClick:w,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),l3t],8,s3t)])])])])),_:1},8,["visible"])])}}};const i3t=o3t;var w3t=i3t;const n3t={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"},d3t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},c3t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Delete Announcement ",-1),u3t=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to delete this announcement ? ")],-1),p3t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},g3t=["disabled"],m3t=(0,s._)("span",null,"Confirm",-1);var h3t={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,ye.Vh)(e,"item"),a=(0,s.f3)("alerts"),l=(0,ye.iH)({delete:!1}),o=(0,ye.iH)({delete:!1}),i=async()=>{o.value.delete=!0,await ua["delete"](r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Lc("Deleted successfully."),l.value.delete=!1,a.data.value=a.data.value.filter((t=>t.id!=r.value.id)))})),o.value.delete=!1};return(t,e)=>{const r=(0,s.up)("icon"),a=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",n3t,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value.delete=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-rose-300 tw-text-rose-500 tw-duration-200 hover:tw-bg-rose-500 hover:tw-text-white"},[(0,s.Wm)(r,{icon:"fluent:delete-28-filled"})])]),(0,s.Wm)(a,{visible:l.value.delete,onCancel:e[2]||(e[2]=t=>l.value.delete=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",d3t,[c3t,u3t,(0,s._)("div",p3t,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.value.delete=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:o.value.delete,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.delete&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),m3t],8,g3t)])])])),_:1},8,["visible"])])}}};const f3t=h3t;var b3t=f3t;const v3t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},x3t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},y3t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_3t={class:"tw-w-[70px] tw-truncate"},k3t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},C3t={class:"tw-w-[80px] tw-truncate"},D3t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},S3t={class:"tw-w-[100px] tw-truncate"},z3t={class:"tw-p-2"};var U3t={__name:"TableRow",props:["item"],setup(t){return(e,r)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",v3t,(0,ot.zw)(t.item.id),1),(0,s._)("td",x3t,(0,ot.zw)((0,ye.SU)(De())(t.item.created_at).format("YYYY-MM-DD HH:mm:ss")),1),(0,s._)("td",y3t,[(0,s._)("p",_3t,(0,ot.zw)(t.item.type),1)]),(0,s._)("td",k3t,[(0,s._)("p",C3t,(0,ot.zw)(t.item.to),1)]),(0,s._)("td",D3t,[(0,s._)("p",S3t,(0,ot.zw)(t.item.content),1)]),(0,s._)("td",null,[(0,s._)("div",z3t,[(0,s.Wm)((0,ye.SU)(b3t),{item:t.item},null,8,["item"])])])]))}};const q3t=U3t;var P3t=q3t;const L3t={class:"tw-overflow-x-auto"},W3t={class:"tw-inline-block tw-min-w-full tw-align-middle"},A3t={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},$3t={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},E3t={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},T3t={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},F3t={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},j3t=["colspan"],I3t=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No alert was found ! ",-1),V3t=[I3t];var O3t={__name:"AlertsTable",props:["loading","data"],setup(t){const e=t,r=(0,ye.Vh)(e,"loading"),a=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Added at",class:"tw-w-[100px]"},{field:"type",name:"Type",class:"tw-w-[70px] tw-truncate"},{field:"to",name:"To",class:"tw-w-[70px] tw-truncate"},{field:"content",name:"Content",class:"tw-max-w-[150px] tw-truncate"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],l=(0,ye.Vh)(e,"data");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",L3t,[(0,s._)("div",W3t,[(0,s._)("div",A3t,[(0,s._)("table",$3t,[(0,s._)("thead",E3t,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(a,(t=>(0,s._)("th",{key:t.field,class:(0,ot.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,ot.zw)(t.name),1)],2))),64))])]),r.value?((0,s.wg)(),(0,s.j4)((0,ye.SU)(OBt),{key:1,columns:a.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[l.value.length?((0,s.wg)(),(0,s.iD)("tbody",T3t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.j4)((0,ye.SU)(P3t),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),l.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",F3t,[(0,s._)("tr",null,[(0,s._)("td",{colspan:a.length},V3t,8,j3t)])]))],64))])])])])]))}};const H3t=O3t;var M3t=H3t;const R3t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},N3t={class:"tw-px-3"},Y3t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Z3t=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Manage Alerts ")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Create and manage announcements. ")],-1),K3t={class:"tw-mt-5"};var B3t={__name:"IndexView",setup(t){const e=(0,ye.iH)(!1),r=(0,ye.iH)({}),a=(0,ye.iH)({}),l=async()=>{e.value=!0,await ua.paginate("",a.value).then((t=>{const{data:e,...s}=t.data.alerts;r.value=e,a.value=s}),(t=>{console.log(t)})),e.value=!1};return l(),(0,s.JJ)("alerts",{data:r}),(t,a)=>((0,s.wg)(),(0,s.iD)("div",R3t,[(0,s._)("section",N3t,[(0,s._)("div",Y3t,[Z3t,(0,s._)("div",null,[(0,s.Wm)((0,ye.SU)(w3t))])]),(0,s._)("div",K3t,[(0,s.Wm)((0,ye.SU)(M3t),{data:r.value,loading:e.value},null,8,["data","loading"])])])]))}};const Q3t=B3t;var J3t=Q3t,G3t={name:"alerts",path:"/alerts",component:za,meta:{module:"alerts"},children:[{name:"alert/list",path:"",component:J3t,meta:{module:"alert",subModule:"alert/list",title:"Alerts List",role:["admin"]}}]};class X3t{async paginate(t="",e){return await E.getCookie(),A.get("api/affiliate/products"+t,{params:e})}async imported(t="",e){return await E.getCookie(),A.get("api/affiliate/products/imported"+t,{params:e})}async wishlisted(t="",e){return await E.getCookie(),A.get("api/affiliate/products/wishlisted"+t,{params:e})}async get(t){return await E.getCookie(),A.get("api/affiliate/products/"+t)}async details(t){return await E.getCookie(),A.get("api/affiliate/products/"+t+"/details")}async edit(t){return await E.getCookie(),A.get("api/affiliate/products/"+t+"/edit")}async create(t){return await E.getCookie(),A.post("api/affiliate/products",t)}async update(t,e){return await E.getCookie(),A.post("api/affiliate/products/"+t,e)}async addImport(t){return await E.getCookie(),A.post("api/affiliate/import",{product_id:t})}async removeImport(t){return await E.getCookie(),A.post("api/affiliate/unimport",{product_id:t})}async addWishlist(t){return await E.getCookie(),A.post("api/affiliate/wishlist",{product_id:t})}async removeWishlist(t){return await E.getCookie(),A.post("api/affiliate/unwishlist",{product_id:t})}}var t8t=new X3t;const e8t={key:0,class:"tw-w-full tw-mt-10 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-2"},r8t=["disabled"],a8t={key:2},s8t={key:3},l8t={key:2},o8t={key:3},i8t={class:"tw-flex tw-justify-end tw-gap-2 tw-p-2"},w8t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},n8t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Import ",-1),d8t={class:"tw-p-4 tw-bg-white"},c8t={key:0,class:"tw-text-lg tw-font-medium"},u8t={key:1,class:"tw-text-lg tw-font-medium"},p8t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},g8t=["disabled"],m8t=["disabled"],h8t=(0,s._)("span",null,"Confirm",-1),f8t=["disabled"],b8t=(0,s._)("span",null,"Remove",-1);var v8t={__name:"ProductCardActions",props:{product:{required:!1},isCard:{type:Boolean,default:!0}},setup(t){const e=t,r=(0,ye.Vh)(e,"product"),a=(0,ye.iH)(r.value.wishlisted),l=(0,ye.iH)(r.value.imported),o=(0,ye.iH)({wishlist:!1,import:!1}),i=(0,ye.iH)({wishlist:!1,import:!1}),w=async()=>{o.value.wishlist=!0,a.value?await t8t.removeWishlist(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Lc("Removed from wishlist"),i.value.wishlist=!1,a.value=!1)}),(t=>{console.log(t),Lc("Something wrong happend","danger")})):await t8t.addWishlist(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Lc("Added to wishlist"),i.value.wishlist=!1,a.value=!0),"ALREADY_WISHLISTED"==t.data.code&&(Lc("Already in wishlist"),i.value.wishlist=!1,a.value=!0)}),(t=>{console.log(t),Lc("Something wrong happend","danger")})),o.value.wishlist=!1},n=()=>{i.value.import=!0},d=async()=>{o.value.import=!0,l.value?await t8t.removeImport(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Lc("Removed from imported"),i.value.import=!1,l.value=!1),"ORDERS_EXISTS"==t.data.code&&(Lc("Product cannot be removed from import list because it has orders","info"),i.value.import=!1)}),(t=>{console.log(t),Lc("Something wrong happend","danger")})):await t8t.addImport(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Lc("Imported successfully"),i.value.import=!1,l.value=!0),"ORDERS_EXISTS"==t.data.code&&(Lc("Product cannot be removed from import list because it has orders","info"),i.value.import=!1),"ALREADY_IMPORTED"==t.data.code&&(Lc("Already imported"),i.value.import=!1,l.value=!0)}),(t=>{console.log(t),Lc("Something wrong happend","danger")})),o.value.import=!1};return(t,r)=>{const c=(0,s.up)("icon"),u=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.isCard?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",e8t,[(0,s._)("button",{onClick:n,disabled:o.value.import,class:(0,ot.C_)([[l.value&&"!tw-bg-gray-100 tw-text-emerald-500"],"tw-px-2 tw-flex tw-items-center tw-justify-center tw-gap-4 tw-bg-emerald-500 tw-text-white tw-rounded tw-py-3 hover:tw-saturate-150x tw-duration-200 tw-border-2 tw-border-solid tw-border-white hover:tw-border-emerald-200 tw-text-lg"])},[o.value.import?((0,s.wg)(),(0,s.j4)(c,{key:0,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(c,{key:0,icon:"charm:plus",class:"tw-text-3xl"})),l.value?((0,s.wg)(),(0,s.j4)(c,{key:1,icon:"uis:check",class:"tw-text-3xl tw-text-emerald-500"})):(0,s.kq)("",!0)],64)),l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",a8t,"Add to import list")),l.value?((0,s.wg)(),(0,s.iD)("span",s8t,"Imported")):(0,s.kq)("",!0)],10,r8t),(0,s._)("button",{onClick:w,class:"tw-px-2 tw-flex tw-items-center tw-justify-center tw-gap-4 tw-bg-rose-500/10 tw-text-rose-500 tw-text-whitxe tw-rounded tw-py-3 hover:tw-saturate-150x tw-duration-200 tw-border-2 tw-border-solid tw-border-white hover:tw-border-rose-200 tw-text-lg"},[o.value.wishlist?((0,s.wg)(),(0,s.j4)(c,{key:0,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-rose-500"})):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(c,{key:0,icon:"ph:heart-light",class:"tw-text-3xl tw-text-rose-500"})),a.value?((0,s.wg)(),(0,s.j4)(c,{key:1,icon:"ph:heart-fill",class:"tw-text-3xl tw-text-rose-500"})):(0,s.kq)("",!0)],64)),a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",l8t,"Add to wishlist")),a.value?((0,s.wg)(),(0,s.iD)("span",o8t,"Wishlisted")):(0,s.kq)("",!0)])])),e.isCard?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,ot.C_)([[(o.value.import||o.value.wishlist)&&"!tw-translate-y-0"],"tw-absolute tw-top-0 tw-left-0 tw-z-20 tw-w-full tw-h-[60px] tw-bg-gradient-to-b tw-from-black/40 tw-to-transparent -tw-translate-y-full group-hover:tw-translate-y-0 tw-duration-200"])},[(0,s._)("div",i8t,[(0,s._)("button",{onClick:n,class:"tw-px-2 tw-aspect-square tw-bg-emerald-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[!o.value.import&&l.value?((0,s.wg)(),(0,s.j4)(c,{key:0,icon:"gravity-ui:check",class:"tw-text-2xl tw-text-white"})):(0,s.kq)("",!0),o.value.import||l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(c,{key:1,icon:"charm:plus",class:"tw-text-2xl tw-text-white"})),o.value.import?((0,s.wg)(),(0,s.j4)(c,{key:2,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):(0,s.kq)("",!0)]),(0,s._)("button",{onClick:w,class:"tw-px-2 tw-aspect-square tw-bg-rose-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[o.value.wishlist?((0,s.wg)(),(0,s.j4)(c,{key:1,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):((0,s.wg)(),(0,s.j4)(c,{key:0,icon:a.value?"ph:heart-fill":"ph:heart-light",class:"tw-text-2xl tw-text-white"},null,8,["icon"]))])])],2)):(0,s.kq)("",!0),(0,s.Wm)(u,{visible:i.value.import,closeable:!o.value.import,onCancel:r[1]||(r[1]=t=>i.value.import=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",w8t,[n8t,(0,s._)("div",d8t,[l.value?((0,s.wg)(),(0,s.iD)("p",u8t," Are you sure you want to remove from import list ? ")):((0,s.wg)(),(0,s.iD)("p",c8t," Are you sure you want to import with this product ? "))]),(0,s._)("div",p8t,[(0,s._)("button",{disabled:o.value.import,onClick:r[0]||(r[0]=t=>i.value.import=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,g8t),l.value?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:d,disabled:o.value.import,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 tw-border-rose-800 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.import&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),b8t],8,f8t)):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:d,disabled:o.value.import,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.import&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),h8t],8,m8t))])])])),_:1},8,["visible","closeable"])],64)}}};const x8t=v8t;var y8t=x8t;const _8t={class:"tw-relative tw-rounded tw-overflow-hidden tw-group tw-border tw-border-solid tw-shadow-sm tw-bg-white"},k8t=["src"],C8t=(0,s._)("div",{class:"tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-gray-200 tw-animate-pulse"},null,-1),D8t={class:"tw-absolute tw-bottom-2 tw-right-2 tw-min-w-[80px] tw-min-h-[40px] tw-p-2 tw-gap-2 tw-rounded tw-py-0 tw-flex tw-items-center tw-justify-center tw-bg-white tw-shadow tw-shadow-orange-400 tw-z-10"},S8t={class:"tw-text-lg tw-font-semibold"},z8t={class:"tw-flex tw-items-center tw-gap-2 tw-absolute tw-bottom-2 tw-left-2 tw-z-20"},U8t={key:0,title:"TikTok videos exists",class:"tw-border tw-border-solid tw-bg-white tw-border-gray-200 tw-p-1 tw-rounded tw-flex tw-items-center tw-gap-2"},q8t={key:1,title:"Facebook videos exists",class:"tw-border tw-border-solid tw-bg-white tw-border-gray-200 tw-p-1 tw-rounded tw-flex tw-items-center tw-gap-2"},P8t={class:"tw-p-4 tw-pb-2 tw-min-h-[20px]"},L8t={class:"tw-relative"},W8t={class:"tw-flex tw-items-center tw-justify-between"};var A8t={__name:"ProductCard",props:["product"],setup(t){const e=t,r=(0,ye.Vh)(e,"product");return(t,e)=>{const a=(0,s.up)("icon"),l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",_8t,[(0,s.Wm)((0,ye.SU)(y8t),{product:r.value},null,8,["product"]),(0,s.Wm)(l,{to:{name:"affiliate.show",params:{id:r.value.id}},class:"tw-h-[400px] tw-block tw-aspect-square tw-w-full tw-overflow-hidden tw-relative tw-border-b tw-border-solid tw-border-gray-200"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:r.value.thumbnail,class:"tw-w-full tw-h-full tw-aspect-square tw-object-cover group-hover:tw-scale-105 tw-duration-200 tw-relative tw-z-10"},null,8,k8t),C8t,(0,s._)("div",D8t,[(0,s.Wm)(a,{icon:"hugeicons:sale-tag-02",class:"tw-text-2xl tw-text-orange-500"}),(0,s._)("span",S8t,(0,ot.zw)((0,ye.SU)(c))+(0,ot.zw)(r.value.selling_price),1)]),(0,s._)("div",z8t,[r.value.media.tiktok_ads?((0,s.wg)(),(0,s.iD)("div",U8t,[(0,s.Wm)(a,{icon:"logos:tiktok-icon",class:"tw-text-lg"})])):(0,s.kq)("",!0),r.value.media.facebook_ads?((0,s.wg)(),(0,s.iD)("div",q8t,[(0,s.Wm)(a,{icon:"basil:facebook-solid",class:"tw-text-lg tw-text-sky-600"})])):(0,s.kq)("",!0)])])),_:1},8,["to"]),(0,s._)("div",P8t,[(0,s._)("div",L8t,[(0,s.Wm)(l,{to:{name:"affiliate.show",params:{id:r.value.id}},class:"tw-text-lg tw-font-medium tw-max-w-full tw-truncate tw-block"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(r.value.name),1)])),_:1},8,["to"]),(0,s._)("div",W8t,[((0,s.wg)(),(0,s.iD)("p",{key:r.value.category,class:"tw-text-sm tw-text-orange-500 tw-rounded tw-w-fit tw-my-1"},(0,ot.zw)(r.value.category),1))]),(0,s.kq)("",!0)])]),(0,s.kq)("",!0)])}}};const $8t=A8t;var E8t=$8t;const T8t=(0,s._)("div",{class:"tw-px-5 tw-py-2"},[(0,s._)("div",null,[(0,s._)("button",{class:"tw-py-2 tw-border-b-2 tw-border-solid tw-border-orange-500"},"All Products")])],-1),F8t={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},j8t={class:"tw-px-3"},I8t={class:"tw-mt-5x tw-flexx tw-items-centerx"},V8t={key:0},O8t={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},H8t={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},M8t={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},R8t=["src"],N8t=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),Y8t={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Z8t=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),K8t={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var B8t={__name:"ProductResearchView",setup(t){const e=(0,ye.iH)(!1),r=(0,ye.iH)([]),a=async()=>{e.value=!0,await t8t.paginate().then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[T8t,(0,s._)("div",F8t,[(0,s._)("section",j8t,[(0,s.kq)("",!0),(0,s._)("div",I8t,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",V8t,[r.value.length?((0,s.wg)(),(0,s.iD)("div",O8t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ye.SU)(E8t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",H8t,[(0,s._)("div",M8t,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,R8t),N8t])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",Y8t,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[Z8t,(0,s._)("div",K8t,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const Q8t=B8t;var J8t=Q8t;const G8t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},X8t=(0,s.uE)('<section class="tw-px-3"><div class="tw-flex tw-items-center tw-justify-between tw-flex-wrap"><div><div class="tw-flex tw-items-center tw-gap-x-3"><h2 class="tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"> Products </h2><span class="tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded darkx:tw-bg-gray-800 darkx:tw-text-orange-400">0 products</span></div><p class="tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"> List of affiliate products. </p></div></div></section>',1),t6t=[X8t];function e6t(t,e){return(0,s.wg)(),(0,s.iD)("div",G8t,t6t)}const r6t={},a6t=(0,m.Z)(r6t,[["render",e6t]]);var s6t=a6t,l6t=r(7200),o6t=r(6835),i6t=r(6414),w6t=r(3798),n6t=r(4018);const d6t={class:"tw-flex tw-items-center tw-gap-2 tw-p-1 tw-border tw-border-solid tw-border-gray-200 tw-rounded-t tw-border-b-0 tw-bg-gray-100 tw-overflow-auto"},c6t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1),u6t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1),p6t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1);var g6t={__name:"EditorToolbar",props:["editor"],setup(t){const e=t,r=(0,ye.Vh)(e,"editor");return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",d6t,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value?.chain().focus().toggleBold().run()),class:(0,ot.C_)([[r.value?.isActive("bold")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-bold-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value?.chain().focus().toggleItalic().run()),class:(0,ot.C_)([[r.value?.isActive("italic")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-italic-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[2]||(e[2]=t=>r.value?.chain().focus().toggleUnderline().run()),class:(0,ot.C_)([[r.value?.isActive("underline")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-underline-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[3]||(e[3]=t=>r.value?.chain().focus().toggleStrike().run()),class:(0,ot.C_)([[r.value?.isActive("strike")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-cross-bold",class:"tw-text-sm"})],2),c6t,(0,s._)("button",{onClick:e[4]||(e[4]=t=>r.value?.chain().focus().toggleHeading({level:1}).run()),class:(0,ot.C_)([[r.value?.isActive("heading",{level:1})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-one-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>r.value?.chain().focus().toggleHeading({level:2}).run()),class:(0,ot.C_)([[r.value?.isActive("heading",{level:2})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-two-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[6]||(e[6]=t=>r.value?.chain().focus().toggleHeading({level:3}).run()),class:(0,ot.C_)([[r.value?.isActive("heading",{level:3})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-three-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[7]||(e[7]=t=>r.value?.chain().focus().toggleHeading({level:4}).run()),class:(0,ot.C_)([[r.value?.isActive("heading",{level:4})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-four-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[8]||(e[8]=t=>r.value?.chain().focus().toggleHeading({level:5}).run()),class:(0,ot.C_)([[r.value?.isActive("heading",{level:5})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-five-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[9]||(e[9]=t=>r.value?.chain().focus().toggleHeading({level:6}).run()),class:(0,ot.C_)([[r.value?.isActive("heading",{level:6})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-six-bold",class:"tw-text-sm"})],2),u6t,(0,s._)("button",{onClick:e[10]||(e[10]=t=>r.value?.chain().focus().setTextAlign("left").run()),class:(0,ot.C_)([[r.value?.isActive({textAlign:"left"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-left-bold",class:""})],2),(0,s._)("button",{onClick:e[11]||(e[11]=t=>r.value?.chain().focus().setTextAlign("center").run()),class:(0,ot.C_)([[r.value?.isActive({textAlign:"center"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-center-bold",class:""})],2),(0,s._)("button",{onClick:e[12]||(e[12]=t=>r.value?.chain().focus().setTextAlign("right").run()),class:(0,ot.C_)([[r.value?.isActive({textAlign:"right"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-right-bold",class:""})],2),p6t,(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{onClick:e[14]||(e[14]=t=>r.value?.chain().focus().toggleBulletList().run()),class:(0,ot.C_)([[r.value?.isActive("bulletList")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"fluent:text-bullet-list-ltr-20-filled",class:""})],2),(0,s._)("button",{onClick:e[15]||(e[15]=t=>r.value?.chain().focus().toggleOrderedList().run()),class:(0,ot.C_)([[r.value?.isActive("orderedList")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:list-numbers-light",class:""})],2)])}}};const m6t=g6t;var h6t=m6t,f6t={__name:"TiptapEditor",props:{modelValue:{required:!0},editable:{required:!1,default:!0}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,a=e;console.log(r.modelValue);const l=(0,l6t.jE)({editable:r.editable,content:r.modelValue,extensions:[i6t.Z,o6t.Z,n6t.ZP,w6t.Z.configure({types:["heading","paragraph"]})],editorProps:{attributes:{class:r.editable?"tw-outline-none tw-border tw-border-solid tw-border-gray-200 tw-min-h-[250px] tw-p-5 tw-rounded-b":"tw-outline-none"}},onUpdate({editor:t}){a("update:modelValue",t.getHTML())}});return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[r.editable?((0,s.wg)(),(0,s.j4)((0,ye.SU)(h6t),{key:0,editor:(0,ye.SU)(l)},null,8,["editor"])):(0,s.kq)("",!0),(0,s.Wm)((0,ye.SU)(l6t.kg),{editor:(0,ye.SU)(l),class:"tw-w-full tw-min-h-[300px] tw-outline-none no-tailwind"},null,8,["editor"])]))}};const b6t=f6t;var v6t=b6t;class x6t{async create(t){return await E.getCookie(),A.post("api/categories",t)}async all(){return await E.getCookie(),A.get("api/categories")}}var y6t=new x6t;const _6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Category",-1),k6t={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-1"},C6t={class:"tw-flex-1"},D6t={class:"tw-relative"},S6t=["disabled"],z6t=(0,s._)("option",{value:"",selected:""},"Choose category",-1),U6t=["value"],q6t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},P6t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Add category ",-1),L6t={class:"tw-p-5 tw-bg-white"},W6t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},A6t={class:"tw-col-span-2 md:tw-col-span-2"},$6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),E6t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T6t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},F6t=["disabled"],j6t=(0,s._)("span",null,"Create",-1);var I6t={__name:"CategoryField",setup(t){const e=(0,s.f3)("product"),r=(0,ye.iH)(!1),l=(0,ye.iH)(!1),o=(0,ye.iH)(!1),i=(0,ye.iH)({type:"products"}),w=(0,ye.iH)([]),n=(0,ye.iH)({}),d=async()=>{if(n.value={},!i.value.name)return n.value.name="Name is required",!1;l.value=!0,await y6t.create(i.value).then((t=>{"SUCCESS"==t.data.code&&(w.value.unshift(t.data.category),Lc("New category has been added"),c())}),(t=>{console.log(t)})),l.value=!1},c=()=>{i.value={type:"products"},r.value=!1},u=async()=>{o.value=!1,await y6t.all().then((t=>{"SUCCESS"==t.data.code&&(w.value=t.data.categories,o.value=!0)}),(t=>{console.log(t)}))};return o.value||u(),(t,u)=>{const p=(0,s.up)("icon"),g=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[_6t,(0,s._)("div",k6t,[(0,s._)("div",C6t,[(0,s._)("div",D6t,[(0,s.wy)((0,s._)("select",{disabled:!o.value,"onUpdate:modelValue":u[0]||(u[0]=t=>(0,ye.SU)(e).category_id=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"},[z6t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t},(0,ot.zw)(t.name),9,U6t)))),128))],8,S6t),[[a.bM,(0,ye.SU)(e).category_id]])])]),(0,s._)("button",{onClick:u[1]||(u[1]=t=>r.value=!r.value),class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(p,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.Wm)(g,{visible:r.value,closeable:!0,onCancel:u[4]||(u[4]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",q6t,[P6t,(0,s._)("div",L6t,[(0,s._)("div",W6t,[(0,s._)("div",A6t,[$6t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":u[2]||(u[2]=t=>i.value.name=t),onInput:u[3]||(u[3]=t=>n.value.name=null),type:"text",class:(0,ot.C_)([[n.value.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Name",required:""},null,34),[[a.nr,i.value.name]]),n.value.name?((0,s.wg)(),(0,s.iD)("label",E6t,(0,ot.zw)(n.value.name),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",T6t,[(0,s._)("button",{onClick:c,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),j6t],8,F6t)])])])),_:1},8,["visible"])])}}};const V6t=I6t;var O6t=V6t;const H6t={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-10"},M6t={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},R6t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Basic Informations")],-1),N6t={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},Y6t={class:"tw-col-span-2"},Z6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),K6t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},B6t={class:"tw-col-span-2"},Q6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"SKU",-1),J6t=["disabled"],G6t={key:0,class:"tw-block tw-mb-1 tw-mt-1 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},X6t={key:1,class:"tw-block tw-mb-1 tw-mt-1 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},t7t={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},e7t={class:"tw-col-span-2"},r7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Buying Price",-1),a7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},s7t={class:"tw-col-span-2"},l7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Selling Price",-1),o7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},i7t={class:"tw-col-span-2"},w7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Description",-1),n7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},d7t={class:"md:tw-col-span-5 tw-col-span-12 tw-w-full tw-rounded-md tw-flex tw-flex-col tw-gap-5 tw-h-fit"},c7t={class:"tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-overflow-hidden tw-h-fit"},u7t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Visibility")],-1),p7t={class:"tw-p-5"},g7t={class:"tw-flex tw-items-center tw-gap-5"},m7t=(0,s._)("span",null,"Visible",-1),h7t=(0,s._)("span",null,"Hidden",-1),f7t={class:"md:tw-col-span-5 tw-col-span-12"},b7t={class:"tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-h-fit tw-overflow-hidden"},v7t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Category")],-1),x7t={class:"tw-p-5 tw-space-y-4"},y7t={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-gap-2 tw-overflow-hidden tw-h-fit"},_7t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Rates")],-1),k7t={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},C7t={class:"tw-col-span-2 md:tw-col-span-1"},D7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Confirmation",-1),S7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},z7t={class:"tw-col-span-2 md:tw-col-span-1"},U7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Delivery",-1),q7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"};var P7t={__name:"MainDetailsTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.f3)("errors"),l=(0,s.f3)("isUpdate");return(t,o)=>((0,s.wg)(),(0,s.iD)("div",H6t,[(0,s._)("div",M6t,[R6t,(0,s._)("div",N6t,[(0,s._)("div",Y6t,[Z6t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>(0,ye.SU)(e).name=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter product name...",required:""},null,512),[[a.nr,(0,ye.SU)(e).name]]),(0,ye.SU)(r).name?((0,s.wg)(),(0,s.iD)("label",K6t,(0,ot.zw)((0,ye.SU)(r).name),1)):(0,s.kq)("",!0)]),(0,s._)("div",B6t,[Q6t,(0,s.wy)((0,s._)("input",{disabled:(0,ye.SU)(l),type:"text","onUpdate:modelValue":o[1]||(o[1]=t=>(0,ye.SU)(e).sku=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter product SKU...",required:""},null,8,J6t),[[a.nr,(0,ye.SU)(e).sku]]),(0,ye.SU)(l)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("label",G6t,"SKU should be unique for all products")),(0,ye.SU)(l)?((0,s.wg)(),(0,s.iD)("label",X6t,"SKU cannot be updated")):(0,s.kq)("",!0),(0,ye.SU)(r).sku?((0,s.wg)(),(0,s.iD)("label",t7t,(0,ot.zw)((0,ye.SU)(r).sku),1)):(0,s.kq)("",!0)]),(0,s._)("div",e7t,[r7t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[2]||(o[2]=t=>(0,ye.SU)(e).buying_price=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Buying price...",required:""},null,512),[[a.nr,(0,ye.SU)(e).buying_price]]),(0,ye.SU)(r).buying_price?((0,s.wg)(),(0,s.iD)("label",a7t,(0,ot.zw)((0,ye.SU)(r).buying_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",s7t,[l7t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=t=>(0,ye.SU)(e).selling_price=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Selling price...",required:""},null,512),[[a.nr,(0,ye.SU)(e).selling_price]]),(0,ye.SU)(r).selling_price?((0,s.wg)(),(0,s.iD)("label",o7t,(0,ot.zw)((0,ye.SU)(r).selling_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",i7t,[w7t,(0,s.Wm)(v6t,{modelValue:(0,ye.SU)(e).description,"onUpdate:modelValue":o[4]||(o[4]=t=>(0,ye.SU)(e).description=t)},null,8,["modelValue"]),(0,ye.SU)(r).description?((0,s.wg)(),(0,s.iD)("label",n7t,(0,ot.zw)((0,ye.SU)(r).description),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",d7t,[(0,s._)("div",c7t,[u7t,(0,s._)("div",p7t,[(0,s._)("div",g7t,[(0,s._)("button",{onClick:o[5]||(o[5]=t=>(0,ye.SU)(e).status=!(0,ye.SU)(e).status),class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:(0,ot.C_)([[(0,ye.SU)(e).status&&"tw-bg-gray-700"],"tw-w-5 tw-h-5 tw-rounded-md tw-order tw-border-2 tw-border-solid tw-border-gray-600 tw-duration-200"])},null,2),m7t]),(0,s._)("button",{onClick:o[6]||(o[6]=t=>(0,ye.SU)(e).status=!(0,ye.SU)(e).status),class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:(0,ot.C_)([[!(0,ye.SU)(e).status&&"tw-bg-gray-700"],"tw-w-5 tw-h-5 tw-rounded-md tw-order tw-border-2 tw-border-solid tw-border-gray-600 tw-duration-200"])},null,2),h7t])])])]),(0,s._)("div",f7t,[(0,s._)("div",b7t,[v7t,(0,s._)("div",x7t,[(0,s.Wm)(O6t),(0,s.kq)("",!0)])])]),(0,s._)("div",y7t,[(0,s._)("div",null,[_7t,(0,s._)("div",k7t,[(0,s._)("div",C7t,[D7t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[7]||(o[7]=t=>(0,ye.SU)(e).confirmation_rate=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Confirmation rate %",required:""},null,512),[[a.nr,(0,ye.SU)(e).confirmation_rate]]),(0,ye.SU)(r).confirmation_rate?((0,s.wg)(),(0,s.iD)("label",S7t,(0,ot.zw)((0,ye.SU)(r).confirmation_rate),1)):(0,s.kq)("",!0)]),(0,s._)("div",z7t,[U7t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[8]||(o[8]=t=>(0,ye.SU)(e).delivery_rate=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Delivery rate %",required:""},null,512),[[a.nr,(0,ye.SU)(e).delivery_rate]]),(0,ye.SU)(r).delivery_rate?((0,s.wg)(),(0,s.iD)("label",q7t,(0,ot.zw)((0,ye.SU)(r).delivery_rate),1)):(0,s.kq)("",!0)])])])])])]))}};const L7t=P7t;var W7t=L7t;const A7t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},$7t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Add variation ",-1),E7t={class:"tw-p-5 tw-bg-white"},T7t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},F7t={class:"tw-col-span-2 md:tw-col-span-2"},j7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),I7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},V7t={class:"tw-col-span-2 md:tw-col-span-2"},O7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Color",-1),H7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},M7t={class:"tw-col-span-2 md:tw-col-span-2"},R7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Size",-1),N7t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Y7t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Z7t=["disabled"],K7t=(0,s._)("span",null,"Create",-1);var B7t={__name:"ProductVariationAdd",emits:["create"],setup(t,{emit:e}){const r=e,l=(0,ye.iH)(!1),o=(0,ye.iH)(!1),i=(0,ye.iH)({}),w=(0,ye.iH)({}),n=()=>{if(!i.value.quantity)return Lc("Quantity is required","error"),!1;i.value.id=Date.now(),r("create",i.value),d()},d=()=>{i.value={},l.value=!1};return(t,e)=>{const r=(0,s.up)("icon"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value=!l.value),class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-aspect-square tw-rounded"},[(0,s.Wm)(r,{icon:"jam:plus",class:"tw"})]),(0,s.Wm)(c,{visible:l.value,closeable:!0,onCancel:e[7]||(e[7]=t=>l.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",A7t,[$7t,(0,s._)("div",E7t,[(0,s._)("div",T7t,[(0,s._)("div",F7t,[j7t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.value.quantity=t),onInput:e[2]||(e[2]=t=>w.value.quantity=null),type:"number",class:(0,ot.C_)([[w.value.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"0",required:""},null,34),[[a.nr,i.value.quantity]]),w.value.quantity?((0,s.wg)(),(0,s.iD)("label",I7t,(0,ot.zw)(w.value.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",V7t,[O7t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.value.color=t),onInput:e[4]||(e[4]=t=>w.value.color=null),type:"text",class:(0,ot.C_)([[w.value.color&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"White, Black...",required:""},null,34),[[a.nr,i.value.color]]),w.value.color?((0,s.wg)(),(0,s.iD)("label",H7t,(0,ot.zw)(w.value.color),1)):(0,s.kq)("",!0)]),(0,s._)("div",M7t,[R7t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>i.value.size=t),onInput:e[6]||(e[6]=t=>w.value.size=null),type:"text",class:(0,ot.C_)([[w.value.size&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Small, Large...",required:""},null,34),[[a.nr,i.value.size]]),w.value.size?((0,s.wg)(),(0,s.iD)("label",N7t,(0,ot.zw)(w.value.size),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",Y7t,[(0,s._)("button",{onClick:d,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:n,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),K7t],8,Z7t)])])])),_:1},8,["visible"])])}}};const Q7t=B7t;var J7t=Q7t;const G7t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},X7t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Update variation ",-1),t9t={class:"tw-p-5 tw-bg-white"},e9t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},r9t={class:"tw-col-span-2 md:tw-col-span-2"},a9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),s9t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},l9t={class:"tw-col-span-2 md:tw-col-span-2"},o9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Color",-1),i9t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},w9t={class:"tw-col-span-2 md:tw-col-span-2"},n9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Size",-1),d9t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},c9t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},u9t=["disabled"],p9t=(0,s._)("span",null,"Create",-1);var g9t={__name:"ProductVariationUpdate",props:["variation"],emits:["update","cancel"],setup(t,{emit:e}){const r=t,l=e,o=(0,ye.iH)(!0),i=(0,ye.iH)(!1),w=(0,ye.iH)({...r.variation}),n=(0,ye.iH)({}),d=()=>{if(!w.value.quantity)return Lc("Quantity is required","error"),!1;l("update",w.value),c()},c=()=>{w.value=r.variation,o.value=!1,l("cancel")};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:o.value,closeable:!0,onCancel:e[6]||(e[6]=t=>o.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",G7t,[X7t,(0,s._)("div",t9t,[(0,s._)("div",e9t,[(0,s._)("div",r9t,[a9t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>w.value.quantity=t),onInput:e[1]||(e[1]=t=>n.value.quantity=null),type:"number",class:(0,ot.C_)([[n.value.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"0",required:""},null,34),[[a.nr,w.value.quantity]]),n.value.quantity?((0,s.wg)(),(0,s.iD)("label",s9t,(0,ot.zw)(n.value.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",l9t,[o9t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.value.color=t),onInput:e[3]||(e[3]=t=>n.value.color=null),type:"text",class:(0,ot.C_)([[n.value.color&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"White, Black...",required:""},null,34),[[a.nr,w.value.color]]),n.value.color?((0,s.wg)(),(0,s.iD)("label",i9t,(0,ot.zw)(n.value.color),1)):(0,s.kq)("",!0)]),(0,s._)("div",w9t,[n9t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>w.value.size=t),onInput:e[5]||(e[5]=t=>n.value.size=null),type:"text",class:(0,ot.C_)([[n.value.size&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Small, Large...",required:""},null,34),[[a.nr,w.value.size]]),n.value.size?((0,s.wg)(),(0,s.iD)("label",d9t,(0,ot.zw)(n.value.size),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",c9t,[(0,s._)("button",{onClick:c,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:i.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(nt.t,{size:"small",class:(0,ot.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),p9t],8,u9t)])])])),_:1},8,["visible"])])}}};const m9t=g9t;var h9t=m9t;const f9t={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},b9t={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},v9t={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},x9t={class:"tw-p-1 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100 tw-flex tw-items-center tw-justify-center tw-gap-2"},y9t={title:"Delete variation",class:"tw-aspect-square tw-scale-90 tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-rose-100 hover:tw-border-rose-400 tw-bg-rose-50/10 hover:tw-bg-rose-100 tw-duration-200"};var _9t={__name:"ProductVariation",props:["variation"],emits:["update"],setup(t,{emit:e}){const r=t,a=e,l=(0,ye.iH)(!1),o=(0,ye.Vh)(r,"variation");return(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",{key:o.value,class:"tw-grid tw-grid-cols-4 tw-divide-x tw-text-center"},[(0,s._)("div",f9t,(0,ot.zw)(o.value.quantity),1),(0,s._)("div",b9t,(0,ot.zw)(o.value.color),1),(0,s._)("div",v9t,(0,ot.zw)(o.value.size),1),(0,s._)("div",x9t,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value=!0),title:"Delete variation",class:"tw-aspect-square tw-scale-90 tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 tw-bg-amber-50/10 hover:tw-bg-amber-100 tw-duration-200"},[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})]),(0,s._)("button",y9t,[(0,s.Wm)(r,{icon:"solar:trash-bin-trash-bold-duotone",class:"tw-text-xl tw-text-rose-500"})])]),l.value?((0,s.wg)(),(0,s.j4)((0,ye.SU)(h9t),{key:0,variation:o.value,onUpdate:e[1]||(e[1]=t=>a("update",t))},null,8,["variation"])):(0,s.kq)("",!0)])}}};const k9t=_9t;var C9t=k9t;const D9t={class:"tw-grid tw-grid-cols-12 tw-gap-5"},S9t={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},z9t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Variations")],-1),U9t={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},q9t={class:"tw-col-span-2 tw-flex tw-items-center tw-justify-between tw-mb-2"},P9t=(0,s._)("p",null,"Does the product have variations ?",-1),L9t=(0,s.uE)('<div class="tw-col-span-1"><label class="tw-block tw-text-sm tw-mb-2 tw-font-medium tw-text-gray-900 dark:tw-text-white"> Warehouse</label><div class="tw-relative"><select value="lebanon" class="tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"><option value="a" disabled>Choose warehouse</option><option value="lebanon">Lebanon</option></select></div></div>',1),W9t={key:0,class:"tw-col-span-1"},A9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Initial quantity",-1),$9t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},E9t={key:0,class:"tw-col-span-2 tw-mt-5"},T9t={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},F9t=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Variations list",-1),j9t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},I9t={key:2,class:"tw-p-5 tw-bg-gray-100 tw-text-center"},V9t=(0,s._)("p",null,"No variations added yet",-1),O9t=[V9t],H9t={key:3,class:"tw-p-2 tw-bg-gray-100 tw-"},M9t=(0,s._)("div",{class:"tw-grid tw-grid-cols-4 tw-mb-1 tw-text-center"},[(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Quantity"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Color"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Size"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Actions")],-1),R9t=(0,s.uE)('<div class="md:tw-col-span-5 tw-col-span-12 tw-h-fit"><div class="tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"><div class="tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"><h1 class="tw-font-semibold tw-text-white">Deliveries</h1></div><div class="tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"><div class="tw-col-span-2"><label class="tw-block tw-text-sm tw-mb-2 tw-font-medium tw-text-gray-900 dark:tw-text-white"> Can be delivered by</label><div class="tw-relative"><select value="road-runner" class="tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"><option value="a" disabled>Choose deliveries</option><option value="road-runner">Road Runner</option></select></div></div></div></div></div>',1);var N9t={__name:"ProductStockTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.f3)("errors"),l=t=>{e.value.variations.unshift(t)},o=t=>{e.value.variations=e.value.variations.map((e=>e.id==t.id?t:e))};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",D9t,[(0,s._)("div",S9t,[z9t,(0,s._)("div",U9t,[(0,s._)("div",q9t,[P9t,(0,s._)("button",{onClick:i[0]||(i[0]=t=>(0,ye.SU)(e).has_variations=!(0,ye.SU)(e).has_variations),class:"tw-p-1 tw-h-[35px] tw-w-[90px] tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-rounded"},[(0,s._)("div",{class:(0,ot.C_)([[(0,ye.SU)(e).has_variations?"tw-translate-x-full":""],"tw-w-[40px] tw-duration-200 tw-h-full tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded-sm tw-uppercase tw-text-center tw-font-medium tw-text-sm tw-flex tw-items-center tw-justify-center"])},(0,ot.zw)((0,ye.SU)(e).has_variations?"Yes":"No"),3)])]),L9t,(0,ye.SU)(e).has_variations?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",W9t,[A9t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":i[1]||(i[1]=t=>(0,ye.SU)(e).initial_quantity=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"0",required:""},null,512),[[a.nr,(0,ye.SU)(e).initial_quantity]]),(0,ye.SU)(r).initial_quantity?((0,s.wg)(),(0,s.iD)("label",$9t,(0,ot.zw)((0,ye.SU)(r).initial_quantity),1)):(0,s.kq)("",!0)])),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]"},{default:(0,s.w5)((()=>[(0,ye.SU)(e).has_variations?((0,s.wg)(),(0,s.iD)("div",E9t,[(0,s._)("div",T9t,[F9t,(0,s.Wm)((0,ye.SU)(J7t),{onCreate:l})]),(0,ye.SU)(r).variations?((0,s.wg)(),(0,s.iD)("label",j9t,(0,ot.zw)((0,ye.SU)(r).variations),1)):(0,s.kq)("",!0),Object.keys((0,ye.SU)(r)).find((t=>t.startsWith("variations.")))?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(Object.keys((0,ye.SU)(r)).filter((t=>t.startsWith("variations."))),(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ye.SU)(r)[t],(t=>((0,s.wg)(),(0,s.iD)("label",{key:t,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},(0,ot.zw)(t),1)))),128))])))),128)):(0,s.kq)("",!0),(0,ye.SU)(e).variations.length?((0,s.wg)(),(0,s.iD)("div",H9t,[M9t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ye.SU)(e).variations,(t=>((0,s.wg)(),(0,s.j4)((0,ye.SU)(C9t),{key:t,variation:t,onUpdate:o},null,8,["variation"])))),128))])):((0,s.wg)(),(0,s.iD)("div",I9t,O9t))])):(0,s.kq)("",!0)])),_:1})])]),R9t]))}};const Y9t=N9t;var Z9t=Y9t;class K9t{async store(t,e,r){return await E.getCookie(),W.post("api/temporary-file",{file:t,collection_name:e},r)}}var B9t=new K9t;const Q9t={class:"tw-aspect-square tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},J9t={class:"tw-w-full tw-bg-gray-50"},G9t=["src"],X9t={class:"tw-text-sm tw-text-white tw-truncate"},tte={class:"tw-relative"},ete={key:0,class:"tw-absolute tw-h-full tw-flex tw-items-center tw-justify-center tw-w-full tw-bg-neutral-900/80 tw-backdrop-blur tw-border tw-border-gray-700 tw-border-solid tw-roundedx tw-top-0 tw-right-0"},rte={class:"tw-max-w-2/3 tw-p-5 tw-flex tw-flex-col tw-gap-4"},ate=(0,s._)("span",{class:"tw-text-lg"},"Delete",-1);var ste={__name:"ImageCard",props:["file"],emits:["show-preview","update","delete"],setup(t,{emit:e}){const r=t,l=e,o=(0,ye.Vh)(r,"file"),i=(0,ye.iH)(!1),w=(0,ye.iH)(0),n={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(i.value=!1)}},d=async()=>(i.value=!0,B9t.store(o.value.file,o.value.collection_name,n).then((t=>{if(t.data.uuid){const e={...o.value,uuid:t.data.uuid};l("update",o.value,e),console.log(e)}}),(t=>{console.log(t)})));return o.value.uuid||!o.value.is_new||i.value||d(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Q9t,[(0,s._)("div",J9t,[i.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,ot.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("img",{onClick:e[0]||(e[0]=t=>l("show-preview")),src:o.value.url,class:"tw-w-full tw-h-full tw-object-contain group-hover:tw-scale-105 tw-duration-200"},null,8,G9t),(0,s._)("div",{class:(0,ot.C_)([[o.value.showOptions&&"!tw-hidden"],"tw-p-2 tw-flex tw-items-center tw-justify-between group-hover:tw-translate-y-0 tw-absolute tw-bottom-0 tw-translate-y-full tw-duration-200 tw-w-full tw-h-fit tw-backdrop-blur-sm tw-bg-black/50 tw-left-0"])},[(0,s._)("p",X9t,(0,ot.zw)(o.value.name),1),(0,s._)("div",tte,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"tabler:dots",class:"tw-text-3xl tw-text-white"})])])],2)]),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0","leave-to-class":"tw-opacity-0",mode:"out-in"},{default:(0,s.w5)((()=>[o.value.showOptions?((0,s.wg)(),(0,s.iD)("div",ete,[(0,s._)("div",rte,[(0,s._)("button",{onClick:e[2]||(e[2]=t=>l("delete")),class:"tw-flex tw-items-center tw-gap-2 tw-text-red-300 hover:tw-text-red-500 tw-duration-200"},[(0,s.Wm)(r,{icon:"mdi:trash-can-empty",class:"tw-text-xl"}),ate])]),(0,s._)("button",{onClick:e[3]||(e[3]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})])])):(0,s.kq)("",!0)])),_:1})])])}}};const lte=ste;var ote=lte;const ite={class:"tw-aspect-square tw-group tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},wte={class:"tw-w-full tw-h-full tw-bg-gray-50"},nte=["controls","src"],dte={class:"tw-text-sm tw-text-white tw-truncate"},cte={class:"tw-relative"},ute={key:0,class:"tw-absolute tw-h-full tw-flex tw-items-center tw-justify-center tw-w-full tw-bg-neutral-900/80 tw-backdrop-blur tw-border tw-border-gray-700 tw-border-solid tw-roundedx tw-top-0 tw-right-0"},pte={class:"tw-max-w-2/3 tw-p-5 tw-flex tw-flex-col tw-gap-4"},gte=(0,s._)("span",{class:"tw-text-lg"},"Delete",-1);var mte={__name:"VideoCard",props:["file"],emits:["show-preview","update","delete"],setup(t,{emit:e}){const r=t,l=e,o=(0,ye.Vh)(r,"file"),i=(0,ye.iH)(null),w=(0,ye.iH)(0),n=(0,ye.iH)(!1),d=(0,ye.iH)(null),c=()=>{l("show-preview")},u={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(n.value=!1)}},p=async()=>(n.value=!0,B9t.store(o.value.file,o.value.collection_name,u).then((t=>{if(t.data.uuid){const e={...o.value,uuid:t.data.uuid};l("update",o.value,e),console.log(e)}}),(t=>{console.log(t)})));return o.value.uuid||!o.value.is_new||n.value||p(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ite,[(0,s._)("div",wte,[n.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,ot.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("video",{ref_key:"video",ref:i,controls:d.value,preload:"false",src:o.value.url,class:"tw-w-full tw-h-full tw-object-contain tw-duration-200"},null,8,nte),d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:c,class:"tw-absolute tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center group-hover:tw-scale-110 tw-duration-200 tw-bottom-1/2 tw-right-1/2 tw-translate-x-1/2 tw-translate-y-1/2 tw-p-5"},[(0,s.Wm)(r,{icon:"solar:play-circle-bold",class:"tw-text-7xl tw-drop-shadow-md tw-text-white"})])),(0,s._)("div",{class:(0,ot.C_)([[o.value.showOptions&&"!tw-hidden"],"tw-p-2 tw-flex tw-items-center tw-justify-between group-hover:tw-translate-y-0 tw-absolute tw-bottom-0 tw-translate-y-full tw-duration-200 tw-w-full tw-h-fit tw-backdrop-blur-sm tw-bg-black/50 tw-left-0"])},[(0,s._)("p",dte,(0,ot.zw)(o.value.name),1),(0,s._)("div",cte,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"tabler:dots",class:"tw-text-3xl tw-text-white"})])])],2)]),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0","leave-to-class":"tw-opacity-0",mode:"out-in"},{default:(0,s.w5)((()=>[o.value.showOptions?((0,s.wg)(),(0,s.iD)("div",ute,[(0,s._)("div",pte,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l("delete")),class:"tw-flex tw-items-center tw-gap-2 tw-text-red-300 hover:tw-text-red-500 tw-duration-200"},[(0,s.Wm)(r,{icon:"mdi:trash-can-empty",class:"tw-text-xl"}),gte])]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})])])):(0,s.kq)("",!0)])),_:1})])])}}};const hte=mte;var fte=hte;const bte={key:0},vte={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function xte(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",bte,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",vte,[(0,s.Wm)(jt.Z5,null,{default:(0,s.w5)((()=>[o.showContent?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] !tw-overflow-auto !tw-max-h-screen"},[(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)])),_:3}),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,ot.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-backdrop-blur-sm tw-bg-black/20 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var yte={props:{visible:{required:!0,default:!1},closeable:{required:!1,default:!0}},data(){return{showContent:!1}},watch:{visible(t){t?setTimeout((()=>{this.showContent=t}),0):this.showContent=t}},methods:{resolve(t){this.closeable&&this.$emit("cancel",t)}},computed:{},mounted(){this.showContent=this.visible},unmounted(){}};const _te=(0,m.Z)(yte,[["render",xte]]);var kte=_te;const Cte={class:"tw-p-4"},Dte={key:0,class:"tw-mb-4"},Ste={class:"tw-flex tw-justify-between tw-items-center"},zte=["disabled"],Ute=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-6 tw-w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),qte=[Ute],Pte=["src","alt"],Lte=["src"],Wte={key:2},Ate=["disabled"],$te=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-6 tw-w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),Ete=[$te];var Tte={__name:"MediaPreview",props:{files:{type:Array,required:!0},index:{type:Number,default:0},visible:{type:Boolean,default:!1}},emits:["update:visible","update:index"],setup(t,{emit:e}){const r=t,a=e,l=()=>{r.index>0&&a("update:index",r.index-1)},o=()=>{r.index<r.files.length-1&&a("update:index",r.index+1)},i=()=>{a("update:visible",!1)};return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(kte,{"z-index":"100000",visible:r.visible,closeable:!0,onCancel:i},{default:(0,s.w5)((()=>[(0,s._)("button",{onClick:i,class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(a,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})]),(0,s._)("div",Cte,[r.files.length>0?((0,s.wg)(),(0,s.iD)("div",Dte,[(0,s._)("div",Ste,[(0,s._)("button",{onClick:l,disabled:0===r.index,class:"tw-px-2 tw-py-1 tw-rounded tw-bg-gray-200 tw-text-gray-700 tw-disabled:opacity-50"},qte,8,zte),(0,s._)("div",null,[r.files[r.index].type.startsWith("image/")?((0,s.wg)(),(0,s.iD)("img",{key:0,src:r.files[r.index].url,alt:r.files[r.index].name,class:"tw-max-w-full tw-h-auto tw-max-h-[calc(100vh-200px)]"},null,8,Pte)):r.files[r.index].type.startsWith("video/")?((0,s.wg)(),(0,s.iD)("video",{key:1,src:r.files[r.index].url,controls:"",class:"tw-max-w-full tw-h-auto tw-max-h-[calc(100vh-200px)]"},null,8,Lte)):((0,s.wg)(),(0,s.iD)("div",Wte,(0,ot.zw)(r.files[r.index].name)+" ("+(0,ot.zw)(r.files[r.index].type)+") ",1))]),(0,s._)("button",{onClick:o,disabled:r.index===r.files.length-1,class:"tw-px-2 tw-py-1 tw-rounded tw-bg-gray-200 tw-text-gray-700 tw-disabled:opacity-50"},Ete,8,Ate)])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])}}};const Fte=Tte;var jte=Fte;const Ite={class:"tw-fixed tw-bottom-4 tw-right-3 tw-z-[1000]"},Vte=["multiple"],Ote={class:"tw-px-5 tw-mt-5 tw-flex tw-items-center tw-gap-5 tw-justify-between"},Hte={class:"tw-text-lg tw-font-medium tw-pl-5 tw-py-1 tw-border-l-2 tw-border-solid tw-border-orange-400"},Mte=(0,s._)("span",null,"Upload",-1),Rte={class:"tw-p-5"},Nte={key:0,class:"tw-p-4 tw-bg-gray-100 tw-rounded tw-text-center tw-border tw-border-solid"},Yte=(0,s._)("p",{class:"tw-font-medium tw-text-lg tw-text-gray-600"}," No media has been added yet ",-1),Zte=[Yte],Kte={key:1,class:"tw-grid md:tw-grid-cols-4 lg:tw-grid-cols-4 xl:tw-grid-cols-6 tw-grid-cols-1 tw-gap-4"};var Bte={__name:"MediaCollection",props:{label:{type:String,default:"Media"},collection:{type:String,default:"normal"},multiple:{type:Boolean,default:!0}},setup(t){const e=t,r=(0,s.f3)("product"),a=(0,ye.iH)(null),l=(0,ye.iH)(!1),o=(0,ye.iH)(0),i=(0,s.Fl)((()=>r.value.media.filter((t=>t.collection_name==e.collection)))),w=t=>{r.value.media=r.value.media.filter((e=>e.id!=t.id))},n=t=>{const a=t.target.files;for(const s of a){const t=s.type.startsWith("image/")?"image":s.type.startsWith("video/")?"video":"other";if("other"==t)return Lc("Only images and videos are supported","warning"),!1;const a=new FileReader;a.onload=()=>{r.value.media.push({id:Date.now(),name:s.name,url:a.result,file:s,type:s.type,category:t,is_new:!0,collection_name:e.collection})},a.readAsDataURL(s)}},d=t=>{o.value=t,l.value=!0},c=(t,e)=>{const a=r.value.media.indexOf(t);r.value.media[a]=e};return(t,r)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",Ite,[(0,s._)("input",{ref_key:"imageFilePicker",ref:a,type:"file",name:"image-input",onChange:n,multiple:e.multiple,class:"tw-invisible tw-absolute tw-pointer-events-none"},null,40,Vte)])])),(0,s.Wm)(jte,{files:i.value,visible:l.value,"onUpdate:visible":r[0]||(r[0]=t=>l.value=t),index:o.value,"onUpdate:index":r[1]||(r[1]=t=>o.value=t)},null,8,["files","visible","index"]),(0,s._)("div",Ote,[(0,s._)("h1",Hte,(0,ot.zw)(e.label),1),e.multiple||!e.multiple&&!i.value.length?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[2]||(r[2]=t=>a.value.click()),class:"tw-bg-gray-200 tw-flex tw-items-center tw-gap-2 tw-pr-6 tw-pl-4 tw-py-1 tw-rounded tw-text-gray-700 tw-border tw-border-solid tw-duration-200 hover:tw-border-gray-700"},[(0,s.Wm)(u,{icon:"mynaui:upload",class:"tw-text-xl"}),Mte])):(0,s.kq)("",!0)]),(0,s._)("div",Rte,[i.value.length?((0,s.wg)(),(0,s.iD)("div",Kte,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.id},["image"==t.category?((0,s.wg)(),(0,s.j4)((0,ye.SU)(ote),{key:0,file:t,onUpdate:c,onShowPreview:t=>d(e),onDelete:e=>w(t)},null,8,["file","onShowPreview","onDelete"])):(0,s.kq)("",!0),"video"==t.category?((0,s.wg)(),(0,s.j4)((0,ye.SU)(fte),{key:1,file:t,onUpdate:c,onShowPreview:t=>d(e),onDelete:e=>w(t)},null,8,["file","onShowPreview","onDelete"])):(0,s.kq)("",!0)],64)))),128))])):((0,s.wg)(),(0,s.iD)("div",Nte,Zte))])],64)}}};const Qte=Bte;var Jte=Qte,Gte={__name:"MediaTab",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)((0,ye.SU)(Jte),{label:"Thumbnail",collection:"thumbnail",multiple:!1}),(0,s.Wm)((0,ye.SU)(Jte),{label:"Images & Videos",collection:"normal"}),(0,s.Wm)((0,ye.SU)(Jte),{label:"Facebook ADS",collection:"facebook_ads"}),(0,s.Wm)((0,ye.SU)(Jte),{label:"TikTok ADS",collection:"tiktok_ads"})]))}};const Xte=Gte;var tee=Xte;const eee={class:"tw-grid tw-grid-cols-12 tw-gap-5"},ree={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},aee=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Landing pages")],-1),see={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},lee={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-2"},oee={class:"tw-flex-1"},iee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Add Landing Page Link",-1),wee={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-2"},nee={class:"tw-p-5"},dee={key:0,class:"tw-bg-gray-100 tw-p-5 tw-rounded tw-text-center"},cee={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-flex-wrap"},uee=["href"],pee={class:"tw-text-sm"},gee={class:"tw-flex tw-items-center tw-gap-2"},mee=["href"],hee=["onClick"],fee=(0,s._)("div",{class:"md:tw-col-span-5"},null,-1),bee={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},vee=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Video links")],-1),xee={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},yee={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-2"},_ee={class:"tw-flex-1"},kee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Add Video Link",-1),Cee={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-2"},Dee={class:"tw-p-5"},See={key:0,class:"tw-bg-gray-100 tw-p-5 tw-rounded tw-text-center"},zee={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-flex-wrap"},Uee=["href"],qee={class:"tw-text-sm"},Pee={class:"tw-flex tw-items-center tw-gap-2"},Lee=["href"],Wee=["onClick"];var Aee={__name:"MetadataTab",setup(t){const e=(0,s.f3)("product"),r=((0,s.f3)("errors"),(0,ye.iH)("")),l=(0,s.Fl)((()=>e.value.metadata.filter((t=>"video_link"==t.meta_key)))),o=(0,ye.iH)(""),i=(0,s.Fl)((()=>e.value.metadata.filter((t=>"landing_page_link"==t.meta_key)))),w=()=>{const t={meta_key:"video_link",meta_value:r.value};e.value.metadata.push(t),r.value=""},n=t=>{e.value.metadata=e.value.metadata.filter((e=>!("landing_page_link"==e.meta_key&&e.meta_value==t)))},d=t=>{e.value.metadata=e.value.metadata.filter((e=>!("video_link"==e.meta_key&&e.meta_value==t)))},c=()=>{const t={meta_key:"landing_page_link",meta_value:o.value};e.value.metadata.push(t),o.value=""};return(t,e)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",eee,[(0,s._)("div",ree,[aee,(0,s._)("div",see,[(0,s._)("div",lee,[(0,s._)("div",oee,[iee,(0,s._)("div",wee,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),type:"text",class:"tw-bg-gray-50 tw-border tw-flex-1 tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"https://www...",required:""},null,512),[[a.nr,o.value]]),(0,s._)("button",{onClick:c,class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(u,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.kq)("",!0)])])]),(0,s._)("div",nee,[i.value.length?((0,s.wg)(),(0,s.iD)("div",cee,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-px-4 tw-py-1 tw-flex tw-items-center tw-gap-4"},[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-uppercase"},[(0,s._)("span",pee,"LP Link "+(0,ot.zw)(e+1),1)],8,uee),(0,s._)("div",gee,[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,mee),(0,s._)("button",{onClick:e=>n(t.meta_value),class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"flowbite:close-outline",class:"tw-text-xl tw-text-gray-500"})],8,hee)])])))),128))])):((0,s.wg)(),(0,s.iD)("div",dee," No landing pages has been added "))])]),fee,(0,s._)("div",bee,[vee,(0,s._)("div",xee,[(0,s._)("div",yee,[(0,s._)("div",_ee,[kee,(0,s._)("div",Cee,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),class:"tw-bg-gray-50 tw-border tw-flex-1 tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"https://www...",required:""},null,512),[[a.nr,r.value]]),(0,s._)("button",{onClick:w,class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(u,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.kq)("",!0)])])]),(0,s._)("div",Dee,[l.value.length?((0,s.wg)(),(0,s.iD)("div",zee,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-px-4 tw-py-1 tw-flex tw-items-center tw-gap-4"},[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-uppercase"},[(0,s._)("span",qee,"Video Link "+(0,ot.zw)(e+1),1)],8,Uee),(0,s._)("div",Pee,[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Lee),(0,s._)("button",{onClick:e=>d(t.meta_value),class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"flowbite:close-outline",class:"tw-text-xl tw-text-gray-500"})],8,Wee)])])))),128))])):((0,s.wg)(),(0,s.iD)("div",See," No videos has been added "))])])])}}};const $ee=Aee;var Eee=$ee;const Tee={class:"tw-pt-2 tw-pb-20x tw-overflow-hidden"},Fee={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},jee={class:"tw-flex tw-items-center tw-gap-1 tw-w-fit tw-h-fit tw-p-1 tw-bg-gray-100 tw-rounded-md tw-border tw-border-solid tw-border-gray-200/80 tw-relative tw-z-10"},Iee=["onClick"],Vee=["disabled"],Oee=(0,s._)("span",null,"Create",-1),Hee={class:"tw-mt-4"};var Mee={__name:"CreateProductView",setup(t){const e=[{key:"main-details-tab",component:W7t,name:"Informations",icon:"clarity:help-info-solid",fields:["name","description","buying_price","selling_price","sku","status","offers","categories","tags"]},{key:"product-stock-tab",component:Z9t,name:"Inventory",icon:"ic:round-warehouse",fields:["product_variations","warehouse","product_deliveries","has_variations","initial_quantity"]},{key:"media-tab",component:tee,name:"Media",icon:"mdi:folder-media",fields:["media"]},{key:"metadata-tab",component:Eee,name:"Metadata",icon:"dashicons:admin-links",fields:["metadata"]}],r=(0,ye.XI)(e[0]),l=(0,ye.iH)({}),o=(0,ye.iH)(!1),i=(0,ye.iH)({status:!0,tags:[],categories:[],variations:[],has_variations:!1,media:[],metadata:[],category_id:"",initial_quantity:0,description:""});(0,s.JJ)("product",i),(0,s.JJ)("errors",l);const w=async()=>{const t={...i.value,media:i.value.media.map((t=>({uuid:t.uuid,id:t.id,collection_name:t.collection_name})))};o.value=!0,await t8t.create(t).then((t=>{"SUCCESS"==t.data.code&&(Lc("Product created successfully","success"),i.value={status:!0,tags:[],categories:[],variations:[],metadata:[],has_variations:!1,media:[],category_id:"",initial_quantity:0,description:""})}),(t=>{if(t?.response?.data?.errors&&422==t?.response.status)for(const e in t.response.data.errors)e.startsWith("variations.")?l.value[e]=t?.response?.data?.errors[e]:l.value[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return(t,n)=>{const d=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Tee,[(0,s._)("div",Fee,[(0,s._)("div",jee,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("div",{key:t.key,onClick:e=>r.value=t,class:(0,ot.C_)([[r.value.key==t.key&&" tw-border-neutral-200 tw-bg-white",r.value.key!=t.key&&"tw-border-transparent hover:tw-bg-white tw-cursor-pointer hover:tw-border-neutral-200",Object.keys(l.value).find((e=>t.fields.includes(e)))&&"!tw-border-red-500 !tw-text-red-400"],"tw-flex tw-items-center tw-relative tw-gap-2 tw-px-8 tw-py-2 tw-rounded tw-duration-200 tw-border tw-border-solid"])},[(0,s.Wm)(d,{icon:t.icon,class:"tw-text-2xl"},null,8,["icon"]),(0,s._)("span",null,(0,ot.zw)(t.name),1)],10,Iee))),64))]),(0,s._)("div",null,[(0,s._)("button",{disabled:o.value,class:(0,ot.C_)([[o.value&&"!tw-bg-gray-300 !tw-text-gray-600 tw-cursor-not-allowed"],"tw-bg-gray-800 hover:tw-bg-gray-900 tw-text-white tw-flex tw-items-center tw-gap-2 tw-pr-8 tw-pl-6 tw-py-3 tw-rounded"]),onClick:w},[o.value?((0,s.wg)(),(0,s.j4)(d,{key:0,icon:"eos-icons:three-dots-loading",class:"tw-text-2xl"})):((0,s.wg)(),(0,s.j4)(d,{key:1,icon:"mynaui:plus",class:"tw-text-2xl"})),Oee],10,Vee)])]),(0,s._)("div",Hee,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(r.value.component),{product:i.value,"onUpdate:product":n[0]||(n[0]=t=>i.value=t)},null,40,["product"]))])),_:1})],1024))])])}}};const Ree=Mee;var Nee=Ree;const Yee={key:0,class:"tw-p-2"},Zee=(0,s.uE)('<div class="tw-w-2/5 tw-h-[60px] tw-bg-gray-200 tw-rounded tw-animate-pulse"></div><div class="tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"><div class="tw-col-span-8 tw-min-h-[500px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div><div class="tw-col-span-4 tw-min-h-[500px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div><div class="tw-col-span-8 tw-min-h-[200px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div></div>',2),Kee=[Zee],Bee={key:1,class:"tw-pt-2 tw-pb-20x tw-overflow-hidden"},Qee={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Jee={class:"tw-flex tw-items-center tw-gap-1 tw-w-fit tw-h-fit tw-p-1 tw-bg-gray-100 tw-rounded-md tw-border tw-border-solid tw-border-gray-200/80 tw-relative tw-z-10"},Gee=["onClick"],Xee=["disabled"],tre=(0,s._)("span",null,"Update",-1),ere={class:"tw-mt-4"};var rre={__name:"EditProductView",setup(t){const e=[{key:"main-details-tab",component:W7t,name:"Informations",icon:"clarity:help-info-solid",fields:["name","description","buying_price","selling_price","sku","status","offers","categories","tags"]},{key:"product-stock-tab",component:Z9t,name:"Inventory",icon:"ic:round-warehouse",fields:["product_variations","warehouse","product_deliveries","has_variations","initial_quantity"]},{key:"media-tab",component:tee,name:"Media",icon:"mdi:folder-media",fields:["media"]},{key:"metadata-tab",component:Eee,name:"Metadata",icon:"dashicons:admin-links",fields:["metadata"]}],r=(0,b.yj)(),l=(0,ye.iH)(!0),o=(0,ye.iH)(!1),i=(0,ye.XI)(e[0]),w=(0,ye.iH)({}),n=(0,ye.iH)({status:!0,tags:[],categories:[],variations:[],has_variations:!1,media:[],metadata:[],category_id:"",initial_quantity:0,description:""});(0,s.JJ)("product",n),(0,s.JJ)("isUpdate",!0),(0,s.JJ)("errors",w);const d=async t=>{l.value=!0,await t8t.edit(t).then((t=>{"SUCCESS"==t.data.code&&(n.value=t.data.product)})),l.value=!1},c=async()=>{const t={...n.value,media:n.value.media.map((t=>({uuid:t.uuid,id:t.id,collection_name:t.collection_name})))};o.value=!0,await t8t.update(r.params.id,t).then((t=>{"SUCCESS"==t.data.code&&Lc("Product updated successfully","success")}),(t=>{if(t?.response?.data?.errors&&422==t?.response.status)for(const e in t.response.data.errors)e.startsWith("variations.")?w.value[e]=t?.response?.data?.errors[e]:w.value[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return d(r.params.id),(t,r)=>{const d=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l.value?((0,s.wg)(),(0,s.iD)("div",Yee,Kee)):(0,s.kq)("",!0),l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Bee,[(0,s._)("div",Qee,[(0,s._)("div",Jee,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("div",{key:t.key,onClick:e=>i.value=t,class:(0,ot.C_)([[i.value.key==t.key&&" tw-border-neutral-200 tw-bg-white",i.value.key!=t.key&&"tw-border-transparent hover:tw-bg-white tw-cursor-pointer hover:tw-border-neutral-200",Object.keys(w.value).find((e=>t.fields.includes(e)))&&"!tw-border-red-500 !tw-text-red-400"],"tw-flex tw-items-center tw-relative tw-gap-2 tw-px-8 tw-py-2 tw-rounded tw-duration-200 tw-border tw-border-solid"])},[(0,s.Wm)(d,{icon:t.icon,class:"tw-text-2xl"},null,8,["icon"]),(0,s._)("span",null,(0,ot.zw)(t.name),1)],10,Gee))),64))]),(0,s._)("div",null,[(0,s._)("button",{disabled:o.value,class:(0,ot.C_)([[o.value&&"!tw-bg-gray-300 !tw-text-gray-600 tw-cursor-not-allowed"],"tw-bg-gray-800 hover:tw-bg-gray-900 tw-text-white tw-flex tw-items-center tw-gap-2 tw-pr-8 tw-pl-6 tw-py-3 tw-rounded"]),onClick:c},[o.value?((0,s.wg)(),(0,s.j4)(d,{key:0,icon:"eos-icons:three-dots-loading",class:"tw-text-2xl"})):(0,s.kq)("",!0),tre],10,Xee)])]),(0,s._)("div",ere,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(i.value.component),{product:n.value,"onUpdate:product":r[0]||(r[0]=t=>n.value=t)},null,40,["product"]))])),_:1})],1024))])]))],64)}}};const are=rre;var sre=are;const lre={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},ore={class:"tw-px-3"},ire={class:"tw-mt-5x tw-flexx tw-items-centerx"},wre={key:0},nre={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},dre={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},cre={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},ure=["src"],pre=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),gre={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},mre=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),hre={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var fre={__name:"ImportListView",setup(t){const e=(0,ye.iH)(!1),r=(0,ye.iH)([]),a=async()=>{e.value=!0,await t8t.imported().then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.kq)("",!0),(0,s._)("div",lre,[(0,s._)("section",ore,[(0,s.kq)("",!0),(0,s._)("div",ire,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",wre,[r.value.length?((0,s.wg)(),(0,s.iD)("div",nre,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ye.SU)(E8t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",dre,[(0,s._)("div",cre,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,ure),pre])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",gre,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[mre,(0,s._)("div",hre,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const bre=fre;var vre=bre;const xre={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},yre={class:"tw-px-3"},_re={class:"tw-mt-5x tw-flexx tw-items-centerx"},kre={key:0},Cre={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Dre={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},Sre={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},zre=["src"],Ure=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),qre={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Pre=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),Lre={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var Wre={__name:"WishlistView",setup(t){const e=(0,ye.iH)(!1),r=(0,ye.iH)([]),a=async()=>{e.value=!0,await t8t.wishlisted().then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.kq)("",!0),(0,s._)("div",xre,[(0,s._)("section",yre,[(0,s.kq)("",!0),(0,s._)("div",_re,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",kre,[r.value.length?((0,s.wg)(),(0,s.iD)("div",Cre,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ye.SU)(E8t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",Dre,[(0,s._)("div",Sre,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,zre),Ure])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",qre,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[Pre,(0,s._)("div",Lre,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const Are=Wre;var $re=Are;const Ere={class:"tw-min-h-[calc(100dvh-148px)] tw-w-full tw-bg-white tw-rounded tw-overflow-hidden tw-p-5"},Tre=(0,s.uE)('<div class="tw-grid tw-grid-cols-12 tw-gap-5"><div class="tw-col-span-full lg:tw-col-span-6 tw-flex tw-flex-col tw-gap-2 tw-animate-pulse"><div class="tw-h-[550px] tw-w-full tw-bg-gray-200 tw-p-5 tw-rounded"></div><div class="tw-w-full tw-grid tw-grid-cols-12 tw-gap-2"><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div></div></div><div class="tw-col-span-full lg:tw-col-span-6 lg:tw-p-5 tw-animate-pulse"><div class="tw-w-full tw-h-[50px] tw-bg-gray-100 tw-rounded"></div><div class="tw-w-1/3 tw-h-[30px] tw-bg-gray-50 tw-mt-2 tw-rounded"></div><div class="tw-w-full tw-h-[300px] tw-bg-gray-50 tw-mt-10 tw-rounded"></div></div></div>',1),Fre=[Tre];function jre(t,e){return(0,s.wg)(),(0,s.iD)("div",Ere,Fre)}const Ire={},Vre=(0,m.Z)(Ire,[["render",jre]]);var Ore=Vre,Hre=r(1618);const Mre={class:"tw-flex tw-flex-col tw-gap-4"},Rre={class:"tw-h-[550px] tw-w-full tw-bg-gray-50 tw-border tw-border-solid tw-rounded tw-overflow-hidden"},Nre=["src"],Yre={class:"tw-relative"},Zre=["onClick"],Kre=["src"];var Bre={__name:"ProductImageSlider",setup(t){(0,Hre.z2)();const e=(0,s.f3)("product"),r=(0,ye.iH)(e.value.thumbnail);return(t,a)=>{const l=(0,s.up)("swiper-slide"),o=(0,s.up)("swiper-container");(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Mre,[(0,s._)("div",Rre,[(0,s._)("img",{class:"tw-h-full tw-w-full tw-object-contain tw-drop-shadow",src:r.value.url},null,8,Nre)]),(0,s._)("div",Yre,[(0,s.Wm)(o,{ref:"swiper-container","slides-per-view":5.5,"space-between":8},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ye.SU)(e).media.filter((t=>["thumbnail","normal"].includes(t.collection_name))),(t=>((0,s.wg)(),(0,s.j4)(l,{key:t,navigation:!0},{default:(0,s.w5)((()=>[(0,s._)("button",{onClick:e=>r.value=t,class:(0,ot.C_)([[r.value.url==t.url&&"!tw-border-orange-500"],"tw-aspect-square tw-border-2 tw-border-solid tw-border-transparent tw-rounded tw-overflow-hidden tw-cursor-pointer"])},[(0,s._)("img",{src:t.url,class:"tw-w-full tw-h-full tw-object-cover"},null,8,Kre)],10,Zre)])),_:2},1024)))),128))])),_:1},512),(0,s.kq)("",!0),(0,s.kq)("",!0)])])}}};const Qre=Bre;var Jre=Qre;const Gre={class:"tw-w-full tw-h-[50px] md:tw-text-4xl tw-text-3xl tw-font-bold tw-rounded tw-truncate tw-font-[cairo]"},Xre={class:"tw-flex tw-items-center tw-gap-4"},tae={key:0,class:"tw-w-fit tw-h-[30px] md:tw-text-xl tw-text-lg tw-font-bold tw-rounded tw-truncate tw-text-orange-500 tw-font-[cairo]"},eae={class:"tw-px-4 tw-border-l tw-border-solid tw-border-gray-200 tw-flex tw-items-center tw-gap-4"},rae=(0,s._)("span",null,"SKU:",-1),aae={class:"tw-mt-10 tw-w-full tw-rounded"},sae=(0,s._)("div",{class:"tw-p-1 tw-px-10 tw-bg-orange-500 tw-text-white tw-w-fit tw-rounded-t"},"Pricing",-1),lae={class:"tw-border-2 tw-border-solid tw-border-orange-500 tw-rounded-b tw-overflow-hidden tw-rounded-tr"},oae={class:"tw-w-full"},iae=(0,s._)("thead",null,[(0,s._)("tr",{class:"tw-bg-gray-100"},[(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Variation"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Available"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Price")])],-1),wae={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},nae={key:0},dae={key:1,class:"tw-flex tw-items-center tw-gap-1"},cae={key:0},uae={key:1},pae={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},gae={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},mae={class:"tw-mt-10 tw-w-full tw-rounded"},hae=(0,s._)("div",{class:"tw-p-1 tw-px-10 tw-bg-emerald-500 tw-text-white tw-w-fit tw-rounded-t"},"Rates",-1),fae={class:"tw-border-2 tw-border-solid tw-border-emerald-500 tw-rounded-b tw-overflow-hidden tw-rounded-tr"},bae={class:"tw-w-full"},vae=(0,s._)("thead",null,[(0,s._)("tr",{class:"tw-bg-gray-100"},[(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Confirmation"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Delivery")])],-1),xae={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},yae={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"};var _ae={__name:"ProductDetails",setup(t){const e=(0,s.f3)("product"),r=t=>{navigator.clipboard.writeText(t),Lc("Copied to clipboard")};return(t,a)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Gre,(0,ot.zw)((0,ye.SU)(e).name),1),(0,s._)("div",Xre,[(0,ye.SU)(e).category?((0,s.wg)(),(0,s.iD)("div",tae,(0,ot.zw)((0,ye.SU)(e).category),1)):(0,s.kq)("",!0),(0,s._)("div",eae,[rae,(0,s._)("button",{onClick:a[0]||(a[0]=t=>r((0,ye.SU)(e).sku)),class:"tw-py-0.5 tw-px-2 tw-bg-orange-50 tw-text-orange-500 tw-rounded tw-flex tw-items-center tw-gap-2"},[(0,s._)("span",null,(0,ot.zw)((0,ye.SU)(e).sku),1),(0,s.Wm)(l,{icon:"solar:copy-linear"})])])]),(0,s._)("div",aae,[sae,(0,s._)("div",lae,[(0,s._)("table",oae,[iae,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ye.SU)(e).variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",wae,[t.size||t.color?((0,s.wg)(),(0,s.iD)("div",dae,[t.size?((0,s.wg)(),(0,s.iD)("span",cae,(0,ot.zw)(t.size),1)):(0,s.kq)("",!0),t.color?((0,s.wg)(),(0,s.iD)("span",uae,(0,ot.zw)(t.color),1)):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("span",nae,"Default"))]),(0,s._)("td",pae,(0,ot.zw)(t.available_quantity),1),(0,s._)("td",gae,(0,ot.zw)((0,ye.SU)(c)+(0,ye.SU)(e).selling_price),1)])))),128))])])])]),(0,s._)("div",mae,[hae,(0,s._)("div",fae,[(0,s._)("table",bae,[vae,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",xae,(0,ot.zw)((0,ye.SU)(e).confirmation_rate)+"%",1),(0,s._)("td",yae,(0,ot.zw)((0,ye.SU)(e).delivery_rate)+"%",1)])])])])]),(0,s.Wm)(y8t,{"is-card":!1,product:(0,ye.SU)(e)},null,8,["product"]),(0,s.kq)("",!0),(0,s.kq)("",!0)])}}};const kae=_ae;var Cae=kae;const Dae={class:"tw-aspect-square tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},Sae={class:"tw-w-full tw-bg-gray-50"},zae=["src"],Uae=["download","href"];var qae={__name:"ImageCard",props:["file"],emits:["show-preview","update"],setup(t,{emit:e}){const r=t,a=e,l=(0,ye.Vh)(r,"file"),o=(0,s.f3)("product"),i=(0,ye.iH)(!1),w=(0,ye.iH)(0),n={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(i.value=!1)}},d=async()=>(i.value=!0,B9t.store(l.value.file,l.value.collection_name,n).then((t=>{if(t.data.uuid){const e={...l.value,uuid:t.data.uuid};a("update",l.value,e),console.log(e)}}),(t=>{console.log(t)})));function c(t){const e=new URL(t),r=e.pathname,a=r.split(".").pop();return a.includes("/")?"":a}return l.value.uuid||!l.value.is_new||i.value||d(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Dae,[(0,s._)("div",Sae,[i.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,ot.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("img",{onClick:e[0]||(e[0]=t=>a("show-preview")),src:l.value.url,class:"tw-w-full tw-h-full tw-object-contain group-hover:tw-scale-105 tw-duration-200"},null,8,zae),(0,s._)("a",{target:"_blank",download:(0,ye.SU)(o).name+"-"+l.value.id+"."+c(l.value.url),href:l.value.url,class:"hover:tw-bg-black/50 tw-rounded tw-duration-200 tw-p-1 tw-absolute tw-bottom-4 tw-right-4 tw-bg-black/20 tw-backdrop-blur"},[(0,s.Wm)(r,{icon:"octicon:download-16",class:"tw-text-3xl tw-text-white"})],8,Uae)])])])}}};const Pae=qae;var Lae=Pae;const Wae={class:"tw-aspect-square tw-group tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},Aae={class:"tw-w-full tw-h-full tw-bg-gray-50"},$ae=["controls","src"],Eae=["download","href"];var Tae={__name:"VideoCard",props:["file"],emits:["show-preview","update"],setup(t,{emit:e}){const r=t,a=e,l=(0,ye.Vh)(r,"file"),o=(0,ye.iH)(null),i=(0,s.f3)("product"),w=(0,ye.iH)(0),n=(0,ye.iH)(!1),d=(0,ye.iH)(null),c=()=>{a("show-preview")},u={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(n.value=!1)}},p=async()=>(n.value=!0,B9t.store(l.value.file,l.value.collection_name,u).then((t=>{if(t.data.uuid){const e={...l.value,uuid:t.data.uuid};a("update",l.value,e),console.log(e)}}),(t=>{console.log(t)})));function g(t){const e=new URL(t),r=e.pathname,a=r.split(".").pop();return a.includes("/")?"":a}return l.value.uuid||!l.value.is_new||n.value||p(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Wae,[(0,s._)("div",Aae,[n.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,ot.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("video",{ref_key:"video",ref:o,controls:d.value,preload:"false",src:l.value.url,class:"tw-w-full tw-h-full tw-object-contain tw-duration-200"},null,8,$ae),d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:c,class:"tw-absolute tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center group-hover:tw-scale-110 tw-duration-200 tw-bottom-1/2 tw-right-1/2 tw-translate-x-1/2 tw-translate-y-1/2 tw-p-5"},[(0,s.Wm)(r,{icon:"solar:play-circle-bold",class:"tw-text-7xl tw-drop-shadow-md tw-text-white"})])),(0,s._)("a",{target:"_blank",download:(0,ye.SU)(i).name+"-"+l.value.id+"."+g(l.value.url),href:l.value.url,class:"hover:tw-bg-black/50 tw-rounded tw-duration-200 tw-p-1 tw-absolute tw-bottom-4 tw-right-4 tw-bg-black/20 tw-backdrop-blur"},[(0,s.Wm)(r,{icon:"octicon:download-16",class:"tw-text-3xl tw-text-white"})],8,Eae)])])])}}};const Fae=Tae;var jae=Fae;const Iae={class:"tw-fixed tw-bottom-4 tw-right-3 tw-z-[1000]"},Vae=["multiple"],Oae={class:"tw-px-5 tw-mt-5 tw-flex tw-items-center tw-gap-5 tw-justify-between"},Hae={class:"tw-text-lg tw-font-medium tw-pl-5 tw-py-1 tw-border-l-2 tw-border-solid tw-border-orange-400"},Mae=(0,s._)("span",null,"Upload",-1),Rae={class:"tw-p-5"},Nae={key:0,class:"tw-p-4 tw-bg-gray-100 tw-rounded tw-text-center tw-border tw-border-solid"},Yae=(0,s._)("p",{class:"tw-font-medium tw-text-lg tw-text-gray-600"}," No media has been added yet ",-1),Zae=[Yae],Kae={key:1,class:"tw-grid md:tw-grid-cols-4 lg:tw-grid-cols-4 xl:tw-grid-cols-6 tw-grid-cols-1 tw-gap-4"};var Bae={__name:"MediaCollection",props:{label:{type:String,default:"Media"},collection:{type:String,default:"normal"},multiple:{type:Boolean,default:!0},upload:{type:Boolean,default:!1}},setup(t){const e=t,r=(0,s.f3)("product"),a=(0,ye.iH)(null),l=(0,ye.iH)(!1),o=(0,ye.iH)(0),i=(0,s.Fl)((()=>r.value.media.filter((t=>t.collection_name==e.collection)))),w=t=>{const a=t.target.files;for(const s of a){const t=s.type.startsWith("image/")?"image":s.type.startsWith("video/")?"video":"other";if("other"==t)return Lc("Only images and videos are supported","warning"),!1;const a=new FileReader;a.onload=()=>{r.value.media.push({id:Date.now(),name:s.name,url:a.result,file:s,type:s.type,category:t,is_new:!0,collection_name:e.collection})},a.readAsDataURL(s)}},n=t=>{o.value=t,l.value=!0},d=(t,e)=>{const a=r.value.media.indexOf(t);r.value.media[a]=e};return(t,r)=>{const c=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",Iae,[(0,s._)("input",{ref_key:"imageFilePicker",ref:a,type:"file",name:"image-input",onChange:w,multiple:e.multiple,class:"tw-invisible tw-absolute tw-pointer-events-none"},null,40,Vae)])])),(0,s.Wm)(jte,{files:i.value,visible:l.value,"onUpdate:visible":r[0]||(r[0]=t=>l.value=t),index:o.value,"onUpdate:index":r[1]||(r[1]=t=>o.value=t)},null,8,["files","visible","index"]),(0,s._)("div",Oae,[(0,s._)("h1",Hae,(0,ot.zw)(e.label),1),e.upload?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[2]||(r[2]=t=>a.value.click()),class:"tw-bg-gray-200 tw-flex tw-items-center tw-gap-2 tw-pr-6 tw-pl-4 tw-py-1 tw-rounded tw-text-gray-700 tw-border tw-border-solid tw-duration-200 hover:tw-border-gray-700"},[(0,s.Wm)(c,{icon:"mynaui:upload",class:"tw-text-xl"}),Mae])):(0,s.kq)("",!0)]),(0,s._)("div",Rae,[i.value.length?((0,s.wg)(),(0,s.iD)("div",Kae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.id},["image"==t.category?((0,s.wg)(),(0,s.j4)((0,ye.SU)(Lae),{key:0,file:t,onUpdate:d,onShowPreview:t=>n(e)},null,8,["file","onShowPreview"])):(0,s.kq)("",!0),"video"==t.category?((0,s.wg)(),(0,s.j4)((0,ye.SU)(jae),{key:1,file:t,onUpdate:d,onShowPreview:t=>n(e)},null,8,["file","onShowPreview"])):(0,s.kq)("",!0)],64)))),128))])):((0,s.wg)(),(0,s.iD)("div",Nae,Zae))])],64)}}};const Qae=Bae;var Jae=Qae;const Gae={class:"tw-min-h-[300px] tw-p-2x"},Xae={class:""};var tse={__name:"AdvertisingTab",setup(t){(0,s.f3)("product");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",Gae,[(0,s._)("div",Xae,[(0,s.Wm)((0,ye.SU)(Jae),{collection:"facebook_ads",label:"Facebook"}),(0,s.Wm)((0,ye.SU)(Jae),{collection:"tiktok_ads",label:"TikTok"})])]))}};const ese=tse;var rse=ese;const ase={class:"tw-w-full tw-p-4 tw-text-gray-600"};var sse={__name:"OverviewTab",setup(t){const e=(0,s.f3)("product");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",ase,[(0,s.kq)("",!0),(0,s.Wm)((0,ye.SU)(v6t),{modelValue:(0,ye.SU)(e).description,"onUpdate:modelValue":r[0]||(r[0]=t=>(0,ye.SU)(e).description=t),editable:!1},null,8,["modelValue"])]))}};const lse=sse;var ose=lse;const ise={class:"tw-min-h-[400px] tw-px-4"},wse={class:""},nse=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold"},"Landing pages",-1),dse={key:0,class:"tw-flex tw-flex-col tw-gap-2 tw-mt-4"},cse=["href"],use={key:1,class:"tw-mt-4 tw-p-4 tw-bg-gray-100 tw-text-center"},pse=(0,s._)("p",null,"No landing pages available",-1),gse=[pse],mse={class:"tw-mt-5"},hse=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold"},"Videos",-1),fse={key:0,class:"tw-flex tw-flex-col tw-gap-2 tw-mt-4"},bse=["href"],vse={key:1,class:"tw-mt-4 tw-p-4 tw-bg-gray-100 tw-text-center"},xse=(0,s._)("p",null,"No videos available",-1),yse=[xse];var _se={__name:"LinksTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.Fl)((()=>e.value.metadata.filter((t=>"landing_page_link"==t.meta_key)))),a=(0,s.Fl)((()=>e.value.metadata.filter((t=>"video_link"==t.meta_key))));return(t,e)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",ise,[(0,s._)("div",wse,[nse,r.value.length?((0,s.wg)(),(0,s.iD)("div",dse,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,((t,e)=>((0,s.wg)(),(0,s.iD)("a",{target:"_blank",href:t.meta_value,key:t,class:"tw-w-full tw-p-2 tw-flex tw-items-center tw-justify-between tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("span",null,"Landing Page link "+(0,ot.zw)(e+1),1),(0,s.Wm)(l,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,cse)))),128))])):((0,s.wg)(),(0,s.iD)("div",use,gse))]),(0,s._)("div",mse,[hse,a.value.length?((0,s.wg)(),(0,s.iD)("div",fse,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value,((t,e)=>((0,s.wg)(),(0,s.iD)("a",{target:"_blank",href:t.meta_value,key:t,class:"tw-w-full tw-p-2 tw-flex tw-items-center tw-justify-between tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("span",null,"Video link "+(0,ot.zw)(e+1),1),(0,s.Wm)(l,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,bse)))),128))])):((0,s.wg)(),(0,s.iD)("div",vse,yse))])])}}};const kse=_se;var Cse=kse;const Dse={class:"tw-flex tw-items-center tw-gap-2"},Sse=["onClick"],zse={class:"tw-bg-white tw-w-full tw-border tw-border-solid tw-border-gray-200"},Use={class:"tw-mt-4 tw-overflow-hidden"};var qse={__name:"TabContainer",setup(t){const e=[{key:"overview-tab",component:ose,name:"Overview",icon:"clarity:help-info-solid"},{key:"advertising-tab",component:rse,name:"Advertising Data",icon:"ic:sharp-ads-click"},{key:"links-tab",component:Cse,name:"Links",icon:"lucide:link"}],r=(0,s.f3)("product"),l=(0,ye.XI)(e[0]);return(t,o)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Dse,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("button",{key:t.key,onClick:e=>l.value=t,class:(0,ot.C_)([[t==l.value&&"tw-bg-orange-400 !tw-text-white"],"tw-bg-white tw-text-gray-600 tw-flex tw-items-center tw-duration-200 tw-gap-2 tw-px-4 tw-py-2 tw-rounded-t tw-border tw-border-b-0 tw-border-solid tw-border-gray-200"])},[(0,s.Wm)(i,{icon:t.icon,class:"tw-text-xl"},null,8,["icon"]),(0,s._)("span",null,(0,ot.zw)(t.name),1)],10,Sse))),64))]),(0,s._)("div",zse,[(0,s._)("div",Use,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(l.value.component),{product:(0,ye.SU)(r),"onUpdate:product":o[0]||(o[0]=t=>(0,ye.dq)(r)?r.value=t:null)},null,40,["product"]))])),_:1})],1024))])])])}}};const Pse=qse;var Lse=Pse;const Wse={class:"tw-p-2"},Ase=(0,s._)("span",null,"Go Back",-1),$se={class:"tw-p-2"},Ese={key:1,class:"tw-min-h-fit tw-w-full tw-bg-white tw-rounded tw-overflow-hidden tw-p-5 tw-border tw-border-solid tw-border-gray-200"},Tse={class:"tw-grid tw-grid-cols-12 tw-gap-5"},Fse={class:"tw-col-span-full lg:tw-col-span-6"},jse={class:"tw-col-span-full lg:tw-col-span-6 lg:tw-p-5"},Ise={key:2,class:"tw-mt-5"};var Vse={__name:"ShowProductView",setup(t){const e=(0,b.yj)(),r=(0,ye.iH)(!1),a=(0,ye.iH)({});(0,s.JJ)("product",a),(0,s.JJ)("loading",r);const l=async t=>{r.value=!0,await t8t.get(t).then((t=>{"SUCCESS"==t.data.code&&(a.value=t.data.product),console.log(t)}),(t=>{console.log(t)})),r.value=!1};return l(e.params.id),(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Wse,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$router.go(-1)),class:"tw-text-gray-600 tw-flex tw-items-center tw-gap-1 tw-duration-200 hover:tw-text-gray-700"},[(0,s.Wm)(a,{icon:"iconamoon:arrow-left-2",class:"tw-text-3xl tw-text-gray-400"}),Ase])]),(0,s._)("div",$se,[r.value?((0,s.wg)(),(0,s.j4)((0,ye.SU)(Ore),{key:0})):((0,s.wg)(),(0,s.iD)("div",Ese,[(0,s._)("div",Tse,[(0,s._)("div",Fse,[(0,s.Wm)((0,ye.SU)(Jre))]),(0,s._)("div",jse,[(0,s.Wm)((0,ye.SU)(Cae))])])])),r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ise,[(0,s.Wm)((0,ye.SU)(Lse))]))])],64)}}};const Ose=Vse;var Hse=Ose;const Mse={class:"tw-min-w-full tw-leading-normal"},Rse={class:""},Nse={key:0},Yse=(0,s._)("div",{class:"tw-w-full tw-py-3 tw-bg-gray-50 group-even:tw-bg-white tw-rounded tw-min-w-[30px] tw-animate-pulse"},null,-1),Zse=[Yse],Kse={key:1},Bse={class:"tw-px-5 tw-py-3 tw-text-sm"},Qse={class:"tw-px-5 tw-py-3 tw-text-sm"},Jse={class:"tw-px-5 tw-py-3 tw-text-sm"},Gse={class:"tw-px-5 tw-py-3 tw-text-sm"},Xse={class:"tw-px-5 tw-py-3 tw-text-sm"},tle={class:"tw-px-5 tw-py-3 tw-text-sm"},ele={class:"tw-text-green-500"},rle={class:"tw-px-5 tw-py-3 tw-text-sm"},ale={class:"tw-text-green-500"},sle={class:"tw-px-5 tw-py-3 tw-text-sm"},lle={class:"tw-text-green-500"},ole={key:1},ile=["colspan"],wle=(0,s._)("div",{class:"tw-p-5 tw-bg-white tw-min-h-[250px] tw-text-gray-600 tw-flex tw-items-center tw-justify-center tw-text-lg"},[(0,s._)("p",null,"No results was found")],-1),nle=[wle];var dle={__name:"ProductSellerTable",setup(t){const e=(0,ye.iH)(!1),r=(0,s.f3)("product",{}),a=(0,s.Fl)((()=>r.value.sellers)),l=(0,ye.iH)([{name:"seller",label:"Seller",classes:["tw-w-[220px]x"]},{name:"orders",label:"Orders",classes:["tw-w-[150px]"]},{name:"quantity",label:"Quantity",classes:["tw-w-[150px]"]},{name:"confirmation",label:"Confirmation",classes:["tw-w-[220px]"]},{name:"delivery",label:"Delivery",classes:["tw-w-[220px]"]},{name:"revenue",label:"Seller Revenue",classes:["tw-w-[200px]"]},{name:"expenses",label:"Expenses",classes:["tw-w-[200px]"]},{name:"profit",label:"Estimated Profit",classes:["tw-w-[200px]"]}]);return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("table",Mse,[(0,s._)("thead",Rse,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.name,class:(0,ot.C_)([t.classes,"tw-px-5 last:tw-border-e-0 tw-whitespace-nowrap tw-border-e tw-py-3 tw-border-b tw-borderx tw-border-gray-100 tw-bg-gray-50 tw-text-start tw-text-[12px] tw-font-semibold tw-text-gray-600 tw-uppercase tw-tracking-wider"])},(0,ot.zw)(t.label),3)))),128))])]),e.value?((0,s.wg)(),(0,s.iD)("tbody",Nse,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("tr",{class:"tw-border-b tw-border-solid tw-border-gray-100 last:tw-border-b-0 tw-group even:tw-bg-gray-50/50",key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("td",{key:t.name,class:"tw-px-2 tw-py-3"},Zse)))),128))]))),64))])):((0,s.wg)(),(0,s.iD)("tbody",Kse,[a.value.length>0?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(a.value,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-border-b tw-border-solid tw-border-gray-100 last:tw-border-b-0 tw-group even:tw-bg-gray-50/50 hover:tw-bg-primary-50/60 tw-duration-100"},[(0,s._)("td",Bse,[(0,s._)("p",null,(0,ot.zw)(t.username),1)]),(0,s._)("td",Qse,[(0,s._)("p",null,(0,ot.zw)(t.orders_count),1)]),(0,s._)("td",Jse,[(0,s._)("p",null,(0,ot.zw)(t.total_quantity),1)]),(0,s._)("td",Gse,[(0,s._)("p",null,(0,ot.zw)(t.confirmation_rate)+"%",1)]),(0,s._)("td",Xse,[(0,s._)("p",null,(0,ot.zw)(t.delivery_rate)+"%",1)]),(0,s._)("td",tle,[(0,s._)("p",ele,(0,ot.zw)((0,ye.SU)(c))+" "+(0,ot.zw)(t.revenue),1)]),(0,s._)("td",rle,[(0,s._)("p",ale,(0,ot.zw)((0,ye.SU)(c))+" "+(0,ot.zw)(t.product_expenses),1)]),(0,s._)("td",sle,[(0,s._)("p",lle,(0,ot.zw)((0,ye.SU)(c))+" "+(0,ot.zw)(t.product_profit),1)])])))),128)):((0,s.wg)(),(0,s.iD)("tr",ole,[(0,s._)("td",{colspan:l.value.length},nle,8,ile)]))]))])]))}};const cle=dle;var ule=cle;const ple={key:0,class:"tw-p-2"},gle={class:"tw-p-2 tw-text-lg tw-font-bold"},mle={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-mt-2"},hle={class:"tw-min-h-[100px] tw-grid tw-grid-cols-4 tw-col-span-12 tw-gap-2"},fle={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},ble={class:"tw-flex tw-items-center tw-gap-4"},vle=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Sellers",-1),xle={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},yle={class:"tw-text-2xl tw-font-bold tw-ml-auto"},_le={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},kle={class:"tw-flex tw-items-center tw-gap-4"},Cle=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Orders",-1),Dle={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},Sle={class:"tw-text-2xl tw-font-bold tw-ml-auto"},zle={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},Ule={class:"tw-flex tw-items-center tw-gap-4"},qle=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Imported",-1),Ple={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},Lle={class:"tw-text-2xl tw-font-bold tw-ml-auto"},Wle={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},Ale={class:"tw-flex tw-items-center tw-gap-4"},$le=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Wishlisted",-1),Ele={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},Tle={class:"tw-text-2xl tw-font-bold tw-ml-auto"},Fle={class:"tw-mt-2 tw-overflow-hidden tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded"};var jle={__name:"ShowAffiliateProduct",setup(t){const e=(0,b.yj)(),r=(0,ye.iH)(!0),a=(0,ye.iH)(null);(0,s.JJ)("product",a);const l=async t=>{r.value=!0,await t8t.details(t).then((t=>{"SUCCESS"==t.data.code&&(a.value=t.data.product)})).catch((t=>{console.log(t)})),r.value=!1};return l(e.params.id),(t,e)=>{const l=(0,s.up)("icon");return r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ple,[(0,s._)("div",gle,(0,ot.zw)(a.value.name),1),(0,s._)("div",mle,[(0,s._)("div",hle,[(0,s._)("div",fle,[(0,s._)("div",ble,[(0,s.Wm)(l,{icon:"heroicons:user-group-20-solid",class:"tw-text-4xl tw-text-sky-400"}),vle]),(0,s._)("div",xle,[(0,s._)("p",yle,(0,ot.zw)(a.value.sellers.length),1)])]),(0,s._)("div",_le,[(0,s._)("div",kle,[(0,s.Wm)(l,{icon:"fa-solid:boxes",class:"tw-text-4xl tw-text-amber-400"}),Cle]),(0,s._)("div",Dle,[(0,s._)("p",Sle,(0,ot.zw)(a.value.orders_count),1)])]),(0,s._)("div",zle,[(0,s._)("div",Ule,[(0,s.Wm)(l,{icon:"lets-icons:import-fill",class:"tw-text-4xl tw-text-green-400"}),qle]),(0,s._)("div",Ple,[(0,s._)("p",Lle,(0,ot.zw)(a.value.import_count),1)])]),(0,s._)("div",Wle,[(0,s._)("div",Ale,[(0,s.Wm)(l,{icon:"mdi:heart",class:"tw-text-4xl tw-text-rose-400"}),$le]),(0,s._)("div",Ele,[(0,s._)("p",Tle,(0,ot.zw)(a.value.wishlist_count),1)])])])]),(0,s._)("div",Fle,[(0,s.Wm)((0,ye.SU)(ule))])]))}}};const Ile=jle;var Vle=Ile;const Ole={class:"tw-flex tw-flex-col tw-mt-5"},Hle={class:"tw-overflow-x-auto"},Mle={class:"tw-inline-block tw-min-w-full tw-align-middle"},Rle={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Nle={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Yle={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},Zle={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Kle={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ble=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No seller has imported this product ! ")])],-1),Qle=[Ble],Jle={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Gle={colspan:"11"},Xle={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},toe=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),eoe=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),roe=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),aoe=[eoe,roe],soe={class:"tw-mt-6"};var loe={__name:"IndexTable",setup(t){const e={per_page:10,current_page:1,from:1,to:10,last_page:1,total:1},r=(0,ye.iH)([{name:"Username",key:"username",class:[""]},{name:"Orders",key:"orders",class:["tw-w-[200px]"]},{name:"Added",key:"added",class:["tw-w-[200px]"]}]),a=(0,ye.iH)(!1),l=(0,ye.iH)([]);return(t,o)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ole,[(0,s._)("div",Hle,[(0,s._)("div",Mle,[(0,s._)("div",Rle,[(0,s._)("table",Nle,[(0,s._)("thead",Yle,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,ot.C_)([[t.class],"tw-px-4 tw-w-fit tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"]),scope:"col"},(0,ot.zw)(t.name),3)))),128))])]),!a.value&&l.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",Zle)):(0,s.kq)("",!0),a.value||0!=l.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Kle,Qle)),a.value?((0,s.wg)(),(0,s.iD)("tbody",Jle,[(0,s._)("tr",null,[(0,s._)("td",Gle,[(0,s._)("div",Xle,[toe,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.per_page-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},aoe)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",soe,[(0,s.Wm)((0,ye.SU)(Kbt),{from:e.from,to:e.to,"last-page":e.last_page,"per-page":e.per_page,total:e.total,"current-page":e.current_page,onPageChange:o[0]||(o[0]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const ooe=loe;var ioe=ooe;const woe={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},noe={class:"tw-px-3"},doe=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Product Sellers")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of sellers working on this product. ")])],-1);var coe={__name:"ProductSellerListView",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",woe,[(0,s._)("section",noe,[doe,(0,s._)("div",null,[(0,s.Wm)(ioe)])])]))}};const uoe=coe;var poe=uoe,goe={name:"affiliate",path:"/affiliate",component:za,meta:{module:"affiliate"},children:[{name:"affiliate.admin.list",path:"admin/products",component:s6t,meta:{module:"affiliate",subModule:"affiliate.admin.list",title:"Affiliate Products",role:["admin"]}},{name:"affiliate.admin.show",path:"admin/products/:id",component:Vle,meta:{module:"product",subModule:"affiliate.admin.show",title:"Affiliate Product",role:["admin"]}},{name:"affiliate.admin.create",path:"admin/products/create",component:Nee,meta:{module:"affiliate",subModule:"affiliate.create",title:"Create Affiliate Product",role:["admin"]}},{name:"affiliate.admin.edit",path:"admin/products/:id/edit",component:sre,meta:{module:"affiliate",subModule:"affiliate.edit",title:"Edit Affiliate Product",role:["admin"]}},{name:"affiliate.index",path:"products",component:J8t,meta:{module:"affiliate",subModule:"affiliate.index",title:"Affiliate Products",role:["admin","seller"]}},{name:"affiliate.show",path:"products/:id",component:Hse,meta:{module:"affiliate",subModule:"affiliate.show",title:"Product Details",role:["admin","seller"]}},{name:"affiliate.show.sellers",path:"products/:id/sellers",component:poe,meta:{module:"affiliate",subModule:"affiliate.show.sellers",title:"Product Sellers",role:["admin"]}},{name:"affiliate.import",path:"products/imported",component:vre,meta:{module:"affiliate",subModule:"affiliate.import",title:"Import List",role:["admin","seller"]}},{name:"affiliate.wishlist",path:"products/wishlisted",component:$re,meta:{module:"affiliate",subModule:"affiliate.wishlist",title:"My wishlist",role:["admin","seller"]}}]};class moe{async getOrdersCountByDays(t=null,e=null){return await E.getCookie(),A.get("api/analytics/orders-count-by-days",{params:{from:t,to:e}})}async getRevenue(t=null,e=null){return await E.getCookie(),A.get("api/analytics/revenue",{params:{from:t,to:e}})}async getConfirmationsCount(t=null,e=null){return await E.getCookie(),A.get("api/analytics/confirmations-count",{params:{from:t,to:e}})}async getDeliveriesCount(t=null,e=null){return await E.getCookie(),A.get("api/analytics/deliveries-count",{params:{from:t,to:e}})}async getOrdersBySellers(t){return await E.getCookie(),A.get("api/analytics/orders-by-sellers",{params:t})}async getProductsPerformance(t){return await E.getCookie(),A.get("api/analytics/products-by-performance",{params:t})}}var hoe=new moe;const foe={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},boe={class:"tw-flex tw-items-center tw-gap-2"},voe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Orders",-1),xoe={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},yoe={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},_oe={class:"tw-flex tw-items-center tw-gap-2"},koe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Orders",-1),Coe={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Doe=(0,s._)("div",{class:"tw-h-[230px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1);var Soe={__name:"OrdersCountChart",setup(t){const e=(0,s.f3)("register"),r=(0,s.f3)("filters"),a=(0,ye.iH)(!0),l=(0,ye.iH)(0),o=(0,ye.iH)([]),i=(0,s.Fl)((()=>({chart:{id:"vuechart-example",foreColor:"#000",toolbar:{show:!1}},xaxis:{categories:o.value.map((t=>De()(t.date).format("MMM D")))},yaxis:{show:!1},stroke:{colors:["#000"]},fill:{type:"gradient",colors:["#000"],gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[50,90,100]}},dataLabels:{enabled:!0,style:{fontSize:"10px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff",padding:4,borderRadius:2,borderWidth:1,borderColor:"#fff",opacity:.9,backgroundColor:"#000",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}}}}))),w=(0,s.Fl)((()=>[{name:"Orders",data:o.value.map((t=>t.count))}])),n=async()=>{a.value=!0,await hoe.getOrdersCountByDays(r.value.date.start,r.value.date.end).then((t=>{"SUCCESS"==t.data.code&&(console.log(o),o.value=t.data.data,l.value=t.data.count)}),(t=>{console.log(t)})),a.value=!1};return n(),e(n),(t,e)=>{const r=(0,s.up)("apexchart"),o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",foe,[(0,s._)("div",boe,[voe,(0,s._)("p",xoe,(0,ot.zw)((new Intl.NumberFormat).format(l.value)),1)]),(0,s.Wm)(r,{type:"area",height:"220",options:i.value,series:w.value},null,8,["options","series"])])),a.value?((0,s.wg)(),(0,s.iD)("div",yoe,[(0,s._)("div",_oe,[koe,(0,s._)("p",Coe,[(0,s.Wm)(o,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),Doe])):(0,s.kq)("",!0)],64)}}};const zoe=Soe;var Uoe=zoe;const qoe={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},Poe={class:"tw-flex tw-items-center tw-gap-2"},Loe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),Woe={class:"tw-px-1 tw-bg-emerald-500 tw-text-white tw-text-sm tw-rounded"},Aoe=(0,s.uE)('<div class="tw-flex tw-gap-x"><div class="tw-w-[250px] tw-p-5 tw-h-[230px] tw-flex tw-items-center tw-justify-center"><div class="tw-w-[90%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-aspect-square tw-animate-pulse"></div></div><div class="tw-w-[50%] tw-p-2 tw-h-[230px] tw-flex tw-justify-center tw-flex-col tw-gap-3"><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div></div></div>',1),$oe={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},Eoe={class:"tw-flex tw-items-center tw-gap-2"},Toe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),Foe={class:"tw-px-1 tw-bg-emerald-500 tw-text-white tw-text-sm tw-rounded"},joe={class:"tw-h-fullx tw-flex tw-gap-2"},Ioe={class:"tw-w-fit tw-flex tw-items-center tw-h-full"},Voe={class:"tw-flex-1 tw-p-0 tw-flex tw-flex-col tw-gap-3 tw-justify-center"},Ooe={class:"tw-text-xs tw-font-semibold"},Hoe={class:"tw-text-xs"};var Moe={__name:"ConfirmationChart",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ye.iH)(!0),l=(0,ye.iH)(0),o=(0,ye.iH)(0),i=(0,ye.iH)({confirmations:[]}),w=(0,ye.iH)([77]),n=(0,s.Fl)((()=>({chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#111",fontSize:"16px",fontFamily:"cairo",fontWeight:"medium"},value:{formatter:function(t){return parseInt(t)+"%"},color:"#111",fontSize:"25px",fontFamily:"cairo",fontWeight:"bold",show:!0}}}},fill:{type:"gradient",colors:w.value[0]>50?["#10b981"]:["#f43f5e"],gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:w.value[0]>50?["#22c55e","#10b981"]:["#f43f5e","#e11d48"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Confirmed"]}))),d=async()=>{a.value=!0,await hoe.getConfirmationsCount(e.value.date.start,e.value.date.end).then((t=>{"SUCCESS"==t.data.code&&c(t.data.data)}),(t=>{console.log(t)})),a.value=!1},c=t=>{l.value=t.reduce(((t,e)=>t+e.count),0);let e=[],r=t.find((t=>"double"==t.confirmation))?.count??0,a=r>0?(r/l.value*100).toFixed(0):0,s={name:"Double",value:r,percentage:`${a}%`,color:"#8b5cf6"},n=l.value-r,d=t.find((t=>null==t.confirmation))?.count??0,c=d>0?(d/n*100).toFixed(0):0,u={name:"New",value:d,percentage:`${c}%`,color:"#000"};e.push(u);let p=t.find((t=>"confirmer"==t.confirmation))?.count??0,g=p>0?(p/n*100).toFixed(0):0;o.value=p,w.value=[g],e.push(s);let m=t.find((t=>"annuler"==t.confirmation))?.count??0,h=m>0?(m/n*100).toFixed(0):0,f={name:"Canceled",value:m,percentage:`${h}%`,color:"#e11d48"};e.push(f);let b=t.reduce(((t,e)=>e.confirmation?.includes("-call-")?t+e.count:t),0),v=b>0?(b/n*100).toFixed(0):0,x={name:"No Answer",value:b,percentage:`${v}%`,color:"#f59e0b"};e.push(x);let y=t.find((t=>"wrong-number"==t.confirmation))?.count??0,_=y>0?(y/n*100).toFixed(0):0,k={name:"Wrong Number",value:y,percentage:`${_}%`,color:"#ec4899"};e.push(k);let C=l.value-(d+p+r+m+b+y),D=C>0?(C/n*100).toFixed(0):0,S={name:"Others",value:C,percentage:`${D}%`,color:"#64748b"};e.push(S),i.value.confirmations=e};return d(),r(d),(t,e)=>{const r=(0,s.up)("icon"),l=(0,s.up)("apexchart");return a.value?((0,s.wg)(),(0,s.iD)("div",qoe,[(0,s._)("div",Poe,[Loe,(0,s._)("p",Woe,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),Aoe])):((0,s.wg)(),(0,s.iD)("div",$oe,[(0,s._)("div",Eoe,[Toe,(0,s._)("p",Foe,(0,ot.zw)((new Intl.NumberFormat).format(o.value)),1)]),(0,s._)("div",joe,[(0,s._)("div",Ioe,[(0,s.Wm)(l,{type:"radialBar",height:"230",width:"230",options:n.value,series:w.value},null,8,["options","series"])]),(0,s._)("div",Voe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value.confirmations,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{style:(0,ot.j5)({background:t.color}),class:"tw-p-0 tw-px-1 tw-rounded tw-text-[10px] tw-font-bold tw-text-white tw-text-center tw-w-[35px]"},(0,ot.zw)(t.percentage),5),(0,s._)("p",Ooe,[(0,s.Uk)((0,ot.zw)(t.name)+" ",1),(0,s._)("span",Hoe,"("+(0,ot.zw)((new Intl.NumberFormat).format(t.value))+")",1)])])))),128))])])]))}}};const Roe=Moe;var Noe=Roe;const Yoe={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},Zoe={class:"tw-flex tw-items-center tw-gap-2"},Koe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Delivery",-1),Boe={class:"tw-px-1 tw-bg-sky-500 tw-text-white tw-text-sm tw-rounded"},Qoe=(0,s.uE)('<div class="tw-flex tw-gap-x"><div class="tw-w-[230px] tw-p-5 tw-h-[230px] tw-flex tw-items-center tw-justify-center"><div class="tw-w-[90%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-aspect-square tw-animate-pulse"></div></div><div class="tw-w-[50%] tw-p-2 tw-h-[230px] tw-flex tw-justify-center tw-flex-col tw-gap-3"><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div></div></div>',1),Joe={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},Goe={class:"tw-flex tw-items-center tw-gap-2"},Xoe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Delivery",-1),tie={class:"tw-px-1 tw-bg-sky-500 tw-text-white tw-text-sm tw-rounded"},eie={class:"tw-h-fullx tw-flex tw-gap-2"},rie={class:"tw-w-fit"},aie={class:"tw-flex-1 tw-p-2 tw-flex tw-flex-col tw-gap-3 tw-justify-center"},sie={class:"tw-text-xs tw-font-semibold"},lie={class:"tw-text-xs"};var oie={__name:"DeliveryChart",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ye.iH)(!0),l=(0,ye.iH)(0),o=(0,ye.iH)(0),i=(0,ye.iH)({deliveries:[]}),w=(0,ye.iH)([27]),n=(0,s.Fl)((()=>({chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#111",fontSize:"16px",fontFamily:"cairo",fontWeight:"medium"},value:{formatter:function(t){return parseInt(t)+"%"},color:"#111",fontSize:"25px",fontFamily:"cairo",fontWeight:"bold",show:!0}}}},fill:{type:"gradient",colors:w.value[0]>50?["#38bdf8"]:["#f43f5e"],gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:w.value[0]>50?["#38bdf8","#06b6d4"]:["#f43f5e","#e11d48"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Delivered"]}))),d=async()=>{a.value=!0,await hoe.getDeliveriesCount(e.value.date.start,e.value.date.end).then((t=>{"SUCCESS"==t.data.code&&c(t.data.data)}),(t=>{console.log(t)})),a.value=!1},c=t=>{l.value=t.reduce(((t,e)=>t+e.count),0);let e=[],r=(l.value,t.find((t=>"printed"==t.delivery))?.count??0),a=r>0?(r/l.value*100).toFixed(0):0,s={name:"Printed",value:r,percentage:`${a}%`,color:"#000"};e.push(s);let n=t.find((t=>"paid"==t.delivery))?.count??0,d=n>0?(n/l.value*100).toFixed(0):0,c={name:"Paid",value:n,percentage:`${d}%`,color:"#06b6d4"},u=t.find((t=>"cleared"==t.delivery))?.count??0,p=u>0?(u/l.value*100).toFixed(0):0,g=t.find((t=>"livrer"==t.delivery))?.count??0,m=g>0?(g/l.value*100).toFixed(0):0,h={name:"Delivered",value:g,percentage:`${m}%`,color:"#10b981"};e.push(h),o.value=g,w.value=[(parseFloat(m)+parseFloat(d)+parseFloat(p)).toFixed(2)],console.log(w.value);let f=t.find((t=>"transfer"==t.delivery))?.count??0,b=t.find((t=>"expidier"==t.delivery))?.count??0+f,v=b>0?(b/l.value*100).toFixed(0):0,x={name:"Shipped",value:b,percentage:`${v}%`,color:"#8b5cf6"};e.push(x),e.push(c);let y=t.find((t=>"retourner"==t.delivery))?.count??0+f,_=y>0?(y/l.value*100).toFixed(0):0,k={name:"Returned",value:y,percentage:`${_}%`,color:"#e11d48"};e.push(k);let C=t.find((t=>"dispatch"==t.delivery))?.count??0,D=C>0?(C/l.value*100).toFixed(0):0,S={name:"Dispatched",value:C,percentage:`${D}%`,color:"#f59e0b"};e.push(S);let z=l.value-(r+g+b+n+u+C),U=z>0?(z/l.value*100).toFixed(0):0,q={name:"Others",value:z,percentage:`${U}%`,color:"#64748b"};e.push(q),i.value.deliveries=e};return d(),r(d),(t,e)=>{const r=(0,s.up)("icon"),o=(0,s.up)("apexchart");return a.value?((0,s.wg)(),(0,s.iD)("div",Yoe,[(0,s._)("div",Zoe,[Koe,(0,s._)("p",Boe,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),Qoe])):((0,s.wg)(),(0,s.iD)("div",Joe,[(0,s._)("div",Goe,[Xoe,(0,s._)("p",tie,(0,ot.zw)((new Intl.NumberFormat).format(l.value)),1)]),(0,s._)("div",eie,[(0,s._)("div",rie,[(0,s.Wm)(o,{type:"radialBar",height:"230",width:"230",options:n.value,series:w.value},null,8,["options","series"])]),(0,s._)("div",aie,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value.deliveries,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{style:(0,ot.j5)({background:t.color}),class:"tw-p-0 tw-px-1 tw-rounded tw-text-[10px] tw-font-bold tw-text-white tw-text-center tw-w-[35px]"},(0,ot.zw)(t.percentage),5),(0,s._)("p",sie,[(0,s.Uk)((0,ot.zw)(t.name)+" ",1),(0,s._)("span",lie,"("+(0,ot.zw)((new Intl.NumberFormat).format(t.value))+")",1)])])))),128))])])]))}}};const iie=oie;var wie=iie;const nie={key:0,class:"tw-p-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200"},die={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-5 tw-divide-x tw-gap-5"},cie={class:"tw-h-[125px] tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},uie={class:"tw-flex tw-items-center tw-gap-1"},pie=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Transaction Volume",-1),gie=(0,s._)("div",{class:"tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1),mie=(0,s.uE)('<div class="tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"><p class="tw-text-sm tw-text-gray-400">Gross Delivered</p><div class="tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"></div></div><div class="tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"><p class="tw-text-sm tw-text-gray-400">Gross Paid</p><div class="tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"></div></div><div class="tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"><p class="tw-text-sm tw-text-gray-400">Net Paid</p><div class="tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"></div></div><div class="tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"><p class="tw-text-sm tw-text-gray-400">AOV</p><div class="tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"></div></div>',4),hie={key:1,class:"tw-p-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200"},fie={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-5 tw-divide-x tw-gap-5"},bie={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},vie={class:"tw-flex tw-items-center tw-gap-1 tw-relative"},xie=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Transaction Volume",-1),yie={class:"tw-text-2xl tw-font-bold"},_ie={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},kie=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Gross Delivered",-1),Cie={class:"tw-text-2xl tw-font-bold"},Die={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},Sie={class:"tw-font-bold tw-text-black"},zie={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},Uie=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Gross Paid",-1),qie={class:"tw-text-2xl tw-font-bold"},Pie={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},Lie={class:"tw-font-bold tw-text-black"},Wie={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},Aie=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Net Paid",-1),$ie={class:"tw-text-2xl tw-font-bold"},Eie={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},Tie={class:"tw-font-bold tw-text-black"},Fie={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},jie=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"AOV",-1),Iie={class:"tw-text-2xl tw-font-bold"},Vie={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},Oie={class:"tw-font-bold tw-text-black"};var Hie={__name:"FinanceData",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ye.iH)(!1),l=(0,ye.iH)({}),o=async()=>{a.value=!0,await hoe.getRevenue(e.value.date.start,e.value.date.end).then((t=>{console.log(t.data),l.value=t.data.revenue}),(t=>{console.log(t)})),a.value=!1};return o(),r(o),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.value?((0,s.wg)(),(0,s.iD)("div",nie,[(0,s._)("div",die,[(0,s._)("div",cie,[(0,s._)("div",uie,[pie,(0,s.Wm)(r,{icon:"ph:info-light",class:"tw-text-lg tw-text-gray-400"})]),gie]),mie])])):(0,s.kq)("",!0),a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",hie,[(0,s._)("div",fie,[(0,s._)("div",bie,[(0,s._)("div",vie,[xie,(0,s.Wm)(r,{icon:"ph:info-light",class:"tw-text-lg tw-text-gray-400 hover:tw-text-gray-600 tw-duration-200 tw-cursor-pointer"})]),(0,s._)("p",yie,[(0,s.Uk)((0,ot.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.sum_livrer+l.value.sum_paid))+" ",1),(0,s.kq)("",!0)]),(0,s.kq)("",!0)]),(0,s._)("div",_ie,[kie,(0,s._)("p",Cie,[(0,s.Uk)((0,ot.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.sum_livrer))+" ",1),(0,s.kq)("",!0)]),(0,s.kq)("",!0),(0,s._)("p",Die,[(0,s.Uk)("COD Fees: "),(0,s._)("span",Sie,(0,ot.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.cod_fees)),1)])]),(0,s._)("div",zie,[Uie,(0,s._)("p",qie,[(0,s.Uk)((0,ot.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.sum_paid))+" ",1),(0,s.kq)("",!0)]),(0,s._)("p",Pie,[(0,s.Uk)("Shipping Fees: "),(0,s._)("span",Lie,(0,ot.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.shipping_fees)),1)])]),(0,s._)("div",Wie,[Aie,(0,s._)("p",$ie,[(0,s.Uk)((0,ot.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.net_paid))+" ",1),(0,s.kq)("",!0)]),(0,s._)("p",Eie,[(0,s.Uk)("Other fees: "),(0,s._)("span",Tie,(0,ot.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.other_fees)),1)])]),(0,s._)("div",Fie,[jie,(0,s._)("p",Iie,[(0,s.Uk)((0,ot.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format((l.value.sum_livrer+l.value.sum_paid)/l.value.count_orders_paid_delivered))+" ",1),(0,s.kq)("",!0)]),(0,s._)("p",Vie,[(0,s.Uk)("Profit per order: "),(0,s._)("span",Oie,(0,ot.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.cod_fees/l.value.count_orders_paid_delivered)),1)])])])]))],64)}}};const Mie=Hie;var Rie=Mie;const Nie={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[350px]x"},Yie={class:"tw-flex tw-items-start tw-justify-between"},Zie={class:"tw-flex tw-items-center tw-gap-2"},Kie=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Sellers",-1),Bie={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Qie={class:"tw-flex tw-items-center"},Jie=(0,s._)("option",{value:"high"},"High to Low",-1),Gie=(0,s._)("option",{value:"low"},"Low to High",-1),Xie=[Jie,Gie],twe={class:"tw-p-4 tw-flex tw-gap-2 tw-items-center"},ewe=["disabled"],rwe=["disabled"],awe={id:"chart"},swe={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[550px]"},lwe={class:"tw-flex tw-items-center tw-gap-2"},owe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Sellers",-1),iwe={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},wwe=(0,s._)("div",{class:"tw-h-[500px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1);var nwe={__name:"SellerData",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),l=(0,ye.iH)("high"),o=(0,ye.iH)({}),i=(0,ye.iH)(!1),w=(0,ye.iH)(0);(0,s.YP)((()=>l.value),(()=>{c()}));const n=(0,ye.iH)([{name:"Orders",group:"budget",data:[]},{name:"Confirmed",group:"actual",data:[]}]),d=(0,ye.iH)({chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!1}},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:t=>t},plotOptions:{bar:{horizontal:!0}},xaxis:{categories:[],labels:{formatter:t=>t}},fill:{opacity:1},colors:["#000","#10b981"],legend:{position:"top",horizontalAlign:"left"}}),c=async(t=6,r=1)=>{i.value=!0,await hoe.getOrdersBySellers({per_page:t,page:r,order_by:l.value,from:e.value.date.start,to:e.value.date.end}).then((t=>{"SUCCESS"==t.data.code&&(u(t.data.data.data),o.value=t.data.data,w.value=o.value.total)}),(t=>{console.log(t)})),i.value=!1},u=t=>{const e=Object.keys(t);d.value.xaxis.categories=e;const r=e.map((e=>{const r=Object.keys(t[e]).reduce(((r,a)=>r+(t[e][a].order_count||0)),0),a=t[e]["confirmer"]?.order_count||0;return[r,a]}));n.value[0].data=r.map((t=>t[0])),n.value[1].data=r.map((t=>t[1]))},p=()=>{c(o.value.per_page,o.value.current_page+1)},g=()=>{c(o.value.per_page,o.value.current_page-1)};return c(),r(c),(t,e)=>{const r=(0,s.up)("icon"),c=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Nie,[(0,s._)("div",Yie,[(0,s._)("div",Zie,[Kie,(0,s._)("p",Bie,(0,ot.zw)((new Intl.NumberFormat).format(w.value)),1)]),(0,s._)("div",Qie,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"tw-h-[35px] tw-px-2 tw-outline-none tw-border tw-rounded tw-border-solid tw-border-gray-200 tw-w-[180px]"},Xie,512),[[a.bM,l.value]]),(0,s._)("div",twe,[(0,s._)("button",{disabled:!o.value.prev_page_url,onClick:g,class:(0,ot.C_)([o.value.prev_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-left",class:"tw-text-3xl tw-text-gray-500"})],10,ewe),(0,s._)("button",{disabled:!o.value.next_page_url,onClick:p,class:(0,ot.C_)([o.value.next_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-right",class:"tw-text-3xl tw-text-gray-500"})],10,rwe)])])]),(0,s._)("div",null,[(0,s._)("div",awe,[(0,s.Wm)(c,{type:"bar",height:"450",options:d.value,series:n.value},null,8,["options","series"])])])])),i.value?((0,s.wg)(),(0,s.iD)("div",swe,[(0,s._)("div",lwe,[owe,(0,s._)("p",iwe,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),wwe])):(0,s.kq)("",!0)],64)}}};const dwe=nwe;var cwe=dwe;const uwe={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[350px]x"},pwe={class:"tw-flex tw-items-start tw-justify-between"},gwe={class:"tw-flex tw-items-center tw-gap-2"},mwe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Products",-1),hwe={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},fwe={class:"tw-flex tw-items-center"},bwe=(0,s._)("option",{value:"high"},"High to Low",-1),vwe=(0,s._)("option",{value:"low"},"Low to High",-1),xwe=[bwe,vwe],ywe={class:"tw-p-4 tw-flex tw-gap-2 tw-items-center"},_we=["disabled"],kwe=["disabled"],Cwe={id:"chart"},Dwe={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[550px]"},Swe={class:"tw-flex tw-items-center tw-gap-2"},zwe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Products",-1),Uwe={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},qwe=(0,s._)("div",{class:"tw-h-[500px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1);var Pwe={__name:"TopProductChart",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),l=(0,ye.iH)("high"),o=(0,ye.iH)({}),i=(0,ye.iH)(!0),w=(0,ye.iH)(0);(0,s.YP)((()=>l.value),(()=>{c()}));const n=(0,ye.iH)([{name:"Orders",group:"orders",data:[]},{name:"Quantity",group:"quantity",data:[]}]),d=(0,ye.iH)({chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!1}},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:t=>t},plotOptions:{bar:{horizontal:!0}},xaxis:{categories:[],labels:{show:!1,formatter:t=>t,trim:!0}},yaxis:{categories:[],labels:{show:!0,formatter:t=>t,trim:!0}},fill:{opacity:1},colors:["#000","#06b6d4"],legend:{position:"top",horizontalAlign:"left"}}),c=async(t=6,r=1)=>{i.value=!0,await hoe.getProductsPerformance({per_page:t,page:r,order_by:l.value,from:e.value.date.start,to:e.value.date.end}).then((t=>{"SUCCESS"==t.data.code&&(u(t.data.data.data),o.value=t.data.data,w.value=o.value.total)}),(t=>{console.log(t)})),i.value=!1},u=t=>{n.value[0].data=t.map((t=>t.count_orders)),n.value[1].data=t.map((t=>t.total_quantity)),d.value.xaxis.categories=t.map((t=>t.name))},p=()=>{c(o.value.per_page,o.value.current_page+1)},g=()=>{c(o.value.per_page,o.value.current_page-1)};return c(),r(c),(t,e)=>{const r=(0,s.up)("icon"),c=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",uwe,[(0,s._)("div",pwe,[(0,s._)("div",gwe,[mwe,(0,s._)("p",hwe,(0,ot.zw)((new Intl.NumberFormat).format(w.value)),1)]),(0,s._)("div",fwe,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"tw-h-[35px] tw-px-2 tw-outline-none tw-border tw-rounded tw-border-solid tw-border-gray-200 tw-w-[180px]"},xwe,512),[[a.bM,l.value]]),(0,s._)("div",ywe,[(0,s._)("button",{disabled:!o.value.prev_page_url,onClick:g,class:(0,ot.C_)([o.value.prev_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-left",class:"tw-text-3xl tw-text-gray-500"})],10,_we),(0,s._)("button",{disabled:!o.value.next_page_url,onClick:p,class:(0,ot.C_)([o.value.next_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-right",class:"tw-text-3xl tw-text-gray-500"})],10,kwe)])])]),(0,s._)("div",null,[(0,s._)("div",Cwe,[(0,s.Wm)(c,{type:"bar",height:"450",options:d.value,series:n.value},null,8,["options","series"])])])])),i.value?((0,s.wg)(),(0,s.iD)("div",Dwe,[(0,s._)("div",Swe,[zwe,(0,s._)("p",Uwe,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),qwe])):(0,s.kq)("",!0)],64)}}};const Lwe=Pwe;var Wwe=Lwe;const Awe={class:"tw-absolute tw-top-full tw-z-10 tw-pt-2"},$we={class:"tw-flex tw-flex-col tw-w-[800px] tw-h-[380px] tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-shadow tw-overflow-hidden"},Ewe={class:"tw-grid tw-grid-cols-12 tw-h-full"},Twe={class:"tw-col-span-3 tw-p-2 tw-flex tw-flex-col tw-gap-2 tw-max-h-[320px] tw-overflow-auto tw-relative"},Fwe=["onClick"],jwe={class:"tw-col-span-9 tw-p-2 tw-border-l tw-border-solid tw-border-gray-200"},Iwe={class:"tw-flex tw-p-2 tw-h-full tw-mt-2"},Vwe={class:"tw-col-span-12 tw-bg-white tw-h-[50px] tw-border-t tw-border-solid tw-border-gray-200"},Owe={class:"tw-flex tw-items-center tw-justify-end tw-gap-2 tw-h-full tw-px-2"};var Hwe={__name:"DateFilter",emits:["close"],setup(t,{emit:e}){const r=e,a=(0,s.f3)("filters"),l=(0,s.f3)("filter"),o=new Date(Date.now()),i=(0,ye.iH)(o.getMonth()),w=(0,ye.iH)(o.getFullYear()),n=(0,ye.iH)(o.getDay()),d=(0,ye.iH)({start:new Date(o),end:new Date(o)});setTimeout((()=>{a.value.date=d.value}));const c=(0,ye.iH)("Today"),u=[{name:"Today",start:new Date(o),end:new Date(o)},{name:"Yesterday",start:new Date(new Date(o).setDate(o.getDate()-1)),end:new Date(new Date(o).setDate(o.getDate()-1))},{name:"Last 7 days",start:new Date(new Date(o).setDate(o.getDate()-6)),end:new Date(o)},{name:"Last 30 days",start:new Date(new Date(o).setDate(o.getDate()-29)),end:new Date(o)},{name:"Last 90 days",start:new Date(new Date(o).setDate(o.getDate()-89)),end:new Date(o)},{name:"Last 365 days",start:new Date(new Date(o).setDate(o.getDate()-364)),end:new Date(o)},{name:"Last month",start:new Date(new Date(o.getFullYear(),o.getMonth()-1,1)),end:new Date(new Date(o.getFullYear(),o.getMonth(),0))},{name:"Last 12 months",start:new Date(new Date(o).setFullYear(o.getFullYear()-1)),end:new Date(o)},{name:"Week to date",start:new Date(new Date(o).setDate(o.getDate()-o.getDay()+1)),end:new Date(o)},{name:"Month to date",start:new Date(o.getFullYear(),o.getMonth(),1),end:new Date(o)},{name:"Quarter to date",start:new Date(o.getFullYear(),3*Math.floor(o.getMonth()/3),1),end:new Date(o)},{name:"Year to date",start:new Date(o.getFullYear(),0,1),end:new Date(o)}];(0,s.YP)((()=>d.value),(()=>{a.value.date=d.value}),{deep:!0});const p=(t,e)=>{i.value=t,w.value=e,console.log(e,t)},g=t=>{console.log("month: ",t)},m=t=>{console.log("day: ",t)},h=t=>{d.value.start=t.start,d.value.end=t.end,c.value=t.name},f=()=>{l(),r("close")};return(t,e)=>{const a=(0,s.up)("icon"),l=(0,s.up)("DatePicker");return(0,s.wg)(),(0,s.iD)("div",Awe,[(0,s._)("div",$we,[(0,s._)("div",Ewe,[(0,s._)("div",Twe,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(u,(t=>(0,s._)("button",{onClick:e=>h(t),key:t.name,class:(0,ot.C_)([[t.name===c.value&&"!tw-bg-gray-100 !tw-text-black"],"tw-flex tw-items-center tw-justify-between tw-p-2 tw-rounded tw-bg-white tw-text-start tw-font-semibold tw-text-gray-600 tw-duration-200 hover:tw-bg-gray-100"])},[(0,s._)("span",null,(0,ot.zw)(t.name),1),t.name===c.value?((0,s.wg)(),(0,s.j4)(a,{key:0,icon:"mage:check",class:"tw-text-xl tw-text-black"})):(0,s.kq)("",!0)],10,Fwe))),64))]),(0,s._)("div",jwe,[(0,s.kq)("",!0),(0,s._)("div",Iwe,[(0,s.Wm)(l,{"multi-month":"","allow-range":"",month:i.value,year:w.value,day:n.value,modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=t=>d.value=t),onMonthChange:p,onDayChange:m,onChange:g},null,8,["month","year","day","modelValue"])])])]),(0,s._)("div",Vwe,[(0,s._)("div",Owe,[(0,s._)("button",{onClick:e[3]||(e[3]=t=>r("close")),class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-gray-50 tw-text-gray-500"},"Close"),(0,s._)("button",{onClick:f,class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-orange-400 tw-text-white"},"Filter")])])])])}}};const Mwe=Hwe;var Rwe=Mwe;const Nwe={class:"tw-flex tw-items-center tw-gap-2"},Ywe={class:"tw-relative"},Zwe=(0,s._)("p",{class:"tw-text-sm tw-font-medium tw-text-gray-800"},"Lifetime",-1);var Kwe={__name:"FilterContainer",setup(t){const e=(0,ye.iH)({date:!1,sellers:!1});return(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Nwe,[(0,s._)("div",Ywe,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>e.value.date=!e.value.date),class:"tw-px-4 tw-py-2 tw-rounded tw-flex tw-items-center tw-gap-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200 hover:tw-shadow tw-duration-200"},[(0,s.Wm)(l,{icon:"mage:calendar",class:"tw-text-xl tw-text-gray-700"}),Zwe]),(0,s.wy)((0,s.Wm)((0,ye.SU)(Rwe),{onClose:r[1]||(r[1]=t=>e.value.date=!1)},null,512),[[a.F8,e.value.date]])]),(0,s.kq)("",!0)])])}}};const Bwe=Kwe;var Qwe=Bwe;const Jwe={class:"tw-pb-16"},Gwe={class:"tw-flex tw-items-center tw-justify-between tw-gap-2 tw-mb-2"},Xwe=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:"tw-bg-white tw-h-[40px] tw-w-[150px] tw-border tw-border-solid tw-border-gray-300"}),(0,s._)("div",{class:"tw-bg-white tw-h-[40px] tw-w-[150px] tw-border tw-border-solid tw-border-gray-300"})],-1),tne={class:"tw-grid tw-grid-cols-12 tw-gap-2"},ene={class:"tw-col-span-12 md:tw-col-span-12 lg:tw-col-span-4"},rne={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},ane={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},sne={class:"tw-col-span-12"},lne={class:"tw-col-span-12 md:tw-col-span-12 lg:tw-col-span-6"},one={class:"tw-col-span-12 md:tw-col-span-12 lg:tw-col-span-6"};var ine={__name:"SellersAnalyticsView",setup(t){const e=(0,ye.iH)({date:{start:null,end:null}}),r=(0,ye.iH)([]),a=t=>{r.value.push(t)},l=()=>{r.value.forEach((t=>t()))};return(0,s.JJ)("filter",l),(0,s.JJ)("filters",e),(0,s.JJ)("register",a),(t,e)=>((0,s.wg)(),(0,s.iD)("div",Jwe,[(0,s._)("div",Gwe,[(0,s._)("div",null,[(0,s.Wm)((0,ye.SU)(Qwe))]),Xwe]),(0,s._)("div",tne,[(0,s._)("div",ene,[(0,s.Wm)((0,ye.SU)(Uoe))]),(0,s._)("div",rne,[(0,s.Wm)((0,ye.SU)(Noe))]),(0,s._)("div",ane,[(0,s.Wm)((0,ye.SU)(wie))]),(0,s._)("div",sne,[(0,s.Wm)((0,ye.SU)(Rie))]),(0,s._)("div",lne,[(0,s.Wm)((0,ye.SU)(cwe))]),(0,s._)("div",one,[(0,s.Wm)((0,ye.SU)(Wwe))])])]))}};const wne=ine;var nne=wne,dne={name:"analytics.admin",path:"/admin/analytics",component:za,meta:{module:"analytics"},children:[{name:"analytics.admin.sellers",path:"sellers",component:nne,meta:{module:"analytics",subModule:"analytics.admin.sellers",title:"Analytics",role:["admin"]}}]};const cne=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Page not found")])],-1),une={class:"py-5 px-5 tw-border bg-white tw-w-full tw-flex tw-items-center tw-justify-center tw-rounded-md tw-min-h-[500px]"},pne={class:"tw-flex tw-items-center tw-flex-col"},gne=(0,s._)("div",{class:"md:tw-text-6xl tw-text-4xl tw-font-black text-primary-color"},"404",-1),mne={class:"tw-w-fit tw-flex tw-items-center md:tw-text-2xl tw-text-xl mt-md-5 mt-3 tw-gap-2"},hne=(0,s._)("div",{class:"tw-max-w-[400px] tw-text-center md:tw-text-lg tw-text-sm mt-5"}," The page you requested was not found or you don't have the permission to access it. ",-1);function fne(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[cne,(0,s._)("div",une,[(0,s._)("div",pne,[gne,(0,s._)("div",mne,[(0,s.Wm)(nt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-circle")])),_:1}),(0,s.Uk)(" Oops! Page not found! ")]),hne])])])}var bne={};const vne=(0,m.Z)(bne,[["render",fne]]);var xne=vne;const yne={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"};function _ne(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",yne,[(0,s._)("div",null,[(0,s.Wm)(it.T,{onClick:o.sendRequest,loading:l.isLoading,variant:"flat",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("Send Request")])),_:1},8,["onClick","loading"])])])])}const kne="/api/storeimport",Cne="post";var Dne={name:"Orders from Youcan",sheet_id:"QSDfFsqdDSQDfrsqFDSRHTRzer",sheet_name:"Youcan-Orders",auto_fetch:!0},Sne={data(){return{isLoading:!1,test:Dne}},methods:{async sendRequest(){switch(this.isLoading=!0,await E.getCookie(),Cne){case"get":A.get(kne).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"post":A.post(kne,Dne).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"delete":A["delete"](kne).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;default:break}}}};const zne=(0,m.Z)(Sne,[["render",_ne]]);var Une=zne;const qne=[Kt,nAt,AKt,dq,TA,i7,Hlt,owt,$ct,dgt,Smt,eSt,DUt,$Ot,xVt,W2t,bw,P4t,G3t,Nut,goe,dne,{name:"default",path:"/test",component:za,children:[{name:"test",path:"",component:Une,meta:{title:"Test abro m3a rasek",module:"test",gate:"all"}}]},{name:"not-found",path:"/404",component:za,meta:{title:"Not Found"},children:[{name:"404",path:"",component:xne}]},{name:"catch-all",path:"/:pathMatch(.*)",beforeEnter:(t,e,r)=>r({name:"404"}),meta:{title:"Not Found"}}],Pne=(0,b.p7)({history:(0,b.PO)("/"),routes:qne});Pne.beforeEach(((t,e)=>lt(t,e,Pne)));var Lne=Pne,Wne=(r(9773),r(8957));const Ane={colors:{"primary-color":"#FF9F43","secondary-color":"#1B2850","primary-indigo":"#1B2850","primary-orange":"#FF9F43","primary-blue":"#00CFE8","primary-green":"#28C76F"}};var $ne=(0,Wne.Rd)({theme:{defaultTheme:"customTheme",themes:{customTheme:Ane}}});const Ene={install(t){t.config.globalProperties.$can=function(t){const e=this.$store.getters["user/permissions"];return e.includes(t)}}};var Tne=Ene;const Fne={install(t){t.config.globalProperties.$alert=function(t){this.$store.dispatch("alert/toggleAlert",t)}}};var jne=Fne,Ine={install(t){t.config.globalProperties.$frontend=t=>w+t,t.config.globalProperties.$backend=t=>n+t;const e={get:(e,r)=>t.config.globalProperties.$store.getters["user/user"][r]};t.config.globalProperties.$user=new Proxy(t.config.globalProperties.$store.getters["user/user"],e)}};const Vne={install(t){t.config.globalProperties.$handleApiError=function(e){const r=e?.response?.data?.code;let a="error",s="Something wrong happened. Try again",l=!0;const o=["VALIDATION_ERROR","NOT_ACTIVE_ERROR","INVALID_CREDENTIALS","PERMISSION_DENIED"];switch(o.includes(r)&&(l=!1),console.log(e),"ERR_NETWORK"==e.code&&(s="Network error. Check your connection"),r){case"NOT_ALLOWED":s="Your are not allowed to this resources";break;case"ERROR":s=e?.response?.data.message;break;case"NOT_AUTHENTICATED":s="Your session expired",setTimeout((()=>{t.config.globalProperties.$store.dispatch("user/logout"),t.config.globalProperties.$router.push("/login")}),2e3);break;case"NOT_FOUND":l=!1,t.config.globalProperties.$router.push({name:"404"});break;case"RELOAD":l=!1,console.log("reload"),location.reload(!0);break;case"HIDE_APP":l=!1,document.getElementById("app").innerHTML="";break;default:break}return l&&t.config.globalProperties.$alert({type:a,title:s}),e}}};var One=Vne,Hne=r(7025);const Mne=t=>((0,s.dD)("data-v-ff4afcd0"),t=t(),(0,s.Cn)(),t),Rne={class:"tw-min-h-[500px] tw-flex tw-items-center tw-justify-center tw-bg-white tw-rounded-md tw-border"},Nne=Mne((()=>(0,s._)("div",{class:"tw-w-[40px] tw-h-[40px] tw-animate-spin loading tw-border-4 tw-border-x-transparent tw-border-t-transparent tw-rounded-full"},null,-1))),Yne=[Nne];function Zne(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Rne,Yne)}var Kne={};const Bne=(0,m.Z)(Kne,[["render",Zne],["__scopeId","data-v-ff4afcd0"]]);var Qne=Bne;const Jne={class:"tw-flex tw-justify-center tw-items-center"},Gne=(0,s._)("div",{class:"tw-relative tw-w-8 tw-h-8 tw-animate-spin tw-rounded-full tw-bg-gradient-to-r tw-from-purple-400 tw-via-blue-500 tw-to-red-400"},[(0,s._)("div",{class:"tw-absolute tw-top-1/2 tw-left-1/2 tw-transform tw--translate-x-1/2 tw--translate-y-1/2 tw-w-7 tw-h-7 tw-bg-white tw-rounded-full tw-border-2 tw-border-white"})],-1),Xne=[Gne];function tde(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Jne,Xne)}var ede={};const rde=(0,m.Z)(ede,[["render",tde]]);var ade=rde;const sde={key:0},lde={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"},ode={name:"body",class:"tw-z-[50999] tw-bg-white md:tw-min-w-[300px] md:tw-max-w-[800px] tw-flex tw-flex-col md:tw-min-h-[170px] tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5"},ide=["innerHTML"],wde={key:1,class:"tw-text-lg tw-text-gray-700"},nde={class:"tw-flex tw-gap-3 tw-justify-end mt-5"};function dde(t,e,r,a,l,o){return r.visible?((0,s.wg)(),(0,s.iD)("div",sde,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",lde,[(0,s._)("div",ode,[(0,s._)("div",{class:(0,ot.C_)(["tw-font-medium tw-text-lg mb-5 tw-text-start",o.currentType.class])},[(0,s.Wm)(nt.t,{size:"small",class:"mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,ot.zw)(o.currentType.icon),1)])),_:1}),(0,s._)("span",null,(0,ot.zw)(r.title),1)],2),r.body?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tw-text-center tw-text-lg tw-text-gray-700",innerHTML:r.body},null,8,ide)):((0,s.wg)(),(0,s.iD)("div",wde,[(0,s.WI)(t.$slots,"default")])),(0,s.Wm)(ir.C),(0,s._)("div",nde,[(0,s.Wm)(it.T,{variant:"flat",color:"grey",onClick:e[0]||(e[0]=t=>o.resolve(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),r.noConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(it.T,{key:0,loading:r.loading,variant:"flat",color:r.btnColor?r.btnColor:"red",onClick:e[1]||(e[1]=t=>o.resolve(!0))},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","color"]))])]),(0,s._)("div",{onClick:e[2]||(e[2]=t=>o.resolve(!1)),class:(0,ot.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var cde={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("resolved",t)}},computed:{currentType(){return this.types[this.type]}}};const ude=(0,m.Z)(cde,[["render",dde]]);var pde=ude;const gde={key:0},mde={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function hde(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",gde,[((0,s.wg)(),(0,s.j4)(s.lR,{to:".my-application"},[(0,s._)("div",null,[(0,s._)("div",mde,[(0,s._)("div",{name:"body",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] tw-overflow-y-auto tw-max-h-screen tw-flex tw-flex-col md:tw-min-h-[170px]"},[(0,s.WI)(t.$slots,"default")]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,ot.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var fde={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("cancel",t)}},computed:{currentType(){return this.types[this.type]}}};const bde=(0,m.Z)(fde,[["render",hde]]);var vde=bde,xde=r(2340),yde=r(5781),_de=r.n(yde),kde=r(6088),Cde=r(32),Dde=r(6580),Sde=(0,a.ri)(f).use(Lne).use(rt).use($ne).use(Tne).use(jne).use(Ine).use(One).use(Hne.Z).use(Cde.Z).use(Dde.ZP).component("LoadingAnimation",Qne).component("Loading",ade).component("Popup",pde).component("PopupFull",vde).component("VueDatePicker",xde.Z).component("downloadCsv",_de()).component("popupNew",kte).component("icon",kde.JO).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var l=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,l){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],l=t[d][2];for(var i=!0,w=0;w<a.length;w++)(!1&l||o>=l)&&Object.keys(r.O).every((function(t){return r.O[t](a[w])}))?a.splice(w--,1):(i=!1,l<o&&(o=l));if(i){t.splice(d--,1);var n=s();void 0!==n&&(e=n)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[a,s,l]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,l,o=a[0],i=a[1],w=a[2],n=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(w)var d=w(r)}for(e&&e(a);n<o.length;n++)l=o[n],r.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return r.O(d)},a=self["webpackChunkproduction"]=self["webpackChunkproduction"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(6262)}));a=r.O(a)})();
//# sourceMappingURL=app.23e08f2d.js.map