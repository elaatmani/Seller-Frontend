(function(){var t={6700:function(t,e,r){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function s(t){var e=l(t);return r(e)}function l(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=l,t.exports=s,s.id=6700},3311:function(t,e,r){"use strict";r.d(e,{Z:function(){return gge}});var a=r(9242),s=r(3396),l=r(7718);function o(t,e,r,a,o,i){const w=(0,s.up)("router-view"),n=(0,s.up)("AppProvider");return(0,s.wg)(),(0,s.j4)(l.q,{class:"my-application"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{i18n:t.locales},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1},8,["i18n"])])),_:1})}var i=r(7139);const w="https://codsquad.net/",n="https://api.codsquad.net/",d="1.0.1",c="$",u="cods";var p=r(9641),g={name:"App",data:()=>({theme:"light",version:d,locales:p}),methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions"]),checkVersion(){const t=localStorage.getItem("app_version");t!=this.version&&(localStorage.setItem("app_version",this.version),location.reload(!0))}},mounted(){this.checkVersion(),document.documentElement.style.setProperty("--p-color-scrollbar-thumb-bg-hover","none"),document.documentElement.style.scrollbarColor="auto",document.documentElement.style.scrollbarWidth="auto"}},m=r(89);const h=(0,m.Z)(g,[["render",o],["__scopeId","data-v-6dc71e7d"]]);var f=h,b=r(2483);r(7658);let v={roles:localStorage.getItem("roles")?JSON.parse(localStorage.getItem("roles")):[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):[],isLoggedIn:"true"==localStorage.getItem("isLoggedIn"),permissions:localStorage.getItem("permissions")?JSON.parse(localStorage.getItem("permissions")):[],users:[],agents:[],deliveries:[],fetched:!1,fetchedRoles:!1};var x={name:"user",namespaced:!0,state:v,getters:{fetched:t=>t.fetched,fetchedRoles:t=>t.fetchedRoles,isLoggedIn:t=>t.isLoggedIn,permissions:t=>t.permissions,user:t=>t.user,users:t=>t.users,roles:t=>t.roles,agents:t=>t.agents,deliveries:t=>t.deliveries},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FETCHED_ROLES:(t,e)=>{t.fetchedRoles=e},SET_IS_LOGGED_IN:(t,e)=>{localStorage.setItem("isLoggedIn",e),t.isLoggedIn=e},SET_USER:(t,e)=>{localStorage.setItem("user",JSON.stringify(e)),t.user=e},SET_USERS:(t,e)=>{t.users=e},SET_PERMISSIONS:(t,e)=>{localStorage.setItem("permissions",JSON.stringify(e)),t.permissions=e},SET_ROLES:(t,e)=>{localStorage.setItem("roles",JSON.stringify(e)),t.roles=e},SET_DELIVERIES:(t,e)=>{t.deliveries=e},SET_AGENTS:(t,e)=>{t.agents=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFetchedRoles:({commit:t},e)=>{t("SET_FETCHED_ROLES",e)},setUser:({commit:t},e)=>{t("SET_USER",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)},setAgents:({commit:t},e)=>{t("SET_AGENTS",e)},setDeliveries:({commit:t},e)=>{t("SET_DELIVERIES",e)},setIsLoggedIn:({commit:t},e)=>{t("SET_IS_LOGGED_IN",e)},setPermissions:({commit:t},e)=>{t("SET_PERMISSIONS",e)},setRoles:({commit:t},e)=>{t("SET_ROLES",e)},logout:({commit:t})=>{t("SET_USER",{}),t("SET_IS_LOGGED_IN",!1),t("SET_PERMISSIONS",[]),t("SET_ROLES",[])}}},y={name:"alert",namespaced:!0,state:{active:!1,alert:{type:"success",title:"Toast",body:"Hello body"}},getters:{alert:t=>t},mutations:{TOGGLE_TOAST:(t,e)=>{t.alert=e,t.active=!0,setTimeout((()=>{t.active=!1}),4500)}},actions:{toggleAlert:({commit:t},e)=>{t("TOGGLE_TOAST",e)}}};let _={products:[],fetched:!1};var k={name:"product",namespaced:!0,state:_,getters:{products:t=>t.products,fetched:t=>t.fetched},mutations:{SET_PRODUCTS:(t,e)=>{t.products=e},SET_PRODUCT:(t,e)=>{t.products=t.products.map((t=>t.id===e.id?e:t))},ADD_PRODUCT:(t,e)=>{t.products.push(e)},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setProducts:({commit:t},e)=>{t("SET_PRODUCTS",e)},setProduct:({commit:t},e)=>{t("SET_PRODUCT",e)},addProduct:({commit:t},e)=>{t("ADD_PRODUCT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};r(541);let C={fetched:!1,sales:[],count:0};var D={name:"sale",namespaced:!0,state:C,getters:{sales:t=>t.sales,count:t=>t.count,fetched:t=>t.fetched},mutations:{SET_SALES:(t,e)=>{t.sales=e},SET_COUNT:(t,e)=>{t.count=e},SET_FETCHED:(t,e)=>{t.fetched=e},UPDATE_SALE:(t,e)=>{t.sales=t.sales.map((t=>t.id===e.id?e.sale:t))},ADD_SALE:(t,e)=>{t.sales.unshift(e)},ADD_SALES:(t,e)=>{t.sales=[...e,...t.sales]},UPDATE_CONFIRMATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,console.log("sale updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.affectation=e.affectation,null!=e.affectation?t.delivery="dispatch":t.delivery=null,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,console.log("order updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))},RESET_SALES:(t,e)=>{t.sales=t.sales.map((t=>(e.includes(t.id)&&(t.agente_id=null,t.upsell=null,t.confirmation=null,t.affectation=null,t.note=null,t.note_d=null,t.delivery=null,t.reported_agente_date=null,t.reported_agente_note=null,t.reported_delivery_date=null,t.reported_delivery_note=null),t)))}},actions:{setSales:({commit:t},e)=>{t("SET_SALES",e)},setCount:({commit:t},e)=>{t("SET_COUNT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},update:({commit:t},e)=>{t("UPDATE_SALE",e)},add:({commit:t},e)=>{t("ADD_SALE",e)},addSales:({commit:t},e)=>{t("ADD_SALES",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)},resetSales:({commit:t},e)=>{t("RESET_SALES",e)}}};let S={orders:[],order:null,all_orders:[],fetched:!1};var z={name:"order",namespaced:!0,state:S,getters:{fetched:t=>t.fetched,orders:t=>t.orders,order:t=>t.order,allOrders:t=>t.all_orders},mutations:{SET_ORDERS:(t,e)=>{t.orders=e},ADD_ORDER:(t,e)=>{t.orders.unshift(e),t.all_orders.unshift(e)},SET_FETCHED:(t,e)=>{t.fetched=e},SET_ALL_ORDERS:(t,e)=>{t.all_orders=e},SET_ORDER:(t,e)=>{t.order=e},UPDATE_ORDER:(t,e)=>{t.orders=t.orders.map((t=>t.id===e.id?e.order:t)),t.all_orders=t.all_orders.map((t=>t.id===e.id?e.order:t))},UPDATE_CONFIRMATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))}},actions:{setOrders:({commit:t},e)=>{t("SET_ORDERS",e)},addOrder:({commit:t},e)=>{t("ADD_ORDER",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setAllOrders:({commit:t},e)=>{t("SET_ALL_ORDERS",e)},setOrder:({commit:t},e)=>{t("SET_ORDER",e)},update:({commit:t},e)=>{t("UPDATE_ORDER",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)}}};let U={fetcehd:!1,inventoryList:[],inventoryState:[],inventoryMovements:[]};var q={name:"inventory",namespaced:!0,state:U,getters:{fetched:t=>t.fetched,inventoryList:t=>t.inventoryList,inventoryState:t=>t.inventoryState,inventoryMovements:t=>t.inventoryMovements},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_INVENTORY_LIST:(t,e)=>{t.inventoryList=e},SET_INVENTORY_STATE:(t,e)=>{t.inventoryState=e},SET_INVENTORY_MOVEMENTS:(t,e)=>{t.inventoryMovements=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setInventoryList:({commit:t},e)=>{t("SET_INVENTORY_LIST",e)},setInventoryState:({commit:t},e)=>{t("SET_INVENTORY_STATE",e)},setInventoryMovements:({commit:t},e)=>{t("SET_INVENTORY_MOVEMENTS",e)}}},P=r(6943);const L=P.Z.create({baseURL:n}),W=P.Z.create({baseURL:n});W.defaults.withCredentials=!0,W.defaults.headers={"Content-Type":"multipart/form-data",Accept:"application/json"},L.defaults.withCredentials=!0,L.defaults.headers={"Content-Type":"application/json",Accept:"application/json"};var A=L,$=r(680),E={getCookie(){let t=$.Z.get("XSRF-TOKEN");return t?new Promise((t=>{t()})):A.get("sanctum/csrf-cookie")}};class T{async statistics(t){return await E.getCookie(),A.post("api/v1/agent/statistics",t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/agent/orders"+t,e)}async counts(){return await E.getCookie(),A.get("api/v1/agent/orders/counts")}async update(t,e){return await E.getCookie(),A.post("api/v1/agent/orders/"+t+"/update",e)}async toConfirm(){return await E.getCookie(),A.get("api/orders/toconfirmate")}async getOrder(){return await E.getCookie(),A.get("api/orders/add")}async create(t){return await E.getCookie(),A.post("api/v1/agent/orders/create",t)}}var F=new T;let j={fetched:!1,totalAvailable:0,totalConfirmed:0,totalNotConfirmed:0};var I={name:"agent",namespaced:!0,state:j,getters:{fetched:t=>t.fetched,state:t=>t},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_TOTAL_CONFIRMED:(t,e)=>{t.totalConfirmed=e},SET_TOTAL_NOT_CONFIRMED:(t,e)=>{t.totalNotConfirmed=e},SET_TOTAL_AVAILABLE:(t,e)=>{t.totalAvailable=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setTotalConfirmed:({commit:t},e)=>{t("SET_TOTAL_CONFIRMED",e)},setTotalNotConfirmed:({commit:t},e)=>{t("SET_TOTAL_NOT_CONFIRMED",e)},setTotalAvailable:({commit:t},e)=>{t("SET_TOTAL_AVAILABLE",e)},refreshCounts:t=>{t.commit("SET_FETCHED",!1),console.log(t),F.counts().then((e=>{if("SUCCESS"==e?.data.code){const r=e.data.data;t.commit("SET_TOTAL_CONFIRMED",r.confirmed),t.commit("SET_TOTAL_NOT_CONFIRMED",r.not_confirmed),t.commit("SET_TOTAL_AVAILABLE",r.available),t.commit("SET_FETCHED",!0)}}))}}};const V=localStorage.getItem("cities");let O={fetched:!1,cities:V?JSON.parse(V):[]};var H={name:"city",namespaced:!0,state:O,getters:{cities:t=>t.cities,fetched:t=>t.fetched},mutations:{SET_CITIES:(t,e)=>{localStorage.setItem("cities",JSON.stringify(e)),t.cities=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setCities:({commit:t},e)=>{t("SET_CITIES",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}},M={name:"app",namespaced:!0,state:{notifications:{fetched:!1,all:[],data:[],count:0,highlighted:null},factorisations:{fetched:!1,tobepaid:0},alerts:{fetched:!1,data:[]}},getters:{notifications:t=>t.notifications,factorisations:t=>t.factorisations,alerts:t=>t.alerts},mutations:{SET_DATA:(t,e)=>{t.notifications.data=e},SET_ALERTS_FETCHED:(t,e)=>{t.alerts.fetched=e},SET_ALERTS_DATA:(t,e)=>{t.alerts.data=e},SET_TO_BE_PAID:(t,e)=>{t.factorisations.tobepaid=e},SET_ALL_NOTIFICATIONS:(t,e)=>{t.notifications.all=e},SET_COUNT:(t,e)=>{t.notifications.count=e},SET_HIGHLIGHTED:(t,e)=>{t.notifications.highlighted=e},CHANGE_STATUS:t=>{t.notifications.data=t.notifications.data.map((t=>(t.status="read",t)),t.notifications.count=0)}},actions:{setData({commit:t},e){t("SET_DATA",e)},setAlertsFetched({commit:t},e){t("SET_ALERTS_FETCHED",e)},setAlertsData({commit:t},e){t("SET_ALERTS_DATA",e)},settobepaid({commit:t},e){t("SET_TO_BE_PAID",e)},setAllNotifications({commit:t},e){t("SET_ALL_NOTIFICATIONS",e)},sethighlighted({commit:t},e){t("SET_HIGHLIGHTED",e)},setCount({commit:t},e){t("SET_COUNT",e)},updatestatus({commit:t},e){t("CHANGE_STATUS",e)}}};let R={shops:[]};var N={name:"shop",namespaced:!0,state:R,getters:{shops:t=>t.shops},mutations:{SET_SHOPS:(t,e)=>{t.shops=e}},actions:{setShops:({commit:t},e)=>{t("SET_SHOPS",e)}}};let Y={fetched:!1,notifications:{productStockAlert:[],reportedSale:[],reportedOrderAgente:[],reportedOrderDelivery:[]}};var Z={name:"notification",namespaced:!0,state:Y,getters:{notifications:t=>t.notifications,fetched:t=>t.fetched},mutations:{SET_NOTIFICATIONS:(t,e)=>{t.notifications=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setNotifications:({commit:t},e)=>{t("SET_NOTIFICATIONS",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let K={fetched:!1,warehouses:[]};var B={name:"warehouse",namespaced:!0,state:K,getters:{fetched:t=>t.fetched,warehouses:t=>t.warehouses},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_WAREHOUSES:(t,e)=>{t.warehouses=e},ADD_WAREHOUSE:(t,e)=>{t.warehouses.push(e)},DELETE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.filter((t=>t.id!=e))},UPDATE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setWarehouses:({commit:t},e)=>{t("SET_WAREHOUSES",e)},addWarehouse:({commit:t},e)=>{t("ADD_WAREHOUSE",e)},update:({commit:t},e)=>{t("UPDATE_WAREHOUSE",e)},delete:({commit:t},e)=>{t("DELETE_WAREHOUSE",e)}}};let Q={fetched:!1,factorisations:[]};var J={name:"factorisation",namespaced:!0,state:Q,getters:{fetched:t=>t.fetched,factorisations:t=>t.factorisations},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FACTORISATIONS:(t,e)=>{t.factorisations=e},ADD_FACTORISATION:(t,e)=>{t.factorisations.push(e)},DELETE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.filter((t=>t.id!=e))},UPDATE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFactorisations:({commit:t},e)=>{t("SET_FACTORISATIONS",e)},addFactorisation:({commit:t},e)=>{t("ADD_FACTORISATION",e)},update:({commit:t},e)=>{t("UPDATE_FACTORISATION",e)},delete:({commit:t},e)=>{t("DELETE_FACTORISATION",e)}}};let G={fetched:!1,sheets:[]};var X={name:"sheet",namespaced:!0,state:G,getters:{fetched:t=>t.fetched,sheets:t=>t.sheets},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_SHEETS:(t,e)=>{t.sheets=e},ADD_SHEET:(t,e)=>{t.sheets.push(e)},DELETE_SHEET:(t,e)=>{t.sheets=t.sheets.filter((t=>t.id!=e))},UPDATE_SHEET:(t,e)=>{t.sheets=t.sheets.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setSheets:({commit:t},e)=>{t("SET_SHEETS",e)},addSheet:({commit:t},e)=>{t("ADD_SHEET",e)},update:({commit:t},e)=>{t("UPDATE_SHEET",e)},delete:({commit:t},e)=>{t("DELETE_SHEET",e)}}};let tt={users:[],fetched:!1};var et={name:"online",namespaced:!0,state:tt,getters:{fetched:t=>t.fetched,users:t=>t.users},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_USERS:(t,e)=>{t.users=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)}}};let rt={supply_requests:[]};var at={name:"supply-request",namespaced:!0,state:rt,getters:{supply_requests:t=>t.supply_requests},mutations:{SET_SUPPLY_REQUESTS:(t,e)=>{t.supply_requests=e},ADD_SUPPLY_REQUEST:(t,e)=>{t.supply_requests.unshift(e)},DELETE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.filter((t=>t.id!=e))},UPDATE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.map((t=>t.id==e.id?e:t))}},actions:{setSupplyRequests:({commit:t},e)=>{t("SET_SUPPLY_REQUESTS",e)},addSupplyRequest:({commit:t},e)=>{t("ADD_SUPPLY_REQUEST",e)},deleteSupplyRequest:({commit:t},e)=>{t("DELETE_SUPPLY_REQUEST",e)},updateSupplyRequest:({commit:t},e)=>{t("UPDATE_SUPPLY_REQUEST",e)}}},st=(0,i.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:x,product:k,alert:y,sale:D,order:z,inventory:q,city:H,agent:I,shop:N,notification:Z,warehouse:B,factorisation:J,sheet:X,app:M,online:et,"supply-request":at}});class lt{async login(t){return await E.getCookie(),A.post("api/auth/login",{email:t.email,password:t.password})}async register(t){return await E.getCookie(),A.post("api/users/new",{email:t.email,password:t.password,phone:t.phone,status:t.status,role:t.role,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,city:t?.city,deliverycity:t?.deliveryCities,having_all:t.having_all})}async update(t,e){return await E.getCookie(),A.post("api/users/update/"+t.id,{email:t.email,password:t.password,phone:t.phone,status:t.status,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,role:t.role,city:t?.city,deliverycity:t?.deliveryCities,updatePassword:e,having_all:t.having_all})}async updateProfile(t,e){return await E.getCookie(),A.post("api/users/profile",{password:t.password,phone:t.phone,firstname:t.firstname,lastname:t.lastname,updatePassword:e})}async online(){return await E.getCookie(),A.get("api/user")}async lastAction(){return await E.getCookie(),A.get("api/users/last-action")}async profile(){return await E.getCookie(),A.get("api/users/profile")}async logout(){return await E.getCookie(),A.get("api/auth/logout")}async clear(){return await E.getCookie(),A.get("api/auth/clear")}async permessions(){return await E.getCookie(),A.get("api/permissions")}async permession(){return await E.getCookie(),A.get("api/auth/permission")}async roles(){return await E.getCookie(),A.get("api/auth/roles")}async all(){return await E.getCookie(),A.get("api/users")}async updateStatus({id:t,status:e}){return await E.getCookie(),A.post("api/users/status/"+t,{status:e})}async delete(t){return await E.getCookie(),A["delete"]("api/users/delete/"+t)}async getUser(t){return await E.getCookie(),A.get("api/users/"+t)}async createPermission(t){return await E.getCookie(),A.post("api/permissions/new",{name:t})}async createRole({name:t,permissions:e}){return await E.getCookie(),A.post("api/roles/new",{name:t,permissions:e})}async updateRole(t,{name:e,permissions:r}){return await E.getCookie(),A.post("api/roles/update/"+t,{name:e,permissions:r})}async deleteRole(t){return await E.getCookie(),A["delete"]("api/roles/delete/"+t)}async getRole(t){return await E.getCookie(),A.get("api/roles/"+t)}async agents(){return await E.getCookie(),A.get("api/agents")}async deliveries(){return await E.getCookie(),A.get("api/delevries")}async allDeliveries(){return await E.getCookie(),A.get("api/deliveries")}async allSellers(){return await E.getCookie(),A.get("api/sellers")}async cities(){return await E.getCookie(),A.get("api/cities")}}var ot=new lt;function it(t,e,r){if(document.title=t.meta?.title+" | COD Squad",!st.getters["user/isLoggedIn"])return"/login"==t.path||{name:"login"};if(ot.online().then((t=>{"USER_SHOWED"==t.data.code&&t.data.data.user.email!=st.getters["user/user"]?.email&&(st.dispatch("user/logout"),r.push({name:"login"}))})).catch(gge.$handleApiError),"/login"==t.path)return{name:"404"};const{gate:a}=t.meta,s=st.getters["user/permissions"];return"all"===a||(!!t.meta.role?.includes(st.getters["user/user"].role)||((a||"/404"===t.path)&&!(!s.includes(a)&&"/404"!==t.path)||{name:"404"}))}var wt=r(2268),nt=r(7312),dt=r(3369),ct=r(3289),ut=r(165);const pt={class:"tw-min-h-screen tw-overflow-auto tw-bg-slate-50"},gt={class:"tw-grid tw-h-fit tw-overflow-hidden md:tw-grid-cols-2 tw-grid-cols-1"},mt={class:"py-md-5 py-10 pb-0 tw-flex tw-justify-center md:tw-items-center"},ht={class:"px-md-10 tw-w-full"},ft={class:"tw-w-[270px] tw-h-[60px]"},bt=["src"],vt={class:"mt-md-10 mt-15 pt-5 px-md-5 px-lg-16 tw-w-full d-felx justify-center align-center"},xt={class:"pa-5 py-7 tw-border bg-white tw-rounded-lg tw-mx-auto tw-max-w-[450px]"},yt=(0,s._)("h1",{class:"text-h5 font-weight-medium !tw-text-gray-600"},"Login",-1),_t=(0,s._)("p",{class:"text-body-1 mt-2 !tw-text-gray-500"},"Please login to your account",-1),kt={key:0,class:"text-body-2 mt-2 !tw-text-red-500"},Ct={class:"mt-5"},Dt=(0,s._)("p",{class:"mb-1"},"Email",-1),St=(0,s._)("p",{class:"mb-1"},"Password",-1),zt={class:"mt-5"},Ut=(0,s._)("span",{class:"text-capitalize text-white"},"Login",-1),qt={class:"bg-primary-color tw-min-h-screen tw-hidden md:tw-flex tw-items-center tw-justify-center"},Pt=["src"];function Lt(t,e,r,l,o,i){const w=(0,s.up)("Alert");return(0,s.wg)(),(0,s.iD)("div",pt,[(0,s.Wm)(w),(0,s._)("div",gt,[(0,s._)("div",mt,[(0,s.Wm)(dt.K,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",ht,[(0,s._)("div",ft,[(0,s._)("img",{class:"tw-w-full",src:o.localUrl+"images/logo.png"},null,8,bt)]),(0,s._)("div",vt,[(0,s._)("div",xt,[yt,_t,o.error.active?((0,s.wg)(),(0,s.iD)("p",kt,(0,wt.zw)(o.error.message),1)):(0,s.kq)("",!0),(0,s._)("div",Ct,[(0,s._)("div",null,[Dt,(0,s.Wm)(ut.hw,{name:"email",onKeyup:e[0]||(e[0]=t=>i.resetError("email")),modelValue:o.email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t),error:!o.emailStatus.valid,"error-messages":o.emailStatus.valid?"":o.emailStatus.message,autofocus:"",onBlur:e[2]||(e[2]=t=>o.emailFocus=!1),onFocus:e[3]||(e[3]=t=>o.emailFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:o.emailFocus?o.emailStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-email-outline")])),_:1},8,["color"])])),_:1},8,["modelValue","error","error-messages"])]),(0,s._)("div",null,[St,(0,s.Wm)(ut.hw,{name:"password",onKeyup:(0,a.D2)(i.login,["enter"]),modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),error:!o.passwordStatus.valid,"error-messages":o.passwordStatus.valid?"":o.passwordStatus.message,type:o.showPassword?"text":"password",onBlur:e[6]||(e[6]=t=>o.passwordFocus=!1),onFocus:e[7]||(e[7]=t=>o.passwordFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(ct.t,{onClick:e[4]||(e[4]=t=>o.showPassword=!o.showPassword),class:"tw-relative tw-z-50 tw-cursor-pointer",color:o.passwordFocus?o.passwordStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(o.showPassword?"mdi-eye-off-outline":"mdi-eye-outline"),1)])),_:1},8,["color"])])),_:1},8,["onKeyup","modelValue","error","error-messages","type"])]),(0,s._)("div",zt,[(0,s.Wm)(nt.T,{disabled:o.isLoading||!o.cookiesCleared,loading:o.isLoading||!o.cookiesCleared,onClick:i.login,block:"",size:"large",color:"primary-color",variant:"flat",class:"!tw-text-white disabled:!tw-bg-gray-200"},{default:(0,s.w5)((()=>[Ut])),_:1},8,["disabled","loading","onClick"])])])])])])])),_:1})]),(0,s._)("div",qt,[(0,s._)("img",{src:o.localUrl+"assets/img/login.jpg",class:"tw-w-full tw-h-full tw-object-cover",alt:""},null,8,Pt)])])])}function Wt(t){var e=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;return t?new RegExp(e).test(t)?{valid:!0}:{valid:!1,message:"Email is not valid."}:{valid:!1,message:"Email is required."}}function At(t){return t?t.length<=4||t.length>=16?{valid:!1,message:"Password length must be between 4 and 16."}:{valid:!0}:{valid:!1,message:"This field is required"}}function $t(t,e="This field"){return t?{valid:!0}:{valid:!1,message:`${e} is required`}}function Et(t,e="This field"){return t?isNaN(t)?{valid:!1,message:`${e} must be a valid number`}:{valid:!0}:{valid:!1,message:`${e} is required`}}function Tt(t,e){return t?t!==e?{valid:!1,message:"Passwords doesn't match"}:{valid:!0}:{valid:!1,message:"This field is required."}}function Ft(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one variant to create a product !"}}function jt(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one permission to create a role !"}}var It=r(7771),Vt=r(8952);const Ot={key:0,class:"pa-2 tw-absolute !tw-z-[510000]"},Ht={class:"tw-text-sm"};function Mt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(Vt.V,null,{default:(0,s.w5)((()=>[o.state.active?((0,s.wg)(),(0,s.iD)("div",Ot,[(0,s.Wm)(It.w,{closable:"",density:"compact",variant:"flat",type:o.state.alert.type,position:"fixed",location:"bottom right",class:"ma-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Ht,(0,wt.zw)(o.state.alert.title),1)])),_:1},8,["type"])])):(0,s.kq)("",!0)])),_:1})])}var Rt={computed:{state(){return this.$store.getters["alert/alert"]}}};const Nt=(0,m.Z)(Rt,[["render",Mt]]);var Yt=Nt,Zt={components:{Alert:Yt},data(){return{localUrl:w,isLoading:!1,cookiesCleared:!1,error:{active:!1,message:""},email:"",password:"",emailStatus:{valid:!0,message:""},passwordStatus:{valid:!0,message:""},emailFocus:!1,passwordFocus:!1,showPassword:!1}},methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions","setUser"]),validateForm(){return this.emailStatus=Wt(this.email),this.passwordStatus=At(this.password),this.passwordStatus.valid&&this.emailStatus.valid},login(){this.validateForm()&&(this.isLoading=!0,this.error={active:!1,message:""},ot.login({email:this.email,password:this.password}).then((t=>{if("AUTHENTICATION_SUCCESSFUL"==t.data.code){this.setUser(t.data.data.user),this.setIsLoggedIn(!0);const e=t.data.data.user.permissions;this.setPermissions(e),this.$router.push("/")}})).catch((t=>{this.$handleApiError(t),"INVALID_CREDENTIALS"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"NOT_ACTIVE_ERROR"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"VALIDATION_ERROR"==t.response?.data.code&&(this.emailStatus={valid:!1,message:t.response.data.error["email"][0]},this.passwordStatus={valid:!1,message:t.response.data.error["password"][0]})})).finally((()=>{this.isLoading=!1})),console.log("login..."))},resetError(t){"email"==t&&(this.emailStatus={valid:!0,message:""}),"password"==t&&(this.passwordStatus={valid:!0,message:""})}},mounted(){ot.clear().then((()=>{this.cookiesCleared=!0}))}};const Kt=(0,m.Z)(Zt,[["render",Lt]]);var Bt=Kt,Qt={name:"login",path:"/login",component:Bt,meta:{title:"Login"}},Jt=r(4454),Gt=r(3140);function Xt(t,e,r,a,l,o){const i=(0,s.up)("AppSidebar"),w=(0,s.up)("AppHeader"),n=(0,s.up)("Alert"),d=(0,s.up)("AlertNotification"),c=(0,s.up)("AppAnnonces"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoggedIn?((0,s.wg)(),(0,s.j4)(Jt.s,{key:0,"full-height":!0},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{active:l.drawer},null,8,["active"]),(0,s.Wm)(w,{onToggleSidebar:o.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Wm)(n),(0,s.Wm)(d),(0,s.Wm)(Gt.O,{class:"tw-bg-gray-50 tw-min-h-screen tw-overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(dt.K,{fluid:"",class:(0,wt.C_)(["scanner/code"==t.$route.name?"tw-p-0":"tw-p-2"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c),(0,s.Wm)(u)])),_:1},8,["class"])])),_:1}),l.showScrollUpButton?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.scrollToTop&&o.scrollToTop(...t)),class:"tw-fixed tw-shadow tw-text-sm tw-bottom-5 tw-right-3 tw-w-10 tw-h-10 tw-z-10 tw-rounded-full tw-bg-orange-400 tw-text-white"},[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-transfer-up")])),_:1})])):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])}var te=r(6439),ee=r(9156);const re={class:"tw-flex tw-items-center tw-gap-2"};function ae(t,e,r,l,o,i){const w=(0,s.up)("ToBePaid"),n=(0,s.up)("GlobalNotification"),d=(0,s.up)("HeaderMenu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(te.L,{color:"white",density:"default",elevation:"0",class:"tw-border-b-0 !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-0 !tw-fixed tw-overflow-visible",absolute:!1},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s._)("div",re,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(w,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(n),(0,s.Wm)(d)])])),default:(0,s.w5)((()=>[(0,s.Wm)(ee.g,{variant:"text",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.handleClick()),["stop"]))})])),_:2},[void 0]),1024)])}var se=r(652),le=r(4075),oe=r(8694),ie=r(8793);const we={class:"tw-relative"},ne=(0,s._)("div",{class:"tw-absolute tw-bottom-0 tw-border-2 tw-border-solid tw-border-white tw-right-0 tw-w-3 tw-h-3 tw-rounded-full tw-bg-green-500"},null,-1),de={key:0,class:"!tw-duration-100"},ce={class:"tw-absolute tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[200px] tw-min-h-[50px]"},ue={class:"pa-2 d-flex tw-items-center tw-gap-2 tw-border-b tw-border-b-neutral-100"},pe={class:"d-flex flex-column justify-center"},ge={class:"tw-text-sm tw-text-neutral-800 text-capitalize"},me={class:"tw-text-xs tw-rounded-lg tw-text-green-500 text-capitalize"},he=(0,s._)("span",{class:"text-capitalize tw-text-neutral-700 tw-text-xs"}," Profile ",-1),fe={class:"d-flex tw-items-center tw-gap-2"},be=(0,s._)("span",{class:"text-capitalize tw-text-red-700 tw-text-xs"}," Logout ",-1);function ve(t,e,r,a,l,o){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",we,[(0,s.Wm)(nt.T,{onClick:o.toggleMenu,icon:"","max-width":"35","max-height":"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(se.V,{size:"32"},{default:(0,s.w5)((()=>[(0,s.Wm)(oe.f,{src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),ne])),_:1},8,["onClick"]),(0,s.Wm)(Vt.Z5,null,{default:(0,s.w5)((()=>[l.isActive?((0,s.wg)(),(0,s.iD)("div",de,[(0,s._)("div",ce,[(0,s._)("div",ue,[(0,s.Wm)(se.V,{size:"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(oe.f,{eager:"",src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),(0,s._)("div",pe,[(0,s._)("div",ge,(0,wt.zw)(o.user.firstname)+" "+(0,wt.zw)(o.user.lastname),1),(0,s._)("div",me,(0,wt.zw)(o.user.role),1)])]),(0,s.Wm)(le.J),(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>o.closeMenu&&o.closeMenu(...t)),class:"d-flex tw-items-center tw-gap-2"},[(0,s.Wm)(nt.T,{block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{class:"mr-2 tw-text-neutral-700"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-account-outline ")])),_:1}),he])),_:1})]),(0,s.Wm)(le.J),(0,s._)("div",fe,[(0,s.Wm)(nt.T,{onClick:o.logout,block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{class:(0,wt.C_)([{"tw-animate-pulse":l.loginOut},"mr-2 tw-text-red-700"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.loginOut?"mdi-power-settings":"mdi-power"),1)])),_:1},8,["class"]),be])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,o.closeMenu]])}var xe={data(){return{localUrl:w,isActive:!1,loginOut:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},logout(){this.loginOut=!0,ot.logout().then((()=>{this.$store.dispatch("user/logout"),this.$router.push("/login")})).finally((()=>{this.loginOut=!1}))}},computed:{user(){return this.$store.getters["user/user"]}}};const ye=(0,m.Z)(xe,[["render",ve]]);var _e=ye,ke=r(4870);class Ce{async AllNotifications(t={}){return await E.getCookie(),A.get("api/app/all",{params:t})}async notifications(){return await E.getCookie(),A.get("api/app/notifications")}async Changestatus(){return await E.getCookie(),A.get("api/app/changestatus")}}var De=new Ce,Se=r(6797),ze=r.n(Se),Ue=r(6562);const qe={class:"tw-relative"},Pe={key:0,class:"!tw-duration-100"},Le={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[350px] tw-min-h-[50px]"},We=(0,s._)("p",{class:"tw-p-2 tw-text-lg"},"Notifications",-1),Ae={key:0},$e={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Ee={key:1},Te={key:0},Fe=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),je=[Fe],Ie={class:"tw-text-sm"},Ve={class:"tw-ml-auto tw-mt-2 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},Oe={class:"tw-flex tw-justify-evenly tw-items-center tw-p-2"};var He={__name:"GlobalNotification",setup(t){const e=(0,i.oR)(),r=(0,ke.iH)(!1),a=(0,ke.iH)(!1),l=()=>{r.value=!r.value},o=()=>{r.value=!1},n=t=>{switch(t.priority){case"low":return"tw-bg-blue-50";case"medium":return"tw-bg-orange-100";case"high":return"tw-bg-red-100";default:return"tw-bg-gray-50"}},d=()=>{De.notifications().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setData",t.data.data),e.dispatch("app/setCount",t.data.count),e.dispatch("app/sethighlighted",t.data.highlighted))})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))},c=()=>{De.Changestatus().then((t=>{"SUCCESS"==t.data.code&&e.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))};(0,s.bv)((()=>{d()}));const u=(0,s.Fl)((()=>e.getters["app/notifications"]));return(t,e)=>{const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",qe,[(0,s.Wm)(nt.T,{onClick:l,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(oe.f,{width:"22",height:"22",src:(0,ke.SU)(w)+"assets/img/icons/notification-bing.svg"},null,8,["src"]),a.value&&u.value.count>0?((0,s.wg)(),(0,s.j4)(Ue.G,{key:0,class:"tw-animate-bounce tw-scale-50",floating:"","offset-y":"20","offset-x":"5",color:"red",bordered:!0,location:"bottom right",content:u.value.count},null,8,["content"])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Vt.Z5,null,{default:(0,s.w5)((()=>[r.value?((0,s.wg)(),(0,s.iD)("div",Pe,[(0,s._)("div",Le,[We,a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ae,[(0,s._)("div",$e,[(0,s.Wm)(ct.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),a.value?((0,s.wg)(),(0,s.iD)("div",Ee,[""==u.value.data?((0,s.wg)(),(0,s.iD)("div",Te,je)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value.data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",{class:(0,wt.C_)([n(t),"tw-p-2 tw-border-y tw-flex tw-flex-col tw-border-neutral-100"])},[(0,s.Wm)(i,{to:`/sourcings/${t.action}`},{default:(0,s.w5)((()=>[(0,s._)("p",Ie,(0,wt.zw)(t.message),1)])),_:2},1032,["to"]),(0,s._)("div",Ve,(0,wt.zw)((0,ke.SU)(ze())(t.created_at).fromNow()),1)],2)])))),128)),(0,s._)("div",Oe,[(0,s.Wm)(i,{to:"/notifications"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:e[0]||(e[0]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("View All")])),_:1})])),_:1}),(0,s.Wm)(nt.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:c},{default:(0,s.w5)((()=>[(0,s.Uk)("Mark all as Read")])),_:1})])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,o]])}}};const Me=He;var Re=Me;class Ne{async update(t,e){return await E.getCookie(),A.post("api/factorisations/update/"+t,{factorisation_id:e.factorisation_id,delivery_id:e.delivery_id,price:e.price,commands_number:e.commands_number})}async updateComment(t,e){return await E.getCookie(),A.post("api/factorisations/update/comment/"+t,{comment:e.comment})}async updateMethod(t,e){return await E.getCookie(),A.post("api/v1/factorisation/update/"+t+"/method",{withdrawal_method_id:e})}async updatePaid(t,e){return await E.getCookie(),A.post("api/factorisations/update/payment/"+t,{paid:e})}async updateClose(t,e){return await E.getCookie(),A.post("api/factorisations/update/closing/"+t,{close:e})}async updateFees(t,e){return await E.getCookie(),A.post("api/factorisations/update/fees/"+t,{fees:e})}async uploadImage(t,e){return await E.getCookie(),W.post("api/factorisations/update/"+t+"/attachement",e)}async sumToBePaid(){return await E.getCookie(),A.get("api/v1/factorisation/sum")}async delete(t){return await E.getCookie(),A["delete"]("api/v1/factorisation/delete/"+t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/factorisation"+t,e)}async history(t){return await E.getCookie(),A.get("api/v1/factorisation/"+t+"/history")}}var Ye=new Ne;const Ze={key:0,class:"tw-text-emerald-600 tw-text-sm tw-font-semibold tw-rounded"},Ke={key:1};var Be={__name:"ToBePaid",setup(t){const e=(0,i.oR)(),r=(0,ke.iH)(!1),a=()=>{Ye.sumToBePaid().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("app/settobepaid",t.data.data.totalPrice),console.log(parseFloat(t.data.data.totalPrice).toFixed(2)))})).catch((t=>{console.error("API Error",t)})).finally((()=>{r.value=!0}))};(0,s.bv)((()=>{a()}));const l=(0,s.Fl)((()=>e.getters["app/factorisations"]));return(t,e)=>r.value?((0,s.wg)(),(0,s.iD)("div",Ze,(0,wt.zw)((0,ke.SU)(c))+(0,wt.zw)(parseFloat(l.value.tobepaid).toFixed(2)),1)):((0,s.wg)(),(0,s.iD)("div",Ke,[(0,s.Wm)(ct.t,{size:"medium",class:"tw-animate-spin",color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}};const Qe=Be;var Je=Qe,Ge={emits:["toggleSidebar"],components:{HeaderMenu:_e,GlobalNotification:Re,ToBePaid:Je},data(){return{localUrl:w}},computed:{},methods:{handleClick(){this.$emit("toggleSidebar")}}};const Xe=(0,m.Z)(Ge,[["render",ae]]);var tr=Xe,er=r(9457),rr=r(2329),ar=r(9657);const sr={class:"tw-h-[60px] tw-flex tw-items-center tw-justify-center tw-max-w-[200px]"},lr=["src"];function or(t,e,r,a,l,o){const i=(0,s.up)("SidebarItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(ar.V,{modelValue:l.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>l.drawer=t),location:"left",absolute:!1,class:"!tw-top-0 !tw-fixed"},{default:(0,s.w5)((()=>[(0,s.Wm)(er.l,{class:"tw-py-3"},{default:(0,s.w5)((()=>[(0,s._)("div",sr,[(0,s._)("img",{class:"tw-w-full",src:l.localUrl+"images/logo.png"},null,8,lr)])])),_:1}),(0,s.Wm)(rr.i,{class:"mt-2",nav:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.links,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,link:t},null,8,["link"])))),128))])),_:1})])),_:1},8,["modelValue"])])}const ir=[4,6,7],wr=[{id:1,title:"Dashboard",module:"dashboard",hasChildren:!0,gate:"all",icon:{type:"icon",value:"mdi-chart-box-outline"},children:[{id:1,title:"Overview",subModule:"dashboard/dashboard",gate:"all",to:"/"},{id:2,title:"Finance",subModule:"dashboard/analytics",role:["admin"],to:"/analytics"}]},{id:1,title:"Analytics",module:"analytics",hasChildren:!0,role:["admin"],icon:{type:"icon",value:"mdi-chart-arc"},children:[{id:1,title:"Sellers",subModule:"analytics.admin.sellers",gate:"all",to:"/admin/analytics/sellers"}]},{id:2,module:"sourcing",title:"Sourcing",hasChildren:!0,role:["admin","seller"],icon:{type:"icon",value:"mdi-truck-outline"},children:[{id:1,title:"Request a new product",subModule:"sourcing/new",role:["seller"],to:"/sourcings/new"},{id:2,title:"All Requests",subModule:"sourcing/index",role:["seller","admin"],to:"/sourcings"}]},{id:2,module:"product",title:"Product",hasChildren:!0,gate:"access_to_products",icon:{type:"svg",value:"assets/img/icons/product.svg"},children:[{id:1,title:"Products List",subModule:"product/list",gate:"show_all_products",to:"/products"},{id:2,title:"New Products List",subModule:"product/newlist",gate:"show_all_products",to:"/newproducts"},{id:3,title:"Add Product",subModule:"product/add",gate:"create_product",to:"/products/add"},{id:4,title:"Supply Requests",subModule:"product/seller/request",gate:"access_to_seller_sales",to:"/products/seller/request"},{id:5,title:"Supply Requests",subModule:"product/admin/request",gate:"access_to_sales",to:"/products/admin/request"}]},{id:3,module:"track",title:"Tracking",hasChildren:!0,gate:"none",icon:{type:"icon",value:"mdi-radar"},children:[{id:1,title:"Deliveries",subModule:"track/delivery",gate:"none",to:"/tracking/delivery"}]},{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Sales list",subModule:"sale/list",gate:"show_all_sales",to:"/sales"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]},{id:10,module:"sellersale",title:"Seller Sales",hasChildren:!0,gate:"access_to_seller_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Seller Sales",subModule:"seller/list",gate:"show_seller_sales",to:"/seller/list"}]},{id:5,module:"factorisation",title:"Factorisation",hasChildren:!0,gate:"access_to_factorisations",icon:{type:"icon",value:"mdi-note-multiple"},children:[{id:1,title:"Factorisation list",subModule:"factorisation/list",gate:"show_all_factorisations",to:"/factorisations"}]},{id:20,module:"ads",title:"Ads",hasChildren:!0,gate:"access_to_ads",icon:{type:"icon",value:"mdi-google-ads"},children:[{id:1,title:"Ads list",subModule:"ads/list",gate:"show_all_factorisations",to:"/ads"}]},{id:10,module:"affiliate",title:"Affiliate",hasChildren:!0,gate:"manage_affiliate_products",role:["admin","seller","affiliate-manager"],icon:{type:"icon",value:"mdi-bookshelf"},children:[{id:1,title:"All Products",subModule:"affiliate.admin.list",to:{name:"affiliate.admin.list"}},{id:2,title:"Create new product",subModule:"affiliate.admin.create",role:["admin","affiliate-manager"],gate:"manage_affiliate_products",to:{name:"affiliate.admin.create"}},{id:3,title:"Winning Products",subModule:"affiliate.index",role:["admin","seller","affiliate-manager"],gate:"access_to_affiliate",to:{name:"affiliate.index"}},{id:4,title:"Import list",subModule:"affiliate.import",role:["admin","seller"],gate:"access_to_affiliate",to:{name:"affiliate.import"}},{id:5,title:"My wishlist",subModule:"affiliate.wishlist",role:["admin","seller"],gate:"access_to_affiliate",to:{name:"affiliate.wishlist"}}]},{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Order",subModule:"order/show",gate:"show_all_orders",to:"/order"},{id:2,title:"My Orders",subModule:"order/list",gate:"show_all_orders",to:"/orders"},{id:3,title:"Confirmed Orders",subModule:"order/confirmed",gate:"show_all_orders",to:"/orders/confirmed"}]},{id:7,module:"delivery",title:"Orders",hasChildren:!0,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders List",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries"},{id:2,title:"Orders Delivered",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered"}]},{id:8,module:"inventory",title:"Inventory",hasChildren:!0,gate:"access_to_inventory x",icon:{type:"icon",value:"mdi-warehouse"},children:[{id:1,title:"Inventory State",gate:"show_all_inventory_states",subModule:"inventory/state",to:"/inventories"},{id:2,title:"Inventory Movements",gate:"show_all_inventory_movements",subModule:"inventory/movements",to:"/inventories/movements"},{id:4,title:"Add Movement",gate:"create_inventory_movement",subModule:"inventory/add",to:"/inventories/add"}]},{id:9,module:"shop",title:"Shop",hasChildren:!0,gate:"access_to_shop",icon:{type:"icon",value:"mdi-store"},children:[{id:1,title:"Shop List",gate:"show_all_shops",subModule:"shop/list",to:"/shops"},{id:2,title:"Add Shop",gate:"create_shop",subModule:"shop/add",to:"/shops/add"}]},{id:10,module:"warehouse",title:"Warehouses",hasChildren:!0,gate:"access_to_warehouse",icon:{type:"icon",value:"mdi-home-group"},children:[{id:1,title:"Warehouses list",subModule:"warehouse/list",gate:"show_all_warehouses",to:"/warehouses"}]},{id:11,title:"Users",module:"user",gate:"access_to_users",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/users1.svg"},children:[{id:1,title:"Users List",subModule:"user/list",gate:"show_all_users",to:"/users"},{id:2,title:"Add User",subModule:"user/add",gate:"create_user",to:"/users/add"},{id:3,title:"Roles List",subModule:"user/roles",gate:"show_all_roles",to:"/users/roles"},{id:4,title:"Add Role",subModule:"user/addRole",gate:"create_role",to:"/users/addRole"}]},{id:15,title:"Sheets",module:"sheets",to:"/sheets",gate:"access_to_sheets",hasChildren:!1,icon:{type:"icon",value:"mdi-note-text-outline"}},{id:15,title:"Alerts",module:"alert",role:["admin"],to:"/alerts",icon:{type:"icon",value:"mdi-bell-alert-outline"}},{id:16,title:"Scanner",module:"scanner",to:"/scanner",role:"admin",gate:"stock_management",hasChildren:!1,icon:{type:"icon",value:"mdi-qrcode"}},{id:12,title:"Settings",module:"settings",role:["admin","seller"],hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/settings.svg"},children:[{id:1,title:"Cron Jobs",subModule:"settings/cronJobs",role:"admin",to:"/settings/cronJobs"},{id:2,title:"Account",subModule:"settings/account",role:"admin",to:"/settings/account"},{id:3,title:"Withdrawal methods",subModule:"settings/account",role:["admin","seller"],to:{name:"settings.seller.withdrawal-methods"}}]},{id:13,title:"Orders",module:"followup",to:"/followup",hasChildren:!1,gate:"follow_up_orders",icon:{type:"icon",value:"mdi-package-variant-closed"}}];var nr=r(9234),dr=r(2127);const cr={key:0},ur={class:"d-flex align-center"},pr={class:"tw-rounded-md tw-bg-gray-50"},gr={class:"tw-h-full py-2"},mr={key:1},hr={key:2},fr={key:3};function br(t,e,r,a,l,o){const i=(0,s.up)("SidebarSales"),w=(0,s.up)("SidebarDelivery"),n=(0,s.up)("SidebarAgente");return(0,s.wg)(),(0,s.iD)("div",null,[!t.$can(r.link.gate)&&!r.link.role?.includes(o.user.role)&&"all"!=r.link.gate||l.disabled_links.includes(r.link.id)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cr,[(0,s.Wm)(er.l,{class:(0,wt.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.link.hasChildren?"":r.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",ur,["icon"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,icon:r.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(oe.f,{key:1,src:l.localUrl+r.link.icon.value,"max-width":"18",class:(0,wt.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(dr.V,{class:(0,wt.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,wt.zw)(r.link.title)},null,8,["class","textContent"]),(0,s.Wm)(nr.C),r.link.hasChildren?((0,s.wg)(),(0,s.j4)(ct.t,{key:2,class:(0,wt.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),r.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",pr,[(0,s.Wm)(rr.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(er.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",gr,[(0,s.Wm)(ct.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,wt.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,wt.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])),4==r.link.id?((0,s.wg)(),(0,s.iD)("div",mr,[(0,s.Wm)(i)])):(0,s.kq)("",!0),7==r.link.id?((0,s.wg)(),(0,s.iD)("div",hr,[(0,s.Wm)(w)])):(0,s.kq)("",!0),8==r.link.id?((0,s.wg)(),(0,s.iD)("div",fr,[(0,s.Wm)(n)])):(0,s.kq)("",!0)])}const vr={key:0},xr={class:"d-flex align-center"},yr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},_r={key:1,class:"tw-text-xs"},kr={class:"tw-rounded-md tw-bg-gray-50"},Cr={class:"tw-h-full py-2"};function Dr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",vr,[(0,s.Wm)(er.l,{class:(0,wt.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:l.link.hasChildren?"":l.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",xr,["icon"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,icon:l.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(oe.f,{key:1,src:l.localUrl+l.link.icon.value,"max-width":"18",class:(0,wt.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(dr.V,{class:(0,wt.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,wt.zw)(l.link.title)},null,8,["class","textContent"]),(0,s._)("div",yr,[(l.isLoaded,(0,s.kq)("",!0)),(l.isLoaded,(0,s.wg)(),(0,s.iD)("p",_r,(0,wt.zw)(o.count),1))]),(0,s.Wm)(nr.C),l.link.hasChildren?((0,s.wg)(),(0,s.j4)(ct.t,{key:2,class:(0,wt.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),l.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",kr,[(0,s.Wm)(rr.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(er.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",Cr,[(0,s.Wm)(ct.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,wt.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,wt.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var Sr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:4,title:"New Sales list",subModule:"sale/newlist",gate:"show_all_sales",to:"/sales/new"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},sales(){return this.$store.getters["sale/sales"]},count(){return this.$store.getters["sale/count"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const zr=(0,m.Z)(Sr,[["render",Dr],["__scopeId","data-v-419eeb7c"]]);var Ur=zr;const qr={key:0},Pr={class:"d-flex align-center"},Lr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Wr={key:1,class:"tw-text-xs"};function Ar(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",qr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(er.l,{class:(0,wt.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Pr,[(0,s.Wm)(ct.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(dr.V,{class:(0,wt.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,wt.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(nr.C),(0,s._)("div",Lr,[o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.fetched?((0,s.wg)(),(0,s.iD)("p",Wr,(0,wt.zw)(1==r.id?o.orders.length-o.deliveredOrders.length:o.deliveredOrders.length),1)):(0,s.kq)("",!0)])])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}class $r{async delivery(){return await E.getCookie(),A.get("api/dashboard/delivery")}async agente(){return await E.getCookie(),A.get("api/dashboard/agente")}}var Er=new $r,Tr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:7,module:"delivery",title:"Orders",hasChildren:!1,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries",icon:"mdi-truck"},{id:2,title:"Delivered Orders",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered",icon:"mdi-truck-check"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path},getOrders(){return this.isLoaded=!1,Er.delivery().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("order/setAllOrders",e),this.$store.dispatch("order/setFetched",!0),this.isLoaded=!0}console.log(t)})).catch(this.$handleApiError)}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},orders(){return this.$store.getters["order/allOrders"].filter((t=>"confirmer"==t.confirmation))},deliveredOrders(){return this.orders.filter((t=>"livrer"==t.delivery))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive(),this.$can(this.link.gate)&&this.getOrders()}};const Fr=(0,m.Z)(Tr,[["render",Ar],["__scopeId","data-v-69fa82e9"]]);var jr=Fr;const Ir={key:0},Vr={class:"d-flex align-center"},Or={key:0,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Hr={key:1,class:"tw-text-xs"},Mr={key:1,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Rr={key:1,class:"tw-text-xs"};function Nr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",Ir,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(er.l,{class:(0,wt.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Vr,[(0,s.Wm)(ct.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(dr.V,{class:(0,wt.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,wt.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(nr.C),1!=r.id?((0,s.wg)(),(0,s.iD)("div",Or,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Hr,(0,wt.zw)(4==r.id?o.state.totalNotConfirmed:o.state.totalConfirmed),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),1==r.id?((0,s.wg)(),(0,s.iD)("div",Mr,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Rr,(0,wt.zw)(o.state.totalAvailable),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}var Yr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Add Order",subModule:"agent/orders/add",gate:"show_all_orders",to:"/agent/orders/add",icon:"mdi-plus-box"},{id:4,title:"Orders",subModule:"agent/orders",gate:"show_all_orders",to:"/agent/orders",icon:"mdi-package-variant-closed"},{id:5,title:"Confirmed Orders",subModule:"agent/orders/confirmed",gate:"show_all_orders",to:"/agent/orders/confirmed",icon:"mdi-checkbox-marked"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},state(){return this.$store.getters["agent/state"]},orders(){return this.$store.getters["order/allOrders"]},myOrders(){return this.orders.filter((t=>"confirmer"!=t.confirmation))},confirmedOrders(){return this.orders.filter((t=>"confirmer"==t.confirmation))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Zr=(0,m.Z)(Yr,[["render",Nr],["__scopeId","data-v-26146d6f"]]);var Kr=Zr,Br={props:["link"],components:{SidebarSales:Ur,SidebarDelivery:jr,SidebarAgente:Kr},data(){return{localUrl:w,disabled_links:ir,isActive:!1}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to||this.$route.name==t.to?.name},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate||t.role?.includes(this.user.role)))},user(){return this.$store.getters["user/user"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Qr=(0,m.Z)(Br,[["render",br],["__scopeId","data-v-5df4c53a"]]);var Jr=Qr,Gr={components:{SidebarItem:Jr},props:["active"],data(){return{localUrl:w,drawer:!0,links:wr}},computed:{},watch:{active(){this.drawer=!this.drawer}},methods:{},mounted(){this.$vuetify.display.mdAndDown&&(this.drawer=!1)}};const Xr=(0,m.Z)(Gr,[["render",or]]);var ta=Xr;const ea={key:0,class:"tw-space-y-2 tw-mb-5 tw-opacity-100"},ra=["dir"],aa={class:"tw-flex tw-items-start"},sa={class:"tw-p-2"},la={class:"tw-p-2"},oa={class:"tw-text-white tw-font-semibold"},ia={key:0,class:"tw-flex-1"},wa={key:1,class:"tw-pt-2 tw-pr-2"},na=["onClick"];var da={__name:"AppAnnonces",setup(t){const e=(0,s.Fl)((()=>st.getters["app/alerts"])),r=(0,s.Fl)((()=>st.getters["user/user"])),l=(0,ke.iH)([]),o=(0,s.Fl)((()=>e.value.data.filter((t=>!l.value.includes(r.value.id+"*"+t.id))))),i=t=>{l.value.push(r.value.id+"*"+t),localStorage.setItem("closed_alerts",JSON.stringify(l.value))},w=()=>{const t=localStorage.getItem("closed_alerts");null==t?localStorage.setItem("closed_alerts",JSON.stringify([])):l.value=JSON.parse(t)};return w(),(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(a.uT,{class:"tw-duration-500","enter-from-class":"!tw-opacity-0","leave-to-class":"!tw-opacity-0"},{default:(0,s.w5)((()=>[e.value.fetched&&o.value.length?((0,s.wg)(),(0,s.iD)("div",ea,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,dir:t.direction,class:(0,wt.C_)([["danger"==t.variant&&"tw-bg-rose-500","info"==t.variant&&"tw-bg-cyan-500","warning"==t.variant&&"tw-bg-amber-500","success"==t.variant&&"tw-bg-emerald-500"],"tw-h-fit tw-w-full tw-border tw-border-solid"])},[(0,s._)("div",aa,[(0,s._)("div",sa,[(0,s.Wm)(l,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl tw-text-white"})]),(0,s._)("div",la,[(0,s._)("p",oa,(0,wt.zw)(t.content),1)]),t.closeable?((0,s.wg)(),(0,s.iD)("div",ia)):(0,s.kq)("",!0),t.closeable?((0,s.wg)(),(0,s.iD)("div",wa,[(0,s._)("button",{onClick:e=>i(t.id),class:"tw-p-1 hover:tw-bg-white/10 tw-duration-200 tw-rounded-full"},[(0,s.Wm)(l,{icon:"iconamoon:close-duotone",class:"tw-text-white tw-text-lg"})],8,na)])):(0,s.kq)("",!0)])],10,ra)))),128))])):(0,s.kq)("",!0)])),_:1})}}};const ca=da;var ua=ca;class pa{async paginate(t="",e){return await E.getCookie(),A.get("api/alerts"+t,{params:e})}async alerts(){return await E.getCookie(),A.get("api/my-alerts")}async create(t){return await E.getCookie(),A.post("api/alerts",t)}async update(t,e){return await E.getCookie(),A.post("api/alerts/"+t,e)}async get(t){return await E.getCookie(),A.get("api/alerts/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/alerts/"+t)}}var ga=new pa;class ma{async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/products"+t,e)}async create(t){await E.getCookie();const e=new FormData;return e.append("name",t.name),e.append("buying_price",t.buyingPrice),e.append("selling_price",t.sellingPrice),e.append("ref",t.reference),e.append("link_video",t.link_video),e.append("link_store",t.link_store),e.append("transport_mode",t.transport_mode),e.append("expedition_date",t.expedition_date),e.append("country_of_purchase",t.country_of_purchase),e.append("variations",JSON.stringify(t.variants)),e.append("offers",JSON.stringify(t.offers)),e.append("description",t.description),e.append("image",t.image),e.append("deliveries",JSON.stringify(t.selectedDeliveries)),W.post("api/products/new",e)}async update(t,e){await E.getCookie();const r=new FormData;return r.append("name",e.name),r.append("buying_price",e.buyingPrice),r.append("selling_price",e.sellingPrice),r.append("ref",e.reference),r.append("link_video",e.link_video),r.append("link_store",e.link_store),r.append("transport_mode",e.transport_mode),r.append("expedition_date",e.expedition_date),r.append("country_of_purchase",e.country_of_purchase),r.append("variations",JSON.stringify(e.variants)),r.append("offers",JSON.stringify(e.offers)),r.append("description",e.description),r.append("image",e.image),r.append("deliveries",JSON.stringify(e.selectedDeliveries)),W.post("api/products/update/"+t,r)}async updateStatus(t,e){await E.getCookie();const r=new FormData;return r.append("status",e.status),r.append("note",e.note),W.post("api/products/status/update/"+t,r)}async all(){return await E.getCookie(),A.get("api/products")}async allForOrder(t){return await E.getCookie(),A.get("api/products/for-order/"+t)}async getProduct(t){return await E.getCookie(),A.get("api/products/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/products/delete/"+t)}async stockAlert(){return await E.getCookie(),A.get("api/product/stockAlert")}}var ha=new ma;class fa{async all(){return await E.getCookie(),A.get("api/sales")}async delete(t){return await E.getCookie(),A.get("api/sales/delete/"+t)}async update(t,e){return await E.getCookie(),A.post("api/orders/update/"+t,e)}async create(t){return await E.getCookie(),A.post("api/sales/new",t)}async getNewOrders(t){return await E.getCookie(),A.post("api/sales/fresh",{ids:t})}async agenteOrders(){return await E.getCookie(),A.get("api/orders")}async agenteConfirmedOrders(){return await E.getCookie(),A.get("api/orders/confirmer")}async agenteAddOrder(){return await E.getCookie(),A.get("api/orders/add")}async agenteGetOrder(){return await E.getCookie(),A.get("api/orders/toconfirmate")}async agenteUpdateConfirmation(t,e,r={}){return await E.getCookie(),A.post("api/orders/update/confirmation/"+t,{confirmation:e,...r})}async agenteUpdateConfirmationWithNote(t,e,r){return await E.getCookie(),A.post("api/orders/update/confirmationandnote/"+t,{confirmation:e,note:r})}async agenteUpdateUpsell(t,e){return await E.getCookie(),A.post("api/orders/update/upsell/"+t,{upsell:e})}async agenteUpdateAffectaion(t,e){return await E.getCookie(),A.post("api/orders/update/affectation/"+t,{affectation:e})}async agenteUpdateNote(t,e){return await E.getCookie(),A.post("api/orders/update/note/"+t,{note:e})}async deliveryOrders(){return await E.getCookie(),A.get("api/orders/todelivery")}async deliveryDeliveredOrders(){return await E.getCookie(),A.get("api/orders/delivred")}async deliveryUpdateDelivery(t,e,r){return await E.getCookie(),A.post("api/orders/update/delivery/"+t,{delivery:e,...r})}async history(t){return await E.getCookie(),A.get("api/orders/history/show/"+t)}async itemHistory(t){return await E.getCookie(),A.get("api/orders/item/history/show/"+t)}async resetSale(t){return await E.getCookie(),A.post("api/sales/reset",{ids:t})}async scanSale(t){return await E.getCookie(),A.post("api/sales/scan",t)}async availableOrders(){return await E.getCookie(),A.get("api/orders/count")}async warehouseControl(t,e){return await E.getCookie(),A.post("api/warehouse-control",{id:t,target:e.target,scanned:e.scanned})}}var ba=new fa;const va={key:0,class:"tw-w-[400px] tw-fixed tw-top-[70px] !tw-z-[510000] tw-right-[5px]"},xa={class:"tw-flex tw-items-center tw-justify-between tw-text-neutral-400 tw-mt-2"},ya={class:"tw-text-xs"},_a=["disabled"],ka=(0,s._)("div",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap tw-ml-[70%]"},null,-1);var Ca={__name:"AlertNotification",setup(t){const e=(0,ke.iH)(!0),r=(0,i.oR)(),a=(0,ke.iH)(!1),l=async()=>{a.value=!0,await De.Changestatus().then((t=>{"SUCCESS"==t.data.code&&r.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})),e.value=!1,a.value=!1},o=(0,s.Fl)((()=>r.getters["app/notifications"].highlighted));return(t,r)=>((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[o.value&&e.value?((0,s.wg)(),(0,s.iD)("div",va,[(0,s.Wm)(It.w,{color:"white",border:"start","border-color":"success",elevation:"2",density:"compact"},{text:(0,s.w5)((()=>[(0,s._)("p",null,(0,wt.zw)(o.value.message),1),(0,s._)("div",xa,[(0,s._)("span",ya,(0,wt.zw)((0,ke.SU)(ze())(o.value.created_at).fromNow()),1),(0,s._)("button",{disabled:a.value,onClick:l,class:"tw-p-0.5 tw-px-4 hover:tw-bg-neutral-100 tw-text-sm"},(0,wt.zw)(a.value?"Closing...":"Close"),9,_a)])])),default:(0,s.w5)((()=>[ka])),_:1})])):(0,s.kq)("",!0)]))}};const Da=Ca;var Sa=Da,za=r(4410),Ua=r.n(za),qa=r(6027),Pa={components:{AppHeader:tr,AppSidebar:ta,Alert:Yt,AlertNotification:Sa,AppAnnonces:ua},data(){return{drawer:!1,subscribed:!1,fetching:null,delay:6e4,showScrollUpButton:!1,firstFetch:!1,echo:null,presenceChannelId:1}},computed:{isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},sales(){return this.$store.getters["sale/sales"]},salesFetched(){return this.$store.getters["sale/fetched"]}},methods:{toggleSidebar(){this.drawer=!this.drawer},checkScroll(){this.showScrollUpButton=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},async getCities(){if(0==this.cities.length||1!=localStorage.getItem("update_cities"))return ot.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e),localStorage.setItem("update_cities",1)}))},getUsers(){ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getSales(){return this.isLoaded=!1,ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)},async fetchNewOrders(){if(this.salesFetched||!this.firstFetch){const t=this.sales.map((t=>t.id));return ba.getNewOrders(t).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders,r=t.data.data.count;this.$store.dispatch("sale/setCount",r),e.length>0&&(this.$store.dispatch("sale/addSales",e),this.$alert({type:"info",title:e.length+" New orders has been added"})),this.firstFetch=!0}}))}},async getAlerts(){return ga.alerts().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.alerts;this.$store.dispatch("app/setAlertsData",e),this.$store.dispatch("app/setAlertsFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)},async subscribe(){Ua().Runtime.createXHR=function(){var t=new XMLHttpRequest;return t.withCredentials=!0,t},window.Pusher=Ua();const t=new qa.ZP({broadcaster:"pusher",key:"96c60637f1b07ace1345",cluster:"eu",channelAuthorization:{endpoint:n+"api/pusher",withCredentials:!0}});this.echo=t;const e=this.presenceChannelId;t.join(`channel.${e}`).here((t=>{this.$store.dispatch("online/setUsers",t),this.$store.dispatch("online/setFetched",!0)})).joining((t=>{const e=this.$store.getters["online/users"],r=e.find((e=>e.id===t.id));r?delete r.left_at:e.push(t),this.$store.dispatch("online/setUsers",e)})).leaving((t=>{let e=this.$store.getters["online/users"];e=e.map((e=>e.id===t.id?{...e,left_at:(new Date).toISOString()}:e)),this.$store.dispatch("online/setUsers",e)}))},unsubscribe(){this.echo.leaveChannel(`channel.${this.presenceChannelId}`)}},watch:{$route(){"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts")}},mounted(){this.getCities(),this.getAlerts(),"admin"==this.user.role&&this.fetchNewOrders(),this.$can("show_all_products")&&this.getProducts(),"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts"),this.getUsers(),this.subscribe(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll),this.unsubscribe()}};const La=(0,m.Z)(Pa,[["render",Xt]]);var Wa=La;const Aa={key:0};function $a(t,e,r,a,l,o){return l.exists?((0,s.wg)(),(0,s.iD)("div",Aa,[((0,s.wg)(),(0,s.j4)((0,s.LL)(o.dashboard)))])):(0,s.kq)("",!0)}var Ea=r(6824),Ta=r(8521);const Fa={key:0},ja={key:1},Ia=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Va={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Oa={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Ha={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},Ma=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),Ra=["disabled"],Na={key:0,class:"tw-flex tw-items-center tw-gap-2"},Ya={key:1},Za=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Ka={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Ba(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable"),n=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fa,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ja,[Ia,(0,s._)("div",Va,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1})]),(0,s._)("div",Oa,[(0,s._)("div",Ha,[Ma,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Na,[(0,s.Wm)(ct.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Ya,[Za,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,Ra)])]),(0,s._)("div",Ka,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Qa=r(4286);const Ja={class:"tw-flex tw-items-center"},Ga={class:"tw-flex tw-flex-col tw-h-full tw-text-neutral-600"},Xa={class:"tw-text-lg tw-font-bold"},ts={class:"tw-text-sm"};function es(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(Qa.C,{class:"tw-rounded-lg tw-border pa-5 py-2",color:"white",height:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",Ja,[(0,s._)("div",{class:(0,wt.C_)([o.bgColor,"pa-3 rounded-circle tw-w-fit tw-mr-3"])},[(0,s.Wm)(ct.t,{color:r.dash.color,size:"large",icon:r.dash.icon},null,8,["color","icon"])],2),(0,s._)("div",Ga,[(0,s._)("p",Xa,(0,wt.zw)(r.dash.value),1),(0,s.Wm)(nr.C),(0,s._)("p",ts,(0,wt.zw)(r.dash.title),1)])])])),_:1})}var rs={props:["dash"],computed:{bgColor(){const t={orange:"tw-bg-orange-500/10",green:"tw-bg-green-500/10",blue:"tw-bg-blue-500/10",pink:"tw-bg-pink-500/10",red:"tw-bg-red-500/10",yellow:"tw-bg-yellow-500/10"};return t[this.dash.color]}}};const as=(0,m.Z)(rs,[["render",es]]);var ss=as;const ls={key:0,class:""},os={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},is=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),ws=[is],ns={key:1,class:"tw-min-h-[50px]"},ds={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},cs={class:"py-2 px-3 tw-rounded tw-border tw-grid tw-grid-cols-12"},us={class:"tw-col-span-12 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},ps={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs"},gs={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},ms=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-red-400"},null,-1),hs={key:1},fs={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},bs=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),vs={key:1,class:"tw-flex tw-items-center tw-gap-2"},xs=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-yellow-400"},null,-1);function ys(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ls,[(0,s._)("div",os,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},ws))),64))])])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",ns,[(0,s._)("div",ds,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",cs,[(0,s._)("div",us,(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),1),(0,s._)("div",ps,[t.last_action?((0,s.wg)(),(0,s.iD)("div",hs,[1==o.isOnline(o.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",fs,[bs,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",vs,[xs,(0,s.Uk)(" "+(0,wt.zw)(o.lastSeen(t.last_action)),1)]))])):((0,s.wg)(),(0,s.iD)("div",gs,[ms,(0,s.Uk)(" Never Connected ")]))])])])))),128))]),(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var _s=r(8777),ks={components:{},data(){return{isLoaded:!1}},computed:{users(){return this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name))}},methods:{getUsers(){ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),console.log(t),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,_s.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const Cs=(0,m.Z)(ks,[["render",ys]]);var Ds=Cs,Ss=r(1489),zs=r(3144),Us=r(9870),qs=r(6161),Ps=r(4722);function Ls(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(Ss._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(zs.d,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>l.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Us.L,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(qs.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Ps.H,{key:t.id,value:t.id,transition:"fade-transition","reverse-transition":"fade-transition"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component),{"filtered-sales":r.filteredSales},null,8,["filtered-sales"]))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const Ws={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},As={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},$s={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Es={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ts={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Fs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},js={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Is={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Vs(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ws,[(0,s._)("div",As,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",$s,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Es,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Ts,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Fs,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",js,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Is,[(0,s.Wm)(i,{dash:o.transferSales},null,8,["dash"])])])])}const Os={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},Hs={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},Ms={class:"tw-text-xl tw-font-bold"},Rs={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},Ns={class:"tw-text-sm"},Ys={class:"rounded-circle tw-w-fit tw-mr-3"};function Zs(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Qa.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",Os,[(0,s._)("div",Hs,[(0,s._)("p",Ms,(0,wt.zw)(isNaN(r.dash.pourcentage)?"0.00%":r.dash.pourcentage)+" "+(0,wt.zw)(r.symbol),1),(0,s._)("span",Rs,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",Ns,(0,wt.zw)(r.dash.title),1)])]),(0,s._)("div",Ys,[(0,s.Wm)(ct.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var Ks={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Bs=(0,m.Z)(Ks,[["render",Zs]]);var Qs=Bs,Js={components:{DashItemTwo:Qs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.sales.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"livrer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.delivery))).length,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"expidier"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-orange",icon:"mdi-truck"}},transferSales(){return{id:8,title:"Transferred",value:this.sales.filter((t=>"transfer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"transfer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"purple-darken-1",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},mounted(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Gs=(0,m.Z)(Js,[["render",Vs]]);var Xs=Gs;const tl={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},el={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},rl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},al={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},sl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ll={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ol={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},il={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},wl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function nl(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",tl,[(0,s._)("div",el,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",rl,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",al,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",sl,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",ll,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",ol,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",il,[(0,s.Wm)(i,{dash:o.doubledSales},null,8,["dash"])]),(0,s._)("div",wl,[(0,s.Wm)(i,{dash:o.wrongNumberSales},null,8,["dash"])])])])}var dl={components:{DashItemTwo:Qs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",pourcentage:100,value:this.sales.length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>!t.confirmation)).length/this.sales.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.confirmation)).length/this.sales.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}},doubledSales(){return{id:8,title:"Doubled",pourcentage:(100*this.sales.filter((t=>"double"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"double"==t.confirmation)).length,color:"purple-accent-4",icon:"mdi mdi-selection-multiple"}},wrongNumberSales(){return{id:9,title:"Wrong Number",pourcentage:(100*this.sales.filter((t=>"wrong-number"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"wrong-number"==t.confirmation)).length,color:"purple-lighten-1",icon:"mdi mdi-phone-remove"}}},mounted(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const cl=(0,m.Z)(dl,[["render",nl]]);var ul=cl,pl={components:{DeliveryTab:Xs,ConfirmationTab:ul},props:["filteredSales"],data(){return{tab:1,tabs:[{id:1,name:"Confirmation",component:"ConfirmationTab"},{id:2,name:"Delivery",component:"DeliveryTab"}]}}};const gl=(0,m.Z)(pl,[["render",Ls]]);var ml=gl;const hl={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4 py-5"},fl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},bl={class:"tw-relative"},vl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},xl={class:"tw-relative"},yl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},_l=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agents",-1),kl={class:"tw-relative"},Cl=(0,s._)("option",{value:"all"},"Select",-1),Dl=["value"],Sl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},zl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Deliveries",-1),Ul={class:"tw-relative"},ql=(0,s._)("option",{value:"all"},"Select",-1),Pl=["value"],Ll={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Wl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Cities",-1),Al={class:"tw-relative"},$l=(0,s._)("option",{value:"all"},"Select",-1),El=["value"],Tl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Fl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Products",-1),jl={class:"tw-relative"},Il=(0,s._)("option",{value:"all"},"Select",-1),Vl=["value"],Ol={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Hl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Shops",-1),Ml={class:"tw-relative"},Rl=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Nl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Yl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Sources",-1),Zl={class:"tw-relative"},Kl=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Bl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Ql=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),Jl={class:"tw-relative"},Gl=(0,s._)("option",{value:"all"},"Select",-1),Xl=(0,s._)("option",{value:"oui"},"Oui",-1),to=(0,s._)("option",{value:"non"},"Non",-1),eo=[Gl,Xl,to];function ro(t,e,r,l,o,i){const w=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",hl,[(0,s._)("div",fl,[(0,s._)("div",bl,[(0,s.Wm)(w,{name:"Created Date",filter:o.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>o.dateFilter=t)},null,8,["filter"])])]),(0,s._)("div",vl,[(0,s._)("div",xl,[(0,s.Wm)(w,{name:"Dropped Date",filter:o.droppedAtFilter,"onUpdate:filter":e[1]||(e[1]=t=>o.droppedAtFilter=t)},null,8,["filter"])])]),(0,s._)("div",yl,[_l,(0,s._)("div",kl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.agentFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Cl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,Dl)))),128))],512),[[a.bM,o.agentFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Sl,[zl,(0,s._)("div",Ul,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[ql,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,Pl)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ll,[Wl,(0,s._)("div",Al,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.cityFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[$l,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,El)))),128))],512),[[a.bM,o.cityFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Tl,[Fl,(0,s._)("div",jl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Il,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Vl)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ol,[Hl,(0,s._)("div",Ml,[Rl,(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Nl,[Yl,(0,s._)("div",Zl,[Kl,(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Bl,[Ql,(0,s._)("div",Jl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.upsellFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},eo,512),[[a.bM,o.upsellFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0)])}const ao={class:"tw-text-sm tw-text-neutral-600"},so=["onClick"];function lo(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",ao,(0,wt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,so)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var oo=r(1271),io=r(2292),wo=r(1745),no=r(4253),co=r(4819),uo=r(2143),po={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const go=(0,m.Z)(po,[["render",lo]]);var mo=go,ho={components:{DateFilter:mo},props:["filters"],data(){return{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""],isLoaded:!1,dashItems:[{id:1,title:"Total Chiffres d'affaire",value:1200,icon:"mdi-currency-usd",color:"green"},{id:2,title:"Chiffres d'affaire versé",value:"35000 DH",icon:"mdi mdi-credit-card-check-outline",color:"orange"},{id:3,title:"Chiffres d'affaire non versé",value:600,icon:"mdi mdi-credit-card-remove-outline",color:"red"},{id:4,title:"Chiffres d'affaire en caisse",value:543,icon:"mdi mdi-bank",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},watch:{agentFilter(t){this.$emit("update:filters",{...this.filters,agentFilter:t})},deliveryFilter(t){this.$emit("update:filters",{...this.filters,deliveryFilter:t})},productFilter(t){this.$emit("update:filters",{...this.filters,productFilter:t})},cityFilter(t){this.$emit("update:filters",{...this.filters,cityFilter:t})},upsellFilter(t){this.$emit("update:filters",{...this.filters,upsellFilter:t})},dateFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,dateFilter:t})}},droppedAtFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,droppedAtFilter:t})}}},computed:{agents(){return this.$store.getters["user/agents"]},deliveries(){return this.$store.getters["user/deliveries"]},products(){return this.$store.getters["product/products"]},cities(){return this.$store.getters["city/cities"]}},mounted(){ot.deliveries().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setDeliveries",e),this.isLoaded=!0}})).catch(this.$handleApiError),ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.products;console.log(t.data),this.$store.dispatch("product/setProducts",e),this.isLoaded=!0}})).catch(this.$handleApiError),ot.cities().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("city/setCities",e),this.isLoaded=!0}})).catch(this.$handleApiError),ot.agents().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setAgents",e),this.isLoaded=!0}})).catch(this.$handleApiError)}};const fo=(0,m.Z)(ho,[["render",ro]]);var bo=fo;const vo=t=>{if(!t)return 0;const e=t.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return(parseFloat(t.price?t.price:0)+parseFloat(e)).toFixed(2)},xo=t=>t?t.split("api/")[1]:null,yo=t=>JSON.parse(JSON.stringify(t));var _o={components:{DashItem:ss,UsersTable:Ds,TabSwitcher:ml,FilterTabs:bo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],w=this.filters.droppedAtFilter[1];return this.sales.filter((n=>{if("all"!==t&&parseInt(n.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(n.affectation)!=parseInt(e))return!1;if("all"!==s&&n.upsell!=s)return!1;if("all"!==r&&!n.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&n.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(n.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const g=new Date(n.dropped_at),m=g.getDate(),h=g.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&m<t)return!1}if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&m>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=vo(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=vo(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=vo(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const ko=(0,m.Z)(_o,[["render",Ba]]);var Co=ko;const Do=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Dashboard")])],-1),So={key:0},zo={key:1},Uo={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},qo={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},Po={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Lo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Wo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Ao={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},$o={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-5"},Eo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function To(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[Do,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",So,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",zo,[(0,s._)("div",Uo,[(0,s._)("div",qo,[(0,s._)("div",Po,[(0,s.Wm)(w,{dash:o.earningsDash,symbol:"DH",numbers:!1},null,8,["dash"])]),(0,s._)("div",Lo,[(0,s.Wm)(w,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Wo,[(0,s.Wm)(w,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Ao,[(0,s.Wm)(w,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",$o,[(0,s.Wm)(w,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Eo,[(0,s.Wm)(w,{dash:o.canceledSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Fo={components:{DashItemTwo:Qs},data(){return{isLoaded:!0,orders:[],cities:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},totalSales(){return{id:1,title:"Total Orders",value:this.orders.length,pourcentage:100,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.filterByStatus("livrer").length,pourcentage:100*this.filterByStatus("livrer").length/this.orders.length,color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:231,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.filterByStatus("expidier").length,pourcentage:100*this.filterByStatus("expidier").length/this.orders.length,color:"primary-orange",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.filterByStatus("reporter").length,pourcentage:100*this.filterByStatus("reporter").length/this.orders.length,color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.filterByStatus("annuler").length,pourcentage:100*this.filterByStatus("annuler").length/this.orders.length,color:"red-accent-3",icon:"mdi mdi-cancel"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:this.earnings,color:"green-darken-4",icon:"mdi-currency-usd"}},earnings(){return this.orders.reduce(((t,e)=>null==e.factorisations||e.factorisations.paid||e.factorisations.close?t:t+e.factorisations.price),0)}},methods:{filterByStatus(t){return this.orders.filter((e=>e.delivery==t))},getOrders(){this.isLoaded=!1,Er.delivery().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const jo=(0,m.Z)(Fo,[["render",To]]);var Io=jo;const Vo=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Dashboard ")])],-1),Oo={key:0},Ho={key:1},Mo={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ro={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},No={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Yo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Zo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ko={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Bo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Qo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Jo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Go(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[Vo,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Oo,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ho,[(0,s._)("div",Mo,[(0,s._)("div",Ro,[(0,s._)("div",No,[(0,s.Wm)(w,{dash:o.earningsDash,symbol:l.currency,numbers:!1},null,8,["dash","symbol"])]),(0,s._)("div",Yo,[(0,s.Wm)(w,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Zo,[(0,s.Wm)(w,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Ko,[(0,s.Wm)(w,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Bo,[(0,s.Wm)(w,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",Qo,[(0,s.Wm)(w,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Jo,[(0,s.Wm)(w,{dash:o.upsellSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Xo={components:{DashItemTwo:Qs},data(){return{currency:c,isLoaded:!0,orders:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},totalSales(){return{id:1,title:"Total",pourcentage:0===this.orders.length?0:100,value:this.orders.filter((t=>"double"!=t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.orders.filter((t=>!t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>!t.confirmation)).length/this.orders.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.orders.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"confirmer"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.orders.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"reporter"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.orders.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"annuler"==t.confirmation)).length/this.orders.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},upsellSales(){return{id:6,title:"Upsell",value:this.orders.filter((t=>"oui"==t.upsell)).length,pourcentage:(100*this.orders.filter((t=>"oui"==t.upsell)).length/this.orders.length).toFixed(2),color:"#2563eb",icon:"mdi mdi-transfer-up"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:.7*this.orders.filter((t=>"oui"==t.upsell&&"livrer"==t.delivery)).length,color:"green-darken-4",icon:"mdi-currency-usd"}},noanswerSales(){return{id:6,title:"No Answer",value:this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.orders.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},methods:{filterByStatus(t){return this.orders.filter((e=>e.confirmation==t))},getOrders(){this.isLoaded=!1,Er.agente().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const ti=(0,m.Z)(Xo,[["render",Go]]);var ei=ti;const ri=(0,s._)("div",{class:"tw-w-full tw-rounded-lg tw-py-5 tw-px-5 tw-flex tw-flex-center tw-justify-center"},[(0,s._)("h1",{class:"tw-text-lg"},"Welcome to Dashboard !")],-1),ai=[ri];function si(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,ai)}var li={components:{},data(){return{dashItems:[{id:1,title:"Orders",value:1200,icon:"mdi-package-variant-closed",color:"orange"},{id:2,title:"Total Sales",value:"35000 DH",icon:"mdi-currency-usd",color:"green"},{id:3,title:"Orders Confirmed",value:600,icon:"mdi-phone-check-outline",color:"blue"},{id:4,title:"Orders Delivered",value:543,icon:"mdi-truck-check-outline",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role}}};const oi=(0,m.Z)(li,[["render",si]]);var ii=oi;const wi={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},ni=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),di=[ni];function ci(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",wi,[l.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},di))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.dashes,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const ui={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},pi={class:"tw-flex tw-justify-between"},gi={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},mi={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},hi={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},fi={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function bi(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ui,[(0,s._)("div",pi,[(0,s._)("div",null,[(0,s._)("div",gi,[(0,s._)("p",mi,(0,wt.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",hi,[(0,s._)("span",fi,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var vi={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const xi=(0,m.Z)(vi,[["render",bi]]);var yi=xi;class _i{async statistics(){return await E.getCookie(),A.post("api/v1/followup/statistics")}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/followup/orders"+t,e)}async update(t,e){return await E.getCookie(),A.post("api/v1/followup/orders/"+t+"/update",e)}async create(t){return await E.getCookie(),A.post("api/v1/followup/orders/create",t)}}var ki=new _i,Ci={components:{DashCard:yi},data(){return{fetching:!0,dashes:[]}},mounted(){ki.statistics().then((t=>{console.log(t.data.data),this.dashes=t.data.data.statistics,this.fetching=!1}))}};const Di=(0,m.Z)(Ci,[["render",ci]]);var Si=Di;const zi={key:0},Ui={key:1},qi=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Pi={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Li={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Wi={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},Ai=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),$i=["disabled"],Ei={key:0,class:"tw-flex tw-items-center tw-gap-2"},Ti={key:1},Fi=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),ji={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Ii(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable"),n=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",zi,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ui,[qi,(0,s._)("div",Pi,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1})]),(0,s._)("div",Li,[(0,s._)("div",Wi,[Ai,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ei,[(0,s.Wm)(ct.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Ti,[Fi,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,$i)])]),(0,s._)("div",ji,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Vi={components:{DashItem:ss,UsersTable:Ds,TabSwitcher:ml,FilterTabs:bo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],w=this.filters.droppedAtFilter[1];return this.sales.filter((n=>{if("all"!==t&&parseInt(n.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(n.affectation)!=parseInt(e))return!1;if("all"!==s&&n.upsell!=s)return!1;if("all"!==r&&!n.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&n.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(n.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const g=new Date(n.dropped_at),m=g.getDate(),h=g.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&m<t)return!1}if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&m>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=vo(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=vo(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=vo(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const Oi=(0,m.Z)(Vi,[["render",Ii]]);var Hi=Oi,Mi={components:{admin:Co,delivery:Io,agente:ei,default:ii,seller:Hi,"follow-up":Si},data(){return{localUrl:w,exists:!1}},computed:{user(){return this.$store.getters["user/user"]},dashboard(){return["admin","seller","delivery","agente","follow-up"].includes(this.user.role)?this.user.role:"default"}},methods:{check(){switch(this.user.role){case"admin":this.$router.push({name:"dashboards/admin"});break;case"agente":this.$router.push({name:"dashboards/agent"});break;case"seller":this.$router.push({name:"dashboards/seller"});break;default:this.exists=!0;break}}},created(){this.check()}};const Ri=(0,m.Z)(Mi,[["render",$a]]);var Ni=Ri;const Yi={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Zi={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Ki={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Bi={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Qi=["disabled"],Ji=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Gi=(0,s._)("span",null," previous ",-1),Xi=[Ji,Gi],tw=["disabled"],ew=(0,s._)("span",null," Next ",-1),rw=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),aw=[ew,rw];function sw(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Yi,[(0,s._)("div",Zi,[(0,s.Uk)(" Page "),(0,s._)("span",Ki,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",Bi,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Xi,10,Qi),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},aw,10,tw)])])])}var lw={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const ow=(0,m.Z)(lw,[["render",sw]]);var iw=ow;const ww={class:"py-5 tw-min-h-[calc(100dvh-110px)] px-5 tw-border bg-white tw-w-full tw-rounded-md"},nw=(0,s._)("h1",{class:"tw-text-lg tw-pl-1"},"Notifications",-1),dw={key:0},cw={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},uw={key:1,class:"tw-relative tw-h-full tw-flex-col tw-flex tw-overflow-x-auto sm:tw-rounded-lg"},pw={key:0},gw=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),mw=[gw],hw={class:"tw-w-full tw-text-left tw-text-gray-500"},fw={class:"tw-w-fit tw-flex tw-flex-col tw-whitespace-nowrap text-black"},bw={class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},vw=(0,s._)("div",{class:"tw-flex-1 tw-mt-auto"},null,-1);var xw={__name:"NotificationView",setup(t){const e=(0,i.oR)(),r=(0,ke.iH)(!1),a=(0,ke.iH)(null),l=t=>{a.value.page=t,o()},o=async()=>{const t={...a.value,data:null};r.value=!1,await De.AllNotifications(t).then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setAllNotifications",t.data.data),a.value=t.data.data)})).catch((t=>{console.error("API Error",t)})),r.value=!0};(0,s.bv)((()=>{o()}));const w=(0,s.Fl)((()=>e.getters["app/notifications"].all));return(t,e)=>((0,s.wg)(),(0,s.iD)("div",ww,[nw,r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dw,[(0,s._)("div",cw,[(0,s.Wm)(ct.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),r.value?((0,s.wg)(),(0,s.iD)("div",uw,[""==w.value.data?((0,s.wg)(),(0,s.iD)("div",pw,mw)):(0,s.kq)("",!0),(0,s._)("table",hw,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value.data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,scope:"col",class:(0,wt.C_)([{"bg-white":"read"==t.status},"tw-bg-orange-50 tw-py-3 tw-px-1 text-truncate"])},[(0,s._)("div",fw,(0,wt.zw)(t.message),1),(0,s._)("div",bw,(0,wt.zw)((0,ke.SU)(ze())(t.created_at).fromNow()),1)],2)))),128))]),vw,r.value?((0,s.wg)(),(0,s.j4)(iw,{key:1,onPageChange:l,"per-page":a.value.per_page,"last-page":a.value.last_page,from:a.value.from,to:a.value.to,total:a.value.total,"current-page":a.value.current_page},null,8,["per-page","last-page","from","to","total","current-page"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]))}};const yw=xw;var _w=yw,kw={path:"/",name:"home",component:Wa,meta:{module:"dashboard"},children:[{path:"",name:"dashboard",component:Ni,meta:{module:"dashboard",title:"Dashboard",gate:"all"}},{path:"/notifications",name:"notifications",component:_w,meta:{module:"notification",title:"Notifications",gate:"all"}}]};const Cw={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Dw=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your products")],-1),Sw={key:0},zw=(0,s._)("span",{class:"text-white"}," Add Expedition ",-1),Uw={key:0},qw={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Pw={class:"mb-5 tw-flex"},Lw={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Ww={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Aw={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},$w=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Ew={class:"tw-relative"},Tw={class:""};function Fw(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.products.length},[(0,s._)("div",Cw,[Dw,t.$can("create_product")?((0,s.wg)(),(0,s.iD)("div",Sw,[(0,s.Wm)(nt.T,{color:"primary-color",link:"",to:{name:"product/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),zw])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Uw,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",qw,[(0,s._)("div",Pw,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Lw,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Ww,[(0,s._)("div",Aw,[$w,(0,s._)("div",Ew,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Tw,[(0,s.Wm)(n,{columns:o.columns,products:i.filteredProducts},null,8,["columns","products"])])])):(0,s.kq)("",!0)])}const jw={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Iw={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Vw={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Ow=(0,s._)("th",null,null,-1),Hw={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Mw={class:"tw-w-4 tw-p-4"},Rw={class:"tw-flex tw-items-center"},Nw={key:0,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-green-500"},Yw={key:1,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-yellow-500"},Zw={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Kw={class:"tw-px-6 tw-py-4"},Bw={key:0},Qw={class:"tw-px-6 tw-py-4"},Jw={class:"tw-px-6 tw-py-4"},Gw={class:"tw-px-6 tw-py-4"},Xw={class:"tw-px-6 tw-py-4"},tn={class:"tw-px-6 tw-py-4"},en={class:"tw-px-6 tw-py-4"},rn={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},an={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},sn={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},ln=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),on=["value"],wn={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},nn={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},dn={class:"tw-text-white"};function cn(t,e,r,l,o,i){const w=(0,s.up)("ProductActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jw,[(0,s._)("table",Iw,[(0,s._)("thead",Vw,[(0,s._)("tr",null,[Ow,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Hw,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Mw,[(0,s._)("div",Rw,[1==t.status?((0,s.wg)(),(0,s.iD)("span",Nw)):(0,s.kq)("",!0),0==t.status?((0,s.wg)(),(0,s.iD)("span",Yw)):(0,s.kq)("",!0)])]),(0,s._)("th",Zw,(0,wt.zw)(t.id),1),(0,s._)("td",Kw,[t.seller_user?((0,s.wg)(),(0,s.iD)("span",Bw,(0,wt.zw)(t.seller_user.firstname)+" "+(0,wt.zw)(t.seller_user.lastname),1)):(0,s.kq)("",!0)]),(0,s._)("td",Qw,(0,wt.zw)(t.ref),1),(0,s._)("td",Jw,(0,wt.zw)(t.name),1),(0,s._)("td",Gw,(0,wt.zw)(t.buying_price)+" "+(0,wt.zw)(o.currency),1),(0,s._)("td",Xw,(0,wt.zw)(t.selling_price)+" "+(0,wt.zw)(o.currency),1),(0,s._)("td",tn,(0,wt.zw)(i.calculQty(t.variations)),1),(0,s._)("td",en,(0,wt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",rn,[(0,s.Wm)(w,{product:t},null,8,["product"])])])))),128))])])]),(0,s._)("div",an,[(0,s._)("div",sn,[ln,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,on)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",wn,[(0,s._)("div",nn,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.products.length:i.nextRange)+" of "+(0,wt.zw)(r.products.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",dn,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const un={class:"tw-flex tw-items-center tw-gap-1"},pn=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12 2C11.8 2 11.6 2.1 11.4 2.2L3.5 6.6C3.2 6.8 3 7.1 3 7.5V16.5C3 16.9 3.2 17.2 3.5 17.4L11.4 21.8C11.6 21.9 11.8 22 12 22S12.4 21.9 12.6 21.8L13.5 21.3C13.2 20.7 13.1 20 13 19.3V12.6L19 9.2V13C19.7 13 20.4 13.1 21 13.3V7.5C21 7.1 20.8 6.8 20.5 6.6L12.6 2.2C12.4 2.1 12.2 2 12 2M12 4.2L18 7.5L16 8.6L10.1 5.2L12 4.2M8.1 6.3L14 9.8L12 10.9L6 7.5L8.1 6.3M5 9.2L11 12.6V19.3L5 15.9V9.2M21.3 15.8L17.7 19.4L16.1 17.8L15 19L17.8 22L22.6 17.2L21.3 15.8Z",fill:"white"})],-1),gn={key:4};function mn(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("ProductStatusPopup");return(0,s.wg)(),(0,s.iD)("div",un,[t.$can("update_product")&&"admin"==this.user.role?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showStatusPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[pn])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_product")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,to:"/products/update/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(nt.T,{key:2,to:"/products/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.j4)(nt.T,{key:3,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"]),l.showStatusPopup?((0,s.wg)(),(0,s.iD)("div",gn,[(0,s.Wm)(w,{visible:l.showStatusPopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showStatusPopup=t),onCancel:e[3]||(e[3]=t=>l.showStatusPopup=!1),product:r.product},null,8,["visible","product"])])):(0,s.kq)("",!0)])}const hn={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},fn=(0,s._)("h1",{class:"tw-text-lg"},"Update Product Status",-1),bn={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},vn={class:"tw-w-full tw-col-span-6"},xn={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},yn=["disabled"],_n=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),kn={class:"tw-w-full tw-col-span-12"},Cn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),Dn={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Sn=(0,s._)("span",{class:"text-white"}," Cancel ",-1),zn=(0,s._)("span",{class:"text-white"}," Update ",-1);function Un(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",hn,[fn,(0,s._)("div",bn,[(0,s._)("div",vn,[(0,s._)("label",xn,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingStatus,"onUpdate:modelValue":e[0]||(e[0]=t=>o.currentStatus=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,yn),[[a.e8,o.currentStatus]]),_n]),o.isLoadingStatus?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",kn,[Cn,(0,s.wy)((0,s._)("textarea",{"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",512),[[a.nr,o.note]])])]),(0,s._)("div",Dn,[(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Sn])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[zn])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var qn={components:{},props:["product","visible","updated"],data(){return{isLoading:!1,isLoadingStatus:!1,currentStatus:!1,note:""}},computed:{},methods:{update(){this.isLoading=!0;const t={status:this.currentStatus,note:this.note};ha.updateStatus(this.product.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("product/setProduct",t.data.data.product),this.$emit("updated",t.data.data.product),this.$emit("cancel")),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))}},mounted(){this.Product={...this.product},this.currentStatus=1==this.product.status,this.note=this.product.note}};const Pn=(0,m.Z)(qn,[["render",Un]]);var Ln=Pn,Wn={components:{ProductStatusPopup:Ln},props:["rowIndex","product"],name:"productActions",data(){return{showStatusPopup:!1,showPopup:!1,isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,ha["delete"](this.product.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"})),ha.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const An=(0,m.Z)(Wn,[["render",mn]]);var $n=An,En={props:["columns","products"],components:{ProductActions:$n},data(){return{currency:c,allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.products.length/this.paginationLimit)},items(){return this.products.slice(this.prevRange,this.nextRange)}},methods:{calculQty(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Tn=(0,m.Z)(En,[["render",cn]]);var Fn=Tn;const jn=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:16,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:15,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:12,value:"wrong-number",name:"Wrong number",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:13,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:14,value:"double",name:"Double",text:"tw-text-purple-500",textLight:"tw-text-purple-800",bg:"tw-bg-purple-500/10",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"}],In=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:2,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"}],Vn=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:13,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-cyan-500",textLight:"tw-text-cyan-800",bg:"tw-bg-cyan-500/10",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"}],On=[{id:0,value:null,name:"Select",text:"tw-text-neutral-600",bg:"tw-bg-neutral-500/10",ring:"tw-ring-neutral-300"},{id:1,value:"oui",name:"Oui",text:"tw-text-green-500",bg:"tw-bg-green-500/10",ring:"tw-ring-green-300"},{id:2,value:"non",name:"Non",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",ring:"tw-ring-pink-300"}],Hn=[{id:0,value:null,name:"Select",text:"tw-text-gray-500",textLight:"tw-text-gray-800",bg:"tw-bg-gray-500/10",bgLight:"tw-bg-gray-100",ring:"tw-ring-gray-300"},{id:1,value:"dispatch",name:"Dispatched",text:"tw-text-yellow-500",textLight:"tw-text-yellow-800",bg:"tw-bg-yellow-500/10",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:2,value:"expidier",name:"Shipped",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:3,value:"livrer",name:"Delivered",text:"tw-text-green-500",bg:"tw-bg-green-500/10",textLight:"tw-text-green-800",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:4,value:"reporter",name:"Reported",text:"tw-text-orange-500",bg:"tw-bg-orange-500/10",textLight:"tw-text-orange-800",bgLight:"tw-bg-orange-100",ring:"tw-ring-orange-300"},{id:5,value:"refuser",name:"Refused",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",textLight:"tw-text-pink-800",bgLight:"tw-bg-pink-100",ring:"tw-ring-pink-300"},{id:6,value:"annuler",name:"Canceled",text:"tw-text-red-500",bg:"tw-bg-red-500/10",textLight:"tw-text-red-800",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:9,value:"pas-de-reponse",name:"No Answer",text:"tw-text-yellow-500",bg:"tw-bg-yellow-500/10",textLight:"tw-text-yellow-800",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:8,value:"printed",name:"Printed",text:"tw-text-blue-500",bg:"tw-bg-blue-500/10",textLight:"tw-text-blue-800",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:10,value:"retourner",name:"Returned",text:"tw-text-purple-500",bg:"tw-bg-purple-500/10",textLight:"tw-text-purple-800",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:11,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-indigo-500",bg:"tw-bg-indigo-500/10",textLight:"tw-text-indigo-800",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:12,value:"paid",name:"Paid",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:13,value:"transfer",name:"Transferd",text:"tw-text-violet-500",bg:"tw-bg-violet-500/10",textLight:"tw-text-violet-800",bgLight:"tw-bg-violet-100",ring:"tw-ring-violet-300"},{id:14,value:"livrer-et-retourner",name:"Delivered & Return",text:"tw-text-teal-500",bg:"tw-bg-teal-500/10",textLight:"tw-text-teal-800",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:15,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:17,value:"in-warehouse",name:"In Warehouse",text:"tw-text-lime-500",bg:"tw-bg-lime-500/10",ring:"tw-ring-lime-300",textLight:"tw-text-lime-800",bgLight:"tw-bg-lime-100"},{id:18,value:"cleared",name:"Cleared",text:"tw-text-cyan-500",bg:"tw-bg-cyan-500/10",ring:"tw-ring-cyan-300",textLight:"tw-text-cyan-800",bgLight:"tw-bg-cyan-100"}],Mn=[null,"expidier","paid","transfer","dispatch"];var Rn={components:{ProductsTable:Fn},data(){return{localUrl:w,confirmations:jn,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"seller",name:"Seller"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},filteredProducts(){const t=this.date;return this.products.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!(e.ref.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase())||e.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{getProducts(){ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts()}};const Nn=(0,m.Z)(Rn,[["render",Fw]]);var Yn=Nn;const Zn={class:"py-5 !tw-pt-0 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Kn={class:"tw-px-3"},Bn=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},null,-1),Qn={key:0};function Jn(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Zn,[(0,s._)("section",Kn,[Bn,(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Qn,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Gn={class:"tw-flex tw-flex-col"},Xn={class:"tw-overflow-x-auto"},td={class:"tw-inline-block tw-min-w-full tw-align-middle"},ed={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},rd={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},ad={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},sd={scope:"col",class:"rtl:tw-text-right tw-w-7 tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},ld={class:"tw-max-w-[25px]"},od={class:"tw-inline-flex tw-items-center"},id={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},wd=["checked"],nd=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),dd=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),cd={key:0,scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},ud=(0,s._)("span",null,"Seller",-1),pd=[ud],gd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," SKU ",-1),md=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),hd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Pricing ( $ ) ",-1),fd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-whitespace-nowrap !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Qty ",-1),bd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivered ",-1),vd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Shipped ",-1),xd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Available ",-1),yd={scope:"col",class:"tw-py-3.5 tw-w-5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},_d=(0,s._)("span",null,"Created",-1),kd=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Cd=[_d,kd],Dd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Actions")],-1),Sd={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},zd={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ud=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),qd=[Ud],Pd={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ld={colspan:"13"},Wd={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Ad=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),$d=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Ed=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Td=[$d,Ed],Fd={class:"tw-mt-6"};function jd(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Gn,[(0,s._)("div",Xn,[(0,s._)("div",td,[(0,s._)("div",ed,[(0,s._)("table",rd,[(0,s._)("thead",ad,[(0,s._)("tr",null,[(0,s._)("th",sd,[(0,s._)("div",ld,[(0,s._)("div",od,[(0,s._)("label",id,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,wd),nd])])])]),dd,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",cd,pd)):(0,s.kq)("",!0),gd,md,hd,fd,bd,vd,xd,(0,s._)("th",yd,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Cd)]),Dd])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Sd,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,l)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:l,index:a,key:r.id,item:r},null,8,["selected","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",zd,qd)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Pd,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Ld,[(0,s._)("div",Wd,[Ad,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Td)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Fd,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Id={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Vd={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Od={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Hd={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Md=["disabled"],Rd=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Nd=(0,s._)("span",null," previous ",-1),Yd=[Rd,Nd],Zd=["disabled"],Kd=(0,s._)("span",null," Next ",-1),Bd=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Qd=[Kd,Bd];function Jd(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Id,[(0,s._)("div",Vd,[(0,s.Uk)(" Page "),(0,s._)("span",Od,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",Hd,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Yd,10,Md),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Qd,10,Zd)])])])}var Gd={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Xd=(0,m.Z)(Gd,[["render",Jd]]);var tc=Xd;const ec={class:"tw-p-2 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},rc={class:"tw-max-w-[25px]"},ac={class:"tw-inline-flex tw-items-center"},sc={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},lc=["checked","id"],oc=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),ic={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},wc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},nc={key:0,class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},dc={key:0},cc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},uc={key:1},pc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},gc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},mc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},hc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fc={class:"tw-flex tw-items-center tw-gap-1"},bc={title:"Buying Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},vc={class:"tw-text-blue-700"},xc={title:"Selling Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},yc={class:"tw-text-green-700"},_c={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Cc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Dc={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},Sc={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},zc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Uc={class:"tw-flex tw-font-medium tw-text-purple-600 tw-rounded tw-items-center"},qc={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Pc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Lc={class:"tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Wc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-max-w-[100px]"},Ac={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-max-w-[100px] tw-flex tw-items-center tw-gap-2"},$c={class:"tw-px-4 tw-py-1 tw-text-sm tw-whitespace-nowrap"};function Ec(t,e,r,a,l,o){const i=(0,s.up)("router-link"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,wt.C_)(["hover:tw-bg-gray-50",[o.availableQuantity<=0&&"!tw-border !tw-border-red-300 tw-bg-red-50 hover:tw-bg-red-100 "]])},[(0,s._)("td",ec,[(0,s._)("div",rc,[(0,s._)("div",ac,[(0,s._)("label",sc,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,lc),oc])])])]),(0,s._)("td",ic,[(0,s._)("div",null,[(0,s._)("h2",wc,(0,wt.zw)(r.item.id),1)])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",nc,["affiliate"!=r.item.type?((0,s.wg)(),(0,s.iD)("div",dc,[(0,s._)("h2",cc,(0,wt.zw)(r.item.seller_user.firstname)+" "+(0,wt.zw)(r.item.seller_user.lastname),1)])):((0,s.wg)(),(0,s.iD)("div",uc,[(0,s.Wm)(i,{to:{name:"affiliate.show.sellers",params:{id:r.item.id}},class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-underline-offset-2 tw-underline"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.item.imported_count)+" sellers ",1)])),_:1},8,["to"])]))])):(0,s.kq)("",!0),(0,s._)("td",pc,[(0,s._)("div",null,[(0,s._)("h2",{class:(0,wt.C_)([{"!tw-text-emerald-500":r.item.status,"!tw-text-amber-500":!r.item.status},"tw-font-bold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[70px] tw-truncate"])},(0,wt.zw)(r.item.ref),3)])]),(0,s._)("td",gc,[(0,s._)("div",null,[(0,s._)("h2",mc,(0,wt.zw)(r.item.name),1)])]),(0,s._)("td",hc,[(0,s._)("div",fc,[(0,s._)("div",bc,[(0,s._)("span",vc,(0,wt.zw)(r.item.buying_price),1),(0,s.Wm)(ct.t,{class:"tw-text-lg tw-text-blue-400 tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-down-bold")])),_:1})]),(0,s._)("div",xc,[(0,s.Wm)(ct.t,{class:"tw-text-lg tw-mr-1 tw-text-green-400"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-up-bold")])),_:1}),(0,s._)("span",yc,(0,wt.zw)(r.item.selling_price),1)])])]),(0,s._)("td",_c,[(0,s._)("div",null,[(0,s._)("h2",kc,(0,wt.zw)(o.quantityTotal),1)])]),(0,s._)("td",Cc,[(0,s._)("div",Dc,[(0,s._)("h2",Sc,(0,wt.zw)(o.deliveredQuantity),1)])]),(0,s._)("td",zc,[(0,s._)("div",Uc,[(0,s._)("h2",qc,(0,wt.zw)(o.shippedQuantity),1)])]),(0,s._)("td",Pc,[(0,s._)("div",{class:(0,wt.C_)([{"tw-text-red-500 !tw-font-bold":o.availableQuantity<=0},"tw-flex tw-font-medium tw-text-blue-600 tw-rounded tw-items-center"])},[(0,s._)("h2",Lc,(0,wt.zw)(o.availableQuantity),1)],2)]),(0,s._)("td",Wc,[(0,s._)("div",null,[(0,s._)("h2",Ac,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[-]MM[-]YY")),1)])])]),(0,s._)("td",$c,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const Tc=(t,e="success")=>{st.dispatch("alert/toggleAlert",{type:e,title:t})},Fc={key:0,class:"tw-h-full"},jc={class:"tw-flex tw-items-center tw-gap-2"},Ic={key:5},Vc={key:1,class:"tw-h-full"},Oc={class:"tw-flex tw-items-center tw-gap-2"};var Hc={__name:"TableActions",props:["item"],emits:["update"],setup(t,{emit:e}){const r=t,a=(0,ke.Vh)(r,"item"),l=(0,s.f3)("refresh"),o=(0,s.f3)("update"),i=(0,ke.iH)({delete:!1,status:!1}),w=(0,ke.iH)({delete:!1,status:!1}),n=async t=>{if(!t)return i.value.delete=!1,!1;w.value.delete=!0,await ha["delete"](a.value.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(Tc("Product Deleted Successfully"),l())})).catch((t=>{console.log(t),Tc("Something wrong happened","danger")})),w.value.delete=!1,i.value.delete=!1},d=t=>{o({...a.value,status:t.status})};return(t,e)=>{const r=(0,s.up)("icon"),l=(0,s.up)("router-link"),o=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,["normal"==a.value.type?((0,s.wg)(),(0,s.iD)("div",Fc,[(0,s._)("div",jc,[(0,s.kq)("",!0),t.$can("update_product")&&"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>i.value.status=!0),class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-emerald-500/20 hover:tw-bg-emerald-500/10 hover:tw-border-emerald-500/70 tw-duration-300 tw-text-emerald-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(r,{icon:"ci:check-big",class:"tw-text-base tw-text-emerald-500"})])):(0,s.kq)("",!0),t.$can("view_product")&&"affiliate-manager"!=t.$user.role?((0,s.wg)(),(0,s.j4)(l,{key:2,to:"/products/"+a.value.id,class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-sky-500/20 hover:tw-bg-sky-500/10 hover:tw-border-sky-500/70 tw-duration-300 tw-text-sky-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"solar:eye-bold-duotone",class:"tw-text-base tw-text-sky-500"})])),_:1},8,["to"])):(0,s.kq)("",!0),"affiliate-manager"!=t.$user.role?((0,s.wg)(),(0,s.j4)(l,{key:3,title:"Edit",to:"/products/update/"+a.value.id,class:"!tw-bg-white tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 hover:!tw-bg-amber-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")&&"affiliate-manager"!=t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:4,onClick:e[1]||(e[1]=t=>i.value.delete=!0),class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-rose-500/20 hover:tw-bg-rose-500/10 hover:tw-border-rose-500/70 tw-duration-300 tw-text-rose-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1})])):(0,s.kq)("",!0),(0,s.Wm)(o,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:w.value.delete,visible:i.value.delete,onResolved:n},null,8,["loading","visible"]),i.value.status?((0,s.wg)(),(0,s.iD)("div",Ic,[(0,s.Wm)((0,ke.SU)(Ln),{visible:i.value.status,"onUpdate:visible":e[2]||(e[2]=t=>i.value.status=t),onCancel:e[3]||(e[3]=t=>i.value.status=!1),onUpdated:d,product:a.value},null,8,["visible","product"])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"affiliate"==a.value.type&&["admin","affiliate-manager"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",Vc,[(0,s._)("div",Oc,[["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.j4)(l,{key:0,title:"Show",to:{name:"affiliate.admin.show",params:{id:a.value.id}},class:"!tw-bg-white tw-aspect-square tw-cursor-pointer tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-blue-100 hover:tw-border-blue-400 hover:!tw-bg-blue-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"solar:eye-bold-duotone",class:"tw-text-xl tw-text-blue-500"})])),_:1},8,["to"])):(0,s.kq)("",!0),["admin","affiliate-manager"].includes(t.$user.role)?((0,s.wg)(),(0,s.j4)(l,{key:1,title:"Edit",to:{name:"affiliate.admin.edit",params:{id:a.value.id}},class:"!tw-bg-white tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 hover:!tw-bg-amber-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})])),_:1},8,["to"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)],64)}}};const Mc=Hc;var Rc=Mc,Nc={components:{TableActions:Rc},props:{item:{required:!0},selected:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ze(),currency:c}},computed:{isSelected(){return this.selected.includes(this.item.id)},quantityTotal(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.quantity)),0)},deliveredQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.delivered_quantity)),0)},shippedQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.shipped_quantity)),0)},availableQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.available_quantity)),0)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const Yc=(0,m.Z)(Nc,[["render",Ec]]);var Zc=Yc,Kc={components:{TablePaginationNoNums:tc,TableRow:Zc},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const Bc=(0,m.Z)(Kc,[["render",jd]]);var Qc=Bc;const Jc={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Gc={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Xc=["disabled"],tu=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),eu=[tu],ru=["disabled"],au=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),su=[au],lu={class:"tw-relative"},ou=["value"],iu=(0,s._)("option",{value:5},"5",-1),wu=(0,s._)("option",{value:10},"10",-1),nu=(0,s._)("option",{value:20},"20",-1),du=(0,s._)("option",{value:50},"50",-1),cu=(0,s._)("option",{value:100},"100",-1),uu=(0,s._)("option",{value:250},"250",-1),pu=(0,s._)("option",{value:500},"500",-1),gu=[iu,wu,nu,du,cu,uu,pu],mu=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),hu={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},fu=["value"],bu={class:"tw-overflow-hidden tw-col-span-1"},vu={class:"tw-overflow-hidden tw-col-span-1"},xu={class:"tw-overflow-hidden tw-col-span-1"};function yu(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Jc,[(0,s._)("div",Gc,[(0,s._)("button",{class:(0,wt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,Xc),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,wt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},eu,2),(r.activeStatistics&&r.statistics,(0,s.kq)("",!0)),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},su,8,ru),(0,s.kq)("",!0),(0,s._)("div",lu,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},gu,40,ou),mu])]),(0,s._)("div",hu,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,fu),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",bu,["admin"==this.user.role?((0,s.wg)(),(0,s.j4)(w,{key:0,onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])):(0,s.kq)("",!0)])],2),(0,s._)("div",{class:(0,wt.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",vu,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",xu,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const _u={class:"tw-mb-4"},ku={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Cu={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Du={class:"tw-flex tw-items-center tw-justify-between"},Su={class:"tw-text-xl tw-font-bold tw-text-gray-900"},zu={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function Uu(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",_u,[(0,s._)("div",ku,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Cu,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",Du,[(0,s._)("span",Su,(0,wt.zw)(t.total),1),(0,s._)("span",zu,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var qu={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const Pu=(0,m.Z)(qu,[["render",Uu]]);var Lu=Pu;const Wu={class:"tw-mb-4"},Au={class:"tw-flex tw-items-center tw-gap-2"},$u=["disabled"],Eu=(0,s._)("span",null,"Select Filtered",-1),Tu={class:"tw-flex tw-justify-end"},Fu=["disabled"];function ju(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",Wu,[(0,s._)("div",Au,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Eu],8,$u)]),(0,s._)("div",Tu,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,wt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,Fu)])])}class Iu{async statistics(t){return await E.getCookie(),A.post("api/v1/admin/statistics",t)}async analytics(t){return await E.getCookie(),A.post("api/v1/admin/analytics",t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/admin/orders"+t,e)}async update(t,e){return await E.getCookie(),A.post("api/v1/admin/orders/"+t+"/update",e)}async create(t){return await E.getCookie(),A.post("api/v1/admin/orders/create",t)}async export(t={}){return await E.getCookie(),A.post("api/v1/admin/orders/export",t)}}var Vu=new Iu,Ou={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Vu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const Hu=(0,m.Z)(Ou,[["render",ju]]);var Mu=Hu;const Ru={class:"tw-mb-4"},Nu={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Yu={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Zu=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Ku=(0,s._)("span",null,"Clear",-1),Bu=[Zu,Ku],Qu=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Ju=(0,s._)("span",null,"Filter",-1),Gu=[Qu,Ju];function Xu(t,e,r,a,l,o){(0,s.up)("DateFilter"),(0,s.up)("ProductFilter");const i=(0,s.up)("SellerFilter");return(0,s.wg)(),(0,s.iD)("div",Ru,[(0,s._)("div",Nu,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Yu,[(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Bu),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Gu)])])])}const tp={class:"tw-text-sm tw-text-neutral-600"},ep=["onClick"];function rp(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",tp,(0,wt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,ep)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var ap={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const sp=(0,m.Z)(ap,[["render",rp]]);var lp=sp;const op={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ip=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),wp=["value"],np=(0,s._)("option",{value:"all"},"All",-1),dp=["value"];function cp(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",op,[ip,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[np,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.name),9,dp)))),128))],40,wp)])}var up={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const pp=(0,m.Z)(up,[["render",cp]]);var gp=pp;const mp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),fp=["value"],bp=(0,s._)("option",{value:"all"},"All",-1),vp=["value"];function xp(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",mp,[hp,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[bp,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,vp)))),128))],40,fp)])}var yp={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const _p=(0,m.Z)(yp,[["render",xp]]);var kp=_p,Cp={components:{DateFilter:lp,ProductFilter:gp,SellerFilter:kp},props:{filters:{required:!0,default:{}}},data(){return{dateFilter:["",""]}}};const Dp=(0,m.Z)(Cp,[["render",Xu]]);var Sp=Dp,zp={components:{IndexStatistics:Lu,FiltersWrapper:Sp,IndexExport:Mu},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ze()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const Up=(0,m.Z)(zp,[["render",yu]]);var qp=Up;const Pp={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Lp=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),Wp={class:"tw-bg-white tw-p-4"},Ap={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},$p={class:"tw-col-span-2 md:tw-col-span-1"},Ep=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),Tp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Fp={class:"tw-col-span-2 md:tw-col-span-1"},jp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Ip={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Vp={class:"tw-col-span-2 md:tw-col-span-1"},Op=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Hp={class:"tw-relative"},Mp=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Rp=["value"],Np=["value"],Yp=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Zp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Kp={class:"tw-col-span-2 md:tw-col-span-1"},Bp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Qp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Jp={class:"tw-col-span-2"},Gp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Xp={class:"tw-relative"},tg=["value"],eg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ag={key:0,class:"md:tw-col-span-1 tw-col-span-2"},sg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),lg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},og={key:1,class:"md:tw-col-span-1 tw-col-span-2"},ig=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),wg={class:"tw-col-span-2"},ng=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),dg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cg={class:"md:tw-col-span-1 tw-col-span-2"},ug={class:"md:tw-col-span-1 tw-col-span-2"},pg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),gg={class:"tw-relative"},mg=["value"],hg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),fg={class:"tw-col-span-2"},bg={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},vg={key:0,class:"tw-text-red-400 tw-text-xs"},xg={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},yg=["disabled"],_g=(0,s._)("span",null,"Create",-1);function kg(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Pp,[Lp,(0,s._)("div",Wp,[(0,s._)("div",Ap,[(0,s._)("div",$p,[Ep,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",Tp,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Fp,[jp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",Ip,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Vp,[Op,(0,s._)("div",Hp,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Mp,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,Rp),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,Np)))),128))],34),[[a.bM,o.itemCopy.city]]),Yp]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",Zp,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Kp,[Bp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Qp,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Jp,[Gp,(0,s._)("div",Xp,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,tg)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),eg]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",rg,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",ag,[sg,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",lg,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",og,[ig,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",wg,[ng,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",dg,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",cg,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",ug,[pg,(0,s._)("div",gg,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,mg)))),128))],512),[[a.bM,o.itemCopy.upsell]]),hg])]),(0,s._)("div",fg,[(0,s._)("label",bg,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",vg," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",xg,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),_g],8,yg)])])])),_:1},8,["visible","onCancel"])])}const Cg=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!Dg(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),Dg=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Sg=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},zg=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Ug=(t,e)=>{t.isLoading=!0,t.errors={},Vu.create(e).then((e=>Sg(t,e.data))).catch((e=>zg(t,e.response.data))).finally((()=>t.isLoading=!1))},qg={key:0},Pg=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Lg={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Wg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Ag=(0,s._)("span",null,"Add Item",-1),$g=[Wg,Ag],Eg={key:1,class:"md:tw-col-span-12 tw-col-span-12"},Tg={class:"tw-max-w-full tw-overflow-auto"},Fg={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},jg={class:"tw-bg-gray-50"},Ig={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Vg={key:0},Og={colspan:"6"},Hg={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Mg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Rg=(0,s._)("span",null,"Add Item",-1),Ng=[Mg,Rg],Yg=(0,s._)("td",{colspan:"4"},null,-1),Zg=(0,s._)("td",null,null,-1),Kg={colspan:"1",class:"tw-p-2"},Bg={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Qg={key:1},Jg={colspan:"6"},Gg={class:"tw-scale-75 tw-p-5"};function Xg(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qg,[Pg,(0,s._)("div",Lg,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},$g)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",Eg,[(0,s._)("div",Tg,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Fg,[(0,s._)("tr",jg,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Ig,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",Vg,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",Og,[(0,s._)("div",Hg,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Ng)])])]),(0,s._)("tr",null,[Yg,Zg,(0,s._)("td",Kg,[(0,s._)("div",Bg,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Qg,[(0,s._)("tr",null,[(0,s._)("td",Jg,[(0,s._)("div",Gg,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const tm=(0,s._)("td",null,null,-1),em={class:"tw-p-2"},rm={class:"tw-relative"},am=["value"],sm=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),lm=["value"],om=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),im={class:"tw-p-2"},wm={key:0,class:"tw-relative"},nm=["value"],dm=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),cm=["value"],um={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},pm=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),gm=[pm],mm={class:"tw-p-2"},hm=["value"],fm={class:"tw-p-2"},bm=["value"],vm={class:"tw-flex tw-justify-center"};function xm(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[tm,(0,s._)("td",null,[(0,s._)("div",em,[(0,s._)("div",rm,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[sm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,lm)))),128))],40,am),om])])]),(0,s._)("td",null,[(0,s._)("div",im,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",wm,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[dm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,cm)))),128))],40,nm)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",um,gm)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",mm,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,hm)])]),(0,s._)("td",null,[(0,s._)("div",fm,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,bm)])]),(0,s._)("td",null,[(0,s._)("div",vm,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var ym={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const _m=(0,m.Z)(ym,[["render",xm]]);var km=_m,Cm={components:{ItemRow:km},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Dm=(0,m.Z)(Cm,[["render",Xg]]);var Sm=Dm;const zm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Um={key:0,class:"tw-relative"},qm=["value","disabled"],Pm=(0,s._)("option",{value:""},"Choose a Delivery",-1),Lm=["value"],Wm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Am={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$m={key:2,class:"tw-relative"},Em={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Tm=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Fm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function jm(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[zm,l.fetched?((0,s.wg)(),(0,s.iD)("div",Um,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,wt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Pm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Lm)))),128))],42,qm),Wm])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Am,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$m,[(0,s._)("div",Em,[(0,s.Wm)(i)]),Tm,Fm]))])}var Im={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const Vm=(0,m.Z)(Im,[["render",jm]]);var Om=Vm,Hm={components:{OrderItems:Sm,OrderAffectation:Om},props:{visible:{required:!0}},data(){return{confirmations:jn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=Cg(this,this.itemCopy);if(!t)return!1;Ug(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const Mm=(0,m.Z)(Hm,[["render",kg]]);var Rm=Mm,Nm={components:{IndexTable:Qc,IndexFilters:qp,CreatePopup:Rm},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,user_id:"all",product_id:"all"}}},methods:{async paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ha.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()},provide(){return{refresh:this.paginateProducts,update:t=>{this.items=this.items.map((e=>e.id==t.id?t:e))}}}};const Ym=(0,m.Z)(Nm,[["render",Jn]]);var Zm=Ym;const Km={class:"py-5 !tw-pt-0 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Bm={class:"tw-px-3"},Qm=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},null,-1),Jm={key:0};function Gm(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Km,[(0,s._)("section",Bm,[Qm,(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Jm,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var Xm={components:{IndexTable:Qc,IndexFilters:qp,CreatePopup:Rm},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,user_id:"all",product_id:"all"}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,is_affiliate:!0};return this.fetching=!0,ha.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()},provide(){return{refresh:this.paginateProducts,update:t=>{this.items=this.items.map((e=>e.id==t.id?t:e))}}}};const th=(0,m.Z)(Xm,[["render",Gm]]);var eh=th;const rh={key:0,class:"tw-p-2 tw-flex tw-items-center tw-gap-2x tw-mb-2"};var ah={__name:"IndexProducts",setup(t){const e=(0,ke.iH)(null),r=(0,ke.iH)("affiliate-manager"==e.value?"affiliate":"normal");return(t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[["admin","affiliate-manager"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",rh,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value="normal"),class:(0,wt.C_)(["normal"==r.value?"!tw-border-orange-500":"tw-border-gray-200","tw-py-1 tw-px-4 tw-border-b-2 tw-border-solid tw-border-gray-200 hover:tw-border-orange-200"])},"Normal",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value="affiliate"),class:(0,wt.C_)(["affiliate"==r.value?"!tw-border-orange-500":"tw-border-gray-200","tw-py-1 tw-px-4 tw-border-b-2 tw-border-solid tw-border-gray-200 hover:tw-border-orange-200"])},"Affiliate",2)])):(0,s.kq)("",!0),(0,s._)("div",null,["normal"==r.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Zm),{key:0})):(0,s.kq)("",!0),"affiliate"==r.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(eh),{key:1})):(0,s.kq)("",!0)])],64))}};const sh=ah;var lh=sh,oh=r(240),ih=r(3104),wh=r(4842);const nh=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Expedition "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new expedition")],-1),dh={key:0},ch={key:1},uh={class:"mb-5"},ph=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),gh={class:"tw-w-full"},mh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),hh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},fh={class:"tw-w-full"},bh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Reference ",-1),vh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xh={class:"tw-w-full"},yh={class:"mb-1 text-body-2 tw-text-zinc-700"},_h={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kh={class:"mb-1 text-body-2 tw-text-zinc-700"},Ch={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Dh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),Sh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zh={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},Uh=(0,s._)("span",null,"Add Variants: ",-1),qh={key:0,class:"tw-h-fit tw-mb-"},Ph=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Lh={class:"tw-relative"},Wh=(0,s._)("option",{value:0},"Select",-1),Ah=["value"],$h={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Eh={key:1},Th={class:"md:tw-col-span-3 tw-col-span-12"},Fh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),jh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ih={class:"md:tw-col-span-3 tw-col-span-12"},Vh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Oh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Hh={key:2},Mh={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Rh={class:"md:tw-col-span-3 tw-col-span-12"},Nh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Yh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zh={class:"md:tw-col-span-3 tw-col-span-12"},Kh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Bh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Qh={class:"md:tw-col-span-3 tw-col-span-12"},Jh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Quantity ",-1),Gh=(0,s._)("div",{class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},null,-1),Xh={class:"md:tw-col-span-3 tw-col-span-12"},tf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),ef={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rf={class:"tw-col-span-12 tw-flex tw-justify-end"},af=["disabled"],sf=(0,s._)("span",{class:"tw-text-white"},"Add",-1),lf={class:""},of={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},wf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Variants ",-1),nf={class:"mb-1 text-body-2 tw-text-zinc-700"},df={key:1,class:"tw-max-w-full tw-overflow-x-auto"},cf={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},uf={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},pf={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},gf={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},mf={class:"tw-px-6 tw-py-2"},hf={class:"tw-px-6 tw-py-2"},ff={class:"tw-px-6 tw-py-2"},bf={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},vf=(0,s._)("h1",{class:"tw-font-medium"},"Image",-1),xf={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},yf={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},_f={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},kf={class:"tw-w-max tw-relative"},Cf=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),Df={class:"md:tw-col-span-6 tw-col-span-12"},Sf={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},zf=(0,s._)("span",null,"No image available",-1),Uf=[zf],qf={class:"mb-5"},Pf=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),Lf={class:"tw-w-full"},Wf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Af={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$f={class:"tw-w-full"},Ef=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Tf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ff={class:"tw-w-full"},jf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),If={class:"tw-relative"},Vf=["error"],Of=(0,s._)("option",{value:"",disabled:""},"Select",-1),Hf=(0,s._)("option",{value:"Sea"},"Sea",-1),Mf=(0,s._)("option",{value:"Air"},"Air",-1),Rf=[Of,Hf,Mf],Nf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Yf={class:"tw-w-full"},Zf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),Kf={class:"tw-relative"},Bf=["error"],Qf=(0,s._)("option",{value:""},"Select",-1),Jf=(0,s._)("option",{value:"China"},"China",-1),Gf=(0,s._)("option",{value:"Dubai"},"Dubai",-1),Xf=(0,s._)("option",{value:"Turky"},"Turky",-1),tb=[Qf,Jf,Gf,Xf],eb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rb={class:"tw-w-full"},ab=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),sb={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},lb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ob={class:"mb-5"},ib=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),wb={key:0,class:"mb-5"},nb=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),db=(0,s._)("h1",{class:"tw-font-medium"},"Deliveries",-1),cb={class:"tw-mt-2"},ub={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},pb=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),gb=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function mb(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("VariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[nh,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dh,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ch,[(0,s._)("div",null,[(0,s._)("div",uh,[ph,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",gh,[mh,(0,s.Wm)(ut.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",hh,(0,wt.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",fh,[bh,(0,s.Wm)(ut.hw,{error:!o.formStatus.reference.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("reference")),"hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",vh,(0,wt.zw)(o.formStatus.reference.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xh,[(0,s._)("div",yh," Buying Price ("+(0,wt.zw)(o.currency)+") ",1),(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",_h,(0,wt.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",kh," Selling Price ("+(0,wt.zw)(o.currency)+") ",1),(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Ch,(0,wt.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Dh,(0,s.Wm)(wh.z,{error:!o.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",Sh,(0,wt.zw)(o.formStatus.description.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",zh,[Uh,(0,s.Wm)(ih.G,{modelValue:o.addVariants,"onUpdate:modelValue":e[10]||(e[10]=t=>o.addVariants=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6",class:"tw-border-l tw-border-r-neutral-700 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",qh,[Ph,(0,s._)("div",Lh,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.warehouse=t),onChange:e[12]||(e[12]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Wh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,Ah)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",$h,(0,wt.zw)(o.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),o.addVariants?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Eh,[(0,s._)("div",Th,[Fh,(0,s.Wm)(ut.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[13]||(e[13]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[14]||(e[14]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",jh,(0,wt.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",Ih,[Vh,(0,s.Wm)(ut.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[15]||(e[15]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[16]||(e[16]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Oh,(0,wt.zw)(o.formStatus.stockAlert.message),1)])])),o.addVariants?((0,s.wg)(),(0,s.iD)("div",Hh,[(0,s._)("div",Mh,[(0,s._)("div",Rh,[Nh,(0,s.Wm)(ut.hw,{error:!o.formStatus.size.valid,onKeyup:e[17]||(e[17]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[18]||(e[18]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Yh,(0,wt.zw)(o.formStatus.size.message),1)]),(0,s._)("div",Zh,[Kh,(0,s.Wm)(ut.hw,{error:!o.formStatus.color.valid,onKeyup:e[19]||(e[19]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[20]||(e[20]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Bh,(0,wt.zw)(o.formStatus.color.message),1)]),(0,s._)("div",Qh,[Jh,(0,s.Wm)(ut.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid&&!1,onKeyup:e[21]||(e[21]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[22]||(e[22]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),Gh]),(0,s._)("div",Xh,[tf,(0,s.Wm)(ut.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[24]||(e[24]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ef,(0,wt.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",rf,[(0,s._)("button",{disabled:!o.quantity,class:(0,wt.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[25]||(e[25]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),sf],10,af)])]),(0,s._)("div",lf,[(0,s._)("div",of,[wf,(0,s._)("div",nf," Quantity Total: "+(0,wt.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,wt.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",df,[(0,s._)("table",cf,[(0,s._)("thead",uf,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","stockAlert","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",pf,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",gf,(0,wt.zw)(t.size),1),(0,s._)("td",mf,(0,wt.zw)(t.color),1),(0,s._)("td",hf,(0,wt.zw)(t.quantity),1),(0,s._)("td",ff,(0,wt.zw)(t.stockAlert),1),(0,s._)("td",bf,[(0,s._)("div",null,[(0,s.Wm)(n,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[vf,(0,s._)("div",xf,[(0,s._)("div",yf,[(0,s._)("label",_f,[(0,s._)("div",kf,[(0,s.Wm)(ct.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),Cf]),(0,s._)("input",{onChange:e[26]||(e[26]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",Df,[(0,s._)("div",Sf,[(0,s._)("img",{class:(0,wt.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",id:"image-preview",alt:"Image Preview"},null,2),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},Uf,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",qf,[Pf,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Lf,[Wf,(0,s.Wm)(ut.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[27]||(e[27]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[28]||(e[28]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Af,(0,wt.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$f,[Ef,(0,s.Wm)(ut.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[29]||(e[29]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[30]||(e[30]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Tf,(0,wt.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ff,[jf,(0,s._)("div",If,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.transport_mode.valid,onKeyup:e[31]||(e[31]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[32]||(e[32]=t=>o.product.transport_mode=t)},Rf,40,Vf),[[a.bM,o.product.transport_mode]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Nf,(0,wt.zw)(o.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Yf,[Zf,(0,s._)("div",Kf,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.country_of_purchase.valid,onKeyup:e[33]||(e[33]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[34]||(e[34]=t=>o.product.country_of_purchase=t)},tb,40,Bf),[[a.bM,o.product.country_of_purchase]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",eb,(0,wt.zw)(o.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",rb,[ab,(0,s._)("div",sb,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[35]||(e[35]=t=>o.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,o.product.expedition_date]])]),(0,s._)("div",lb,(0,wt.zw)(o.formStatus.expedition_date.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",ob,[ib,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[36]||(e[36]=t=>o.offers=t)},null,8,["offers"])])])),_:1})])),_:1})]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",wb,[nb,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[db,(0,s._)("div",cb,[(0,s.Wm)(oh.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[37]||(e[37]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",ub,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[pb])),_:1}),(0,s.Wm)(nt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[gb])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}function hb(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("UpdateProductVariant"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(nt.T,{onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(n,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"])])}const fb={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},bb={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},vb={class:"tw-col-span-12"},xb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),yb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},_b={class:"tw-col-span-12"},kb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Cb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Db={class:"tw-col-span-12"},Sb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),zb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ub={class:"tw-col-span-12"},qb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),Pb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lb={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end"},Wb=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),Ab=[Wb],$b=["disabled"],Eb=(0,s._)("span",{class:"tw-text-white"},"Save",-1),Tb=[Eb];function Fb(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",fb,[(0,s._)("div",bb,[(0,s._)("div",vb,[xb,(0,s.Wm)(ut.hw,{error:!l.formStatus.size.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[1]||(e[1]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",yb,(0,wt.zw)(l.formStatus.size.message),1)]),(0,s._)("div",_b,[kb,(0,s.Wm)(ut.hw,{error:!l.formStatus.color.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[3]||(e[3]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Cb,(0,wt.zw)(l.formStatus.color.message),1)]),(0,s._)("div",Db,[Sb,(0,s.Wm)(ut.hw,{onChange:o.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[5]||(e[5]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",zb,(0,wt.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",Ub,[qb,(0,s.Wm)(ut.hw,{onChange:o.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[6]||(e[6]=t=>o.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[7]||(e[7]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Pb,(0,wt.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Lb,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},Ab),(0,s._)("button",{disabled:!l.quantity,class:(0,wt.C_)([{"tw-bg-orange-500":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[9]||(e[9]=(...t)=>o.updateVariant&&o.updateVariant(...t))},Tb,10,$b)])])])}var jb={props:["variant"],data(){return{size:"",color:"",quantity:0,stockAlert:0,newVariant:null,formStatus:{quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""}}}},methods:{updateVariant(){console.log("updated");const t=this.quantity-this.newVariant.quantity;this.newVariant.size=this.size?this.size.toLocaleUpperCase():"",this.newVariant.color=this.color?this.color.toLocaleUpperCase():"",this.newVariant.quantity=this.quantity,this.newVariant.stockAlert=this.stockAlert,this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(t),this.cancel()},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},cancel(){this.$emit("cancel")},resetError(t){this.formStatus[t]={valid:!0,message:""}}},mounted(){this.size=this.variant.size,this.color=this.variant.color,this.quantity=this.variant.quantity,this.stockAlert=this.variant.stockAlert,this.newVariant=this.variant}};const Ib=(0,m.Z)(jb,[["render",Fb]]);var Vb=Ib,Ob={components:{UpdateProductVariant:Vb},props:["variant"],data(){return{visible:!1,deletePopup:!1}},methods:{cancel(){this.visible=!1},update(t){console.log("from actions: ",t)},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}}};const Hb=(0,m.Z)(Ob,[["render",hb]]);var Mb=Hb;class Rb{async create(t){return await E.getCookie(),A.post("api/warehouses/new",{name:t.name})}async update(t,e){return await E.getCookie(),A.post("api/warehouses/update/"+t,{name:e.name})}async all(){return await E.getCookie(),A.get("api/warehouses")}async getWarehouse(t){return await E.getCookie(),A.get("api/warehouses/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/warehouses/delete/"+t)}}var Nb=new Rb;const Yb=(0,s._)("h1",{class:"tw-font-medium"},"Offers",-1),Zb={class:"tw-grid tw-grid-cols-12 tw-mb-5 tw-mt-3 tw-gap-3"},Kb={class:"md:tw-col-span-3 tw-col-span-12"},Bb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Qb={class:"md:tw-col-span-3 tw-col-span-12"},Jb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),Gb={class:"md:tw-col-span-5 tw-col-span-12"},Xb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),tv={class:"md:tw-col-span-1 tw-col-span-12"},ev=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-transparent"},"Note",-1),rv={class:"tw-mt-2"},av={class:"tw-relative tw-overflow-x-auto tw-shadow sm:tw-rounded"},sv={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},lv=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-24"},"Action")])],-1),ov={class:"tw-px-6 tw-py-4"},iv={class:"tw-px-6 tw-py-4"},wv={class:"tw-px-6 tw-py-4"},nv={class:"tw-max-w-[250px] tw-text-sm"},dv={class:"tw-px-6 tw-py-4"},cv={key:0},uv=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),pv=[uv];function gv(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[Yb,(0,s._)("div",Zb,[(0,s._)("div",Kb,[Bb,(0,s.Wm)(ut.hw,{type:"number","hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[0]||(e[0]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Qb,[Jb,(0,s.Wm)(ut.hw,{type:"number","hide-details":!0,modelValue:l.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Gb,[Xb,(0,s.Wm)(ut.hw,{type:"text","hide-details":!0,modelValue:l.note,"onUpdate:modelValue":e[2]||(e[2]=t=>l.note=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",tv,[ev,(0,s.Wm)(nt.T,{onClick:o.handleAdd,class:"mx-auto !tw-px-0 !tw-py-0","min-height":"40px","min-width":"40",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])]),(0,s._)("div",rv,[(0,s._)("div",av,[(0,s._)("table",sv,[lv,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",ov,(0,wt.zw)(t.quantity),1),(0,s._)("td",iv,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",wv,[(0,s._)("p",nv,(0,wt.zw)(t.note),1)]),(0,s._)("td",dv,[(0,s.Wm)(nt.T,{onClick:e=>o.handleDeleteClicked(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==r.offers.length?((0,s.wg)(),(0,s.iD)("tr",cv,pv)):(0,s.kq)("",!0)])])])]),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this offer?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"])])}var mv={props:["offers"],data(){return{currency:c,deletePopup:!1,toDeleteID:null,quantity:1,price:0,note:""}},methods:{handleDeleteClicked(t){this.toDeleteID=t,this.deletePopup=!0},handleDelete(t){if(this.deletePopup=!1,!t)return!1;this.$emit("update:offers",this.offers.filter((t=>t.id!=this.toDeleteID)))},handleAdd(){const t=this.offers.length>0?this.offers[this.offers.length-1].id:0,e=t+1,r={id:e,quantity:this.quantity,price:this.price,note:this.note};this.$emit("update:offers",[...this.offers,r]),this.quantity=1,this.price=0,this.note=""}}};const hv=(0,m.Z)(mv,[["render",gv]]);var fv=hv,bv={components:{VariantActions:Mb,ProductOffers:fv},data(){return{currency:c,isLoading:!1,isLoaded:!1,addVariants:!1,variantId:1,variants:[],image:"",imageFile:null,color:"",size:"",quantity:0,warehouse:0,stockAlert:0,offers:[],product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},reference:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},warehouse:{valid:!0,message:""},variants:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;if(t.addVariants=this.addVariants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t}))),this.addVariants)t.variants=this.variants;else{const e=[{id:this.variantId,color:null,size:null,quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert}];t.variants=e}ha.create(t).then((t=>{"PRODUCT_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.product={name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},this.offers=[],this.selectedDeliveries=[],this.variants=[],this.$store.dispatch("product/addProduct",t.data.data.product)),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.product.name,"Product name"),this.formStatus.reference=$t(this.product.reference,"Reference"),this.formStatus.buyingPrice=$t(this.product.buyingPrice,"Buying price"),this.formStatus.link_store=$t(this.product.link_store,"Link store"),this.formStatus.link_video=$t(this.product.link_video,"Link video"),this.formStatus.transport_mode=$t(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=$t(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=$t(this.product.country_of_purchase,"Country of purchase"),this.formStatus.quantity=$t(this.quantity,"Quantity"),this.formStatus.sellingPrice=$t(this.product.sellingPrice,"Selling price"),this.formStatus.description=$t(this.product.description,"Description"),this.formStatus.variants=Ft(this.variants),this.addVariants||"admin"!=this.user.role||(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"}),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.reference.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&(!this.addVariants||this.formStatus.variants.valid)&&(!!this.addVariants||this.formStatus.quantity.valid)&&(!!this.addVariants||this.formStatus.warehouse.valid)},addVariant(){if("admin"==this.user.role&&(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"},!this.formStatus.warehouse.valid))return!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.stockAlert=0,this.color="",this.size="",this.quantity=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return this.isLoaded=!1,Nb.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getWarhouses();const t=this.deliveries[1];t&&(this.selectedDeliveries=[t.id])}};const vv=(0,m.Z)(bv,[["render",mb]]);var xv=vv;const yv=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update product informations")],-1),_v={key:0},kv={key:1},Cv={key:0,class:"tw-flex py-3 px-5 tw-border tw-justify-between bg-white tw-w-full tw-rounded-md tw-text-neutral-800 tw-items-center tw-mb-5"},Dv={class:"tw-flex tw-items-center"},Sv={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},zv={class:"tw-w-full tw-flex tw-items-center"},Uv=(0,s._)("div",{class:"text-body-2 tw-text-zinc-700"},"Status Approval :",-1),qv={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Pv=["disabled"],Lv=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Wv={class:"mb-5 px-3"},Av=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),$v={class:"tw-w-full"},Ev=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),Tv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Fv={class:"tw-w-full"},jv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),Iv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vv={class:"tw-w-full"},Ov={class:"mb-1 text-body-2 tw-text-zinc-700"},Hv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Mv={class:"mb-1 text-body-2 tw-text-zinc-700"},Rv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Nv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),Yv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zv={key:0,class:"tw-h-fit tw-mb-"},Kv=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Bv={class:"tw-relative"},Qv=(0,s._)("option",{value:0},"Select",-1),Jv=["value"],Gv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xv={key:0,class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},tx={class:"md:tw-col-span-3 tw-col-span-12"},ex=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),rx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ax={class:"md:tw-col-span-3 tw-col-span-12"},sx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),lx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ox={class:"md:tw-col-span-3 tw-col-span-12"},ix=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),wx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},nx={class:"md:tw-col-span-3 tw-col-span-12"},dx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),cx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ux={key:1},px={class:"tw-col-span-12 tw-flex tw-justify-end"},gx=["disabled"],mx=(0,s._)("span",{class:"tw-text-white"},"Add",-1),hx={class:""},fx={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},bx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),vx={class:"mb-1 text-body-2 tw-text-zinc-700"},xx={key:1,class:"tw-max-w-full tw-overflow-x-auto"},yx={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},_x={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},kx={key:0,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},Cx=(0,s._)("div",{class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"}," warehouse ",-1),Dx=[Cx],Sx={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},zx={key:0,class:"tw-px-6 tw-py-2 tw-capitalize"},Ux={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},qx={class:"tw-px-6 tw-py-2"},Px={class:"tw-px-6 tw-py-2"},Lx={class:"tw-flex tw-flex-col"},Wx={key:0,class:"tw-text-xs tw-text-green-500"},Ax={class:"tw-px-6 tw-py-2"},$x={key:1,class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},Ex=(0,s._)("h1",null,"Image",-1),Tx={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},Fx={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},jx={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},Ix={class:"tw-w-max tw-relative"},Vx=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),Ox={class:"md:tw-col-span-6 tw-col-span-12"},Hx={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},Mx=["src"],Rx=(0,s._)("span",null,"No image available",-1),Nx=[Rx],Yx={class:"mb-5"},Zx=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),Kx={class:"tw-w-full"},Bx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Qx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jx={class:"tw-w-full"},Gx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Xx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ty={class:"tw-w-full"},ey=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),ry={class:"tw-relative"},ay=["error"],sy=(0,s._)("option",{value:""},"Select",-1),ly=(0,s._)("option",{value:"Sea"},"Sea",-1),oy=(0,s._)("option",{value:"Air"},"Air",-1),iy=[sy,ly,oy],wy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ny={class:"tw-w-full"},dy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),cy={class:"tw-relative"},uy=["error"],py=(0,s._)("option",{value:""},"Select",-1),gy=(0,s._)("option",{value:"China"},"China",-1),my=(0,s._)("option",{value:"Dubai"},"Dubai",-1),hy=(0,s._)("option",{value:"Turky"},"Turky",-1),fy=[py,gy,my,hy],by={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},vy={class:"tw-w-full"},xy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),yy={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},_y={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ky={class:"mb-5"},Cy=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),Dy={class:"mb-5"},Sy=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),zy=(0,s._)("h1",null,"Deliveries",-1),Uy={class:"tw-mt-2"},qy={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Py=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Ly=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Wy(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UpdateVariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[yv,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_v,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",kv,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("div",Cv,[(0,s._)("div",Dv,[(0,s.Uk)(" Product ID: "),(0,s._)("span",Sv,(0,wt.zw)(i.id),1)]),(0,s._)("div",null,[(0,s._)("div",zv,[Uv,(0,s._)("label",qv,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingStatus,"onUpdate:modelValue":e[0]||(e[0]=t=>o.status=t),onChange:e[1]||(e[1]=(...t)=>i.updateApprouved&&i.updateApprouved(...t)),type:"checkbox",class:"tw-sr-only tw-peer"},null,40,Pv),[[a.e8,o.status]]),Lv]),o.isLoadingStatus?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("div",Wv,[Av,(0,s.Wm)(Ea.o,{class:"py-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$v,[Ev,(0,s.Wm)(ut.hw,{error:!o.formStatus.name.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Tv,(0,wt.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Fv,[jv,(0,s.Wm)(ut.hw,{error:!o.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("quantity")),disabled:"","hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Iv,(0,wt.zw)(o.formStatus.quantity.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Vv,[(0,s._)("div",Ov," Buying Price ("+(0,wt.zw)(o.currency)+") ",1),(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Hv,(0,wt.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Mv," Selling Price ("+(0,wt.zw)(o.currency)+") ",1),(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Rv,(0,wt.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Nv,(0,s.Wm)(wh.z,{error:!o.formStatus.description.valid,onKeyup:e[10]||(e[10]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[11]||(e[11]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",Yv,(0,wt.zw)(o.formStatus.description.message),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"12",class:"tw-border-t tw-border-t-neutral-300 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Zv,[Kv,(0,s._)("div",Bv,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.warehouse=t),onChange:e[13]||(e[13]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Qv,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,Jv)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Gv,(0,wt.zw)(o.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),(0,s._)("div",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Xv,[(0,s._)("div",tx,[ex,(0,s.Wm)(ut.hw,{error:!o.formStatus.size.valid,onKeyup:e[14]||(e[14]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[15]||(e[15]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rx,(0,wt.zw)(o.formStatus.size.message),1)]),(0,s._)("div",ax,[sx,(0,s.Wm)(ut.hw,{error:!o.formStatus.color.valid,onKeyup:e[16]||(e[16]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[17]||(e[17]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",lx,(0,wt.zw)(o.formStatus.color.message),1)]),(0,s._)("div",ox,[ix,(0,s.Wm)(ut.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[18]||(e[18]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[19]||(e[19]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",wx,(0,wt.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",nx,[dx,(0,s.Wm)(ut.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[20]||(e[20]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[21]||(e[21]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",cx,(0,wt.zw)(o.formStatus.stockAlert.message),1)])])):(0,s.kq)("",!0),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",ux,[(0,s._)("div",px,[(0,s._)("button",{disabled:!o.quantity,class:(0,wt.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[22]||(e[22]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),mx],10,gx)])])):(0,s.kq)("",!0),(0,s._)("div",hx,[(0,s._)("div",fx,[bx,(0,s._)("div",vx," Quantity Total: "+(0,wt.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,wt.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",xx,[(0,s._)("table",yx,[(0,s._)("thead",_x,[(0,s._)("tr",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("th",kx,Dx)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","Stock Alert","admin"==i.user.role?"actions":""],(t=>((0,s.wg)(),(0,s.iD)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Sx,(0,wt.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",zx,(0,wt.zw)(t.warehouse.name),1)):(0,s.kq)("",!0),(0,s._)("td",Ux,(0,wt.zw)(t.size),1),(0,s._)("td",qx,(0,wt.zw)(t.color),1),(0,s._)("td",Px,[(0,s._)("div",Lx,[(0,s._)("span",null,(0,wt.zw)(t.quantity),1),t.created_at?((0,s.wg)(),(0,s.iD)("span",Wx,(0,wt.zw)(t.available_quantity),1)):(0,s.kq)("",!0)])]),(0,s._)("td",Ax,(0,wt.zw)(t.stockAlert),1),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",$x,[(0,s._)("div",null,[(0,s.Wm)(n,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])):(0,s.kq)("",!0)])))),128))])])]))])])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Ex,(0,s._)("div",Tx,[(0,s._)("div",Fx,[(0,s._)("label",jx,[(0,s._)("div",Ix,[(0,s.Wm)(ct.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),Vx]),(0,s._)("input",{onChange:e[23]||(e[23]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",Ox,[(0,s._)("div",Hx,[(0,s._)("img",{class:(0,wt.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",src:o.serverUrl+"storage/"+o.image,id:"image-preview",alt:"Image Preview"},null,10,Mx),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},Nx,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",Yx,[Zx,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Kx,[Bx,(0,s.Wm)(ut.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[24]||(e[24]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[25]||(e[25]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Qx,(0,wt.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Jx,[Gx,(0,s.Wm)(ut.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[26]||(e[26]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[27]||(e[27]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Xx,(0,wt.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ty,[ey,(0,s._)("div",ry,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.transport_mode.valid,onKeyup:e[28]||(e[28]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[29]||(e[29]=t=>o.product.transport_mode=t)},iy,40,ay),[[a.bM,o.product.transport_mode]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",wy,(0,wt.zw)(o.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ny,[dy,(0,s._)("div",cy,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.country_of_purchase.valid,onKeyup:e[30]||(e[30]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[31]||(e[31]=t=>o.product.country_of_purchase=t)},fy,40,uy),[[a.bM,o.product.country_of_purchase]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",by,(0,wt.zw)(o.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vy,[xy,(0,s._)("div",yy,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[32]||(e[32]=t=>o.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,o.product.expedition_date]])]),(0,s._)("div",_y,(0,wt.zw)(o.formStatus.expedition_date.message),1)])])),_:1})])),_:1})]),(0,s._)("div",ky,[Cy,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[33]||(e[33]=t=>o.offers=t)},null,8,["offers"])])])),_:1})])),_:1})])]),(0,s._)("div",Dy,[Sy,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[zy,(0,s._)("div",Uy,[(0,s.Wm)(oh.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[34]||(e[34]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",qy,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Py])),_:1}),(0,s.Wm)(nt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Ly])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}const Ay={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},$y={class:"tw-w-full"},Ey=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Add quantity",-1),Ty={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end tw-mt-3"},Fy=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),jy=[Fy],Iy=["disabled"],Vy=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Oy=[Vy];function Hy(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("UpdateProductVariant"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[r.variant.created_at?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.visibleAdd=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1})):(0,s.kq)("",!0),void 0===r.variant.on_hold||r.variant.available_quantity==r.variant.quantity?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(n,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"]),(0,s.Wm)(n,{visible:l.visibleAdd,onCancel:o.cancelAdd},{default:(0,s.w5)((()=>[(0,s._)("div",Ay,[(0,s._)("div",$y,[Ey,(0,s.Wm)(ut.hw,{"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>l.quantity=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Ty,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.cancelAdd&&o.cancelAdd(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},jy),(0,s._)("button",{disabled:!l.quantity||0==l.quantity,class:(0,wt.C_)([{"!tw-bg-green-500":0!=l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[5]||(e[5]=(...t)=>o.addQuantity&&o.addQuantity(...t))},Oy,10,Iy)])])])),_:1},8,["visible","onCancel"])])}var My={components:{UpdateProductVariant:Vb},props:["variant"],data(){return{visible:!1,visibleAdd:!1,deletePopup:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1},cancelAdd(){this.visibleAdd=!1},update(t){console.log("from actions: ",t)},addQuantity(){this.newVariant.quantity=parseInt(this.newVariant.quantity)+parseInt(this.quantity),this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(this.quantity),this.quantity=1,this.cancelAdd()},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}},mounted(){this.newVariant=this.variant}};const Ry=(0,m.Z)(My,[["render",Hy]]);var Ny=Ry,Yy={components:{UpdateVariantActions:Ny,ProductOffers:fv},data(){return{currency:c,serverUrl:n,isLoading:!1,isLoaded:!1,variantId:1,variants:[],color:"",size:"",quantity:0,stockAlert:0,image:"",imageFile:null,offers:[],isLoadingStatus:!1,status:!1,note:null,warehouse:0,product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},variants:{valid:!0,message:""},warehouse:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},id(){return this.$route.params.id},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;t.variants=this.variants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t,product_id:this.id}))),ha.update(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message}),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},updateApprouved(){this.isLoadingStatus=!0;const t={status:!!this.status,note:this.note};ha.updateStatus(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("product/setProduct",t.data.data.product),this.$emit("cancel")),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingStatus=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},getLastVariantId(t){return Math.max(...t.map((t=>t.id)))+1},validate(){return this.formStatus.name=$t(this.product.name,"Product name"),this.formStatus.buyingPrice=$t(this.product.buyingPrice,"Buying price"),this.formStatus.sellingPrice=$t(this.product.sellingPrice,"Selling price"),this.formStatus.link_store=$t(this.product.link_store,"Link store"),this.formStatus.link_video=$t(this.product.link_video,"Link video"),this.formStatus.transport_mode=$t(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=$t(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=$t(this.product.country_of_purchase,"Country of purchase"),this.formStatus.description=$t(this.product.description,"Description"),this.formStatus.variants=Ft(this.variants),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.sellingPrice&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.description.valid&&this.formStatus.variants.valid},addVariant(){if(0==this.warehouse)return this.$alert({type:"warning",title:"Select warehouse"}),!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,warehouse:this.warehouses.find((t=>t.id==this.warehouse)),stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.color="",this.size="",this.quantity=0,this.stockAlert=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.quantity<=0&&(this.quantity=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return Nb.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),t)),this.$handleApiError)},getProduct(){return ha.getProduct(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{variations:e,buying_price:r,selling_price:a,ref:s,link_video:l,link_store:o,expedition_date:i,transport_mode:w,country_of_purchase:n,name:d,description:c,deliveries:u,image:p,offers:g,status:m}=t.data.data.products;return this.variants=e,this.product.buyingPrice=r,this.product.sellingPrice=a,this.product.name=d,this.product.reference=s,this.product.link_video=l,this.product.link_store=o,this.product.expedition_date=i?i.split(" ")[0]:null,this.product.transport_mode=w,this.product.country_of_purchase=n,this.product.description=c,this.image=p,this.offers=g,this.status=Boolean(m),this.variantId=this.getLastVariantId(e),this.selectedDeliveries=u.map((t=>t.delivery_id)),this.isLoaded=!0,t}}),this.$handleApiError)},getData(){this.isLoaded=!1,Promise.allSettled([this.getWarhouses(),this.getProduct()]).then((t=>{t.every((t=>"fulfilled"==t.status))&&(this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getData()}};const Zy=(0,m.Z)(Yy,[["render",Wy]]);var Ky=Zy;const By={class:"tw-pb-14"},Qy=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Show product informations")],-1),Jy={key:0},Gy={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Xy={class:"tw-grid tw-grid-cols-12 tw-gap-2"},t_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},e_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Name:",-1),r_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},a_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},s_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Reference:",-1),l_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},o_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},i_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Buying Price:",-1),w_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},n_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},d_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Selling Price:",-1),c_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},u_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},p_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Delivered:",-1),g_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},m_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},h_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Sent:",-1),f_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},b_={class:"tw-col-span-12 md:tw-col-span-12 tw-flex tw-gap-2 tw-flex-col tw-flex-wrap"},v_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Description:",-1),x_={class:"tw-text-neutral-800 tw-font-medium"},y_={key:2,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},__={key:3,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},k_={class:"tw-grid tw-grid-cols-12 tw-gap-2"},C_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},D_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Store Link:",-1),S_=["href"],z_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},U_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Video Link:",-1),q_=["href"],P_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},L_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Expidition Date:",-1),W_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},A_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},$_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Transport Mode:",-1),E_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},T_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},F_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Country Of Purchase:",-1),j_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},I_={key:4,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},V_={key:5,class:"tw-border bg-white tw-w-full tw-rounded-md"},O_={key:6,class:"tw-text-neutral-700 tw-font-bold tw-mt-5 tw-mb-1"},H_={key:7,class:"tw-overflow-hidden tw-border bg-white tw-w-full tw-rounded-md"},M_={class:"tw-max-w-full tw-overflow-auto"},R_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},N_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Y_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Z_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},K_={key:0},B_={key:1},Q_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},J_={class:"tw-px-6 tw-py-2"},G_={class:"tw-px-6 tw-py-2"},X_={class:"tw-flex tw-flex-col"},tk={class:"tw-px-6 tw-py-2"},ek={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},rk=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),ak=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),sk=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1),lk={class:"tw-px-6 tw-py-2"},ok={class:"tw-flex tw-flex-col tw-font-medium"},ik=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1);function wk(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ProductTracking");return(0,s.wg)(),(0,s.iD)("div",By,[Qy,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Jy,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Gy,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",Xy,[(0,s._)("div",t_,[e_,(0,s._)("p",r_,(0,wt.zw)(l.product.name),1)]),(0,s._)("div",a_,[s_,(0,s._)("p",l_,(0,wt.zw)(l.product.ref),1)]),(0,s._)("div",o_,[i_,(0,s._)("p",w_,(0,wt.zw)(l.product.buying_price)+" "+(0,wt.zw)(l.currency),1)]),(0,s._)("div",n_,[d_,(0,s._)("p",c_,(0,wt.zw)(l.product.selling_price)+" "+(0,wt.zw)(l.currency),1)]),(0,s._)("div",u_,[p_,(0,s._)("p",g_,(0,wt.zw)(o.qtyTotalDelivered),1)]),(0,s._)("div",m_,[h_,(0,s._)("p",f_,(0,wt.zw)(o.qtyTotalSent),1)]),(0,s._)("div",b_,[v_,(0,s._)("p",x_,(0,wt.zw)(l.product.description),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",y_,"Expidition Infos")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",__,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",k_,[(0,s._)("div",C_,[D_,(0,s._)("a",{target:"_blank",href:l.product.link_store,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,wt.zw)(l.product.link_store),9,S_)]),(0,s._)("div",z_,[U_,(0,s._)("a",{target:"_blank",href:l.product.link_video,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,wt.zw)(l.product.link_video),9,q_)]),(0,s._)("div",P_,[L_,(0,s._)("p",W_,(0,wt.zw)(l.product.expedition_date.split(" ")[0]),1)]),(0,s._)("div",A_,[$_,(0,s._)("p",E_,(0,wt.zw)(l.product.transport_mode),1)]),(0,s._)("div",T_,[F_,(0,s._)("p",j_,(0,wt.zw)(l.product.country_of_purchase),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",I_,"Tracking")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",V_,[(0,s.Wm)(w,{product:l.product},null,8,["product"])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",O_,"Variations")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",H_,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",M_,[(0,s._)("table",R_,[(0,s._)("thead",N_,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","size","color","qty","Stock Alert"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Y_,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",Z_,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",K_,(0,wt.zw)(t.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",B_,(0,wt.zw)(e+1),1)):(0,s.kq)("",!0)]),(0,s._)("th",Q_,(0,wt.zw)(t.size),1),(0,s._)("td",J_,(0,wt.zw)(t.color),1),(0,s._)("td",G_,[(0,s._)("div",X_,[(0,s._)("span",null,"Initial: "+(0,wt.zw)(t.quantity),1)])]),(0,s._)("td",tk,(0,wt.zw)(t.stockAlert),1)])))),128)),(0,s._)("tr",ek,[rk,ak,sk,(0,s._)("td",lk,[(0,s._)("div",ok,[(0,s._)("span",null,"Total: "+(0,wt.zw)(o.qtyTotal),1)])]),ik])])])])])])])):(0,s.kq)("",!0)])}const nk={class:"tw-flex tw-items-ce tw-gap-1 tw-border-b tw-border-solid tw-border-neutral-200"},dk=["onClick"];function ck(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingTable");return(0,s.wg)(),(0,s.j4)(Ss._,{flat:"",class:"tw-p-1"},{default:(0,s.w5)((()=>[(0,s._)("div",nk,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,onClick:e=>l.tab=t.id,class:(0,wt.C_)(["tw-px-4 tw-py-2 tw-rounded-t hover:tw-border-orange-500/50 tw-duration-300 tw-border tw-border-solid tw-border-neutral-200 tw-text-neutral-500 tw-border-b-0",{"tw-bg-orange-500 !tw-text-white tw-border-transparent":t.id==l.tab}])},(0,wt.zw)(t.name),11,dk)))),128))]),(0,s.kq)("",!0),(0,s.Wm)(qs.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Ps.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{product:r.product,source:t.source},null,8,["product","source"])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const uk={class:"tw-mt-5"},pk={class:"tw-max-w-full tw-overflow-auto"},gk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},mk={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},hk={key:0},fk={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},bk={key:1},vk={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"};function xk(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingRow");return(0,s.wg)(),(0,s.iD)("div",uk,[(0,s._)("div",pk,[(0,s._)("table",gk,[(0,s._)("thead",mk,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",hk,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","name","quantity","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",fk,(0,wt.zw)(t),1)],2))),64))])):(0,s.kq)("",!0),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",bk,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","quantity","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",vk,(0,wt.zw)(t),1)],2))),64))])):(0,s.kq)("",!0)]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{item:t,index:e+1,key:t.id,source:r.source},null,8,["item","index","source"])))),128))])])])])}const yk={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},_k={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},kk={class:"tw-flex tw-items-start tw-h-full"},Ck={key:0},Dk={key:1},Sk={key:0,scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},zk={class:"tw-px-6 tw-py-2"},Uk={key:0},qk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Pk={key:0,class:"tw-h-fit tw-py-2"},Lk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Wk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Ak=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),$k={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Ek=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Tk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Fk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),jk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Ik={key:1},Vk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Ok={key:0,class:"tw-h-fit tw-py-2"},Hk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Mk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Rk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),Nk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Yk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Zk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Kk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Bk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Qk={class:"tw-px-6 tw-py-2 tw-space-x-3"};function Jk(t,e,r,a,l,o){const i=(0,s.up)("ShowProductVariantActions");return(0,s.wg)(),(0,s.iD)("tr",yk,[(0,s._)("th",_k,[(0,s._)("div",kk,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",Ck,(0,wt.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",Dk,(0,wt.zw)(r.index),1)):(0,s.kq)("",!0)])]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("th",Sk,(0,wt.zw)(r.item.name),1)):(0,s.kq)("",!0),(0,s._)("td",zk,["warehouses"==r.source?((0,s.wg)(),(0,s.iD)("div",Uk,[(0,s._)("div",qk,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,wt.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Vt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",Pk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Lk,(0,s._)("td",Wk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[Ak,(0,s._)("td",$k,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[Ek,(0,s._)("td",Tk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Fk,(0,s._)("td",jk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0),"deliveries"==r.source?((0,s.wg)(),(0,s.iD)("div",Ik,[(0,s._)("div",Vk,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,wt.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Vt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",Ok,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Hk,(0,s._)("td",Mk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[Rk,(0,s._)("td",Nk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[Yk,(0,s._)("td",Zk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Kk,(0,s._)("td",Bk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("td",Qk,[(0,s._)("div",null,[(0,s.Wm)(i,{type:r.source,source:r.item},null,8,["type","source"])])])])}function Gk(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetails");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue-lighten-2",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})])),_:1}),(0,s.Wm)(i,{visible:l.visible,onCancel:o.cancel,type:r.type,source:r.source},null,8,["visible","onCancel","type","source"])])}const Xk={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},tC={class:"tw-p-5"},eC={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},rC=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},"SIZE"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"},"COLOR"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1);function aC(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetailsRow"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Xk,[(0,s.Wm)(nt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",tC,[(0,s._)("table",eC,[rC,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.source.product_variations,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{index:e,key:t.id,item:t,type:r.type},null,8,["index","item","type"])))),128))])]),(0,s.kq)("",!0)])])])),_:1},8,["visible","onCancel"])])}const sC={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},lC={class:"tw-w-4 tw-px-2 tw-py-1"},oC={key:0},iC={key:1},wC={class:"tw-w-4 tw-px-2 tw-py-1"},nC={class:"tw-w-4 tw-px-2 tw-py-1"},dC={class:"tw-w-4 tw-px-2 tw-py-1"},cC={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},uC={key:0,class:"tw-h-fit tw-py-2"},pC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),gC={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},mC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),hC={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},fC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),bC={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},vC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),xC={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"};function yC(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",sC,[(0,s._)("td",lC,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",oC,(0,wt.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",iC,(0,wt.zw)(r.index+1),1)):(0,s.kq)("",!0)]),(0,s._)("td",wC,(0,wt.zw)(r.item.size),1),(0,s._)("td",nC,(0,wt.zw)(r.item.color),1),(0,s._)("td",dC,[(0,s._)("div",null,[(0,s._)("div",cC,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null," Total: "+(0,wt.zw)(r.item.on_hand_quantity),1),(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Vt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",uC,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[pC,(0,s._)("td",gC,(0,wt.zw)(r.item.movements_total_confirmed_quantity),1)]),(0,s._)("tr",null,[mC,(0,s._)("td",hC,(0,wt.zw)(r.item.movements_total_not_confirmed_quantity),1)]),(0,s._)("tr",null,[fC,(0,s._)("td",bC,(0,wt.zw)(r.item.total_shipped_quantity),1)]),(0,s._)("tr",null,[vC,(0,s._)("td",xC,(0,wt.zw)(r.item.total_delivered_quantity),1)])])])])):(0,s.kq)("",!0)])),_:1})])])])}var _C={props:["type","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}}};const kC=(0,m.Z)(_C,[["render",yC]]);var CC=kC,DC={props:["visible","source","type"],components:{ProductVariantDetailsRow:CC},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const SC=(0,m.Z)(DC,[["render",aC]]);var zC=SC,UC={props:["product","source","type"],components:{ProductVariantDetails:zC},data(){return{visible:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1}},mounted(){console.log(this.source)}};const qC=(0,m.Z)(UC,[["render",Gk]]);var PC=qC,LC={components:{ShowProductVariantActions:PC},props:["source","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{get_total_quantity(t,e="on_hand_quantity"){let r=0;return t.forEach((t=>{r+=t[e]})),r}}};const WC=(0,m.Z)(LC,[["render",Jk]]);var AC=WC,$C={props:["product","source"],components:{ProductTrackingRow:AC},computed:{user(){return this.$store.getters["user/user"]},items(){return this.product.tracking[this.source]}},methods:{},mounted(){}};const EC=(0,m.Z)($C,[["render",xk]]);var TC=EC,FC={components:{ProductTrackingTable:TC},props:["product"],data(){return{tab:1,tabs:[{id:1,name:"Deliveries",source:"deliveries"},{id:2,name:"Warehouses",source:"warehouses"}]}}};const jC=(0,m.Z)(FC,[["render",ck]]);var IC=jC,VC={components:{ProductTracking:IC},data(){return{currency:c,isLoading:!1,isLoaded:!1,variantId:1,variants:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""}}},computed:{user(){return this.$store.getters["user/user"]},qtyTotalDelivered(){let t=0;return this.product.tracking.deliveries.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),t},qtyTotalSent(){let t=0;return this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.movements_total_confirmed_quantity,t+=e.movements_total_not_confirmed_quantity}))})),t},qtyTotal(){if(this.isLoaded){let t=0;return this.product.variations.forEach((e=>{t+=e.quantity})),t}return 0}},methods:{getProduct(){const t=this.$route.params.id;ha.getProduct(t).then((t=>{"SUCCESS"==t.data.code&&(this.product=t.data.data.products,this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getProduct()}};const OC=(0,m.Z)(VC,[["render",wk]]);var HC=OC;class MC{async paginate(t="",e){return await E.getCookie(),A.post("api/supply-requests"+t,e)}async create(t){return await E.getCookie(),A.post("api/supply-requests/new",t)}async update(t,e){return await E.getCookie(),A.post("api/supply-requests/"+t,e)}async delete(t){return await E.getCookie(),A["delete"]("api/supply-requests/"+t)}}var RC=new MC;const NC={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},YC=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),ZC={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},KC=["disabled"],BC=["disabled"];var QC={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=(0,ke.iH)(!1),l=t,o=(0,i.oR)(),w=async()=>{a.value=!0,await RC["delete"](l.item.id).then((t=>{"SUCCESS"==t.data.code&&(o.dispatch("supply-request/deleteSupplyRequest",l.item.id),Tc("Deleted Successfully"),n())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),Tc(e,"error"),n()})),a.value=!1},n=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:l.visible,onCancel:n,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",NC,[YC,(0,s._)("div",ZC,[(0,s._)("button",{onClick:n,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,KC),(0,s._)("button",{onClick:w,disabled:a.value,type:"button",class:(0,wt.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,wt.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,BC)])])])),_:1},8,["visible","closeable"])])}}};const JC=QC;var GC=JC;const XC=[{name:"Pending",value:"pending",style:"tw-text-yellow-600 tw-bg-yellow-100",text:"tw-text-yellow-600"},{name:"Accepted",value:"accepted",style:"tw-text-emerald-600 tw-bg-emerald-100",text:"tw-text-emerald-600"},{name:"Refused",value:"refused",style:"tw-text-red-600 tw-bg-red-100",text:"tw-text-red-600"}],tD={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},eD={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},rD=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),aD={class:"tw-p-5 tw-space-y-4"},sD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),lD={class:"tw-font-semibold tw-mt-1"},oD={class:"tw-flex tw-items-center"},iD={key:0,class:"tw-flex-1"},wD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),nD={class:"tw-font-semibold tw-mt-1"},dD={class:"tw-text-blue-500"},cD={class:"tw-text-green-500"},uD={class:"tw-flex-1"},pD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),gD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),mD={class:"tw-font-semibold tw-mt-1"},hD={key:0},fD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),bD={class:"tw-font-semibold tw-mt-1"};var vD={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=t,l=(0,ke.Vh)(a,"item"),o=(0,s.Fl)((()=>XC.find((t=>t.value==l.value.status)))),i=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:a.visible,onCancel:i},{default:(0,s.w5)((()=>[(0,s._)("div",tD,[(0,s._)("div",eD,[rD,(0,s._)("div",aD,[(0,s._)("div",null,[sD,(0,s._)("p",lD,(0,wt.zw)(l.value.product.name),1)]),(0,s._)("div",oD,[l.value.product_variation.color||l.value.product_variation.size?((0,s.wg)(),(0,s.iD)("div",iD,[wD,(0,s._)("p",nD,[(0,s._)("span",dD,(0,wt.zw)(l.value.product_variation.color),1),(0,s.Uk)(),(0,s._)("span",cD,(0,wt.zw)(l.value.product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",uD,[pD,(0,s._)("p",{class:(0,wt.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[o.value.style]])},(0,wt.zw)(o.value.name),3)])]),(0,s._)("div",null,[gD,(0,s._)("p",mD,(0,wt.zw)(l.value.note),1)]),l.value.admin_note?((0,s.wg)(),(0,s.iD)("div",hD,[fD,(0,s._)("p",bD,(0,wt.zw)(l.value.admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:i,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const xD=vD;var yD=xD;const _D={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var kD={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,ke.qj)({delete:!1,show:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",_D,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,ke.SU)(yD),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[1]||(a[1]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,ke.SU)(GC),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[3]||(a[3]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const CD=kD;var DD=CD;const SD={class:"tw-px-4 tw-py-2"},zD={class:"tw-px-4 tw-py-2 tw-truncate"},UD={class:"tw-max-w-[200px] tw-truncate"},qD={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},PD={class:"tw-text-blue-500"},LD={class:"tw-text-green-500"},WD={class:"tw-px-4 tw-py-2 tw-truncate"},AD={class:"tw-max-w-[200px] tw-truncate"},$D={class:"tw-px-4 tw-py-2 tw-truncate"},ED={class:"tw-px-4 tw-py-2"},TD={class:"tw-text-sm tw-whitespace-nowrap"};var FD={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,ke.Vh)(e,"item"),a=(0,s.Fl)((()=>XC.find((t=>t.value==r.value.status))));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",SD,(0,wt.zw)(r.value.id),1),(0,s._)("td",zD,[(0,s._)("p",UD,(0,wt.zw)(r.value.product.name),1)]),(0,s._)("td",qD,[(0,s._)("p",null,[(0,s._)("span",PD,(0,wt.zw)(r.value.product_variation.color),1),(0,s.Uk)(),(0,s._)("span",LD,(0,wt.zw)(r.value.product_variation.size),1)])]),(0,s._)("td",WD,[(0,s._)("p",AD,(0,wt.zw)(r.value.quantity),1)]),(0,s._)("td",$D,[(0,s._)("p",{class:(0,wt.C_)(["tw-max-w-[200px] tw-w-fit tw-truncate tw-px-2 tw-py-1 tw-rounded tw-font-semibold tw-text-xs tw-uppercase",[a.value.style]])},(0,wt.zw)(r.value.status),3)]),(0,s._)("td",ED,[(0,s._)("p",TD,(0,wt.zw)((0,ke.SU)(ze())(r.value.created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,ke.SU)(DD),{item:r.value},null,8,["item"])])]))}};const jD=FD;var ID=jD;const VD={class:""},OD={class:"tw-overflow-x-auto tw-bg-white"},HD={class:"tw-inline-block tw-min-w-full tw-align-middle"},MD={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},RD={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},ND=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),YD={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},ZD={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},KD=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),BD=[KD],QD={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},JD={colspan:"11"},GD={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},XD=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),tS=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),eS=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),rS=[tS,eS],aS={class:"tw-mt-6"};var sS={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=e,a=t,l=(0,ke.Vh)(a,"options"),o=(0,ke.Vh)(a,"data"),i=(0,ke.Vh)(a,"loading"),w=t=>{r("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",VD,[(0,s._)("div",OD,[(0,s._)("div",HD,[(0,s._)("div",MD,[(0,s._)("table",RD,[ND,!i.value&&o.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",YD,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(ID),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),i.value||0!=o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",ZD,BD)),i.value?((0,s.wg)(),(0,s.iD)("tbody",QD,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",JD,[(0,s._)("div",GD,[XD,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},rS))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",aS,[(0,s.Wm)((0,ke.SU)(iw),{from:l.value.from,to:l.value.to,"last-page":l.value.last_page,"per-page":l.value.per_page,total:l.value.total,"current-page":l.value.current_page,onPageChange:w},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const lS=sS;var oS=lS;const iS={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},wS={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},nS=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),dS={class:"tw-p-5 tw-space-y-4"},cS={class:""},uS={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},pS={key:0,class:"tw-text-xs tw-text-gray-400"},gS={class:"tw-relative"},mS=["disabled"],hS=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),fS=["value"],bS=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),vS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xS={key:0},yS={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},_S={key:0,class:"tw-text-xs tw-text-gray-400"},kS={class:"tw-relative"},CS=["disabled"],DS=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),SS=["value"],zS=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),US={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),PS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},LS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Message",-1),WS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},AS={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},$S=["disabled"],ES=(0,s._)("span",null,"Add",-1);var TS={__name:"SupplyRequestAdd",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,i.oR)(),w=(0,ke.iH)(!1),n=(0,ke.qj)({request:{product_id:"no-value-selected",product_variation_id:"no-value-selected",quantity:0,note:""},errors:{}}),d=(0,s.Fl)((()=>o.getters["product/products"])),c=(0,s.Fl)((()=>o.getters["product/fetched"])),u=(0,s.Fl)((()=>"no-value-selected"==n.request.product_id?[]:d.value.find((t=>t.id==n.request.product_id)).variations));(0,s.YP)((()=>n.request.product_id),(()=>{1!=u.value.length?n.request.product_variation_id="no-value-selected":n.request.product_variation_id=u.value[0].id}));const p=()=>{r("update:visible",!1)},g=async()=>{w.value=!0,await RC.create(n.request).then((t=>{"SUCCESS"==t.data.code&&(Tc("Request has been added"),o.dispatch("supply-request/addSupplyRequest",t.data.supply_request),p())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)n.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&Tc("Something went wrong","error")})),w.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(r,{visible:l.visible,onCancel:p},{default:(0,s.w5)((()=>[(0,s._)("div",iS,[(0,s._)("div",wS,[nS,(0,s._)("div",dS,[(0,s._)("div",cS,[(0,s._)("label",uS,[(0,s.Uk)("Product "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",pS," loading..."))]),(0,s._)("div",gS,[(0,s.wy)((0,s._)("select",{disabled:!c.value,onChange:e[0]||(e[0]=t=>n.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>n.request.product_id=t),class:(0,wt.C_)([[n.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[hS,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.name]),value:t.id,key:t.id},(0,wt.zw)(t.name),11,fS)))),128))],42,mS),[[a.bM,n.request.product_id]]),bS]),n.errors.product_id?((0,s.wg)(),(0,s.iD)("label",vS,(0,wt.zw)(n.errors.product_id),1)):(0,s.kq)("",!0)]),u.value.length>1?((0,s.wg)(),(0,s.iD)("div",xS,[(0,s._)("label",yS,[(0,s.Uk)("Variation "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",_S," loading..."))]),(0,s._)("div",kS,[(0,s.wy)((0,s._)("select",{disabled:!c.value||"no-value-selected"==n.request.product_id,onChange:e[2]||(e[2]=t=>n.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>n.request.product_variation_id=t),class:(0,wt.C_)([[n.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[DS,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.name]),value:t.id,key:t.id},(0,wt.zw)(t.size)+" "+(0,wt.zw)(t.size&&t.color?"|":"")+" "+(0,wt.zw)(t.color),11,SS)))),128))],42,CS),[[a.bM,n.request.product_variation_id]]),zS]),n.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",US,(0,wt.zw)(n.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[qS,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>n.request.quantity=t),onInput:e[5]||(e[5]=t=>n.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,34),[[a.nr,n.request.quantity]]),n.errors.quantity?((0,s.wg)(),(0,s.iD)("label",PS,(0,wt.zw)(n.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[LS,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[6]||(e[6]=t=>n.request.note=t),onInput:e[7]||(e[7]=t=>n.errors.note=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for your request",rows:"2",required:""},null,34),[[a.nr,n.request.note]]),n.errors.note?((0,s.wg)(),(0,s.iD)("label",WS,(0,wt.zw)(n.errors.note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",AS,[(0,s._)("button",{onClick:p,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:g,disabled:w.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[w.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ES],8,$S)])])])])),_:1},8,["visible"])}}};const FS=TS;var jS=FS;const IS={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},VS={class:"mb-5 tw-flex tw-w-full tw-justify-between"},OS=(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ",-1),HS=(0,s._)("span",null,"Create",-1),MS=[HS],RS=(0,s._)("div",{class:"tw-mt-5"},null,-1);var NS={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,ke.qj)({create:!1}),a=(0,ke.qj)({}),l=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),o=(0,ke.iH)(!0),w=async()=>{o.value=!0,await RC.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(a,t.data.data.supply_requests))})),o.value=!1},n=t=>{console.log(t)};return w(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",IS,[(0,s._)("div",VS,[OS,(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.create=!0),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-orange-100 tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},MS),r.create?((0,s.wg)(),(0,s.j4)((0,ke.SU)(jS),{key:0,visible:r.create,"onUpdate:visible":e[1]||(e[1]=t=>r.create=t)},null,8,["visible"])):(0,s.kq)("",!0)])]),RS,(0,s.Wm)((0,ke.SU)(oS),{onPageChange:n,data:l.value,loading:o.value,options:a},null,8,["data","loading","options"])]))}};const YS=NS;var ZS=YS;const KS={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},BS=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),QS={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},JS=["disabled"],GS=["disabled"];var XS={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=(0,ke.iH)(!1),l=t,o=(0,i.oR)(),w=async()=>{a.value=!0,await RC["delete"](l.item.id).then((t=>{"SUCCESS"==t.data.code&&(o.dispatch("supply-request/deleteSupplyRequest",l.item.id),Tc("Deleted Successfully"),n())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),Tc(e,"error"),n()})),a.value=!1},n=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:l.visible,onCancel:n,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",KS,[BS,(0,s._)("div",QS,[(0,s._)("button",{onClick:n,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,JS),(0,s._)("button",{onClick:w,disabled:a.value,type:"button",class:(0,wt.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,wt.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,GS)])])])),_:1},8,["visible","closeable"])])}}};const tz=XS;var ez=tz;const rz={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},az={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},sz=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),lz={class:"tw-p-5 tw-space-y-4"},oz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),iz={class:"tw-font-semibold tw-mt-1"},wz={class:"tw-flex tw-items-center"},nz={key:0,class:"tw-flex-1"},dz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),cz={class:"tw-font-semibold tw-mt-1"},uz={class:"tw-text-blue-500"},pz={class:"tw-text-green-500"},gz={class:"tw-flex-1"},mz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),hz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),fz={class:"tw-font-semibold tw-mt-1"},bz={key:0},vz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),xz={class:"tw-font-semibold tw-mt-1"};var yz={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=t,l=(0,ke.Vh)(a,"item"),o=(0,s.Fl)((()=>XC.find((t=>t.value==l.value.status)))),i=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:a.visible,onCancel:i},{default:(0,s.w5)((()=>[(0,s._)("div",rz,[(0,s._)("div",az,[sz,(0,s._)("div",lz,[(0,s._)("div",null,[oz,(0,s._)("p",iz,(0,wt.zw)(l.value.product.name),1)]),(0,s._)("div",wz,[l.value.product_variation.color||l.value.product_variation.size?((0,s.wg)(),(0,s.iD)("div",nz,[dz,(0,s._)("p",cz,[(0,s._)("span",uz,(0,wt.zw)(l.value.product_variation.color),1),(0,s.Uk)(),(0,s._)("span",pz,(0,wt.zw)(l.value.product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",gz,[mz,(0,s._)("p",{class:(0,wt.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[o.value.style]])},(0,wt.zw)(o.value.name),3)])]),(0,s._)("div",null,[hz,(0,s._)("p",fz,(0,wt.zw)(l.value.note),1)]),l.value.admin_note?((0,s.wg)(),(0,s.iD)("div",bz,[vz,(0,s._)("p",xz,(0,wt.zw)(l.value.admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:i,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const _z=yz;var kz=_z;const Cz={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},Dz={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},Sz=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),zz={class:"tw-p-5 tw-space-y-4"},Uz={class:""},qz={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Pz={key:0,class:"tw-text-xs tw-text-gray-400"},Lz={class:"tw-relative"},Wz=["disabled"],Az=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),$z=["value"],Ez=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Tz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Fz={key:0},jz={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Iz={key:0,class:"tw-text-xs tw-text-gray-400"},Vz={class:"tw-relative"},Oz=["disabled"],Hz=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),Mz=["value"],Rz=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Nz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Yz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),Zz=["disabled"],Kz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},Bz={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Qz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's Message",-1),Jz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Gz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leave note for seller",-1),Xz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},tU={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},eU=["disabled"],rU=(0,s._)("span",null,"Save",-1);var aU={__name:"SupplyRequestTableActionsEdit",props:["visible","item"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,i.oR)(),w=(0,ke.iH)(!1),n=(0,ke.qj)({request:JSON.parse(JSON.stringify(l.item)),errors:{}}),d=(0,s.Fl)((()=>o.getters["product/products"])),c=(0,s.Fl)((()=>o.getters["product/fetched"])),u=(0,s.Fl)((()=>"no-value-selected"==n.request.product_id?[]:d.value.find((t=>t.id==n.request.product_id)).variations));(0,s.YP)((()=>n.request.product_id),(()=>{1!=u.value.length?n.request.product_variation_id="no-value-selected":n.request.product_variation_id=u.value[0].id}));const p=()=>{r("update:visible",!1)},g=async()=>{w.value=!0,await RC.update(l.item.id,n.request).then((t=>{"SUCCESS"==t.data.code&&(Tc("Request has been updated"),o.dispatch("supply-request/updateSupplyRequest",t.data.supply_request),p())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)n.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&Tc("Something went wrong","error")})),w.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(r,{visible:l.visible,onCancel:p},{default:(0,s.w5)((()=>[(0,s._)("div",Cz,[(0,s._)("div",Dz,[Sz,(0,s._)("div",zz,[(0,s._)("div",Uz,[(0,s._)("label",qz,[(0,s.Uk)("Product "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",Pz," loading..."))]),(0,s._)("div",Lz,[(0,s.wy)((0,s._)("select",{disabled:!c.value||!0,onChange:e[0]||(e[0]=t=>n.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>n.request.product_id=t),class:(0,wt.C_)([[n.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Az,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.name]),value:t.id,key:t.id},(0,wt.zw)(t.name),11,$z)))),128))],42,Wz),[[a.bM,n.request.product_id]]),Ez]),n.errors.product_id?((0,s.wg)(),(0,s.iD)("label",Tz,(0,wt.zw)(n.errors.product_id),1)):(0,s.kq)("",!0)]),u.value.length>1?((0,s.wg)(),(0,s.iD)("div",Fz,[(0,s._)("label",jz,[(0,s.Uk)("Variation "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",Iz," loading..."))]),(0,s._)("div",Vz,[(0,s.wy)((0,s._)("select",{disabled:!c.value||"no-value-selected"==n.request.product_id||!0,onChange:e[2]||(e[2]=t=>n.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>n.request.product_variation_id=t),class:(0,wt.C_)([[n.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Hz,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.name]),value:t.id,key:t.id},(0,wt.zw)(t.size)+" "+(0,wt.zw)(t.size&&t.color?"|":"")+" "+(0,wt.zw)(t.color),11,Mz)))),128))],42,Oz),[[a.bM,n.request.product_variation_id]]),Rz]),n.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",Nz,(0,wt.zw)(n.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[Yz,(0,s.wy)((0,s._)("input",{disabled:"accepted"==n.request.status,"onUpdate:modelValue":e[4]||(e[4]=t=>n.request.quantity=t),onInput:e[5]||(e[5]=t=>n.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,42,Zz),[[a.nr,n.request.quantity]]),"accepted"==n.request.status?((0,s.wg)(),(0,s.iD)("label",Kz,(0,wt.zw)("cannot edit, request has already been accepted"))):(0,s.kq)("",!0),n.errors.quantity?((0,s.wg)(),(0,s.iD)("label",Bz,(0,wt.zw)(n.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[Qz,(0,s.wy)((0,s._)("textarea",{disabled:"","onUpdate:modelValue":e[6]||(e[6]=t=>n.request.note=t),onInput:e[7]||(e[7]=t=>n.errors.note=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Seller's note here",rows:"2",required:""},null,34),[[a.nr,n.request.note]]),n.errors.note?((0,s.wg)(),(0,s.iD)("label",Jz,(0,wt.zw)(n.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[Gz,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>n.request.admin_note=t),onInput:e[9]||(e[9]=t=>n.errors.admin_note=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.admin_note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for the seller",rows:"2",required:""},null,34),[[a.nr,n.request.admin_note]]),n.errors.admin_note?((0,s.wg)(),(0,s.iD)("label",Xz,(0,wt.zw)(n.errors.admin_note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",tU,[(0,s._)("button",{onClick:p,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:g,disabled:w.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[w.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),rU],8,eU)])])])])),_:1},8,["visible"])}}};const sU=aU;var lU=sU;const oU={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var iU={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,ke.qj)({delete:!1,show:!1,edit:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",oU,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.edit=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-amber-500/20 hover:tw-bg-amber-600 tw-bg-amber-500 hover:tw-border-amber-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil")])),_:1})]),r.edit?((0,s.wg)(),(0,s.j4)((0,ke.SU)(lU),{key:0,item:e.item,visible:r.edit,"onUpdate:visible":a[1]||(a[1]=t=>r.edit=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,ke.SU)(kz),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[3]||(a[3]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[4]||(a[4]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,ke.SU)(ez),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[5]||(a[5]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const wU=iU;var nU=wU;const dU={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},cU={class:"tw-relative tw-inline-block tw-text-left"},uU=["disabled"],pU={key:0,class:"tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},gU=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),mU=[gU],hU={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},fU={class:"tw-w-full tw-max-w-[200px] tw-mx-auto tw-p-2"},bU={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},vU=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-2"}," Select a status ",-1),xU={class:"tw-bg-white tw-divide-y"},yU=["onClick"];var _U={__name:"SupplyRequestStatus",props:["item"],setup(t){const e=t,r=(0,ke.iH)(!1),a=(0,ke.iH)(!1),l=(0,ke.qj)({}),o=(0,i.oR)(),w=(0,ke.iH)(XC[0]),n=()=>{r.value&&(r.value=!1)},d=async t=>{a.value=!0,await RC.update(e.item.id,{...e.item,status:t.value}).then((e=>{"SUCCESS"==e.data.code&&(Tc("Updated successfully"),o.dispatch("supply-request/updateSupplyRequest",e.data.supply_request),w.value=t)})),a.value=!1};return w.value=XC.find((t=>t.value==e.item.status)),(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",dU,[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",cU,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),type:"button",disabled:a.value,class:(0,wt.C_)([[w.value.style,a.value&&"!tw-bg-gray-50 !tw-text-gray-200 tw-cursor-not-allowed hover:!tw-shadow-none"],"tw-inline-flex tw-relative tw-w-[120px] tw-truncate tw-justify-center tw-items-center tw-gap-x-1.5 tw-rounded-md tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm"]),id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[(0,s._)("p",{class:(0,wt.C_)([[w.value.style,a.value&&"tw-invisible"],"tw-w-full tw-mx-auto tw-text-center tw-truncate tw-text-gray-500 tw-px-2"])},(0,wt.zw)(w.value.name),3),a.value?((0,s.wg)(),(0,s.iD)("svg",pU,mU)):(0,s.kq)("",!0)],10,uU),l.status?((0,s.wg)(),(0,s.iD)("p",hU,(0,wt.zw)(l.status),1)):(0,s.kq)("",!0)]),(0,s.Wm)(o,{visible:r.value,onCancel:e[1]||(e[1]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",fU,[(0,s._)("div",bU,[vU,(0,s._)("div",xU,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(XC).filter((t=>t.value!=w.value.value)),(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>d(t),key:t.value,class:(0,wt.C_)([[t.text],"hover:tw-bg-gray-100 tw-border-solid tw-justify-start tw-items-center tw-w-full tw-text-start tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm"]),role:"menuitem"},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],10,yU)))),128))])])])])),_:1},8,["visible"])])),[[ie.L,n]])])}}};const kU=_U;var CU=kU;const DU={class:"tw-px-4 tw-py-2"},SU={class:"tw-px-4 tw-py-2 tw-truncate"},zU={class:"tw-max-w-[200px] tw-truncate"},UU={class:"tw-px-4 tw-py-2 tw-truncate"},qU={class:"tw-max-w-[200px] tw-truncate"},PU={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},LU={class:"tw-flex tw-items-center tw-gap-2 tw-text-sm"},WU={key:0,class:"tw-px-1 tw-rounded-md tw-bg-orange-500 tw-text-white"},AU={key:1,class:"tw-px-1 tw-rounded-md tw-bg-green-500 tw-text-white"},$U={class:"tw-px-4 tw-py-2 tw-truncate"},EU={class:"tw-max-w-[200px] tw-truncate"},TU={class:"tw-px-4 tw-py-2 tw-truncate"},FU={class:"tw-px-4 tw-py-2"},jU={class:"tw-text-sm tw-whitespace-nowrap"};var IU={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,ke.Vh)(e,"item");return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",DU,(0,wt.zw)(r.value.id),1),(0,s._)("td",SU,[(0,s._)("p",zU,(0,wt.zw)(r.value.seller.firstname)+" "+(0,wt.zw)(r.value.seller.lastname),1)]),(0,s._)("td",UU,[(0,s._)("p",qU,(0,wt.zw)(r.value.product.name),1)]),(0,s._)("td",PU,[(0,s._)("div",LU,[r.value.product_variation.color?((0,s.wg)(),(0,s.iD)("div",WU,(0,wt.zw)(r.value.product_variation.color),1)):(0,s.kq)("",!0),r.value.product_variation.size?((0,s.wg)(),(0,s.iD)("div",AU,(0,wt.zw)(r.value.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("td",$U,[(0,s._)("p",EU,(0,wt.zw)(r.value.quantity),1)]),(0,s._)("td",TU,[(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(CU),{item:r.value},null,8,["item"])])]),(0,s._)("td",FU,[(0,s._)("p",jU,(0,wt.zw)((0,ke.SU)(ze())(r.value.created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,ke.SU)(nU),{item:r.value},null,8,["item"])])]))}};const VU=IU;var OU=VU;const HU={class:""},MU={class:"tw-overflow-x-auto tw-bg-white"},RU={class:"tw-inline-block tw-min-w-full tw-align-middle"},NU={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},YU={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},ZU=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[50px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),KU={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},BU={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},QU=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),JU=[QU],GU={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},XU={colspan:"11"},tq={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},eq=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),rq=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),aq=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),sq=[rq,aq],lq={class:"tw-mt-6"};var oq={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=e,a=t,l=(0,ke.Vh)(a,"options"),o=(0,ke.Vh)(a,"data"),i=(0,ke.Vh)(a,"loading"),w=t=>{r("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",HU,[(0,s._)("div",MU,[(0,s._)("div",RU,[(0,s._)("div",NU,[(0,s._)("table",YU,[ZU,!i.value&&o.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",KU,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(OU),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),i.value||0!=o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",BU,JU)),i.value?((0,s.wg)(),(0,s.iD)("tbody",GU,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",XU,[(0,s._)("div",tq,[eq,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},sq))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",lq,[(0,s.Wm)((0,ke.SU)(iw),{from:l.value.from,to:l.value.to,"last-page":l.value.last_page,"per-page":l.value.per_page,total:l.value.total,"current-page":l.value.current_page,onPageChange:w},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const iq=oq;var wq=iq;const nq={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},dq=(0,s._)("div",{class:"mb-5 tw-flex tw-w-full tw-justify-between"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ")],-1),cq=(0,s._)("div",{class:"tw-mt-5"},null,-1);var uq={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,ke.qj)({}),a=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),l=(0,ke.iH)(!0),o=async()=>{l.value=!0,await RC.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(r,t.data.data.supply_requests))})),l.value=!1},w=t=>{console.log(t)};return o(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",nq,[dq,cq,(0,s.Wm)((0,ke.SU)(wq),{onPageChange:w,data:a.value,loading:l.value,options:r},null,8,["data","loading","options"])]))}};const pq=uq;var gq=pq,mq={name:"products",path:"/products",component:Wa,meta:{module:"product"},children:[{name:"product/list",path:"",component:Yn,meta:{module:"product",subModule:"product/list",title:"Products List",gate:"show_all_products"}},{name:"product/newlist",path:"/newproducts",component:lh,meta:{module:"product",subModule:"product/newlist",title:"Products List",gate:"show_all_products"}},{name:"product/add",path:"add",component:xv,meta:{module:"product",subModule:"product/add",title:"Add Product",gate:"create_product"}},{name:"product/seller/request",path:"seller/request",component:ZS,meta:{module:"product",subModule:"product/seller/request",title:"Supply Request",gate:"access_to_seller_sales"}},{name:"product/admin/request",path:"admin/request",component:gq,meta:{module:"product",subModule:"product/admin/request",title:"Supply Request",gate:"access_to_sales"}},{name:"product/update",path:"update/:id",component:Ky,meta:{module:"product",subModule:"product/update",title:"Update Product",gate:"update_product"}},{name:"product/show",path:":id",component:HC,meta:{module:"product",subModule:"product/show",title:"Product Informations",gate:"view_product"}}]};const hq={class:"mb-5 tw-flex tw-justify-between tw-items-center"},fq=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Users List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all users")],-1),bq={key:0},vq=(0,s._)("span",{class:"text-white"}," Add User ",-1),xq={key:0},yq={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_q={class:"mb-5 tw-flex"},kq={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Cq={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Dq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Sq=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Role",-1),zq={class:"tw-relative"},Uq=["value"],qq={class:""};function Pq(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.users.length},[(0,s._)("div",hq,[fq,t.$can("create_user")?((0,s.wg)(),(0,s.iD)("div",bq,[(0,s.Wm)(nt.T,{color:"primary-color",link:"",to:{name:"user/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),vq])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xq,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",yq,[(0,s._)("div",_q,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",kq,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Cq,[(0,s._)("div",Dq,[Sq,(0,s._)("div",zq,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.role=t),class:"tw-w-full focus:tw-border-orange-400 tw-capitalize tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.roles,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t},(0,wt.zw)(t),9,Uq)))),128))],512),[[a.bM,o.role]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),(0,s._)("div",qq,[(0,s.Wm)(n,{users:i.filteredUsers,columns:o.columns},null,8,["users","columns"])])])):(0,s.kq)("",!0)])}const Lq={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Wq={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Aq={class:"tw-text-xs tw-text-gray-700 tw- tw-bg-gray-50"},$q=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Eq={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Tq=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Fq={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},jq={class:"tw-px-6 tw-py-4"},Iq={class:"tw-px-6 tw-py-4"},Vq={class:"tw-px-6 tw-py-4"},Oq={class:"tw-px-6 tw-py-4"},Hq={class:"tw-px-6 tw-py-4"},Mq={key:0,class:"tw-text-red-500"},Rq={key:1},Nq={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},Yq=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),Zq={key:1,class:"tw-text-neutral-700"},Kq={class:"tw-px-6 tw-py-4"},Bq={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Qq={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Jq={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Gq=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Xq=["value"],tP={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},eP={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},rP={class:"tw-text-white"};function aP(t,e,r,l,o,i){const w=(0,s.up)("RoleName"),n=(0,s.up)("UserStatus"),d=(0,s.up)("UserActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Lq,[(0,s._)("table",Wq,[(0,s._)("thead",Aq,[(0,s._)("tr",null,[$q,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Eq,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Tq,(0,s._)("th",Fq,(0,wt.zw)(e.id),1),(0,s._)("td",jq,(0,wt.zw)(e.firstname)+" "+(0,wt.zw)(e.lastname),1),(0,s._)("td",Iq,[(0,s.Wm)(w,{role:e.role_name},null,8,["role"])]),(0,s._)("td",Vq,(0,wt.zw)(e.email),1),(0,s._)("td",Oq,(0,wt.zw)(e.phone),1),(0,s._)("td",Hq,[e.last_action?((0,s.wg)(),(0,s.iD)("div",Rq,[1==i.isOnline(i.lastSeen(e.last_action))?((0,s.wg)(),(0,s.iD)("div",Nq,[Yq,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",Zq,(0,wt.zw)(i.lastSeen(e.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",Mq," Never Connected "))]),(0,s._)("td",Kq,[t.$can("update_user_status")?((0,s.wg)(),(0,s.j4)(n,{key:0,user:e},null,8,["user"])):(0,s.kq)("",!0)]),(0,s._)("td",Bq,[(0,s.Wm)(d,{user:e},null,8,["user"])])])))),128))])])]),(0,s._)("div",Qq,[(0,s._)("div",Jq,[Gq,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,Xq)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",tP,[(0,s._)("div",eP,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.users.length:i.nextRange)+" of "+(0,wt.zw)(r.users.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",rP,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function sP(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[t.$can("update_user")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,to:"/users/update/"+r.user.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_user")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_user")&&"admin"!==r.user.role_name?((0,s.wg)(),(0,s.j4)(nt.T,{key:2,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this user?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var lP={props:["rowIndex","user"],name:"userActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,ot["delete"](this.user.id).then((t=>{"USER_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"User Deleted Successfully"})),ot.all().then((t=>{"SHOW_ALL_USERS"==t.data.code&&this.$store.dispatch("user/setUsers",t.data.data.users)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const oP=(0,m.Z)(lP,[["render",sP]]);var iP=oP;const wP={key:0,class:"tw-flex tw-items-center"};function nP(t,e,r,a,l,o){return"admin"!==r.user.role_name?((0,s.wg)(),(0,s.iD)("div",wP,[(0,s.Wm)(ih.G,{disabled:l.isLoading,loading:l.isLoading,onChange:o.handleChange,color:"primary-color",flat:!0,modelValue:l.checked,"onUpdate:modelValue":e[0]||(e[0]=t=>l.checked=t),density:"compact","hide-details":!0},null,8,["disabled","loading","onChange","modelValue"])])):(0,s.kq)("",!0)}var dP={props:["rowIndex","prop","user"],data(){return{isLoading:!1,checked:!1}},watch:{},methods:{handleChange(){const t={id:this.user.id,status:this.checked?"true":"false"};this.isLoading=!0,ot.updateStatus(t).then((t=>{"STATUS_USER_UPDATED"==t.data.code&&(this.$alert({type:"success",title:"Status updated"}),this.setUpdatedUser(this.user.id,this.checked))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},setUpdatedUser(t,e){let r=localStorage.getItem("updatedUsers"),a={};r?(a=JSON.parse(r),a[t]=e):a[t]=e,localStorage.setItem("updatedUsers",JSON.stringify(a))},getUpdatedUsers(){let t=localStorage.getItem("updatedUsers");if(!t)return{};let e=JSON.parse(t);return e}},mounted(){const t=this.getUpdatedUsers();Object.keys(t).includes(`${this.user.id}`)?this.checked=1==t[this.model.id]:this.checked=1==this.user.status}};const cP=(0,m.Z)(dP,[["render",nP]]);var uP=cP;const pP={class:"tw-flex tw-items-center tw-h-full"};function gP(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",pP,[(0,s._)("div",{class:(0,wt.C_)([o.current.bg,"tw-px-2 tw-py-1 tw-rounded-lg"])},[(0,s._)("div",{class:(0,wt.C_)([o.current.text,"tw-text-sm tw-uppercase"])},(0,wt.zw)(r.role),3)],2)])}var mP={props:["role"],data(){return{variants:{default:{bg:"tw-bg-neutral-500/10",text:"tw-text-neutral-500"},admin:{bg:"tw-bg-pink-500/10",text:"tw-text-pink-500"},agente:{bg:"tw-bg-green-500/10",text:"tw-text-green-500"},delivery:{bg:"tw-bg-blue-500/10",text:"tw-text-blue-500"}}}},computed:{current(){return["admin","delivery","agente"].includes(this.role)?this.variants[this.role]:this.variants["default"]}}};const hP=(0,m.Z)(mP,[["render",gP]]);var fP=hP,bP={props:["columns","users"],components:{UserActions:iP,UserStatus:uP,RoleName:fP},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.users.length/this.paginationLimit)},items(){return this.users.slice(this.prevRange,this.nextRange)}},methods:{lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,_s.x)(e)},isOnline(t){let e=["Just Now","one minute ago","2 minutes ago","3 minutes ago"];return e.includes(t)}}};const vP=(0,m.Z)(bP,[["render",aP]]);var xP=vP,yP={components:{UsersTable:xP},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,role:"All",search:"",columns:[{prop:"id",name:"#"},{prop:"fullname",name:"Name"},{prop:"role_name",name:"Role"},{prop:"email",name:"Email"},{prop:"phone",name:"Phone Number"},{prop:"last_seen",name:"Last Seen"},{prop:"status",name:"Active"},{name:"Acions",prop:"users"}]}},computed:{fetched(){return this.$store.getters["user/fetched"]},users(){return this.$store.getters["user/users"]},roles(){let t=new Set(["All",...this.users.map((t=>t.role_name))]);return t},filteredUsers(){const t=this.role,e=this.search;return this.users.filter((r=>("all"===t.toLocaleLowerCase()||t.toLocaleLowerCase()===r.role_name)&&!!(r.firstname.toLowerCase().includes(e.toLowerCase())||r.lastname.toLowerCase().includes(e.toLowerCase())||r.role_name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase())||r.phone.toLowerCase().includes(e.toLowerCase()))))}},methods:{getRoles(){ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},getUsers(){ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)}},mounted(){localStorage.removeItem("updatedUsers"),this.fetched||this.getUsers()}};const _P=(0,m.Z)(yP,[["render",Pq]]);var kP=_P,CP=r(988);const DP=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new user")],-1),SP={key:0},zP={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},UP={class:"tw-w-full"},qP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),PP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},LP={class:"tw-w-full"},WP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),AP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$P={class:"tw-w-full"},EP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),TP={class:"tw-w-full"},FP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),jP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},IP={class:"tw-w-full"},VP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),OP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},HP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),MP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),RP=["value"],NP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),YP=["value"],ZP=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),KP=(0,s._)("span",{class:"text-white"},"Add",-1),BP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),QP={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},JP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),GP={class:"tw-w-full"},XP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),tL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},eL={class:"tw-w-full"},rL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),aL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),lL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},oL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),iL=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function wL(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[DP,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",SP,[(0,s.Wm)(w)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",zP,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",UP,[qP,(0,s.Wm)(ut.hw,{error:!o.formStatus.firstname.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:o.user.firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.user.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",PP,(0,wt.zw)(o.formStatus.firstname.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LP,[WP,(0,s.Wm)(ut.hw,{error:!o.formStatus.lastname.valid,"hide-details":!0,onKeyup:e[2]||(e[2]=t=>i.resetError("lastname")),modelValue:o.user.lastname,"onUpdate:modelValue":e[3]||(e[3]=t=>o.user.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",AP,(0,wt.zw)(o.formStatus.lastname.message),1)])])),_:1}),i.isSeller?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$P,[EP,(0,s.Wm)(ut.hw,{"hide-details":!0,modelValue:o.user.username,"onUpdate:modelValue":e[4]||(e[4]=t=>o.user.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",TP,[FP,(0,s.Wm)(ut.hw,{error:!o.formStatus.email.valid,"hide-details":!0,onKeyup:e[5]||(e[5]=t=>i.resetError("email")),modelValue:o.user.email,"onUpdate:modelValue":e[6]||(e[6]=t=>o.user.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",jP,(0,wt.zw)(o.formStatus.email.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",IP,[VP,(0,s.Wm)(ut.hw,{error:!o.formStatus.phone.valid,"hide-details":!0,onKeyup:e[7]||(e[7]=t=>i.resetError("phone")),modelValue:o.user.phone,"onUpdate:modelValue":e[8]||(e[8]=t=>o.user.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",OP,(0,wt.zw)(o.formStatus.phone.message),1)])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(ih.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),HP,(0,s._)("div",null,[(0,s.Wm)(CP.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:2,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[MP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,RP)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:3,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[NP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,YP)))),128))],512),[[a.bM,o.deliveryCity]]),ZP,(0,s.Wm)(ut.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(nt.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[KP])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[BP,(0,s.Wm)(oh.r,{class:"text-capitalize",items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[14]||(e[14]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["items","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",QP,[JP,(0,s.Wm)(ih.G,{modelValue:o.user.status,"onUpdate:modelValue":e[15]||(e[15]=t=>o.user.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",GP,[XP,(0,s.Wm)(ut.hw,{error:!o.formStatus.password.valid,"hide-details":!0,onKeyup:e[16]||(e[16]=t=>i.resetError("password")),modelValue:o.user.password,"onUpdate:modelValue":e[17]||(e[17]=t=>o.user.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",tL,(0,wt.zw)(o.formStatus.password.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",eL,[rL,(0,s.Wm)(ut.hw,{error:!o.formStatus.confirmPassword.valid,"hide-details":!0,onKeyup:e[18]||(e[18]=t=>i.resetError("confirmPassword")),modelValue:o.user.confirmPassword,"onUpdate:modelValue":e[19]||(e[19]=t=>o.user.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",aL,(0,wt.zw)(o.formStatus.confirmPassword.message),1)])])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[sL,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,wt.zw)(i.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,wt.zw)(t.fee)+" "+(0,wt.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(ct.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",lL,[(0,s.Wm)(nt.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[oL])),_:1}),(0,s.Wm)(nt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[iL])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var nL={data(){return{localUrl:w,currency:c,isFormReady:!1,isLoading:!1,city:1,isMultipleProducts:!1,isHavingAllProducts:!1,id:1,deliveryCity:1,deliveryCityFee:0,deliveryCities:[],product:0,selectedProducts:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},user:{firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},role:3}},computed:{roles(){return this.$store.getters["user/roles"]},rolesFetched(){return this.$store.getters["user/fetchedRoles"]},cities(){return this.$store.getters["city/cities"]},citiesFetched(){return this.$store.getters["city/fetched"]},products(){return this.$store.getters["product/products"]},productsFethched(){return this.$store.getters["product/fetched"]},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},isSeller(){return 4===this.role},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{},methods:{removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.id,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.id+=1,this.deliveryCity=1,this.deliveryCityFee=0},create(){if(!this.validate())return!1;this.isLoading=!0;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};ot.register(t).then((t=>{"USER_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.user={firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},this.role=3,this.product_id=null,this.deliveryCities=[],this.id=1)})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){this.formStatus.email=Wt(this.user.email),this.formStatus.firstname=$t(this.user.firstname),this.formStatus.lastname=$t(this.user.lastname),this.formStatus.phone=$t(this.user.phone),this.formStatus.password=At(this.user.password),this.formStatus.confirmPassword=Tt(this.user.password,this.user.confirmPassword);const t=this.formStatus.email.valid,e=this.formStatus.firstname.valid,r=this.formStatus.lastname.valid,a=this.formStatus.phone.valid,s=this.formStatus.password.valid,l=this.formStatus.confirmPassword.valid;return t&&e&&r&&s&&l&&a},getRoles(){return this.rolesFetched?new Promise((t=>t())):ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)},async getCities(){return this.citiesFetched?new Promise((t=>t())):ot.cities().then((t=>{this.$store.dispatch("city/cities",t.data.data),this.$store.dispatch("city/setFetched",!0)}))},async getProducts(){return this.productsFethched?new Promise((t=>t())):ha.all().then((t=>{this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0)}),(t=>this.$handleApiError(t)))}},mounted(){Promise.allSettled([this.getRoles(),this.getCities(),this.getProducts()]).then((t=>{console.log(t),this.isFormReady=!0}),(t=>this.$handleApiError(t)))}};const dL=(0,m.Z)(nL,[["render",wL]]);var cL=dL;const uL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update user informations")],-1),pL={key:0},gL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},mL={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},hL={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},fL={class:"tw-w-full"},bL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),vL={class:"tw-w-full"},xL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),yL={class:"tw-w-full"},_L=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),kL={class:"tw-w-full"},CL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),DL={class:"tw-w-full"},SL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),zL={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},UL=(0,s._)("span",null,"Update Password: ",-1),qL={class:"tw-w-full"},PL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),LL={class:"tw-w-full"},WL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),AL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),$L={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},EL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),TL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),FL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),jL=["value"],IL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),VL=["value"],OL=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),HL=(0,s._)("span",{class:"text-white"},"Add",-1),ML=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),RL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},NL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),YL=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function ZL(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[uL,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",pL,[(0,s.Wm)(w)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",gL,[(0,s._)("div",mL,[(0,s.Uk)(" User ID: "),(0,s._)("span",hL,(0,wt.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",fL,[bL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.firstname.message,modelValue:o.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>o.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vL,[xL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.lastname.message,modelValue:o.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",yL,[_L,(0,s.Wm)(ut.hw,{modelValue:o.username,"onUpdate:modelValue":e[2]||(e[2]=t=>o.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",kL,[CL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.email.message,modelValue:o.email,"onUpdate:modelValue":e[3]||(e[3]=t=>o.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",DL,[SL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.phone.message,modelValue:o.phone,"onUpdate:modelValue":e[4]||(e[4]=t=>o.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",zL,[UL,(0,s.Wm)(ih.G,{modelValue:o.updatePassword,"onUpdate:modelValue":e[5]||(e[5]=t=>o.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),o.updatePassword?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qL,[PL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.password.message,modelValue:o.password,"onUpdate:modelValue":e[6]||(e[6]=t=>o.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),o.updatePassword?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LL,[WL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.confirmPassword.message,modelValue:o.confirmPassword,"onUpdate:modelValue":e[7]||(e[7]=t=>o.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[AL,(0,s.Wm)(oh.r,{class:"text-capitalize","error-messages":o.formStatus.role,items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[8]||(e[8]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","items","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$L,[EL,(0,s.Wm)(ih.G,{modelValue:o.status,"onUpdate:modelValue":e[9]||(e[9]=t=>o.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(ih.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),TL,(0,s._)("div",null,[(0,s.Wm)(CP.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[11]||(e[11]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[FL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,jL)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[IL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,VL)))),128))],512),[[a.bM,o.deliveryCity]]),OL,(0,s.Wm)(ut.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[14]||(e[14]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(nt.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[HL])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ML,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,wt.zw)(o.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,wt.zw)(t.fee)+" "+(0,wt.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(ct.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",RL,[(0,s.Wm)(nt.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[NL])),_:1}),(0,s.Wm)(nt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[YL])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var KL={data(){return{serverUrl:n,currency:c,isFetched:!1,isRolesFetched:!1,isUserFetched:!1,isProductsFetched:!1,isLoading:!1,updatePassword:!1,autoId:1,cities:[],deliveryCity:1,deliveryCityFee:0,city:1,deliveryCities:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",username:"",role:"",user_image:null,status:!1,product:null,products:[],selectedProducts:[],isMultipleProducts:!1,isHavingAllProducts:!1}},computed:{roles(){return this.$store.getters["user/roles"]},isFormReady(){return this.isFetched},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,username:this.username,phone:this.phone,email:this.email,password:this.password,product_id:this.product,deliveryCities:this.deliveryCities,city:this.city,role:this.role,status:this.status?1:0}},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{role(t){console.log("changed"),2===t&&0===this.products.length&&(this.isProductsFetched=!1)}},methods:{update(){if(!this.validate())return!1;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};this.isLoading=!0,ot.update(t,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["email"]=Wt(this.email),this.formStatus["firstname"]=$t(this.firstname),this.formStatus["lastname"]=$t(this.lastname),this.formStatus["phone"]=$t(this.phone),this.formStatus["password"]=At(this.password),this.formStatus["confirmPassword"]=Tt(this.password,this.confirmPassword);const t=this.formStatus["email"].valid,e=this.formStatus["firstname"].valid,r=this.formStatus["lastname"].valid,a=this.formStatus["phone"].valid;if(this.updatePassword){const s=this.formStatus["password"].valid,l=this.formStatus["confirmPassword"].valid;return t&&e&&r&&s&&l&&a}return t&&e&&r&&a},removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.autoId,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.autoId+=1,this.deliveryCity=1,this.deliveryCityFee=0},async getRoles(){await ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isRolesFetched=!0}})).catch(this.$handleApiError)},async getUser(){return ot.getUser(this.$route.params.id).then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;if(this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.username=e.username,this.email=e.email,this.phone=e.phone,this.role=e.role,2==e.role&&(this.isHavingAllProducts=1==e.having_all,this.selectedProducts=e?.product),this.user_image=e.photo,this.status=1==e.status,this.isUserFetched=!0,3==e.role){console.log("this is delivery"),this.city=e?.city?.id;let t=0;this.deliveryCities=e.deliveryPlaces.map((e=>(parseInt(e.id)>=t&&(t=parseInt(e.id)+1),{id:e.id,city_id:e.city_id,fee:e.fee}))),this.autoId=t}}})).catch(this.$handleApiError)},async getProducts(){return ha.all().then((t=>{this.products=t.data.data.products,this.products.length>0?this.product=this.user.product_id:this.product=null,this.isProductsFetched=!0}),(t=>this.$handleApiError(t)))},async getCities(){return ot.cities().then((t=>{console.log(t.data),this.cities=t.data.data}))}},async mounted(){0==this.roles.length?await this.getRoles():this.isRolesFetched=!0,Promise.allSettled([this.getRoles(),this.getProducts(),this.getCities(),this.getUser()]).then((()=>{this.selectedProducts.length==this.products.length&&(this.product=0,this.isMultipleProducts=!1),this.isFetched=!0}),(t=>this.$handleApiError(t)))}};const BL=(0,m.Z)(KL,[["render",ZL]]);var QL=BL;const JL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add New Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new Role")],-1),GL={key:0},XL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},tW={class:"md:tw-w-1/2 tw-w-full"},eW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role Name",-1),rW={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},aW={class:"mb-3 text-body-2 tw-text-zinc-700"},sW={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},lW={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},oW=["onClick"],iW={key:0},wW={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},nW=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),dW=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function cW(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[JL,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",GL,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",XL,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",tW,[eW,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rW,(0,wt.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",aW,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",sW,(0,wt.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",lW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,wt.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},[(0,s._)("span",null,(0,wt.zw)(t),1)],10,oW)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",iW,(0,wt.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",wW,[(0,s.Wm)(nt.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[nW])),_:1}),(0,s.Wm)(nt.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[dW])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var uW={data(){return{localUrl:w,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0,ot.createRole({name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_ADDED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles(),this.name="",this.selectedPermissions=[])})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.name,"Name"),this.formStatus.permissions=jt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRoles(){ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},async getPermissions(){return await ot.permessions().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.permissions;this.permissions=e.map((t=>t.name)),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getPermissions(),this.isFormReady=!0}};const pW=(0,m.Z)(uW,[["render",cW]]);var gW=pW;const mW={class:"mb-5 tw-flex tw-justify-between tw-items-center"},hW=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Roles List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all Roles")],-1),fW={class:"tw-flex tw-items-center tw-gap-2"},bW={key:0},vW=(0,s._)("span",{class:"text-white"}," Role ",-1),xW={key:0},yW={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_W={class:"mb-5 tw-flex"},kW={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},CW={class:""};function DW(t,e,r,l,o,i){const w=(0,s.up)("CreatePermission"),n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("RolesTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.roles.length},[(0,s._)("div",mW,[hW,(0,s._)("div",fW,[(0,s.Wm)(w,{visible:o.visible,"onUpdate:visible":e[0]||(e[0]=t=>o.visible=t)},null,8,["visible"]),t.$can("create_role")?((0,s.wg)(),(0,s.iD)("div",bW,[(0,s.Wm)(nt.T,{color:"primary-color",link:"",to:{name:"user/addRole"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),vW])),_:1})])):(0,s.kq)("",!0)])]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xW,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",yW,[(0,s._)("div",_W,[(0,s.Wm)(nt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",kW,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",CW,[(0,s.Wm)(d,{roles:i.filteredRoles,columns:o.columns},null,8,["roles","columns"])])])):(0,s.kq)("",!0)])}const SW={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},zW={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},UW={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},qW=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),PW={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},LW=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),WW={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},AW={class:"tw-px-6 tw-py-4 tw-uppercase"},$W={class:"tw-px-6 tw-py-4"},EW={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},TW={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},FW={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},jW=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),IW=["value"],VW={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},OW={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},HW={class:"tw-text-white"};function MW(t,e,r,l,o,i){const w=(0,s.up)("RolePermissions"),n=(0,s.up)("RoleActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",SW,[(0,s._)("table",zW,[(0,s._)("thead",UW,[(0,s._)("tr",null,[qW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",PW,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[LW,(0,s._)("th",WW,(0,wt.zw)(t.id),1),(0,s._)("td",AW,(0,wt.zw)(t.name),1),(0,s._)("td",$W,[(0,s.Wm)(w,{role:t},null,8,["role"])]),(0,s._)("td",EW,[(0,s.Wm)(n,{role:t},null,8,["role"])])])))),128))])])]),(0,s._)("div",TW,[(0,s._)("div",FW,[jW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,IW)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",VW,[(0,s._)("div",OW,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.roles.length:i.nextRange)+" of "+(0,wt.zw)(r.roles.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",HW,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const RW={key:0},NW={class:"tw-flex tw-flex-wrap tw-gap-2"};function YW(t,e,r,a,l,o){const i=(0,s.up)("popup");return["admin","agente","delivery"].includes(r.role.name)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",RW,[t.$can("update_role")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,to:"/users/roles/update/"+r.role.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_role")&&"admin"!==r.role.name?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopupDelete=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this Role?</p> You won't be able to revert this!",loading:l.isLoadingDelete,visible:l.showPopupDelete,onResolved:o.handleResolvedDelete},null,8,["loading","visible","onResolved"]),(0,s.Wm)(i,{noConfirm:!0,type:"info",title:"Permissions",loading:l.isLoadingShow,visible:l.showPopupShow,onResolved:o.handleResolvedShow},{default:(0,s.w5)((()=>[(0,s._)("div",NW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer",key:t},(0,wt.zw)(t),1)))),128))])])),_:1},8,["loading","visible","onResolved"])]))}var ZW={props:["rowIndex","prop","role"],name:"roleActions",data(){return{showPopupDelete:!1,showPopupShow:!1,isLoadingDelete:!1,isLoadingShow:!1,permissions:["create_user","delete_user","update_user","show_user"]}},methods:{handleResolvedDelete(t){t?(this.isLoadingDelete=!0,ot.deleteRole(this.role.id).then((t=>{"ROLE_DELETED"==t.data.code&&(this.isLoadingDelete=!1,this.$alert({type:"success",title:"Role Deleted Successfully"})),ot.roles().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("user/setRoles",t.data.data.roles)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoadingDelete=!1,this.showPopupDelete=!1}))):this.showPopupDelete=!1},handleResolvedShow(t){t?console.log(t):this.showPopupShow=!1}}};const KW=(0,m.Z)(ZW,[["render",YW]]);var BW=KW;const QW={class:"tw-h-100 tw-flex tw-items-center tw-max-w-[750px] tw-flex-wrap tw-gap-2"},JW=["title"];function GW(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",QW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-0 tw-px-2 tw-text-xs tw-h-5 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg",title:t.description,key:t.name},(0,wt.zw)(t.name),9,JW)))),128))])}var XW={props:["role"],name:"rolePermissions",data(){return{}},computed:{permissions(){return this.role.permissions.map((t=>t))}}};const tA=(0,m.Z)(XW,[["render",GW]]);var eA=tA,rA={props:["columns","roles"],components:{RoleActions:BW,RolePermissions:eA},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.roles.length/this.paginationLimit)},items(){return this.roles.slice(this.prevRange,this.nextRange)}},methods:{}};const aA=(0,m.Z)(rA,[["render",MW]]);var sA=aA;const lA=(0,s._)("span",{class:"text-white"}," Permission ",-1),oA={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},iA={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},wA=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Add permission ",-1),nA={class:"tw-p-5"},dA={class:""},cA=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),uA={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pA={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},gA=["disabled"],mA=["disabled"],hA=(0,s._)("span",null,"Add",-1);var fA={__name:"CreatePermission",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,ke.iH)(!1),i=(0,ke.iH)({}),w=(0,ke.iH)({name:""}),n=t=>{r("update:visible",t)},d=async()=>{if(!w.value.name)return i.value.name="Name is required",!1;i.value.name="",o.value=!0,await ot.createPermission(w.value.name).then((t=>{if("SUCCESS"==t.data.code){const e=st.getters["user/permissions"];e.push(t.data.permission.name),Tc("Permission added successfully"),n(!1)}})).catch((t=>{Tc("Something went wrong!","danger"),console.log(t)})),o.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>n(!0)),color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),lA])),_:1}),(0,s.Wm)(r,{visible:l.visible},{default:(0,s.w5)((()=>[(0,s._)("div",oA,[(0,s._)("div",iA,[wA,(0,s._)("div",nA,[(0,s._)("div",dA,[cA,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>w.value.name=t),onInput:e[2]||(e[2]=t=>i.value.name=null),type:"text",class:(0,wt.C_)([[i.value.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter permission name",required:""},null,34),[[a.nr,w.value.name]]),i.value.name?((0,s.wg)(),(0,s.iD)("label",uA,(0,wt.zw)(i.value.name),1)):(0,s.kq)("",!0)])]),(0,s._)("div",pA,[(0,s._)("button",{onClick:e[3]||(e[3]=t=>n(!1)),disabled:o.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,gA),(0,s._)("button",{onClick:d,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),hA],8,mA)])])])])),_:1},8,["visible"])])}}};const bA=fA;var vA=bA,xA={components:{RolesTable:sA,CreatePermission:vA},data(){return{localUrl:w,visible:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Role Name"},{prop:"permissions",name:"Permissions"},{name:"Acions",prop:"roles"}]}},computed:{roles(){return this.$store.getters["user/roles"]},fetched(){return this.$store.getters["user/fetchedRoles"]},filteredRoles(){return this.roles.filter((t=>{const e=t.permissions.map((t=>t.name));return!!(""===this.search||t.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())||e.includes(this.search.toLocaleLowerCase())||e.some((t=>t.toLowerCase().includes(this.search.toLocaleLowerCase()))))}))}},methods:{getRoles(){return ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)}},mounted(){this.rolesFetched||this.getRoles()}};const yA=(0,m.Z)(xA,[["render",DW]]);var _A=yA;const kA=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update existing role")],-1),CA={key:0},DA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},SA={class:"md:tw-w-1/2 tw-w-full"},zA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Role Name ",-1),UA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qA={class:"mb-3 text-body-2 tw-text-zinc-700"},PA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},LA={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},WA=["onClick"],AA={key:0},$A={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},EA=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),TA=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function FA(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[kA,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",CA,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",DA,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",SA,[zA,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",UA,(0,wt.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",qA,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",PA,(0,wt.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",LA,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,wt.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},(0,wt.zw)(t),11,WA)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",AA,(0,wt.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",$A,[(0,s.Wm)(nt.T,{link:"",to:"/users/roles",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[EA])),_:1}),(0,s.Wm)(nt.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[TA])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var jA={data(){return{localUrl:w,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,ot.updateRole(this.$route.params.id,{name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_UPDATED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles())})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},addPermissions(t){return t},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.name,"Name"),this.formStatus.permissions=jt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRole(){ot.getRole(this.$route.params.id).then((t=>{this.name=t.data.data.role,this.selectedPermissions=[...t.data.data.permission],this.isFormReady=!0}))},getRoles(){ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getRole(),this.permissions=this.$store.getters["user/permissions"]}};const IA=(0,m.Z)(jA,[["render",FA]]);var VA=IA,OA={name:"users",path:"/users",component:Wa,meta:{module:"user"},children:[{name:"user/list",path:"",component:kP,meta:{module:"user",subModule:"user/list",title:"Users List",gate:"show_all_users"}},{name:"user/add",path:"add",component:cL,meta:{module:"user",subModule:"user/add",title:"Add User",gate:"create_user"}},{name:"user/update",path:"update/:id",component:QL,meta:{module:"user",subModule:"user/update",title:"Update User",gate:"update_user"}},{name:"user/addRole",path:"addRole",component:gW,meta:{module:"user",subModule:"user/addRole",title:"Add Role",gate:"create_role"}},{name:"user/roles",path:"roles",component:_A,meta:{module:"user",subModule:"user/roles",title:"Roles List",gate:"show_all_roles"}},{name:"user/updateRole",path:"roles/update/:id",component:VA,meta:{module:"user",subModule:"user/updateRole",title:"Update Role",gate:"view_role"}}]};const HA={class:"mb-5 tw-flex tw-justify-between tw-items-center"},MA=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Sales List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your sales")],-1),RA={key:0},NA=(0,s._)("span",{class:"text-white"}," Add Sale ",-1),YA={key:0},ZA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},KA={class:"mb-5 tw-flex"},BA={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},QA={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},JA={class:""};function GA(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("SalesAnalytics"),d=(0,s.up)("IndexFilter"),c=(0,s.up)("SalesTable"),u=(0,s.up)("AddSale"),p=(0,s.up)("NewAddSale");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",HA,[MA,t.$can("create_sale")&&i.fetched?((0,s.wg)(),(0,s.iD)("div",RA,[(0,s.Wm)(nt.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),NA])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",YA,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",ZA,[(0,s.Wm)(n,{sales:i.sales},null,8,["sales"]),(0,s._)("div",KA,[(0,s.Wm)(nt.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",BA,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by client, phone..."},null,512),[[a.nr,o.search]])]),(0,s._)("div",QA,[(0,s.Wm)(ct.t,{class:"tw-text-gray-500",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pound")])),_:1}),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.searchId=t),type:"number",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search By ID"},null,512),[[a.nr,o.searchId]])]),(0,s.Wm)(nr.C),(0,s.Wm)(nt.T,{onClick:i.handleReset,icon:"",rounded:"lg",variant:"flat",size:"small",disabled:o.isButtonDisabled,loading:o.isLoadingReset,color:"red",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",icon:"mdi-restart-alert",size:"xx-large"})])),_:1},8,["onClick","disabled","loading"]),(0,s.Wm)(nt.T,{onClick:i.getSales,icon:"",rounded:"lg",variant:"flat",size:"small",color:"blue",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",icon:"mdi-autorenew",size:"xx-large"})])),_:1},8,["onClick"])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[1000px] !tw-overflow-visible":o.showFilters}])},[(0,s.Wm)(d,{sales:i.sales,search:o.search,"search-id":o.searchId,filtered:o.filteredSales,"onUpdate:filtered":e[4]||(e[4]=t=>o.filteredSales=t),selected:i.selectedSales},null,8,["sales","search","search-id","filtered","selected"])],2),(0,s._)("div",JA,[((0,s.wg)(),(0,s.j4)(c,{onSelected:i.handleSelected,"selected-reset":o.selected,key:o.filteredSales.length,sales:o.filteredSales},null,8,["onSelected","selected-reset","sales"]))]),(0,s.Wm)(u,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:!1}),(0,s.Wm)(p,{onCancel:e[6]||(e[6]=t=>o.showPopup=!1),visible:o.showPopup,"onUpdate:visible":e[7]||(e[7]=t=>o.showPopup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const XA={class:"tw-grid tw-grid-cols-12 tw-mb-5"},t$={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-items-center"},e$=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),r$=["value"],a$={class:"tw-relative tw-pb-5 tw-overflow-x-auto tw-min-h-[400px] tw-overflow-y-visible sm:tw-rounded-lg"},s$={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},l$={scope:"col",class:"tw-p-4"},o$={class:"tw-flex tw-items-center"},i$=(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox",-1),w$={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},n$={class:"tw-w-4 tw-p-4 tw-relative"},d$={class:"tw-flex tw-items-center"},c$=["onChange","checked"],u$=(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox",-1),p$={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},g$={class:"tw-px-6 tw-py-4 tw-relative"},m$={key:0},h$={class:"tw-px-6 tw-py-4"},f$=["title"],b$={class:"tw-px-6 tw-py-4 tw-relative"},v$={class:"tw-pb-2"},x$={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},y$={key:0},_$={key:1},k$={class:"tw-absolute tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-text-xs"},C$={key:0,class:"tw-bg-emerald-500/10 tw-text-emerald-500 tw-px-2 tw-rounded-t"},D$={key:1,class:"tw-bg-blue-500/10 tw-text-blue-500 tw-px-2 tw-rounded-t"},S$={class:"tw-px-6 tw-py-4"},z$={class:"tw-px-6 tw-py-4 tw-relative"},U$={class:"tw-flex tw-items-center tw-justify-center"},q$={class:"tw-flex tw-gap-1"},P$={key:0},L$={class:"tw-px-6 tw-py-4"},W$={class:"tw-px-6 tw-py-4 tw-relative"},A$={class:"tw-flex tw-items-center tw-justify-center"},$$={class:"tw-flex tw-gap-1"},E$={key:0},T$={class:"tw-px-6 tw-py-4"},F$={class:"tw-px-6 tw-py-4"},j$={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},I$={class:"tw-col-span-12 md:tw-col-span-12 d-flex tw-justify-end tw-flex-wrap align-center"},V$={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},O$={class:"tw-flex tw-flex-wrap tw-gap-2"},H$={class:"tw-text-white"};function M$(t,e,r,l,o,i){const w=(0,s.up)("SaleConfirmation"),n=(0,s.up)("SaleAffectation"),d=(0,s.up)("SaleDelivery"),c=(0,s.up)("SaleActions");return(0,s.wg)(),(0,s.iD)("div",{key:i.items.length},[(0,s._)("div",XA,[(0,s._)("div",t$,[e$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,r$)))),128))],512),[[a.bM,o.paginationLimit]])])]),(0,s._)("div",a$,[((0,s.wg)(),(0,s.iD)("table",{key:i.reportedForToday.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",s$,[(0,s._)("tr",null,[(0,s._)("th",l$,[(0,s._)("div",o$,[(0,s.wy)((0,s._)("input",{onClick:e[1]||(e[1]=(...t)=>i.handleSelectAll&&i.handleSelectAll(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>o.isAllSelected=t),id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,512),[[a.e8,o.isAllSelected]]),i$])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,wt.C_)([["city"==t&&"!tw-max-w-[150px]"],"tw-px-6 tw-py-3 tw-truncate"]),scope:"col"},[(0,s._)("div",w$,(0,wt.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:(0,wt.C_)([[[t.confirmation,t.delivery].includes("reporter")&&"tw-relative",i.isReportedToday(t)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[(0,s._)("td",n$,[(0,s._)("div",d$,[(0,s._)("input",{onChange:e=>i.handleSelect(e,t.id),checked:i.isSelected(t.id),id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,40,c$),u$])]),(0,s._)("td",p$,(0,wt.zw)(t.id),1),(0,s._)("td",g$,[(0,s.Uk)((0,wt.zw)(t?.created_at?.split("T")[0])+" ",1),"reporter"==t.confirmation||"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[i.isReportedToday(t)?((0,s.wg)(),(0,s.iD)("span",m$," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",h$,[(0,s._)("div",{title:t.city,class:"!tw-max-w-[200px] tw-truncate"},(0,wt.zw)(t.city),9,f$)]),(0,s._)("td",b$,[(0,s._)("div",v$,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",x$,(0,wt.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,wt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",y$,"| "+(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",_$,"| "+(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",k$,[t.counts_from_warehouse?((0,s.wg)(),(0,s.iD)("p",C$," warehouse ")):(0,s.kq)("",!0),t.counts_from_warehouse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",D$," delivery "))])])]),(0,s._)("td",S$,(0,wt.zw)(t.fullname),1),(0,s._)("td",z$,[(0,s._)("div",U$,[((0,s.wg)(),(0,s.j4)(w,{class:(0,wt.C_)("reporter"==t.confirmation&&"tw-mb-1"),sale:t,id:t.id,confirmation:t.confirmation,key:t.confirmation},null,8,["class","sale","id","confirmation"])),"reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",q$,["reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("span",P$,[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,wt.zw)(t?.reported_agente_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",L$,["confirmer"==t.confirmation?((0,s.wg)(),(0,s.j4)(n,{sale:t,affectation:t.affectation,id:t.id,key:t.affectation},null,8,["sale","affectation","id"])):(0,s.kq)("",!0)]),(0,s._)("td",W$,[(0,s._)("div",A$,[((0,s.wg)(),(0,s.j4)(d,{class:(0,wt.C_)("reporter"==t.delivery&&"tw-mb-1"),sale:t,id:t.id,key:t.delivery,delivery:t.delivery},null,8,["class","sale","id","delivery"])),"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",$$,["reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("span",E$,[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,wt.zw)(t.reported_delivery_date),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",T$,(0,wt.zw)(i.getPrice(t)),1),(0,s._)("td",F$,[((0,s.wg)(),(0,s.j4)(c,{id:t.id,key:t.delivery,sale:t},null,8,["id","sale"]))])],2)))),128))])]))]),(0,s._)("div",j$,[(0,s._)("div",I$,[(0,s._)("div",V$,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.sales.length:i.nextRange)+" of "+(0,wt.zw)(r.sales.length)+" items ",1),(0,s._)("div",O$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",H$,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const R$={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},N$=["onClick"],Y$={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Z$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),K$={class:"tw-flex tw-justify-end tw-mt-2"};function B$(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("SaleConfirmationReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,wt.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,wt.zw)(i.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",R$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,wt.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,wt.zw)(t.name),3)],8,N$)))),128))])],2),(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",Y$,[Z$,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",K$,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(n,{order:r.sale,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])),[[ie.L,i.close]])}const Q$={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},J$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),G$=(0,s._)("br",null,null,-1),X$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),tE={class:"tw-flex tw-justify-end tw-mt-2"};function eE(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Q$,[J$,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),G$,X$,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",tE,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var rE={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.isLoading=!0,ba.agenteUpdateConfirmation(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const aE=(0,m.Z)(rE,[["render",eE]]);var sE=aE,lE={props:["confirmation","id","sale"],components:{SaleConfirmationReporting:sE},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",noteReporter:"",selectedId:0,allOptions:jn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleClick(){this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))},handleClickReporter(){this.showPopupReporter=!1},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ba.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},async updateOrderWithNote(){return this.isLoading=!0,ba.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("sale/updateConfirmation",{id:t,confirmation:e})},updateConfirmationNote(t,e,r){this.$store.dispatch("sale/updateConfirmationWithNote",{id:t,confirmation:e,note:r})}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const oE=(0,m.Z)(lE,[["render",B$]]);var iE=oE;const wE={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},nE=["onClick"],dE={class:"tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100"},cE={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function uE(t,e,r,a,l,o){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:"tw-whitespace-nowrap focus:tw-ring-4 tw-ring-neutral-200 tw-bg-neutral-600/10 tw-text-neutral-800 focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center",type:"button"},[(0,s.Uk)((0,wt.zw)(o.selected.firstname)+" "+(0,wt.zw)(o.selected.lastname)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",wE,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",dE,(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),1)],8,nE)))),128))])],2)])),[[ie.L,o.close]]):((0,s.wg)(),(0,s.iD)("div",cE,[(0,s.Wm)(ct.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var pE={props:["affectation","id","sale"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,old:null}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},fetched(){return this.$store.getters["user/fetched"]},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.sale.items.some((e=>e.product_id==t.product_id))))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(this.old=this.affectation,t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},updateOrder(){ba.agenteUpdateAffectaion(this.id,this.selectedId).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateAffectation(this.id,this.selected.id),this.isLoading=!1)}),(t=>{this.$handleApiError(t),this.isLoading=!1,this.selectedId=this.old}))},updateAffectation(t,e){this.$store.dispatch("sale/updateAffectation",{id:t,affectation:e})}},mounted(){this.selectedId=this.affectation}};const gE=(0,m.Z)(pE,[["render",uE]]);var mE=gE;const hE={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},fE=["onClick"];function bE(t,e,r,a,l,o){const i=(0,s.up)("SaleDeliveryReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,wt.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,wt.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",hE,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,wt.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,wt.zw)(t.name),3)],8,fE)))),128))])],2),(0,s.Wm)(i,{order:r.sale,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])),[[ie.L,o.close]])}const vE={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},xE=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),yE=(0,s._)("br",null,null,-1),_E=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),kE={class:"tw-flex tw-justify-end tw-mt-2"};function CE(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",vE,[xE,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),yE,_E,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",kE,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var DE={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ba.deliveryUpdateDelivery(t.id,"reporter",t).then((()=>{this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const SE=(0,m.Z)(DE,[["render",CE]]);var zE=SE,UE={props:["delivery","id","sale"],components:{SaleDeliveryReporting:zE},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Hn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){return t.id!==this.selectedId&&("reporter"!==t.value?(this.selectedId=t.id,this.updateOrder(),this.close(),!0):void("reporter"==t.value&&(this.showPopupReporter=!0,this.close())))},async updateOrder(){return this.isLoading=!0,ba.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("sale/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const qE=(0,m.Z)(UE,[["render",bE]]);var PE=qE;const LE={key:0};function WE(t,e,r,a,l,o){const i=(0,s.up)("SaleHistory"),w=(0,s.up)("popup-full"),n=(0,s.up)("UpdateSale");return r.sale?((0,s.wg)(),(0,s.iD)("div",LE,[(0,s.Wm)(nt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.sale.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"]),t.$can("update_sale")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(t.$can("view_sale"),(0,s.kq)("",!0)),(t.$can("delete_sale"),(0,s.kq)("",!0)),(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=t=>l.showHistoryPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"teal",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-ascending-outline")])),_:1})])),_:1}),(0,s.Wm)(w,{visible:l.showHistoryPopup,onCancel:e[4]||(e[4]=t=>l.showHistoryPopup=!1)},{default:(0,s.w5)((()=>[l.showHistoryPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[3]||(e[3]=t=>l.showHistoryPopup=!1),sale:r.sale},null,8,["sale"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(n,{visible:l.showUpdatePopup,"onUpdate:visible":e[5]||(e[5]=t=>l.showUpdatePopup=t),order:r.sale},null,8,["visible","order"])])):(0,s.kq)("",!0)}var AE=r(7103),$E=r(795),EE=r(2773);const TE={class:"md:tw-w-[50%] tw-max-h-full tw-relative tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},FE={key:0,class:"tw-w-full tw-h-full"},jE={key:1,class:"tw-p-5"},IE={class:"d-flextw-flex-col justify-space-between flex-grow-1"},VE={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},OE={class:"tw-text-sm tw-capitalize tw-text-neutral-600"},HE={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},ME={class:"d-flextw-flex-col justify-space-between flex-grow-1"},RE={class:"tw-flex tw-flex-col tw-my-2"},NE=(0,s._)("div",null," New Order Created ",-1),YE={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"};function ZE(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",TE,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",FE,[(0,s.Wm)(i,{class:"text-primary-color"})])),(0,s.Wm)(nt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",jE,[(0,s.Wm)($E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(EE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",IE,[(0,s._)("div",VE,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",OE,(0,wt.zw)(t.users.firstname)+" "+(0,wt.zw)(t.users.lastname),1),(0,s._)("div",HE,[(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(EE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",ME,[(0,s._)("div",RE,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),NE]),(0,s._)("div",YE,[(0,s._)("span",null,(0,wt.zw)(r.sale.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(r.sale.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)])}var KE={props:["sale"],data(){return{isLoaded:!1,allEvents:[]}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("cancel")},getHistory(){this.isLoaded=!1,ba.history(this.sale.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const BE=(0,m.Z)(KE,[["render",ZE]]);var QE=BE;const JE={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},GE={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},XE=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),tT={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},eT={class:"md:tw-col-span-6 tw-col-span-12"},rT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),aT={class:"md:tw-col-span-6 tw-col-span-12"},sT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),lT={class:"md:tw-col-span-6 tw-col-span-12"},oT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),iT=["value"],wT=["value"],nT={class:"md:tw-col-span-6 tw-col-span-12"},dT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),cT={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},uT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),pT={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},gT={class:"tw-col-span-12"},mT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),hT={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},fT={class:"tw-col-span-12 md:tw-col-span-4"},bT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),vT={class:"tw-col-span-12 md:tw-col-span-8"},xT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),yT={class:"md:tw-col-span-6 tw-col-span-12"},_T=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),kT={class:"md:tw-col-span-6 tw-col-span-12"},CT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),DT=["value"],ST={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},zT={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},UT={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},qT=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),PT={class:"tw-flex tw-flex-col tw-justify-center"},LT=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),WT={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},AT={key:2,class:"md:tw-col-span-12 tw-col-span-12"},$T={class:"tw-max-w-full tw-overflow-auto"},ET={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},TT={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},FT={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},jT=["src"],IT={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},VT=["onUpdate:modelValue"],OT=(0,s._)("option",{value:0},"Select",-1),HT=["value"],MT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},RT=["disabled","onUpdate:modelValue"],NT=(0,s._)("option",{value:0},"Select",-1),YT=["value"],ZT={key:0},KT={key:1},BT={key:2},QT={key:3},JT=["value"],GT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},XT={class:"md:tw-col-span-6 tw-col-span-12"},tF=["onUpdate:modelValue"],eF={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},rF={key:0},aF={key:1,class:"md:tw-col-span-6 tw-col-span-12"},sF=["onUpdate:modelValue"],lF={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},oF={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},iF=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),wF={class:"md:tw-col-span-12 tw-col-span-12"},nF={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},dF=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),cF={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},uF=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),pF={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},gF=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),mF={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},hF=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),fF={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},bF={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},vF=(0,s._)("span",{class:"text-white"}," Cancel ",-1),xF=(0,s._)("span",{class:"text-white"}," Update ",-1);function yF(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",JE,[(0,s.Wm)(w)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",GE,[XE,(0,s._)("div",tT,[(0,s._)("div",eT,[rT,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",aT,[sT,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",lT,[oT,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,wt.zw)(o.sale.city),9,iT),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,wT)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",nT,[dT,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",cT,[uT,(0,s.Wm)(n,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",pT,[(0,s._)("div",gT,[mT,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",hT,[(0,s._)("div",fT,[bT,(0,s._)("div",null,(0,wt.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",vT,[xT,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",yT,[_T,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",kT,[CT,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,wt.zw)(t.name),9,DT)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",ST,[(0,s._)("div",zT,[(0,s._)("label",UT,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),qT]),(0,s._)("label",PT,[(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),LT,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",WT," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",AT,[(0,s._)("div",$T,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",ET,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",TT,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",FT,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,jT)):(0,s.kq)("",!0)])])),(0,s._)("th",IT,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[OT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,HT)))),128))],8,VT),[[a.bM,t.product.id]])])])]),(0,s._)("th",MT,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[NT,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",KT,(0,wt.zw)(t.size)+" / "+(0,wt.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",BT,(0,wt.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",QT,(0,wt.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",ZT,"-"))],8,YT)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,JT))],8,RT)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",GT,[(0,s._)("div",XT,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,tF),[[a.nr,t.quantity]])])]),(0,s._)("th",eF,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",rF," - ")):((0,s.wg)(),(0,s.iD)("div",aF,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,sF),[[a.nr,t.price]])]))])]),(0,s._)("th",lF,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",oF,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),iF])),_:1},8,["onClick"])])]),(0,s._)("div",wF,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",nF,[dF,(0,s._)("div",cF,[uF,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",pF,[gF,(0,s._)("div",mF,[hF,(0,s._)("div",fF,(0,wt.zw)(o.currency)+" "+(0,wt.zw)(i.total_price),1)])])]),(0,s._)("div",bF,[(0,s.Wm)(nt.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[vF])),_:1},8,["onClick"]),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[xF])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const _F={class:"tw-relative"},kF=["value"],CF={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},DF=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),SF={class:"tw-flex tw-justify-end tw-mt-2"};function zF(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("AddOrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px] tw-w-full"},[(0,s._)("div",null,[(0,s._)("div",_F,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.confirmationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text,!t.value&&"!tw-text-gray-700"]),key:t.id,value:t.value},(0,wt.zw)(t.name),11,kF)))),128))],512),[[a.bM,i.confirmationValue]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",CF,[DF,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",SF,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(n,{order:r.order,onConfirm:i.handleReportedDate,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","onConfirm","visible"])])),[[ie.L,i.close]])}const UF={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},qF=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),PF=(0,s._)("br",null,null,-1),LF=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),WF={class:"tw-flex tw-justify-end tw-mt-2"};function AF(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",UF,[qF,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),PF,LF,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",WF,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var $F={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.$emit("confirm",{reported_agente_date:this.realDate,reported_agente_note:this.note}),this.isLoading=!0},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}}};const EF=(0,m.Z)($F,[["render",AF]]);var TF=EF,FF={props:["confirmation","id","order"],components:{AddOrderReporting:TF},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:jn,reported_agente_date:null,reported_agente_note:"",showPopupReporter:!1}},watch:{},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},confirmationValue:{get(){return this.confirmation},set(t){switch(t){case"reporter":this.showPopupReporter=!0;break;case"confirmer":this.showPopup=!0;break;default:this.$emit("update:confirmation",t);break}}},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleReportedDate(t){this.reported_agente_date=t.reported_agente_date,this.reported_agente_note=t.reported_agente_note,this.$emit("update:confirmation","reporter"),this.$emit("reported",t),this.showPopupReporter=!1},handleClick(){this.showPopup=!1,this.$emit("update:confirmation","confirmer"),this.$emit("confirmed",this.note)},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ba.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t)))},async updateOrderWithNote(){return this.isLoading=!0,ba.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationWithNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("order/updateConfirmation",{id:t,confirmation:e}),this.$emit("update",e)},updateConfirmationWithNote(t,e,r){this.$store.dispatch("order/updateConfirmationWithNote",{id:t,confirmation:e,note:r}),this.$emit("update",e)}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const jF=(0,m.Z)(FF,[["render",zF]]);var IF=jF;const VF={class:"tw-relative"},OF=["disabled"],HF=["value"],MF={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function RF(t,e,r,l,o,i){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("div",null,[(0,s._)("div",VF,[(0,s.wy)((0,s._)("select",{disabled:"confirmer"!=r.confirmation,"onUpdate:modelValue":e[0]||(e[0]=t=>i.affectationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.firstname+" "+t.lastname),9,HF)))),128))],8,OF),[[a.bM,i.affectationValue]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),[[ie.L,i.close]]):((0,s.wg)(),(0,s.iD)("div",MF,[(0,s.Wm)(ct.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var NF={props:["affectation","id","order","confirmation","items","productIds"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,fetched:!1}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},order_items(){return this.items},affectationValue:{get(){return this.affectation},set(t){this.$emit("update:affectation",t)}},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.productIds.includes(t.product_id)))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},getUsers(){this.fetched=!1,ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0),this.fetched=!0}})).catch(this.$handleApiError)}},mounted(){this.selectedId=this.affectation,this.getUsers()}};const YF=(0,m.Z)(NF,[["render",RF]]);var ZF=YF;const KF=(0,s._)("h1",{class:"tw-mb-2 tw-font-medium"},"Offers",-1),BF={class:"tw-relative tw-overflow-x-auto tw-border-b sm:tw-rounded"},QF={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},JF=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),GF={class:"tw-px-6 tw-py-4"},XF={class:"tw-px-6 tw-py-4"},tj={class:"tw-px-6 tw-py-4"},ej={class:"tw-px-6 tw-py-4"},rj={class:"tw-max-w-[250px] tw-text-sm"},aj={key:0},sj=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),lj=[sj];function oj(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[KF,(0,s._)("div",null,[(0,s._)("div",BF,[(0,s._)("table",QF,[JF,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",GF,(0,wt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",XF,(0,wt.zw)(t.quantity),1),(0,s._)("td",tj,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",ej,[(0,s._)("p",rj,(0,wt.zw)(t.note),1)])])))),128)),0==o.offers.length?((0,s.wg)(),(0,s.iD)("tr",aj,lj)):(0,s.kq)("",!0)])])])])])}var ij={props:["productIds"],data(){return{currency:c}},computed:{products(){return this.$store.getters["product/products"]},offers(){return this.products.filter((t=>this.productIds.includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}}};const wj=(0,m.Z)(ij,[["render",oj]]);var nj=wj,dj={components:{AddOrderConfirmation:IF,AddOrderAffectation:ZF,ProductOffers:nj},props:["visible","order"],data(){return{upsells:On,serverUrl:n,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!1}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,order_id:this.order.id,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},update(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={id:this.sale.id,fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};"confirmer"!=t.confirmation&&(t.affectation=null,t.delivery=null),this.isLoading=!0,ba.update(t.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"Order updated"}),this.$store.dispatch("sale/update",{id:t.id,sale:e.data.data.sale}),this.$emit("update:visible",!1),this.$emit("updateOrder",e.data.data.sale))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.sale={...this.order},this.items=[...this.order.items],this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.sale={...this.order},this.items=[...this.order.items]}};const cj=(0,m.Z)(dj,[["render",yF]]);var uj=cj,pj={props:["sale"],name:"saleActions",components:{SaleHistory:QE,UpdateSale:uj},data(){return{showPopup:!1,showUpdatePopup:!1,showHistoryPopup:!1,isLoading:!1}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{}};const gj=(0,m.Z)(pj,[["render",WE]]);var mj=gj,hj={props:{sales:{required:!0},selectedReset:{required:!1,default:[]}},components:{SaleConfirmation:iE,SaleAffectation:mE,SaleDelivery:PE,SaleActions:mj},data(){return{allowedLimit:[5,10,20,50,100,300,500],currentPage:1,paginationLimit:50,todayDate:null,selected:[],isAllSelected:!1,columns:["id","date","city","products","client","confirmation","affectation","delivery","price","actions"]}},watch:{selectedReset(t){this.selected=t,0==this.selected.length&&(this.isAllSelected=!1)},paginationLimit(){this.currentPage=1},selected(t){this.$emit("selected",t)}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sales.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.sales.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.sales.filter(this.isReportedToday)}},methods:{getPrice(t){return vo(t)},isReportedToday(t){return this.isConfirmationReportedToday(t)||this.isDeliveryReportedToday(t)},isDeliveryReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date?.split("T")[0]==this.todayDate},isConfirmationReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date?.split("T")[0]==this.todayDate},handleSelect(t,e){t.target.checked?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!=e))},isSelected(t){return this.selected.includes(t)},handleSelectAll(t){t.target.checked?this.selected=[...this.items.map((t=>t.id))]:this.selected=[]}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const fj=(0,m.Z)(hj,[["render",M$]]);var bj=fj;const vj={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},xj={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},yj=(0,s._)("h1",{class:"tw-text-lg"},"Create Order",-1),_j={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},kj={class:"md:tw-col-span-6 tw-col-span-12"},Cj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),Dj={class:"md:tw-col-span-6 tw-col-span-12"},Sj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),zj={class:"md:tw-col-span-6 tw-col-span-12"},Uj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),qj=["value"],Pj={class:"md:tw-col-span-6 tw-col-span-12"},Lj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),Wj={class:"md:tw-col-span-12 tw-col-span-12"},Aj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),$j={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},Ej=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse",-1),Tj=(0,s._)("option",{value:0}," Select ",-1),Fj=["value"],jj={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},Ij=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),Vj=(0,s._)("option",{value:0}," Select ",-1),Oj=["value"],Hj={class:"md:tw-col-span-6 tw-col-span-12"},Mj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variations",-1),Rj=(0,s._)("option",{value:0}," Select ",-1),Nj=["value"],Yj={class:"md:tw-col-span-6 tw-col-span-12"},Zj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Kj={class:"md:tw-col-span-6 tw-col-span-12"},Bj={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Qj={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},Jj=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Gj={class:"tw-flex tw-flex-col tw-justify-center"},Xj={class:"md:tw-col-span-6 tw-col-span-12"},tI={key:0,class:"md:tw-col-span-12 tw-col-span-12"},eI={class:"tw-max-w-full tw-overflow-auto"},rI={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},aI={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},sI={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},lI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},oI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},iI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},wI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},nI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},dI={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},cI=(0,s._)("span",{class:"text-white"}," Cancel ",-1),uI=(0,s._)("span",{class:"text-white"}," Save ",-1);function pI(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[12]||(e[12]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vj,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",xj,[yj,(0,s._)("div",_j,[(0,s._)("div",kj,[Cj,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",Dj,[Sj,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",zj,[Uj,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,qj)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",Pj,[Lj,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",Wj,[Aj,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>o.sale.price=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])]),(0,s._)("div",$j,[Ej,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.warehouse_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Tj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Fj)))),128))],512),[[a.bM,o.warehouse_id]])]),(0,s._)("div",jj,[Ij,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.product_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Vj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Oj)))),128))],512),[[a.bM,o.product_id]])]),(0,s._)("div",Hj,[Mj,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.product_variation_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Rj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.size)+" / "+(0,wt.zw)(t.color),9,Nj)))),128))],512),[[a.bM,o.product_variation_id]])]),(0,s._)("div",Yj,[Zj,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>o.quantity=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.quantity]])]),(0,s._)("div",Kj,[(0,s._)("div",Bj,[(0,s._)("label",Qj,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),Jj]),(0,s._)("label",Gj,[(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),(0,s._)("div",Xj,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-block tw-ml-auto tw-py-1 tw-px-4 tw-rounded tw-bg-emerald-500 tw-text-white"}," Add ")]),o.items.length?((0,s.wg)(),(0,s.iD)("div",tI,[(0,s._)("div",eI,[(0,s._)("table",rI,[(0,s._)("thead",aI,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","warehouse","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",sI,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",lI,(0,wt.zw)(t.product.name),1),(0,s._)("th",oI,(0,wt.zw)(t.product_variation.size)+" / "+(0,wt.zw)(t.product_variation.color),1),(0,s._)("th",iI,(0,wt.zw)(t.quantity),1),(0,s._)("th",wI,(0,wt.zw)(t.product_variation.warehouse.name),1),(0,s._)("th",nI,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])):(0,s.kq)("",!0)]),(0,s._)("div",dI,[(0,s.Wm)(nt.T,{onClick:e[11]||(e[11]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[cI])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[uI])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var gI={props:["visible"],data(){return{isLoading:!1,isLoaded:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],sale:{fullname:"",phone:"",city:"",adresse:"",price:0,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0}},computed:{products(){return this.$store.getters["product/products"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return 0==this.warehouse_id?[]:this.products.filter((t=>t.variations.some((t=>t.warehouse_id==this.warehouse_id))))},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,orderItems:this.items,counts_from_warehouse:!0};ba.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sale created successfully"}),this.$store.dispatch("sale/add",t.data.data.sale))}),this.$handleApiError).finally((()=>this.isLoading=!1))},deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},addItem(){if([this.warehouse_id,this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:0};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.item_id+=1},getProducts(){ha.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}},mounted(){this.getProducts(),this.sale.city=this.cities[0].name||1}};const mI=(0,m.Z)(gI,[["render",pI]]);var hI=mI;const fI={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},bI={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},vI=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),xI={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},yI={class:"md:tw-col-span-6 tw-col-span-12"},_I=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),kI={class:"md:tw-col-span-6 tw-col-span-12"},CI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),DI={class:"md:tw-col-span-6 tw-col-span-12"},SI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),zI=["value"],UI=["value"],qI={class:"md:tw-col-span-6 tw-col-span-12"},PI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),LI={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},WI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),AI={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},$I={class:"tw-col-span-12"},EI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),TI={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},FI={class:"tw-col-span-12 md:tw-col-span-4"},jI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),II={class:"tw-col-span-12 md:tw-col-span-8"},VI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),OI={class:"md:tw-col-span-6 tw-col-span-12"},HI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),MI={class:"md:tw-col-span-6 tw-col-span-12"},RI=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),NI=["value"],YI={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},ZI={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},KI={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},BI=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),QI={class:"tw-flex tw-flex-col tw-justify-center"},JI=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),GI={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},XI={key:2,class:"md:tw-col-span-12 tw-col-span-12"},tV={class:"tw-max-w-full tw-overflow-auto"},eV={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},rV={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},aV={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},sV=["src"],lV={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},oV=["onUpdate:modelValue"],iV=(0,s._)("option",{value:0},"Select",-1),wV=["value"],nV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},dV=["disabled","onUpdate:modelValue"],cV=(0,s._)("option",{value:0},"Select",-1),uV=["value"],pV={key:0},gV={key:1},mV={key:2},hV={key:3},fV=["value"],bV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},vV={class:"md:tw-col-span-6 tw-col-span-12"},xV=["onUpdate:modelValue"],yV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},_V={key:0},kV={key:1,class:"md:tw-col-span-6 tw-col-span-12"},CV=["onUpdate:modelValue"],DV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},SV={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},zV=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),UV={class:"md:tw-col-span-12 tw-col-span-12"},qV={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},PV=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),LV={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},WV=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),AV={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},$V=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),EV={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},TV=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),FV={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},jV={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},IV=(0,s._)("span",{class:"text-white"}," Cancel ",-1),VV=(0,s._)("span",{class:"text-white"}," Create ",-1);function OV(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fI,[(0,s.Wm)(w)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",bI,[vI,(0,s._)("div",xI,[(0,s._)("div",yI,[_I,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",kI,[CI,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",DI,[SI,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,wt.zw)(o.sale.city),9,zI),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,UI)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",qI,[PI,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",LI,[WI,(0,s.Wm)(n,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",AI,[(0,s._)("div",$I,[EI,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",TI,[(0,s._)("div",FI,[jI,(0,s._)("div",null,(0,wt.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",II,[VI,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",OI,[HI,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",MI,[RI,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,wt.zw)(t.name),9,NI)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",YI,[(0,s._)("div",ZI,[(0,s._)("label",KI,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),BI]),(0,s._)("label",QI,[(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),JI,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",GI," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",XI,[(0,s._)("div",tV,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",eV,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",rV,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",aV,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,sV)):(0,s.kq)("",!0)])])),(0,s._)("th",lV,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[iV,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,wV)))),128))],8,oV),[[a.bM,t.product.id]])])])]),(0,s._)("th",nV,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[cV,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",gV,(0,wt.zw)(t.size)+" / "+(0,wt.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",mV,(0,wt.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",hV,(0,wt.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",pV,"-"))],8,uV)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,fV))],8,dV)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",bV,[(0,s._)("div",vV,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,xV),[[a.nr,t.quantity]])])]),(0,s._)("th",yV,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",_V," - ")):((0,s.wg)(),(0,s.iD)("div",kV,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,CV),[[a.nr,t.price]])]))])]),(0,s._)("th",DV,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",SV,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),zV])),_:1},8,["onClick"])])]),(0,s._)("div",UV,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",qV,[PV,(0,s._)("div",LV,[WV,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",AV,[$V,(0,s._)("div",EV,[TV,(0,s._)("div",FV,(0,wt.zw)(o.currency)+" "+(0,wt.zw)(i.total_price),1)])])]),(0,s._)("div",jV,[(0,s.Wm)(nt.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[IV])),_:1},8,["onClick"]),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[VV])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var HV={components:{AddOrderConfirmation:IF,AddOrderAffectation:ZF,ProductOffers:nj},props:["visible","order"],data(){return{upsells:On,serverUrl:n,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},create(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};this.isLoading=!0,ba.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"New Order Added"}),this.$store.dispatch("sale/add",t.data.data.sale),this.$emit("update:visible",!1))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){}};const MV=(0,m.Z)(HV,[["render",OV]]);var RV=MV;const NV={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},YV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ZV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},KV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},BV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},QV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},JV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},GV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},XV={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"};function tO(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),w=(0,s.up)("UpsellFilter"),n=(0,s.up)("ConfirmationFilter"),d=(0,s.up)("AffectationFilter"),c=(0,s.up)("AgenteFilter"),u=(0,s.up)("DeliveryFilter"),p=(0,s.up)("ProductFilter"),g=(0,s.up)("ExcelExport");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",NV,[(0,s._)("div",YV,[(0,s.Wm)(i,{filter:l.config.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>l.config.dateFilter=t)},null,8,["filter"])]),(0,s._)("div",ZV,[(0,s.Wm)(w,{filter:l.config.upsellFilter,"onUpdate:filter":e[1]||(e[1]=t=>l.config.upsellFilter=t)},null,8,["filter"])]),(0,s._)("div",KV,[(0,s.Wm)(n,{filter:l.config.confirmationFilter,"onUpdate:filter":e[2]||(e[2]=t=>l.config.confirmationFilter=t)},null,8,["filter"])]),(0,s._)("div",BV,[(0,s.Wm)(d,{filter:l.config.affectationFilter,"onUpdate:filter":e[3]||(e[3]=t=>l.config.affectationFilter=t)},null,8,["filter"])]),(0,s._)("div",QV,[(0,s.Wm)(c,{filter:l.config.agenteFilter,"onUpdate:filter":e[4]||(e[4]=t=>l.config.agenteFilter=t)},null,8,["filter"])]),(0,s._)("div",JV,[(0,s.Wm)(u,{filter:l.config.deliveryFilter,"onUpdate:filter":e[5]||(e[5]=t=>l.config.deliveryFilter=t)},null,8,["filter"])]),(0,s._)("div",GV,[(0,s.Wm)(p,{filter:l.config.productFilter,"onUpdate:filter":e[6]||(e[6]=t=>l.config.productFilter=t)},null,8,["filter"])]),(0,s._)("div",XV,[(0,s.Wm)(g,{selected:r.selected,filtered:r.filtered,sales:r.sales},null,8,["selected","filtered","sales"])])])])}const eO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),rO=["onClick"];function aO(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[eO,(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,rO)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var sO={data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const lO=(0,m.Z)(sO,[["render",aO]]);var oO=lO;const iO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),wO={class:"tw-relative"},nO=(0,s._)("option",{value:"all"},"Select",-1),dO=(0,s._)("option",{value:"oui"},"Oui",-1),cO=(0,s._)("option",{value:"non"},"Non",-1),uO=[nO,dO,cO];function pO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[iO,(0,s._)("div",wO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},uO,512),[[a.bM,o.value]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var gO={data(){return{value:"all"}},watch:{value(t){this.$emit("update:filter",t)}}};const mO=(0,m.Z)(gO,[["render",pO]]);var hO=mO;const fO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),bO={class:"tw-relative"},vO=["value"];function xO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[fO,(0,s._)("div",bO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value?t.value:"all",key:t.id},(0,wt.zw)(t.value?t.name:"Select"),9,vO)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var yO={props:["filter"],data(){return{deliveryFilter:"all",deliveryStatus:Hn}},watch:{deliveryFilter(t){this.$emit("update:filter",t)}}};const _O=(0,m.Z)(yO,[["render",xO]]);var kO=_O;const CO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Confirmation",-1),DO={class:"tw-relative"},SO=(0,s._)("option",{value:"all"}," Select ",-1),zO=["value"];function UO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[CO,(0,s._)("div",DO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.confirmationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[SO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value},(0,wt.zw)(t.name),9,zO)))),128))],512),[[a.bM,o.confirmationFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var qO={props:["filter"],data(){return{confirmationFilter:"all",confirmations:jn}},watch:{confirmationFilter(t){this.$emit("update:filter",t)}}};const PO=(0,m.Z)(qO,[["render",UO]]);var LO=PO;const WO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Affecté",-1),AO={class:"tw-relative"},$O=(0,s._)("option",{value:"all"},"Select",-1),EO=(0,s._)("option",{value:null},"Without delivery",-1),TO=["value"];function FO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[WO,(0,s._)("div",AO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.affectationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[$O,EO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,TO)))),128))],512),[[a.bM,o.affectationFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var jO={props:["filter"],data(){return{affectationFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))}},watch:{affectationFilter(t){this.$emit("update:filter",t)}}};const IO=(0,m.Z)(jO,[["render",FO]]);var VO=IO;const OO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agente",-1),HO={class:"tw-relative"},MO=(0,s._)("option",{value:"all"},"Select",-1),RO=(0,s._)("option",{value:null},"Without agente",-1),NO=["value"];function YO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[OO,(0,s._)("div",HO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.agenteFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[MO,RO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agentes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,NO)))),128))],512),[[a.bM,o.agenteFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var ZO={props:["filter"],data(){return{agenteFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},agentes(){return this.users.filter((t=>2==t.role.id))}},watch:{agenteFilter(t){this.$emit("update:filter",t)}}};const KO=(0,m.Z)(ZO,[["render",YO]]);var BO=KO;const QO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Product",-1),JO={key:0},GO={key:1,class:"tw-relative"},XO=(0,s._)("option",{value:"all"},"Select",-1),tH=["value"];function eH(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[QO,i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",JO,[(0,s._)("div",null,[(0,s.Wm)(ct.t,{class:"tw-text-orange-500 tw-animate-spin tw-text-lg tw-"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),i.fetched?((0,s.wg)(),(0,s.iD)("div",GO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[XO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,tH)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])):(0,s.kq)("",!0)])}var rH={props:["filter"],data(){return{productFilter:"all"}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},watch:{productFilter(t){this.$emit("update:filter",t)}},methods:{getProducts(){ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts(),console.log(this.products)}};const aH=(0,m.Z)(rH,[["render",eH]]);var sH=aH;function lH(t,e,r,{confirmationFilter:a,affectationFilter:s,upsellFilter:l,deliveryFilter:o,agenteFilter:i,dateFilter:w,productFilter:n}){const d=w[0],c=w[1];return t.filter((t=>{const w=new Date(t.created_at);if(""!=r&&r!=t.id)return!1;if("all"!==a&&t.confirmation!==a)return!1;if("all"!==s&&t.affectation!=s)return!1;if("all"!==l&&t.upsell!=l)return!1;if("all"!==o&&t.delivery!=o)return!1;if("all"!==i&&t.agente_id!=i)return!1;const u=((t,e)=>{for(const r in t)if(!["created_at","updated_at","sheets_id","reported_agente_note","reported_agente_note","reported_agente_date","reported_delivery_note","reported_delivery_date"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(t,e);if(!u)return!1;if("all"!==n&&!t.items.some((t=>t.product_id==n)))return!1;const p=w.getDate(),g=w.getMonth(),m=w.getFullYear();if(d){const t=d.getDate(),e=d.getMonth(),r=d.getFullYear();if(m<r||m===r&&g<e||m===r&&g===e&&p<t)return!1}if(c){const t=c.getDate(),e=c.getMonth(),r=c.getFullYear();if(m>r||m===r&&g>e||m===r&&g===e&&p>t)return!1}return!0}))}function oH(t){return{id:1,title:"New",value:t.filter((t=>!t.confirmation||"new"==t.confirmation)).length,pourcentage:(100*t.filter((t=>!t.confirmation||"new"==t.confirmation)).length/t.length).toFixed(2),color:"primary-green",icon:"mdi mdi-new-box"}}function iH(t){return{id:3,title:"Confirmed",value:t.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*t.filter((t=>"confirmer"==t.confirmation)).length/t.length).toFixed(2),color:"deep-purple-accent-2",icon:"mdi-phone-check"}}function wH(t){return{id:4,title:"Delivered",value:t.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*t.filter((t=>"livrer"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi-account-check-outline"}}function nH(t){return{id:5,title:"Shipped",value:t.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*t.filter((t=>"expidier"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red",icon:"mdi-truck"}}const dH=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Export",-1),cH={class:"tw-relative tw-flex tw-items-center tw-gap-2 tw-justify-between"},uH={class:"tw-relative tw-w-full"},pH=(0,s._)("option",{value:"all"},"All Sales",-1),gH=(0,s._)("option",{value:"selected"},"Selected Sales",-1),mH=(0,s._)("option",{value:"filtered"},"Filtered Sales",-1),hH=[pH,gH,mH];function fH(t,e,r,l,o,i){const w=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",null,[dH,(0,s._)("div",cH,[(0,s._)("div",uH,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.selection=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},hH,512),[[a.bM,o.selection]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s.Wm)(w,{delimiter:";",data:i.toImport},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.T,{onClick:i.handleImport,icon:"",rounded:"lg",variant:"flat",size:"x-small",color:"green",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",icon:"mdi-download",size:"x-large"})])),_:1},8,["onClick"])])),_:1},8,["data"])])])}var bH={props:["selected","filtered","sales"],data(){return{selection:"all"}},computed:{toImport(){const t=this.data.map((t=>({...t}))),e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));return a.map((t=>(delete t["items"],t)))},data(){switch(this.selection){case"selected":return this.selected;case"filtered":return this.filtered;default:return this.sales}}},methods:{handleImport(){0==this.data.length&&this.$alert({title:"No Data To Export",type:"warning"})}}};const vH=(0,m.Z)(bH,[["render",fH]]);var xH=vH,yH={components:{DateFilter:oO,UpsellFilter:hO,DeliveryFilter:kO,ConfirmationFilter:LO,AffectationFilter:VO,AgenteFilter:BO,ProductFilter:sH,ExcelExport:xH},props:["sales","filtered","search","searchId","selected"],data(){return{config:{confirmationFilter:"all",affectationFilter:"all",upsellFilter:"all",deliveryFilter:"all",agenteFilter:"all",productFilter:"all",dateFilter:[null,null]}}},computed:{results(){return lH(this.sales,this.search,this.searchId,this.config)}},watch:{results(t){this.$emit("update:filtered",t)}},mounted(){this.$emit("update:filtered",this.sales)}};const _H=(0,m.Z)(yH,[["render",tO]]);var kH=_H;const CH={class:"mb-5 tw-border-b tw-border-solid tw-pb-5 tw-border-neutral-200"},DH={class:"tw-grid tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2"},SH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},zH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},UH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},qH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-4"};function PH(t,e,r,a,l,o){const i=(0,s.up)("DashItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",CH,[(0,s._)("div",DH,[(0,s._)("div",SH,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",zH,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",UH,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",qH,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])])])])])}const LH={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},WH={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},AH={class:"tw-text-xl tw-font-bold"},$H={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},EH={class:"tw-text-sm"},TH={class:"rounded-circle tw-w-fit tw-mr-3"};function FH(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Qa.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",LH,[(0,s._)("div",WH,[(0,s._)("p",AH,(0,wt.zw)(isNaN(r.dash.pourcentage)?"0.00":r.dash.pourcentage)+" "+(0,wt.zw)(r.symbol),1),(0,s._)("span",$H,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",EH,(0,wt.zw)(r.dash.title),1)])]),(0,s._)("div",TH,[(0,s.Wm)(ct.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var jH={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const IH=(0,m.Z)(jH,[["render",FH]]);var VH=IH,OH={components:{DashItem:VH},props:["sales"],computed:{newSales(){return oH(this.sales)},confirmedSales(){return iH(this.sales)},deliveredSales(){return wH(this.sales)},shippedSales(){return nH(this.sales)}}};const HH=(0,m.Z)(OH,[["render",PH]]);var MH=HH,RH={components:{SalesTable:bj,AddSale:hI,SalesAnalytics:MH,IndexFilter:kH,NewAddSale:RV},data(){return{localUrl:w,isLoaded:!1,isLoadingReset:!1,showFilters:!1,isButtonDisabled:!0,filteredSales:[],search:"",searchId:"",selected:[],showPopup:!1}},computed:{fetched(){return this.$store.getters["sale/fetched"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))},agentes(){return this.users.filter((t=>2==t.role.id))},sales(){return this.$store.getters["sale/sales"]},cities(){return this.$store.getters["city/cities"]},selectedSales(){return this.sales.filter((t=>this.selected.includes(t.id)))}},methods:{handleSelected(t){this.selected=t,this.selected.length>0?this.isButtonDisabled=!1:this.isButtonDisabled=!0},async getDeliveries(){await ot.deliveries().then((t=>{this.$store.dispatch("user/setDeliveries",t.data.data)}),this.$handleApiError)},async getUsers(){await ot.all().then((t=>{this.$store.dispatch("user/setUsers",t.data.data.users)}),this.$handleApiError)},getSales(){return ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getCities(){if(0==this.cities.length)return ot.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e)}))},handleReset(){this.isLoadingReset=!0,0!=this.selected.length&&ba.resetSale(this.selected).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("sale/resetSales",this.selected),this.selected=[])})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingReset=!1))}},async mounted(){0==this.deliveries.length&&(await this.getDeliveries(),this.getUsers()),this.fetched&&(this.isLoaded=!0),this.fetched&&(this.getProducts(),this.getCities())}};const NH=(0,m.Z)(RH,[["render",GA]]);var YH=NH;const ZH={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},KH={class:"tw-px-3"},BH={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},QH={class:"tw-flex tw-items-center tw-gap-x-3"},JH=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),GH={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},XH=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all orders. ",-1),tM={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},eM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),rM=(0,s._)("span",null,"Create",-1),aM=[eM,rM],sM={class:"tw-overflow-hidden tw-col-span-1"},lM={key:0};function oM(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",ZH,[(0,s._)("section",KH,[(0,s._)("div",BH,[(0,s._)("div",null,[(0,s._)("div",QH,[JH,(0,s._)("span",GH,(0,wt.zw)(l.totalOrders)+" order",1)]),XH]),(0,s._)("div",tM,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},aM)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),"search-by-field":l.searchByField,"onUpdate:searchByField":e[2]||(e[2]=t=>l.searchByField=t),filters:l.filters,"onUpdate:filters":e[3]||(e[3]=t=>l.filters=t),onFilter:e[4]||(e[4]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",sM,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[6]||(e[6]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",lM,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const iM={class:"tw-flex tw-flex-col"},wM={class:"tw-overflow-x-auto"},nM={class:"tw-inline-block tw-min-w-full tw-align-middle"},dM={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},cM={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},uM={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},pM={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},gM={class:"tw-max-w-[25px]"},mM={class:"tw-inline-flex tw-items-center"},hM={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},fM=["checked"],bM=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),vM=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),xM={scope:"col",class:"tw-py-3.5 tw-px-2 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},yM=(0,s._)("span",null,"Created",-1),_M=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),kM=[yM,_M],CM={key:0,scope:"col",class:"tw-py-3.5 tw-px-2 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},DM=(0,s._)("span",null,"Updated",-1),SM=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),zM=[DM,SM],UM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller ",-1),qM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),PM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),LM=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),WM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),AM=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),$M=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),EM=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),TM=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),FM={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},jM={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},IM=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),VM=[IM],OM={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},HM={colspan:"11"},MM={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},RM=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),NM=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),YM=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),ZM=[NM,YM],KM={class:"tw-mt-6"};function BM(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",iM,[(0,s._)("div",wM,[(0,s._)("div",nM,[(0,s._)("div",dM,[(0,s._)("table",cM,[(0,s._)("thead",uM,[(0,s._)("tr",null,[(0,s._)("th",pM,[(0,s._)("div",gM,[(0,s._)("div",mM,[(0,s._)("label",hM,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,fM),bM])])])]),vM,(0,s._)("th",xM,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},kM)]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",CM,[(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("sortOrder",{name:"updated_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},zM)])):(0,s.kq)("",!0),UM,qM,PM,LM,WM,AM,$M,EM,TM])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",FM,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,w)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[3]||(e[3]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),all:w,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",jM,VM)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",OM,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",HM,[(0,s._)("div",MM,[RM,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},ZM)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",KM,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[5]||(e[5]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const QM={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},JM={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},GM={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},XM={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},tR=["disabled"],eR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),rR=(0,s._)("span",null," previous ",-1),aR=[eR,rR],sR=["disabled"],lR=(0,s._)("span",null," Next ",-1),oR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),iR=[lR,oR];function wR(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",QM,[(0,s._)("div",JM,[(0,s.Uk)(" Page "),(0,s._)("span",GM,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",XM,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},aR,10,tR),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},iR,10,sR)])])])}var nR={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const dR=(0,m.Z)(nR,[["render",wR]]);var cR=dR;const uR={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},pR={class:"tw-max-w-[25px]"},gR={class:"tw-inline-flex tw-items-center"},mR={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},hR=["checked","id"],fR=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),bR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},vR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},xR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},yR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},_R={key:0,class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},CR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},DR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},SR={key:0},zR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},UR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},qR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},PR={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},LR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},WR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},AR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$R={class:"tw-space-y-1"},ER={class:"tw-font-bold tw-text-green-500"},TR={class:"tw-block tw-max-w-[150px] tw-truncate"},FR={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},jR={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},IR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},VR={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},OR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},HR={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function MR(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,wt.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300",r.item.is_paid_by_delivery&&r.item.is_delivered&&" tw-bg-emerald-50 tw-bg-gradient-to-r tw-via-white tw-from-emerald-200/50 tw-to-white",r.item.is_canceled&&" tw-bg-rose-50 tw-bg-gradient-to-r tw-via-white tw-from-rose-200/50 tw-to-white",r.item.is_paid_to_seller&&" tw-bg-cyan-50 tw-bg-gradient-to-r tw-via-white tw-from-cyan-200/50 tw-to-white"]])},[(0,s._)("td",uR,[(0,s._)("div",pR,[(0,s._)("div",gR,[(0,s._)("label",mR,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,hR),fR])])])]),(0,s._)("td",bR,[(0,s._)("div",null,[(0,s._)("h2",vR,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",xR,[(0,s._)("div",null,[(0,s._)("h2",yR,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("HH[:]mm[:]ss")),1)])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",_R,[(0,s._)("div",null,[(0,s._)("h2",kR,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.updated_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.updated_at).format("HH[:]mm[:]ss")),1)])])])):(0,s.kq)("",!0),(0,s._)("td",CR,[(0,s._)("div",null,[(0,s._)("h2",DR,[r.item.seller_user?((0,s.wg)(),(0,s.iD)("span",SR,(0,wt.zw)(r.item.seller_user.username),1)):(0,s.kq)("",!0)])])]),(0,s._)("td",zR,[(0,s._)("div",null,[(0,s._)("h2",UR,(0,wt.zw)(r.item.fullname),1)])]),(0,s._)("td",qR,[(0,s._)("div",null,[(0,s._)("h2",PR,(0,wt.zw)(r.item.city),1)])]),(0,s._)("td",LR,[(0,s._)("div",null,[(0,s._)("h2",WR,(0,wt.zw)(r.item.phone),1)])]),(0,s._)("td",AR,[(0,s._)("div",null,[(0,s._)("ul",$R,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",ER,(0,wt.zw)(t.quantity)+" x ",1),(0,s._)("span",TR,(0,wt.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",FR,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",jR,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",IR,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3)])]),(0,s._)("td",VR,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",OR,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",HR,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const RR={class:"tw-h-full"},NR={class:"tw-flex tw-items-center tw-gap-2"},YR=["href"],ZR={key:0},KR={key:1},BR={key:2};function QR(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),w=(0,s.up)("HistoryPopup"),n=(0,s.up)("HistoryItemPopup");return(0,s.wg)(),(0,s.iD)("div",RR,[(0,s._)("div",NR,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,YR),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>l.historyItem=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-yellow-500/20 hover:tw-bg-yellow-500/10 hover:tw-border-yellow-500/70 tw-duration-300 tw-text-yellow-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-alphabetical-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",ZR,[(0,s.Wm)(i,{onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[4]||(e[4]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",KR,[(0,s.Wm)(w,{visible:l.history,"onUpdate:visible":e[5]||(e[5]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.historyItem?((0,s.wg)(),(0,s.iD)("div",BR,[(0,s.Wm)(n,{visible:l.historyItem,"onUpdate:visible":e[6]||(e[6]=t=>l.historyItem=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const JR={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},GR=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),XR={class:"tw-bg-white tw-p-4"},tN={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},eN={class:"tw-col-span-2 md:tw-col-span-1"},rN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),aN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},sN={class:"tw-col-span-2 md:tw-col-span-1"},lN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),oN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},iN={class:"tw-col-span-2 md:tw-col-span-1"},wN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),nN={class:"tw-relative"},dN=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),cN=["value"],uN=["value"],pN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),gN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mN={class:"tw-col-span-2 md:tw-col-span-1"},hN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),fN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bN={class:"tw-col-span-2"},vN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),xN={class:"tw-relative"},yN=["value"],_N=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),kN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},CN={key:0,class:"md:tw-col-span-1 tw-col-span-2"},DN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),SN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zN={key:1,class:"md:tw-col-span-1 tw-col-span-2"},UN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),qN={class:"tw-col-span-2"},PN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),LN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},WN={class:"md:tw-col-span-1 tw-col-span-2"},AN={class:"tw-col-span-1"},$N=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),EN={class:"tw-relative"},TN=["value"],FN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),jN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},IN={key:2,class:"tw-col-span-1"},VN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),ON={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},HN={class:"md:tw-col-span-1 tw-col-span-2"},MN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),RN={class:"tw-relative"},NN=["value"],YN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ZN={class:"tw-col-span-2"},KN={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},BN={key:0,class:"tw-text-red-400 tw-text-xs"},QN={key:3,class:"tw-col-span-2"},JN={key:0},GN={key:0},XN={class:"tw-w-full tw-table-auto tw-border-collapse"},tY=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-border tw-px-4 tw-py-2"},"Product Name"),(0,s._)("th",{class:"tw-border tw-px-4 tw-py-2"},"Link video"),(0,s._)("th",{class:"tw-border tw-px-4 tw-py-2"},"Link Store")])],-1),eY={class:"tw-border tw-px-4 tw-py-2"},rY={class:"tw-border tw-px-4 tw-py-2"},aY=["href"],sY=(0,s._)("i",{class:"mdi mdi-youtube tw-mx-2 tw-text-orange-400 tw-text-2xl"},null,-1),lY={class:"tw-block tw-w-[150px] tw-truncate"},oY={class:"tw-border tw-px-4 tw-py-2"},iY=["href"],wY=(0,s._)("i",{class:"mdi mdi-store tw-mx-2 tw-text-orange-400 tw-text-2xl"},null,-1),nY={class:"tw-block tw-w-[150px] tw-truncate"},dY={class:"tw-my-2 tw-flex tw-justify-end"},cY={key:1,class:"tw-text-center"},uY={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},pY=["disabled"],gY=(0,s._)("span",null,"Update",-1);function mY(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",JR,[GR,(0,s._)("div",XR,[(0,s._)("div",tN,[(0,s._)("div",eN,[rN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",aN,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",sN,[lN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",oN,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",iN,[wN,(0,s._)("div",nN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[dN,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,cN),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,uN)))),128))],34),[[a.bM,o.itemCopy.city]]),pN]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",gN,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",mN,[hN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",fN,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",bN,[vN,(0,s._)("div",xN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,yN)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),_N]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",kN,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",CN,[DN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",SN,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",zN,[UN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",qN,[PN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",LN,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",WN,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",AN,[$N,(0,s._)("div",EN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.delivery=t),onChange:e[18]||(e[18]=t=>o.errors.delivery=null),class:(0,wt.C_)([[o.errors.delivery&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,TN)))),128))],34),[[a.bM,o.itemCopy.delivery]]),FN]),o.errors.delivery?((0,s.wg)(),(0,s.iD)("label",jN,(0,wt.zw)(o.errors.delivery),1)):(0,s.kq)("",!0)]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",IN,[VN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.parent_id=t),onInput:e[20]||(e[20]=t=>o.errors.parent_id=null),type:"text",class:(0,wt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",ON,(0,wt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",HN,[MN,(0,s._)("div",RN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[21]||(e[21]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,NN)))),128))],512),[[a.bM,o.itemCopy.upsell]]),YN])]),(0,s._)("div",ZN,[(0,s._)("label",KN,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",BN," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[22]||(e[22]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",QN,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"]),(0,s._)("button",{onClick:e[23]||(e[23]=t=>o.showProducts=!o.showProducts),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-my-5 tw-w-[150px] tw-h-[30px] tw-border tw-border-solid tw-border-emerald-500/20 hover:tw-bg-emerald-500/10 hover:tw-border-emerald-500/70 tw-duration-300 tw-text-emerald-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"}," Suggested Products "),o.showProducts?((0,s.wg)(),(0,s.iD)("div",JN,[i.paginatedProducts.length>0?((0,s.wg)(),(0,s.iD)("div",GN,[(0,s._)("table",XN,[tY,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.paginatedProducts,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",eY,(0,wt.zw)(t.name),1),(0,s._)("td",rY,[(0,s._)("a",{href:"https://"+t.video,target:"_blank",class:"tw-flex tw-items-center tw-text-blue-500 tw-hover:text-blue-800 hover:tw-underline"},[sY,(0,s._)("span",lY,(0,wt.zw)(t.video),1)],8,aY)]),(0,s._)("td",oY,[(0,s._)("a",{href:"https://"+t.store,target:"_blank",class:"tw-flex tw-items-center tw-text-blue-500 tw-hover:text-blue-800 hover:tw-underline"},[wY,(0,s._)("span",nY,(0,wt.zw)(t.store),1)],8,iY)])])))),128))])]),(0,s._)("div",dY,[(0,s._)("button",{class:"tw-border-solid tw-border-2 tw-rounded-lg tw-border-gray-400 tw-py-1 tw-px-3 tw-mr-2",onClick:e[24]||(e[24]=(...t)=>i.previousPage&&i.previousPage(...t))},"Previous"),(0,s._)("button",{class:"tw-border-solid tw-border-2 tw-rounded-lg tw-border-gray-400 tw-py-1 tw-px-3",onClick:e[25]||(e[25]=(...t)=>i.nextPage&&i.nextPage(...t))},"Next")])])):((0,s.wg)(),(0,s.iD)("div",cY," No other products "))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("div",uY,[(0,s._)("button",{onClick:e[26]||(e[26]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[27]||(e[27]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),gY],8,pY)])])])),_:1},8,["visible","onCancel"])])}const hY=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.parent_id||"refund"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!fY(t,e.items):(t.errors.parent_id="Add Parent id !",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),fY=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},bY=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},vY=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},xY=(t,e)=>{t.isLoading=!0,t.errors={},Vu.update(e.id,e).then((e=>bY(t,e.data))).catch((e=>vY(t,e.response.data))).finally((()=>t.isLoading=!1))},yY={key:0},_Y=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),kY={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},CY=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),DY=(0,s._)("span",null,"Add Item",-1),SY=[CY,DY],zY={key:1,class:"md:tw-col-span-12 tw-col-span-12"},UY={class:"tw-max-w-full tw-overflow-auto"},qY={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},PY={class:"tw-bg-gray-50"},LY={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},WY={key:0},AY={colspan:"6"},$Y={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},EY=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),TY=(0,s._)("span",null,"Add Item",-1),FY=[EY,TY],jY=(0,s._)("td",{colspan:"4"},null,-1),IY={colspan:"1",class:"tw-p-2"},VY={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},OY={key:1},HY={colspan:"5"},MY={class:"tw-scale-75 tw-p-5"};function RY(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yY,[_Y,(0,s._)("div",kY,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},SY)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",zY,[(0,s._)("div",UY,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",qY,[(0,s._)("tr",PY,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",LY,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",WY,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",AY,[(0,s._)("div",$Y,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},FY)])])]),(0,s._)("tr",null,[jY,(0,s._)("td",IY,[(0,s._)("div",VY,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",OY,[(0,s._)("tr",null,[(0,s._)("td",HY,[(0,s._)("div",MY,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const NY={class:"tw-p-2"},YY={class:"tw-p-2"},ZY={key:0,class:"tw-relative"},KY=["value"],BY=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),QY=["value"],JY={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},GY=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),XY=[GY],tZ={class:"tw-p-2"},eZ=["value"],rZ={class:"tw-p-2"},aZ=["value"],sZ={class:"tw-flex tw-justify-center"};function lZ(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("div",NY,[((0,s.wg)(),(0,s.j4)(i,{"append-to-body":"",reduce:t=>t.id,key:r.item.id,"onOption:selected":e[0]||(e[0]=t=>o.handleProductChange(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Product",modelValue:o.product,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),options:o.allProducts,label:"name"},null,8,["reduce","modelValue","options"])),(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",YY,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",ZY,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[3]||(e[3]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[BY,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,QY)))),128))],40,KY)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",JY,XY)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",tZ,[(0,s._)("input",{onInput:e[4]||(e[4]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,eZ)])]),(0,s._)("td",null,[(0,s._)("div",rZ,[(0,s._)("input",{onInput:e[5]||(e[5]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,aZ)])]),(0,s._)("td",null,[(0,s._)("div",sZ,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var oZ=r(3636),iZ={components:{"vue-select":oZ.Z},props:{item:{required:!0},products:{required:!0}},computed:{allProducts(){return[{id:0,name:"Choose Product"},...this.products]},product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t,e){const r=1===e?parseInt(t.target.value):t.id;if(!r)return!1;const a=this.products.find((t=>t.id==r)),s={...this.item,product_id:r,product:a,product_ref:a.ref,product_variation_id:a.variations.length>0?a.variations[0].id:null,product_variation:a.variations.length>0?a.variations[0]:null};this.$emit("update",s)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const wZ=(0,m.Z)(iZ,[["render",lZ]]);var nZ=wZ,dZ={components:{ItemRow:nZ},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const cZ=(0,m.Z)(dZ,[["render",RY]]);var uZ=cZ;const pZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),gZ={key:0,class:"tw-relative"},mZ=["value","disabled"],hZ=(0,s._)("option",{value:""},"Choose a Delivery",-1),fZ=["value"],bZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),vZ={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xZ={key:2,class:"tw-relative"},yZ={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},_Z=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),kZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function CZ(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[pZ,l.fetched?((0,s.wg)(),(0,s.iD)("div",gZ,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,wt.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[hZ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,fZ)))),128))],42,mZ),bZ])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",vZ,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xZ,[(0,s._)("div",yZ,[(0,s.Wm)(i)]),_Z,kZ]))])}var DZ={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const SZ=(0,m.Z)(DZ,[["render",CZ]]);var zZ=SZ;const UZ={key:0},qZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),PZ={class:"md:tw-col-span-12 tw-col-span-12"},LZ={class:"tw-max-w-full tw-overflow-auto"},WZ={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},AZ=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),$Z={class:"tw-px-3 tw-py-2"},EZ={class:"tw-px-3 tw-py-2"},TZ={class:"tw-px-3 tw-py-2"},FZ={class:"tw-px-3 tw-py-2"},jZ={class:"tw-max-w-[250px] tw-text-sm"};function IZ(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",UZ,[qZ,(0,s._)("div",PZ,[(0,s._)("div",LZ,[(0,s._)("table",WZ,[AZ,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",$Z,(0,wt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",EZ,(0,wt.zw)(t.quantity),1),(0,s._)("td",TZ,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",FZ,[(0,s._)("p",jZ,(0,wt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var VZ={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const OZ=(0,m.Z)(VZ,[["render",IZ]]);var HZ=OZ,MZ={components:{OrderItems:uZ,OrderAffectation:zZ,ProductOffersTable:HZ},props:{visible:{required:!0},item:{required:!0}},data(){return{currentPage:1,itemsPerPage:5,confirmations:jn,deliveryStatus:Hn,upsells:On,isLoading:!1,showProducts:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{paginatedProducts(){const t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.filteredProducts.slice(t,e)},cities(){return this.$store.getters["city/cities"]},filteredProducts(){const t=this.itemCopy.items.map((t=>t.product_id));return this.products.filter((e=>e.user_id===this.itemCopy.user_id&&!t.includes(e.id)))}},methods:{nextPage(){this.currentPage*this.itemsPerPage<this.filteredProducts.length&&this.currentPage++},previousPage(){this.currentPage>1&&this.currentPage--},handleUpdate(){const t=hY(this,this.itemCopy);if(!t)return!1;xY(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?(this.products=t.data.data.products,console.log("Fetched products:",this.products)):this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const RZ=(0,m.Z)(MZ,[["render",mY]]);var NZ=RZ;const YZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},ZZ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),KZ={class:"tw-bg-white tw-p-4"},BZ={key:0},QZ={key:1,class:"tw-p-5"},JZ={class:"d-flex tw-flex-col justify-space-between flex-grow-1"},GZ={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},XZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},tK={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},eK={class:"d-flextw-flex-col justify-space-between flex-grow-1"},rK={class:"tw-flex tw-flex-col tw-my-2"},aK=(0,s._)("div",null,"New Order Created",-1),sK={class:"tw-flex tw-flex-col"},lK={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},oK={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},iK={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function wK(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",YZ,[ZZ,(0,s._)("div",KZ,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",BZ,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",QZ,[(0,s.Wm)($E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(EE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",JZ,[(0,s._)("div",GZ,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.type in l.keys?l.keys[t.type]:t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(!t.historique&&["affectation","delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",XZ,[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,wt.zw)(t.users.firstname)+" "+(0,wt.zw)(t.users.lastname),1)]),(0,s._)("div",tK,[(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(EE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",eK,[(0,s._)("div",rK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),aK]),(0,s._)("div",sK,[(0,s._)("div",lK,[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,wt.zw)(r.item.created_by.firstname)+" "+(0,wt.zw)(r.item.created_by.lastname),1)]),(0,s._)("div",oK,[(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",iK,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var nK={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1,keys:{in_warehouse:"Warehouse State"}}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ba.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const dK=(0,m.Z)(nK,[["render",wK]]);var cK=dK;const uK={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},pK=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Item History ",-1),gK={class:"tw-bg-white tw-p-4"},mK={key:0},hK={key:1,class:"tw-p-5"},fK={class:"d-flextw-flex-col justify-space-between flex-grow-1"},bK={key:0,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},vK={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},xK={key:2,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},yK={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},_K={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},kK={class:"d-flextw-flex-col justify-space-between flex-grow-1"},CK={class:"tw-flex tw-flex-col tw-my-2"},DK=(0,s._)("div",null,"No Changes Happend Yet",-1),SK={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},zK={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function UK(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",uK,[pK,(0,s._)("div",gK,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",mK,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",hK,[(0,s.Wm)($E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(EE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",fK,[t.old_product.id!=t.new_product.id?((0,s.wg)(),(0,s.iD)("div",bK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"purple",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Product ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.old_product.name),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.new_product.name),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_quantity!=t.new_quantity?((0,s.wg)(),(0,s.iD)("div",vK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"blue",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Quantity ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.old_quantity),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.new_quantity),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_price!=t.new_price?((0,s.wg)(),(0,s.iD)("div",xK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"#118C4F",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Price ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.old_price),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.new_price),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",yK,[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,wt.zw)(t.users.firstname)+" "+(0,wt.zw)(t.users.lastname),1)]),(0,s._)("div",_K,[(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(EE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",kK,[(0,s._)("div",CK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),DK]),(0,s._)("div",SK,[(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",zK,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var qK={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getItemHistory(){this.isLoaded=!1,ba.itemHistory(this.item.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={old_product:"red",old_price:"green",old_quantity:"blue"};return["old_product","old_price","old_quantity"].includes(t)?e[t]:"primary-color"}},mounted(){this.getItemHistory()}};const PK=(0,m.Z)(qK,[["render",UK]]);var LK=PK,WK={components:{UpdatePopup:NZ,HistoryPopup:cK,HistoryItemPopup:LK},props:{item:{required:!0}},data(){return{update:!1,history:!1,historyItem:!1,isLoading:!1}},methods:{handle(){}}};const AK=(0,m.Z)(WK,[["render",QR]]);var $K=AK;const EK={key:0},TK={key:0,class:"tw-relative tw-inline-block tw-text-left"},FK={key:0},jK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),IK=[jK],VK={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},OK={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},HK=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),MK=[HK],RK={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},NK={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},YK={class:"tw-py-1",role:"none"},ZK=["onClick"],KK={key:1},BK={class:"tw-p-2 tw-scale-75"};function QK(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",EK,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",TK,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",FK,IK)):(0,s.kq)("",!0),(0,s._)("p",VK,(0,wt.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",OK,MK)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",RK,(0,wt.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Vt.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",NK,[(0,s._)("div",YK,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],8,ZK)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",KK,[(0,s._)("div",BK,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var JK={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};xY(this,e,!1)}}};const GK=(0,m.Z)(JK,[["render",QK]]);var XK=GK,tB={components:{TableActions:$K,TableRowAffectation:XK},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ze()}},computed:{confirmation(){return jn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Hn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const eB=(0,m.Z)(tB,[["render",MR]]);var rB=eB,aB={components:{TablePaginationNoNums:cR,TableRow:rB},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const sB=(0,m.Z)(aB,[["render",BM]]);var lB=sB;const oB={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},iB={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},wB=["disabled"],nB=["disabled"],dB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),cB=[dB],uB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),pB=[uB],gB=["disabled"],mB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),hB=[mB],fB=["disabled"],bB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),vB=[bB],xB=["disabled"],yB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),_B=[yB],kB={class:"tw-relative"},CB=["value"],DB=(0,s._)("option",{value:5},"5",-1),SB=(0,s._)("option",{value:10},"10",-1),zB=(0,s._)("option",{value:20},"20",-1),UB=(0,s._)("option",{value:50},"50",-1),qB=(0,s._)("option",{value:100},"100",-1),PB=(0,s._)("option",{value:250},"250",-1),LB=(0,s._)("option",{value:500},"500",-1),WB=[DB,SB,zB,UB,qB,PB,LB],AB=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),$B={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},EB=["value"],TB=(0,s._)("option",{value:"all"},"All",-1),FB=(0,s._)("option",{value:"id"},"ID",-1),jB=[TB,FB],IB=["value"],VB={class:"tw-overflow-hidden tw-col-span-1"},OB={class:"tw-overflow-hidden tw-col-span-1"},HB={class:"tw-overflow-hidden tw-col-span-1"};function MB(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",oB,[(0,s._)("div",iB,[(0,s._)("button",{class:(0,wt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,wB),(0,s._)("button",{title:"Orders Created Today",class:(0,wt.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,nB),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,wt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},cB,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,wt.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},pB,2)):(0,s.kq)("",!0),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[4]||(e[4]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,wt.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},hB,10,gB),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},vB,8,fB),(0,s._)("button",{title:"Show Export Options",onClick:e[6]||(e[6]=t=>o.showExport=!o.showExport),class:(0,wt.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},_B,10,xB),(0,s._)("div",kB,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},WB,40,CB),AB])]),(0,s._)("div",$B,[(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},jB,40,EB),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[9]||(e[9]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[10]||(e[10]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,IB),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",VB,[(0,s.Wm)(w,{onClear:e[12]||(e[12]=e=>t.$emit("clear")),onFilter:e[13]||(e[13]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[14]||(e[14]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,wt.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",OB,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",HB,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const RB={class:"tw-mb-4"},NB={class:"tw-grid tw-grid-cols-12 tw-gap-4"},YB={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},ZB={class:"tw-flex tw-items-center tw-justify-between"},KB={class:"tw-text-xl tw-font-bold tw-text-gray-900"},BB={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function QB(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",RB,[(0,s._)("div",NB,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",YB,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",ZB,[(0,s._)("span",KB,(0,wt.zw)(t.total),1),(0,s._)("span",BB,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var JB={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const GB=(0,m.Z)(JB,[["render",QB]]);var XB=GB;const tQ={class:"tw-mb-4"},eQ={class:"tw-flex tw-items-center tw-gap-2"},rQ=["disabled"],aQ=(0,s._)("span",null,"Select Filtered",-1),sQ={class:"tw-flex tw-justify-end"},lQ=["disabled"];function oQ(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",tQ,[(0,s._)("div",eQ,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),aQ],8,rQ)]),(0,s._)("div",sQ,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,wt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,lQ)])])}var iQ={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Vu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const wQ=(0,m.Z)(iQ,[["render",oQ]]);var nQ=wQ;const dQ={class:"tw-mb-4"},cQ={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},uQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),gQ=["value"],mQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),fQ=["value"],bQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),xQ=["value"],yQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},_Q=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),kQ=["value"],CQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},DQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),SQ=["value"],zQ=(0,s._)("option",{value:"all",selected:""},"All",-1),UQ=["value"],qQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},PQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),LQ=["value"],WQ=(0,s._)("option",{value:"all",selected:""},"All",-1),AQ=["value"],$Q={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},EQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),TQ=["value"],FQ=(0,s._)("option",{value:"all",selected:""},"All",-1),jQ=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),IQ=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),VQ=[FQ,jQ,IQ],OQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},HQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Warehouse state",-1),MQ=["value"],RQ=(0,s._)("option",{value:"all",selected:""},"All",-1),NQ=(0,s._)("option",{value:"in",selected:""},"In",-1),YQ=(0,s._)("option",{value:"out",selected:""},"Out",-1),ZQ=[RQ,NQ,YQ],KQ={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},BQ=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),QQ=(0,s._)("span",null,"Clear",-1),JQ=[BQ,QQ],GQ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),XQ=(0,s._)("span",null,"Filter",-1),tJ=[GQ,XQ];function eJ(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),w=(0,s.up)("AgentFilter"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",dQ,[(0,s._)("div",cQ,[(0,s.kq)("",!0),(0,s._)("div",uQ,[pQ,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,gQ)]),(0,s._)("div",mQ,[hQ,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,fQ)]),(0,s._)("div",bQ,[vQ,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,xQ)]),(0,s._)("div",yQ,[_Q,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,kQ)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",CQ,[DQ,(0,s._)("select",{value:r.filters.confirmation,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[zQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,wt.zw)(t.name),11,UQ)))),128))],40,SQ)]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",qQ,[PQ,(0,s._)("select",{onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[WQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,wt.zw)(t.name),11,AQ)))),128))],40,LQ)]),(0,s._)("div",$Q,[EQ,(0,s._)("select",{value:r.filters.upsell,onChange:e[11]||(e[11]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},VQ,40,TQ)]),(0,s._)("div",OQ,[HQ,(0,s._)("select",{value:r.filters.in_warehouse,onChange:e[12]||(e[12]=e=>t.$emit("update",{...r.filters,in_warehouse:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},ZQ,40,MQ)]),(0,s._)("div",KQ,[(0,s._)("button",{onClick:e[13]||(e[13]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},JQ),(0,s._)("button",{onClick:e[14]||(e[14]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},tJ)])])])}const rJ={class:"tw-text-sm tw-text-neutral-600"},aJ=["onClick"];function sJ(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",rJ,(0,wt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,aJ)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var lJ={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const oJ=(0,m.Z)(lJ,[["render",sJ]]);var iJ=oJ;const wJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),dJ=["value"],cJ=(0,s._)("option",{value:"all"},"All",-1),uJ=(0,s._)("option",{value:""},"No Delivery",-1),pJ=["value"];function gJ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",wJ,[nJ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[cJ,uJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,pJ)))),128))],40,dJ)])}var mJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const hJ=(0,m.Z)(mJ,[["render",gJ]]);var fJ=hJ;const bJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),xJ=["value"],yJ=(0,s._)("option",{value:"all"},"All",-1),_J=(0,s._)("option",{value:""},"No Agent",-1),kJ=["value"];function CJ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",bJ,[vJ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[yJ,_J,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,kJ)))),128))],40,xJ)])}var DJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const SJ=(0,m.Z)(DJ,[["render",CJ]]);var zJ=SJ;const UJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},qJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),PJ=["value"],LJ=(0,s._)("option",{value:"all"},"All",-1),WJ=["value"];function AJ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",UJ,[qJ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[LJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,WJ)))),128))],40,PJ)])}var $J={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const EJ=(0,m.Z)($J,[["render",AJ]]);var TJ=EJ;const FJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},jJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function IJ(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",FJ,[jJ,(0,s.Wm)(i,{"append-to-body":"",dense:"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var VJ={components:{"vue-select":oZ.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const OJ=(0,m.Z)(VJ,[["render",IJ]]);var HJ=OJ,MJ={components:{DateFilter:iJ,AffectationFilter:fJ,AgentFilter:zJ,ProductFilter:HJ,SellerFilter:TJ},props:{filters:{required:!0,default:{}}},data(){return{confirmations:jn,deliveries:Hn,dateFilter:["",""]}}};const RJ=(0,m.Z)(MJ,[["render",eJ]]);var NJ=RJ,YJ={components:{IndexStatistics:XB,FiltersWrapper:NJ,IndexExport:nQ},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ze()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const ZJ=(0,m.Z)(YJ,[["render",MB]]);var KJ=ZJ;const BJ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},QJ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),JJ={class:"tw-bg-white tw-p-4"},GJ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},XJ={class:"tw-col-span-2 md:tw-col-span-1"},tG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),eG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rG={class:"tw-col-span-2 md:tw-col-span-1"},aG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),sG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lG={class:"tw-col-span-2 md:tw-col-span-1"},oG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),iG={class:"tw-relative"},wG=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),nG=["value"],dG=["value"],cG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),uG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pG={class:"tw-col-span-2 md:tw-col-span-1"},gG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),mG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},hG={class:"tw-col-span-2"},fG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),bG={class:"tw-relative"},vG=["value"],xG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),yG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_G={key:0,class:"md:tw-col-span-1 tw-col-span-2"},kG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),CG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DG={key:1,class:"md:tw-col-span-1 tw-col-span-2"},SG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),zG={class:"tw-col-span-2"},UG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),qG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},PG={class:"md:tw-col-span-1 tw-col-span-2"},LG={key:2,class:"tw-col-span-1"},WG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),AG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$G={class:"md:tw-col-span-1 tw-col-span-2"},EG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),TG={class:"tw-relative"},FG=["value"],jG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),IG={class:"tw-col-span-2"},VG={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},OG={key:0,class:"tw-text-red-400 tw-text-xs"},HG={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},MG=["disabled"],RG=(0,s._)("span",null,"Create",-1);function NG(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",BJ,[QJ,(0,s._)("div",JJ,[(0,s._)("div",GJ,[(0,s._)("div",XJ,[tG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",eG,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",rG,[aG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",sG,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",lG,[oG,(0,s._)("div",iG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[wG,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,nG),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,dG)))),128))],34),[[a.bM,o.itemCopy.city]]),cG]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",uG,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",pG,[gG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",mG,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",hG,[fG,(0,s._)("div",bG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,vG)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),xG]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",yG,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",_G,[kG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",CG,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",DG,[SG,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",zG,[UG,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",qG,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",PG,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",LG,[WG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,wt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",AG,(0,wt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",$G,[EG,(0,s._)("div",TG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,FG)))),128))],512),[[a.bM,o.itemCopy.upsell]]),jG])]),(0,s._)("div",IG,[(0,s._)("label",VG,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",OG," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",HG,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),RG],8,MG)])])])),_:1},8,["visible","onCancel"])])}const YG=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},ZG=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},KG=(t,e)=>{t.isLoading=!0,t.errors={},Vu.create(e).then((e=>YG(t,e.data))).catch((e=>ZG(t,e.response.data))).finally((()=>t.isLoading=!1))};var BG={components:{OrderItems:uZ,OrderAffectation:zZ},props:{visible:{required:!0}},data(){return{confirmations:jn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=hY(this,this.itemCopy);if(!t)return!1;KG(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const QG=(0,m.Z)(BG,[["render",NG]]);var JG=QG;const GG={class:"tw-mb-4"},XG={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},tX={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},eX={class:"tw-flex tw-items-center tw-gap-2"},rX={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},aX=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),sX={class:"tw-flex tw-items-center tw-gap-2"},lX=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),oX=(0,s._)("span",null," Clear Selection ",-1),iX=[lX,oX],wX=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),nX=(0,s._)("span",null," Actions ",-1),dX=[wX,nX],cX={key:0};function uX(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",GG,[(0,s._)("div",XG,[(0,s._)("div",tX,[(0,s._)("div",eX,[(0,s._)("div",rX,(0,wt.zw)(r.selected.length),1),aX]),(0,s._)("div",sX,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},iX),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},dX)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",cX,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const pX={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},gX={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},mX=(0,s._)("span",null,"Quick Actions",-1),hX={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},fX={class:"tw-bg-white tw-p-4"},bX={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},vX={class:"tw-col-span-2 md:tw-col-span-1"},xX={key:0,class:"tw-col-span-2 md:tw-col-span-1"},yX={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},_X=(0,s._)("span",null,"Apply",-1);function kX(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",pX,[(0,s._)("div",gX,[mX,(0,s._)("span",hX,(0,wt.zw)(r.selected.length),1)]),(0,s._)("div",fX,[(0,s._)("div",bX,[(0,s._)("div",vX,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",xX,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",yX,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),_X])])])])),_:1},8,["visible","closeable","onCancel"])])}const CX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),DX={class:"tw-relative"},SX=["value"],zX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function UX(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[CX,(0,s._)("div",DX,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,SX)))),128))],512),[[a.bM,i.vaction]]),zX]),(0,s.kq)("",!0)])}var qX={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const PX=(0,m.Z)(qX,[["render",UX]]);var LX=PX;const WX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),AX={class:"tw-relative"},$X=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),EX=["value"],TX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function FX(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[WX,(0,s._)("div",AX,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[$X,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,EX)))),128))],512),[[a.bM,i.vvalue]]),TX]),(0,s.kq)("",!0)])}var jX={props:{value:{required:!0}},data(){return{statuses:Hn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const IX=(0,m.Z)(jX,[["render",FX]]);var VX=IX;class OX{async execute(t){return await E.getCookie(),A.post("api/v1/bulk/execute",t)}}var HX=new OX,MX=(t,e)=>{t.isLoading=!0,HX.execute(e).then((e=>RX(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const RX=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var NX={components:{BulkSelectAction:LX,BulkDeliveryAction:VX},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};MX(this,t)}}};const YX=(0,m.Z)(NX,[["render",kX]]);var ZX=YX,KX={components:{BulkPopup:ZX},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const BX=(0,m.Z)(KX,[["render",uX]]);var QX=BX,JX={components:{IndexTable:lB,IndexFilters:KJ,CreatePopup:JG,BulkActions:QX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,Vu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(t){this.sort_order="asc"==this.sort_order?"desc":"asc",this.sort_by=t.name,this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const GX=(0,m.Z)(JX,[["render",oM]]);var XX=GX;const t0={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},e0={class:"tw-px-3"},r0={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},a0={class:"tw-flex tw-items-center tw-gap-x-3"},s0=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Dispatched Orders ",-1),l0={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},o0=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of dispatched orders. ",-1),i0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},w0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),n0=(0,s._)("span",null,"Create",-1),d0=[w0,n0],c0={class:"tw-overflow-hidden tw-col-span-1"},u0={key:0};function p0(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",t0,[(0,s._)("section",e0,[(0,s._)("div",r0,[(0,s._)("div",null,[(0,s._)("div",a0,[s0,(0,s._)("span",l0,(0,wt.zw)(l.totalOrders)+" order",1)]),o0]),(0,s._)("div",i0,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},d0)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",c0,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",u0,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var g0={components:{IndexTable:lB,IndexFilters:KJ,CreatePopup:JG,BulkActions:QX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Vu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const m0=(0,m.Z)(g0,[["render",p0]]);var h0=m0;const f0={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},b0={class:"tw-px-3"},v0={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},x0={class:"tw-flex tw-items-center tw-gap-x-3"},y0=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Shipped Orders ",-1),_0={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},k0=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of shipped orders. ",-1),C0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},D0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),S0=(0,s._)("span",null,"Create",-1),z0=[D0,S0],U0={class:"tw-overflow-hidden tw-col-span-1"},q0={key:0};function P0(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",f0,[(0,s._)("section",b0,[(0,s._)("div",v0,[(0,s._)("div",null,[(0,s._)("div",x0,[y0,(0,s._)("span",_0,(0,wt.zw)(l.totalOrders)+" order",1)]),k0]),(0,s._)("div",C0,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},z0)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",U0,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",q0,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var L0={components:{IndexTable:lB,IndexFilters:KJ,CreatePopup:JG,BulkActions:QX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Vu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const W0=(0,m.Z)(L0,[["render",P0]]);var A0=W0;const $0={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},E0={class:"tw-px-3"},T0={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},F0={class:"tw-flex tw-items-center tw-gap-x-3"},j0=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),I0={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},V0=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),O0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},H0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),M0=(0,s._)("span",null,"Create",-1),R0=[H0,M0],N0={class:"tw-overflow-hidden tw-col-span-1"},Y0={key:0};function Z0(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",$0,[(0,s._)("section",E0,[(0,s._)("div",T0,[(0,s._)("div",null,[(0,s._)("div",F0,[j0,(0,s._)("span",I0,(0,wt.zw)(l.totalOrders)+" order",1)]),V0]),(0,s._)("div",O0,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},R0)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",N0,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Y0,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const K0={class:"tw-flex tw-flex-col"},B0={class:"tw-overflow-x-auto"},Q0={class:"tw-inline-block tw-min-w-full tw-align-middle"},J0={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},G0={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},X0={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},t1={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},e1={class:"tw-max-w-[25px]"},r1={class:"tw-inline-flex tw-items-center"},a1={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},s1=["checked"],l1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),o1=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),i1={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},w1=(0,s._)("span",null,"Created",-1),n1=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),d1=[w1,n1],c1=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),u1=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),p1=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),g1=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),m1=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),h1=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),f1=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),b1=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),v1={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},x1={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},y1=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),_1=[y1],k1={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},C1={colspan:"11"},D1={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},S1=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),z1=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),U1=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),q1=[z1,U1],P1={class:"tw-mt-6"};function L1(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",K0,[(0,s._)("div",B0,[(0,s._)("div",Q0,[(0,s._)("div",J0,[(0,s._)("table",G0,[(0,s._)("thead",X0,[(0,s._)("tr",null,[(0,s._)("th",t1,[(0,s._)("div",e1,[(0,s._)("div",r1,[(0,s._)("label",a1,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,s1),l1])])])]),o1,(0,s._)("th",i1,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},d1)]),c1,u1,p1,g1,m1,h1,f1,b1])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",v1,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,w)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:w,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",x1,_1)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",k1,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",C1,[(0,s._)("div",D1,[S1,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},q1)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",P1,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const W1={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},A1={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},$1={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},E1={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},T1=["disabled"],F1=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),j1=(0,s._)("span",null," previous ",-1),I1=[F1,j1],V1=["disabled"],O1=(0,s._)("span",null," Next ",-1),H1=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),M1=[O1,H1];function R1(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",W1,[(0,s._)("div",A1,[(0,s.Uk)(" Page "),(0,s._)("span",$1,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",E1,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},I1,10,T1),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},M1,10,V1)])])])}var N1={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Y1=(0,m.Z)(N1,[["render",R1]]);var Z1=Y1;const K1={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},B1={class:"tw-max-w-[25px]"},Q1={class:"tw-inline-flex tw-items-center"},J1={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},G1=["checked","id"],X1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),t2={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},e2={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},r2={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},a2={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},s2={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},l2={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},o2={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},i2={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},w2={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},n2={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},d2={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},c2={class:"tw-space-y-1"},u2={class:"tw-font-bold tw-text-green-500"},p2={class:"tw-block tw-max-w-[150px] tw-truncate"},g2={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},m2={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},h2={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},f2={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},b2={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},v2={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function x2(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,wt.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",K1,[(0,s._)("div",B1,[(0,s._)("div",Q1,[(0,s._)("label",J1,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,G1),X1])])])]),(0,s._)("td",t2,[(0,s._)("div",null,[(0,s._)("h2",e2,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",r2,[(0,s._)("div",null,[(0,s._)("h2",a2,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",s2,[(0,s._)("div",null,[(0,s._)("h2",l2,(0,wt.zw)(r.item.fullname),1)])]),(0,s._)("td",o2,[(0,s._)("div",null,[(0,s._)("h2",i2,(0,wt.zw)(r.item.city),1)])]),(0,s._)("td",w2,[(0,s._)("div",null,[(0,s._)("h2",n2,(0,wt.zw)(r.item.phone),1)])]),(0,s._)("td",d2,[(0,s._)("div",null,[(0,s._)("ul",c2,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",u2,(0,wt.zw)(t.quantity)+" x ",1),(0,s._)("span",p2,(0,wt.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",g2,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",m2,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",h2,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3)])]),(0,s._)("td",f2,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",b2,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",v2,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const y2={class:"tw-h-full"},_2={class:"tw-flex tw-items-center tw-gap-2"},k2=["href"],C2={key:0};function D2(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",y2,[(0,s._)("div",_2,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,k2),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",C2,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[2]||(e[2]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const S2={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},z2=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),U2={class:"tw-bg-white tw-p-4"},q2={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},P2={class:"tw-col-span-2 md:tw-col-span-1"},L2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),W2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},A2={class:"tw-col-span-2 md:tw-col-span-1"},$2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),E2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T2={class:"tw-col-span-2 md:tw-col-span-1"},F2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),j2={class:"tw-relative"},I2=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),V2=["value"],O2=["value"],H2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),M2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},R2={class:"tw-col-span-2 md:tw-col-span-1"},N2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Y2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Z2={class:"tw-col-span-2"},K2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),B2={class:"tw-relative"},Q2=["value"],J2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),G2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},X2={key:0,class:"md:tw-col-span-1 tw-col-span-2"},t5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),e5={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},r5={key:1,class:"md:tw-col-span-1 tw-col-span-2"},a5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),s5={class:"tw-col-span-2"},l5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),o5={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},i5={class:"md:tw-col-span-1 tw-col-span-2"},w5={class:"md:tw-col-span-1 tw-col-span-2"},n5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),d5={class:"tw-relative"},c5=["value"],u5=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),p5={class:"tw-col-span-2"},g5={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},m5={key:0,class:"tw-text-red-400 tw-text-xs"},h5={key:3,class:"tw-col-span-2"},f5={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},b5=["disabled"],v5=(0,s._)("span",null,"Update",-1);function x5(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",S2,[z2,(0,s._)("div",U2,[(0,s._)("div",q2,[(0,s._)("div",P2,[L2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",W2,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",A2,[$2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",E2,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",T2,[F2,(0,s._)("div",j2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[I2,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,V2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,O2)))),128))],34),[[a.bM,o.itemCopy.city]]),H2]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",M2,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",R2,[N2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Y2,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Z2,[K2,(0,s._)("div",B2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,wt.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,Q2)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),J2]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",G2,(0,wt.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",X2,[t5,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,wt.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",e5,(0,wt.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",r5,[a5,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",s5,[l5,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",o5,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",i5,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",w5,[n5,(0,s._)("div",d5,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,c5)))),128))],512),[[a.bM,o.itemCopy.upsell]]),u5])]),(0,s._)("div",p5,[(0,s._)("label",g5,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",m5," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",h5,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",f5,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),v5],8,b5)])])])),_:1},8,["visible","onCancel"])])}const y5=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!_5(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),_5=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},k5=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},C5=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},D5=(t,e)=>{t.isLoading=!0,t.errors={},Vu.update(e.id,e).then((e=>k5(t,e.data))).catch((e=>C5(t,e.response.data))).finally((()=>t.isLoading=!1))},S5={key:0},z5=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),U5={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},q5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),P5=(0,s._)("span",null,"Add Item",-1),L5=[q5,P5],W5={key:1,class:"md:tw-col-span-12 tw-col-span-12"},A5={class:"tw-max-w-full tw-overflow-auto"},$5={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},E5={class:"tw-bg-gray-50"},T5={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},F5={key:0},j5={colspan:"6"},I5={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},V5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),O5=(0,s._)("span",null,"Add Item",-1),H5=[V5,O5],M5=(0,s._)("td",{colspan:"4"},null,-1),R5=(0,s._)("td",null,null,-1),N5={colspan:"1",class:"tw-p-2"},Y5={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Z5={key:1},K5={colspan:"6"},B5={class:"tw-scale-75 tw-p-5"};function Q5(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",S5,[z5,(0,s._)("div",U5,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},L5)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",W5,[(0,s._)("div",A5,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",$5,[(0,s._)("tr",E5,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",T5,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",F5,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",j5,[(0,s._)("div",I5,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},H5)])])]),(0,s._)("tr",null,[M5,R5,(0,s._)("td",N5,[(0,s._)("div",Y5,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Z5,[(0,s._)("tr",null,[(0,s._)("td",K5,[(0,s._)("div",B5,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const J5=(0,s._)("td",null,null,-1),G5={class:"tw-p-2"},X5={class:"tw-relative"},t4=["value"],e4=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),r4=["value"],a4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),s4={class:"tw-p-2"},l4={key:0,class:"tw-relative"},o4=["value"],i4=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),w4=["value"],n4={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},d4=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),c4=[d4],u4={class:"tw-p-2"},p4=["value"],g4={class:"tw-p-2"},m4=["value"],h4={class:"tw-flex tw-justify-center"};function f4(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[J5,(0,s._)("td",null,[(0,s._)("div",G5,[(0,s._)("div",X5,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[e4,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,r4)))),128))],40,t4),a4])])]),(0,s._)("td",null,[(0,s._)("div",s4,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",l4,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[i4,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,w4)))),128))],40,o4)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",n4,c4)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",u4,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,p4)])]),(0,s._)("td",null,[(0,s._)("div",g4,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,m4)])]),(0,s._)("td",null,[(0,s._)("div",h4,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var b4={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const v4=(0,m.Z)(b4,[["render",f4]]);var x4=v4,y4={components:{ItemRow:x4},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const _4=(0,m.Z)(y4,[["render",Q5]]);var k4=_4;const C4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),D4={key:0,class:"tw-relative"},S4=["value","disabled"],z4=(0,s._)("option",{value:""},"Choose a Delivery",-1),U4=["value"],q4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),P4={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},L4={key:2,class:"tw-relative"},W4={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},A4=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),$4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function E4(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[C4,l.fetched?((0,s.wg)(),(0,s.iD)("div",D4,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,wt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[z4,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,U4)))),128))],42,S4),q4])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",P4,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",L4,[(0,s._)("div",W4,[(0,s.Wm)(i)]),A4,$4]))])}var T4={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const F4=(0,m.Z)(T4,[["render",E4]]);var j4=F4;const I4={key:0},V4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),O4={class:"md:tw-col-span-12 tw-col-span-12"},H4={class:"tw-max-w-full tw-overflow-auto"},M4={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},R4=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),N4={class:"tw-px-3 tw-py-2"},Y4={class:"tw-px-3 tw-py-2"},Z4={class:"tw-px-3 tw-py-2"},K4={class:"tw-px-3 tw-py-2"},B4={class:"tw-max-w-[250px] tw-text-sm"};function Q4(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",I4,[V4,(0,s._)("div",O4,[(0,s._)("div",H4,[(0,s._)("table",M4,[R4,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",N4,(0,wt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",Y4,(0,wt.zw)(t.quantity),1),(0,s._)("td",Z4,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",K4,[(0,s._)("p",B4,(0,wt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var J4={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const G4=(0,m.Z)(J4,[["render",Q4]]);var X4=G4,t3={components:{OrderItems:k4,OrderAffectation:j4,ProductOffersTable:X4},props:{visible:{required:!0},item:{required:!0}},data(){return{followup_confirmations:Vn,deliveryStatus:Hn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=y5(this,this.itemCopy);if(!t)return!1;D5(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const e3=(0,m.Z)(t3,[["render",x5]]);var r3=e3,a3={components:{UpdatePopup:r3},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const s3=(0,m.Z)(a3,[["render",D2]]);var l3=s3;const o3={key:0},i3={key:0,class:"tw-relative tw-inline-block tw-text-left"},w3={key:0},n3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),d3=[n3],c3={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},u3={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},p3=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),g3=[p3],m3={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},h3={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},f3={class:"tw-py-1",role:"none"},b3=["onClick"],v3={key:1},x3={class:"tw-p-2 tw-scale-75"};function y3(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",o3,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",i3,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",w3,d3)):(0,s.kq)("",!0),(0,s._)("p",c3,(0,wt.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",u3,g3)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",m3,(0,wt.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Vt.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",h3,[(0,s._)("div",f3,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],8,b3)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",v3,[(0,s._)("div",x3,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var _3={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};D5(this,e,!1)}}};const k3=(0,m.Z)(_3,[["render",y3]]);var C3=k3,D3={components:{TableActions:l3,TableRowAffectation:C3},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ze()}},computed:{confirmation(){return jn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Hn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const S3=(0,m.Z)(D3,[["render",x2]]);var z3=S3,U3={components:{TablePaginationNoNums:Z1,TableRow:z3},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const q3=(0,m.Z)(U3,[["render",L1]]);var P3=q3;const L3={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},W3={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},A3=["disabled"],$3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),E3=[$3],T3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),F3=[T3],j3=["disabled"],I3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),V3=[I3],O3={class:"tw-relative"},H3=["value"],M3=(0,s._)("option",{value:5},"5",-1),R3=(0,s._)("option",{value:10},"10",-1),N3=(0,s._)("option",{value:20},"20",-1),Y3=(0,s._)("option",{value:50},"50",-1),Z3=(0,s._)("option",{value:100},"100",-1),K3=(0,s._)("option",{value:250},"250",-1),B3=(0,s._)("option",{value:500},"500",-1),Q3=[M3,R3,N3,Y3,Z3,K3,B3],J3=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),G3={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},X3=["value"],t8={class:"tw-overflow-hidden tw-col-span-1"},e8={class:"tw-overflow-hidden tw-col-span-1"};function r8(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=((0,s.up)("IndexExport"),(0,s.up)("IndexStatistics"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",L3,[(0,s._)("div",W3,[(0,s._)("button",{class:(0,wt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,A3),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,wt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},E3,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:1,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,wt.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},F3,2)):(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},V3,8,j3),(0,s.kq)("",!0),(0,s._)("div",O3,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Q3,40,H3),J3])]),(0,s._)("div",G3,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,X3),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",t8,[(0,s.Wm)(w,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s.kq)("",!0),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",e8,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const a8={class:"tw-mb-4"},s8={class:"tw-grid tw-grid-cols-12 tw-gap-4"},l8={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},o8={class:"tw-flex tw-items-center tw-justify-between"},i8={class:"tw-text-xl tw-font-bold tw-text-gray-900"},w8={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function n8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",a8,[(0,s._)("div",s8,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",l8,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",o8,[(0,s._)("span",i8,(0,wt.zw)(t.total),1),(0,s._)("span",w8,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var d8={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const c8=(0,m.Z)(d8,[["render",n8]]);var u8=c8;const p8={class:"tw-mb-4"},g8={class:"tw-flex tw-items-center tw-gap-2"},m8=["disabled"],h8=(0,s._)("span",null,"Select Filtered",-1),f8={class:"tw-flex tw-justify-end"},b8=["disabled"];function v8(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",p8,[(0,s._)("div",g8,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),h8],8,m8)]),(0,s._)("div",f8,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,wt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,b8)])])}var x8={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Vu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const y8=(0,m.Z)(x8,[["render",v8]]);var _8=y8;const k8={class:"tw-mb-4"},C8={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},D8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},S8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),z8=["value"],U8=(0,s._)("option",{value:"all",selected:""},"All",-1),q8=["value"],P8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},L8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),W8=["value"],A8=(0,s._)("option",{value:"all",selected:""},"All",-1),$8=["value"],E8={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},T8=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),F8=(0,s._)("span",null,"Clear",-1),j8=[T8,F8],I8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),V8=(0,s._)("span",null,"Filter",-1),O8=[I8,V8];function H8(t,e,r,a,l,o){(0,s.up)("ProductFilter"),(0,s.up)("AgentFilter");const i=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",k8,[(0,s._)("div",C8,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",D8,[S8,(0,s._)("select",{value:r.filters.followup_confirmation,onChange:e[6]||(e[6]=e=>t.$emit("update",{...r.filters,followup_confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[U8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,wt.zw)(t.name),11,q8)))),128))],40,z8)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",P8,[L8,(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[A8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,wt.zw)(t.name),11,$8)))),128))],40,W8)]),(0,s.kq)("",!0),(0,s._)("div",E8,[(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},j8),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},O8)])])])}const M8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},R8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),N8=["value"],Y8=(0,s._)("option",{value:"all"},"All",-1),Z8=(0,s._)("option",{value:""},"No Delivery",-1),K8=["value"];function B8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",M8,[R8,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Y8,Z8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,K8)))),128))],40,N8)])}var Q8={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const J8=(0,m.Z)(Q8,[["render",B8]]);var G8=J8;const X8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},t6=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),e6=["value"],r6=(0,s._)("option",{value:"all"},"All",-1),a6=(0,s._)("option",{value:""},"No Agent",-1),s6=["value"];function l6(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",X8,[t6,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[r6,a6,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,s6)))),128))],40,e6)])}var o6={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const i6=(0,m.Z)(o6,[["render",l6]]);var w6=i6;const n6={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},d6=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),c6=["value"],u6=(0,s._)("option",{value:"all"},"All",-1),p6=["value"];function g6(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",n6,[d6,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[u6,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.name),9,p6)))),128))],40,c6)])}var m6={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const h6=(0,m.Z)(m6,[["render",g6]]);var f6=h6,b6={components:{AffectationFilter:G8,AgentFilter:w6,ProductFilter:f6},props:{filters:{required:!0,default:{}}},data(){return{followup_confirmations:Vn,deliveries:Hn,dateFilter:["",""]}}};const v6=(0,m.Z)(b6,[["render",H8]]);var x6=v6,y6={components:{IndexStatistics:u8,FiltersWrapper:x6,IndexExport:_8},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ze()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const _6=(0,m.Z)(y6,[["render",r8]]);var k6=_6;const C6={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},D6=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),S6={class:"tw-bg-white tw-p-4"},z6={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},U6={class:"tw-col-span-2 md:tw-col-span-1"},q6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),P6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},L6={class:"tw-col-span-2 md:tw-col-span-1"},W6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),A6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$6={class:"tw-col-span-2 md:tw-col-span-1"},E6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),T6={class:"tw-relative"},F6=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),j6=["value"],I6=["value"],V6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),O6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},H6={class:"tw-col-span-2 md:tw-col-span-1"},M6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),R6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},N6={class:"tw-col-span-2"},Y6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),Z6={class:"tw-relative"},K6=["value"],B6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Q6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},J6={key:0,class:"md:tw-col-span-1 tw-col-span-2"},G6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),X6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},t7={key:1,class:"md:tw-col-span-1 tw-col-span-2"},e7=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),r7={class:"tw-col-span-2"},a7=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),s7={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},l7={class:"md:tw-col-span-1 tw-col-span-2"},o7={class:"md:tw-col-span-1 tw-col-span-2"},i7=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),w7={class:"tw-relative"},n7=["value"],d7=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),c7={class:"tw-col-span-2"},u7={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},p7={key:0,class:"tw-text-red-400 tw-text-xs"},g7={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},m7=["disabled"],h7=(0,s._)("span",null,"Create",-1);function f7(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",C6,[D6,(0,s._)("div",S6,[(0,s._)("div",z6,[(0,s._)("div",U6,[q6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",P6,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",L6,[W6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",A6,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",$6,[E6,(0,s._)("div",T6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[F6,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,j6),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,I6)))),128))],34),[[a.bM,o.itemCopy.city]]),V6]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",O6,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",H6,[M6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",R6,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",N6,[Y6,(0,s._)("div",Z6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,wt.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,K6)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),B6]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",Q6,(0,wt.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",J6,[G6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,wt.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",X6,(0,wt.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",t7,[e7,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",r7,[a7,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",s7,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",l7,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",o7,[i7,(0,s._)("div",w7,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,n7)))),128))],512),[[a.bM,o.itemCopy.upsell]]),d7])]),(0,s._)("div",c7,[(0,s._)("label",u7,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",p7," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",g7,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),h7],8,m7)])])])),_:1},8,["visible","onCancel"])])}const b7=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},v7=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},x7=(t,e)=>{t.isLoading=!0,t.errors={},ki.create(e).then((e=>b7(t,e.data))).catch((e=>v7(t,e.response.data))).finally((()=>t.isLoading=!1))};var y7={components:{OrderItems:k4,OrderAffectation:j4},props:{visible:{required:!0}},data(){return{followup_confirmations:Vn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=y5(this,this.itemCopy);if(!t)return!1;x7(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:"confirmer",upsell:null,items:[]},this.getProducts()}};const _7=(0,m.Z)(y7,[["render",f7]]);var k7=_7,C7={components:{IndexTable:P3,IndexFilters:k6,CreatePopup:k7,BulkActions:QX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ki.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const D7=(0,m.Z)(C7,[["render",Z0]]);var S7=D7,z7={name:"sales",path:"/sales",component:Wa,meta:{module:"sale"},children:[{name:"sale/list",path:"",component:YH,meta:{module:"sale",subModule:"sale/list",title:"Sales List",gate:"show_all_sales"}},{name:"sale/newlist",path:"new",component:XX,meta:{module:"sale",subModule:"sale/newlist",title:"Sales List",gate:"show_all_sales"}},{name:"sale/expidation",path:"expidation",component:h0,meta:{module:"sale",subModule:"sale/expidation",title:"Expidation",gate:"show_all_expidations"}},{name:"sale/shipping",path:"shipping",component:A0,meta:{module:"sale",subModule:"sale/shipping",title:"Shipping",gate:"show_all_expidations"}},{name:"sale/followup",path:"followup",component:S7,meta:{module:"followup",subModule:"sale/followup",title:"Follow Up",gate:"show_all_expidations"}}]};const U7={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},q7={class:"tw-px-3"},P7={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},L7={class:"tw-flex tw-items-center tw-gap-x-3"},W7=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),A7={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},$7=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"List of all orders.",-1),E7={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},T7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),F7=(0,s._)("span",null,"Create",-1),j7=[T7,F7],I7={key:0};function V7(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",U7,[(0,s._)("section",q7,[(0,s._)("div",P7,[(0,s._)("div",null,[(0,s._)("div",L7,[W7,(0,s._)("span",A7,(0,wt.zw)(l.totalOrders)+" order",1)]),$7]),(0,s._)("div",E7,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},j7)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",I7,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const O7={class:"tw-flex tw-flex-col"},H7={class:"tw-overflow-x-auto"},M7={class:"tw-inline-block tw-min-w-full tw-align-middle"},R7={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},N7={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Y7={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},Z7=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),K7={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},B7=(0,s._)("span",null,"Created",-1),Q7=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),J7=[B7,Q7],G7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),X7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),t9=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Products ",-1),e9=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),r9=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),a9=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),s9={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},l9={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},o9=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),i9=[o9],w9={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},n9={colspan:"8"},d9={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},c9=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),u9=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),p9=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),g9=[u9,p9],m9={class:"tw-mt-6"};function h9(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",O7,[(0,s._)("div",H7,[(0,s._)("div",M7,[(0,s._)("div",R7,[(0,s._)("table",N7,[(0,s._)("thead",Y7,[(0,s._)("tr",null,[Z7,(0,s._)("th",K7,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},J7)]),G7,X7,t9,e9,r9,a9])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",s9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",l9,i9)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",w9,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",n9,[(0,s._)("div",d9,[c9,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},g9)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",m9,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const f9={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},b9={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},v9={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},x9={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},y9=["disabled"],_9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),k9=(0,s._)("span",null," previous ",-1),C9=[_9,k9],D9=["disabled"],S9=(0,s._)("span",null," Next ",-1),z9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),U9=[S9,z9];function q9(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",f9,[(0,s._)("div",b9,[(0,s.Uk)(" Page "),(0,s._)("span",v9,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",x9,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},C9,10,y9),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},U9,10,D9)])])])}var P9={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const L9=(0,m.Z)(P9,[["render",q9]]);var W9=L9;const A9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},E9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},T9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},F9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},j9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},I9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},V9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},O9={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},H9={class:"tw-space-y-1"},M9={class:"tw-font-bold tw-text-green-500"},R9={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},N9={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},Y9={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Z9={class:"tw-px-12 tw-py-2 tw-text-sm tw-whitespace-nowrap"},K9=(0,s._)("div",{class:"tw-w-1.5 tw-h-1.5 tw-rounded-full tw-bg-emerald-500"},null,-1),B9={key:1},Q9={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function J9(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",A9,[(0,s._)("div",null,[(0,s._)("h2",$9,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",E9,[(0,s._)("div",null,[(0,s._)("h2",T9,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",F9,[(0,s._)("div",null,[(0,s._)("h2",j9,(0,wt.zw)(r.item.fullname),1)])]),(0,s._)("td",I9,[(0,s._)("div",null,[(0,s._)("h2",V9,(0,wt.zw)(r.item.phone),1)])]),(0,s._)("td",O9,[(0,s._)("div",null,[(0,s._)("ul",H9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",M9,(0,wt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,wt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",R9,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",N9,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",Y9,[(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3)]),(0,s._)("td",Z9,[r.item.delivery_fullname?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([["tw-text-emerald-800","tw-bg-emerald-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-pl-1.5 tw-py-0.5 tw-rounded tw-w-fit tw-flex tw-items-center tw-gap-2"])},[K9,(0,s._)("span",null,(0,wt.zw)(r.item.delivery_fullname),1)])):((0,s.wg)(),(0,s.iD)("div",B9,[(0,s._)("span",{class:(0,wt.C_)([["tw-text-gray-800","tw-bg-gray-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},"No Delivery")]))]),(0,s._)("td",Q9,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const G9={class:"tw-h-full"},X9={class:"tw-flex tw-items-center tw-gap-2"},ttt=["href"],ett={key:0};function rtt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",G9,[(0,s._)("div",X9,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,ttt),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",ett,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const att={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},stt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),ltt={class:"tw-bg-white tw-p-4"},ott={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},itt={class:"tw-col-span-2 md:tw-col-span-1"},wtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),ntt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dtt={class:"tw-col-span-2 md:tw-col-span-1"},ctt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),utt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ptt={class:"tw-col-span-2 md:tw-col-span-1"},gtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),mtt={class:"tw-relative"},htt=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),ftt=["value"],btt=["value"],vtt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),xtt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ytt={class:"tw-col-span-2 md:tw-col-span-1"},_tt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),ktt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ctt={class:"tw-col-span-2"},Dtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Stt={class:"tw-relative"},ztt=["value"],Utt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),qtt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ptt={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Ltt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Wtt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Att={key:1,class:"md:tw-col-span-1 tw-col-span-2"},$tt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Ett={class:"tw-col-span-2"},Ttt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Ftt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},jtt={class:"md:tw-col-span-1 tw-col-span-2"},Itt={key:2,class:"tw-col-span-1"},Vtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),Ott={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Htt={class:"md:tw-col-span-1 tw-col-span-2"},Mtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Rtt={class:"tw-relative"},Ntt=["value"],Ytt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Ztt={class:"tw-col-span-2"},Ktt={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Btt={key:0,class:"tw-text-red-400 tw-text-xs"},Qtt={key:3,class:"tw-col-span-2"},Jtt={class:"tw-grid lg:tw-grid-cols-2 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},Gtt={class:"tw-space-y-2 tw-px-5"},Xtt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-youtube tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Video Link")],-1),tet=["href"],eet={class:"tw-space-y-2 tw-px-5"},ret=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-store tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Store Link")],-1),aet=["href"],set={key:4,class:"tw-col-span-2"},oet={key:0},iet={key:0},wet={class:"tw-w-full tw-table-auto tw-border-collapse"},net=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-border tw-px-4 tw-py-2 tw-w-[150px] tw-flex-wrap"},"Product Name"),(0,s._)("th",{class:"tw-border tw-px-4 tw-py-2 tw-w-[150px] tw-flex-wrap"},"Link video"),(0,s._)("th",{class:"tw-border tw-px-4 tw-py-2 tw-w-[150px] tw-flex-wrap"},"Link Store")])],-1),det={class:"tw-border tw-px-4 tw-py-2"},cet={class:"tw-border tw-px-4 tw-py-2"},uet=["href"],pet=(0,s._)("i",{class:"mdi mdi-youtube tw-mx-2 tw-text-orange-400 tw-text-2xl"},null,-1),get={class:"tw-block tw-w-[150px] tw-truncate"},met={class:"tw-border tw-px-4 tw-py-2"},het=["href"],fet=(0,s._)("i",{class:"mdi mdi-store tw-mx-2 tw-text-orange-400 tw-text-2xl"},null,-1),bet={class:"tw-block tw-w-[150px] tw-truncate"},vet={class:"tw-my-2 tw-flex tw-justify-end"},xet={key:1,class:"tw-text-center"},yet={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},_et=["disabled"],ket=(0,s._)("span",null,"Update",-1);function Cet(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",att,[stt,(0,s._)("div",ltt,[(0,s._)("div",ott,[(0,s._)("div",itt,[wtt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",ntt,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",dtt,[ctt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",utt,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",ptt,[gtt,(0,s._)("div",mtt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[htt,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,ftt),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,btt)))),128))],34),[[a.bM,o.itemCopy.city]]),vtt]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",xtt,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",ytt,[_tt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",ktt,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Ctt,[Dtt,(0,s._)("div",Stt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,ztt)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),Utt]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",qtt,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Ptt,[Ltt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",Wtt,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Att,[$tt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",Ett,[Ttt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",Ftt,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",jtt,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Itt,[Vtt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,wt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",Ott,(0,wt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",Htt,[Mtt,(0,s._)("div",Rtt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,Ntt)))),128))],512),[[a.bM,o.itemCopy.upsell]]),Ytt])]),(0,s._)("div",Ztt,[(0,s._)("label",Ktt,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",Btt," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{action:"update",order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",Qtt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",Jtt,[(0,s._)("div",Gtt,[Xtt,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.video},(0,wt.zw)(i.truncateText(t.video,30)),9,tet)]),(0,s._)("div",eet,[ret,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.store},(0,wt.zw)(i.truncateText(t.store,30)),9,aet)])])])))),128))])):(0,s.kq)("",!0),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",set,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"]),(0,s._)("button",{onClick:e[21]||(e[21]=t=>o.showProducts=!o.showProducts),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-my-5 tw-w-[150px] tw-h-[30px] tw-border tw-border-solid tw-border-emerald-500/20 hover:tw-bg-emerald-500/10 hover:tw-border-emerald-500/70 tw-duration-300 tw-text-emerald-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"}," Suggested Products "),o.showProducts?((0,s.wg)(),(0,s.iD)("div",oet,[i.paginatedProducts.length>0?((0,s.wg)(),(0,s.iD)("div",iet,[(0,s._)("table",wet,[net,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.paginatedProducts,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",det,(0,wt.zw)(t.name),1),(0,s._)("td",cet,[(0,s._)("a",{href:"https://"+t.video,target:"_blank",class:"tw-flex tw-items-center tw-text-blue-500 tw-hover:text-blue-800 hover:tw-underline"},[pet,(0,s._)("span",get,(0,wt.zw)(t.video),1)],8,uet)]),(0,s._)("td",met,[(0,s._)("a",{href:"https://"+t.store,target:"_blank",class:"tw-flex tw-items-center tw-text-blue-500 tw-hover:text-blue-800 hover:tw-underline"},[fet,(0,s._)("span",bet,(0,wt.zw)(t.store),1)],8,het)])])))),128))])]),(0,s._)("div",vet,[(0,s._)("button",{class:"tw-border-solid tw-border-2 tw-rounded-lg tw-border-gray-400 tw-py-1 tw-px-3 tw-mr-2",onClick:e[22]||(e[22]=(...t)=>i.previousPage&&i.previousPage(...t))},"Previous"),(0,s._)("button",{class:"tw-border-solid tw-border-2 tw-rounded-lg tw-border-gray-400 tw-py-1 tw-px-3",onClick:e[23]||(e[23]=(...t)=>i.nextPage&&i.nextPage(...t))},"Next")])])):((0,s.wg)(),(0,s.iD)("div",xet," No other products "))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("div",yet,[(0,s._)("button",{onClick:e[24]||(e[24]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[25]||(e[25]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ket],8,_et)])])])),_:1},8,["visible","onCancel"])])}const Det=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.parent_id||"refund"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!zet(t,e.items):(t.errors.parent_id="Add Parent id !",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),zet=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Uet=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={},t.$store.dispatch("agent/refreshCounts")},qet=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Pet=(t,e)=>{t.isLoading=!0,t.errors={},F.update(e.id,e).then((e=>Uet(t,e.data))).catch((e=>qet(t,e.response.data))).finally((()=>t.isLoading=!1))},Let={key:0},Wet=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Aet={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},$et=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Eet=(0,s._)("span",null,"Add Item",-1),Tet=[$et,Eet],Fet={key:1,class:"md:tw-col-span-12 tw-col-span-12"},jet={class:"tw-max-w-full tw-overflow-auto"},Iet={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},Vet={class:"tw-bg-gray-50"},Oet={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Het={key:0},Met={colspan:"5"},Ret={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Net=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Yet=(0,s._)("span",null,"Add Item",-1),Zet=[Net,Yet],Ket=(0,s._)("td",{colspan:"4"},null,-1),Bet={colspan:"1",class:"tw-p-2"},Qet={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Jet={key:1},Get={colspan:"6"},Xet={class:"tw-scale-75 tw-p-5"};function trt(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Let,[Wet,(0,s._)("div",Aet,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Tet)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",Fet,[(0,s._)("div",jet,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Iet,[(0,s._)("tr",Vet,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Oet,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",Het,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,action:r.action,item:t,order:r.order,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["action","item","order","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",Met,[(0,s._)("div",Ret,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Zet)])])]),(0,s._)("tr",null,[Ket,(0,s._)("td",Bet,[(0,s._)("div",Qet,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Jet,[(0,s._)("tr",null,[(0,s._)("td",Get,[(0,s._)("div",Xet,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const ert={class:"tw-p-2"},rrt={class:"tw-p-2"},art={key:0,class:"tw-relative"},srt=["value"],lrt=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),ort=["value"],irt={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},wrt=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),nrt=[wrt],drt={class:"tw-p-2"},crt=["value"],urt={class:"tw-p-2"},prt=["value"],grt={class:"tw-flex tw-justify-center"};function mrt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("div",ert,[((0,s.wg)(),(0,s.j4)(i,{"append-to-body":"",reduce:t=>t.id,key:r.item.id,"onOption:selected":e[0]||(e[0]=t=>o.handleProductChange(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Product",modelValue:o.product,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),options:o.allProducts,label:"name"},null,8,["reduce","modelValue","options"])),(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",rrt,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",art,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[3]||(e[3]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[lrt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,ort)))),128))],40,srt)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",irt,nrt)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",drt,[(0,s._)("input",{onInput:e[4]||(e[4]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,crt)])]),(0,s._)("td",null,[(0,s._)("div",urt,[(0,s._)("input",{onInput:e[5]||(e[5]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,prt)])]),(0,s._)("td",null,[(0,s._)("div",grt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var hrt={components:{"vue-select":oZ.Z},props:{item:{required:!0},products:{required:!0},order:{required:!1},action:{required:!0}},computed:{allProducts(){return[{id:0,name:"Choose Product"},...this.products]},product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))},productsForUpdate(){return this.products.filter((t=>t.user_id==this.order.user_id))},productsForCreate(){if(!this.order.items.length)return this.products;const t=this.order.items[0];return t.product_id?this.products.filter((e=>e.user_id==t.product.user_id)):this.products},filteredProducts(){return"update"==this.action?this.productsForUpdate:this.productsForCreate}},methods:{handleProductChange(t,e){const r=1===e?parseInt(t.target.value):t.id;if(!r)return!1;const a=this.products.find((t=>t.id==r));console.log(a.variations.length>0?a.variations[0].id:null);const s={...this.item,product_id:r,product:a,product_ref:a.ref,product_variation_id:a.variations.length>0?a.variations[0].id:null,product_variation:a.variations.length>0?a.variations[0]:null};if(this.$emit("update",s),console.log(this.order),this.order.items.length){const t=this.order.items[0];console.log(t)}},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const frt=(0,m.Z)(hrt,[["render",mrt]]);var brt=frt,vrt={components:{ItemRow:brt},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0},action:{required:!1,default:"update"}},data(){return{currency:c}},computed:{price(){return vo(this.order)},filteredProducts(){return this.products.filter((t=>t.user_id==this.order.user_id))}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const xrt=(0,m.Z)(vrt,[["render",trt]]);var yrt=xrt;const _rt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),krt={key:0,class:"tw-relative"},Crt=["value","disabled"],Drt=(0,s._)("option",{value:""},"Choose a Delivery",-1),Srt=["value"],zrt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Urt={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qrt={key:2,class:"tw-relative"},Prt={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Lrt=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Wrt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function Art(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[_rt,l.fetched?((0,s.wg)(),(0,s.iD)("div",krt,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,wt.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Drt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Srt)))),128))],42,Crt),zrt])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Urt,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qrt,[(0,s._)("div",Prt,[(0,s.Wm)(i)]),Lrt,Wrt]))])}var $rt={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const Ert=(0,m.Z)($rt,[["render",Art]]);var Trt=Ert;const Frt={key:0},jrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),Irt={class:"md:tw-col-span-12 tw-col-span-12"},Vrt={class:"tw-max-w-full tw-overflow-auto"},Ort={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Hrt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),Mrt={class:"tw-px-3 tw-py-2"},Rrt={class:"tw-px-3 tw-py-2"},Nrt={class:"tw-px-3 tw-py-2"},Yrt={class:"tw-px-3 tw-py-2"},Zrt={class:"tw-max-w-[250px] tw-text-sm"};function Krt(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",Frt,[jrt,(0,s._)("div",Irt,[(0,s._)("div",Vrt,[(0,s._)("table",Ort,[Hrt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Mrt,(0,wt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",Rrt,(0,wt.zw)(t.quantity),1),(0,s._)("td",Nrt,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",Yrt,[(0,s._)("p",Zrt,(0,wt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var Brt={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const Qrt=(0,m.Z)(Brt,[["render",Krt]]);var Jrt=Qrt,Grt={components:{OrderItems:yrt,OrderAffectation:Trt,ProductOffersTable:Jrt},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:jn,upsells:On,isLoading:!1,currentPage:1,itemsPerPage:5,showProducts:!1,products_fetched:null,products:null,itemCopy:null,product:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,parent_id:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]},paginatedProducts(){const t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.filteredProducts.slice(t,e)},filteredProducts(){const t=this.itemCopy.items.map((t=>t.product_id));return this.products.filter((e=>e.user_id===this.itemCopy.user_id&&!t.includes(e.id)))}},methods:{nextPage(){this.currentPage*this.itemsPerPage<this.filteredProducts.length&&this.currentPage++},previousPage(){this.currentPage>1&&this.currentPage--},handleUpdate(){const t=Det(this,this.itemCopy);if(!t)return!1;Pet(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder(this.itemCopy.user_id).then((t=>{if("SUCCESS"==t.data.code){this.products=t.data.data.products;const e=this.itemCopy.items.map((t=>t.product_id));this.product=this.products.filter((t=>e.includes(t.id)))}else this.products=[];this.products_fetched=!0})).catch(this.$handleApiError)},truncateText(t,e){return t.length>e?t.slice(0,e)+"...":t}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const Xrt=(0,m.Z)(Grt,[["render",Cet]]);var tat=Xrt,eat={components:{UpdatePopup:tat},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const rat=(0,m.Z)(eat,[["render",rtt]]);var aat=rat,sat={components:{TableActions:aat},props:{item:{required:!0}},data(){return{moment:ze()}},computed:{confirmation(){return jn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Hn.find((t=>t.value==this.item.delivery))}},methods:{}};const lat=(0,m.Z)(sat,[["render",J9]]);var oat=lat,iat={components:{TablePaginationNoNums:W9,TableRow:oat},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const wat=(0,m.Z)(iat,[["render",h9]]);var nat=wat;const dat={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},cat=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),uat={class:"tw-bg-white tw-p-4"},pat={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},gat={class:"tw-col-span-2 md:tw-col-span-1"},mat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),hat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fat={class:"tw-col-span-2 md:tw-col-span-1"},bat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),vat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xat={class:"tw-col-span-2 md:tw-col-span-1"},yat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),_at={class:"tw-relative"},kat=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Cat=["value"],Dat=["value"],Sat=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),zat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Uat={class:"tw-col-span-2 md:tw-col-span-1"},qat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Pat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Lat={class:"tw-col-span-2"},Wat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Aat={class:"tw-relative"},$at=["value"],Eat=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Tat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Fat={key:0,class:"md:tw-col-span-1 tw-col-span-2"},jat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Iat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Vat={key:1,class:"md:tw-col-span-1 tw-col-span-2"},Oat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Hat={class:"tw-col-span-2"},Mat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Rat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Nat={class:"md:tw-col-span-1 tw-col-span-2"},Yat={key:2,class:"tw-col-span-1"},Zat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),Kat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Bat={class:"md:tw-col-span-1 tw-col-span-2"},Qat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Jat={class:"tw-relative"},Gat=["value"],Xat=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),tst={class:"tw-col-span-2"},est={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},rst={key:0,class:"tw-text-red-400 tw-text-xs"},ast={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},sst=["disabled"],lst=(0,s._)("span",null,"Create",-1);function ost(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",dat,[cat,(0,s._)("div",uat,[(0,s._)("div",pat,[(0,s._)("div",gat,[mat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",hat,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",fat,[bat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",vat,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",xat,[yat,(0,s._)("div",_at,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[kat,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,Cat),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,Dat)))),128))],34),[[a.bM,o.itemCopy.city]]),Sat]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",zat,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Uat,[qat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Pat,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Lat,[Wat,(0,s._)("div",Aat,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,$at)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),Eat]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",Tat,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Fat,[jat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",Iat,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Vat,[Oat,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",Hat,[Mat,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",Rat,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",Nat,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Yat,[Zat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,wt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",Kat,(0,wt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",Bat,[Qat,(0,s._)("div",Jat,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,Gat)))),128))],512),[[a.bM,o.itemCopy.upsell]]),Xat])]),(0,s._)("div",tst,[(0,s._)("label",est,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",rst," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{action:"create",order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",ast,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),lst],8,sst)])])])),_:1},8,["visible","onCancel"])])}const ist=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},wst=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},nst=(t,e)=>{t.isLoading=!0,t.errors={},F.create(e).then((e=>ist(t,e.data))).catch((e=>wst(t,e.response.data))).finally((()=>t.isLoading=!1))};var dst={components:{OrderItems:yrt,OrderAffectation:Trt},props:{visible:{required:!0}},data(){return{confirmations:In,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=Det(this,this.itemCopy);if(!t)return!1;nst(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?(this.products=t.data.data.products,console.log(this.products)):this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const cst=(0,m.Z)(dst,[["render",ost]]);var ust=cst;const pst={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},gst={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},mst=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),hst=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),fst=[hst],bst=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),vst=[bst],xst=["disabled"],yst=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),_st=[yst],kst={class:"tw-relative"},Cst=["value"],Dst=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),Sst=[Dst],zst=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Ust={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},qst=["value"],Pst={class:"tw-overflow-hidden tw-col-span-1"},Lst={class:"tw-overflow-hidden tw-col-span-1"};function Wst(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",pst,[(0,s._)("div",gst,[mst,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},fst),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},vst)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},_st,8,xst),(0,s._)("div",kst,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Sst,40,Cst),zst])]),(0,s._)("div",Ust,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,qst),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Pst,[(0,s.Wm)(w,{onFilter:e[7]||(e[7]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Lst,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const Ast={class:"tw-mb-4"},$st={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Est={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Tst={class:"tw-flex tw-items-center tw-justify-between"},Fst={class:"tw-text-xl tw-font-bold tw-text-gray-900"},jst={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function Ist(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Ast,[(0,s._)("div",$st,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Est,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",Tst,[(0,s._)("span",Fst,(0,wt.zw)(t.total),1),(0,s._)("span",jst,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var Vst={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const Ost=(0,m.Z)(Vst,[["render",Ist]]);var Hst=Ost;const Mst={class:"tw-mb-4"},Rst={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Nst={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},Yst=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created",-1),Zst=["value"],Kst={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},Bst=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Qst=["value"],Jst=(0,s._)("option",{value:"all",selected:""},"All",-1),Gst=["value"],Xst=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})]),(0,s._)("span",null,"Filter")],-1),tlt=[Xst];function elt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Mst,[(0,s._)("div",Rst,[(0,s._)("div",Nst,[Yst,(0,s._)("input",{value:r.filters.created_at,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_at:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Zst)]),(0,s._)("div",Kst,[Bst,(0,s._)("select",{value:r.filters.confirmation,onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Jst,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.name),9,Gst)))),128))],40,Qst)]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",{onClick:e[3]||(e[3]=e=>t.$emit("filter")),class:"tw-col-span-12 tw-flex tw-justify-end"},tlt)])])}var rlt={props:{filters:{required:!0,default:{}}},data(){return{confirmations:jn,deliveryStatus:Hn,deliveries:[{id:1,value:"annuler",name:"Cancelled"},{id:2,value:"pas-de-reponse",name:"No Answer"}]}}};const alt=(0,m.Z)(rlt,[["render",elt]]);var slt=alt,llt={components:{IndexStatistics:Hst,FiltersWrapper:slt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const olt=(0,m.Z)(llt,[["render",Wst]]);var ilt=olt,wlt={components:{IndexTable:nat,IndexFilters:ilt,CreatePopup:ust},data(){return{fetching:!0,items:[],statistics:null,create_popup:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",delivery:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,F.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const nlt=(0,m.Z)(wlt,[["render",V7]]);var dlt=nlt;const clt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},ult={class:"tw-px-3 tw-h-fit"},plt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},glt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"New Orders")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"take responsibility for new orders.")],-1),mlt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},hlt=["disabled"],flt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),blt=(0,s._)("span",null,"Get Order",-1),vlt=[flt,blt],xlt={key:0,class:"tw-p-5"},ylt={key:1,class:"tw-mt-5 tw-space-y-5"},_lt={class:"tw-flex tw-items-center tw-justify-end"},klt={key:2},Clt=(0,s._)("div",{class:"tw-p-5 tw-border tw-border-solid tw-shadow-sm tw-mt-5 tw-text-center tw-font-medium tw-text-xl tw-text-gray-600 tw-bg-gray-100 tw-w-full tw-rounded-lg"}," No Orders ",-1),Dlt=[Clt];function Slt(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",clt,[(0,s._)("section",ult,[(0,s._)("div",plt,[glt,(0,s._)("div",mlt,[(0,s._)("button",{disabled:l.fetching,onClick:e[0]||(e[0]=(...t)=>o.getOrder&&o.getOrder(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},vlt,8,hlt)])]),l.fetching?((0,s.wg)(),(0,s.iD)("div",xlt,[(0,s.Wm)(i)])):(0,s.kq)("",!0),!l.fetching&&l.order_exists?((0,s.wg)(),(0,s.iD)("div",ylt,[(0,s.Wm)(w,{order:l.order,onUpdate:e[1]||(e[1]=t=>l.order=t)},null,8,["order"]),l.doubles.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.doubles,(t=>((0,s.wg)(),(0,s.j4)(w,{double:!0,key:t.id,order:t,onUpdate:e[2]||(e[2]=t=>l.doubles=l.doubles.map((e=>e.id==t.id?t:e)))},null,8,["order"])))),128)):(0,s.kq)("",!0),(0,s._)("div",_lt,[(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.save&&o.save(...t)),type:"button",class:"tw-px-5 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-orange-500 hover:tw-bg-orange-600 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-orange-100 tw-rounded-lg tw-text-center dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 dark:focus:tw-ring-orange-800"}," Save ")])])):(0,s.kq)("",!0),l.fetching||l.order_exists?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",klt,Dlt))])])}const zlt=t=>{t.fetching=!0,F.toConfirm().then((e=>{const r=e.data;if("NO_ORDER"===r.code)return t.order_exists=!1,!1;"SUCCESS"==r.code&&r.data.orders.length>0&&(t.order=r.data.orders[0],t.order_exists=!0),t.doubles=1==r.data.double?r.data.double_orders.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},Ult=t=>null==t.order.confirmation?(t.$alert({title:"Confirmation Not Changed",type:"warning"}),!1):t.doubles.some((t=>null==t.confirmation))?(t.$alert({title:"Double Order Confirmation Not Changed",type:"warning"}),!1):(t.order_exists=!1,t.order=null,t.doubles=[],void t.$alert({title:"Your changes has been saved !",type:"success"})),qlt=t=>{let e=t.order;if(null!=e&&null==e.confirmation)return t.$alert({type:"warning",title:"Order Not Confirmed"}),!1;t.fetching=!0,F.getOrder().then((e=>{let r=e.data;if("ORDER_NOT_CONFIRMED"==r.code){t.$alert({type:"warning",title:"Order Not Confirmed"});let r=e.data.orders[0];return t.order=JSON.parse(JSON.stringify(r)),t.order_exists=!0,!1}if("SUCCESS"==r.code&&!e.data.orders?.id){let e=r.data.orders;t.order=JSON.parse(JSON.stringify(e)),t.order_exists=!0}if("NO_ORDERS"===r.code)return t.order_exists=!1,!1;t.doubles=1==r.data.double?r.data.double_orders?.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},Plt={class:"tw-bg-gray-50 tw-border tw-shadow-sm tw-rounded-lg tw-relative"},Llt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"white","fill-rule":"evenodd",d:"M21.455 5.416a.75.75 0 0 1-.096.943l-9.193 9.192a.75.75 0 0 1-.34.195l-3.829 1a.75.75 0 0 1-.915-.915l1-3.828a.778.778 0 0 1 .161-.312L17.47 2.47a.75.75 0 0 1 1.06 0l2.829 2.828a.756.756 0 0 1 .096.118Zm-1.687.412L18 4.061l-8.518 8.518l-.625 2.393l2.393-.625l8.518-8.519Z","clip-rule":"evenodd"}),(0,s._)("path",{fill:"white",d:"M19.641 17.16a44.4 44.4 0 0 0 .261-7.04a.403.403 0 0 1 .117-.3l.984-.984a.198.198 0 0 1 .338.127a45.91 45.91 0 0 1-.21 8.372c-.236 2.022-1.86 3.607-3.873 3.832a47.77 47.77 0 0 1-10.516 0c-2.012-.225-3.637-1.81-3.873-3.832a45.922 45.922 0 0 1 0-10.67c.236-2.022 1.86-3.607 3.873-3.832a47.75 47.75 0 0 1 7.989-.213a.2.2 0 0 1 .128.34l-.993.992a.402.402 0 0 1-.297.117a46.164 46.164 0 0 0-6.66.255a2.89 2.89 0 0 0-2.55 2.516a44.421 44.421 0 0 0 0 10.32a2.89 2.89 0 0 0 2.55 2.516c3.355.375 6.827.375 10.183 0a2.89 2.89 0 0 0 2.55-2.516Z"})],-1),Wlt={class:"tw-p-5 tw-flex tw-items-center tw-gap-2"},Alt={class:"tw-text-xl tw-font-bold tw-text-gray-600"},$lt=(0,s._)("span",{class:"tw-text-sm tw-text-gray-500"},null,-1),Elt={key:0,class:"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded tw-bg-purple-100 tw-text-purple-600"},Tlt={class:"tw-grid lg:tw-grid-cols-4 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},Flt={class:"tw-space-y-2 tw-px-5"},jlt=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke-linecap="round" stroke-width="1.5"><path d="M7 18v-1a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v1"></path><path stroke-linejoin="round" d="M12 12a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"></path><path stroke-linejoin="round" d="M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6Z"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">Client Name</span></div>',1),Ilt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Vlt={class:"tw-space-y-2 tw-px-5"},Olt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{class:"tw-stroke-orange-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.118 14.702L14 15.5c-2.782-1.396-4.5-3-5.5-5.5l.77-4.13L7.815 2H4.064c-1.128 0-2.016.932-1.847 2.047c.42 2.783 1.66 7.83 5.283 11.453c3.805 3.805 9.286 5.456 12.302 6.113c1.165.253 2.198-.655 2.198-1.848v-3.584l-3.882-1.479Z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Phone Number")],-1),Hlt={class:"tw-flex tw-items-center tw-gap-2"},Mlt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Rlt={class:"tw-space-y-2 tw-px-5"},Nlt=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path d="M3.75 18a.75.75 0 0 0-1.5 0h1.5Zm-1.5-4a.75.75 0 0 0 1.5 0h-1.5ZM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08v1.5ZM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094h1.5ZM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066v-1.5ZM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294h1.5Zm0 10v-4h-1.5v4h1.5Zm0-8v-2h-1.5v2h1.5Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 22v-6c0-1.886 0-2.828.586-3.414C8.172 12 9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525c-.356-.514-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707C4.586 4.5 5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293C10 5.086 10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">City</span></div>',1),Ylt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Zlt={class:"tw-space-y-2 tw-px-5"},Klt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[(0,s._)("path",{fill:"#f97316",d:"m19.799 5.165l-2.375-1.83a1.997 1.997 0 0 0-.521-.237A2.035 2.035 0 0 0 16.336 3H9.5l.801 5h6.035c.164 0 .369-.037.566-.098s.387-.145.521-.236l2.375-1.832c.135-.091.202-.212.202-.334s-.067-.243-.201-.335zM8.5 1h-1a.5.5 0 0 0-.5.5V5H3.664c-.166 0-.37.037-.567.099c-.198.06-.387.143-.521.236L.201 7.165C.066 7.256 0 7.378 0 7.5c0 .121.066.242.201.335l2.375 1.832c.134.091.323.175.521.235c.197.061.401.098.567.098H7v8.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-17a.5.5 0 0 0-.5-.5z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Address")],-1),Blt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Qlt={class:"tw-p-5 tw-py-3 tw-w-full tw-border-t tw-border-solid tw-mt-3"},Jlt={class:""},Glt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 2048 2048"},[(0,s._)("path",{fill:"#f97316",d:"M1024 1000v959l-64 32l-832-415V536l832-416l832 416v744h-128V680l-640 320zm-64-736L719 384l621 314l245-122l-625-312zm-64 1552v-816L256 680v816l640 320zM335 576l625 312l238-118l-622-314l-241 120zm1073 1216v-128h640v128h-640zm0-384h640v128h-640v-128zm-256 640v-128h128v128h-128zm0-512v-128h128v128h-128zm0 256v-128h128v128h-128zm-128 24h1h-1zm384 232v-128h640v128h-640z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Product")],-1),Xlt={class:"tw-p-3 tw-pl-10 tw-space-y-2"},tot={class:"tw-font-bold tw-text-green-500"},eot={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},rot={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},aot={class:"tw-font-[cairo] tw-mt-2 tw-flex tw-items-center tw-justify-end tw-gap-1 tw-text-2xl tw-text-green-400 tw-font-bold"},sot={key:0};function lot(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Plt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),type:"button",class:"tw-px-5 tw-absolute tw-right-3 tw-top-3 tw-z-10 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-green-400 hover:tw-bg-green-500 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-green-100 tw-rounded-lg tw-text-center dark:tw-bg-green-600 dark:hover:tw-bg-green-700 dark:focus:tw-ring-green-800"},[Llt,(0,s.Uk)(" Edit ")]),(0,s._)("div",Wlt,[(0,s._)("span",Alt,[$lt,(0,s.Uk)(" ID: "+(0,wt.zw)(r.order.id),1)]),(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3),r.double?((0,s.wg)(),(0,s.iD)("span",Elt,"Maybe double")):(0,s.kq)("",!0)]),(0,s._)("div",Tlt,[(0,s._)("div",Flt,[jlt,(0,s._)("span",Ilt,(0,wt.zw)(r.order.fullname),1)]),(0,s._)("div",Vlt,[Olt,(0,s._)("div",Hlt,[(0,s._)("span",Mlt,(0,wt.zw)(r.order.phone),1),(0,s.Wm)(nt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"text",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])]),(0,s._)("div",Rlt,[Nlt,(0,s._)("span",Ylt,(0,wt.zw)(r.order.city),1)]),(0,s._)("div",Zlt,[Klt,(0,s._)("span",Blt,(0,wt.zw)(r.order.adresse),1)])]),(0,s._)("div",Qlt,[(0,s._)("div",Jlt,[Glt,(0,s._)("ul",Xlt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",tot,(0,wt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,wt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",eot,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",rot,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128)),(0,s._)("li",aot,[(0,s._)("span",null,(0,wt.zw)(l.currency),1),(0,s._)("span",null,(0,wt.zw)(o.price),1)])])])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",sot,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.order},null,8,["visible","item"])])):(0,s.kq)("",!0)])}var oot={components:{UpdatePopup:tat},props:{order:{required:!0},double:{required:!1}},data(){return{currency:c,popup:!1}},computed:{price(){return vo(this.order)},confirmation(){return jn.find((t=>t.value==this.order.confirmation))}}};const iot=(0,m.Z)(oot,[["render",lot]]);var wot=iot,not={components:{OrderCard:wot},data(){return{fetching:!0,order_exists:!1,doubles:[],order:null}},methods:{toConfirm(){zlt(this)},getOrder(){qlt(this)},save(){Ult(this)}},mounted(){this.toConfirm()}};const dot=(0,m.Z)(not,[["render",Slt]]);var cot=dot;const uot={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},pot={class:"tw-px-3"},got={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},mot={class:"tw-flex tw-items-center tw-gap-x-3"},hot=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),fot={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},bot=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Show all confirmed orders.",-1);function vot(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",uot,[(0,s._)("section",pot,[(0,s._)("div",got,[(0,s._)("div",null,[(0,s._)("div",mot,[hot,(0,s._)("span",fot,(0,wt.zw)(l.totalOrders)+" order",1)]),bot]),(0,s.kq)("",!0)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}var xot={components:{IndexTable:nat,IndexFilters:ilt},data(){return{fetching:!0,items:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,confirmation:"confirmer"};return this.fetching=!0,F.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const yot=(0,m.Z)(xot,[["render",vot]]);var _ot=yot,kot={name:"orders",path:"/agent/orders",component:Wa,meta:{module:"order"},children:[{name:"order/list",path:"",component:dlt,meta:{module:"order",subModule:"order/list",title:"Orders List",gate:"show_all_orders"}},{name:"order/show",path:"add",component:cot,meta:{module:"order",subModule:"order/show",title:"Current Order",gate:"show_all_orders"}},{name:"order/confirmed",path:"confirmed",component:_ot,meta:{module:"order",subModule:"order/confirmed",title:"Confirmed Orders",gate:"show_all_orders"}}]};const Cot=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Orders")])],-1),Dot={key:0},Sot={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},zot={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-5"},Uot={key:1},qot={class:"tw-min-h-[400px] tw-flex tw-flex-col tw-justify-center tw-items-center"},Pot=(0,s._)("p",{class:"tw-font-medium tw-text-neutral-400 tw-text-lg tw-mb-n3"},"No Confirmed orders for now.",-1),Lot=["src"];function Wot(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",null,[Cot,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Dot,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Sot,[o.orders.length>0?((0,s.wg)(),(0,s.iD)("div",zot,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.filteredOrders,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tw-col-span-12 md:tw-col-span-4"},[((0,s.wg)(),(0,s.j4)(w,{order:t,key:t.id},null,8,["order"]))])))),128))])):((0,s.wg)(),(0,s.iD)("div",Uot,[(0,s._)("div",qot,[Pot,(0,s._)("img",{src:l.localUrl+"images/delivery.jpg",class:"tw-mt-0 tw-mx-auto tw-max-w-[600px] tw-w-full",alt:""},null,8,Lot)])]))])):(0,s.kq)("",!0)])}var Aot=r(9875),$ot=r(1888),Eot=r(1334);const Tot={class:"tw-text-sm tw-text-orange-500x tw-bg-orange-500x/10 tw-underline tw-underline-offset-2 tw-px-1 tw-w-fit tw-rounded"},Fot={class:"tw-w-full tw-whitespace-normal"},jot=(0,s._)("div",{class:"tw-border-b tw-mb-1 tw-border-dashed"},null,-1),Iot={class:"tw-flex tw-items-center"},Vot={key:0},Oot={key:1},Hot={class:"tw-min-w-fit tw-w-[25px] tw-h-[25px] tw-flex tw-items-center tw-justify-center tw-text-md tw-font-bold tw-p-1 tw-rounded tw-text-orange-400 tw-bg-orange-400/10"},Mot=(0,s._)("span",{class:"tw-text-sm"},"x",-1),Rot={key:0},Not={key:0,class:"tw-px-5 tw-py-2 tw-mt-2 tw-border-neutral-200 tw-border-t tw-border-dashed"},Yot=(0,s._)("p",{class:"tw-text-md tw-font-bold tw-text-pink-500"},"NOTE",-1),Zot={class:"tw-flex tw-items-center tw-text-gray-500"},Kot={class:"tw-flex tw-items-center tw-text-gray-500"};function Bot(t,e,r,a,l,o){const i=(0,s.up)("OrderCardDelivery");return(0,s.wg)(),(0,s.j4)(Ss._,{class:(0,wt.C_)(["tw-mx-auto tw-relative tw-border-dashed !tw-shadow-lg !tw-shadow-gray-100/70",[!!r.order.note&&"tw-border-pink-00","livrer"==r.order.delivery&&"tw-border-emerald-400"]]),flat:"",border:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,wt.C_)(["tw-absolute tw-top-0 tw-right-0 tw-py-1 tw-px-2 tw-rounded-bl tw-text-xs",[o.delivery?.bg,o.delivery?.text]])},(0,wt.zw)(r.order.delivery),3),(0,s.Wm)(Aot._,null,{title:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("p",Tot,(0,wt.zw)(r.order.city),1),(0,s._)("p",Fot,(0,wt.zw)(r.order.adresse),1)]),jot])),_:1}),(0,s.Wm)($ot.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,{align:"center","no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",class:"tw-flex tw-items-center tw-flex-wrap tw-text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-account",size:"small",class:"tw-mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,wt.zw)(r.order.fullname)+" ",1),r.order.note?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,icon:"mdi-note-outline",size:"small",class:"tw-ml-2 tw-text-sm !tw-text-pink-500"})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",class:"tw-text-gray-500 tw-space-y-1 tw-mt-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-3",key:t.id},[(0,s._)("div",Iot,[(0,s._)("span",null,[(0,s.Uk)((0,wt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Vot,"| "+(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Oot,"| "+(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s._)("p",Hot,[Mot,(0,s.Uk)(" "+(0,wt.zw)(t.quantity),1)])])])))),128))])),_:1}),(0,s.Wm)(Ta.D,{class:"text-h4 tw-my-3",cols:"12"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(o.getPrice(r.order)),1)])),_:1})])),_:1})])),_:1}),(0,s.kq)("",!0),(0,s.Wm)(Vt.Fx,null,{default:(0,s.w5)((()=>[t.expand?((0,s.wg)(),(0,s.iD)("div",Rot,[r.order.note?((0,s.wg)(),(0,s.iD)("div",Not,[Yot,(0,s._)("p",null,(0,wt.zw)(r.order.note),1)])):(0,s.kq)("",!0),(0,s.Wm)(rr.i,{class:"bg-transparent tw-space-y-2 !tw-px-5 tw-py-3 tw-border-neutral-200 tw-border-dashed tw-border-t tw-mt-5"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Zot,[(0,s.Wm)(ct.t,{icon:"mdi-phone",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,wt.zw)(r.order.phone),1)])]),(0,s._)("div",null,[(0,s._)("div",Kot,[(0,s.Wm)(ct.t,{icon:"mdi-calendar",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,wt.zw)(r.order.created_at?.split("T")[0].split("-").reverse().join(".")),1)])])])),_:1})])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(le.J),(0,s.Wm)(Eot.h,{class:"tw-flex tw-justify-end tw-gap-2 tw-flex-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.T,{class:"tw-capitalize tw-mx-auto tw-bg-orange-500/5 tw-text-orange-500",rounded:"lg",density:"comfortable",icon:"",variant:"flat",onClick:e[0]||(e[0]=e=>t.expand=!t.expand)},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.expand?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1}),(0,s.Wm)(nr.C),r.order.phone?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-capitalize tw-bg-green-500/5 tw-text-green-500 tw-border tw-border-green-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),r.order.phone?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,link:"",target:"_blank",href:"tel:"+r.order.phone,class:"tw-capitalize tw-bg-blue-500/5 tw-text-blue-500 tw-border tw-border-blue-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-phone")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),(0,s.Wm)(nt.T,{onClick:e[1]||(e[1]=e=>t.confirmPopup=!0),class:"tw-capitalize tw-bg-emerald-500 tw-text-white tw-border tw-border-emerald-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])),_:1})])),_:1}),((0,s.wg)(),(0,s.j4)(i,{delivery:r.order.delivery,order:r.order,key:r.order,visible:t.confirmPopup,onCancel:e[2]||(e[2]=e=>t.confirmPopup=!1)},null,8,["delivery","order","visible"]))])),_:1},8,["class"])}const Qot={class:"md:tw-w-[80%] tw-overflow-hidden tw-w-[95%] tw-max-w-[550px] tw-mx-auto tw-my-3 tw-min-h-[200px] tw-bg-white tw-rounded-lg tw-shadow-lg"},Jot={class:"tw-px-5 tw-pt-5"},Got=(0,s._)("h1",{class:"tw-font-bold tw-text-gray-600"},"Select Status",-1),Xot={class:"tw-mt-3 tw-flex tw-gap-3 tw-flex-wrap"},tit=["disabled","onClick"],eit={class:"tw-mt-5 tw-px-5 tw-py-3 tw-bg-gray-50 tw-border-t tw-flex tw-gap-2 tw-justify-end"},rit=(0,s._)("span",{class:"!tw-text-gray-500"},"Cancel",-1),ait=(0,s._)("span",{class:"!tw-text-white"},"Confirm",-1);function sit(t,e,r,a,l,o){const i=(0,s.up)("popup-full"),w=(0,s.up)("OrderReporting");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:o.cancel,visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Qot,[(0,s._)("div",Jot,[Got,(0,s._)("div",Xot,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(e=>((0,s.wg)(),(0,s.iD)("button",{disabled:o.isDisabled(e),onClick:t=>o.handleChange(e),key:e.value,class:(0,wt.C_)([[o.isDisabled(e)&&"tw-saturate-0",e.text,e.bg,e.id==t.delivery&&[e.ring,"tw-ring"]],"tw-px-4 tw-py-2 tw-rounded"])},(0,wt.zw)(e.name),11,tit)))),128))])]),(0,s._)("div",eit,[(0,s.Wm)(nt.T,{onClick:o.cancel,class:"!tw-capitalize",color:"grey-lighten-3",flat:""},{default:(0,s.w5)((()=>[rit])),_:1},8,["onClick"]),(0,s.Wm)(nt.T,{onClick:o.handleConfirm,loading:t.isLoading,class:"!tw-capitalize",color:"primary-color",flat:""},{default:(0,s.w5)((()=>[ait])),_:1},8,["onClick","loading"])])])])),_:1},8,["onCancel","visible"]),(0,s.Wm)(w,{onOrderReported:o.cancel,order:r.order,visible:t.showPopupReporter,onCancel:e[0]||(e[0]=e=>t.showPopupReporter=!1)},null,8,["onOrderReported","order","visible"])])}const lit={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},oit=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),iit=(0,s._)("br",null,null,-1),wit=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),nit={class:"tw-flex tw-justify-end tw-mt-2"};function dit(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",lit,[oit,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),iit,wit,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",nit,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var cit={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ba.deliveryUpdateDelivery(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$emit("orderReported"),this.$store.dispatch("order/update",{id:t.id,order:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){console.log(this.order)}};const uit=(0,m.Z)(cit,[["render",dit]]);var pit=uit,git={props:["visible","order"],components:{OrderReporting:pit},data:()=>({status:Hn,disabled:Mn,delivery:2,isLoading:!1,note:"",showPopupReporter:!1}),computed:{deliveryStatus(){return this.status.filter((t=>!!t.value))},selected(){return this.status.find((t=>t.id==this.delivery))}},watch:{order:{handler(t){this.delivery=this.getDeliveryId(t.delivery)},deep:!0,immediate:!0}},methods:{cancel(){this.getCurrentStatus(),this.$emit("cancel")},isDisabled(t){return this.disabled.includes(t.value)},handleChange(t){if(this.isDisabled(t))return!1;this.delivery=t.id},handleConfirm(){const t=this.selected;if(t.value===this.order.delivery)return this.cancel(),!1;"reporter"!=t.value&&this.updateOrder().then((()=>{this.cancel()})),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ba.deliveryUpdateDelivery(this.order.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.order.id,this.selected.value),this.isLoading=!1,this.cancel())}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})},getDeliveryId(t){return this.status.find((e=>e.value==t)).id||0},getCurrentStatus(){this.delivery=this.getDeliveryId(this.order.delivery)}},mounted(){this.getCurrentStatus()}};const mit=(0,m.Z)(git,[["render",sit]]);var hit=mit,fit={components:{OrderCardDelivery:hit},props:["order"],data:()=>({deliveryStatus:Hn,expand:!1,confirmPopup:!1,labels:[{name:"Telephone",field:"phone",icon:"mdi-phone"},{name:"Date",field:"created_at",icon:"mdi-calendar"}]}),computed:{delivery(){return this.getDeliveryStatus(this.order.delivery)}},methods:{getDeliveryStatus(t){return this.deliveryStatus.find((e=>e.value==t))||this.deliveryStatus[0]},getPrice(t){return vo(t)}}};const bit=(0,m.Z)(fit,[["render",Bot]]);var vit=bit,xit={components:{OrderCard:vit},data(){return{localUrl:w,deliveryStatus:Hn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"].filter((t=>"livrer"!=t.delivery))},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ba.deliveryOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const yit=(0,m.Z)(xit,[["render",Wot]]);var _it=yit;const kit=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Delivered Orders"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Delivered orders list")])],-1),Cit={key:0},Dit={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Sit={class:"mb-5 tw-flex"},zit={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Uit={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},qit={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Pit=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),Lit={class:"tw-relative"},Wit=["value"],Ait={key:0,class:""},$it={key:1},Eit=(0,s._)("p",null,"No orders for now",-1),Tit=[Eit];function Fit(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("OrdersTable");return(0,s.wg)(),(0,s.iD)("div",null,[kit,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Cit,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Dit,[(0,s._)("div",Sit,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",zit,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Uit,[(0,s._)("div",qit,[Pit,(0,s._)("div",Lit,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value?t.value:"all"},(0,wt.zw)(t.name),9,Wit)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),i.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Ait,[(0,s.Wm)(n,{orders:i.filteredOrders},null,8,["orders"])])):((0,s.wg)(),(0,s.iD)("div",$it,Tit))])):(0,s.kq)("",!0)])}const jit={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Iit={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Vit={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Oit=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Hit={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Mit={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Rit={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Nit=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Yit=["value"],Zit={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Kit={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Bit={class:"tw-text-white"};function Qit(t,e,r,l,o,i){const w=(0,s.up)("OrderRow");return(0,s.wg)(),(0,s.iD)("div",{key:r.orders.length},[(0,s._)("div",jit,[(0,s._)("table",Iit,[(0,s._)("thead",Vit,[(0,s._)("tr",null,[Oit,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Hit,(0,wt.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.j4)(w,{key:t.id,order:t},null,8,["order"])))),128))])])]),(0,s._)("div",Mit,[(0,s._)("div",Rit,[Nit,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,Yit)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Zit,[(0,s._)("div",Kit,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.orders.length:i.nextRange)+" of "+(0,wt.zw)(r.orders.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Bit,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Jit=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Git={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Xit={class:"tw-px-6 tw-py-4 tw-relative"},twt={key:0},ewt={class:"tw-px-6 tw-py-4"},rwt={class:"tw-px-6 tw-py-4"},awt={class:"tw-px-6 tw-py-4"},swt={class:"tw-px-6 tw-py-4"},lwt={class:"tw-pb-2"},owt={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},iwt={key:0},wwt={key:1},nwt={class:"tw-px-6 tw-py-4 tw-relative"},dwt={class:"tw-flex tw-items-center tw-justify-center"},cwt={class:"tw-flex tw-gap-1"},uwt={key:0},pwt={class:"tw-px-6 tw-py-4"},gwt={class:"tw-px-6 tw-py-4"},mwt={class:"tw-px-6 tw-py-4"},hwt={class:"tw-max-w-[300px] tw-min-w-[150px] tw-whitespace-normal"},fwt={class:"tw-px-6 tw-py-4"};function bwt(t,e,r,a,l,o){const i=(0,s.up)("OrderDelivery"),w=(0,s.up)("OrderActions");return(0,s.wg)(),(0,s.iD)("tr",{key:r.order.id,class:(0,wt.C_)([["reporter"==r.order.delivery&&"tw-relative",o.isReportedToday(r.order)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[Jit,(0,s._)("th",Git,(0,wt.zw)(r.order.id),1),(0,s._)("td",Xit,[(0,s.Uk)((0,wt.zw)(r.order?.created_at?.split("T")[0])+" ",1),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[o.isReportedToday(r.order)?((0,s.wg)(),(0,s.iD)("span",twt," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",ewt,(0,wt.zw)(r.order.fullname),1),(0,s._)("td",rwt,(0,wt.zw)(r.order.adresse),1),(0,s._)("td",awt,(0,wt.zw)(r.order.phone),1),(0,s._)("td",swt,[(0,s._)("div",lwt,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",owt,(0,wt.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,wt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",iwt,"| "+(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",wwt,"| "+(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",nwt,[(0,s._)("div",dwt,[((0,s.wg)(),(0,s.j4)(i,{class:(0,wt.C_)("reporter"==r.order.delivery&&"tw-mb-1"),order:r.order,id:r.order.id,key:r.order.delivery,delivery:r.order.delivery},null,8,["class","order","id","delivery"])),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",cwt,["reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("span",uwt,[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,wt.zw)(r.order?.reported_delivery_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",pwt,(0,wt.zw)(o.getPrice(r.order)),1),(0,s._)("td",gwt,(0,wt.zw)(r.order.city),1),(0,s._)("td",mwt,[(0,s._)("div",hwt,(0,wt.zw)(r.order.note),1)]),(0,s._)("td",fwt,[((0,s.wg)(),(0,s.j4)(w,{key:r.order.id,order:r.order},null,8,["order"]))])],2)}const vwt={key:0,class:"focus:tw-ring-4 tw-min-w-fit focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between tw-bg-green-500/10 tw-text-green-500"},xwt={key:1},ywt={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},_wt=["onClick"];function kwt(t,e,r,a,l,o){const i=(0,s.up)("OrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},["livrer"==r.delivery?((0,s.wg)(),(0,s.iD)("div",vwt,(0,wt.zw)(o.selected.name),1)):(0,s.kq)("",!0),"livrer"!=r.delivery?((0,s.wg)(),(0,s.iD)("div",xwt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,wt.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,wt.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",ywt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>!l.disabled.includes(t.value)&&o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,wt.C_)(["tw-block tw-px-4 tw-py-2",[l.disabled.includes(t.value)?"tw-text-neutral-400/80 tw-bg-neutral-400/10":[t.text,t.bg]]])},(0,wt.zw)(t.name),3)],8,_wt)))),128))])],2),(0,s.Wm)(i,{order:r.order,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])):(0,s.kq)("",!0)])),[[ie.L,o.close]])}var Cwt={props:["delivery","id","order"],components:{OrderReporting:pit},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Hn,disabled:Mn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;"reporter"!=t.value&&(this.selectedId=t.id,this.updateOrder(),this.close()),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ba.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const Dwt=(0,m.Z)(Cwt,[["render",kwt]]);var Swt=Dwt;const zwt={key:0};function Uwt(t,e,r,a,l,o){return l.newOrder?((0,s.wg)(),(0,s.iD)("div",zwt,[(0,s.Wm)(nt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])):(0,s.kq)("",!0)}var qwt={props:["order"],name:"orderActions",data(){return{newOrder:null}},computed:{},methods:{},mounted(){this.newOrder={...this.order}}};const Pwt=(0,m.Z)(qwt,[["render",Uwt]]);var Lwt=Pwt,Wwt={props:["order","showNote"],components:{OrderDelivery:Swt,OrderActions:Lwt},data(){return{showPopup:!1,isLoading:!1,todayDate:null}},methods:{handleClick(){this.showPopup=!0},isReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date==this.todayDate},getPrice(t){return vo(t)}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const Awt=(0,m.Z)(Wwt,[["render",bwt]]);var $wt=Awt,Ewt={props:["orders"],components:{OrderRow:$wt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,todayDate:null,columns:["#","Date","Client","Address","Phone","Product","Delivery","Price","City","Note","Actions"]}},computed:{deliveries(){return this.$store.getters["user/deliveries"]},prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.orders.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.orders.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.orders.filter(this.isReportedToday)}},methods:{isReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date==this.todayDate}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const Twt=(0,m.Z)(Ewt,[["render",Qit]]);var Fwt=Twt,jwt={components:{OrdersTable:Fwt},data(){return{localUrl:w,deliveryStatus:Hn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"]},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ba.deliveryDeliveredOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Iwt=(0,m.Z)(jwt,[["render",Fit]]);var Vwt=Iwt,Owt={name:"deliveries",path:"/deliveries",component:Wa,meta:{module:"delivery"},children:[{name:"delivery/list",path:"",component:_it,meta:{module:"delivery",subModule:"delivery/list",title:"Orders List",gate:"all"}},{name:"delivery/delivered",path:"/delivered",component:Vwt,meta:{module:"delivery",subModule:"delivery/delivered",title:"Delivered Orders List",gate:"all"}}]};const Hwt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Inventory State List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),Mwt={key:0},Rwt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Nwt={class:"mb-5 tw-flex"},Ywt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Zwt={key:0,class:""};function Kwt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("InventoryStateTable");return(0,s.wg)(),(0,s.iD)("div",null,[Hwt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Mwt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Rwt,[(0,s._)("div",Nwt,[(0,s.Wm)(nt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Ywt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryState.length>0?((0,s.wg)(),(0,s.iD)("div",Zwt,[(0,s.Wm)(n,{columns:o.columns,states:i.filteredInventoryState},null,8,["columns","states"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}class Bwt{async inventoryStates(){return await E.getCookie(),A.get("api/inventorystates")}async inventoryMovements(){return await E.getCookie(),A.get("api/inventorymovements")}async getMovement(t){return await E.getCookie(),A.get("api/inventorymovements/"+t)}async inventoryMovementCreate({product_id:t,delivery_id:e,variants:r}){return await E.getCookie(),A.post("api/inventorymovements/new",{product_id:t,delivery_id:e,variations:r})}async inventoryMovementUpdate(t,{product_id:e,delivery_id:r,variants:a,quantity:s}){return await E.getCookie(),A.post("api/inventorymovements/update/"+t,{product_id:e,delivery_id:r,variants:a,quantity:s})}async deliveryUpdateMovement(t,e,r){return await E.getCookie(),A.post("api/delivery/inventorymovements/update/"+t,{is_received:e,note:r})}async delete(t){return await E.getCookie(),A["delete"]("api/inventorymovements/delete/"+t)}}var Qwt=new Bwt;const Jwt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Gwt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Xwt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},tnt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),ent={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},rnt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),ant={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},snt={class:"tw-px-6 tw-py-4 tw-underline tw-underline-offset-1 tw-font-medium"},lnt={class:"tw-px-6 tw-py-4"},ont={class:"tw-px-6 tw-py-4"},int={class:"tw-px-6 tw-py-4 tw-font-bold tw-text-green-500"},wnt={class:"tw-px-6 tw-py-4"},nnt={class:"tw-px-6 tw-py-4"},dnt=(0,s._)("br",null,null,-1),cnt={class:"tw-px-6 tw-py-4"},unt={class:"mt-5 tw-flex tw-justify-between"},pnt={class:"d-flex align-center"},gnt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700"},"Show per page: ",-1),mnt={class:"d-flex align-center"},hnt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},fnt={class:"tw-text-white"};function bnt(t,e,r,a,l,o){const i=(0,s.up)("router-link"),w=(0,s.up)("InventoryStateActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Jwt,[(0,s._)("table",Gwt,[(0,s._)("thead",Xwt,[(0,s._)("tr",null,[tnt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",ent,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[rnt,(0,s._)("th",ant,(0,wt.zw)(t.id),1),(0,s._)("td",snt,[(0,s.Wm)(i,{to:"products/"+t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.name),1)])),_:2},1032,["to"])]),(0,s._)("td",lnt,(0,wt.zw)(t.buying_price)+" DH ",1),(0,s._)("td",ont,(0,wt.zw)(t.selling_price)+" DH ",1),(0,s._)("td",int,(0,wt.zw)(o.availableQuantity(t)),1),(0,s._)("td",wnt,(0,wt.zw)(t.total_quantity),1),(0,s._)("td",nnt,[(0,s.Uk)((0,wt.zw)(t.updated_at?.split("T")[0])+" ",1),dnt,(0,s.Uk)(" "+(0,wt.zw)(t.updated_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",cnt,[(0,s.Wm)(w,{state:t},null,8,["state"])])])))),128))])])]),(0,s._)("div",unt,[(0,s._)("div",pnt,[gnt,(0,s.Wm)(oh.r,{"hide-details":!0,modelValue:l.paginationLimit,"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),items:l.allowedLimit,variant:"outlined",density:"compact",color:"primary-color"},null,8,["modelValue","items"])]),(0,s._)("div",mnt,[(0,s._)("div",hnt,(0,wt.zw)(o.prevRange+1)+" - "+(0,wt.zw)(l.currentPage==o.pageCount?r.states.length:o.nextRange)+" of "+(0,wt.zw)(r.states.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",fnt,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function vnt(t,e,r,a,l,o){const i=(0,s.up)("InventoryStateDetails"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.state.id,class:"tw-flex tw-items-center"},[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>l.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1}),(0,s.Wm)(w,{visible:l.detailsPopup,onCancel:e[2]||(e[2]=t=>l.detailsPopup=!1)},{default:(0,s.w5)((()=>[l.detailsPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[1]||(e[1]=t=>l.detailsPopup=!1),state:r.state},null,8,["state"])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const xnt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},ynt={class:"tw-p-5"},_nt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},knt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Cnt={class:"tw-w-4 tw-p-4"},Dnt={class:"tw-w-4 tw-p-4"},Snt={class:"tw-w-4 tw-p-4"},znt={class:"tw-w-4 tw-p-4"},Unt={class:"tw-flex tw-items-center tw-gap-1"},qnt={class:"tw-text-green-500"},Pnt={key:0},Lnt={class:"tw-text-red-400"},Wnt=(0,s.uE)('<div class="tw-flex tw-gap-3 mt-5"><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-green-500"></div><span>Available</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-neutral-700"></div><span>Initial</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-red-400"></div><span>Not Received</span></div></div>',1);function Ant(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",xnt,[(0,s.Wm)(nt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",ynt,[(0,s._)("table",_nt,[knt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Cnt,(0,wt.zw)(t.id),1),(0,s._)("td",Dnt,(0,wt.zw)(t.size),1),(0,s._)("td",Snt,(0,wt.zw)(t.color),1),(0,s._)("td",znt,[(0,s._)("div",Unt,[(0,s._)("span",qnt,(0,wt.zw)(t.available_quantity),1),(0,s._)("span",null,"/ "+(0,wt.zw)(t.quantity),1),t.on_hold>0?((0,s.wg)(),(0,s.iD)("span",Pnt,[(0,s.Uk)(" / "),(0,s._)("span",Lnt,(0,wt.zw)(t.on_hold),1)])):(0,s.kq)("",!0)])])])))),128))])]),Wnt])])}var $nt={props:["state"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){console.log(this.state)}};const Ent=(0,m.Z)($nt,[["render",Ant]]);var Tnt=Ent,Fnt={props:["rowIndex","state"],components:{InventoryStateDetails:Tnt},name:"inventoryStateActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{},mounted(){}};const jnt=(0,m.Z)(Fnt,[["render",vnt]]);var Int=jnt,Vnt={props:["columns","states"],components:{InventoryStateActions:Int},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.states.length/this.paginationLimit)},items(){return this.states.slice(this.prevRange,this.nextRange)}},methods:{availableQuantity(t){let e=0;return t.variations.forEach((t=>{e+=t.available_quantity})),e}}};const Ont=(0,m.Z)(Vnt,[["render",bnt]]);var Hnt=Ont,Mnt={components:{InventoryStateTable:Hnt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"product_name",name:"Product Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"available",name:"Available"},{prop:"quantity",name:"Quantity"},{prop:"updated_at",name:"Updated At"},{prop:"actions",name:"Actions"}]}},computed:{inventoryState(){return this.$store.getters["inventory/inventoryState"]},filteredInventoryState(){return this.inventoryState.filter((t=>!!(t.ref.toLowerCase().includes(this.search.toLowerCase())||t.name.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{async getInventoryStates(){await Qwt.inventoryStates().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryState",e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryStates()}};const Rnt=(0,m.Z)(Mnt,[["render",Kwt]]);var Nnt=Rnt;const Ynt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Add Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create New Movement")],-1),Znt={key:0},Knt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Bnt={class:"tw-w-full"},Qnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Jnt={class:"tw-relative"},Gnt=["disabled"],Xnt=["value"],tdt={class:"tw-w-full"},edt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product Name",-1),rdt={class:"tw-relative"},adt=["disabled"],sdt=["value"],ldt={class:"tw-w-full"},odt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),idt={class:"tw-relative"},wdt=["value"],ndt={class:"tw-w-full"},ddt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),cdt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},udt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),pdt={class:"tw-max-w-full"},gdt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},mdt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),hdt={class:"tw-w-4 tw-p-4"},fdt={class:"tw-w-4 tw-p-4"},bdt={class:"tw-w-4 tw-p-4"},vdt={class:"tw-w-4 tw-p-4"},xdt={class:"tw-w-4 tw-p-4"},ydt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},_dt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},kdt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Cdt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Ddt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Ynt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Znt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Knt,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Bnt,[Qnt,(0,s._)("div",Jnt,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length,"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname+" "+t.lastname),9,Xnt)))),128))],8,Gnt),[[a.bM,o.delivery]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",tdt,[edt,(0,s._)("div",rdt,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length>0,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,sdt)))),128))],8,adt),[[a.bM,o.product]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ldt,[odt,(0,s._)("div",idt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.color+" - "+t.size+"  ("+t.available_quantity+" items)"),9,wdt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",ndt,[ddt,(0,s._)("div",null,[(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",cdt,[(0,s.Wm)(nt.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[udt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",pdt,[(0,s._)("table",gdt,[mdt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",hdt,(0,wt.zw)(t.id),1),(0,s._)("td",fdt,(0,wt.zw)(t.size),1),(0,s._)("td",bdt,(0,wt.zw)(t.color),1),(0,s._)("td",vdt,(0,wt.zw)(t.quantity),1),(0,s._)("td",xdt,[(0,s._)("div",ydt,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",_dt,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[kdt])),_:1}),(0,s.Wm)(nt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Cdt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Sdt={data(){return{isLoading:!1,isLoaded:!1,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.available_quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.available_quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},create(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,Qwt.inventoryMovementCreate({product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.selectedVariations=[],this.getData()),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await ot.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return Qwt.inventoryStates().then((t=>{if("SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;if(this.$store.dispatch("product/setProducts",e),e.length>0){const t=e[0];this.product=t.id,this.variations.length>0&&(this.variation=this.variations[0].id)}else this.product=null}}),(t=>{this.$handleApiError(t)}))},getData(){this.isLoaded=!1,Promise.allSettled([this.getProducts(),this.getDeliveries()]).then((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const zdt=(0,m.Z)(Sdt,[["render",Ddt]]);var Udt=zdt;const qdt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Edit an existing Movement")],-1),Pdt={key:0},Ldt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Wdt={class:"tw-w-full"},Adt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),$dt={class:"tw-relative"},Edt=["value"],Tdt={class:"tw-w-full"},Fdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),jdt={class:"tw-relative"},Idt=["value"],Vdt={class:"tw-w-full"},Odt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Hdt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Mdt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),Rdt={class:"tw-max-w-full"},Ndt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Ydt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Zdt={class:"tw-w-4 tw-p-4"},Kdt={class:"tw-w-4 tw-p-4"},Bdt={class:"tw-w-4 tw-p-4"},Qdt={class:"tw-w-4 tw-p-4"},Jdt={class:"tw-w-4 tw-p-4"},Gdt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Xdt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},tct=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),ect=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function rct(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[qdt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Pdt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ldt,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Wdt,[Adt,(0,s._)("div",$dt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname+" "+t.lastname),9,Edt)))),128))],512),[[a.bM,o.delivery]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Tdt,[Fdt,(0,s._)("div",jdt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.color+" / "+t.size+" / "+t.quantity),9,Idt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Vdt,[Odt,(0,s._)("div",null,[(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[2]||(e[2]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",Hdt,[(0,s.Wm)(nt.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Mdt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Rdt,[(0,s._)("table",Ndt,[Ydt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Zdt,(0,wt.zw)(t.id),1),(0,s._)("td",Kdt,(0,wt.zw)(t.size),1),(0,s._)("td",Bdt,(0,wt.zw)(t.color),1),(0,s._)("td",Qdt,(0,wt.zw)(t.quantity),1),(0,s._)("td",Jdt,[(0,s._)("div",Gdt,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Xdt,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[tct])),_:1}),(0,s.Wm)(nt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[ect])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var act={data(){return{isLoading:!1,isLoaded:!1,movement:null,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},id(){return this.$route.params.id},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},update(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,Qwt.inventoryMovementUpdate(this.id,{product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await ot.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return ha.all().then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.products;this.$store.dispatch("product/setProducts",e),e.length>0?this.product=e[0].id:this.product=null}}),(t=>{this.$handleApiError(t)}))},getMovement(){return Qwt.getMovement(this.id).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.movement;this.product=e.product.id,this.delivery=e.delivery.id,this.selectedVariations=e.inventory_movement_variations;let r=0;this.selectedVariations.forEach((t=>{r+=t.quantity})),this.quantity_total=r}}),(t=>{this.$handleApiError(t)}))}},mounted(){Promise.allSettled([this.getProducts(),this.getDeliveries(),this.getMovement()]).then((()=>{this.isLoaded=!0}))}};const sct=(0,m.Z)(act,[["render",rct]]);var lct=sct;const oct=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Inventory State List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),ict={key:0},wct={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},nct={class:"mb-5 tw-flex"},dct={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},cct={key:0,class:""};function uct(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("InventoryMovementsTable");return(0,s.wg)(),(0,s.iD)("div",null,[oct,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ict,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",wct,[(0,s._)("div",nct,[(0,s.Wm)(nt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",dct,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryMovements.length>0?((0,s.wg)(),(0,s.iD)("div",cct,[(0,s.Wm)(n,{columns:o.columns,movements:i.inventoryMovements},null,8,["columns","movements"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}const pct={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},gct={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},mct={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},hct=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),fct={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},bct=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),vct={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},xct={class:"tw-px-6 tw-py-4"},yct=(0,s._)("br",null,null,-1),_ct={class:"tw-px-6 tw-py-4"},kct={class:"tw-px-6 tw-py-4"},Cct={class:"tw-px-6 tw-py-4"},Dct={class:"tw-px-6 tw-py-4"},Sct={class:"tw-px-6 tw-py-4"},zct={class:"tw-w-[200px] !tw-whitespace-normal"},Uct={class:"tw-px-6 tw-py-4"},qct={class:"tw-px-6 tw-py-4"},Pct={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Lct={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Wct=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Act=["value"],$ct={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Ect={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Tct={class:"tw-text-white"};function Fct(t,e,r,l,o,i){const w=(0,s.up)("router-link"),n=(0,s.up)("InventoryMovementsActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",pct,[(0,s._)("table",gct,[(0,s._)("thead",mct,[(0,s._)("tr",null,[hct,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",fct,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movements,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[bct,(0,s._)("th",vct,(0,wt.zw)(t.id),1),(0,s._)("td",xct,[(0,s.Uk)((0,wt.zw)(t.created_at?.split("T")[0])+" ",1),yct,(0,s.Uk)(" "+(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",_ct,(0,wt.zw)(t.delivery.firstname+" "+t.delivery.lastname),1),(0,s._)("td",kct,[(0,s.Wm)(w,{to:"products/"+t.product.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.product.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Cct,(0,wt.zw)(i.quantityTotal(t.inventory_movement_variations)),1),(0,s._)("td",Dct,[(0,s._)("div",{class:(0,wt.C_)([[t.is_received?"tw-text-green-500 tw-bg-green-500/10":"tw-text-red-500 tw-bg-red-500/10"],"tw-flex tw-justify-center tw-py-1 tw-rounded-lg tw-items-center"])},[(0,s._)("span",null,(0,wt.zw)(t.is_received?"Yes":"No"),1)],2)]),(0,s._)("td",Sct,[(0,s._)("div",zct,(0,wt.zw)(t.note?t.note:"-"),1)]),(0,s._)("td",Uct,(0,wt.zw)(t.delivery.city?.name),1),(0,s._)("td",qct,[(0,s.Wm)(n,{movement:t},null,8,["movement"])])])))),128))])])]),(0,s._)("div",Pct,[(0,s._)("div",Lct,[Wct,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,Act)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",$ct,[(0,s._)("div",Ect,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.movements.length:i.nextRange)+" of "+(0,wt.zw)(r.movements.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Tct,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const jct={class:"md:tw-w-[50%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Ict=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-blue-500"},"Confirmation",-1),Vct={class:"mt-3"},Oct=(0,s._)("h2",{class:"mb-2"},"Received",-1),Hct={class:"tw-mt-3"},Mct=(0,s._)("h2",{class:"tw-text-md mb-1"},"Add note",-1),Rct={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},Nct=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Yct=(0,s._)("span",{class:"text-white"}," Update ",-1);function Zct(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("MovementDetails"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",{key:r.movement.id,class:"tw-flex tw-items-center"},[["delivery","admin"].includes(i.user.role)?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>o.confirmPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-checkbox-marked-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.kq)("",!0),(t.$can("view_inventory_movement"),(0,s.wg)(),(0,s.j4)(nt.T,{key:2,onClick:e[1]||(e[1]=t=>o.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})),t.$can("delete_inventory_movement")?((0,s.wg)(),(0,s.j4)(nt.T,{key:3,onClick:e[2]||(e[2]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("confirmation_inventory_movement")?((0,s.wg)(),(0,s.j4)(w,{key:4,visible:o.confirmPopup,onCancel:e[6]||(e[6]=t=>o.confirmPopup=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",jct,[Ict,(0,s._)("div",Vct,[Oct,(0,s.Wm)(ih.G,{density:"compact","hide-details":!0,modelValue:o.isConfirmed,"onUpdate:modelValue":e[3]||(e[3]=t=>o.isConfirmed=t),color:"blue"},null,8,["modelValue"])]),(0,s._)("div",Hct,[Mct,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n\r\n              ",512),[[a.nr,o.note]])]),(0,s._)("div",Rct,[(0,s.Wm)(nt.T,{onClick:e[5]||(e[5]=t=>o.confirmPopup=!1),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Nct])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.updateMovement,color:"blue",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Yct])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])):(0,s.kq)("",!0),(0,s.Wm)(w,{visible:o.detailsPopup,onCancel:e[8]||(e[8]=t=>o.detailsPopup=!1)},{default:(0,s.w5)((()=>[o.detailsPopup?((0,s.wg)(),(0,s.j4)(n,{key:0,onCancel:e[7]||(e[7]=t=>o.detailsPopup=!1),movement:r.movement},null,8,["movement"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this movement?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const Kct={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Bct={class:"tw-p-5"},Qct={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Jct=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Gct={class:"tw-w-4 tw-p-4"},Xct={class:"tw-w-4 tw-p-4"},tut={class:"tw-w-4 tw-p-4"},eut={class:"tw-w-4 tw-p-4"};function rut(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Kct,[(0,s.Wm)(nt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Bct,[(0,s._)("table",Qct,[Jct,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movement.inventory_movement_variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Gct,(0,wt.zw)(t.id),1),(0,s._)("td",Xct,(0,wt.zw)(t.product_variation.size),1),(0,s._)("td",tut,(0,wt.zw)(t.product_variation.color),1),(0,s._)("td",eut,(0,wt.zw)(t.quantity),1)])))),128))])])])])}var aut={props:["movement"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const sut=(0,m.Z)(aut,[["render",rut]]);var lut=sut,out={props:["rowIndex","movement"],components:{MovementDetails:lut},name:"inventoryActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,Qwt["delete"](this.movement.id).then((t=>{"SUCCESS"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Inventory Movement Deleted Successfully"})),this.getMovements()})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1},updateMovement(){this.isLoading=!0,Qwt.deliveryUpdateMovement(this.movement.id,this.isConfirmed?1:0,this.note).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:"Inventory Movement Updated Successfully"}),this.getMovements())}),this.$handleApiError).finally((()=>{this.isLoading=!1,this.confirmPopup=!1}))},getMovements(){Qwt.inventoryMovements().then((t=>{if("SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e)}})).catch(this.$handleApiError)}},mounted(){this.note=this.movement.note,this.isConfirmed=1==this.movement.is_received}};const iut=(0,m.Z)(out,[["render",Zct]]);var wut=iut,nut={props:["columns","movements"],components:{InventoryMovementsActions:wut},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.movements.length/this.paginationLimit)},items(){return this.movements.slice(this.prevRange,this.nextRange)}},methods:{quantityTotal(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const dut=(0,m.Z)(nut,[["render",Fct]]);var cut=dut,uut={components:{InventoryMovementsTable:cut},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"created_at",name:"Date"},{prop:"delivery",name:"Delivery"},{prop:"product",name:"Product"},{prop:"quantity",name:"Quantity"},{prop:"received",name:"Received"},{prop:"note",name:"Note"},{prop:"city",name:"City"},{prop:"actions",name:"Actions"}]}},computed:{inventoryMovements(){return this.$store.getters["inventory/inventoryMovements"]},filteredInventoryState(){return this.inventoryMovements.filter((()=>!0))}},methods:{async getInventoryMovements(){await Qwt.inventoryMovements().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e),console.log(e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryMovements()}};const put=(0,m.Z)(uut,[["render",uct]]);var gut=put,mut={name:"inventory/list",path:"/inventories",component:Wa,meta:{module:"inventory"},children:[{name:"inventory/state",path:"",component:Nnt,meta:{module:"inventory",subModule:"inventory/list",title:"Inventory State",gate:"show_all_inventory_states"}},{name:"inventory/movememnts",path:"movements",component:gut,meta:{module:"inventory",subModule:"inventory/movements",title:"Inventory Movements",gate:"show_all_inventory_movements"}},{name:"inventory/add",path:"add",component:Udt,meta:{module:"inventory",subModule:"inventory/add",title:"Add Inventory Movement",gate:"create_inventory_movement"}},{name:"inventory/update",path:"update/:id",component:lct,meta:{module:"inventory",subModule:"inventory/update",title:"Update Inventory Movement",gate:"update_inventory_movement"}}]},hut=r(3012);const fut={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},but={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},vut=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Scan the QR code ",-1),xut={class:"tw-p-5"},yut={class:"tw-rounded tw-overflow-hidden tw-ring tw-ring-orange-400"},_ut={key:1,class:"error"},kut={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"};var Cut={__name:"ScanPopUp",props:["visible"],emits:["update:visible","detect"],setup(t,{emit:e}){const r=new Audio(w+"assets/bip.mp3"),a=e,l=t,o=t=>{a("update:visible",t)};function i(t,e){for(const r of t){const[t,...a]=r.cornerPoints;e.strokeStyle="red",e.beginPath(),e.moveTo(t.x,t.y);for(const{x:r,y:s}of a)e.lineTo(r,s);e.lineTo(t.x,t.y),e.closePath(),e.stroke()}}function n(t,e){for(const r of t){const{boundingBox:{x:t,y:a,width:s,height:l}}=r;e.lineWidth=2,e.strokeStyle="#007bff",e.strokeRect(t,a,s,l)}}function d(t,e){for(const r of t){const{boundingBox:t,rawValue:a}=r,s=t.x+t.width/2,l=t.y+t.height/2,o=Math.max(12,50*t.width/e.canvas.width);e.font=`bold ${o}px sans-serif`,e.textAlign="center",e.lineWidth=3,e.strokeStyle="#35495e",e.strokeText(r.rawValue,s,l),e.fillStyle="#5cb984",e.fillText(a,s,l)}}const c=[{text:"nothing (default)",value:void 0},{text:"outline",value:i},{text:"centered text",value:d},{text:"bounding box",value:n}],u=(0,ke.iH)(c[1]),p=(0,ke.iH)(null),g=(0,ke.iH)([]);(0,s.bv)((async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){if(g.value=(await navigator.mediaDevices.enumerateDevices()).filter((({kind:t})=>"videoinput"===t)),g.value.length>0){const t=g.value.find((({label:t})=>t.toLowerCase().includes("back")||t.toLowerCase().includes("rear")));p.value=t||g.value[0]}}else console.error("MediaDevices API not supported")}));const m=(0,ke.iH)("");function h(t){const e=t.map((t=>t.rawValue)).join(", ");console.log("Detected Code: "),console.log(e),a("detect",e),o(!1),r.play(),m.value=e}const f=(0,ke.iH)({qr_code:!0}),b=(0,s.Fl)((()=>Object.keys(f.value||{}).filter((t=>f.value&&f.value[t])))),v=(0,ke.iH)("");function x(t){"NotAllowedError"===t.name?v.value+="you need to grant camera access permission":"NotFoundError"===t.name?v.value+="no camera on this device":"NotSupportedError"===t.name?v.value+="secure context required (HTTPS, localhost)":"NotReadableError"===t.name?v.value+="is the camera already in use?":"OverconstrainedError"===t.name?v.value+="installed cameras are not suitable":"StreamApiNotSupportedError"===t.name?v.value+="Stream API is not supported in this browser":"InsecureContextError"===t.name?v.value+="Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":v.value+=t.message}return(t,e)=>{const r=(0,s.up)("icon"),a=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o(!0)),class:"tw-fixed tw-bottom-5 tw-shadow tw-shadow-orange-300 tw-right-5 tw-flex tw-items-center tw-justify-center tw-w-[60px] tw-h-[60px] tw-gap-2 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-border-orange-300 tw-rounded-md tw-mb-2 tw-z-20"},[(0,s.Wm)(r,{icon:"iconamoon:scanner-light",class:"lg:tw-text-3xl tw-text-2xl"})]),(0,s.Wm)(a,{visible:l.visible},{default:(0,s.w5)((()=>[(0,s._)("div",fut,[(0,s._)("div",but,[vut,(0,s._)("div",xut,[(0,s._)("div",yut,[null!==p.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(hut.vG),{key:0,constraints:{deviceId:p.value.deviceId},track:u.value.value,formats:b.value,"facing-mode":"environment",onError:x,onDetect:h},null,8,["constraints","track","formats"])):((0,s.wg)(),(0,s.iD)("p",_ut," No cameras on this device "))])]),(0,s._)("div",kut,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o(!1)),disabled:!1,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])])),_:1},8,["visible"])])}}};const Dut=Cut;var Sut=Dut;const zut=t=>((0,s.dD)("data-v-3fcb733e"),t=t(),(0,s.Cn)(),t),Uut={class:"!tw-w-[25px] !tw-h-[25px] tw-relative"},qut=zut((()=>(0,s._)("div",{class:"check-container tw-scale-[0.2] tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2"},[(0,s._)("div",{class:"check-background"},[(0,s._)("svg",{viewBox:"0 0 65 51",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M7 25L27.3077 44L58.5 7",stroke:"white","stroke-width":"13","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1))),Put=[qut];function Lut(t,e){return(0,s.wg)(),(0,s.iD)("div",Uut,Put)}const Wut={},Aut=(0,m.Z)(Wut,[["render",Lut],["__scopeId","data-v-3fcb733e"]]);var $ut=Aut;const Eut={class:"tw-translate-y-0 tw-opacity-100 tw-w-full tw-p-2 tw-min-h-[60px] tw-bg-white tw-duration-300 tw-rounded tw-shadow-md"},Tut={class:"tw-flex tw-justify-between tw-items-center"},Fut={class:"tw-space-y-4"},jut={class:"tw-flex tw-items-center tw-gap-4"},Iut={class:"tw-flex tw-items-center tw-gap-2"},Vut={style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},Out={key:0,class:"tw-flex tw-items-center tw-gap-0.5 tw-bg-blue-100 tw-p-1 tw-rounded"},Hut=(0,s._)("span",{style:{"line-height":"10px"},class:"tw-text-xs tw-capitalize tw-font-medium tw-text-blue-600"},"Double Scan",-1),Mut=[Hut],Rut={class:"tw-flex tw-items-center tw-gap-5"},Nut={key:0,class:"tw-flex tw-items-center"},Yut=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse"},null,-1),Zut=(0,s._)("div",{class:"tw-w-[70px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),Kut=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-5"},null,-1),But=(0,s._)("div",{class:"tw-w-[100px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),Qut=[Yut,Zut,Kut,But],Jut={key:1,class:"tw-flex tw-items-center tw-gap-2"},Gut={key:0,style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},Xut={key:2,class:"tw-flex tw-items-center tw-gap-2"},tpt={key:0,style:{"line-height":"16px"},class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-max-w-[120px] tw-truncate"},ept={key:3,class:"tw-w-fit tw-px-2 tw-bg-rose-100 tw-text-rose-500 tw-text-sm tw-uppercase tw-h-[25px] tw-rounded-md tw-flex tw-items-center tw-justify-center"},rpt={class:"tw-h-full tw-space-y-2 tw-flex-col tw-flex tw-items-end tw-justify-between"},apt={key:0,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},spt={class:"tw-text-blue-500 tw-text-sm"},lpt={key:1,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},opt={class:"tw-text-amber-500 tw-text-sm"};var ipt={__name:"OrderRow",props:["order"],emits:["update"],setup(t,{emit:e}){const r=t,a=e,l=()=>{const t=r.order.scanned.replace(/[^0-9]/g,"");ba.warehouseControl(t,{target:r.order.target,scanned:r.order.scanned}).then((t=>{if("SUCCESS"==t.data.code){const e={...r.order,...t.data.order,loading:!1,check:!0};a("update",r.order.scan_id,e)}else a("update",r.order.scan_id,{...r.order,loading:!1,check:!1})}),(t=>{a("update",r.order.scan_id,{...r.order,loading:!1,check:!1}),console.log(t)}))};return l(),(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Eut,[(0,s._)("div",Tut,[(0,s._)("div",Fut,[(0,s._)("div",jut,[(0,s._)("div",Iut,[(0,s.Wm)(a,{icon:"solar:qr-code-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),(0,s._)("span",Vut,(0,wt.zw)(r.order.scanned),1)]),r.order.already_scanned?((0,s.wg)(),(0,s.iD)("div",Out,Mut)):(0,s.kq)("",!0)]),(0,s._)("div",Rut,[r.order.loading?((0,s.wg)(),(0,s.iD)("div",Nut,Qut)):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",Jut,[(0,s.Wm)(a,{icon:"solar:hashtag-square-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.id?((0,s.wg)(),(0,s.iD)("span",Gut,(0,wt.zw)(r.order.id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",Xut,[(0,s.Wm)(a,{icon:"solar:user-id-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.fullname?((0,s.wg)(),(0,s.iD)("span",tpt,(0,wt.zw)(r.order.fullname),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ept,"Not Found"))])]),(0,s._)("div",rpt,[(0,s._)("div",null,[!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.j4)((0,ke.SU)($ut),{key:0})):(0,s.kq)("",!0),r.order.loading?((0,s.wg)(),(0,s.j4)(a,{key:1,class:"tw-text-lg tw-text-orange-400 tw-animate-spin",icon:"mingcute:loading-line"})):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(a,{key:2,class:"tw-text-2xl tw-text-rose-500",icon:"material-symbols-light:error-outline"}))]),(0,s._)("div",null,["in"==r.order.target?((0,s.wg)(),(0,s.iD)("div",apt,[(0,s.Wm)(a,{icon:"lets-icons:sign-in-squre-duotone",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",spt,(0,wt.zw)(r.order.target),1)])):(0,s.kq)("",!0),"out"==r.order.target?((0,s.wg)(),(0,s.iD)("div",lpt,[(0,s.Wm)(a,{icon:"lets-icons:sign-out-squre-duotone",class:"tw-text-xl tw-text-amber-500"}),(0,s._)("span",opt,(0,wt.zw)(r.order.target),1)])):(0,s.kq)("",!0)])])])])}}};const wpt=ipt;var npt=wpt;const dpt={class:"lg:tw-p-6"},cpt={class:"tw-p-5 lg:tw-border tw-min-h-[calc(100vh-135px)] tw-flex tw-flex-col tw-bg-white tw-w-full lg:tw-rounded-md tw-mb-5"},upt={class:"tw-grid tw-grid-cols-12 tw-h-full tw-flex-1 tw-gap-5"},ppt={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},gpt=(0,s._)("h1",{class:"tw-text-lg"},"Target",-1),mpt={class:"tw-grid tw-grid-cols-2 tw-gap-5 tw-mt-2"},hpt={class:"tw-grid tw-px-2 tw-grid-cols-12 tw-justify-center tw-mt-10"},fpt=(0,s._)("p",{class:"tw-text-xl tw-font-semibold tw-py-4"},"Scan the order reference ID.",-1),bpt={class:"tw-grid tw-grid-cols-8 tw-mt-16 col-span-12 tw-gap-2 tw-w-full tw-max-w-[23rem]"},vpt={id:"success-message",class:"tw-inline-flex tw-items-center"},xpt=(0,s._)("div",{class:"tw-grid tw-grid-cols-8 tw-py-5 tw-gap-2 tw-w-full tw-max-w-[23rem]"},[(0,s._)("button",{class:"tw-col-span-8 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",{id:"success-message",class:"tw-inline-flex tw-items-center"}," Confirm ")])],-1),ypt={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},_pt={class:"tw-min-h-[600px] tw-flex-1 tw-w-full tw-bg-gray-100 tw-rounded-md tw-p-2 tw-space-y-2 tw-shadow-inner"};var kpt={__name:"ScannerView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)([]),l=(0,ke.iH)(""),o=(0,ke.iH)("in"),i=(0,s.Fl)((()=>{if(""==l.value)return!1;const t=l.value.replace(/[^a-zA-Z]/g,"").toLocaleLowerCase(),e=l.value.replace(/[^0-9]/g,"");return t!=u||!e})),w=t=>{l.value=t,g()},n=()=>{var t=document.getElementById("code");t.select(),navigator.clipboard.writeText(t.value)},d=(t,e)=>{r.value=r.value.map((r=>r.scan_id==t?e:r))},c=t=>r.value.some((e=>e.scanned==t)),p=()=>{const t=Date.now().toString(36),e=Math.random().toString(36).substr(2,5);return t+e},g=()=>{const t={scan_id:p(),scanned:l.value,loading:!0,check:!1,target:o.value};if(""==l.value)return Tc("Reference ID is not valid","warning"),!1;c(l.value)&&(t.already_scanned=!0),i.value||""==l.value||(r.value.unshift(t),l.value="")};return(t,c)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",dpt,[(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(Sut),{visible:e.value,"onUpdate:visible":c[0]||(c[0]=t=>e.value=t),onDetect:w},null,8,["visible"])]),(0,s._)("div",cpt,[(0,s._)("div",upt,[(0,s._)("div",ppt,[(0,s._)("div",null,[gpt,(0,s._)("div",mpt,[(0,s._)("button",{onClick:c[1]||(c[1]=t=>o.value="in"),class:(0,wt.C_)([["in"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-plus",class:(0,wt.C_)(["tw-text-2xl",["in"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,wt.C_)(["in"==o.value?"tw-text-white":"tw-text-neutral-500"])},"IN",2)],2),(0,s._)("button",{onClick:c[2]||(c[2]=t=>o.value="out"),class:(0,wt.C_)([["out"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-minus",class:(0,wt.C_)(["tw-text-2xl",["out"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,wt.C_)(["out"==o.value?"tw-text-white":"tw-text-neutral-500"])},"OUT",2)],2)])]),(0,s._)("div",hpt,[(0,s._)("form",{onSubmit:(0,a.iM)(g,["prevent"]),class:"lg:tw-col-span-12 tw-col-span-12 tw-flex tw-flex-col tw-items-center tw-justify-center"},[fpt,(0,s._)("div",{onClick:c[3]||(c[3]=t=>e.value=!0),class:(0,wt.C_)([[i.value&&"tw-border-rose-400 tw-ring tw-ring-rose-400"],"tw-relative hover:tw-scale-110 tw-duration-300 tw-cursor-pointer tw-h-[150px] tw-w-[150px] tw-border-2 tw-rounded-3xl tw-mt-10 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(u,{class:"tw-w-[150px] tw-h-[150px] tw-border-2 tw-rounded-3xl",icon:"fluent:scan-dash-28-regular"}),(0,s._)("div",{class:(0,wt.C_)([[i.value&&"!tw-opacity-100"],"tw-opacity-0 tw-absolute tw-top-1/2 tw-left-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-w-full tw-h-[30px] tw-bg-rose-500 tw-flex tw-items-center tw-justify-center tw-font-medium tw-text-sm tw-text-white"])}," ID NOT VALID ",2)],2),(0,s.kq)("",!0),(0,s._)("div",bpt,[(0,s.wy)((0,s._)("input",{placeholder:"Reference ID",id:"code",type:"text","onUpdate:modelValue":c[4]||(c[4]=t=>l.value=t),class:"tw-bg-gray-50 border tw-col-span-6 tw-rounded-lg tw-outline-none focus:tw-ring-gray-500 focus:tw-border-gray-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-gray-400 dark:tw-focus:tw-ring-blue-500 dark:focus:tw-border-blue-500"},null,512),[[a.nr,l.value]]),(0,s._)("button",{type:"button",onClick:n,class:"tw-col-span-2 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",vpt,[(0,s.Wm)(u,{icon:"mdi:content-copy"})])])]),xpt],32)])]),(0,s._)("div",ypt,[(0,s._)("div",_pt,[(0,s.Wm)(a.W3,{"enter-from-class":"tw-translate-y-[10px] tw-opacity-0"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(npt),{onUpdate:d,order:t,key:t.scan_id},null,8,["order"])))),128))])),_:1})])])])])])}}};const Cpt=kpt;var Dpt=Cpt,Spt={name:"scanner",path:"/scanner",component:Wa,meta:{module:"qrcode"},children:[{name:"scanner/code",path:"",component:Dpt,meta:{module:"scaanner",subModule:"scaanner/code",title:"Scanner",role:"admin",gate:"stock_management"}}]};const zpt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Upt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Shop List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your shops")],-1),qpt={key:0},Ppt=(0,s._)("span",{class:"text-white"}," Add Shop ",-1),Lpt={key:0},Wpt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Apt={class:"mb-5 tw-flex"},$pt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Ept={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Tpt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Fpt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),jpt={class:"tw-relative"},Ipt={class:""};function Vpt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ShopsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.shops.length},[(0,s._)("div",zpt,[Upt,t.$can("create_shop")?((0,s.wg)(),(0,s.iD)("div",qpt,[(0,s.Wm)(nt.T,{color:"primary-color",link:"",to:{name:"shop/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Ppt])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Lpt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Wpt,[(0,s._)("div",Apt,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",$pt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Ept,[(0,s._)("div",Tpt,[Fpt,(0,s._)("div",jpt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Ipt,[(0,s.Wm)(n,{columns:o.columns,shops:i.filteredShops},null,8,["columns","shops"])])])):(0,s.kq)("",!0)])}class Opt{async create(t){return await E.getCookie(),A.post("api/shops/new",{name:t.name})}async update(t,e){return await E.getCookie(),A.post("api/shops/update/"+t,{name:e.name})}async all(){return await E.getCookie(),A.get("api/shops")}async getShop(t){return await E.getCookie(),A.get("api/shops/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/shops/delete/"+t)}}var Hpt=new Opt;const Mpt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Rpt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Npt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Ypt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Zpt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Kpt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Bpt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Qpt={class:"tw-px-6 tw-py-4"},Jpt={class:"tw-px-6 tw-py-4"},Gpt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Xpt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},tgt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},egt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),rgt=["value"],agt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},sgt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},lgt={class:"tw-text-white"};function ogt(t,e,r,l,o,i){const w=(0,s.up)("ShopActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Mpt,[(0,s._)("table",Rpt,[(0,s._)("thead",Npt,[(0,s._)("tr",null,[Ypt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Zpt,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shops,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Kpt,(0,s._)("th",Bpt,(0,wt.zw)(t.id),1),(0,s._)("td",Qpt,(0,wt.zw)(t.name),1),(0,s._)("td",Jpt,(0,wt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Gpt,[(0,s.Wm)(w,{shop:t},null,8,["shop"])])])))),128))])])]),(0,s._)("div",Xpt,[(0,s._)("div",tgt,[egt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,rgt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",agt,[(0,s._)("div",sgt,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.shops.length:i.nextRange)+" of "+(0,wt.zw)(r.shops.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",lgt,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const igt={class:"tw-flex tw-items-center tw-gap-1"};function wgt(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",igt,[t.$can("update_shop")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,to:"/shops/update/"+r.shop.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_shop")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this shop?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var ngt={props:["rowIndex","shop"],name:"shopActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Hpt["delete"](this.shop.id).then((t=>{"SHOP_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Shop Deleted Successfully"})),Hpt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const dgt=(0,m.Z)(ngt,[["render",wgt]]);var cgt=dgt,ugt={props:["columns","shops"],components:{ShopActions:cgt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.shops.length/this.paginationLimit)},items(){return this.shops.slice(this.prevRange,this.nextRange)}},methods:{}};const pgt=(0,m.Z)(ugt,[["render",ogt]]);var ggt=pgt,mgt={components:{ShopsTable:ggt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{shops(){return this.$store.getters["shop/shops"]},filteredShops(){const t=this.date;return this.shops.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){Hpt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const hgt=(0,m.Z)(mgt,[["render",Vpt]]);var fgt=hgt;const bgt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Shop "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new shop")],-1),vgt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},xgt={class:"tw-w-full"},ygt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Shop Name ",-1),_gt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kgt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Cgt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Dgt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Sgt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[bgt,(0,s._)("div",vgt,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xgt,[ygt,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",_gt,(0,wt.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",kgt,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Cgt])),_:1}),(0,s.Wm)(nt.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Dgt])),_:1},8,["onClick","loading"])])])])}var zgt={components:{},data(){return{isLoading:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;Hpt.create(t).then((t=>{"SHOP_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.shop={name:""}),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.shop.name,"Shop name"),this.formStatus.name.valid}}};const Ugt=(0,m.Z)(zgt,[["render",Sgt]]);var qgt=Ugt;const Pgt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Shop"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update shop informations")],-1),Lgt={key:0},Wgt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Agt={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},$gt={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},Egt={class:"tw-w-full"},Tgt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Shop Name",-1),Fgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},jgt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Igt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Vgt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Ogt(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Pgt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Lgt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Wgt,[(0,s._)("div",Agt,[(0,s.Uk)(" Shop ID: "),(0,s._)("span",$gt,(0,wt.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Egt,[Tgt,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Fgt,(0,wt.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",jgt,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Igt])),_:1}),(0,s.Wm)(nt.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Vgt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Hgt={components:{},data(){return{isLoading:!1,isLoaded:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{id(){return this.$route.params.id}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;Hpt.update(this.$route.params.id,t).then((t=>{"SHOP_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"SHOP_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.shop.name,"Shop name"),this.formStatus.name.valid}},mounted(){Hpt.getShop(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{name:e}=t.data.data.shops;this.shop.name=e,this.isLoaded=!0}}),this.$handleApiError)}};const Mgt=(0,m.Z)(Hgt,[["render",Ogt]]);var Rgt=Mgt,Ngt={name:"shops",path:"/shops",component:Wa,meta:{module:"shop"},children:[{name:"shop/list",path:"",component:fgt,meta:{module:"shop",subModule:"shop/list",title:"Shop List",gate:"show_all_sales"}},{name:"shop/add",path:"add",component:qgt,meta:{module:"shop",subModule:"shop/add",title:"Shop Add",gate:"create_shop"}},{name:"shop/update",path:"update/:id",component:Rgt,meta:{module:"shop",subModule:"shop/update",title:"Update Shop",gate:"update_shop"}}]};const Ygt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Zgt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Warehouse List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your warehouses")],-1),Kgt={key:0},Bgt=(0,s._)("span",{class:"text-white"}," Add Warehouse ",-1),Qgt={key:0},Jgt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ggt={class:"mb-5 tw-flex"},Xgt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},tmt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},emt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},rmt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),amt={class:"tw-relative"},smt={class:""};function lmt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("WarehousesTable"),d=(0,s.up)("AddWarehouse");return(0,s.wg)(),(0,s.iD)("div",{key:i.warehouses.length},[(0,s._)("div",Ygt,[Zgt,t.$can("create_warehouse")?((0,s.wg)(),(0,s.iD)("div",Kgt,[(0,s.Wm)(nt.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Bgt])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qgt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Jgt,[(0,s._)("div",Ggt,[(0,s.Wm)(nt.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Xgt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",tmt,[(0,s._)("div",emt,[rmt,(0,s._)("div",amt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",smt,[(0,s.Wm)(n,{columns:o.columns,warehouses:i.filteredWarehouses},null,8,["columns","warehouses"])]),(0,s.Wm)(d,{onCancel:e[4]||(e[4]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const omt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},imt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},wmt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},nmt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),dmt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},cmt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),umt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},pmt={class:"tw-px-6 tw-py-4"},gmt={class:"tw-px-6 tw-py-4"},mmt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},hmt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},fmt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},bmt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),vmt=["value"],xmt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},ymt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},_mt={class:"tw-text-white"};function kmt(t,e,r,l,o,i){const w=(0,s.up)("WarehouseActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",omt,[(0,s._)("table",imt,[(0,s._)("thead",wmt,[(0,s._)("tr",null,[nmt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",dmt,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.warehouses,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[cmt,(0,s._)("th",umt,(0,wt.zw)(t.id),1),(0,s._)("td",pmt,(0,wt.zw)(t.name),1),(0,s._)("td",gmt,(0,wt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",mmt,[(0,s.Wm)(w,{warehouse:t},null,8,["warehouse"])])])))),128))])])]),(0,s._)("div",hmt,[(0,s._)("div",fmt,[bmt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,vmt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",xmt,[(0,s._)("div",ymt,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.warehouses.length:i.nextRange)+" of "+(0,wt.zw)(r.warehouses.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",_mt,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Cmt={class:"tw-flex tw-items-center tw-gap-1"};function Dmt(t,e,r,a,l,o){const i=(0,s.up)("UpdateWarehouse"),w=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Cmt,[t.$can("update_warehouse")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_warehouse")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[2]||(e[2]=t=>l.showUpdatePopup=!1),key:r.warehouse.id,warehouse:r.warehouse},null,8,["visible","warehouse"])),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this warehouse?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const Smt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},zmt=(0,s._)("h1",{class:"tw-text-lg"},"Update Warehouse",-1),Umt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},qmt={class:"tw-w-full tw-col-span-12"},Pmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Lmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Wmt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Amt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),$mt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Emt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Smt,[zmt,(0,s._)("div",Umt,[(0,s._)("div",qmt,[Pmt,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.Warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Lmt,(0,wt.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",Wmt,[(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Amt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[$mt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Tmt={components:{},props:["warehouse","visible"],data(){return{isLoading:!1,isLoaded:!1,Warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Nb.update(this.warehouse.id,this.Warehouse).then((t=>{"WAREHOUSE_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("warehouse/update",this.Warehouse),this.$emit("cancel")),"WAREHOUSE_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.Warehouse.name,"Warehouse name"),this.formStatus.name.valid}},mounted(){this.Warehouse={...this.warehouse}}};const Fmt=(0,m.Z)(Tmt,[["render",Emt]]);var jmt=Fmt,Imt={components:{UpdateWarehouse:jmt},props:["rowIndex","warehouse"],name:"warehouseActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Nb["delete"](this.warehouse.id).then((t=>{"WAREHOUSE_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Warehouse Deleted Successfully"}),this.$store.dispatch("warehouse/delete",this.warehouse.id))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Vmt=(0,m.Z)(Imt,[["render",Dmt]]);var Omt=Vmt,Hmt={props:["columns","warehouses"],components:{WarehouseActions:Omt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.warehouses.length/this.paginationLimit)},items(){return this.warehouses.slice(this.prevRange,this.nextRange)}},methods:{}};const Mmt=(0,m.Z)(Hmt,[["render",kmt]]);var Rmt=Mmt;const Nmt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Ymt=(0,s._)("h1",{class:"tw-text-lg"},"Create Warehouse",-1),Zmt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Kmt={class:"tw-w-full tw-col-span-12"},Bmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Qmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jmt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Gmt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Xmt=(0,s._)("span",{class:"text-white"}," Create ",-1);function tht(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Nmt,[Ymt,(0,s._)("div",Zmt,[(0,s._)("div",Kmt,[Bmt,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Qmt,(0,wt.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",Jmt,[(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Gmt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Xmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var eht={props:["visible"],components:{},data(){return{isLoading:!1,warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.warehouse;Nb.create(t).then((t=>{if("WAREHOUSE_CREATED"==t.data.code){this.$alert({type:"success",title:t.data.message});const e=t.data.data.warehouse;this.$store.dispatch("warehouse/addWarehouse",e),this.$emit("cancel"),this.warehouse={name:""}}"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.warehouse.name,"Warehouse name"),this.formStatus.name.valid}}};const rht=(0,m.Z)(eht,[["render",tht]]);var aht=rht,sht={components:{WarehousesTable:Rmt,AddWarehouse:aht},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{warehouses(){return this.$store.getters["warehouse/warehouses"]},filteredWarehouses(){const t=this.date;return this.warehouses.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){Nb.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const lht=(0,m.Z)(sht,[["render",lmt]]);var oht=lht,iht={name:"warehouses",path:"/warehouses",component:Wa,meta:{module:"warehouse"},children:[{name:"warehouse/list",path:"",component:oht,meta:{module:"warehouse",subModule:"warehouse/list",title:"Warehouse List",gate:"show_all_warehouses"}}]};const wht=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Factorisation List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your factorisations")])],-1),nht={key:0},dht={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},cht={class:"mb-5 tw-flex"},uht={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},pht={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},ght={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},mht=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),hht={class:"tw-relative"},fht={class:""};function bht(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("FactorisationsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.factorisations.length},[wht,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",nht,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",dht,[(0,s._)("div",cht,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",uht,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",pht,[(0,s._)("div",ght,[mht,(0,s._)("div",hht,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",fht,[(0,s.Wm)(n,{columns:i.columns,factorisations:i.filteredFactorisations},null,8,["columns","factorisations"])])])):(0,s.kq)("",!0)])}const vht={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},xht={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},yht={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},_ht=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),kht={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Cht={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Dht={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Sht=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),zht=["value"],Uht={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},qht={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Pht={class:"tw-text-white"};function Lht(t,e,r,l,o,i){const w=(0,s.up)("FactorisationRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vht,[(0,s._)("table",xht,[(0,s._)("thead",yht,[(0,s._)("tr",null,[_ht,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",kht,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.factorisations,(t=>((0,s.wg)(),(0,s.j4)(w,{factorisation:t,key:t.id},null,8,["factorisation"])))),128))])])]),(0,s._)("div",Cht,[(0,s._)("div",Dht,[Sht,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,zht)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Uht,[(0,s._)("div",qht,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.factorisations.length:i.nextRange)+" of "+(0,wt.zw)(r.factorisations.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Pht,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Wht={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Aht=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),$ht={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Eht={class:"tw-px-6 tw-py-4"},Tht={key:0,class:"tw-px-6 tw-py-4"},Fht={key:0},jht={key:1},Iht={class:"tw-px-6 tw-py-4"},Vht={key:0},Oht={key:1},Hht={class:"tw-px-6 tw-py-4"},Mht={class:"tw-px-6 tw-py-4"},Rht=(0,s._)("td",{class:"tw-px-6 tw-py-4"},[(0,s._)("div",null," Payment Method ")],-1),Nht={class:"tw-px-6 tw-py-4"},Yht={class:"tw-px-6 tw-py-4"},Zht={key:1,class:"tw-px-6 tw-py-4"},Kht={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Bht={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Qht=["disabled"],Jht=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Ght={key:2,class:"tw-px-6 tw-py-4"},Xht={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},tft={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},eft=["disabled"],rft=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),aft={class:"tw-px-6 tw-py-4"},sft={key:3,class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function lft(t,e,r,l,o,i){const w=(0,s.up)("FactorisationActions");return(0,s.wg)(),(0,s.iD)("tr",Wht,[Aht,(0,s._)("th",$ht,(0,wt.zw)(r.factorisation.id),1),(0,s._)("td",Eht,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>i.download(r.factorisation.id))},(0,wt.zw)(r.factorisation.factorisation_id),1)]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Tht,[r.factorisation.delivery?((0,s.wg)(),(0,s.iD)("span",Fht,(0,wt.zw)(i.deliveryName),1)):((0,s.wg)(),(0,s.iD)("span",jht,"-"))])):(0,s.kq)("",!0),(0,s._)("td",Iht,[r.factorisation.seller?((0,s.wg)(),(0,s.iD)("span",Vht,(0,wt.zw)(i.sellerName),1)):((0,s.wg)(),(0,s.iD)("span",Oht,"-"))]),(0,s._)("td",Hht,(0,wt.zw)(r.factorisation.commands_number),1),(0,s._)("td",Mht,(0,wt.zw)(r.factorisation.price),1),Rht,(0,s._)("td",Nht,(0,wt.zw)(r.factorisation.close_at?.split("T")[0]),1),(0,s._)("td",Yht,(0,wt.zw)(r.factorisation.paid_at?.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Zht,[(0,s._)("div",Kht,[(0,s._)("label",Bht,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[1]||(e[1]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Qht),[[a.e8,i.close]]),Jht]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Ght,[(0,s._)("div",Xht,[(0,s._)("label",tft,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[2]||(e[2]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,eft),[[a.e8,i.paid]]),rft]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",aft,(0,wt.zw)(r.factorisation.created_at.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",sft,[(0,s.Wm)(w,{factorisation:r.factorisation},null,8,["factorisation"])])):(0,s.kq)("",!0)])}const oft={class:"tw-flex tw-items-center tw-gap-1"};function ift(t,e,r,a,l,o){const i=(0,s.up)("UpdateFactorisation"),w=(0,s.up)("UpdateComment"),n=(0,s.up)("UpdateFees"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",oft,[t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdateCommentPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[1]||(e[1]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_factorisation")?((0,s.wg)(),(0,s.j4)(nt.T,{key:2,onClick:e[2]||(e[2]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")&&"seller"==this.factorisation.type?((0,s.wg)(),(0,s.j4)(nt.T,{key:3,onClick:e[3]||(e[3]=t=>l.showUpdateFeesPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-format-list-text")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[4]||(e[4]=t=>l.showUpdatePopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(w,{visible:l.showUpdateCommentPopup,onCancel:e[5]||(e[5]=t=>l.showUpdateCommentPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(n,{visible:l.showUpdateFeesPopup,onCancel:e[6]||(e[6]=t=>l.showUpdateFeesPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this factorisation?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const wft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},nft=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),dft={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},cft={class:"tw-w-full tw-col-span-6"},uft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),pft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gft={class:"tw-w-full tw-col-span-6"},mft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),hft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},fft={class:"tw-w-full tw-col-span-6"},bft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),vft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xft={class:"tw-w-full tw-col-span-6"},yft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),_ft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kft={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Cft=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Dft=(0,s._)("span",{class:"text-white"}," Update ",-1);function Sft(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[9]||(e[9]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",wft,[nft,(0,s._)("div",dft,[(0,s._)("div",cft,[uft,(0,s.Wm)(ut.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.Factorisation.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Factorisation.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",pft,(0,wt.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",gft,[mft,(0,s.Wm)(ut.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",hft,(0,wt.zw)(l.formStatus.delivery_id.message),1)]),(0,s._)("div",fft,[bft,(0,s.Wm)(ut.hw,{error:!l.formStatus.price.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("price")),"hide-details":!0,modelValue:l.Factorisation.price,"onUpdate:modelValue":e[5]||(e[5]=t=>l.Factorisation.price=t),disabled:!0,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",vft,(0,wt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",xft,[yft,(0,s.Wm)(ut.hw,{error:!l.formStatus.commands_number.valid,disabled:!0,onKeyup:e[6]||(e[6]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:l.Factorisation.commands_number,"onUpdate:modelValue":e[7]||(e[7]=t=>l.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",_ft,(0,wt.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",kft,[(0,s.Wm)(nt.T,{onClick:e[8]||(e[8]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Cft])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Dft])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var zft={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{factorisation_id:"",delivery_id:0,price:0,commands_number:0,note:""},formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.Factorisation.delivery.firstname+" "+this.Factorisation.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ye.update(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=$t(this.Factorisation.factorisation_id,"Factorisation Code"),this.formStatus.price=Et(this.Factorisation.price,"Factorisation Price"),this.formStatus.commands_number=Et(this.Factorisation.commands_number,"Factorisation Nb Commands"),this.formStatus.factorisation_id.valid&&this.formStatus.price.valid&&this.formStatus.commands_number.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Uft=(0,m.Z)(zft,[["render",Sft]]);var qft=Uft;const Pft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Lft=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Wft={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Aft={class:"tw-w-full tw-col-span-6"},$ft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Eft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Tft={class:"tw-w-full tw-col-span-6"},Fft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),jft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ift={class:"tw-w-full tw-col-span-12"},Vft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),Oft=["error"],Hft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Mft={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Rft=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Nft=(0,s._)("span",{class:"text-white"}," Update ",-1);function Yft(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[7]||(e[7]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Pft,[Lft,(0,s._)("div",Wft,[(0,s._)("div",Aft,[$ft,(0,s.Wm)(ut.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.Factorisation.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Factorisation.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Eft,(0,wt.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Tft,[Fft,(0,s.Wm)(ut.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.Factorisation.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",jft,(0,wt.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",Ift,[Vft,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.Factorisation.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n            ",40,Oft),[[a.nr,o.Factorisation.comment]]),(0,s._)("div",Hft,(0,wt.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Mft,[(0,s.Wm)(nt.T,{onClick:e[6]||(e[6]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Rft])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Nft])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Zft={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ye.updateComment(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=$t(this.Factorisation.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Kft=(0,m.Z)(Zft,[["render",Yft]]);var Bft=Kft;const Qft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Jft=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),Gft={class:"tw-w-full tw-col-span-6"},Xft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),tbt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ebt={class:"tw-w-full tw-col-span-6"},rbt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),abt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sbt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},lbt=["onClick"],obt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),ibt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},wbt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),nbt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},dbt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),cbt=(0,s._)("span",{class:"text-white"}," Update ",-1);function ubt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Qft,[Jft,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",Gft,[Xft,(0,s.Wm)(ut.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",tbt,(0,wt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",ebt,[rbt,(0,s.Wm)(ut.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",abt,(0,wt.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",sbt,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),obt],8,lbt)])])])))),128)),(0,s._)("div",ibt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),wbt])]),(0,s._)("div",nbt,[(0,s.Wm)(nt.T,{onClick:e[3]||(e[3]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[dbt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[cbt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var pbt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Ye.updateFees(this.factorisation.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.Factorisation={...this.factorisation},this.fees=JSON.parse(JSON.stringify(this.factorisation.fees))}};const gbt=(0,m.Z)(pbt,[["render",ubt]]);var mbt=gbt,hbt={components:{UpdateFactorisation:qft,UpdateComment:Bft,UpdateFees:mbt},props:["rowIndex","factorisation"],name:"factorisationActions",data(){return{showPopup:!1,isLoading:!1,showUpdateCommentPopup:!1,showUpdateFeesPopup:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Ye["delete"](this.factorisation.id).then((t=>{"FACTORISATION_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Factorisation Deleted Successfully"}),this.$store.dispatch("factorisation/delete",this.factorisation.id)),"DELETE_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const fbt=(0,m.Z)(hbt,[["render",ift]]);var bbt=fbt,vbt={props:["factorisation"],components:{FactorisationActions:bbt},data(){return{isLoadingPaid:!1,isLoadingClose:!1}},computed:{deliveryName:{get(){return this.factorisation.delivery.firstname+" "+this.factorisation.delivery.lastname},set(t){console.log(t)}},sellerName:{get(){return this.factorisation.seller.firstname+" "+this.factorisation.seller.lastname},set(t){console.log(t)}},paid:{get(){return 1==this.factorisation.paid},set(t){this.updatePaid(t)}},close:{get(){return 1==this.factorisation.close},set(t){this.updateClose(t)}},user(){return this.$store.getters["user/user"]}},methods:{updatePaid(t){this.isLoadingPaid=!0,Ye.updatePaid(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))},updateClose(t){this.isLoadingClose=!0,Ye.updateClose(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))},download(t){const e=n+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const xbt=(0,m.Z)(vbt,[["render",lft]]);var ybt=xbt,_bt={props:["columns","factorisations"],components:{FactorisationRow:ybt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.factorisations.length/this.paginationLimit)},items(){return this.factorisations.slice(this.prevRange,this.nextRange)}},methods:{}};const kbt=(0,m.Z)(_bt,[["render",Lht]]);var Cbt=kbt,Dbt={components:{FactorisationsTable:Cbt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,userColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"payment_method",name:"Payment Method"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"created_at",name:"Created at"}],adminColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"delivery_id",name:"Delivery"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"close",name:"Close"},{prop:"paid",name:"Paid"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{user(){return this.$store.getters["user/user"]},columns(){return"admin"==this.user.role?this.adminColumns:this.userColumns},factorisations(){return this.$store.getters["factorisation/factorisations"]},filteredFactorisations(){const t=this.date;return this.factorisations.filter((e=>!t||e?.created_at.split("T")[0]===t))}},mounted(){Ye.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("factorisation/setFactorisations",t.data.data.factorisations)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Sbt=(0,m.Z)(Dbt,[["render",bht]]);var zbt=Sbt;const Ubt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},qbt={class:"tw-px-3"},Pbt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Lbt={class:"tw-flex tw-items-center tw-gap-x-3"},Wbt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Factorisation",-1),Abt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},$bt={key:0};function Ebt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",Ubt,[(0,s._)("section",qbt,[(0,s._)("div",Pbt,[(0,s._)("div",null,[(0,s._)("div",Lbt,[Wbt,(0,s._)("span",Abt,(0,wt.zw)(l.totalOrders),1)])])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,"per-page":l.per_page,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","per-page","loading"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,"withdrawal-methods":l.withdrawal_methods,"is-withdrawal-methods-fetched":l.is_withdrawal_methods_fetched,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","withdrawal-methods","is-withdrawal-methods-fetched","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",$bt)):(0,s.kq)("",!0)])}const Tbt={class:"tw-flex tw-flex-col tw-mt-5"},Fbt={class:"tw-overflow-x-auto"},jbt={class:"tw-inline-block tw-min-w-full tw-align-middle"},Ibt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Vbt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Obt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},Hbt=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-w-fit tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID ",-1),Mbt={key:1,scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Rbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Orders ",-1),Nbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),Ybt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Payment Method ",-1),Zbt={key:2,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Kbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Closed At ",-1),Bbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid At ",-1),Qbt={key:3,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Jbt={key:4,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Gbt={key:6,scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},Xbt=(0,s._)("span",{class:"tw-sr-only"},"Actions",-1),tvt=[Xbt],evt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},rvt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},avt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Factorisation was found ! ")])],-1),svt=[avt],lvt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},ovt={colspan:"11"},ivt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},wvt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),nvt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),dvt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),cvt=[nvt,dvt],uvt={class:"tw-mt-6"};function pvt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Tbt,[(0,s._)("div",Fbt,[(0,s._)("div",jbt,[(0,s._)("div",Ibt,[(0,s._)("table",Vbt,[(0,s._)("thead",Obt,[(0,s._)("tr",null,[(0,s.kq)("",!0),Hbt,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Mbt," User ")):(0,s.kq)("",!0),Rbt,Nbt,Ybt,"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Zbt," Status ")):(0,s.kq)("",!0),Kbt,Bbt,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Qbt," Close ")):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Jbt," Paid ")):(0,s.kq)("",!0),(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Gbt,tvt)):(0,s.kq)("",!0)])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",evt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(a=>((0,s.wg)(),(0,s.j4)(i,{"withdrawal-methods":r.withdrawalMethods,"is-withdrawal-methods-fetched":r.isWithdrawalMethodsFetched,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:a.id,item:a},null,8,["withdrawal-methods","is-withdrawal-methods-fetched","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",rvt,svt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",lvt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",ovt,[(0,s._)("div",ivt,[wvt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},cvt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",uvt,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const gvt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},mvt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},hvt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},fvt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},bvt=["disabled"],vvt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),xvt=(0,s._)("span",null," previous ",-1),yvt=[vvt,xvt],_vt=["disabled"],kvt=(0,s._)("span",null," Next ",-1),Cvt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Dvt=[kvt,Cvt];function Svt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",gvt,[(0,s._)("div",mvt,[(0,s.Uk)(" Page "),(0,s._)("span",hvt,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",fvt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},yvt,10,bvt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Dvt,10,_vt)])])])}var zvt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Uvt=(0,m.Z)(zvt,[["render",Svt]]);var qvt=Uvt;const Pvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-w-fit"},Lvt={key:1,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Wvt={key:0,class:"tw-flex tw-items-center tw-gap-2"},Avt=(0,s._)("div",{title:"Delivery",class:"tw-text-sm tw-w-[24px] tw-rounded tw-aspect-square tw-bg-cyan-100 tw-text-cyan-500 tw-flex tw-items-center tw-justify-center"}," D ",-1),$vt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Evt={key:1,class:"tw-flex tw-items-center tw-gap-2"},Tvt=(0,s._)("div",{title:"Seller",class:"tw-text-sm tw-w-[24px] tw-rounded tw-aspect-square tw-bg-orange-100 tw-text-orange-500 tw-flex tw-items-center tw-justify-center"}," S ",-1),Fvt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},jvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ivt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-text-center tw-font-[cairo]"},Vvt={key:0},Ovt={key:1},Hvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Mvt={class:"tw-text-emerald-500 tw-text-end tw-font-semibold darkx:tw-text-white tw-font-[cairo]"},Rvt={key:0},Nvt={key:1},Yvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Zvt={key:0},Kvt={key:0},Bvt={key:1},Qvt={key:2,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Jvt={key:0,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-blue-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},Gvt={key:1,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-yellow-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},Xvt={key:2,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-emerald-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},txt={class:"tw-px-8 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ext={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},rxt={key:0},axt={key:0},sxt={key:1},lxt={class:"tw-px-8 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},oxt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},ixt={key:0},wxt={key:0},nxt={key:1},dxt={key:3,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cxt={key:4,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uxt={key:0},pxt={key:6,class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function gxt(t,e,r,a,l,o){const i=(0,s.up)("PdfFactorisation"),w=(0,s.up)("WithdrawalMethodSeller"),n=(0,s.up)("WithdrawalMethodAdmin"),d=(0,s.up)("CloseFactorisation"),c=(0,s.up)("PaidFactorisation"),u=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Pvt,[(0,s._)("div",null,[(0,s.Wm)(i,{item:r.item},null,8,["item"])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Lvt,["delivery"==r.item.type?((0,s.wg)(),(0,s.iD)("div",Wvt,[Avt,(0,s._)("h2",$vt,(0,wt.zw)(r.item.delivery.firstname)+" "+(0,wt.zw)(r.item.delivery.lastname),1)])):(0,s.kq)("",!0),"seller"==r.item.type?((0,s.wg)(),(0,s.iD)("div",Evt,[Tvt,(0,s._)("h2",Fvt,(0,wt.zw)(r.item.seller.firstname)+" "+(0,wt.zw)(r.item.seller.lastname),1)])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("td",jvt,[(0,s._)("div",null,[(0,s._)("h2",Ivt,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",Vvt,(0,wt.zw)(r.item.seller_order_count),1)):((0,s.wg)(),(0,s.iD)("span",Ovt,(0,wt.zw)(r.item.delivery_order_count),1))])])]),(0,s._)("td",Hvt,[(0,s._)("div",null,[(0,s._)("h2",Mvt,[(0,s.Uk)((0,wt.zw)(l.currency)+" ",1),"seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",Rvt,(0,wt.zw)(r.item.seller_order_price),1)):((0,s.wg)(),(0,s.iD)("span",Nvt,(0,wt.zw)(r.item.delivery_order_price),1))])])]),(0,s._)("td",Yvt,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("div",Zvt,["seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",Kvt,[(0,s.Wm)(w,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),factorisation:r.item,"withdrawal-methods":r.withdrawalMethods,"is-withdrawal-methods-fetched":r.isWithdrawalMethodsFetched},null,8,["factorisation","withdrawal-methods","is-withdrawal-methods-fetched"])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",Bvt,[(0,s.Wm)(n,{factorisation:r.item,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["factorisation"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Qvt,[(0,s._)("div",null,[r.item.close||r.item.paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Jvt," Active ")),r.item.close&&!r.item.paid?((0,s.wg)(),(0,s.iD)("div",Gvt," Prending ")):(0,s.kq)("",!0),r.item.close&&r.item.paid?((0,s.wg)(),(0,s.iD)("div",Xvt," Paid ")):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",txt,[(0,s._)("div",null,[(0,s._)("h2",ext,[r.item.close_at?((0,s.wg)(),(0,s.iD)("span",rxt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.close_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",axt,(0,wt.zw)(l.moment(r.item.close_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",sxt," - "))])])]),(0,s._)("td",lxt,[(0,s._)("div",null,[(0,s._)("h2",oxt,[r.item.paid_at?((0,s.wg)(),(0,s.iD)("span",ixt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.paid_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",wxt,(0,wt.zw)(l.moment(r.item.paid_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",nxt," - "))])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",dxt,[(0,s._)("div",null,[((0,s.wg)(),(0,s.j4)(d,{item:r.item,key:r.item.id,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["item"]))])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",cxt,[r.item.close?((0,s.wg)(),(0,s.iD)("div",uxt,[((0,s.wg)(),(0,s.j4)(c,{item:r.item,key:r.item.id,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e))},null,8,["item"]))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",pxt,[(0,s._)("div",null,[(0,s.Wm)(u,{onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])):(0,s.kq)("",!0)])}const mxt={class:"tw-h-full"},hxt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-end tw-relative"},fxt={key:0,class:"tw-absolute tw-right-0 tw-z-10"},bxt={class:"tw-absolute tw-top-1/2 -tw-translate-y-1/2 tw-right-10 tw-bg-white tw-border tw-border-solid tw-p-2 tw-rounded tw-flex tw-items-center tw-gap-2"},vxt=["href"],xxt={key:0},yxt={key:1},_xt={key:2},kxt={key:3};function Cxt(t,e,r,l,o,i){const w=(0,s.up)("icon"),n=(0,s.up)("TableActionsUploadImage"),d=(0,s.up)("CommentFactorisation"),c=(0,s.up)("UpdateFactorisation"),u=(0,s.up)("UpdateFees"),p=(0,s.up)("FactorisationHistory");return(0,s.wg)(),(0,s.iD)("div",mxt,[(0,s._)("div",hxt,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-x-[10px]  tw-opacity-0","leave-to-class":"tw-translate-x-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[o.visible?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",fxt,[(0,s._)("div",bxt,["admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show history",onClick:e[0]||(e[0]=t=>o.HistoryPopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-teal-100 hover:tw-border-teal-400 tw-bg-teal-50/10 hover:tw-bg-teal-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"uim:history",class:"tw-text-xl tw-text-teal-500"})])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("a",{key:1,title:"Download Excel File",target:"_blank",href:o.serverUrl+"api/export/factorisations/"+r.item.factorisation_id,class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-green-100 hover:tw-border-green-400 tw-bg-green-50/10 hover:tw-bg-green-200 tw-duration-200"},[(0,s.Wm)(w,{icon:"vscode-icons:file-type-excel",class:"tw-text-xl"})],8,vxt)):(0,s.kq)("",!0),(t.$user.role,(0,s.kq)("",!0)),(t.$user.role,(0,s.kq)("",!0)),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:4,title:"Delete",onClick:e[3]||(e[3]=t=>o.DeletePopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-rose-100 hover:tw-border-rose-400 tw-bg-rose-50/10 hover:tw-bg-rose-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"solar:trash-bin-trash-bold-duotone",class:"tw-text-xl tw-text-rose-500"})])):(0,s.kq)("",!0)])])),[[ie.L,()=>o.visible=!1]]):(0,s.kq)("",!0)])),_:1}),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Add fees",onClick:e[4]||(e[4]=t=>o.FeesPopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-emerald-100 hover:tw-border-emerald-400 tw-bg-emerald-50/10 hover:tw-bg-emerald-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"solar:bill-list-bold-duotone",class:"tw-text-xl tw-text-emerald-500"})])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(n,{title:"Upload image",onUpdate:e[5]||(e[5]=e=>t.$emit("update",e)),key:r.item.id,item:r.item},null,8,["item"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[6]||(e[6]=t=>o.visible=!o.visible),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-gray-100 hover:tw-border-gray-400 tw-bg-gray-50/10 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(w,{icon:o.visible?"iconamoon:close-duotone":"solar:menu-dots-bold",class:"tw-text-xl tw-text-gray-500"},null,8,["icon"])])):(0,s.kq)("",!0),(0,s.kq)("",!0)]),o.CommentPopup?((0,s.wg)(),(0,s.iD)("div",xxt,[((0,s.wg)(),(0,s.j4)(d,{onUpdate:e[11]||(e[11]=e=>t.$emit("update",e)),visible:o.CommentPopup,"onUpdate:visible":e[12]||(e[12]=t=>o.CommentPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.popup?((0,s.wg)(),(0,s.iD)("div",yxt,[((0,s.wg)(),(0,s.j4)(c,{onUpdate:e[13]||(e[13]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[14]||(e[14]=t=>o.popup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.FeesPopup?((0,s.wg)(),(0,s.iD)("div",_xt,[((0,s.wg)(),(0,s.j4)(u,{onUpdate:e[15]||(e[15]=e=>t.$emit("update",e)),visible:o.FeesPopup,"onUpdate:visible":e[16]||(e[16]=t=>o.FeesPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.HistoryPopup?((0,s.wg)(),(0,s.iD)("div",kxt,[(0,s.Wm)(p,{visible:o.HistoryPopup,"onUpdate:visible":e[17]||(e[17]=t=>o.HistoryPopup=t),factorisation:r.item},null,8,["visible","factorisation"])])):(0,s.kq)("",!0)])}const Dxt={key:0},Sxt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},zxt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Uxt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},qxt={class:"tw-w-full tw-col-span-6"},Pxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Lxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Wxt={class:"tw-w-full tw-col-span-6"},Axt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),$xt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ext={class:"tw-w-full tw-col-span-12"},Txt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),Fxt=["error"],jxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ixt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Vxt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Oxt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Hxt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return o.itemCopy?((0,s.wg)(),(0,s.iD)("div",Dxt,[(0,s.Wm)(w,{onCancel:e[7]||(e[7]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Sxt,[zxt,(0,s._)("div",Uxt,[(0,s._)("div",qxt,[Pxt,(0,s.Wm)(ut.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.itemCopy.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.itemCopy.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Lxt,(0,wt.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Wxt,[Axt,(0,s.Wm)(ut.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.itemCopy.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.itemCopy.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",$xt,(0,wt.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",Ext,[Txt,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.itemCopy.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",40,Fxt),[[a.nr,o.itemCopy.comment]]),(0,s._)("div",jxt,(0,wt.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Ixt,[(0,s.Wm)(nt.T,{onClick:e[6]||(e[6]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Vxt])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Oxt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Mxt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ye.updateComment(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=$t(this.itemCopy.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const Rxt=(0,m.Z)(Mxt,[["render",Hxt]]);var Nxt=Rxt;const Yxt={key:0},Zxt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Kxt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),Bxt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Qxt={class:"tw-w-full tw-col-span-6"},Jxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Gxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xxt={class:"tw-w-full tw-col-span-6"},tyt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),eyt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ryt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},ayt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),syt=(0,s._)("span",{class:"text-white"}," Update ",-1);function lyt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",Yxt,[(0,s.Wm)(i,{onCancel:e[5]||(e[5]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Zxt,[Kxt,(0,s._)("div",Bxt,[(0,s._)("div",Qxt,[Jxt,(0,s.Wm)(ut.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.itemCopy.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.itemCopy.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Gxt,(0,wt.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",Xxt,[tyt,(0,s.Wm)(ut.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",eyt,(0,wt.zw)(l.formStatus.delivery_id.message),1)])]),(0,s._)("div",ryt,[(0,s.Wm)(nt.T,{onClick:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ayt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[syt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var oyt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.itemCopy.delivery.firstname+" "+this.itemCopy.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ye.update(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=$t(this.itemCopy.factorisation_id,"Factorisation Code"),this.formStatus.factorisation_id.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const iyt=(0,m.Z)(oyt,[["render",lyt]]);var wyt=iyt;const nyt={key:0},dyt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},cyt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),uyt={class:"tw-w-full tw-col-span-6"},pyt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),gyt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},myt={class:"tw-w-full tw-col-span-6"},hyt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),fyt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},byt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},vyt=["onClick"],xyt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),yyt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},_yt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),kyt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Cyt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Dyt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Syt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",nyt,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",dyt,[cyt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",uyt,[pyt,(0,s.Wm)(ut.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",gyt,(0,wt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",myt,[hyt,(0,s.Wm)(ut.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",fyt,(0,wt.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",byt,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),xyt],8,vyt)])])])))),128)),(0,s._)("div",yyt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),_yt])]),(0,s._)("div",kyt,[(0,s.Wm)(nt.T,{onClick:e[3]||(e[3]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Cyt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Dyt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var zyt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Ye.updateFees(this.itemCopy.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$emit("update",this.itemCopy),this.$emit("update:visible",!1)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.fees=this.itemCopy.fees??[]}};const Uyt=(0,m.Z)(zyt,[["render",Syt]]);var qyt=Uyt;const Pyt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-3 tw-h-3 tw-bg-neutral-100 tw-rounded-full -tw-left-1.5 tw-translate-y-1.5 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),Lyt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},Wyt={class:"tw-text-gray-500 tw-flex tw-items-center tw-gap-2 tw-mb-2"},Ayt={class:"tw-text-black tw-font-semibold tw-capitalize"},$yt={class:"tw-uppercase tw-text-xs"},Eyt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600 tw-w-full"},Tyt={key:0,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},Fyt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},jyt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},Iyt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},Vyt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},Oyt={key:1,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},Hyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},Myt={class:"tw-font-semibold tw-text-emerald-600 dark:tw-text-emerald-500 hover:tw-underline"},Ryt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-cyan-100 dark:tw-text-cyan-500"},Nyt={key:2,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},Yyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},Zyt={class:"tw-font-semibold tw-text-emerald-600 dark:tw-text-emerald-500 hover:tw-underline"},Kyt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-cyan-100 dark:tw-text-cyan-500"};var Byt={__name:"FactorisationHistoryForFee",props:["history"],setup(t){const e=["event","factorisation_fee:factorisation_id","factorisation_fee:id"],r=t,a=(0,ke.Vh)(r,"history"),l=(0,ke.iH)(a.value.fields.find((t=>"event"==t.field))),o=(0,ke.iH)(a.value.fields.find((t=>"factorisation_fee:fee"==t.field)));console.log(a.value),console.log(o.value);const i={"factorisation_fee:feeprice":"Amount"},w={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}};return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[Pyt,(0,s._)("div",Lyt,[(0,s._)("p",Wyt,[(0,s._)("span",Ayt,(0,wt.zw)(a.value.action_by),1),(0,s._)("span",$yt,"*"+(0,wt.zw)(l.value.new_value)+" FEE*",1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:r[0]||(r[0]=t=>a.value.isHovering=!0),onMouseleave:r[1]||(r[1]=t=>a.value.isHovering=!1)},(0,wt.zw)(a.value.isHovering?(0,ke.SU)(ze())(a.value.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ke.SU)(ze())(a.value.created_at).fromNow()),33)]),(0,s._)("div",Eyt,["updated"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",Tyt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value.fields.filter((t=>!e.includes(t.field))),(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[[].includes(t.field)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fyt,[(0,s.Uk)("Changed "),(0,s._)("span",jyt,(0,wt.zw)(i[t.field]??t.field),1),(0,s.Uk)(" from "),(0,s._)("span",Iyt,(0,wt.zw)(t.field in w?w[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",Vyt,(0,wt.zw)(t.field in w?w[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])):(0,s.kq)("",!0),"created"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",Oyt,[(0,s._)("div",Hyt,[(0,s.Uk)("Added "),(0,s._)("span",Myt,(0,wt.zw)(a.value.fields.find((t=>"factorisation_fee:feeprice"==t.field))?.new_value)+(0,wt.zw)((0,ke.SU)(c)),1),(0,s.Uk)(" fee for "),(0,s._)("span",Ryt,(0,wt.zw)(a.value.fields.find((t=>"factorisation_fee:feename"==t.field))?.new_value),1)])])):(0,s.kq)("",!0),"deleted"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",Nyt,[(0,s._)("div",Yyt,[(0,s.Uk)("Deleted "),(0,s._)("span",Zyt,(0,wt.zw)(o.value.new_value.feeprice)+(0,wt.zw)((0,ke.SU)(c)),1),(0,s.Uk)(" fee for "),(0,s._)("span",Kyt,(0,wt.zw)(o.value.new_value.feename),1)])])):(0,s.kq)("",!0)])]))}};const Qyt=Byt;var Jyt=Qyt;const Gyt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Xyt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},t_t=(0,s._)("span",null,"History",-1),e_t={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},r_t={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},a_t={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},s_t={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},l_t={key:1},o_t=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-3 tw-h-3 tw-bg-neutral-100 tw-rounded-full -tw-left-1.5 tw-translate-y-1.5 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),i_t={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},w_t={class:"tw-text-gray-500"},n_t={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},d_t=["onMouseenter","onMouseleave"],c_t={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600 tw-w-full"},u_t={class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},p_t={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},g_t={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},m_t={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},h_t={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},f_t={key:1,class:"tw-w-full"},b_t=(0,s._)("div",{class:"tw-items-center tw-justify-between sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300 tw-mb-2"},"Uploaded:")],-1),v_t={class:"tw-mx-auto tw-rounded tw-bg-gray-100 tw-overflow-hidden tw-flex tw-items-center tw-justify-center tw-border tw-border-solid tw-border-neutral-200 tw-relative"},x_t=["src"],y_t={class:"tw-absolute tw-bottom-4 tw-right-4 tw-flex tw-items-center tw-gap-2"},__t=["href"],k_t=(0,s._)("span",null,"View",-1),C_t={key:2,class:"tw-w-full"},D_t={class:"tw-items-center tw-justify-between sm:tw-flex"},S_t={class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},z_t={key:3,class:"tw-w-full"},U_t={class:"tw-items-center tw-justify-between sm:tw-flex"},q_t={class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},P_t={key:4,class:"tw-w-full tw-order-[10]"},L_t={class:"tw-items-center tw-justify-between sm:tw-flex"},W_t={class:"tw-text-sm tw-font-normal tw-text-gray-500 tw-mb-3 dark:tw-text-gray-300"},A_t={class:"tw-flex tw-flex-col"},$_t={class:"tw-border-b-0 tw-border tw-border-solid tw-border-neutral-200 tw-bg-neutral-800 tw-text-white tw-grid tw-grid-cols-12 tw-divide-x"},E_t=(0,s._)("div",{class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},"ID",-1),T_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-xs"},"CONFIRMATION",-1),F_t=(0,s._)("div",{class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},"DELIVERY",-1),j_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-xs"},"DELIVERED AT",-1),I_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},V_t={class:"tw-border tw-border-solid tw-border-neutral-200 tw-grid tw-grid-cols-12 tw-divide-x"},O_t={class:"tw-col-span-2 tw-py-1 tw-px-2 tw-font-bold"},H_t={class:"tw-col-span-3 tw-py-1 tw-px-2"},M_t={class:"tw-col-span-2 tw-py-1 tw-px-2"},R_t={class:"tw-col-span-3 tw-py-1 tw-px-2 tw-text-center"},N_t={class:"tw-col-span-2 tw-py-1 tw-px-2 tw-font-medium tw-text-end"},Y_t={class:"tw-text-black tw-grid tw-grid-cols-12"},Z_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),K_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"SHIPPING FEES",-1),B_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},Q_t={class:"tw-text-black tw-grid tw-grid-cols-12"},J_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),G_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"COD FEES",-1),X_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},tkt={class:"tw-text-black tw-grid tw-grid-cols-12"},ekt=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),rkt=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"OTHER FEES",-1),akt={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},skt={class:"tw-text-black tw-grid tw-grid-cols-12"},lkt=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),okt=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-end tw-font-bold tw-text-lg tw-text-emerald-600"},"TOTAL",-1),ikt={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-lg tw-font-bold tw-text-emerald-600 tw-text-end"},wkt={key:5,class:"tw-w-full"},nkt={class:"tw-items-center tw-justify-between sm:tw-flex"},dkt=(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300 tw-mb-3"},"Withdrawal Details:",-1),ckt={key:0,class:"tw-flex tw-items-center tw-gap-2"},ukt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),pkt={key:1,class:"tw-flex tw-items-center tw-gap-2"},gkt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),mkt={key:0,class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var hkt={__name:"FactorisationHistory",props:["visible","factorisation"],emits:["update:visible"],setup(t,{emit:e}){const r=["commands_number","type","price","paid_at","amount_paid","close_at","total_cod_fees","total_shipping_fees","total_other_fees","commands_number","price"],a=(0,s.Fl)((()=>jn.reduce(((t,e)=>(t[e.value]=e.name,t)),{}))),l=(0,s.Fl)((()=>Hn.reduce(((t,e)=>(t[e.value]=e.name,t)),{}))),o={user_id:"Seller ID",factorisation_id:"ID",delivery_id:"Delivery ID",close:"Close",paid:"Paid",commands_number:"Order's number",type:"Type",price:"Amount",close_at:"Closed at",paid_at:"Paid at",comment:"Comment",note:"Note",withdrawal_method_id:"Withdrawal Method ID",attachement_image:"Attachement",orders:"Orders",withdrawal_method_details:"Withdrawal Details"},i={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}},w=t,n=e,d=(0,ke.Vh)(w,"visible"),u=(0,ke.Vh)(w,"factorisation"),p=(0,ke.iH)(!0),g=(0,ke.iH)([!0]),m=async()=>{p.value=!0,await Ye.history(u.value.id).then((t=>{"SUCCESS"==t.data.code&&(g.value=t.data.data.history.filter((t=>t.fields.every((t=>!["commands_number","price"].includes(t.field))))),g.value.reverse())})),p.value=!1};return m(),(t,e)=>{const w=(0,s.up)("icon"),u=(0,s.up)("loading"),m=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(m,{visible:d.value,onCancel:e[1]||(e[1]=t=>n("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",Gyt,[(0,s._)("div",Xyt,[t_t,(0,s._)("button",{onClick:e[0]||(e[0]=t=>n("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(w,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),p.value?((0,s.wg)(),(0,s.iD)("div",e_t,[(0,s.Wm)(u)])):(0,s.kq)("",!0),p.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",r_t,[g.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",a_t,"There is no history for this invoice yet.")),g.value.length?((0,s.wg)(),(0,s.iD)("ol",s_t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.value,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id,class:"tw-mb-10 tw-mx-6"},[e.fields.some((t=>t.field.includes("factorisation_fee:")))?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Jyt),{key:0,history:e},null,8,["history"])):((0,s.wg)(),(0,s.iD)("div",l_t,[o_t,(0,s._)("div",i_t,[(0,s._)("p",w_t,[(0,s._)("span",n_t,(0,wt.zw)(e.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:t=>e.isHovering=!0,onMouseleave:t=>e.isHovering=!1},(0,wt.zw)(e.isHovering?(0,ke.SU)(ze())(e.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ke.SU)(ze())(e.created_at).fromNow()),41,d_t)]),(0,s._)("div",c_t,[(0,s._)("div",u_t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.fields.filter((t=>!r.includes(t.field))),(r=>((0,s.wg)(),(0,s.iD)(s.HY,{key:r.field},[["attachement_image","withdrawal_method_details","orders","paid","close"].includes(r.field)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",p_t,[(0,s.Uk)("Changed "),(0,s._)("span",g_t,(0,wt.zw)(o[r.field]??r.field),1),(0,s.Uk)(" from "),(0,s._)("span",m_t,(0,wt.zw)(r.field in i?i[r.field][r.old_value]:r.old_value),1),(0,s.Uk)("to "),(0,s._)("span",h_t,(0,wt.zw)(r.field in i?i[r.field][r.new_value]:r.new_value),1)])),"attachement_image"==r.field&&r.new_value?((0,s.wg)(),(0,s.iD)("div",f_t,[b_t,(0,s._)("div",v_t,[(0,s._)("img",{class:"tw-w-full tw-h-auto tw-max-w-[300px] tw-max-h-[300px] tw-object-contain",src:t.$backend(r.new_value.startsWith("/")?r.new_value.substring(1):r.new_value)},null,8,x_t),(0,s._)("div",y_t,[(0,s._)("a",{target:"_blank",href:t.$backend(r.new_value.startsWith("/")?r.new_value.substring(1):r.new_value),class:"tw-px-2 tw-py-1 tw-flex tw-items-center tw-gap-2 tw-rounded tw-bg-green-500 tw-text-white"},[(0,s.Wm)(w,{icon:"carbon:view-filled",class:"tw-text-white tw-text-2xl"}),k_t],8,__t)])])])):(0,s.kq)("",!0),"paid"==r.field?((0,s.wg)(),(0,s.iD)("div",C_t,[(0,s._)("div",D_t,[(0,s._)("div",S_t,[(0,s.Uk)("Marked this invoice as "),(0,s._)("span",{class:(0,wt.C_)([[r.new_value?"tw-text-green-600 tw-bg-green-50":"tw-text-amber-600 tw-bg-amber-50"],"tw-px-2 tw-py-0.5"])},(0,wt.zw)(r.new_value?"PAID":"UNPAID"),3)])])])):(0,s.kq)("",!0),"close"==r.field?((0,s.wg)(),(0,s.iD)("div",z_t,[(0,s._)("div",U_t,[(0,s._)("div",q_t,[(0,s.Uk)("Marked this invoice as "),(0,s._)("span",{class:(0,wt.C_)([[r.new_value?"tw-text-rose-600 tw-bg-rose-50":"tw-text-green-600 tw-bg-green-50"],"tw-px-2 tw-py-0.5"])},(0,wt.zw)(r.new_value?"CLOSED":"OPEN"),3)])])])):(0,s.kq)("",!0),"orders"==r.field?((0,s.wg)(),(0,s.iD)("div",P_t,[(0,s._)("div",L_t,[(0,s._)("div",W_t,"Orders: ("+(0,wt.zw)(r.new_value.length)+")",1),(0,s.kq)("",!0)]),(0,s._)("div",A_t,[(0,s._)("div",$_t,[E_t,T_t,F_t,j_t,(0,s._)("div",I_t,"PRICE ("+(0,wt.zw)((0,ke.SU)(c))+")",1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.new_value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:""},[(0,s._)("div",V_t,[(0,s._)("div",O_t,(0,wt.zw)(t.id),1),(0,s._)("div",H_t,(0,wt.zw)(a.value[t.confirmation]??null),1),(0,s._)("div",M_t,(0,wt.zw)(l.value[t.delivery]),1),(0,s._)("div",R_t,(0,wt.zw)(t.delivery_date?.split("T")[0]??t.delivery_date),1),(0,s._)("div",N_t,(0,wt.zw)(t.price),1)])])))),128)),(0,s._)("div",Y_t,[Z_t,K_t,(0,s._)("div",B_t,(0,wt.zw)(e.fields.find((t=>"total_shipping_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",Q_t,[J_t,G_t,(0,s._)("div",X_t,(0,wt.zw)(e.fields.find((t=>"total_cod_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",tkt,[ekt,rkt,(0,s._)("div",akt,(0,wt.zw)(e.fields.find((t=>"total_other_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",skt,[lkt,okt,(0,s._)("div",ikt,(0,wt.zw)((0,ke.SU)(c))+(0,wt.zw)(e.fields.find((t=>"amount_paid"==t.field))?.new_value??0),1)])])])):(0,s.kq)("",!0),"withdrawal_method_details"==r.field?((0,s.wg)(),(0,s.iD)("div",wkt,[(0,s._)("div",nkt,[dkt,"bank_transfer"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",ckt,[(0,s.Wm)(w,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),ukt])):(0,s.kq)("",!0),"binance"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",pkt,[(0,s.Wm)(w,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),gkt])):(0,s.kq)("",!0)]),"binance"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",mkt,(0,wt.zw)(r.new_value.metadata.binance_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)))),128))])])]))])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const fkt=hkt;var bkt=fkt;const vkt={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},xkt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},ykt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Upload image ",-1),_kt={class:"tw-p-5"},kkt=["id"],Ckt={class:"tw-text-center tw-flex tw-items-center tw-justify-center tw-flex-col tw-gap-5"},Dkt=(0,s._)("p",null,"Click to upload",-1),Skt={key:0,class:"tw-absolute tw-h-full tw-w-full tw-left-0 tw-top-0 tw-bg-white tw-flex tw-items-center tw-justify-center"},zkt=["src"],Ukt={key:1,class:"tw-absolute tw-h-full tw-w-full tw-left-0 tw-top-0 tw-bg-white tw-flex tw-items-center tw-justify-center"},qkt=["src"],Pkt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},Lkt=["disabled"],Wkt=["disabled"],Akt=(0,s._)("span",null,"Save",-1);var $kt={__name:"TableActionsUploadImage",props:["item"],emits:["update"],setup(t,{emit:e}){const r=(0,ke.iH)(!1),a=(0,ke.iH)(!1),l=(0,ke.iH)(null),o=t,i=e,w=(0,ke.iH)(""),n=async()=>{if(!l.value)return Tc("Add image to update","warning"),!1;a.value=!0;try{const t=new FormData;t.append("image",l.value);const e=await Ye.uploadImage(o.item.id,t);if(console.log(e.data),"SUCCESS"==e.data.code){const t={...o.item,attachement_image:e.data.factorisation.attachement_image};i("update",t),Tc("Image attachement updated"),r.value=!1}}catch(t){console.error("Error uploading image:",t)}a.value=!1},d=()=>{document.getElementById("invoice-image-"+o.item.id).click()},c=t=>{t.target.files.length<=0||(l.value=t.target.files[0],w.value=URL.createObjectURL(l.value))};return(t,e)=>{const l=(0,s.up)("icon"),i=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-fuchsia-100 hover:tw-border-fuchsia-400 tw-bg-fuchsia-50/10 hover:tw-bg-fuchsia-100 tw-duration-200"},[(0,s.Wm)(l,{icon:"uim:image-v",class:"tw-text-xl tw-text-fuchsia-500"})]),(0,s.Wm)(i,{visible:r.value,onCancel:e[2]||(e[2]=t=>r.value=!1),closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",vkt,[(0,s._)("div",xkt,[ykt,(0,s._)("div",_kt,[(0,s._)("input",{onChange:c,ref:"image-field",type:"file",name:"image",id:"invoice-image-"+o.item.id,class:"tw-invisible"},null,40,kkt),(0,s._)("div",{role:"button",onClick:d,class:"tw-relative tw-min-h-[350px] tw-w-full tw-cursor-pointer tw-border tw-border-dashed hover:tw-border-orange-400 tw-duration-200 tw-rounded tw-flex tw-overflow-hidden tw-items-center tw-justify-center"},[(0,s._)("div",Ckt,[(0,s.Wm)(l,{icon:"ep:upload-filled",class:"tw-text-7xl tw-text-neutral-500"}),Dkt,o.item.attachement_image&&!w.value?((0,s.wg)(),(0,s.iD)("div",Skt,[(0,s._)("img",{class:"tw-w-full tw-h-full tw-object-contain",src:t.$backend(o.item.attachement_image.startsWith("/")?o.item.attachement_image.substring(1):o.item.attachement_image)},null,8,zkt)])):(0,s.kq)("",!0),w.value?((0,s.wg)(),(0,s.iD)("div",Ukt,[(0,s._)("img",{class:"tw-w-full tw-h-full tw-object-contain",src:w.value},null,8,qkt)])):(0,s.kq)("",!0),(0,s.kq)("",!0)])])]),(0,s._)("div",Pkt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),disabled:a.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,Lkt),(0,s._)("button",{disabled:a.value,onClick:n,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[a.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Akt],8,Wkt)])])])])),_:1},8,["visible","closeable"])])}}};const Ekt=$kt;var Tkt=Ekt,Fkt={components:{CommentFactorisation:Nxt,UpdateFactorisation:wyt,UpdateFees:qyt,TableActionsUploadImage:Tkt,FactorisationHistory:bkt},props:{item:{required:!0}},data(){return{CommentPopup:!1,HistoryPopup:!1,popup:!1,DeletePopup:!1,FeesPopup:!1,isLoading:!1,visible:!1,serverUrl:n}},computed:{},methods:{}};const jkt=(0,m.Z)(Fkt,[["render",Cxt]]);var Ikt=jkt;const Vkt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Okt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Hkt=["disabled"],Mkt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function Rkt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",Vkt,[(0,s._)("label",Okt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[0]||(e[0]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Hkt),[[a.e8,i.close]]),Mkt]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var Nkt={props:{item:{required:!0}},data(){return{isLoadingClose:!1}},computed:{close:{get(){return this.item.close},set(t){this.updateClose(t)}}},methods:{updateClose(t){this.isLoadingClose=!0,Ye.updateClose(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))}}};const Ykt=(0,m.Z)(Nkt,[["render",Rkt]]);var Zkt=Ykt;const Kkt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Bkt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Qkt=["disabled"],Jkt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function Gkt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",Kkt,[(0,s._)("label",Bkt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[0]||(e[0]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Qkt),[[a.e8,i.paid]]),Jkt]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var Xkt={props:{item:{required:!0}},data(){return{isLoadingPaid:!1}},computed:{paid:{get(){return this.item.paid},set(t){this.updatePaid(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Ye.updatePaid(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))}}};const tCt=(0,m.Z)(Xkt,[["render",Gkt]]);var eCt=tCt;const rCt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},aCt={class:"tw-text-gray-700"},sCt=["href"];function lCt(t,e,r,a,l,o){const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("h2",rCt,[(0,s._)("span",aCt,(0,wt.zw)(r.item.factorisation_id),1),(0,s._)("button",{class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-shadowx tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5",onClick:e[0]||(e[0]=t=>o.download(r.item.id))},[(0,s.Wm)(i,{icon:"ci:arrow-down-sm",class:"tw-text-xl"})]),r.item.close&&r.item.paid&!!r.item.attachement_image?((0,s.wg)(),(0,s.iD)("a",{key:0,target:"_blank",href:t.$backend(r.item.attachement_image.startsWith("/")?r.item.attachement_image.substring(1):r.item.attachement_image),class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-border-cyan-200 tw-shadowx tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5"},[(0,s.Wm)(i,{icon:"uim:image-v",class:"tw-text-xl tw-text-cyan-400"})],8,sCt)):(0,s.kq)("",!0)])}var oCt={props:{item:{required:!0}},methods:{download(t){const e=n+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const iCt=(0,m.Z)(oCt,[["render",lCt]]);var wCt=iCt;const nCt={class:"tw-px-4"},dCt=["disabled"],cCt={key:0,class:"tw-flex tw-items-center tw-gap-2"},uCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Not Specified",-1),pCt=[uCt],gCt={key:0,class:"tw-flex tw-items-center tw-gap-2"},mCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),hCt={key:1,class:"tw-flex tw-items-center tw-gap-2"},fCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),bCt={key:2,class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-shadow tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5"},vCt={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},xCt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},yCt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Switch payment method ",-1),_Ct={key:0,class:"tw-p-5 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5"},kCt=["onClick"],CCt={key:0,class:"tw-"},DCt={class:"tw-flex tw-items-center tw-gap-3"},SCt=(0,s._)("h1",{class:"tw-text-lg tw-font-bold"},"Bank Transfer",-1),zCt={key:1},UCt={class:"tw-flex tw-items-center tw-gap-3"},qCt=(0,s._)("h1",{class:"tw-text-lg tw-font-bold"},"Binance",-1),PCt={key:1,class:"tw-p-5 tw-text-center"},LCt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},WCt=["disabled"],ACt=["disabled"],$Ct=(0,s._)("span",null,"Save",-1);var ECt={__name:"WithdrawalMethodSeller",props:["factorisation","withdrawalMethods","isWithdrawalMethodsFetched"],emits:["update"],setup(t,{emit:e}){const r=(0,ke.iH)(!1),a=(0,ke.iH)(!1),l=e,o=t,i=(0,ke.iH)(null),w=(0,ke.Vh)(o,"factorisation"),n=(0,ke.Vh)(o,"withdrawalMethods"),d=(0,ke.Vh)(o,"isWithdrawalMethodsFetched");i.value=w.value.withdrawal_method_id;const c=async()=>{w.value.withdrawal_method_id!=i.value&&(r.value=!0,await Ye.updateMethod(w.value.id,i.value).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.factorisation;l("update",e),Tc("Withdrawal method has been updated"),a.value=!1}}),(t=>{Tc("NOT_ALLOWED"==t?.response?.data?.code?t?.response?.data?.message:"Something went wrong!","error")})),r.value=!1)},u=t=>{i.value=t.id};return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("router-link"),p=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",nCt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>w.value.paid?"":a.value=!a.value),disabled:w.value.paid,class:"tw-rounded tw-flex tw-justify-between tw-items-center tw-gap-2 tw-overflow-hidden"},[w.value.withdrawal_method?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["bank_transfer"==w.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",gCt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),mCt])):(0,s.kq)("",!0),"binance"==w.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",hCt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),fCt])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("div",cCt,pCt)),w.value.paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",bCt,[(0,s.Wm)(l,{icon:"uil:exchange",class:"tw-text-xl"})]))],8,dCt),(0,s.Wm)(p,{visible:a.value,closeable:!1,onCancel:e[2]||(e[2]=t=>a.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",vCt,[(0,s._)("div",xCt,[yCt,d.value&&n.value.length?((0,s.wg)(),(0,s.iD)("div",_Ct,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.value,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>u(t),key:t.id,class:(0,wt.C_)([i.value==t.id&&["!tw-border-orange-300 tw-ring tw-ring-orange-300"],"tw-border tw-flex tw-items-center tw-justify-center tw-border-solid tw-rounded tw-shadow tw-bg-white tw-p-5"])},["bank_transfer"==t.type?((0,s.wg)(),(0,s.iD)("div",CCt,[(0,s._)("div",DCt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-3xl tw-text-gray-600"}),SCt])])):(0,s.kq)("",!0),"binance"==t.type?((0,s.wg)(),(0,s.iD)("div",zCt,[(0,s._)("div",UCt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-3xl tw-text-[#F3BA2F]"}),qCt])])):(0,s.kq)("",!0)],10,kCt)))),128))])):((0,s.wg)(),(0,s.iD)("div",PCt,[(0,s._)("p",null,[(0,s.Uk)("You haven't added any withdrawal method yet. Click "),(0,s.Wm)(o,{to:{name:"settings.seller.withdrawal-methods"},class:"tw-text-orange-500 hover:tw-underline"},{default:(0,s.w5)((()=>[(0,s.Uk)("here")])),_:1}),(0,s.Uk)(" to add a withdrawal method and manage your funds")])])),(0,s._)("div",LCt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>a.value=!1),disabled:r.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,WCt),(0,s._)("button",{disabled:r.value,onClick:c,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),$Ct],8,ACt)])])])])),_:1},8,["visible"])])}}};const TCt=ECt;var FCt=TCt;const jCt={class:"tw-px-4 tw-mx-auto"},ICt={key:0,class:"tw-flex tw-items-center tw-gap-2"},VCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Not Specified",-1),OCt=[VCt],HCt={key:0,class:"tw-flex tw-items-center tw-gap-2"},MCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),RCt={key:1,class:"tw-flex tw-items-center tw-gap-2"},NCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),YCt={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},ZCt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},KCt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Withdrawal method details ",-1),BCt={key:0,class:"tw-p-5 tw-space-y-4"},QCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Bank Name",-1),JCt=["value"],GCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Account Holder Name",-1),XCt=["value"],tDt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"RIB",-1),eDt=["value"],rDt={key:1,class:"tw-p-5 tw-space-y-4"},aDt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Binance ID",-1),sDt=["value"],lDt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"};var oDt={__name:"WithdrawalMethodAdmin",props:["factorisation"],setup(t){const e=(0,ke.iH)(!1),r=t,a=(0,ke.Vh)(r,"factorisation");(0,s.f3)("withdrawal_methods"),(0,s.f3)("is_withdrawal_methods_fetched");return(t,r)=>{const l=(0,s.up)("icon"),o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",jCt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>e.value=!e.value),class:"tw-mx-auto tw-rounded tw-flex tw-justify-between tw-items-center tw-gap-2 tw-overflow-hidden tw-border tw-border-solid tw-p-2 tw-py-1 tw-duration-200 hover:tw-shadow-sm tw-shadow-black/10"},[a.value.withdrawal_method?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["bank_transfer"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",HCt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),MCt])):(0,s.kq)("",!0),"binance"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",RCt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),NCt])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("div",ICt,OCt))]),a.value.withdrawal_method?((0,s.wg)(),(0,s.j4)(o,{key:0,visible:e.value,closeable:!1,onCancel:r[2]||(r[2]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",YCt,[(0,s._)("div",ZCt,[KCt,"bank_transfer"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",BCt,[(0,s._)("div",null,[QCt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.bank_name,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,JCt)]),(0,s._)("div",null,[GCt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.account_holder_name,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,XCt)]),(0,s._)("div",null,[tDt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.rib,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,eDt)])])):(0,s.kq)("",!0),"binance"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",rDt,[(0,s._)("div",null,[aDt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.binance_id,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,sDt)])])):(0,s.kq)("",!0),(0,s._)("div",lDt,[(0,s._)("button",{onClick:r[1]||(r[1]=t=>e.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])):(0,s.kq)("",!0)])}}};const iDt=oDt;var wDt=iDt,nDt={components:{TableActions:Ikt,CloseFactorisation:Zkt,PaidFactorisation:eCt,PdfFactorisation:wCt,WithdrawalMethodSeller:FCt,WithdrawalMethodAdmin:wDt},props:{item:{required:!0},withdrawalMethods:{required:!0},isWithdrawalMethodsFetched:{required:!0}},data(){return{moment:ze(),currency:c}},computed:{},methods:{}};const dDt=(0,m.Z)(nDt,[["render",gxt]]);var cDt=dDt,uDt={components:{TablePaginationNoNums:qvt,TableRow:cDt},props:{items:{default:[]},withdrawalMethods:{required:!0},isWithdrawalMethodsFetched:{required:!0},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const pDt=(0,m.Z)(uDt,[["render",pvt]]);var gDt=pDt;const mDt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},hDt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},fDt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),bDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),vDt=[bDt],xDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),yDt=[xDt],_Dt=["disabled"],kDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),CDt=[kDt],DDt={class:"tw-relative"},SDt=["value"],zDt=(0,s._)("option",{value:5},"5",-1),UDt=(0,s._)("option",{value:10},"10",-1),qDt=(0,s._)("option",{value:20},"20",-1),PDt=(0,s._)("option",{value:50},"50",-1),LDt=(0,s._)("option",{value:100},"100",-1),WDt=(0,s._)("option",{value:250},"250",-1),ADt=(0,s._)("option",{value:500},"500",-1),$Dt=[zDt,UDt,qDt,PDt,LDt,WDt,ADt],EDt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),TDt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},FDt=["value"],jDt={class:"tw-overflow-hidden tw-col-span-1"},IDt=(0,s._)("div",{class:"tw-overflow-hidden tw-col-span-1"},null,-1),VDt=[IDt];function ODt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",mDt,[(0,s._)("div",hDt,[fDt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},vDt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},yDt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},CDt,8,_Dt),(0,s._)("div",DDt,[(0,s._)("select",{onChange:e[3]||(e[3]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},$Dt,40,SDt),EDt])]),(0,s._)("div",TDt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,FDt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",jDt,[(0,s.Wm)(w,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},VDt,2)):(0,s.kq)("",!0)])}const HDt={class:"tw-mb-4"},MDt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},RDt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},NDt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),YDt=(0,s._)("span",null,"Clear",-1),ZDt=[NDt,YDt],KDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),BDt=(0,s._)("span",null,"Filter",-1),QDt=[KDt,BDt];function JDt(t,e,r,a,l,o){const i=(0,s.up)("SellerFilter"),w=(0,s.up)("CloseFilter"),n=(0,s.up)("PaidFilter");return(0,s.wg)(),(0,s.iD)("div",HDt,[(0,s._)("div",MDt,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,filters:r.filters,onUpdate:e[0]||(e[0]=e=>t.$emit("update",e))},null,8,["filters"])):(0,s.kq)("",!0),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",RDt,[(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},ZDt),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},QDt)])])])}const GDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},XDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),tSt=["value"],eSt=(0,s._)("option",{value:"all"},"All",-1),rSt=["value"];function aSt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",GDt,[XDt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[eSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,rSt)))),128))],40,tSt)])}var sSt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const lSt=(0,m.Z)(sSt,[["render",aSt]]);var oSt=lSt;const iSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},wSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Close",-1),nSt=["value"],dSt=(0,s._)("option",{value:"all"},"All",-1),cSt=["value"];function uSt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",iSt,[wSt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,close:e.target.value})),value:r.filters.close,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[dSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.close,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,wt.zw)(t.title),9,cSt)))),128))],40,nSt)])}var pSt={props:{filters:{required:!0}},data(){return{close:[{id:1,title:"Close",value:1},{id:2,title:"Not Close",value:0}]}}};const gSt=(0,m.Z)(pSt,[["render",uSt]]);var mSt=gSt;const hSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Paid",-1),bSt=["value"],vSt=(0,s._)("option",{value:"all"},"All",-1),xSt=["value"];function ySt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",hSt,[fSt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,paid:e.target.value})),value:r.filters.paid,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[vSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.paid,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,wt.zw)(t.title),9,xSt)))),128))],40,bSt)])}var _St={props:{filters:{required:!0}},data(){return{paid:[{id:1,title:"Paid",value:1},{id:2,title:"Not Paid",value:0}]}}};const kSt=(0,m.Z)(_St,[["render",ySt]]);var CSt=kSt,DSt={components:{SellerFilter:oSt,CloseFilter:mSt,PaidFilter:CSt},props:{filters:{required:!0,default:{}}},data(){return{}}};const SSt=(0,m.Z)(DSt,[["render",JDt]]);var zSt=SSt,USt={components:{FiltersWrapper:zSt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value),console.log(t.target.value)}},data(){return{showFilters:!1,showStatistics:!1}}};const qSt=(0,m.Z)(USt,[["render",ODt]]);var PSt=qSt;class LSt{async all(){return await E.getCookie(),A.get("api/withdrawal-methods")}async update(t,e){return await E.getCookie(),A.post("api/withdrawal-methods/"+t,e)}async setup(t){return await E.getCookie(),A.post("api/withdrawal-methods/setup",t)}}var WSt=new LSt,ASt={components:{IndexTable:gDt,IndexFilters:PSt},data(){return{fetching:!0,create_popup:!1,items:[],withdrawal_methods:[],is_withdrawal_methods_fetched:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{user_id:"all",close:"all",paid:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Ye.paginate(t,e).then((({data:t})=>{const e=t.data.factorisation;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={user_id:"all",close:"all",paid:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){t&&(this.items=this.items.map((e=>e.id==t.id?t:e))),console.log("Item: ",t)},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},async getWithdrawalMethods(){return this.is_withdrawal_methods_fetched=!1,await WSt.all().then((t=>{"SUCCESS"==t.data.code&&(this.withdrawal_methods=t.data.withdrawal_methods,this.is_withdrawal_methods_fetched=!0,console.log(this.withdrawal_methods))}),(t=>{console.log(t)}))}},computed:{user(){return this.$store.getters["user/user"]}},provide(){return{withdrawal_methods:this.withdrawal_methods,is_withdrawal_methods_fetched:this.is_withdrawal_methods_fetched}},mounted(){this.paginateOrders(),"seller"==this.user.role&&this.getWithdrawalMethods()}};const $St=(0,m.Z)(ASt,[["render",Ebt]]);var ESt=$St,TSt={name:"factorisations",path:"/factorisations",component:Wa,meta:{module:"factorisation"},children:[{name:"factorisation/list",path:"",component:zbt,meta:{module:"factorisation",subModule:"factorisation/list",title:"Factorisations List",gate:"show_all_factorisations"}},{name:"factorisation/list",path:"",component:ESt,meta:{module:"factorisation",subModule:"factorisation/list",title:"New Factorisations List",gate:"show_all_factorisations"}}]};const FSt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},jSt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Google Sheets"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your google sheets")],-1),ISt=(0,s._)("span",{class:"text-white"}," Add Sheet ",-1),VSt={key:0},OSt={key:1,class:"py-5 px-5 tw-mb-5 tw-border bg-white tw-w-full tw-rounded-md"},HSt={class:"tw-flex tw-items-center tw-gap-2"},MSt=(0,s._)("h1",null,"Application's email",-1),RSt={class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-py-2 tw-px-2 tw-text-sm tw-mt-2 tw-text-gray-700"},NSt=(0,s._)("p",{class:"tw-mt-1 tw-text-xs tw-text-gray-400"}," Use this email to give access to Google Sheets ",-1),YSt={key:2,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ZSt={class:"mb-5 tw-flex"},KSt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},BSt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},QSt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},JSt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),GSt={class:"tw-relative"},XSt={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},tzt={class:""};function ezt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("SheetsTable"),c=(0,s.up)("AddSheet");return(0,s.wg)(),(0,s.iD)("div",{key:i.sheets.length},[(0,s._)("div",FSt,[jSt,(0,s._)("div",null,[t.$can("create_sheet")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),ISt])),_:1})):(0,s.kq)("",!0)])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",VSt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",OSt,[(0,s._)("div",HSt,[MSt,(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.copy&&i.copy(...t)),class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-w-[30px] tw-h-[30px] tw-text-gray-500 hover:tw-text-gray-700 tw-duration-300 tw-border-solid hover:tw-border-gray-400"},[(0,s.Wm)(ct.t,{class:"tw-text-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-content-copy")])),_:1})])]),(0,s._)("div",RSt,(0,wt.zw)(o.email),1),NSt])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",YSt,[(0,s._)("div",ZSt,[(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",KSt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",BSt,[(0,s._)("div",QSt,[JSt,(0,s._)("div",GSt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",XSt,[(0,s.Wm)(n,{filters:o.filters,onUpdate:i.updateFilters},null,8,["filters","onUpdate"])])):(0,s.kq)("",!0),(0,s._)("div",tzt,[(0,s.Wm)(d,{sheets:i.sheets},null,8,["sheets"])]),(0,s.Wm)(c,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const rzt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},azt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},szt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},lzt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),ozt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},izt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},wzt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},nzt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),dzt=["value"],czt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},uzt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},pzt={class:"tw-text-white"};function gzt(t,e,r,l,o,i){const w=(0,s.up)("SheetRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",rzt,[(0,s._)("table",azt,[(0,s._)("thead",szt,[(0,s._)("tr",null,[lzt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",ozt,(0,wt.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sheets,(t=>((0,s.wg)(),(0,s.j4)(w,{sheet:t,key:t.id},null,8,["sheet"])))),128))])])]),(0,s._)("div",izt,[(0,s._)("div",wzt,[nzt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,dzt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",czt,[(0,s._)("div",uzt,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.sheets.length:i.nextRange)+" of "+(0,wt.zw)(r.sheets.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",pzt,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const mzt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},hzt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),fzt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},bzt={class:"tw-px-6 tw-py-4"},vzt={class:"tw-px-6 tw-py-4"},xzt={class:"tw-px-6 tw-py-4"},yzt={class:"tw-px-6 tw-py-4"},_zt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},kzt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Czt=["disabled"],Dzt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Szt={class:"tw-px-6 tw-py-4"},zzt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function Uzt(t,e,r,l,o,i){const w=(0,s.up)("SheetActions");return(0,s.wg)(),(0,s.iD)("tr",mzt,[hzt,(0,s._)("th",fzt,(0,wt.zw)(r.sheet.id),1),(0,s._)("td",bzt,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)(["tw-inline-block tw-w-[8px] tw-h-[8px] tw-rounded-full tw-mr-1",[1==r.sheet.active&&1==r.sheet.auto_fetch?"tw-bg-emerald-500":"tw-bg-red-500"]])},null,2),(0,s.Uk)(" "+(0,wt.zw)(r.sheet.name),1)])]),(0,s._)("td",vzt,[(0,s._)("div",null,(0,wt.zw)(r.sheet.username),1)]),(0,s._)("td",xzt,[(0,s._)("div",null,(0,wt.zw)(r.sheet.sheet_name),1)]),(0,s._)("td",yzt,[(0,s._)("div",_zt,[(0,s._)("label",kzt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>i.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Czt),[[a.e8,i.autoFetch]]),Dzt]),o.isLoadingAuto?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",Szt,(0,wt.zw)(r.sheet.created_at.split("T")[0]),1),(0,s._)("td",zzt,[(0,s.Wm)(w,{sheet:r.sheet},null,8,["sheet"])])])}const qzt={key:0};function Pzt(t,e,r,a,l,o){const i=(0,s.up)("UpdateSheet"),w=(0,s.up)("SheetOrders"),n=(0,s.up)("popup");return r.sheet?((0,s.wg)(),(0,s.iD)("div",qzt,[t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:o.sync,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{class:(0,wt.C_)([l.isLoadingSheet&&"tw-animate-spin"]),color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1},8,["class"])])),_:1},8,["onClick"])):(0,s.kq)("",!0),t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_sheet")?((0,s.wg)(),(0,s.j4)(nt.T,{key:2,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{visible:l.showUpdatePopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showUpdatePopup=t),sheet:r.sheet,onCancel:e[3]||(e[3]=t=>l.showUpdatePopup=!1)},null,8,["visible","sheet"]),(0,s.Wm)(w,{visible:l.showSheetPopup,"onUpdate:visible":e[4]||(e[4]=t=>l.showSheetPopup=t),sheet:r.sheet,orders:l.orders,onCancel:e[5]||(e[5]=t=>l.showSheetPopup=!1)},null,8,["visible","sheet","orders"]),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this sale?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleDelete},null,8,["loading","visible","onResolved"])])):(0,s.kq)("",!0)}const Lzt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Wzt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),Azt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},$zt={class:"md:tw-col-span-6 tw-col-span-12"},Ezt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),Tzt={class:"md:tw-col-span-6 tw-col-span-12"},Fzt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),jzt={class:"md:tw-col-span-12 tw-col-span-12"},Izt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),Vzt={class:"md:tw-col-span-6 tw-col-span-12"},Ozt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),Hzt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Mzt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Rzt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Nzt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Yzt=(0,s._)("span",{class:"text-white"}," Save ",-1);function Zzt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Lzt,[Wzt,(0,s._)("div",Azt,[(0,s._)("div",$zt,[Ezt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.newSheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.name]])]),(0,s._)("div",Tzt,[Fzt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.newSheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_name]])]),(0,s._)("div",jzt,[Izt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.newSheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_id]])]),(0,s._)("div",Vzt,[Ozt,(0,s._)("label",Hzt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.newSheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.newSheet.auto_fetch]]),Mzt])])]),(0,s._)("div",Rzt,[(0,s.Wm)(nt.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Nzt])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Yzt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}class Kzt{async all(t){return await E.getCookie(),A.get("api/sheets",{params:t})}async create(t){await E.getCookie();const e={name:t.name,sheet_id:t.sheet_id,sheet_name:t.sheet_name,auto_fetch:t.auto_fetch};return A.post("api/sheets",e)}async update(t,e){await E.getCookie();const r={name:e.name,sheet_id:e.sheet_id,sheet_name:e.sheet_name,auto_fetch:e.auto_fetch};return A.post("api/sheets/"+t,r)}async delete(t){return await E.getCookie(),A["delete"]("api/sheets/"+t)}async updateAutoFetch(t,e){return await E.getCookie(),A.post("api/sheets/"+t+"/auto-fetch",{autoFetch:e})}async sync(t){return await E.getCookie(),A.get("api/sync/"+t)}async sync_all(){return await E.getCookie(),A.get("api/sync")}async auto(){return await E.getCookie(),A.post("api/sync")}async saveOrders(t){return await E.getCookie(),A.get("api/sync/"+t+"/save")}}var Bzt=new Kzt,Qzt={props:["visible","sheet"],data(){return{isLoading:!1,newSheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},watch:{visible(t){t&&(this.newSheet={...this.sheet,auto_fetch:1==this.sheet.auto_fetch})}},computed:{isFormValid(){return!!this.newSheet.name&&!!this.newSheet.sheet_id&&!!this.newSheet.sheet_name}},methods:{update(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.newSheet;Bzt.update(this.sheet.id,t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet updated successfully"}),this.$store.dispatch("sheet/update",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const Jzt=(0,m.Z)(Qzt,[["render",Zzt]]);var Gzt=Jzt;const Xzt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},tUt={key:0},eUt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},rUt=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-neutral-700"},"Sheet's New Orders",-1),aUt={class:"tw-bg-emerald-500 tw-text-white tw-px-1 tw-text-sm tw-rounded"},sUt={class:"tw-relative tw-overflow-x-auto"},lUt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-border tw-rounded"},oUt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50 tw-rounded-t tw-overflow-hidden"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Fullname"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"SKU"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Qty"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Price")])],-1),iUt={class:"tw-px-6 tw-py-2"},wUt={class:"tw-px-6 tw-py-2"},nUt={class:"tw-px-6 tw-py-2"},dUt={class:"tw-px-6 tw-py-2"},cUt={class:"tw-px-6 tw-py-2"},uUt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},pUt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),gUt=(0,s._)("span",{class:"text-white"}," Save Orders",-1);function mUt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[1]||(e[1]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Xzt,[r.orders.length>0?((0,s.wg)(),(0,s.iD)("div",tUt,[(0,s._)("div",eUt,[rUt,(0,s._)("div",aUt,(0,wt.zw)(r.orders.length),1)]),(0,s._)("div",null,[(0,s._)("div",sUt,[(0,s._)("table",lUt,[oUt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b"},[(0,s._)("td",iUt,(0,wt.zw)(t["Full name"]),1),(0,s._)("td",wUt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Product name"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},"- "+(0,wt.zw)(t),1)))),128))])]),(0,s._)("td",nUt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["SKU"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,wt.zw)(t),1)))),128))])]),(0,s._)("td",dUt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Total quantity"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,wt.zw)(t),1)))),128))])]),(0,s._)("td",cUt,(0,wt.zw)(t["Total charge"]),1)])))),128))])])])]),(0,s._)("div",uUt,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[pUt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.save,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[gUt])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])])}var hUt={props:["visible","sheet","orders"],data(){return{isLoading:!1}},computed:{sales(){return this.$store.getters["sale/sales"]}},methods:{save(){this.isLoading=!0,Bzt.saveOrders(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:t.data.data.orders.length+" Order has been added",type:"success"}),this.$store.dispatch("sale/setSales",[...t.data.data.orders,...this.sales]),this.$emit("cancel"))}),(t=>{this.$handleApiError(t),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this sheet",type:"warning"})})).finally((()=>{this.isLoading=!1}))}}};const fUt=(0,m.Z)(hUt,[["render",mUt]]);var bUt=fUt,vUt={props:["sheet"],name:"sheetActions",components:{UpdateSheet:Gzt,SheetOrders:bUt},data(){return{showPopup:!1,showUpdatePopup:!1,showSheetPopup:!1,isLoading:!1,isLoadingSheet:!1,orders:[]}},computed:{},methods:{handleDelete(t){if(console.log(t),!t)return this.showPopup=!1,!1;this.delete()},delete(){this.isLoading=!0,Bzt["delete"](this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:"Deleted successfully",type:"success"}),this.$store.dispatch("sheet/delete",this.sheet.id),this.showPopup=!1)}),this.$handleApiError).finally((()=>{this.isLoading=!1}))},sync(){this.isLoadingSheet=!0,Bzt.sync(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(0==t.data.data.orders.length?this.$alert({title:"0 Orders found",type:"info"}):(this.orders=t.data.data.orders,this.showSheetPopup=!0),console.log(t.data.data.sheet),this.$store.dispatch("sheet/update",t.data.data.sheet)),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log(t),this.$store.dispatch("sheet/update",t.response.data.data.sheet),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this Google Sheet",type:"error"})})).finally((()=>{this.isLoadingSheet=!1}))}},mounted(){}};const xUt=(0,m.Z)(vUt,[["render",Pzt]]);var yUt=xUt,_Ut={props:["sheet"],components:{SheetActions:yUt},data(){return{isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.sheet.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,Bzt.updateAutoFetch(this.sheet.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("sheet/update",e.data.data.sheet))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const kUt=(0,m.Z)(_Ut,[["render",Uzt]]);var CUt=kUt,DUt={props:["sheets"],components:{SheetRow:CUt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,columns:["id","name","username","sheet name","auto fetch","created","actions"]}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sheets.length/this.paginationLimit)},items(){return this.sheets.slice(this.prevRange,this.nextRange)}},methods:{}};const SUt=(0,m.Z)(DUt,[["render",gzt]]);var zUt=SUt;const UUt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},qUt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),PUt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},LUt={class:"md:tw-col-span-6 tw-col-span-12"},WUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),AUt={class:"md:tw-col-span-6 tw-col-span-12"},$Ut=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),EUt={class:"md:tw-col-span-12 tw-col-span-12"},TUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),FUt={class:"md:tw-col-span-6 tw-col-span-12"},jUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),IUt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},VUt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),OUt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},HUt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),MUt=(0,s._)("span",{class:"text-white"}," Save ",-1);function RUt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",UUt,[qUt,(0,s._)("div",PUt,[(0,s._)("div",LUt,[WUt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.name]])]),(0,s._)("div",AUt,[$Ut,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_name]])]),(0,s._)("div",EUt,[TUt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.sheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_id]])]),(0,s._)("div",FUt,[jUt,(0,s._)("label",IUt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.sheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sheet.auto_fetch]]),VUt])])]),(0,s._)("div",OUt,[(0,s.Wm)(nt.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[HUt])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[MUt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var NUt={props:["visible"],data(){return{isLoading:!1,sheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},computed:{isFormValid(){return!!this.sheet.name&&!!this.sheet.sheet_id&&!!this.sheet.sheet_name}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.sheet;Bzt.create(t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet created successfully"}),this.$store.dispatch("sheet/addSheet",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const YUt=(0,m.Z)(NUt,[["render",RUt]]);var ZUt=YUt;const KUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},BUt=(0,s._)("label",{for:"seller",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),QUt=["value"],JUt=(0,s._)("option",{value:"all"},"All",-1),GUt=["value"];function XUt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",KUt,[BUt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[JUt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,GUt)))),128))],40,QUt)])}var tqt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const eqt=(0,m.Z)(tqt,[["render",XUt]]);var rqt=eqt,aqt={components:{SheetsTable:zUt,AddSheet:ZUt,SellerFilter:rqt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,email:"new-service-account@testing-379416.iam.gserviceaccount.com",filters:{user_id:"all"}}},computed:{sheets(){return this.$store.getters["sheet/sheets"]},user(){return this.$store.getters["user/user"]}},methods:{updateFilters(t){this.filters=t,this.getSheets()},getSheets(){return this.isLoaded=!1,Bzt.all(this.filters).then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("sheet/setSheets",t.data.data.sheets),t)),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},copy(){navigator.clipboard.writeText(this.email),this.$alert({title:"Email Copied !",type:"success"})}},mounted(){this.getSheets()}};const sqt=(0,m.Z)(aqt,[["render",ezt]]);var lqt=sqt,oqt={name:"sheets",path:"/sheets",component:Wa,meta:{module:"sheet"},children:[{name:"sheet/list",path:"",component:lqt,meta:{module:"sheet",subModule:"sheet/list",title:"Google Sheets List",gate:"show_all_sheets"}}]};const iqt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},wqt={class:"tw-px-3"},nqt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},dqt={class:"tw-flex tw-items-center tw-gap-x-3"},cqt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),uqt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},pqt=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),gqt=[pqt],mqt={key:0};function hqt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",iqt,[(0,s._)("section",wqt,[(0,s._)("div",nqt,[(0,s._)("div",null,[(0,s._)("div",dqt,[cqt,(0,s._)("span",uqt,(0,wt.zw)(l.totalOrders)+" order",1)])]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},gqt)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",mqt,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class fqt{async create(t){return await E.getCookie(),A.post("api/ads/new",t)}async update(t,e){return await E.getCookie(),A.post("api/ads/update/"+t,e)}async delete(t){return await E.getCookie(),A["delete"]("api/ads/delete/"+t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/ads"+t,e)}}var bqt=new fqt;const vqt={class:"tw-flex tw-flex-col"},xqt={class:"tw-overflow-x-auto"},yqt={class:"tw-inline-block tw-min-w-full tw-align-middle"},_qt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},kqt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Cqt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},Dqt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Sqt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},zqt=(0,s._)("span",null,"Created",-1),Uqt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),qqt=[zqt,Uqt],Pqt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Lqt=(0,s._)("span",null,"Ads For",-1),Wqt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Aqt=[Lqt,Wqt],$qt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Marketer ",-1),Eqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),Tqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),Fqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Leads ",-1),jqt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),Iqt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),Vqt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Oqt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Hqt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),Mqt=[Hqt],Rqt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Nqt={colspan:"8"},Yqt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Zqt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Kqt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Bqt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Qqt=[Kqt,Bqt],Jqt={class:"tw-mt-6"};function Gqt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vqt,[(0,s._)("div",xqt,[(0,s._)("div",yqt,[(0,s._)("div",_qt,[(0,s._)("table",kqt,[(0,s._)("thead",Cqt,[(0,s._)("tr",null,[Dqt,(0,s._)("th",Sqt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},qqt)]),(0,s._)("th",Pqt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Aqt)]),$qt,Eqt,Tqt,Fqt,jqt,Iqt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Vqt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Oqt,Mqt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Rqt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Nqt,[(0,s._)("div",Yqt,[Zqt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Qqt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Jqt,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Xqt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},tPt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},ePt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},rPt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},aPt=["disabled"],sPt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),lPt=(0,s._)("span",null," previous ",-1),oPt=[sPt,lPt],iPt=["disabled"],wPt=(0,s._)("span",null," Next ",-1),nPt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),dPt=[wPt,nPt];function cPt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Xqt,[(0,s._)("div",tPt,[(0,s.Uk)(" Page "),(0,s._)("span",ePt,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",rPt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},oPt,10,aPt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},dPt,10,iPt)])])])}var uPt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const pPt=(0,m.Z)(uPt,[["render",cPt]]);var gPt=pPt;const mPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},hPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},fPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},vPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},xPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},yPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_Pt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},kPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},CPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},DPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},SPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},zPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},UPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},qPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},PPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},LPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function WPt(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",mPt,[(0,s._)("div",null,[(0,s._)("h2",hPt,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",fPt,[(0,s._)("div",null,[(0,s._)("h2",bPt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",vPt,[(0,s._)("div",null,[(0,s._)("h2",xPt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",yPt,[(0,s._)("div",null,[(0,s._)("h2",_Pt,(0,wt.zw)(r.item.marketers.firstname)+" "+(0,wt.zw)(r.item.marketers.lastname),1)])]),(0,s._)("td",kPt,[(0,s._)("div",null,[(0,s._)("h2",CPt,(0,wt.zw)(r.item.source),1)])]),(0,s._)("td",DPt,[(0,s._)("div",null,[(0,s._)("h2",SPt,(0,wt.zw)(r.item.amount),1)])]),(0,s._)("td",zPt,[(0,s._)("div",null,[(0,s._)("h2",UPt,(0,wt.zw)(r.item.leads),1)])]),(0,s._)("td",qPt,[(0,s._)("div",null,[(0,s._)("h2",PPt,(0,wt.zw)(r.item.products.name),1)])]),(0,s._)("td",LPt,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const APt={class:"tw-h-full"},$Pt={class:"tw-flex tw-items-center tw-gap-2"},EPt={key:0};function TPt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",APt,[(0,s._)("div",$Pt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",EPt,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const FPt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},jPt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),IPt={class:"tw-bg-white tw-p-4"},VPt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},OPt={class:"tw-col-span-2 md:tw-col-span-1"},HPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),MPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},RPt={class:"tw-col-span-2 md:tw-col-span-1"},NPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),YPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ZPt={class:"tw-col-span-2 md:tw-col-span-1"},KPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),BPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},QPt={class:"tw-col-span-2 md:tw-col-span-1"},JPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),GPt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),XPt=["value"],tLt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},eLt={class:"tw-col-span-2 md:tw-col-span-1"},rLt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),aLt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),sLt=["value"],lLt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},oLt={class:"md:tw-col-span-1 tw-col-span-2"},iLt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),wLt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},nLt={class:"tw-col-span-2"},dLt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),cLt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},uLt=["disabled"],pLt=(0,s._)("span",null,"Update",-1);function gLt(t,e,r,l,o,i){const w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",FPt,[jPt,(0,s._)("div",IPt,[(0,s._)("div",VPt,[(0,s._)("div",OPt,[HPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.source=t),onInput:e[1]||(e[1]=t=>o.errors.source=null),type:"text",class:(0,wt.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",MPt,(0,wt.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",RPt,[NPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,wt.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",YPt,(0,wt.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",ZPt,[KPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,wt.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",BPt,(0,wt.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",QPt,[JPt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>o.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>o.items.product_id=t),class:(0,wt.C_)([[o.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[GPt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,XPt)))),128))],34),[[a.bM,o.items.product_id]]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",tLt,(0,wt.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",eLt,[rLt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.marketer_id=t),class:(0,wt.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[aLt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,sLt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",lLt,(0,wt.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",oLt,[iLt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.items.ads_at=t),onInput:e[11]||(e[11]=t=>o.errors.ads_at=null),class:(0,wt.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",wLt,(0,wt.zw)(o.errors.ads_at),1)]),(0,s._)("div",nLt,[dLt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",cLt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),pLt],8,uLt)])])])),_:1},8,["visible","onCancel"])])}const mLt=(t,e)=>e.source?!e.product_id||parseInt(e.product_id)<=0?(t.errors.product_id="Product is required",!1):!e.amount||parseInt(e.amount)<=0?(t.errors.amount="Amount is required",!1):!!e.ads_at||(t.errors.ads_at="Add Ads Date !",!1):(t.errors.source="Source Name is required",!1),hLt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},fLt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},bLt=(t,e)=>{t.isLoading=!0,t.errors={},bqt.update(e.id,e).then((e=>hLt(t,e.data))).catch((e=>fLt(t,e.response.data))).finally((()=>t.isLoading=!1))};var vLt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,source:null,amount:null,ads_at:null}}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=mLt(this,this.items);if(!t)return!1;bLt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts(),this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const xLt=(0,m.Z)(vLt,[["render",gLt]]);var yLt=xLt,_Lt={components:{UpdatePopup:yLt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const kLt=(0,m.Z)(_Lt,[["render",TPt]]);var CLt=kLt,DLt={components:{TableActions:CLt},props:{item:{required:!0}},data(){return{moment:ze()}},computed:{},methods:{}};const SLt=(0,m.Z)(DLt,[["render",WPt]]);var zLt=SLt,ULt={components:{TablePaginationNoNums:gPt,TableRow:zLt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const qLt=(0,m.Z)(ULt,[["render",Gqt]]);var PLt=qLt;const LLt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},WLt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},ALt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),$Lt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),ELt=[$Lt],TLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),FLt=[TLt],jLt=["disabled"],ILt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),VLt=[ILt],OLt={class:"tw-relative"},HLt=["value"],MLt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),RLt=[MLt],NLt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),YLt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},ZLt=["value"],KLt={class:"tw-overflow-hidden tw-col-span-1"},BLt={class:"tw-overflow-hidden tw-col-span-1"};function QLt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",LLt,[(0,s._)("div",WLt,[ALt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},ELt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},FLt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},VLt,8,jLt),(0,s._)("div",OLt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},RLt,40,HLt),NLt])]),(0,s._)("div",YLt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,ZLt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",KLt,[(0,s.Wm)(w,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",BLt,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const JLt={class:"tw-mb-4"},GLt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},XLt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},tWt={class:"tw-flex tw-items-center tw-justify-between"},eWt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},rWt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function aWt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",JLt,[(0,s._)("div",GLt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",XLt,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",tWt,[(0,s._)("span",eWt,(0,wt.zw)(t.total),1),(0,s._)("span",rWt,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var sWt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Vn.find((e=>e.value==t))}}};const lWt=(0,m.Z)(sWt,[["render",aWt]]);var oWt=lWt;const iWt={class:"tw-mb-4"},wWt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},nWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),cWt=["value"],uWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),gWt=["value"],mWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads From",-1),fWt=["value"],bWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads To",-1),xWt=["value"],yWt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},_Wt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),kWt=(0,s._)("span",null,"Clear",-1),CWt=[_Wt,kWt],DWt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),SWt=(0,s._)("span",null,"Filter",-1),zWt=[DWt,SWt];function UWt(t,e,r,a,l,o){const i=(0,s.up)("MarketerFilter"),w=(0,s.up)("ProductFilter"),n=(0,s.up)("SourceFilter");return(0,s.wg)(),(0,s.iD)("div",iWt,[(0,s._)("div",wWt,[(0,s._)("div",nWt,[dWt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,cWt)]),(0,s._)("div",uWt,[pWt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,gWt)]),(0,s._)("div",mWt,[hWt,(0,s._)("input",{value:r.filters.ads_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,ads_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,fWt)]),(0,s._)("div",bWt,[vWt,(0,s._)("input",{value:r.filters.ads_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,ads_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,xWt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",yWt,[(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},CWt),(0,s._)("button",{onClick:e[8]||(e[8]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},zWt)])])])}const qWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},PWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),LWt=["value"],WWt=(0,s._)("option",{value:"all"},"All",-1),AWt=["value"];function $Wt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",qWt,[PWt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[WWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,AWt)))),128))],40,LWt)])}var EWt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const TWt=(0,m.Z)(EWt,[["render",$Wt]]);var FWt=TWt;const jWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},IWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function VWt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",jWt,[IWt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var OWt={components:{"vue-select":oZ.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const HWt=(0,m.Z)(OWt,[["render",VWt]]);var MWt=HWt;const RWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},NWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Source",-1),YWt=["value"],ZWt=(0,s._)("option",{value:"all"},"All",-1),KWt=["value"];function BWt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",RWt,[NWt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,source:e.target.value})),value:r.filters.source,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[ZWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t,class:"tw-capitalize"},(0,wt.zw)(t),9,KWt)))),128))],40,YWt)])}var QWt={props:{filters:{required:!0}},data(){return{sources:["facebook","instagram","tiktok"]}}};const JWt=(0,m.Z)(QWt,[["render",BWt]]);var GWt=JWt,XWt={components:{MarketerFilter:FWt,ProductFilter:MWt,SourceFilter:GWt},props:{filters:{required:!0,default:{}}},data(){return{}}};const tAt=(0,m.Z)(XWt,[["render",UWt]]);var eAt=tAt,rAt={components:{IndexStatistics:oWt,FiltersWrapper:eAt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const aAt=(0,m.Z)(rAt,[["render",QLt]]);var sAt=aAt;const lAt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},oAt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),iAt={class:"tw-bg-white tw-p-4"},wAt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},nAt={class:"tw-col-span-2 md:tw-col-span-1"},dAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),cAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},uAt={class:"tw-col-span-2 md:tw-col-span-1"},pAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),gAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mAt={class:"tw-col-span-2 md:tw-col-span-1"},hAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),fAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bAt={class:"tw-col-span-2 md:tw-col-span-1"},vAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),xAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},yAt={class:"tw-col-span-2 md:tw-col-span-1"},_At=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),kAt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),CAt=["value"],DAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},SAt={class:"md:tw-col-span-1 tw-col-span-2"},zAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),UAt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qAt={class:"tw-col-span-2"},PAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),LAt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},WAt=["disabled"],AAt=(0,s._)("span",null,"Create",-1);function $At(t,e,r,l,o,i){const w=(0,s.up)("vue-select"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",lAt,[oAt,(0,s._)("div",iAt,[(0,s._)("div",wAt,[(0,s._)("div",nAt,[dAt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.source=t),onInput:e[1]||(e[1]=t=>o.errors.source=null),type:"text",class:(0,wt.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",cAt,(0,wt.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",uAt,[pAt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,wt.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",gAt,(0,wt.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",mAt,[hAt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,wt.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",fAt,(0,wt.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",bAt,[vAt,(0,s.Wm)(w,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[6]||(e[6]=t=>{o.items.product_id=t.id,o.errors.product_id=null}),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"Choose Product","v-model":i.product,options:i.allProducts,label:"name"},null,8,["reduce","v-model","options"]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",xAt,(0,wt.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",yAt,[_At,(0,s.wy)((0,s._)("select",{onChange:e[7]||(e[7]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[8]||(e[8]=t=>o.items.marketer_id=t),class:(0,wt.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[kAt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,CAt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",DAt,(0,wt.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",SAt,[zAt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.ads_at=t),onInput:e[10]||(e[10]=t=>o.errors.ads_at=null),class:(0,wt.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",UAt,(0,wt.zw)(o.errors.ads_at),1)]),(0,s._)("div",qAt,[PAt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.items.note=t),onInput:e[12]||(e[12]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",LAt,[(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),AAt],8,WAt)])])])),_:1},8,["visible","onCancel"])])}const EAt=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},TAt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},FAt=(t,e)=>{t.isLoading=!0,t.errors={},bqt.create(e).then((e=>EAt(t,e.data))).catch((e=>TAt(t,e.response.data))).finally((()=>t.isLoading=!1))};var jAt={components:{"vue-select":oZ.Z},props:{visible:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,marketer_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,marketer_id:null,source:null,leads:null,amount:null,ads_at:null}}},computed:{cities(){return this.$store.getters["city/cities"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]},product(){return this.$store.getters["product/products"]},allProducts(){return[...this.product]}},methods:{Test(){console.log("check")},handleCreate(){const t=mLt(this,this.items);if(!t)return!1;FAt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){console.log(this.marketers),this.getProducts()}};const IAt=(0,m.Z)(jAt,[["render",$At]]);var VAt=IAt,OAt={components:{IndexTable:PLt,IndexFilters:sAt,CreatePopup:VAt},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,bqt.paginate(t,e).then((({data:t})=>{const e=t.data.ads;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const HAt=(0,m.Z)(OAt,[["render",hqt]]);var MAt=HAt,RAt={name:"ads",path:"/ads",component:Wa,meta:{module:"ads"},children:[{name:"ads/list",path:"",component:MAt,meta:{module:"ads",subModule:"ads/list",title:"Ads List",gate:"show_all_ads"}}]};const NAt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},YAt={class:"tw-px-3"},ZAt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},KAt={class:"tw-flex tw-items-center tw-gap-x-3"},BAt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),QAt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},JAt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"These orders have needs to reconfirmed.",-1),GAt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"};function XAt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=((0,s.up)("BulkActions"),(0,s.up)("IndexTable"));return(0,s.wg)(),(0,s.iD)("div",NAt,[(0,s._)("section",YAt,[(0,s._)("div",ZAt,[(0,s._)("div",null,[(0,s._)("div",KAt,[BAt,(0,s._)("span",QAt,(0,wt.zw)(l.totalOrders)+" order",1)]),JAt]),(0,s._)("div",GAt,[(0,s.kq)("",!0)])]),(0,s.Wm)(i,{"search-by-field":l.searchByField,"onUpdate:searchByField":e[0]||(e[0]=t=>l.searchByField=t),search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":"","per-page":l.per_page},null,8,["search-by-field","search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s.kq)("",!0)],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}class t$t{async statistics(t){return await E.getCookie(),A.post("api/v1/seller/statistics",t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/seller/orders"+t,e)}async update(t,e){return await E.getCookie(),A.post("api/v1/seller/orders/"+t+"/update",e)}async export(t={}){return await E.getCookie(),A.post("api/v1/seller/orders/export",t)}}var e$t=new t$t;const r$t={class:"tw-flex tw-flex-col"},a$t={class:"tw-overflow-x-auto"},s$t={class:"tw-inline-block tw-min-w-full tw-align-middle"},l$t={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},o$t={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},i$t={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},w$t={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},n$t={class:"tw-max-w-[25px]"},d$t={class:"tw-inline-flex tw-items-center"},c$t={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},u$t=["checked"],p$t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),g$t=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),m$t={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},h$t=(0,s._)("span",null,"Created",-1),f$t=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),b$t=[h$t,f$t],v$t=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),x$t=(0,s._)("th",{scope:"col",class:"tw-px-6 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),y$t=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),_$t=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),k$t=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),C$t=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),D$t={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},S$t={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},z$t=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),U$t=[z$t],q$t={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},P$t={colspan:"9"},L$t={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},W$t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),A$t=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),$$t=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),E$t=[A$t,$$t],T$t={class:"tw-mt-6"};function F$t(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",r$t,[(0,s._)("div",a$t,[(0,s._)("div",s$t,[(0,s._)("div",l$t,[(0,s._)("table",o$t,[(0,s._)("thead",i$t,[(0,s._)("tr",null,[(0,s._)("th",w$t,[(0,s._)("div",n$t,[(0,s._)("div",d$t,[(0,s._)("label",c$t,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,u$t),p$t])])])]),g$t,(0,s._)("th",m$t,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},b$t)]),v$t,x$t,y$t,_$t,k$t,C$t])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",D$t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["selected","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",S$t,U$t)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",q$t,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",P$t,[(0,s._)("div",L$t,[W$t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},E$t)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",T$t,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const j$t={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},I$t={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},V$t={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},O$t={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},H$t=["disabled"],M$t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),R$t=(0,s._)("span",null," previous ",-1),N$t=[M$t,R$t],Y$t=["disabled"],Z$t=(0,s._)("span",null," Next ",-1),K$t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),B$t=[Z$t,K$t];function Q$t(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",j$t,[(0,s._)("div",I$t,[(0,s.Uk)(" Page "),(0,s._)("span",V$t,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",O$t,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},N$t,10,H$t),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},B$t,10,Y$t)])])])}var J$t={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const G$t=(0,m.Z)(J$t,[["render",Q$t]]);var X$t=G$t;const tEt={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},eEt={class:"tw-max-w-[25px]"},rEt={class:"tw-inline-flex tw-items-center"},aEt={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},sEt=["checked","id"],lEt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),oEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},iEt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},wEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nEt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},dEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cEt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},uEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},pEt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},gEt={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},mEt={class:"tw-space-y-1"},hEt={class:"tw-font-bold tw-text-green-500"},fEt={class:"tw-block tw-max-w-[150px] tw-truncate"},bEt={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},vEt={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},xEt={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},yEt={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_Et={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function kEt(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",tEt,[(0,s._)("div",eEt,[(0,s._)("div",rEt,[(0,s._)("label",aEt,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,sEt),lEt])])])]),(0,s._)("td",oEt,[(0,s._)("div",null,[(0,s._)("h2",iEt,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",wEt,[(0,s._)("div",null,[(0,s._)("h2",nEt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",dEt,[(0,s._)("div",null,[(0,s._)("h2",cEt,(0,wt.zw)(r.item.fullname),1)])]),(0,s._)("td",uEt,[(0,s._)("div",null,[(0,s._)("h2",pEt,(0,wt.zw)(r.item.phone),1)])]),(0,s._)("td",gEt,[(0,s._)("div",null,[(0,s._)("ul",mEt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",hEt,(0,wt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",fEt,(0,wt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",bEt,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",vEt,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",xEt,[(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3)]),(0,s._)("td",yEt,[(0,s._)("span",{class:(0,wt.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)]),(0,s._)("td",_Et,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const CEt={class:"tw-h-full"},DEt={class:"tw-flex tw-items-center tw-gap-2"},SEt={key:0},zEt={key:1};function UEt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),w=(0,s.up)("HistoryPopup");return(0,s.wg)(),(0,s.iD)("div",CEt,[(0,s._)("div",DEt,[(0,s.kq)("",!0),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",SEt,[(0,s.Wm)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[3]||(e[3]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",zEt,[(0,s.Wm)(w,{visible:l.history,"onUpdate:visible":e[4]||(e[4]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const qEt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},PEt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),LEt={class:"tw-bg-white tw-p-4"},WEt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},AEt={class:"tw-col-span-2 md:tw-col-span-1"},$Et=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),EEt=["readonly"],TEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},FEt={class:"tw-col-span-2 md:tw-col-span-1"},jEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),IEt=["readonly"],VEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},OEt={class:"tw-col-span-2 md:tw-col-span-1"},HEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),MEt={class:"tw-relative"},REt=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),NEt=["value"],YEt=["value"],ZEt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),KEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},BEt={class:"tw-col-span-2 md:tw-col-span-1"},QEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),JEt=["readonly"],GEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},XEt={key:3,class:"tw-col-span-2"},tTt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),eTt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rTt={class:"tw-col-span-2"},aTt={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},sTt={key:0,class:"tw-text-red-400 tw-text-xs"},lTt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},oTt=["disabled"],iTt=(0,s._)("span",null,"Update",-1);function wTt(t,e,r,l,o,i){(0,s.up)("OrderAffectation");const w=(0,s.up)("OrderItems"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",qEt,[PEt,(0,s._)("div",LEt,[(0,s._)("div",WEt,[(0,s._)("div",AEt,[$Et,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,42,EEt),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",TEt,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",FEt,[jEt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,42,IEt),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",VEt,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",OEt,[HEt,(0,s._)("div",MEt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),readonly:"",onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[REt,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,NEt),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,YEt)))),128))],34),[[a.bM,o.itemCopy.city]]),ZEt]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",KEt,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",BEt,[QEt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,42,JEt),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",GEt,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s.kq)("",!0),(o.itemCopy.confirmation,(0,s.kq)("",!0)),(o.itemCopy.confirmation,(0,s.kq)("",!0)),["change","refund"].includes(o.itemCopy.confirmation)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",XEt,[tTt,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",eTt,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)])),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",rTt,[(0,s._)("label",aTt,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",sTt," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",lTt,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),o.itemCopy.affectation||o.itemCopy.confirmation?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),iTt],8,oTt))])])])),_:1},8,["visible","onCancel"])])}const nTt=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!dTt(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),dTt=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},cTt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},uTt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},pTt=(t,e)=>{t.isLoading=!0,t.errors={},ki.update(e.id,e).then((e=>cTt(t,e.data))).catch((e=>uTt(t,e.response.data))).finally((()=>t.isLoading=!1))},gTt={key:0,class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},mTt={key:1,class:"md:tw-col-span-12 tw-col-span-12"},hTt={class:"tw-max-w-full tw-overflow-auto"},fTt={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},bTt={class:"tw-bg-gray-50"},vTt={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},xTt={key:0},yTt=(0,s._)("td",{colspan:"3"},null,-1),_Tt=(0,s._)("td",null,[(0,s._)("div",{class:"tw-p-2"},[(0,s._)("p",null,"Total: ")])],-1),kTt={colspan:"2",class:"tw-p-2"},CTt={class:"tw-p-2 tw-py-1 tw-text-sm tw-text-green-500 tw-w-24 tw-font-medium tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},DTt={colspan:"6"},STt={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},zTt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),UTt=(0,s._)("span",null,"Add Item",-1),qTt=[zTt,UTt],PTt={key:1},LTt={colspan:"6"},WTt={class:"tw-scale-75 tw-p-5"};function ATt(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",gTt," No Order items ")),r.items.length?((0,s.wg)(),(0,s.iD)("div",mTt,[(0,s._)("div",hTt,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",fTt,[(0,s._)("tr",bTt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",vTt,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",xTt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,order:r.order,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["order","item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[yTt,_Tt,(0,s._)("td",kTt,[(0,s._)("div",CTt,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])]),(0,s._)("tr",null,[(0,s._)("td",DTt,[(0,s._)("div",STt,[r.order.affectation||r.order.confirmation?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},qTt))])])])])):((0,s.wg)(),(0,s.iD)("tbody",PTt,[(0,s._)("tr",null,[(0,s._)("td",LTt,[(0,s._)("div",WTt,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const $Tt=(0,s._)("td",null,null,-1),ETt={class:"tw-p-2"},TTt={class:"tw-relative"},FTt=["readonly","value"],jTt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),ITt=["value"],VTt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),OTt={class:"tw-p-2"},HTt={key:0,class:"tw-relative"},MTt=["readonly","value"],RTt=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),NTt=["value"],YTt={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},ZTt=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),KTt=[ZTt],BTt={class:"tw-p-2"},QTt=["value","readonly"],JTt={class:"tw-p-2"},GTt=["value","readonly"],XTt={class:"tw-flex tw-justify-center"};function tFt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[$Tt,(0,s._)("td",null,[(0,s._)("div",ETt,[(0,s._)("div",TTt,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),readonly:r.order.affectation||r.order.confirmation,value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[jTt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,ITt)))),128))],40,FTt),VTt])])]),(0,s._)("td",null,[(0,s._)("div",OTt,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",HTt,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,readonly:r.order.affectation||r.order.confirmation,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[RTt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,NTt)))),128))],40,MTt)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",YTt,KTt)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",BTt,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,readonly:r.order.affectation||r.order.confirmation,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,QTt)])]),(0,s._)("td",null,[(0,s._)("div",JTt,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,readonly:r.order.affectation||r.order.confirmation,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,GTt)])]),(0,s._)("td",null,[(0,s._)("div",XTt,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var eFt={props:{item:{required:!0},products:{required:!0},order:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const rFt=(0,m.Z)(eFt,[["render",tFt]]);var aFt=rFt,sFt={components:{ItemRow:aFt},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0,default:!1},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1]:1,e=t?t.id+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const lFt=(0,m.Z)(sFt,[["render",ATt]]);var oFt=lFt;const iFt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),wFt={key:0,class:"tw-relative"},nFt=["value","disabled"],dFt=(0,s._)("option",{value:""},"Choose a Delivery",-1),cFt=["value"],uFt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),pFt={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gFt={key:2,class:"tw-relative"},mFt={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},hFt=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),fFt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function bFt(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[iFt,l.fetched?((0,s.wg)(),(0,s.iD)("div",wFt,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,wt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[dFt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,cFt)))),128))],42,nFt),uFt])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",pFt,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",gFt,[(0,s._)("div",mFt,[(0,s.Wm)(i)]),hFt,fFt]))])}var vFt={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const xFt=(0,m.Z)(vFt,[["render",bFt]]);var yFt=xFt,_Ft={components:{OrderItems:oFt,OrderAffectation:yFt},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:jn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=nTt(this,this.itemCopy);if(!t)return!1;this.itemCopy.note=this.item.note,pTt(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const kFt=(0,m.Z)(_Ft,[["render",wTt]]);var CFt=kFt;const DFt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},SFt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),zFt={class:"tw-bg-white tw-p-4"},UFt={key:0},qFt={key:1,class:"tw-p-5"},PFt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},LFt={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},WFt=(0,s._)("div",{class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},null,-1),AFt={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},$Ft={class:"d-flextw-flex-col justify-space-between flex-grow-1"},EFt={class:"tw-flex tw-flex-col tw-my-2"},TFt=(0,s._)("div",null,"New Order Created",-1),FFt={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},jFt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function IFt(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",DFt,[SFt,(0,s._)("div",zFt,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",UFt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",qFt,[(0,s.Wm)($E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(EE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",PFt,[(0,s._)("div",LFt,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(!t.historique&&["delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),WFt,(0,s._)("div",AFt,[(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(EE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",$Ft,[(0,s._)("div",EFt,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),TFt]),(0,s._)("div",FFt,[(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",jFt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var VFt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){const t=[...this.allEvents].reverse();return t.filter((t=>"affectation"!==t.type&&"responsibility"!==t.type))}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ba.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple"};return["confirmation","delivery","upsell"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const OFt=(0,m.Z)(VFt,[["render",IFt]]);var HFt=OFt,MFt={components:{UpdatePopup:CFt,HistoryPopup:HFt},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const RFt=(0,m.Z)(MFt,[["render",UEt]]);var NFt=RFt,YFt={components:{TableActions:NFt},props:{item:{required:!0},selected:{required:!0}},data(){return{moment:ze()}},computed:{confirmation(){return jn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Hn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}}};const ZFt=(0,m.Z)(YFt,[["render",kEt]]);var KFt=ZFt,BFt={components:{TablePaginationNoNums:X$t,TableRow:KFt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const QFt=(0,m.Z)(BFt,[["render",F$t]]);var JFt=QFt;const GFt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},XFt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},tjt=["disabled"],ejt=["disabled"],rjt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),ajt=[rjt],sjt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),ljt=[sjt],ojt=["disabled"],ijt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),wjt=[ijt],njt=["disabled"],djt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),cjt=[djt],ujt={class:"tw-relative"},pjt=["value"],gjt=(0,s._)("option",{value:5},"5",-1),mjt=(0,s._)("option",{value:10},"10",-1),hjt=(0,s._)("option",{value:20},"20",-1),fjt=(0,s._)("option",{value:50},"50",-1),bjt=(0,s._)("option",{value:100},"100",-1),vjt=(0,s._)("option",{value:200},"200",-1),xjt=[gjt,mjt,hjt,fjt,bjt,vjt],yjt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),_jt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},kjt=["value"],Cjt=(0,s._)("option",{value:"all"},"All",-1),Djt=(0,s._)("option",{value:"id"},"ID",-1),Sjt=[Cjt,Djt],zjt=["value"],Ujt={class:"tw-overflow-hidden tw-col-span-1"},qjt={class:"tw-overflow-hidden tw-col-span-1"},Pjt={class:"tw-overflow-hidden tw-col-span-1"};function Ljt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",GFt,[(0,s._)("div",XFt,[(0,s._)("button",{class:(0,wt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,tjt),(0,s._)("button",{class:(0,wt.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,ejt),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,wt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},ajt,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,wt.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},ljt,2)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},wjt,8,ojt),(0,s._)("button",{onClick:e[5]||(e[5]=t=>o.showExport=!o.showExport),class:(0,wt.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},cjt,10,njt),(0,s._)("div",ujt,[(0,s._)("select",{onChange:e[6]||(e[6]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},xjt,40,pjt),yjt])]),(0,s._)("div",_jt,[(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},Sjt,40,kjt),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,zjt),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Ujt,[(0,s.Wm)(w,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,wt.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",qjt,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Pjt,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const Wjt={class:"tw-mb-4"},Ajt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},$jt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Ejt={class:"tw-flex tw-items-center tw-justify-between"},Tjt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},Fjt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function jjt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Wjt,[(0,s._)("div",Ajt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",$jt,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",Ejt,[(0,s._)("span",Tjt,(0,wt.zw)(t.total),1),(0,s._)("span",Fjt,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var Ijt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const Vjt=(0,m.Z)(Ijt,[["render",jjt]]);var Ojt=Vjt;const Hjt={class:"tw-mb-4"},Mjt={class:"tw-flex tw-items-center tw-gap-2"},Rjt=["disabled"],Njt=(0,s._)("span",null,"Select Filtered",-1),Yjt={class:"tw-flex tw-justify-end"},Zjt=["disabled"];function Kjt(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",Hjt,[(0,s._)("div",Mjt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Njt],8,Rjt)]),(0,s._)("div",Yjt,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,wt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,Zjt)])])}var Bjt={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,e$t["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const Qjt=(0,m.Z)(Bjt,[["render",Kjt]]);var Jjt=Qjt;const Gjt={class:"tw-mb-4"},Xjt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},tIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},eIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),rIt=["value"],aIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),lIt=["value"],oIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},iIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),wIt=["value"],nIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),cIt=["value"],uIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),gIt=["value"],mIt=(0,s._)("option",{value:"all",selected:""},"All",-1),hIt=["value"],fIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},bIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),vIt=["value"],xIt=(0,s._)("option",{value:"all",selected:""},"All",-1),yIt=["value"],_It={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),CIt=["value"],DIt=(0,s._)("option",{value:"all",selected:""},"All",-1),SIt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),zIt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),UIt=[DIt,SIt,zIt],qIt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},PIt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),LIt=(0,s._)("span",null,"Clear",-1),WIt=[PIt,LIt],AIt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),$It=(0,s._)("span",null,"Filter",-1),EIt=[AIt,$It];function TIt(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",Gjt,[(0,s._)("div",Xjt,[(0,s.kq)("",!0),(0,s._)("div",tIt,[eIt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,rIt)]),(0,s._)("div",aIt,[sIt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,lIt)]),(0,s._)("div",oIt,[iIt,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,wIt)]),(0,s._)("div",nIt,[dIt,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,cIt)]),(0,s._)("div",uIt,[pIt,(0,s._)("select",{value:r.filters.confirmation,onChange:e[5]||(e[5]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[mIt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,hIt)))),128))],40,gIt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",fIt,[bIt,(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[xIt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,yIt)))),128))],40,vIt)]),(0,s._)("div",_It,[kIt,(0,s._)("select",{value:r.filters.upsell,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},UIt,40,CIt)]),(0,s._)("div",qIt,[(0,s._)("button",{onClick:e[9]||(e[9]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},WIt),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},EIt)])])])}const FIt={class:"tw-text-sm tw-text-neutral-600"},jIt=["onClick"];function IIt(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",FIt,(0,wt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,jIt)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var VIt={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const OIt=(0,m.Z)(VIt,[["render",IIt]]);var HIt=OIt;const MIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},RIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function NIt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",MIt,[RIt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var YIt={components:{"vue-select":oZ.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const ZIt=(0,m.Z)(YIt,[["render",NIt]]);var KIt=ZIt,BIt={components:{DateFilter:HIt,ProductFilter:KIt},props:{filters:{required:!0,default:{}}},data(){return{confirmations:jn,deliveries:Hn,dateFilter:["",""]}}};const QIt=(0,m.Z)(BIt,[["render",TIt]]);var JIt=QIt,GIt={components:{IndexStatistics:Ojt,FiltersWrapper:JIt,IndexExport:Jjt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ze()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const XIt=(0,m.Z)(GIt,[["render",Ljt]]);var tVt=XIt;const eVt={class:"tw-mb-4"},rVt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},aVt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},sVt={class:"tw-flex tw-items-center tw-gap-2"},lVt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},oVt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),iVt={class:"tw-flex tw-items-center tw-gap-2"},wVt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),nVt=(0,s._)("span",null," Clear Selection ",-1),dVt=[wVt,nVt],cVt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),uVt=(0,s._)("span",null," Actions ",-1),pVt=[cVt,uVt],gVt={key:0};function mVt(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",eVt,[(0,s._)("div",rVt,[(0,s._)("div",aVt,[(0,s._)("div",sVt,[(0,s._)("div",lVt,(0,wt.zw)(r.selected.length),1),oVt]),(0,s._)("div",iVt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},dVt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},pVt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",gVt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const hVt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},fVt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},bVt=(0,s._)("span",null,"Quick Actions",-1),vVt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},xVt={class:"tw-bg-white tw-p-4"},yVt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},_Vt={class:"tw-col-span-2 md:tw-col-span-1"},kVt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},CVt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},DVt=(0,s._)("span",null,"Apply",-1);function SVt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",hVt,[(0,s._)("div",fVt,[bVt,(0,s._)("span",vVt,(0,wt.zw)(r.selected.length),1)]),(0,s._)("div",xVt,[(0,s._)("div",yVt,[(0,s._)("div",_Vt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",kVt,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",CVt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),DVt])])])])),_:1},8,["visible","closeable","onCancel"])])}const zVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),UVt={class:"tw-relative"},qVt=["value"],PVt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function LVt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[zVt,(0,s._)("div",UVt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,qVt)))),128))],512),[[a.bM,i.vaction]]),PVt]),(0,s.kq)("",!0)])}var WVt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const AVt=(0,m.Z)(WVt,[["render",LVt]]);var $Vt=AVt;const EVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),TVt={class:"tw-relative"},FVt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),jVt=["value"],IVt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function VVt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[EVt,(0,s._)("div",TVt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[FVt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,jVt)))),128))],512),[[a.bM,i.vvalue]]),IVt]),(0,s.kq)("",!0)])}var OVt={props:{value:{required:!0}},data(){return{statuses:Hn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const HVt=(0,m.Z)(OVt,[["render",VVt]]);var MVt=HVt,RVt=(t,e)=>{t.isLoading=!0,HX.execute(e).then((e=>NVt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const NVt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var YVt={components:{BulkSelectAction:$Vt,BulkDeliveryAction:MVt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};RVt(this,t)}}};const ZVt=(0,m.Z)(YVt,[["render",SVt]]);var KVt=ZVt,BVt={components:{BulkPopup:KVt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const QVt=(0,m.Z)(BVt,[["render",mVt]]);var JVt=QVt,GVt={components:{IndexTable:JFt,IndexFilters:tVt,BulkActions:JVt},data(){return{fetching:!0,items:[],selected:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,e$t.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"},this.handlePageChange(1)},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){console.log(t),this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},handleBulkUpdate(){this.selected=[],this.paginateOrders()}},mounted(){this.paginateOrders()}};const XVt=(0,m.Z)(GVt,[["render",XAt]]);var tOt=XVt,eOt={name:"seller",path:"/seller/list",component:Wa,meta:{module:"seller"},children:[{name:"seller/list",path:"",component:tOt,meta:{module:"sellersale",subModule:"seller/list",title:"Seller List",gate:"show_seller_sales"}}]};const rOt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},aOt={class:"tw-px-3"},sOt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},lOt={class:"tw-flex tw-items-center tw-gap-x-3"},oOt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),iOt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},wOt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),nOt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},dOt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),cOt=(0,s._)("span",null,"Create",-1),uOt=[dOt,cOt],pOt={key:1};function gOt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=((0,s.up)("BulkActions"),(0,s.up)("IndexTable")),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",rOt,[(0,s._)("section",aOt,[(0,s._)("div",sOt,[(0,s._)("div",null,[(0,s._)("div",lOt,[oOt,(0,s._)("span",iOt,(0,wt.zw)(l.totalOrders)+" order",1)]),wOt]),(0,s._)("div",nOt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},uOt)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",pOt,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const mOt={class:"tw-mb-4"},hOt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},fOt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},bOt={class:"tw-flex tw-items-center tw-gap-2"},vOt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},xOt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),yOt={class:"tw-flex tw-items-center tw-gap-2"},_Ot=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),kOt=(0,s._)("span",null," Clear Selection ",-1),COt=[_Ot,kOt],DOt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),SOt=(0,s._)("span",null," Actions ",-1),zOt=[DOt,SOt],UOt={key:0};function qOt(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",mOt,[(0,s._)("div",hOt,[(0,s._)("div",fOt,[(0,s._)("div",bOt,[(0,s._)("div",vOt,(0,wt.zw)(r.selected.length),1),xOt]),(0,s._)("div",yOt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},COt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},zOt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",UOt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const POt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},LOt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},WOt=(0,s._)("span",null,"Quick Actions",-1),AOt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},$Ot={class:"tw-bg-white tw-p-4"},EOt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},TOt={class:"tw-col-span-2 md:tw-col-span-1"},FOt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},jOt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},IOt=(0,s._)("span",null,"Apply",-1);function VOt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",POt,[(0,s._)("div",LOt,[WOt,(0,s._)("span",AOt,(0,wt.zw)(r.selected.length),1)]),(0,s._)("div",$Ot,[(0,s._)("div",EOt,[(0,s._)("div",TOt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",FOt,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",jOt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),IOt])])])])),_:1},8,["visible","closeable","onCancel"])])}const OOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),HOt={class:"tw-relative"},MOt=["value"],ROt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function NOt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[OOt,(0,s._)("div",HOt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,MOt)))),128))],512),[[a.bM,i.vaction]]),ROt]),(0,s.kq)("",!0)])}var YOt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const ZOt=(0,m.Z)(YOt,[["render",NOt]]);var KOt=ZOt;const BOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),QOt={class:"tw-relative"},JOt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),GOt=["value"],XOt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function tHt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[BOt,(0,s._)("div",QOt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[JOt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,GOt)))),128))],512),[[a.bM,i.vvalue]]),XOt]),(0,s.kq)("",!0)])}var eHt={props:{value:{required:!0}},data(){return{statuses:Hn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const rHt=(0,m.Z)(eHt,[["render",tHt]]);var aHt=rHt,sHt=(t,e)=>{t.isLoading=!0,HX.execute(e).then((e=>lHt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const lHt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var oHt={components:{BulkSelectAction:KOt,BulkDeliveryAction:aHt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};sHt(this,t)}}};const iHt=(0,m.Z)(oHt,[["render",VOt]]);var wHt=iHt,nHt={components:{BulkPopup:wHt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const dHt=(0,m.Z)(nHt,[["render",qOt]]);var cHt=dHt,uHt={components:{IndexTable:P3,IndexFilters:k6,CreatePopup:k7,BulkActions:cHt},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ki.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const pHt=(0,m.Z)(uHt,[["render",gOt]]);var gHt=pHt,mHt={path:"/followup",name:"followup",component:Wa,meta:{module:"dashboard"},children:[{name:"followup/index",path:"",component:gHt,meta:{module:"followup",title:"Follow Up Orders",gate:"follow_up_orders"}}]};const hHt={class:"tw-pb-40"},fHt={class:"tw-space-y-3"};function bHt(t,e,r,a,l,o){const i=(0,s.up)("RealTimeOnlineUsers"),w=((0,s.up)("OnlineUsers"),(0,s.up)("IndexFilters")),n=(0,s.up)("IndexRevenue"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",hHt,[(0,s._)("div",fHt,[(0,s.Wm)(i),(0,s.kq)("",!0),(0,s.Wm)(w,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter,onReload:o.handleFilter},null,8,["onFilter","onReload"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(d,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const vHt={class:"tw-bg-white tw-p-5"},xHt={class:"tw-flex tw-items-center tw-justify-between"},yHt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Users",-1),_Ht={class:"tw-relative tw-flex tw-items-center"},kHt=(0,s._)("span",{class:"tw-text-xs tw-absolute tw-right-0 tw-top-0 -tw-translate-y-full tw-whitespace-nowrap"},"Show All",-1),CHt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-scale-75"},DHt=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none peer-focus:tw-ring-4 peer-focus:tw-ring-orange-200 dark:peer-focus:tw-ring-orange-500 tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600 peer-checked:tw-bg-orange-500"},null,-1),SHt={key:0,class:""},zHt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},UHt=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),qHt=[UHt],PHt={key:1,class:"tw-min-h-[50px]"},LHt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},WHt={class:"py-2 px-3 tw-rounded tw-bg-white tw-shadow-sm tw-grid tw-grid-cols-12 tw-relative tw-overflow-hidden"},AHt={class:"tw-col-span-12 tw-flex tw-items-center tw-gap-2 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},$Ht={key:0,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-red-400 tw-absolute tw-top-0 tw-right-0"},EHt={key:1,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-green-500 tw-absolute tw-top-0 tw-right-0"},THt={key:2,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-yellow-400 tw-absolute tw-top-0 tw-right-0"},FHt={class:"tw-font-bold"},jHt={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs tw-mt-1"},IHt={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},VHt={key:1},OHt={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},HHt={key:1,class:"tw-flex tw-items-center tw-gap-2"};function MHt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",vHt,[(0,s._)("div",xHt,[yHt,(0,s._)("div",_Ht,[kHt,(0,s._)("label",CHt,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>o.showAll=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.showAll]]),DHt])])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",SHt,[(0,s._)("div",zHt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},qHt))),64))])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",PHt,[(0,s._)("div",LHt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",WHt,[(0,s._)("div",AHt,[t.last_action?1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",EHt)):((0,s.wg)(),(0,s.iD)("div",THt)):((0,s.wg)(),(0,s.iD)("div",$Ht)),(0,s._)("span",FHt,(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),1)]),(0,s._)("div",jHt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",VHt,[1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",OHt," Online ")):((0,s.wg)(),(0,s.iD)("div",HHt,(0,wt.zw)(i.lastSeen(t.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",IHt," Never Connected "))])])])))),128))])])):(0,s.kq)("",!0)])}var RHt={components:{},data(){return{isLoaded:!1,showAll:!1}},computed:{users(){return this.showAll?this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?ze()(t.last_action).isAfter(e.last_action)?-1:1:-1)):this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?ze()(t.last_action).isAfter(e.last_action)?-1:1:-1)).slice(0,8)}},methods:{getUsers(){ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,_s.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const NHt=(0,m.Z)(RHt,[["render",MHt]]);var YHt=NHt;const ZHt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[700px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},KHt={class:"tw-py-2 tw-px-4 tw-text-lg tw-flex tw-items-center tw-justify-between tw-border-b tw-border-solid tw-font-medium dark:tw-text-neutral-400 tw-text-neutral-500 tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},BHt=(0,s._)("span",null,"Users",-1),QHt={class:"tw-bg-white tw-p-4"},JHt={key:0,class:"tw-mt-5"},GHt=(0,s._)("div",{class:"tw-p-4 tw-bg-gray-100 tw-rounded"},null,-1),XHt=(0,s._)("div",{class:"tw-p-4 tw-bg-gray-100 tw-mt-2 tw-rounded"},null,-1),tMt=(0,s._)("div",{class:"tw-p-4 tw-bg-gray-100 tw-mt-2 tw-rounded"},null,-1),eMt=(0,s._)("div",{class:"tw-p-4 tw-bg-gray-100 tw-mt-2 tw-rounded"},null,-1),rMt=[GHt,XHt,tMt,eMt],aMt={key:1,class:"tw-w-full tw-mt-5"},sMt={class:"tw-w-full tw-border tw-border-solid tw-border-gray-200 tw-rounded"},lMt=(0,s._)("thead",{class:"tw-bg-gray-100 tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-p-2 tw-text-xs tw-w-[70px] tw-text-start"},"ID"),(0,s._)("th",{class:"tw-p-2 tw-text-xs tw-text-start"},"NAME"),(0,s._)("th",{class:"tw-p-2 tw-text-xs tw-w-[150px] tw-text-start"},"LAST ACTION")])],-1),oMt={class:"tw-p-2"},iMt={class:"tw-p-2"},wMt={class:"tw-flex tw-items-center tw-gap-2"},nMt={class:"tw-p-2 tw-font-semibold tw-"},dMt={key:0},cMt={key:1};var uMt={__name:"UsersLastAction",setup(t){const e=(0,i.oR)(),r=(0,ke.iH)(""),l=(0,ke.iH)(!1),o=(0,ke.iH)([]),w=(0,s.Fl)((()=>e.getters["user/user"])),n=(0,s.Fl)((()=>e.getters["online/users"])),d=(0,s.Fl)((()=>o.value.map((t=>({...t,is_online:n.value.some((e=>e.id==t.id))}))).filter((t=>t.id!=w.value.id)).filter((t=>t.firstname.toLocaleLowerCase().includes(r.value.toLocaleLowerCase())||t.lastname.toLocaleLowerCase().includes(r.value.toLocaleLowerCase()))))),c=async()=>{l.value=!0,await ot.lastAction().then((t=>{"SUCCESS"==t.data.code&&(o.value=t.data.users)})),l.value=!1};return c(),(t,e)=>{const o=(0,s.up)("icon"),i=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{visible:!0,onCancel:e[2]||(e[2]=e=>t.$emit("cancel"))},{default:(0,s.w5)((()=>[(0,s._)("div",ZHt,[(0,s._)("div",KHt,[BHt,(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),class:"tw-flex tw-items-center tw-justify-center tw-p-1 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(o,{icon:"ic:round-close",class:"tw-text-lg tw-text-gray-700"})])]),(0,s._)("div",QHt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),type:"text",placeholder:"Search",class:"tw-bg-white tw-outline-none tw-px-4 tw-py-2 tw-w-[250px] tw-rounded tw-border tw-border-solid tw-border-gray-200"},null,512),[[a.nr,r.value]]),l.value?((0,s.wg)(),(0,s.iD)("div",JHt,rMt)):((0,s.wg)(),(0,s.iD)("div",aMt,[(0,s._)("table",sMt,[lMt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"hover:tw-bg-gray-100 tw-duration-200"},[(0,s._)("td",oMt,(0,wt.zw)(t.id),1),(0,s._)("td",iMt,[(0,s._)("div",wMt,[(0,s._)("div",{class:(0,wt.C_)([[t.is_online&&"!tw-bg-emerald-400"],"tw-w-2 tw-h-2 tw-rounded tw-bg-red-400"])},null,2),(0,s._)("p",null,(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),1)])]),(0,s._)("td",nMt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",dMt,(0,wt.zw)((0,ke.SU)(ze())(t.last_action).fromNow()),1)):(0,s.kq)("",!0),t.last_action?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cMt," - "))])])))),128))])])]))])])])),_:1})])}}};const pMt=uMt;var gMt=pMt;const mMt={class:"tw-bg-white tw-p-4 tw-rounded tw-border tw-border-solid tw-border-gray-200"},hMt={class:"tw-flex tw-items-center tw-justify-between"},fMt=(0,s._)("h1",{class:"tw-font-semibold tw-text-lg"},"Users",-1),bMt={class:"tw-flex tw-items-center tw-gap-2"},vMt={key:0},xMt={key:0,class:"tw-flex tw-gap-2 tw-flex-wrap tw-mt-4"},yMt={class:"tw-flex tw-items-center tw-gap-2"},_Mt={class:"tw-flex tw-items-center tw-gap-1 tw-font-bold"},kMt={key:0,class:"tw-uppercasex tw-font-semibold tw-text-xs tw-px-4"},CMt={key:1,class:"tw-uppercasex tw-font-semibold tw-text-xs tw-px-4"},DMt={key:1,class:"tw-mt-4 tw-flex tw-items-center tw-justify-center tw-p-4 tw-bg-gray-100 tw-rounded"},SMt=(0,s._)("p",null,"All users are offline now",-1),zMt=[SMt];var UMt={__name:"RealTimeOnlineUsers",setup(t){const e=(0,ke.iH)({users:!0,lastAction:!1,all:!1}),r=(0,i.oR)(),a=(0,s.Fl)((()=>{const t=r.getters["online/users"],a=t.filter((t=>!t.left_at)),s=t.filter((t=>t.left_at)).sort(((t,e)=>new Date(t.left_at)-new Date(e.left_at)));return[...a,...s].filter((t=>t.id!==r.getters["user/user"]?.id&&(!!e.value.all||"agente"==t.role)))}));return setTimeout((()=>{console.log("online: ",r.getters["online/users"])}),2e3),(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",mMt,[(0,s._)("div",hMt,[fMt,(0,s._)("div",bMt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>e.value.all=!e.value.all),title:"Show all users",class:(0,wt.C_)([[e.value.all&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-items-center tw-text-gray-700 tw-justify-center tw-p-1 tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(l,{icon:"ph:users-three",class:"tw-text-lg"})],2),(0,s._)("div",null,[(0,s._)("button",{title:"Show last action",onClick:r[1]||(r[1]=t=>e.value.lastAction=!0),class:"tw-flex tw-items-center tw-justify-center tw-p-1 tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(l,{icon:"ph:user-list",class:"tw-text-lg tw-text-gray-700"})]),e.value.lastAction?((0,s.wg)(),(0,s.j4)((0,ke.SU)(gMt),{key:0,onCancel:r[2]||(r[2]=t=>e.value.lastAction=!1)})):(0,s.kq)("",!0)]),(0,s._)("button",{onClick:r[3]||(r[3]=t=>e.value.users=!e.value.users),class:"tw-flex tw-items-center tw-justify-center tw-p-1 tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(l,{icon:e.value.users?"ion:chevron-up-outline":"ion:chevron-down-outline",class:"tw-text-lg tw-text-gray-700"},null,8,["icon"])])])]),e.value.users?((0,s.wg)(),(0,s.iD)("div",vMt,[a.value.length?((0,s.wg)(),(0,s.iD)("div",xMt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("div",{class:(0,wt.C_)([[t.left_at?"tw-border-t-gray-200":"tw-border-t-emerald-500"],"tw-p-1 tw-px-2 tw-border tw-border-solid tw-border-gray-200 tw-border-t-4 tw-rounded tw-shadow-sm tw-shadow-gray-100"])},[(0,s._)("div",yMt,[(0,s._)("div",{class:(0,wt.C_)([[t.left_at?"tw-bg-gray-200":"tw-bg-emerald-500"],"tw-w-1.5 tw-h-1.5 tw-rounded-full"])},null,2),(0,s._)("div",_Mt,[(0,s._)("span",null,(0,wt.zw)(t.firstname),1),(0,s._)("span",null,(0,wt.zw)(t.lastname),1)])]),t.left_at?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",kMt,"Online")),t.left_at?((0,s.wg)(),(0,s.iD)("p",CMt,(0,wt.zw)((0,ke.SU)(ze())(t.left_at).fromNow()),1)):(0,s.kq)("",!0)],2)])))),128))])):((0,s.wg)(),(0,s.iD)("div",DMt,zMt))])):(0,s.kq)("",!0)])}}};const qMt=UMt;var PMt=qMt;const LMt={class:"tw-bg-white"},WMt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},AMt={class:"tw-p-5"};function $Mt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),w=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",LMt,[(0,s._)("div",WMt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,wt.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,wt.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",AMt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(w,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const EMt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},TMt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),FMt=[TMt],jMt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function IMt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",EMt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},FMt))),64))])):((0,s.wg)(),(0,s.iD)("div",jMt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const VMt={class:"tw-flex tw-justify-between"},OMt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},HMt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},MMt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},RMt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function NMt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,wt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",VMt,[(0,s._)("div",null,[(0,s._)("div",OMt,[(0,s._)("p",HMt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",MMt,[(0,s._)("span",RMt,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var YMt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const ZMt=(0,m.Z)(YMt,[["render",NMt]]);var KMt=ZMt,BMt={components:{DashboardCard:KMt},props:{statistics:{required:!0},fetching:{required:!0}}};const QMt=(0,m.Z)(BMt,[["render",IMt]]);var JMt=QMt;const GMt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},XMt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),tRt=[XMt],eRt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function rRt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",GMt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},tRt))),64))])):((0,s.wg)(),(0,s.iD)("div",eRt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var aRt={components:{DashboardCard:KMt},props:{statistics:{required:!0},fetching:{required:!0}}};const sRt=(0,m.Z)(aRt,[["render",rRt]]);var lRt=sRt,oRt={components:{ConfirmationTab:JMt,DeliveryTab:lRt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const iRt=(0,m.Z)(oRt,[["render",$Mt]]);var wRt=iRt;const nRt={class:"tw-bg-white tw-p-5"},dRt={class:"tw-flex tw-justify-between"},cRt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters",-1),uRt={class:"tw-flex tw-items-center"},pRt={class:"tw-mr-2"},gRt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},mRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),fRt=(0,s._)("option",{value:"all",selected:""},"All",-1),bRt=["value"],vRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),yRt=(0,s._)("option",{value:"all",selected:""},"All",-1),_Rt=["value"],kRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},CRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),DRt=(0,s._)("option",{value:"all",selected:""},"All",-1),SRt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),zRt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),URt=[DRt,SRt,zRt],qRt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},PRt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),LRt=(0,s._)("span",null,"Clear",-1),WRt=[PRt,LRt],ARt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),$Rt=(0,s._)("span",null,"Filter",-1),ERt=[ARt,$Rt];function TRt(t,e,r,l,o,i){const w=(0,s.up)("DateFilter"),n=(0,s.up)("AgentFilter"),d=(0,s.up)("SellerFilter"),c=(0,s.up)("AffectationFilter"),u=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",nRt,[(0,s._)("div",dRt,[cRt,(0,s._)("div",uRt,[(0,s._)("p",pRt,"Last updated: "+(0,wt.zw)(i.lastUpdatedFromNow),1),(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.reload&&i.reload(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-500/10 hover:tw-border-blue-500/70 tw-duration-300 tw-text-blue-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-refresh")])),_:1})])])]),(0,s._)("div",gRt,[(0,s.Wm)(w,{from:o.filters.created_from,"onUpdate:from":e[1]||(e[1]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[2]||(e[2]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.dropped_from,"onUpdate:from":e[3]||(e[3]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[4]||(e[4]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.delivered_from,"onUpdate:from":e[5]||(e[5]=t=>o.filters.delivered_from=t),to:o.filters.delivered_to,"onUpdate:to":e[6]||(e[6]=t=>o.filters.delivered_to=t),label:"Delivered"},null,8,["from","to"]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[7]||(e[7]=t=>o.filters=t)},null,8,["filters"]),(0,s.Wm)(d,{filters:o.filters,onUpdate:e[8]||(e[8]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",mRt,[hRt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[fRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,bRt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s.Wm)(c,{filters:o.filters,onUpdate:e[10]||(e[10]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",vRt,[xRt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[yRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,_Rt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(u,{filters:o.filters,onUpdate:e[12]||(e[12]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",kRt,[CRt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},URt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",qRt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},WRt),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},ERt)])])])}const FRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},jRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),IRt=["value"],VRt=(0,s._)("option",{value:"all"},"All",-1),ORt=(0,s._)("option",{value:""},"No Delivery",-1),HRt=["value"];function MRt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",FRt,[jRt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[VRt,ORt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,HRt)))),128))],40,IRt)])}var RRt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const NRt=(0,m.Z)(RRt,[["render",MRt]]);var YRt=NRt;const ZRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},KRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),BRt=["value"],QRt=(0,s._)("option",{value:"all"},"All",-1),JRt=(0,s._)("option",{value:""},"No Agent",-1),GRt=["value"];function XRt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",ZRt,[KRt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[QRt,JRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,GRt)))),128))],40,BRt)])}var tNt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const eNt=(0,m.Z)(tNt,[["render",XRt]]);var rNt=eNt;const aNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sNt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),lNt=["value"],oNt=(0,s._)("option",{value:"all"},"All",-1),iNt=["value"];function wNt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",aNt,[sNt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[oNt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,iNt)))),128))],40,lNt)])}var nNt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const dNt=(0,m.Z)(nNt,[["render",wNt]]);var cNt=dNt;const uNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pNt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function gNt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",uNt,[pNt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"]),(0,s.kq)("",!0)])}var mNt={components:{"vue-select":oZ.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return"all"!=this.filters.user_id?this.$store.getters["product/products"]?.filter((t=>t.user_id==this.filters.user_id)):this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const hNt=(0,m.Z)(mNt,[["render",gNt]]);var fNt=hNt;const bNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vNt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},xNt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),yNt=[xNt],_Nt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kNt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},CNt=["value"],DNt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},SNt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},zNt=["value"];function UNt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",bNt,[(0,s._)("label",vNt,(0,wt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},yNt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",_Nt,[(0,s._)("label",kNt,(0,wt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,CNt)]),(0,s._)("div",DNt,[(0,s._)("label",SNt,(0,wt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,zNt)])],64)):(0,s.kq)("",!0)],64)}var qNt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ze()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ze()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ze()().startOf("month").format("YYYY-MM-DD"),a=ze()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ze()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ze()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const PNt=(0,m.Z)(qNt,[["render",UNt]]);var LNt=PNt,WNt={components:{AffectationFilter:YRt,AgentFilter:rNt,ProductFilter:fNt,DateFilter:LNt,SellerFilter:cNt},props:{},data(){return{confirmations:jn,deliveries:Hn,dateFilter:["",""],lastUpdated:ze()(),now:ze()(),filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},computed:{lastUpdatedFromNow(){return ze()(this.lastUpdated).from(this.now)}},methods:{reload(){this.$emit("reload"),this.lastUpdated=ze()(),this.updateTime()},updateTime(){this.now=ze()()},clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter(),this.updateTime(),this.interval=setInterval(this.updateTime,1e3)},beforeUnmount(){clearInterval(this.interval)}};const ANt=(0,m.Z)(WNt,[["render",TRt]]);var $Nt=ANt;const ENt={key:0},TNt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function FNt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",ENt,[(0,s._)("div",TNt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const jNt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},INt={class:"tw-flex tw-justify-between"},VNt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},ONt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},HNt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},MNt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function RNt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jNt,[(0,s._)("div",INt,[(0,s._)("div",null,[(0,s._)("div",VNt,[(0,s._)("p",ONt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",HNt,[(0,s._)("span",MNt,(0,wt.zw)(o.format(r.value)),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var NNt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const YNt=(0,m.Z)(NNt,[["render",RNt]]);var ZNt=YNt,KNt={components:{RevenueCard:ZNt},props:{statistics:{required:!0},fetching:{required:!0}}};const BNt=(0,m.Z)(KNt,[["render",FNt]]);var QNt=BNt,JNt={components:{OnlineUsers:YHt,IndexStatistics:wRt,IndexFilters:$Nt,IndexRevenue:QNt,RealTimeOnlineUsers:PMt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Vu.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const GNt=(0,m.Z)(JNt,[["render",bHt]]);var XNt=GNt;const tYt={class:"tw-pb-40"},eYt={class:"tw-space-y-3"};function rYt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexRevenue"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",tYt,[(0,s._)("div",eYt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const aYt={class:"tw-bg-white"},sYt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},lYt={class:"tw-p-5"};function oYt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),w=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",aYt,[(0,s._)("div",sYt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,wt.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,wt.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",lYt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(w,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const iYt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},wYt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),nYt=[wYt],dYt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function cYt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",iYt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},nYt))),64))])):((0,s.wg)(),(0,s.iD)("div",dYt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const uYt={class:"tw-flex tw-justify-between"},pYt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},gYt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},mYt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},hYt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function fYt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,wt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",uYt,[(0,s._)("div",null,[(0,s._)("div",pYt,[(0,s._)("p",gYt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",mYt,[(0,s._)("span",hYt,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var bYt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const vYt=(0,m.Z)(bYt,[["render",fYt]]);var xYt=vYt,yYt={components:{DashboardCard:xYt},props:{statistics:{required:!0},fetching:{required:!0}}};const _Yt=(0,m.Z)(yYt,[["render",cYt]]);var kYt=_Yt;const CYt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},DYt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),SYt=[DYt],zYt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function UYt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",CYt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},SYt))),64))])):((0,s.wg)(),(0,s.iD)("div",zYt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var qYt={components:{DashboardCard:xYt},props:{statistics:{required:!0},fetching:{required:!0}}};const PYt=(0,m.Z)(qYt,[["render",UYt]]);var LYt=PYt,WYt={components:{ConfirmationTab:kYt,DeliveryTab:LYt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const AYt=(0,m.Z)(WYt,[["render",oYt]]);var $Yt=AYt;const EYt={class:"tw-bg-white tw-p-5"},TYt={class:"tw-flex tw-justify-between"},FYt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters",-1),jYt={class:"tw-flex tw-items-center"},IYt={class:"tw-mr-2"},VYt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},OYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},HYt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),MYt=(0,s._)("option",{value:"all",selected:""},"All",-1),RYt=["value"],NYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YYt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),ZYt=(0,s._)("option",{value:"all",selected:""},"All",-1),KYt=["value"],BYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},QYt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),JYt=(0,s._)("option",{value:"all",selected:""},"All",-1),GYt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),XYt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),tZt=[JYt,GYt,XYt],eZt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},rZt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),aZt=(0,s._)("span",null,"Clear",-1),sZt=[rZt,aZt],lZt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),oZt=(0,s._)("span",null,"Filter",-1),iZt=[lZt,oZt];function wZt(t,e,r,l,o,i){const w=(0,s.up)("DateFilter"),n=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",EYt,[(0,s._)("div",TYt,[FYt,(0,s._)("div",jYt,[(0,s._)("p",IYt,"Last updated: "+(0,wt.zw)(o.lastUpdatedAtText),1),(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.filter&&i.filter(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-500/10 hover:tw-border-blue-500/70 tw-duration-300 tw-text-blue-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-refresh")])),_:1})])])]),(0,s._)("div",VYt,[(0,s.Wm)(w,{from:o.filters.created_from,"onUpdate:from":e[1]||(e[1]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[2]||(e[2]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.dropped_from,"onUpdate:from":e[3]||(e[3]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[4]||(e[4]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",OYt,[HYt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[MYt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,RYt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s._)("div",NYt,[YYt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[ZYt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,KYt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[7]||(e[7]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",BYt,[QYt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},tZt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",eZt,[(0,s._)("button",{onClick:e[9]||(e[9]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},sZt),(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},iZt)])])])}const nZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dZt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function cZt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",nZt,[dZt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var uZt={components:{"vue-select":oZ.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const pZt=(0,m.Z)(uZt,[["render",cZt]]);var gZt=pZt;const mZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hZt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},fZt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),bZt=[fZt],vZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xZt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},yZt=["value"],_Zt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kZt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},CZt=["value"];function DZt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",mZt,[(0,s._)("label",hZt,(0,wt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},bZt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",vZt,[(0,s._)("label",xZt,(0,wt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,yZt)]),(0,s._)("div",_Zt,[(0,s._)("label",kZt,(0,wt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,CZt)])],64)):(0,s.kq)("",!0)],64)}var SZt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ze()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ze()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ze()().startOf("month").format("YYYY-MM-DD"),a=ze()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ze()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ze()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const zZt=(0,m.Z)(SZt,[["render",DZt]]);var UZt=zZt,qZt={components:{ProductFilter:gZt,DateFilter:UZt},props:{},data(){return{confirmations:jn,deliveries:Hn,dateFilter:["",""],lastUpdated:ze()(),lastUpdatedAtText:"a few seconds ago",interval:null,filters:{}}},computed:{},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter"),this.lastUpdated=Date.now(),this.updateRelativeTime()},updateRelativeTime(){this.lastUpdatedAtText=ze()(this.lastUpdated).fromNow()}},mounted(){this.clear(),this.filter(),this.interval=setInterval(this.updateRelativeTime,1e3)},beforeUnmount(){clearInterval(this.interval)}};const PZt=(0,m.Z)(qZt,[["render",wZt]]);var LZt=PZt;const WZt={key:0},AZt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function $Zt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",WZt,[(0,s._)("div",AZt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const EZt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},TZt={class:"tw-flex tw-justify-between"},FZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},jZt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},IZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},VZt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function OZt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",EZt,[(0,s._)("div",TZt,[(0,s._)("div",null,[(0,s._)("div",FZt,[(0,s._)("p",jZt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",IZt,[(0,s._)("span",VZt,(0,wt.zw)(r.value)+"$ ",1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var HZt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const MZt=(0,m.Z)(HZt,[["render",OZt]]);var RZt=MZt,NZt={components:{RevenueCard:RZt},props:{statistics:{required:!0},fetching:{required:!0}}};const YZt=(0,m.Z)(NZt,[["render",$Zt]]);var ZZt=YZt,KZt={components:{IndexStatistics:$Yt,IndexFilters:LZt,IndexRevenue:ZZt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){console.log("handleFilter is called"),this.fetching=!0,e$t.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"seller"!=this.user.role?this.$router.push({name:"404"}):(this.handleFilter(),this.interval=setInterval((()=>this.handleFilter()),3e5))},beforeUnmount(){clearInterval(this.interval)}};const BZt=(0,m.Z)(KZt,[["render",rYt]]);var QZt=BZt;const JZt={class:"tw-pb-40"},GZt={class:"tw-space-y-3"};function XZt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexAnalytics");return(0,s.wg)(),(0,s.iD)("div",JZt,[(0,s._)("div",GZt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{analytics:l.analytics,fetching:l.fetching},null,8,["analytics","fetching"])])])}const tKt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},eKt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),rKt=[eKt],aKt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function sKt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return r.fetching?((0,s.wg)(),(0,s.iD)("div",tKt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},rKt))),64))])):((0,s.wg)(),(0,s.iD)("div",aKt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.analytics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))}const lKt={class:"tw-flex tw-justify-between"},oKt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},iKt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},wKt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},nKt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function dKt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,wt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",lKt,[(0,s._)("div",null,[(0,s._)("div",oKt,[(0,s._)("p",iKt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",wKt,[(0,s._)("span",nKt,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var cKt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const uKt=(0,m.Z)(cKt,[["render",dKt]]);var pKt=uKt,gKt={components:{DashboardCard:pKt},props:{analytics:{required:!0},fetching:{required:!0}}};const mKt=(0,m.Z)(gKt,[["render",sKt]]);var hKt=mKt;const fKt={class:"tw-bg-white tw-p-5"},bKt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),vKt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},xKt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},yKt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),_Kt=(0,s._)("span",null,"Clear",-1),kKt=[yKt,_Kt],CKt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),DKt=(0,s._)("span",null,"Filter",-1),SKt=[CKt,DKt];function zKt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),w=(0,s.up)("SellerFilter"),n=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",fKt,[bKt,(0,s._)("div",vKt,[(0,s.Wm)(i,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(i,{from:l.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(w,{filters:l.filters,onUpdate:e[4]||(e[4]=t=>l.filters=t)},null,8,["filters"]),(0,s.Wm)(n,{filters:l.filters,onUpdate:e[5]||(e[5]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",xKt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},kKt),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},SKt)])])])}const UKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},qKt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),PKt=["value"],LKt=(0,s._)("option",{value:"all"},"All",-1),WKt=["value"];function AKt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",UKt,[qKt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[LKt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,WKt)))),128))],40,PKt)])}var $Kt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const EKt=(0,m.Z)($Kt,[["render",AKt]]);var TKt=EKt;const FKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},jKt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function IKt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",FKt,[jKt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var VKt={components:{"vue-select":oZ.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const OKt=(0,m.Z)(VKt,[["render",IKt]]);var HKt=OKt;const MKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},RKt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},NKt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),YKt=[NKt],ZKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},KKt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},BKt=["value"],QKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},JKt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},GKt=["value"];function XKt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",MKt,[(0,s._)("label",RKt,(0,wt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},YKt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",ZKt,[(0,s._)("label",KKt,(0,wt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,BKt)]),(0,s._)("div",QKt,[(0,s._)("label",JKt,(0,wt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,GKt)])],64)):(0,s.kq)("",!0)],64)}var tBt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ze()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ze()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ze()().startOf("month").format("YYYY-MM-DD"),a=ze()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ze()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ze()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const eBt=(0,m.Z)(tBt,[["render",XKt]]);var rBt=eBt,aBt={components:{SellerFilter:TKt,ProductFilter:HKt,DateFilter:rBt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,user_id:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const sBt=(0,m.Z)(aBt,[["render",zKt]]);var lBt=sBt,oBt={components:{IndexAnalytics:hKt,IndexFilters:lBt},data(){return{filters:null,analytics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Vu.analytics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.analytics=t.data.data.analytics.analytics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const iBt=(0,m.Z)(oBt,[["render",XZt]]);var wBt=iBt;const nBt={class:"tw-flex tw-flex-wrap tw-justify-center md:tw-flex-nowrap tw-items-center tw-gap-2"};function dBt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("ConfirmationChart"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onUpdate:o.updateFilters,onFilter:o.applyFilters},null,8,["onUpdate","onFilter"]),(0,s._)("div",nBt,[(0,s.Wm)(w,{filters:l.appliedFilters},null,8,["filters"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const cBt={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1 tw-py-2"},uBt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),pBt=[uBt];function gBt(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",cBt,[r.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(9,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},pBt))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(r.statistics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])}const mBt={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},hBt={class:"tw-flex tw-justify-between"},fBt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},bBt={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},vBt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},xBt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function yBt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",mBt,[(0,s._)("div",hBt,[(0,s._)("div",null,[(0,s._)("div",fBt,[(0,s._)("p",bBt,(0,wt.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",vBt,[(0,s._)("span",xBt,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var _Bt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const kBt=(0,m.Z)(_Bt,[["render",yBt]]);var CBt=kBt,DBt={components:{DashCard:CBt},props:{statistics:{required:!0},fetching:{required:!0}}};const SBt=(0,m.Z)(DBt,[["render",gBt]]);var zBt=SBt;class UBt{async getOrdersCountByDays(t){return await E.getCookie(),A.get("api/analytics/orders-count-by-days",{params:t})}async getChartConfirmation(t){return await E.getCookie(),A.get("api/analytics/chart-confirmation",{params:t})}async getRevenue(t){return await E.getCookie(),A.get("api/analytics/revenue",{params:t})}async getProfit(t){return await E.getCookie(),A.get("api/analytics/profit",{params:t})}async getConfirmationsCount(t){return await E.getCookie(),A.get("api/analytics/confirmations-count",{params:t})}async getDeliveriesCount(t){return await E.getCookie(),A.get("api/analytics/deliveries-count",{params:t})}async getOrdersBySellers(t){return await E.getCookie(),A.get("api/analytics/orders-by-sellers",{params:t})}async getProductsPerformance(t){return await E.getCookie(),A.get("api/analytics/products-by-performance",{params:t})}}var qBt=new UBt;const PBt={key:0,class:"tw-bg-white tw-p-2 tw-w-fit tw-my-2 tw-rounded-lg tw-h-[300px]"},LBt={class:"tw-flex tw-items-center tw-gap-2"},WBt=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),ABt={class:"tw-px-1 tw-bg-emerald-400 tw-text-white tw-text-sm tw-rounded"},$Bt=(0,s._)("div",{class:"tw-flex tw-gap-x"},[(0,s._)("div",{class:"tw-w-[250px] tw-p-5 tw-h-[230px] tw-flex tw-items-center tw-justify-center"},[(0,s._)("div",{class:"tw-w-[75%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-aspect-square tw-animate-pulse"})])],-1),EBt={key:1,class:"tw-bg-white tw-w-fit tw-my-2 tw-rounded-lg tw-p-2 tw-h-[300px]"},TBt={class:"tw-flex tw-items-center tw-gap-2"},FBt=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),jBt={class:"tw-px-1 tw-bg-emerald-400 tw-text-white tw-text-sm tw-rounded"},IBt={class:"tw-flex tw-gap-2"},VBt={class:"tw-w-fit tw-flex tw-items-center tw-h-full"};var OBt={__name:"ConfirmationChart",props:{filters:{type:Object,default:()=>({})}},setup(t){const e=t,r=(0,ke.iH)(!0),a=(0,ke.iH)(0),l=(0,ke.iH)([77]),o=(0,s.Fl)((()=>({chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front"},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-1,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#111",fontSize:"16px",fontFamily:"cairo",fontWeight:"medium"},value:{formatter:function(t){return parseInt(t)+"%"},color:"#111",fontSize:"25px",fontFamily:"cairo",fontWeight:"bold",show:!0}}}},fill:{type:"gradient",colors:l.value[0]>50?["#10b981"]:["#f43f5e"],gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:l.value[0]>50?["#22c55e","#10b981"]:["#f43f5e","#e11d48"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Confirmed"]}))),i=async()=>{console.log("getData called"),r.value=!0;const{treated_from:t,treated_to:s}=e.filters||{};try{const e=await qBt.getChartConfirmation({treated_from:t,treated_to:s});200===e.status&&e.data&&e.data.data&&(a.value=e.data.data.total,l.value[0]=e.data.data.rate)}catch(o){console.log(o),alert("An error occurred while fetching data. Please try again.")}finally{r.value=!1}};return(0,s.YP)((()=>e.filters),(t=>{console.log("New filters in ConfirmationChart:",t),i()}),{deep:!0}),(t,e)=>{const i=(0,s.up)("icon"),w=(0,s.up)("apexchart");return r.value?((0,s.wg)(),(0,s.iD)("div",PBt,[(0,s._)("div",LBt,[WBt,(0,s._)("p",ABt,[(0,s.Wm)(i,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),$Bt])):((0,s.wg)(),(0,s.iD)("div",EBt,[(0,s._)("div",TBt,[FBt,(0,s._)("p",jBt,(0,wt.zw)((new Intl.NumberFormat).format(a.value)),1)]),(0,s._)("div",IBt,[(0,s._)("div",VBt,[(0,s.Wm)(w,{type:"radialBar",height:"230",width:"230",options:o.value,series:l.value},null,8,["options","series"])])])]))}}};const HBt=OBt;var MBt=HBt;const RBt={class:"tw-bg-white tw-p-5"},NBt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),YBt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},ZBt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},KBt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),BBt=(0,s._)("span",null,"Clear",-1),QBt=[KBt,BBt],JBt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),GBt=(0,s._)("span",null,"Filter",-1),XBt=[JBt,GBt];function tQt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",RBt,[NBt,(0,s._)("div",YBt,[(0,s.Wm)(i,{from:l.filters.dropped_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(i,{from:l.filters.treated_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.treated_from=t),to:l.filters.treated_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.treated_to=t),label:"Treated"},null,8,["from","to"]),(0,s._)("div",ZBt,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},QBt),(0,s._)("button",{onClick:e[5]||(e[5]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},XBt)])])])}const eQt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rQt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},aQt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),sQt=[aQt],lQt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oQt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},iQt=["value"],wQt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nQt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},dQt=["value"];function cQt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",eQt,[(0,s._)("label",rQt,(0,wt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},sQt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",lQt,[(0,s._)("label",oQt,(0,wt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,iQt)]),(0,s._)("div",wQt,[(0,s._)("label",nQt,(0,wt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,dQt)])],64)):(0,s.kq)("",!0)],64)}var uQt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ze()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ze()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ze()().startOf("month").format("YYYY-MM-DD"),a=ze()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ze()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ze()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}},from:{immediate:!0,handler(t){null===t&&(this.filterBy="all")}},to:{immediate:!0,handler(t){null===t&&(this.filterBy="all")}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const pQt=(0,m.Z)(uQt,[["render",cQt]]);var gQt=pQt,mQt={components:{DateFilter:gQt},props:{},data(){return{dateFilter:["",""],filters:{dropped_from:null,dropped_to:null,treated_from:null,treated_to:null}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={dropped_from:null,dropped_to:null,treated_from:null,treated_to:null}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const hQt=(0,m.Z)(mQt,[["render",tQt]]);var fQt=hQt,bQt={components:{IndexStatistics:zBt,IndexFilters:fQt,ConfirmationChart:MBt},data(){return{currentFilters:{dropped_from:null,dropped_to:null,treated_from:null,treated_to:null},appliedFilters:{dropped_from:null,dropped_to:null,treated_from:null,treated_to:null},statistics:null,fetching:!0}},methods:{updateFilters(t){this.currentFilters=t},async applyFilters(){this.appliedFilters={...this.currentFilters},this.fetching=!0;try{const t=await F.statistics(this.appliedFilters);"SUCCESS"===t.data.code&&(this.statistics=t.data.data.statistics)}catch(t){console.error("Error fetching statistics:",t),this.$handleApiError(t)}finally{this.fetching=!1}}}};const vQt=(0,m.Z)(bQt,[["render",dBt]]);var xQt=vQt,yQt={name:"dashboards",path:"/dashboards",component:Wa,meta:{module:"dashboards",gate:"all"},children:[{name:"dashboards/admin",path:"admin",component:XNt,meta:{module:"dashboards",subModule:"dashboards/admin",title:"Dashboard",gate:"all"}},{name:"dashboards/seller",path:"seller",component:QZt,meta:{module:"dashboards",subModule:"dashboards/seller",title:"Dashboard",gate:"all"}},{name:"dashboards/analytics",path:"/analytics",component:wBt,meta:{module:"dashboards",subModule:"dashboards/analytics",title:"Dashboard Analytics",gate:"show_all_ads"}},{name:"dashboards/agent",path:"agent",component:xQt,meta:{module:"dashboards",subModule:"dashboards/agent",title:"Dashboard",gate:"all"}}]};class _Qt{async paginate(t="",e){return await E.getCookie(),A.get("api/sourcings"+t,{params:e})}async create(t){return await E.getCookie(),A.post("api/sourcings/new",t)}async update(t,e){return await E.getCookie(),A.post("api/sourcings/"+t,e)}async get(t){return await E.getCookie(),A.get("api/sourcings/"+t)}async history(t){return await E.getCookie(),A.get("api/sourcings/"+t+"/history")}async delete(t){return await E.getCookie(),A["delete"]("api/sourcings/"+t)}}var kQt=new _Qt;const CQt=[{name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-600 tw-font-medium"},{name:"Quoting",value:"quoting",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"},{name:"Confirmed",value:"confirmed",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"}],DQt=[{step:1,name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{step:2,name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-500 tw-font-medium"},{step:3,name:"Packing",value:"packing",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{step:4,name:"Shipped",value:"shipped",class:"tw-text-white tw-bg-violet-500 tw-font-medium"},{step:5,name:"Delivered",value:"delivered",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"},{step:0,name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"}],SQt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zQt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Quotation",-1),UQt=(0,s._)("option",{value:"all"},"All",-1),qQt=["value"];var PQt={__name:"FilterByQuotation",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",SQt,[zQt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ke.SU)(e).setFilter("quotation_status",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[UQt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(CQt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,wt.zw)(t.name),9,qQt)))),128))],32)]))}};const LQt=PQt;var WQt=LQt;const AQt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$Qt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Sourcing",-1),EQt=(0,s._)("option",{value:"all"},"All",-1),TQt=["value"];var FQt={__name:"FilterBySourcing",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",AQt,[$Qt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ke.SU)(e).setFilter("sourcing_status",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[EQt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(DQt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,wt.zw)(t.name),9,TQt)))),128))],32)]))}};const jQt=FQt;var IQt=jQt;const VQt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},OQt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),HQt=(0,s._)("option",{value:"all"},"All",-1),MQt=["value"];var RQt={__name:"FilterBySeller",setup(t){const e=(0,s.f3)("options"),r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/fetched"])),l=(0,s.Fl)((()=>r.getters["user/users"])),o=(0,s.Fl)((()=>a.value?l.value.filter((t=>"seller"==t.role.name)):[]));return(t,r)=>((0,s.wg)(),(0,s.iD)("div",VQt,[OQt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ke.SU)(e).setFilter("user_id",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[HQt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,MQt)))),128))],32)]))}};const NQt=RQt;var YQt=NQt;const ZQt={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-4"},KQt={key:0,class:"md:tw-col-span-4 tw-col-span-12"},BQt={key:1,class:"md:tw-col-span-4 tw-col-span-12"},QQt={key:2,class:"md:tw-col-span-4 tw-col-span-12"},JQt={class:"tw-col-span-12 tw-flex tw-justify-end"},GQt=(0,s._)("span",null,"Filter",-1),XQt=[GQt];var tJt={__name:"FilterOption",setup(t){const e=(0,s.f3)("options");(0,ke.Vh)(e,"options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ZQt,[["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",KQt,[(0,s.Wm)((0,ke.SU)(YQt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",BQt,[(0,s.Wm)((0,ke.SU)(WQt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",QQt,[(0,s.Wm)((0,ke.SU)(IQt))])):(0,s.kq)("",!0),(0,s._)("div",JQt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>(0,ke.SU)(e).getData()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},XQt)])])]))}};const eJt=tJt;var rJt=eJt;const aJt={class:"tw-relative tw-h-[40px] tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},sJt=["value"],lJt=["value"],oJt=["value"];var iJt={__name:"SearchOption",emits:["update:search-by-field","update:search","filter"],setup(t,{emit:e}){const r=e,l=(0,ke.iH)([{field:"all",name:"All"},{field:"id",name:"ID"}]),o=(0,ke.iH)("all"),i=(0,ke.iH)(""),w=t=>{r("update:search-by-field",t.target.value)},n=t=>{r("update:search",t.target.value)},d=()=>{r("filter")};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",aJt,[(0,s._)("select",{onChange:w,value:o.value,class:"tw-block tw-h-[40px] !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.field,key:t.field},(0,wt.zw)(t.name),9,lJt)))),128))],40,sJt),(0,s._)("input",{type:"text",placeholder:"Search",value:i.value,onInput:n,onKeyup:(0,a.D2)(d,["enter"]),class:"tw-block tw-h-[40px] tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,oJt),(0,s._)("button",{onClick:d,class:"tw-absolute tw-h-[40px] tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])]))}};const wJt=iJt;var nJt=wJt;const dJt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between tw-flex-wrap"},cJt={class:"tw-inline-flex tw-flex-wrap tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},uJt={class:"tw-relative tw-h-[40px]"},pJt=["value"],gJt={class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},mJt={key:0},hJt={class:"tw-overflow-hidden tw-col-span-1"};var fJt={__name:"IndexOptions",setup(t){const e=(0,ke.qj)({filters:!1}),r=(0,s.f3)("options"),a=t=>{r.setOptions({...r.options,per_page:parseInt(t)}),r.getData()};return(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",dJt,[(0,s._)("div",cJt,[(0,s._)("button",{class:(0,wt.C_)([["!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:!0}," View all "),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Filters",class:(0,wt.C_)([[e.filters&&"!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),onClick:r[0]||(r[0]=t=>e.filters=!e.filters)},[(0,s.Wm)(l,{icon:"mi:filter",class:"tw-text-2xl"})],2)):(0,s.kq)("",!0),(0,s._)("div",uJt,[(0,s._)("select",{value:10,onChange:r[1]||(r[1]=t=>a(t.target.value)),class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)([5,10,20,50,100,250,500],(t=>(0,s._)("option",{value:t,key:t},(0,wt.zw)(t),9,pJt))),64))],32),(0,s._)("div",gJt,[(0,s.Wm)(l,{icon:"mdi:chevron-down",class:"tw-text-xl"})])])]),(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(nJt))])]),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",mJt,[(0,s._)("div",{class:(0,wt.C_)([[e.filters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",hJt,[(0,s.Wm)((0,ke.SU)(rJt))])],2)])):(0,s.kq)("",!0)])}}};const bJt=fJt;var vJt=bJt;const xJt={class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},yJt=["colspan"],_Jt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},kJt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),CJt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),DJt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),SJt=[CJt,DJt];var zJt={__name:"TableLoading",props:{columns:{type:Number,required:!1,default:10},rows:{type:Number,required:!1,default:10}},setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("tbody",xJt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:e.rows},[(0,s._)("div",_Jt,[kJt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.columns,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},SJt)))),128))])],8,yJt)])]))}};const UJt=zJt;var qJt=UJt;const PJt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},LJt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},WJt=(0,s._)("span",null,"Sourcing History",-1),AJt={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},$Jt={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},EJt={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},TJt={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},FJt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-6 tw-h-6 tw-bg-neutral-100 tw-rounded-full -tw-left-3 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),jJt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},IJt={class:"tw-text-gray-500"},VJt={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},OJt=["onMouseenter","onMouseleave"],HJt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600"},MJt={class:"tw-flex tw-flex-col tw-gap-4"},RJt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},NJt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},YJt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},ZJt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},KJt={key:1,class:"tw-w-full"},BJt=(0,s._)("div",{class:"tw-items-center tw-justify-between tw-mb-3 sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},"Added a note:")],-1),QJt={class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var JJt={__name:"TableActionsHistory",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r={product_name:"Product name",product_url:"Product URL",video_url:"Video URL",is_paid:"Paid",paid_at:"Paid at",estimated_quantity:"Estimated Quantity",destination_country:"Destination Country",note_by_seller:"Note by seller",note_by_admin:"Note by admin",shipping_method:"Shipping Method",quotation_status:"Quotation Status",sourcing_status:"Sourcing Status",cost_per_unit:"Unit Price",total_cost:"Total Cost",additional_fees:"Additional Fees"},a={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}},l=t,o=e,i=(0,ke.Vh)(l,"visible"),w=(0,ke.Vh)(l,"sourcing"),n=(0,ke.iH)(!0),d=(0,ke.iH)([!0]),c=async()=>{n.value=!0,await kQt.history(w.value.id).then((t=>{"SUCCESS"==t.data.code&&(d.value=t.data.history,d.value.reverse())})),n.value=!1};return c(),(t,e)=>{const l=(0,s.up)("icon"),w=(0,s.up)("loading"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(c,{visible:i.value,onCancel:e[1]||(e[1]=t=>o("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",PJt,[(0,s._)("div",LJt,[WJt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(l,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),n.value?((0,s.wg)(),(0,s.iD)("div",AJt,[(0,s.Wm)(w)])):(0,s.kq)("",!0),n.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$Jt,[d.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",EJt,"There is no history for this sourcing yet.")),d.value.length?((0,s.wg)(),(0,s.iD)("ol",TJt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-mb-10 tw-mx-6"},[FJt,(0,s._)("div",jJt,[(0,s._)("p",IJt,[(0,s.Uk)(" by "),(0,s._)("span",VJt,(0,wt.zw)(t.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:e=>t.isHovering=!0,onMouseleave:e=>t.isHovering=!1},(0,wt.zw)(t.isHovering?(0,ke.SU)(ze())(t.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ke.SU)(ze())(t.created_at).fromNow()),41,OJt)]),(0,s._)("div",HJt,[(0,s._)("div",MJt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.fields,(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[["note_by_seller","note_by_admin"].includes(t.field)?((0,s.wg)(),(0,s.iD)("div",KJt,[BJt,(0,s._)("div",QJt,(0,wt.zw)(t.new_value),1)])):((0,s.wg)(),(0,s.iD)("div",RJt,[(0,s.Uk)("Changed "),(0,s._)("span",NJt,(0,wt.zw)(r[t.field]),1),(0,s.Uk)(" from "),(0,s._)("span",YJt,(0,wt.zw)(t.field in a?a[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",ZJt,(0,wt.zw)(t.field in a?a[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])])])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const GJt=JJt;var XJt=GJt;const tGt={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"};var eGt={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,ke.qj)({history:!1}),a=(0,ke.Vh)(e,"item");return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",tGt,["seller"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:0,to:{name:"sourcings.show",params:{id:a.value.id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-blue-300 tw-text-blue-500 tw-duration-200 hover:tw-bg-blue-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"solar:eye-bold"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:1,to:{name:"sourcings.show",params:{id:a.value.id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-emerald-300 tw-text-emerald-500 tw-duration-200 hover:tw-bg-emerald-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"clarity:edit-solid"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[0]||(e[0]=t=>r.history=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-purple-300 tw-text-purple-500 tw-duration-200 hover:tw-bg-purple-500 hover:tw-text-white"},[(0,s.Wm)(l,{icon:"iconamoon:history"})])):(0,s.kq)("",!0)]),"admin"==t.$user.role&&r.history?((0,s.wg)(),(0,s.j4)((0,ke.SU)(XJt),{key:0,visible:r.history,"onUpdate:visible":e[1]||(e[1]=t=>r.history=t),sourcing:a.value},null,8,["visible","sourcing"])):(0,s.kq)("",!0)])}}};const rGt=eGt;var aGt=rGt;const sGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},oGt={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},iGt={class:"tw-w-[100px] tw-truncate"},wGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nGt={class:"tw-w-[200px] tw-truncate"},dGt={class:"tw-px-4 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},pGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},gGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},mGt={key:0,class:"tw-flex tw-items-center tw-justify-center tw-gap-2"},hGt={key:1,class:"tw-flex tw-items-center tw-justify-center tw-gap-2"},fGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},bGt={class:"tw-px-4"},vGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},xGt={class:"tw-px-4"},yGt=["admin"];var _Gt={__name:"TableRow",props:{item:{type:Object,required:!0}},setup(t){const e=(0,i.oR)(),r=(0,s.Fl)((()=>e.getters["user/user"])),a=t,l=(0,ke.Vh)(a,"item"),o=(0,ke.iH)(CQt.find((t=>t.value==l.value.quotation_status))),w=(0,ke.iH)(DQt.find((t=>t.value==l.value.sourcing_status)));return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",sGt,(0,wt.zw)(l.value.id),1),(0,s._)("td",lGt,(0,wt.zw)((0,ke.SU)(ze())(l.value.created_at).format("YYYY-MM-DD HH:mm:ss")),1),"admin"==r.value.role?((0,s.wg)(),(0,s.iD)("td",oGt,[(0,s._)("p",iGt,(0,wt.zw)(l.value.seller_name),1)])):(0,s.kq)("",!0),(0,s._)("td",wGt,[(0,s._)("p",nGt,(0,wt.zw)(l.value.product_name),1)]),(0,s._)("td",dGt,[(0,s._)("p",{class:(0,wt.C_)({"tw-text-xs tw-text-center  tw-py-1 tw-font-medium tw-rounded tw-bg-blue-100 darkx:tw-bg-gray-800 darkx:tw-text-orange-400":"ocean-freight"===l.value.shipping_method,"tw-text-xs tw-text-center tw-py-1 tw-font-medium tw-bg-yellow-100  tw-rounded":"air-freight"===l.value.shipping_method})},(0,wt.zw)("air-freight"===l.value.shipping_method?"By Air":"ocean-freight"===l.value.shipping_method?"By Ocean":l.value.shipping_method),3)]),(0,s._)("td",cGt,(0,wt.zw)((0,ke.SU)(c))+(0,wt.zw)(l.value.total_cost),1),(0,s._)("td",uGt,(0,wt.zw)(l.value.estimated_quantity),1),(0,s._)("td",pGt,(0,wt.zw)(l.value.destination_country),1),(0,s._)("td",gGt,[(0,s._)("div",null,[l.value.is_paid?((0,s.wg)(),(0,s.iD)("div",mGt,[(0,s.Wm)(a,{icon:"mingcute:check-2-fill",class:"tw-text-xl tw-text-emerald-500"})])):((0,s.wg)(),(0,s.iD)("div",hGt,[(0,s.Wm)(a,{icon:"mdi:clock-time-two-outline",class:"tw-text-xl tw-text-yellow-500"})]))])]),(0,s._)("td",fGt,[(0,s._)("div",bGt,[(0,s._)("div",{class:(0,wt.C_)([o.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,wt.zw)(o.value.name),3)])]),(0,s._)("td",vGt,[(0,s._)("div",xGt,[(0,s._)("div",{class:(0,wt.C_)([w.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,wt.zw)(w.value.name),3)])]),(0,s._)("td",{admin:r.value},[(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(aGt),{item:l.value},null,8,["item"])])],8,yGt)])}}};const kGt=_Gt;var CGt=kGt;const DGt={class:"tw-overflow-x-auto"},SGt={class:"tw-inline-block tw-min-w-full tw-align-middle"},zGt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},UGt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},qGt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},PGt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},LGt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},WGt=["colspan"],AGt=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No request was found ! ",-1),$Gt=[AGt];var EGt={__name:"IndexTable",props:{loading:{required:!0,type:Boolean},sourcings:{required:!0,type:Array}},setup(t){const e=(0,i.oR)(),r=(0,s.Fl)((()=>e.getters["user/user"])),a=t,l=(0,ke.Vh)(a,"loading"),o=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"seller",name:"Seller",class:"tw-max-w-[150px] tw-truncate"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"total_cost",name:"Total Price",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"paid",name:"Paid",class:"tw-w-[80px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],w=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"total_cost",name:"Total Price",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"paid",name:"Paid",class:"tw-w-[80px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],n=(0,ke.iH)("admin"==r.value.role?o:w),d=(0,ke.Vh)(a,"sourcings");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",DGt,[(0,s._)("div",SGt,[(0,s._)("div",zGt,[(0,s._)("table",UGt,[(0,s._)("thead",qGt,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.field,class:(0,wt.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],2)))),128))])]),l.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(qJt),{key:1,columns:n.value.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[d.value.length?((0,s.wg)(),(0,s.iD)("tbody",PGt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(CGt),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),d.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",LGt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:n.value.length},$Gt,8,WGt)])]))],64))])])])])]))}};const TGt=EGt;var FGt=TGt;const jGt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},IGt={class:"tw-px-3"},VGt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},OGt={class:"tw-flex tw-items-center tw-gap-x-3"},HGt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Requested Products ",-1),MGt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},RGt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all requested products. ",-1),NGt={key:0},YGt=(0,s._)("span",null,"Request new product",-1),ZGt={class:"tw-mt-5"};var KGt={__name:"IndexSourcingView",setup(t){const e=(0,ke.iH)([]),r=(0,ke.qj)({total:0,current_page:1,last_page:1,from:1,to:1,per_page:10,sort_by:"created_at",sort_order:"desc",filters:{}}),a=(0,ke.iH)(!1),l=async()=>{a.value=!0,await kQt.paginate("",r).then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.sourcings.data,r.total=t.data.sourcings.total,r.current_page=t.data.sourcings.current_page,r.last_page=t.data.sourcings.last_page,r.from=t.data.sourcings.from,r.to=t.data.sourcings.to,r.per_page=t.data.sourcings.per_page,r.page=r.current_page)})),a.value=!1},o=t=>{r.current_page=t,r.page=t,l()};return(0,s.JJ)("options",{options:r,getData:l,setOptions:t=>Object.assign(r,t),setFilter:(t,e)=>r.filters[t]=e}),l(),(t,l)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",jGt,[(0,s._)("section",IGt,[(0,s._)("div",VGt,[(0,s._)("div",null,[(0,s._)("div",OGt,[HGt,(0,s._)("span",MGt,(0,wt.zw)(r.total)+" request",1)]),RGt]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",NGt,[(0,s.Wm)(i,{to:{name:"sourcings.new"},class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},{default:(0,s.w5)((()=>[YGt])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(vJt))]),(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(FGt),{loading:a.value,sourcings:e.value},null,8,["loading","sourcings"])]),(0,s._)("div",ZGt,[(0,s.Wm)((0,ke.SU)(iw),{total:r.total,"current-page":r.current_page,"last-page":r.last_page,from:r.from,to:r.to,"per-page":r.per_page,onPageChange:o},null,8,["total","current-page","last-page","from","to","per-page"])])])])}}};const BGt=KGt;var QGt=BGt;const JGt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},GGt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),XGt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),tXt={class:"tw-p-5"},eXt={class:"tw-grid tw-grid-cols-5"},rXt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},aXt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),sXt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},lXt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),oXt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},iXt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),wXt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},nXt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),dXt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},cXt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var uXt={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=(0,b.yj)(),r=t,a=(0,ke.Vh)(r,"sourcing"),l=(0,s.Fl)((()=>CQt.find((t=>t.value==a.value.quotation_status)))),o=(0,s.Fl)((()=>DQt.find((t=>t.value==a.value.sourcing_status))));return(t,r)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",JGt,[(0,s._)("p",null,[GGt,(0,s.Uk)(" "+(0,wt.zw)((0,ke.SU)(e).params.id),1)]),(0,s._)("p",null,[XGt,(0,s.Uk)(" "+(0,wt.zw)((0,ke.SU)(ze())(a.value.created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",tXt,[(0,s._)("div",eXt,[(0,s._)("div",rXt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),aXt]),(0,s._)("div",sXt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=2&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=2&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),lXt]),(0,s._)("div",oXt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=3&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=3&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),iXt]),(0,s._)("div",wXt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=4&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=4&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),nXt]),(0,s._)("div",dXt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=5&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=5&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),cXt])])])])}}};const pXt=uXt;var gXt=pXt;const mXt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},hXt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Cancel product sourcing ",-1),fXt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to cancel with this sourcing ? ")],-1),bXt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},vXt=["disabled"],xXt=(0,s._)("span",null,"Confirm",-1);var yXt={__name:"SourcingRequestCancel",props:["sourcing"],setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)(!1),a=t,l=(0,ke.Vh)(a,"sourcing"),o=(0,s.f3)("sourcing"),i=async()=>{console.log(a),r.value=!0,await kQt.update(l.value.id,{...l.value,quotation_status:"cancelled"}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Tc("Quotation has been cancelled"))})),e.value=!1,r.value=!1};return(t,a)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>e.value=!0),class:"tw-py-2 tw-px-7 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s.Wm)(l,{visible:e.value,onCancel:a[2]||(a[2]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",mXt,[hXt,fXt,(0,s._)("div",bXt,[(0,s._)("button",{onClick:a[1]||(a[1]=t=>e.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),xXt],8,vXt)])])])),_:1},8,["visible"])])}}};const _Xt=yXt;var kXt=_Xt;const CXt={class:"tw-p-5"},DXt={class:"tw-space-y-4"},SXt={class:"tw-flex tw-items-center tw-justify-between"},zXt=(0,s._)("span",null,"Destination Country:",-1),UXt={class:"tw-font-black tw-text-neutral-800, tw-capitalize"},qXt={class:"tw-flex tw-items-center tw-justify-between"},PXt=(0,s._)("span",null,"Shipping Method:",-1),LXt={key:0,class:"tw-font-black tw-text-neutral-800"},WXt={key:1,class:"tw-font-black tw-text-neutral-800"},AXt={class:"tw-flex tw-items-center tw-justify-between"},$Xt=(0,s._)("span",null,"Quantity:",-1),EXt={class:"tw-font-black tw-text-neutral-800"},TXt={class:"tw-flex tw-items-center tw-justify-between"},FXt=(0,s._)("span",null,"Unit Price:",-1),jXt={class:"tw-font-black tw-text-neutral-800"},IXt={class:"tw-flex tw-items-center tw-justify-between tw-"},VXt=(0,s._)("span",null,"Additional Fees:",-1),OXt={class:"tw-font-black tw-text-neutral-800"},HXt=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),MXt={class:"tw-flex tw-items-center tw-justify-between"},RXt=(0,s._)("span",null,"Total:",-1),NXt={class:"tw-font-black tw-text-neutral-800"},YXt={key:0,class:"tw-space-y-2 mt-5"},ZXt=(0,s._)("span",null,"Confirm",-1),KXt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},BXt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Confirm product sourcing ",-1),QXt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to proceed with this action ? ")],-1),JXt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},GXt=["disabled"],XXt=(0,s._)("span",null,"Confirm",-1);var t0t={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)(!1),a=t,l=(0,ke.Vh)(a,"sourcing"),o=(0,s.f3)("sourcing"),i=async()=>{r.value=!0,await kQt.update(l.value.id,{...l.value,quotation_status:"confirmed"}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Tc("Quotation has been accepted"))})),e.value=!1,r.value=!1};return(t,a)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",CXt,[(0,s._)("div",null,[(0,s._)("ul",DXt,[(0,s._)("li",SXt,[zXt,(0,s._)("span",UXt,(0,wt.zw)(l.value.destination_country),1)]),(0,s._)("li",qXt,[PXt,"air-freight"==l.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",LXt,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==l.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",WXt,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",AXt,[$Xt,(0,s._)("span",EXt,(0,wt.zw)(l.value.estimated_quantity),1)]),(0,s._)("li",TXt,[FXt,(0,s._)("span",jXt,(0,wt.zw)(l.value.cost_per_unit)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),(0,s._)("li",IXt,[VXt,(0,s._)("span",OXt,(0,wt.zw)(l.value.additional_fees)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),HXt,(0,s._)("li",MXt,[RXt,(0,s._)("span",NXt,(0,wt.zw)(parseFloat(l.value.total_cost).toFixed(2))+" "+(0,wt.zw)((0,ke.SU)(c)),1)])])]),"quoting"==l.value.quotation_status||["quoting","pending"].includes(l.value.quotation_status)?((0,s.wg)(),(0,s.iD)("div",YXt,["quoting"==l.value.quotation_status?((0,s.wg)(),(0,s.iD)("button",{key:0,disabled:!1,onClick:a[0]||(a[0]=t=>e.value=!0),class:"tw-py-2 tw-px-7 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),ZXt])):(0,s.kq)("",!0),["quoting","pending"].includes(l.value.quotation_status)?((0,s.wg)(),(0,s.j4)((0,ke.SU)(kXt),{key:1,sourcing:l.value},null,8,["sourcing"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"quoting"==l.value.quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:1,visible:e.value,onCancel:a[2]||(a[2]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",KXt,[BXt,QXt,(0,s._)("div",JXt,[(0,s._)("button",{onClick:a[1]||(a[1]=t=>e.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),XXt],8,GXt)])])])),_:1},8,["visible"])):(0,s.kq)("",!0)])}}};const e0t=t0t;var r0t=e0t;const a0t={class:"tw-w-full"},s0t={class:"tw-w-full"},l0t=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Product details "),(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Quantity ")])],-1),o0t={class:"tw-pt-2"},i0t={class:"tw-whitespace-normal tw-max-w-[500px] tw-truncate"},w0t=["href"],n0t={class:"tw-pt-2"};var d0t={__name:"SourcingRequestProductDetails",props:["sourcing"],setup(t){const e=t,r=(0,ke.Vh)(e,"sourcing");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",a0t,[(0,s._)("table",s0t,[l0t,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",o0t,[(0,s._)("p",i0t,[(0,s._)("a",{href:r.value.product_url,class:"tw-text-blue-500 tw-cursor-pointer hover:tw-underline"},(0,wt.zw)(r.value.product_name),9,w0t)])]),(0,s._)("td",n0t,(0,wt.zw)(r.value.estimated_quantity),1)])])])]))}};const c0t=d0t;var u0t=c0t;const p0t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},g0t={class:"tw-px-3"},m0t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},h0t={class:"tw-flex tw-items-center tw-gap-x-5"},f0t={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},b0t={class:"tw-flex tw-items-center tw-gap-2"},v0t={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},x0t={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},y0t={class:"tw-space-y-4 lg:tw-col-span-8"},_0t={key:0,class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},k0t={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},C0t=(0,s._)("span",null,[(0,s.Uk)("Note from "),(0,s._)("span",{class:"tw-font-bold"},"Admin")],-1),D0t={class:"tw-p-2 tw-border tw-border-t-0 tw-bg-white tw-border-blue-200 tw-rounded-b-md"},S0t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},z0t={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},U0t={class:"lg:tw-col-span-4"},q0t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var P0t={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=(0,b.yj)(),r=(0,s.Fl)((()=>CQt.find((t=>t.value==o.value.quotation_status)))),a=(0,s.Fl)((()=>DQt.find((t=>t.value==o.value.sourcing_status)))),l=t,o=(0,ke.Vh)(l,"sourcing");(0,ke.Vh)(l,"loading");return(t,l)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",p0t,[(0,s._)("section",g0t,[(0,s._)("div",m0t,[(0,s._)("div",null,[(0,s._)("div",h0t,[(0,s._)("h2",f0t," Quotation: #"+(0,wt.zw)((0,ke.SU)(e).params.id),1),(0,s._)("div",b0t,[(0,s._)("div",{class:(0,wt.C_)([r.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,wt.zw)(r.value.name),3),(0,s._)("div",{class:(0,wt.C_)([a.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,wt.zw)(a.value.name),3)])]),(0,s._)("p",v0t,(0,wt.zw)((0,ke.SU)(ze())(o.value.created_at).format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",x0t,[(0,s._)("div",y0t,[o.value.note_by_admin?((0,s.wg)(),(0,s.iD)("div",_0t,[(0,s._)("div",k0t,[(0,s.Wm)(i,{icon:"ph:info-fill",class:"tw-text-xl tw-text-blue-500"}),C0t]),(0,s._)("div",D0t,[(0,s._)("h1",null,(0,wt.zw)(o.value.note_by_admin),1)])])):(0,s.kq)("",!0),(0,s._)("div",S0t,[(0,s.Wm)((0,ke.SU)(gXt),{sourcing:o.value},null,8,["sourcing"])]),(0,s._)("div",z0t,[(0,s.Wm)((0,ke.SU)(u0t),{sourcing:o.value},null,8,["sourcing"])])]),(0,s._)("div",U0t,[(0,s._)("div",q0t,[(0,s.Wm)((0,ke.SU)(r0t),{sourcing:o.value},null,8,["sourcing"])])])])])}}};const L0t=P0t;var W0t=L0t;const A0t={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},$0t=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),E0t=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),T0t={class:"tw-p-3 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-border-b tw-border-solid tw-border-neutral-200"},F0t={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},j0t={class:"tw-relative tw-z-40"},I0t=["disabled","value"],V0t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),O0t={key:0,class:""},H0t={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},M0t={class:"tw-space-y-1 tw-py-1"},R0t=["onClick"],N0t={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},Y0t={class:"tw-relative tw-z-30"},Z0t=["disabled","value"],K0t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),B0t={key:0,class:""},Q0t={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},J0t={class:"tw-space-y-1 tw-py-1"},G0t=["onClick"],X0t={class:"tw-p-5"},t1t={class:"tw-grid tw-grid-cols-5"},e1t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},r1t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),a1t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},s1t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),l1t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},o1t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),i1t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},w1t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),n1t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},d1t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var c1t={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=(0,b.yj)(),r=t,l=(0,ke.Vh)(r,"sourcing"),o=(0,s.f3)("sourcing"),i=(0,ke.qj)({quotation_status:!1,sourcing_status:!1}),w=(0,ke.qj)({quotation_status:!1,sourcing_status:!1}),n=(0,s.Fl)((()=>CQt.find((t=>t.value==l.value.quotation_status)))),d=(0,s.Fl)((()=>DQt.find((t=>t.value==l.value.sourcing_status)))),c=async(t,e)=>{if(i[t]=!1,l.value[t]==e.value)return!1;w[t]=!0,await kQt.update(l.value.id,{...l.value,[t]:e.value}).then((t=>{"SUCCESS"==t.data.code&&o.updateSourcing(t.data.sourcing)})),w[t]=!1};return(t,r)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",A0t,[(0,s._)("p",null,[$0t,(0,s.Uk)(" "+(0,wt.zw)((0,ke.SU)(e).params.id),1)]),(0,s._)("p",null,[E0t,(0,s.Uk)(" "+(0,wt.zw)((0,ke.SU)(ze())(l.value.created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",T0t,[(0,s._)("div",null,[(0,s._)("label",F0t,[(0,s.Uk)(" Quotation Status "),w.quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",j0t,[(0,s._)("input",{class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-text-start tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:w.quotation_status,onClick:r[0]||(r[0]=t=>i.quotation_status=!i.quotation_status),type:"button",value:n.value.name,readonly:"",required:""},null,8,I0t),V0t,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.quotation_status?((0,s.wg)(),(0,s.iD)("div",O0t,[(0,s._)("div",H0t,[(0,s._)("div",M0t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(CQt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("quotation_status",t),class:(0,wt.C_)(["tw-w-full tw-p-2",[t.class]])},(0,wt.zw)(t.name),11,R0t)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,()=>i.quotation_status=!1]]),(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("label",N0t,[(0,s.Uk)(" Sourcing Status "),w.sourcing_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",Y0t,[(0,s._)("input",{class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border tw-text-start tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:w.sourcing_status,onClick:r[1]||(r[1]=t=>i.sourcing_status=!i.sourcing_status),type:"button",value:d.value.name,readonly:"",required:""},null,8,Z0t),K0t,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.sourcing_status?((0,s.wg)(),(0,s.iD)("div",B0t,[(0,s._)("div",Q0t,[(0,s._)("div",J0t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(DQt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("sourcing_status",t),class:(0,wt.C_)(["tw-w-full tw-p-2",[t.class]])},(0,wt.zw)(t.name),11,G0t)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,()=>i.sourcing_status=!1]]),(0,s.kq)("",!0)])]),(0,s._)("div",X0t,[(0,s._)("div",t1t,[(0,s._)("div",e1t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),r1t]),(0,s._)("div",a1t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=2&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=2&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),s1t]),(0,s._)("div",l1t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=3&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=3&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),o1t]),(0,s._)("div",i1t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=4&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=4&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),w1t]),(0,s._)("div",n1t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=5&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=5&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),d1t])])])])}}};const u1t=c1t;var p1t=u1t;const g1t={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},m1t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},h1t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Quotation ",-1),f1t={class:"tw-p-5 tw-space-y-4"},b1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),v1t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),x1t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),y1t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),_1t=[v1t,x1t,y1t],k1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},C1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),D1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},S1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Unit Price for Admin",-1),z1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},U1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Unit Price for Seller",-1),q1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},P1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Additional Fees",-1),L1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},W1t=(0,s._)("div",{class:"tw-border-b tw-border-solid tw-border-neutral-300 tw-my-2"},null,-1),A1t={class:"tw-flex tw-items-center tw-justify-between"},$1t=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Total",-1),E1t={class:"tw-text-lg tw-font-bold"},T1t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},F1t=["disabled"],j1t=(0,s._)("span",null,"Send quotation",-1);var I1t={__name:"SourcingRequestPricingEdit",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,s.f3)("sourcing"),i=(0,ke.iH)(!1),w=(0,ke.qj)({sourcing:{},errors:{}}),n=(0,s.Fl)((()=>(w.sourcing.estimated_quantity??0)*(w.sourcing.cost_per_unit??0)+(w.sourcing.additional_fees??0))),d=()=>{r("update:visible",!1)},u=async()=>{i.value=!0;const t="pending"==w.sourcing.quotation_status?"quoting":w.sourcing.quotation_status;await kQt.update(w.sourcing.id,{...w.sourcing,total_cost:n.value,quotation_status:t}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Tc("Quotation sent"),d())}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)w.errors[e]=t?.response?.data?.errors[e][0]})),i.value=!1};return(0,s.YP)((()=>l.visible),(()=>{w.sourcing=yo(l.sourcing)})),(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(r,{visible:l.visible,onCancel:d},{default:(0,s.w5)((()=>[(0,s._)("div",g1t,[(0,s._)("div",m1t,[h1t,(0,s._)("div",f1t,[(0,s._)("div",null,[b1t,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>w.sourcing.shipping_method=t),onInput:e[1]||(e[1]=t=>w.errors.shipping_method=null),class:(0,wt.C_)([[w.errors.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},_1t,34),[[a.bM,w.sourcing.shipping_method,void 0,{number:!0}]]),w.errors.shipping_method?((0,s.wg)(),(0,s.iD)("label",k1t,(0,wt.zw)(w.errors.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[C1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.sourcing.estimated_quantity=t),onInput:e[3]||(e[3]=t=>w.errors.estimated_quantity=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[w.errors.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter the quantity",required:""},null,34),[[a.nr,w.sourcing.estimated_quantity,void 0,{number:!0}]]),w.errors.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",D1t,(0,wt.zw)(w.errors.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[S1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>w.sourcing.buying_price=t),onInput:e[5]||(e[5]=t=>w.errors.buying_price=null),type:"number",class:(0,wt.C_)([[w.errors.buying_price&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter buying price",required:""},null,34),[[a.nr,w.sourcing.buying_price,void 0,{number:!0}]]),w.errors.buying_price?((0,s.wg)(),(0,s.iD)("label",z1t,(0,wt.zw)(w.errors.buying_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[U1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>w.sourcing.cost_per_unit=t),onInput:e[7]||(e[7]=t=>w.errors.cost_per_unit=null),type:"number",class:(0,wt.C_)([[w.errors.cost_per_unit&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a unit price for the quotation",required:""},null,34),[[a.nr,w.sourcing.cost_per_unit,void 0,{number:!0}]]),w.errors.cost_per_unit?((0,s.wg)(),(0,s.iD)("label",q1t,(0,wt.zw)(w.errors.cost_per_unit),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[P1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>w.sourcing.additional_fees=t),onInput:e[9]||(e[9]=t=>w.errors.additional_fees=null),type:"number",class:(0,wt.C_)([[w.errors.additional_fees&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a additional fees for the sourcing",required:""},null,34),[[a.nr,w.sourcing.additional_fees,void 0,{number:!0}]]),w.errors.additional_fees?((0,s.wg)(),(0,s.iD)("label",L1t,(0,wt.zw)(w.errors.additional_fees),1)):(0,s.kq)("",!0)]),W1t,(0,s._)("div",A1t,[$1t,(0,s._)("span",E1t,(0,wt.zw)(n.value.toFixed(2))+" "+(0,wt.zw)((0,ke.SU)(c)),1)])]),(0,s._)("div",T1t,[(0,s._)("button",{onClick:d,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:u,disabled:i.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),j1t],8,F1t)])])])])),_:1},8,["visible"])}}};const V1t=I1t;var O1t=V1t;const H1t={class:"tw-flex tw-items-center tw-justify-between tw-p-2 tw-border-b tw-border-solid tw-border-gray-200"},M1t=(0,s._)("span",null,"Paid",-1),R1t=["disabled"],N1t={class:"tw-p-5"},Y1t={class:"tw-space-y-4"},Z1t={class:"tw-flex tw-items-center tw-justify-between"},K1t=(0,s._)("span",null,"Destination Country:",-1),B1t={class:"tw-font-black tw-text-neutral-800 tw-capitalize"},Q1t={class:"tw-flex tw-items-center tw-justify-between"},J1t=(0,s._)("span",null,"Shipping Method:",-1),G1t={key:0,class:"tw-font-black tw-text-neutral-800"},X1t={key:1,class:"tw-font-black tw-text-neutral-800"},t2t={class:"tw-flex tw-items-center tw-justify-between"},e2t=(0,s._)("span",null,"Quantity:",-1),r2t={class:"tw-font-black tw-text-neutral-800"},a2t={class:"tw-flex tw-items-center tw-justify-between"},s2t=(0,s._)("span",null,"Unit Price for admin:",-1),l2t={class:"tw-font-black tw-text-neutral-800"},o2t={class:"tw-flex tw-items-center tw-justify-between"},i2t=(0,s._)("span",null,"Unit Price for seller:",-1),w2t={class:"tw-font-black tw-text-neutral-800"},n2t={class:"tw-flex tw-items-center tw-justify-between tw-"},d2t=(0,s._)("span",null,"Additional Fees:",-1),c2t={class:"tw-font-black tw-text-neutral-800"},u2t=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),p2t={class:"tw-flex tw-items-center tw-justify-between"},g2t=(0,s._)("span",null,"Total:",-1),m2t={class:"tw-font-black tw-text-neutral-800"},h2t={class:"tw-space-y-2 tw-px-5 tw-pb-5"},f2t=(0,s._)("span",null,"Edit",-1);var b2t={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=t,r=(0,ke.Vh)(e,"sourcing"),a=(0,s.f3)("sourcing"),l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=(0,ke.iH)(!1);l.value=1==e.sourcing.is_paid;const w=async()=>{i.value=!0,l.value=!l.value;const t=(new Date).toISOString().slice(0,19).replace("T"," ");await kQt.update(r.value.id,{...e.sourcing,is_paid:l.value?1:0,paid_at:l.value?t:null}).then((t=>{"SUCCESS"==t.data.code&&(a.updateSourcing(t.data.sourcing),l.value=t.data.sourcing.is_paid)}),(t=>{console.log(t),l.value=1==e.sourcing.is_paid})),i.value=!1};return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",H1t,[M1t,(0,s._)("button",{disabled:i.value,onClick:w,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,wt.C_)([[l.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[(0,s.Wm)(a,{class:(0,wt.C_)([[!l.value&&!i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-yellow-500"]),icon:"mdi:clock-time-two-outline"},null,8,["class"]),(0,s.Wm)(a,{class:(0,wt.C_)([[l.value&&!i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-emerald-500"]),icon:"mingcute:check-2-fill"},null,8,["class"]),(0,s.Wm)(a,{class:(0,wt.C_)([[i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-orange-500"]),icon:"eos-icons:three-dots-loading"},null,8,["class"])],2)],8,R1t)]),(0,s._)("div",N1t,[(0,s._)("ul",Y1t,[(0,s._)("li",Z1t,[K1t,(0,s._)("span",B1t,(0,wt.zw)(r.value.destination_country),1)]),(0,s._)("li",Q1t,[J1t,"air-freight"==r.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",G1t,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==r.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",X1t,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",t2t,[e2t,(0,s._)("span",r2t,(0,wt.zw)(r.value.estimated_quantity),1)]),(0,s._)("li",a2t,[s2t,(0,s._)("span",l2t,(0,wt.zw)(r.value.buying_price)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),(0,s._)("li",o2t,[i2t,(0,s._)("span",w2t,(0,wt.zw)(r.value.cost_per_unit)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),(0,s._)("li",n2t,[d2t,(0,s._)("span",c2t,(0,wt.zw)(r.value.additional_fees)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),u2t,(0,s._)("li",p2t,[g2t,(0,s._)("span",m2t,(0,wt.zw)(r.value.total_cost)+" "+(0,wt.zw)((0,ke.SU)(c)),1)])])]),(0,s._)("div",h2t,[(0,s._)("button",{disabled:!1,onClick:e[0]||(e[0]=t=>o.value=!0),class:"tw-py-2 tw-px-7 tw-gap-2 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),(0,s.Wm)(a,{icon:"clarity:edit-solid",class:"tw-text-lg tw-text-white"}),f2t]),(0,s.kq)("",!0)]),(0,s.Wm)((0,ke.SU)(O1t),{sourcing:r.value,visible:o.value,"onUpdate:visible":e[1]||(e[1]=t=>o.value=t)},null,8,["sourcing","visible"])])}}};const v2t=b2t;var x2t=v2t;const y2t={class:"tw-p-5"},_2t={class:"tw-grid tw-grid-cols-12 tw-gap-5"},k2t={class:"md:tw-col-span-6 tw-col-span-12"},C2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),D2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},S2t={class:"md:tw-col-span-6 tw-col-span-12"},z2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),U2t={class:"tw-relative"},q2t=["href"],P2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},L2t={class:"md:tw-col-span-6 tw-col-span-12"},W2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),A2t={class:"tw-relative"},$2t=["href"],E2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T2t={class:"md:tw-col-span-6 tw-col-span-12"},F2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),j2t={class:"tw-relative"},I2t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),V2t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),O2t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),H2t=[I2t,V2t,O2t],M2t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),R2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},N2t={class:"md:tw-col-span-6 tw-col-span-12"},Y2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),Z2t={class:"tw-relative"},K2t=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),B2t=[K2t],Q2t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),J2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},G2t={class:"tw-col-span-12"},X2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's note",-1),t5t={class:"tw-col-span-12"},e5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Admin's note",-1),r5t={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-pt-4 tw-gap-3"},a5t=["disabled"],s5t=(0,s._)("span",null,"Update",-1);var l5t={__name:"SourcingRequestDetails",props:["sourcing"],setup(t){const e=(0,ke.qj)({}),r=t,l=(0,ke.iH)(!1),o=(0,s.f3)("sourcing"),i=(0,ke.qj)({sourcing:{}}),w=async()=>{l.value=!0,await kQt.update(i.sourcing.id,i.sourcing).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Tc("Updated success"))}),(t=>{if(422==t?.response?.status)for(let r in t?.response?.data?.errors)e[r]=t?.response?.data?.errors[r][0]})),l.value=!1};return(0,s.YP)((()=>r.sourcing),(()=>{i.sourcing=yo(r.sourcing)}),{deep:!0}),i.sourcing=yo(r.sourcing),(t,r)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",y2t,[(0,s._)("div",_2t,[(0,s._)("div",k2t,[C2t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>i.sourcing.product_name=t),onInput:r[1]||(r[1]=t=>e.product_name=null),class:(0,wt.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,i.sourcing.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",D2t,(0,wt.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",S2t,[z2t,(0,s._)("div",U2t,[(0,s._)("a",{href:i.sourcing.product_url,target:"_blank",class:"tw-p-1 tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2"},[(0,s.Wm)(o,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500 hover:tw-text-orange-400 tw-duration-200"})],8,q2t),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>i.sourcing.product_url=t),onInput:r[3]||(r[3]=t=>e.product_url=null),class:(0,wt.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.product_url]])]),e.product_url?((0,s.wg)(),(0,s.iD)("label",P2t,(0,wt.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",L2t,[W2t,(0,s._)("div",A2t,[(0,s._)("a",{href:i.sourcing.video_url,target:"_blank",class:"tw-p-1 tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2"},[(0,s.Wm)(o,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500 hover:tw-text-orange-400 tw-duration-200"})],8,$2t),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[4]||(r[4]=t=>i.sourcing.video_url=t),onInput:r[5]||(r[5]=t=>e.video_url=null),class:(0,wt.C_)([[e.video_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.video_url]])]),e.video_url?((0,s.wg)(),(0,s.iD)("label",E2t,(0,wt.zw)(e.video_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",T2t,[F2t,(0,s._)("div",j2t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":r[6]||(r[6]=t=>i.sourcing.shipping_method=t),onChange:r[7]||(r[7]=t=>e.shipping_method=null),class:(0,wt.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},H2t,34),[[a.bM,i.sourcing.shipping_method]]),M2t]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",R2t,(0,wt.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",N2t,[Y2t,(0,s._)("div",Z2t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":r[8]||(r[8]=t=>i.sourcing.destination_country=t),onChange:r[9]||(r[9]=t=>e.destination_country=null),class:(0,wt.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},B2t,34),[[a.bM,i.sourcing.destination_country]]),Q2t]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",J2t,(0,wt.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",G2t,[X2t,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":r[10]||(r[10]=t=>i.sourcing.note_by_seller=t),rows:"2",class:"tw-bg-gray-50 tw-borderx tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"There is no note"},null,512),[[a.nr,i.sourcing.note_by_seller]])]),(0,s._)("div",t5t,[e5t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":r[11]||(r[11]=t=>i.sourcing.note_by_admin=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Leave a note for seller"},null,512),[[a.nr,i.sourcing.note_by_admin]])]),(0,s._)("div",r5t,[(0,s._)("button",{disabled:l.value,onClick:w,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),s5t],8,a5t)])])])}}};const o5t=l5t;var i5t=o5t;const w5t={class:"tw-relative"},n5t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},d5t={class:"tw-px-3"},c5t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},u5t={class:"tw-flex tw-items-center tw-gap-x-5"},p5t={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},g5t={class:"tw-flex tw-items-center tw-gap-2"},m5t={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},h5t={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},f5t={class:"tw-space-y-4 lg:tw-col-span-8"},b5t={class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},v5t={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},x5t={class:"tw-font-bold"},y5t={key:0,class:"tw-w-full tw-overflow-hidden"},_5t={class:"tw-p-2 tw-border tw-border-t-0 tw-border-blue-200 tw-rounded-b-md"},k5t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},C5t={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},D5t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},S5t={class:"lg:tw-col-span-4"},z5t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var U5t={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=(0,b.yj)(),r=t,a=(0,ke.Vh)(r,"sourcing"),l=((0,ke.Vh)(r,"loading"),(0,s.Fl)((()=>CQt.find((t=>t.value==a.value.quotation_status))))),o=(0,s.Fl)((()=>DQt.find((t=>t.value==a.value.sourcing_status))));return(t,r)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",w5t,[(0,s._)("div",n5t,[(0,s._)("section",d5t,[(0,s._)("div",c5t,[(0,s._)("div",null,[(0,s._)("div",u5t,[(0,s._)("h2",p5t," Quotation: #"+(0,wt.zw)((0,ke.SU)(e).params.id),1),(0,s._)("div",g5t,[(0,s._)("div",{class:(0,wt.C_)([l.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,wt.zw)(l.value.name),3),(0,s._)("div",{class:(0,wt.C_)([o.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,wt.zw)(o.value.name),3)])]),(0,s._)("p",m5t,(0,wt.zw)((0,ke.SU)(ze())("2023-09-08T17:45:06.000000Z").format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",h5t,[(0,s._)("div",f5t,[(0,s._)("div",b5t,[(0,s._)("div",v5t,[(0,s.Wm)(i,{icon:"solar:user-bold",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",null,[(0,s._)("span",x5t,(0,wt.zw)(a.value.seller.firstname)+" "+(0,wt.zw)(a.value.seller.lastname),1)])]),a.value.note_by_seller?((0,s.wg)(),(0,s.iD)("div",y5t,[(0,s._)("div",_5t,[(0,s._)("h1",null,(0,wt.zw)(a.value.note_by_seller),1)])])):(0,s.kq)("",!0)]),(0,s._)("div",k5t,[(0,s.Wm)((0,ke.SU)(p1t),{sourcing:a.value},null,8,["sourcing"])]),(0,s._)("div",C5t,[(0,s.Wm)((0,ke.SU)(u0t),{sourcing:a.value},null,8,["sourcing"])]),(0,s._)("div",D5t,[(0,s.Wm)((0,ke.SU)(i5t),{sourcing:a.value},null,8,["sourcing"])])]),(0,s._)("div",S5t,[(0,s._)("div",z5t,[(0,s.Wm)((0,ke.SU)(x2t),{sourcing:a.value},null,8,["sourcing"])])])])])}}};const q5t=U5t;var P5t=q5t;const L5t={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"};var W5t={__name:"ShowSourcingView",setup(t){const e=(0,i.oR)(),r=(0,b.yj)(),a=(0,b.tv)(),l=r.params.id,o=(0,ke.iH)(!0),w=(0,ke.iH)(null),n=e.getters["user/user"],d=async()=>{o.value=!0,await kQt.get(l).then((t=>{"SUCCESS"==t.data.code&&(w.value=t.data.sourcing),"NOT_FOUND"==t.data.code&&a.push({name:"404"})})),o.value=!1},c=t=>{w.value=t};return(0,s.JJ)("sourcing",{updateSourcing:c}),d(),(t,e)=>{const r=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.value?((0,s.wg)(),(0,s.iD)("div",L5t,[(0,s.Wm)(r)])):(0,s.kq)("",!0),o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["seller"==(0,ke.SU)(n).role?((0,s.wg)(),(0,s.j4)((0,ke.SU)(W0t),{key:0,sourcing:w.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0),"admin"==(0,ke.SU)(n).role?((0,s.wg)(),(0,s.j4)((0,ke.SU)(P5t),{key:1,sourcing:w.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0)],64))],64)}}};const A5t=W5t;var $5t=A5t;const E5t={class:"tw-p-5 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},T5t={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-12 tw-gap-5 tw-mt-5"},F5t={class:"tw-hidden tw-col-span-4 tw-py-16 md:tw-flex tw-items-center tw-justify-center"},j5t=["src"],I5t={class:"tw-col-span-8"},V5t=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-2xl tw-font-semibold"},"We Source For You"),(0,s._)("p",{class:"tw-text-lg tw-mt-2"},"Let our professional sourcing team take care all of your sourcing.")],-1),O5t={class:"tw-grid tw-grid-cols-12 tw-mt-10 tw-gap-5"},H5t={class:"md:tw-col-span-6 tw-col-span-12"},M5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),R5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},N5t={class:"md:tw-col-span-6 tw-col-span-12"},Y5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),Z5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},K5t={class:"md:tw-col-span-6 tw-col-span-12"},B5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),Q5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},J5t={class:"md:tw-col-span-6 tw-col-span-12"},G5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),X5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},t4t={class:"tw-col-span-12"},e4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),r4t={class:"md:tw-col-span-6 tw-col-span-12"},a4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),s4t={class:"tw-relative"},l4t=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),o4t=[l4t],i4t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),w4t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},n4t={class:"md:tw-col-span-6 tw-col-span-12"},d4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),c4t={class:"tw-relative"},u4t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),p4t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),g4t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),m4t=[u4t,p4t,g4t],h4t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),f4t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},b4t={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-py-4 tw-gap-3"},v4t=(0,s._)("button",{class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",-1),x4t=["disabled"],y4t=(0,s._)("span",null,"Request the product",-1);var _4t={__name:"CreateSourcingView",setup(t){const e=(0,ke.qj)({}),r=(0,ke.iH)(!1),l=(0,ke.qj)({destination_country:"lebanon",shipping_method:"not-selected"}),o=async()=>{r.value=!0,await kQt.create(l).then((t=>{"SUCCESS"==t.data.code&&(Tc("Your request has been added"),Object.keys(l).forEach((t=>l[t]=null)),l.destination_country="lebanon",l.shipping_method="not-selected")}),(t=>{if(422==t.response.status)for(let r in t.response.data.errors)e[r]=t.response.data.errors[r][0]})),r.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",E5t,[(0,s._)("div",T5t,[(0,s._)("div",F5t,[(0,s._)("img",{src:t.$frontend("images/delivering.svg"),class:"tw-w-full"},null,8,j5t)]),(0,s._)("div",I5t,[V5t,(0,s._)("div",O5t,[(0,s._)("div",H5t,[M5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.product_name=t),onInput:i[1]||(i[1]=t=>e.product_name=null),class:(0,wt.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,l.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",R5t,(0,wt.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",N5t,[Y5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[2]||(i[2]=t=>l.estimated_quantity=t),onInput:i[3]||(i[3]=t=>e.estimated_quantity=null),class:(0,wt.C_)([[e.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"number",placeholder:"Estimated quantity",required:""},null,34),[[a.nr,l.estimated_quantity]]),e.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",Z5t,(0,wt.zw)(e.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",K5t,[B5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[4]||(i[4]=t=>l.product_url=t),onInput:i[5]||(i[5]=t=>e.product_url=null),class:(0,wt.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.product_url]]),e.product_url?((0,s.wg)(),(0,s.iD)("label",Q5t,(0,wt.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",J5t,[G5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[6]||(i[6]=t=>l.video_url=t),onInput:i[7]||(i[7]=t=>e.video_url=null),class:(0,wt.C_)([[e.video_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.video_url]]),e.video_url?((0,s.wg)(),(0,s.iD)("label",X5t,(0,wt.zw)(e.video_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",t4t,[e4t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":i[8]||(i[8]=t=>l.note_by_seller=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Special request..."},null,512),[[a.nr,l.note_by_seller]])]),(0,s._)("div",r4t,[a4t,(0,s._)("div",s4t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[9]||(i[9]=t=>l.destination_country=t),onChange:i[10]||(i[10]=t=>e.destination_country=null),class:(0,wt.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},o4t,34),[[a.bM,l.destination_country]]),i4t]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",w4t,(0,wt.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",n4t,[d4t,(0,s._)("div",c4t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[11]||(i[11]=t=>l.shipping_method=t),onChange:i[12]||(i[12]=t=>e.shipping_method=null),class:(0,wt.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},m4t,34),[[a.bM,l.shipping_method]]),h4t]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",f4t,(0,wt.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",b4t,[v4t,(0,s._)("button",{disabled:r.value,onClick:o,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),y4t],8,x4t)])])])])]))}};const k4t=_4t;var C4t=k4t,D4t={name:"sourcings",path:"/sourcings",component:Wa,meta:{module:"sourcing"},children:[{name:"sourcings.index",path:"",component:QGt,meta:{module:"sourcing",title:"Sourcing",role:["admin","seller"]}},{name:"sourcings.admin",path:"admin",redirect:{name:"sourcings.index"}},{name:"sourcings.seller",path:"seller",redirect:{name:"sourcings.index"}},{name:"sourcings.new",path:"new",component:C4t,meta:{module:"sourcing",title:"New Sourcing",role:"seller"}},{name:"sourcings.show",path:":id",component:$5t,meta:{module:"sourcing",title:"Sourcing",role:["seller","admin"]}}]};class S4t{async create(t){return await E.getCookie(),A.post("api/settings/create",t)}}var z4t=new S4t;const U4t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},q4t={class:"tw-px-3"},P4t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Settings "),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Cron jobs for invoices. ")])],-1),L4t={class:"tw-mt-5"},W4t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},A4t={class:"tw-col-span-2 md:tw-col-span-1"},$4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Interval Time",-1),E4t={class:"tw-relative"},T4t=(0,s.uE)('<option value="" disabled>Select an Interval</option><option value="daily">Daily</option><option value="weekly">Weekly</option><option value="monthly">Monthly</option><option value="yearly">Yearly</option>',5),F4t=[T4t],j4t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),I4t={class:"tw-col-span-2 md:tw-col-span-1"},V4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Cancellation Date Begins",-1),O4t={class:"tw-flex tw-justify-end tw-items-center tw-p-4"},H4t=["disabled"],M4t=(0,s._)("span",null,"Save",-1);var R4t={__name:"CronJobs",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)(null),l=(0,ke.iH)(""),o=async()=>{e.value=!0,await z4t.create([{name:"e",value:r.value},{name:"factorisation_interval_date",value:l.value}]).then((t=>{console.log(t)}),(t=>{console.log(t)})),e.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",U4t,[(0,s._)("section",q4t,[P4t,(0,s._)("div",L4t,[(0,s._)("div",W4t,[(0,s._)("div",A4t,[$4t,(0,s._)("div",E4t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.value=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},F4t,512),[[a.bM,l.value]]),j4t])]),(0,s._)("div",I4t,[V4t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[1]||(i[1]=t=>r.value=t),type:"datetime-local",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"123-45-678",required:""},null,512),[[a.nr,r.value]])])])]),(0,s._)("div",O4t,[(0,s._)("button",{onClick:o,disabled:e.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[e.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),M4t],8,H4t)])])]))}};const N4t=R4t;var Y4t=N4t;const Z4t=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Settings ")],-1),K4t={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"},B4t={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Q4t={class:"tw-w-full"},J4t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),G4t={class:"tw-w-full"},X4t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),t3t={class:"tw-w-full"},e3t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),r3t={class:"tw-w-full"},a3t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),s3t={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},l3t=(0,s._)("span",null,"Update Password: ",-1),o3t={class:"tw-w-full"},i3t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),w3t={class:"tw-w-full"},n3t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),d3t={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},c3t=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),u3t=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function p3t(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[Z4t,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",K4t,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",B4t,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Q4t,[J4t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.firstname.message,modelValue:l.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>l.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",G4t,[X4t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.lastname.message,modelValue:l.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",t3t,[e3t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.email.message,modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.email=t),readonly:"",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",r3t,[a3t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.phone.message,modelValue:l.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>l.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",s3t,[l3t,(0,s.Wm)(ih.G,{modelValue:l.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>l.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),l.updatePassword?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",o3t,[i3t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.password.message,modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),l.updatePassword?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",w3t,[n3t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.confirmPassword.message,modelValue:l.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>l.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",d3t,[(0,s.Wm)(nt.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[c3t])),_:1}),t.$can("update_account")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[u3t])),_:1},8,["onClick","loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var g3t={data(){return{serverUrl:n,isFetched:!1,isUserFetched:!1,isLoading:!1,updatePassword:!1,formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:""}},computed:{isFormReady(){return this.isFetched},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,password:this.password}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,ot.updateProfile(this.user,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["firstname"]=$t(this.firstname),this.formStatus["lastname"]=$t(this.lastname),this.formStatus["phone"]=$t(this.phone),this.formStatus["password"]=At(this.password),this.formStatus["confirmPassword"]=Tt(this.password,this.confirmPassword);const t=this.formStatus["firstname"].valid,e=this.formStatus["lastname"].valid,r=this.formStatus["phone"].valid;if(this.updatePassword){const a=this.formStatus["password"].valid,s=this.formStatus["confirmPassword"].valid;return t&&e&&a&&s&&r}return t&&e&&r},async getUser(){return ot.profile().then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.isUserFetched=!0}})).catch(this.$handleApiError)}},async mounted(){Promise.allSettled([this.getUser()]).then((()=>this.isFetched=!0),(t=>this.$handleApiError(t)))}};const m3t=(0,m.Z)(g3t,[["render",p3t]]);var h3t=m3t;const f3t={class:"tw-border tw-border-solid tw-shadow-sm tw-rounded tw-p-5"},b3t={class:"tw-flex tw-items-center tw-gap-2"},v3t={class:"tw-flex tw-items-center tw-gap-2"},x3t=(0,s._)("h1",{class:"tw-text-xl tw-font-bold"},"Bank Transfer",-1),y3t={key:0,class:"tw-flex tw-items-center tw-gap-1 tw-bg-teal-100 tw-rounded tw-pr-2 tw-pl-1 tw-py-0.5"},_3t=(0,s._)("span",{class:"tw-text-teal-500 tw-text-sm tw-capitalize"},"Preferred",-1),k3t=(0,s._)("p",{class:"tw-text-gray-500 tw-mt-2"},"Withdraw funds directly to your bank account.",-1),C3t={class:"tw-flex tw-justify-end tw-gap-2 tw-mt-2"},D3t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Setup",-1),S3t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Modify",-1),z3t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},U3t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},q3t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Bank Details ",-1),P3t={class:"tw-p-5 tw-space-y-4"},L3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Bank Name",-1),W3t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},A3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Account Holder Name",-1),$3t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},E3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"RIB",-1),T3t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},F3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Set as Preferred",-1),j3t=["disabled"],I3t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},V3t=["disabled"],O3t=["disabled"],H3t=(0,s._)("span",null,"Save",-1);var M3t={__name:"BankTransferMethod",props:["withdrawalMethods"],emits:["update"],setup(t,{emit:e}){const r=(0,ke.iH)(!1),l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=t,w=e,n=(0,ke.iH)({rib:"",account_holder_name:"",bank_name:""}),d=(0,ke.iH)({}),c=(0,ke.iH)(!1),u=(0,ke.iH)({}),p=()=>{u.value=i.withdrawalMethods.find((t=>"bank_transfer"==t.type)),u.value&&(o.value=!0,c.value=1==u.value.is_preferred,console.log(c.value),console.log(1==u.value.is_preferred),n.value={...u.value.metadata})};p();const g=async()=>{if(!h())return!1;const t={type:"bank_transfer",metadata:n.value,is_preferred:c.value};l.value=!0,await WSt.update(u.value.id,t).then((t=>{"SUCCESS"==t.data.code&&(w("update",t.data.withdrawal_methods),Tc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Tc("Something went wrong","danger")})),l.value=!1},m=async()=>{if(!h())return!1;const t={type:"bank_transfer",metadata:n.value,is_preferred:c.value};l.value=!0,await WSt.setup(t).then((t=>{"SUCCESS"==t.data.code&&(w("update",t.data.withdrawal_methods),Tc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Tc("Something went wrong","danger")})),l.value=!1},h=()=>{let t=!0;return n.value.rib||(t=!1,d.value.rib="RIB is required"),n.value.account_holder_name||(t=!1,d.value.account_holder_name="Account holder's name is required"),n.value.bank_name||(t=!1,d.value.bank_name="Bank's name is required"),t};return(t,e)=>{const i=(0,s.up)("icon"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",f3t,[(0,s._)("div",b3t,[(0,s._)("div",v3t,[(0,s.Wm)(i,{icon:"ph:bank-duotone",class:"tw-text-3xl tw-text-gray-600"}),x3t]),u.value&&1==u.value.is_preferred?((0,s.wg)(),(0,s.iD)("div",y3t,[(0,s.Wm)(i,{icon:"uil:check",class:"tw-text-xl tw-text-teal-500"}),_3t])):(0,s.kq)("",!0)]),k3t,(0,s._)("div",C3t,[(o.value,(0,s.kq)("",!0)),(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[o.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)(i,{icon:"lets-icons:edit-duotone-line",class:"tw-text-gray-500 tw-text-2xl"}),S3t],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(i,{icon:"ph:gear-six-duotone",class:"tw-text-gray-500 tw-text-2xl"}),D3t],64))])]),(0,s.Wm)(w,{visible:r.value,onCancel:e[10]||(e[10]=t=>r.value=!1),closeable:!1},{default:(0,s.w5)((()=>[(0,s._)("div",z3t,[(0,s._)("div",U3t,[q3t,(0,s._)("div",P3t,[(0,s._)("div",null,[L3t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.value.bank_name=t),onInput:e[2]||(e[2]=t=>d.value.bank_name=null),type:"text",class:(0,wt.C_)([[d.value.bank_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter bank name",required:""},null,34),[[a.nr,n.value.bank_name]]),d.value.bank_name?((0,s.wg)(),(0,s.iD)("label",W3t,(0,wt.zw)(d.value.bank_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[A3t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>n.value.account_holder_name=t),onInput:e[4]||(e[4]=t=>d.value.account_holder_name=null),type:"text",class:(0,wt.C_)([[d.value.account_holder_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter account holder's name",required:""},null,34),[[a.nr,n.value.account_holder_name]]),d.value.account_holder_name?((0,s.wg)(),(0,s.iD)("label",$3t,(0,wt.zw)(d.value.account_holder_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[E3t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>n.value.rib=t),onInput:e[6]||(e[6]=t=>d.value.rib=null),type:"text",class:(0,wt.C_)([[d.value.rib&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter your bank account RIB",required:""},null,34),[[a.nr,n.value.rib]]),d.value.rib?((0,s.wg)(),(0,s.iD)("label",T3t,(0,wt.zw)(d.value.rib),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[F3t,(0,s._)("button",{onClick:e[7]||(e[7]=t=>c.value=!c.value),disabled:l.value,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,wt.C_)([[c.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-yellow-500",icon:"iconamoon:close-duotone"})),c.value?((0,s.wg)(),(0,s.j4)(i,{key:1,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-emerald-500",icon:"mingcute:check-2-fill"})):(0,s.kq)("",!0)],2)],8,j3t)])]),(0,s._)("div",I3t,[(0,s._)("button",{onClick:e[8]||(e[8]=t=>r.value=!1),disabled:l.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,V3t),(0,s._)("button",{disabled:l.value,onClick:e[9]||(e[9]=()=>o.value?g():m()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),H3t],8,O3t)])])])])),_:1},8,["visible"])])}}};const R3t=M3t;var N3t=R3t;const Y3t={class:"tw-border tw-border-solid tw-shadow-sm tw-min-h-[400px]x tw-rounded tw-p-5"},Z3t={class:"tw-flex tw-items-center tw-gap-2"},K3t={class:"tw-flex tw-items-center tw-gap-2"},B3t=(0,s._)("h1",{class:"tw-text-xl tw-font-bold"},"Binance",-1),Q3t={key:0,class:"tw-flex tw-items-center tw-gap-1 tw-bg-teal-100 tw-rounded tw-pr-2 tw-pl-1 tw-py-0.5"},J3t=(0,s._)("span",{class:"tw-text-teal-500 tw-text-sm tw-capitalize"},"Preferred",-1),G3t=(0,s._)("p",{class:"tw-text-gray-500 tw-mt-2"},"Withdraw funds using Binance account",-1),X3t={class:"tw-flex tw-justify-end tw-gap-2 tw-mt-2"},t8t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Setup",-1),e8t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Modify",-1),r8t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},a8t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},s8t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Binance account details ",-1),l8t={class:"tw-p-5 tw-space-y-4"},o8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Binance ID",-1),i8t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},w8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Set as Preferred",-1),n8t=["disabled"],d8t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},c8t=["disabled"],u8t=["disabled"],p8t=(0,s._)("span",null,"Save",-1);var g8t={__name:"BinanceMethod",props:["withdrawalMethods"],emits:["update"],setup(t,{emit:e}){const r=(0,ke.iH)(!1),l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=t,w=(0,ke.iH)({binance_id:""}),n=e,d=(0,ke.iH)(!1),c=(0,ke.iH)({}),u=(0,ke.iH)({}),p=()=>{u.value=i.withdrawalMethods.find((t=>"binance"==t.type)),u.value&&(o.value=!0,d.value=1==u.value.is_preferred,w.value={...u.value.metadata})};p();const g=async()=>{if(!h())return!1;const t={type:"binance",metadata:w.value,is_preferred:d.value};l.value=!0,await WSt.update(u.value.id,t).then((t=>{"SUCCESS"==t.data.code&&(n("update",t.data.withdrawal_methods),Tc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Tc("Something went wrong","danger")})),l.value=!1},m=async()=>{if(!h())return!1;const t={type:"binance",metadata:w.value,is_preferred:d.value};l.value=!0,await WSt.setup(t).then((t=>{"SUCCESS"==t.data.code&&(n("update",t.data.withdrawal_methods),Tc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Tc("Something went wrong","danger")})),l.value=!1},h=()=>{let t=!0;return w.value.binance_id||(t=!1,c.value.binance_id="Binance ID is required"),t};return(t,e)=>{const i=(0,s.up)("icon"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",Y3t,[(0,s._)("div",Z3t,[(0,s._)("div",K3t,[(0,s.Wm)(i,{icon:"simple-icons:binance",class:"tw-text-3xl tw-text-[#F3BA2F]"}),B3t]),u.value&&1==u.value.is_preferred?((0,s.wg)(),(0,s.iD)("div",Q3t,[(0,s.Wm)(i,{icon:"uil:check",class:"tw-text-xl tw-text-teal-500"}),J3t])):(0,s.kq)("",!0)]),G3t,(0,s._)("div",X3t,[(o.value,(0,s.kq)("",!0)),o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[(0,s.Wm)(i,{icon:"ph:gear-six-duotone",class:"tw-text-gray-500 tw-text-2xl"}),t8t])),o.value?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[1]||(e[1]=t=>r.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[(0,s.Wm)(i,{icon:"lets-icons:edit-duotone-line",class:"tw-text-gray-500 tw-text-2xl"}),e8t])):(0,s.kq)("",!0)]),(0,s.Wm)(n,{visible:r.value,onCancel:e[7]||(e[7]=t=>r.value=!1),closeable:!1},{default:(0,s.w5)((()=>[(0,s._)("div",r8t,[(0,s._)("div",a8t,[s8t,(0,s._)("div",l8t,[(0,s._)("div",null,[o8t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.value.binance_id=t),onInput:e[3]||(e[3]=t=>c.value.binance_id=null),type:"text",class:(0,wt.C_)([[c.value.binance_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter your Binance account ID",required:""},null,34),[[a.nr,w.value.binance_id]]),c.value.binance_id?((0,s.wg)(),(0,s.iD)("label",i8t,(0,wt.zw)(c.value.binance_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[w8t,(0,s._)("button",{onClick:e[4]||(e[4]=t=>d.value=!d.value),disabled:l.value,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,wt.C_)([[d.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-yellow-500",icon:"iconamoon:close-duotone"})),d.value?((0,s.wg)(),(0,s.j4)(i,{key:1,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-emerald-500",icon:"mingcute:check-2-fill"})):(0,s.kq)("",!0)],2)],8,n8t)])]),(0,s._)("div",d8t,[(0,s._)("button",{onClick:e[5]||(e[5]=t=>r.value=!1),disabled:l.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,c8t),(0,s._)("button",{disabled:l.value,onClick:e[6]||(e[6]=()=>o.value?g():m()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),p8t],8,u8t)])])])])),_:1},8,["visible"])])}}};const m8t=g8t;var h8t=m8t;const f8t={class:"tw-px-3"},b8t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Withdrawal Methods ")])],-1),v8t={class:"tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-mt-5"};var x8t={__name:"WithdrawalMethodsView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)({}),a=(0,ke.iH)(0),l=async()=>{e.value=!0,await WSt.all().then((t=>{"SUCCESS"==t.data.code&&(r.value=t.data.withdrawal_methods),console.log(t)}),(t=>{console.log(t)})),e.value=!1};l();const o=t=>{r.value=t,a.value++};return(t,l)=>((0,s.wg)(),(0,s.iD)("div",{key:a.value,class:"py-5 px-2 tw-border tw-bg-white tw-min-h-[calc(100dvh-85px)] tw-w-full tw-rounded-md tw-mb-5"},[(0,s._)("section",f8t,[b8t,(0,s._)("div",v8t,[e.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(2,(t=>(0,s._)("div",{key:t,class:"tw-h-[155px] tw-w-full tw-rounded tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-100 tw-animate-pulse tw-shadow-sm"}))),64)):(0,s.kq)("",!0),e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)((0,ke.SU)(N3t),{"withdrawal-methods":r.value,onUpdate:o},null,8,["withdrawal-methods"]),(0,s.Wm)((0,ke.SU)(h8t),{"withdrawal-methods":r.value,onUpdate:o},null,8,["withdrawal-methods"])],64))])])]))}};const y8t=x8t;var _8t=y8t,k8t={path:"/settings",name:"settings",component:Wa,meta:{module:"settings"},children:[{name:"settings/cronJobs",path:"/settings/cronJobs",component:Y4t,meta:{module:"settings",subModule:"settings/cronJobs",title:"Cron Jobs",role:"admin"}},{path:"account",name:"settings.account",component:h3t,meta:{module:"settings",title:"Settings",role:"admin"}},{path:"withdrawal-methods",name:"settings.seller.withdrawal-methods",component:_8t,meta:{module:"settings",title:"Settings",role:["seller"]}}]};const C8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Role",-1);var D8t={__name:"RoleSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=e,a=(0,s.Fl)((()=>st.getters["user/roles"])),l=(0,ke.iH)(null),o=(0,ke.iH)(!1),i=(0,ke.iH)([{id:null,name:"Choose Role"},...a.value.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]),w=t=>{i.value=[{id:null,name:"Choose Role"},...t.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]},n=async()=>{if(st.getters["user/fetchedRoles"])return!1;o.value=!0,await ot.roles().then((t=>{"SUCCESS"==t.data.code&&(st.dispatch("user/setRoles",t.data.data.roles),st.dispatch("user/setFetchedRoles",!0),w(a.value))})),o.value=!1},d=t=>{console.log(t),r("update:target",t.name)};return n(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[C8t,(0,s.Wm)((0,ke.SU)(oZ.Z),{"append-to-body":"",loading:o.value,reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>d(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Role",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),options:i.value,label:"name"},{"open-indicator":(0,s.w5)((({attributes:t})=>[(0,s.Wm)(r,(0,s.dG)({icon:"octicon:chevron-down-24"},t,{class:"tw-text-xl"}),null,16)])),_:1},8,["loading","reduce","modelValue","options"])])}}};const S8t=D8t;var z8t=S8t;const U8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"User",-1);var q8t={__name:"UserSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=e,a=(0,s.Fl)((()=>st.getters["user/users"])),l=(0,ke.iH)(null),o=(0,ke.iH)([{id:null,name:"Choose User"},...a.value.map((t=>({id:t.id,name:t.firstname+" "+t.lastname})))]),i=t=>{r("update:target",t.id)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[U8t,(0,s.Wm)((0,ke.SU)(oZ.Z),{"append-to-body":"",class:"tw-min-w-[200px]",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>i(t)),clearable:!1,placeholder:"Choose User",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),options:o.value,label:"name"},null,8,["reduce","modelValue","options"])]))}};const P8t=q8t;var L8t=P8t;const W8t=(0,s._)("span",null,"Make announcement",-1),A8t=[W8t],$8t={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},E8t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},T8t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Make Announcement ",-1),F8t={class:"tw-p-5 tw-space-y-4"},j8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Variant",-1),I8t={class:"tw-grid tw-grid-cols-4 tw-gap-2"},V8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Type",-1),O8t={class:"tw-grid tw-grid-cols-3 tw-gap-2"},H8t={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},M8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Closeable",-1),R8t={class:"tw-grid tw-grid-cols-2 tw-gap-2"},N8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Direction",-1),Y8t={class:"tw-grid tw-grid-cols-2 tw-gap-2"},Z8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Content",-1),K8t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},B8t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},Q8t=["disabled"],J8t=["disabled"],G8t=(0,s._)("span",null,"Send",-1);var X8t={__name:"AddAlertForm",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)(!1),l=(0,s.f3)("alerts"),o=(0,ke.iH)({variant:"success",type:"global",target:null,content:"",closeable:!0,direction:"rtl"});(0,s.YP)((()=>o.value.target),(t=>{console.log("Target has been updated: ",t)})),(0,s.YP)((()=>o.value.type),(()=>{o.value.target=null}));const i=(0,ke.iH)({}),w=async()=>(i.value.content="",i.value.target="","global"==o.value.type||o.value.target?""==o.value.content?(i.value.content="The content can't be empty.",!1):(r.value=!0,await ga.create(o.value).then((t=>{console.log(t),"SUCCESS"==t.data.code&&(e.value=!1,l.data.value.unshift(t.data.alert),Tc("Sent successfully"))})).catch((t=>{console.log(t)})),void(r.value=!1)):(i.value.target="The target cannot be empty.",!1));return(t,l)=>{const n=(0,s.up)("icon"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:l[0]||(l[0]=t=>e.value=!0),role:"button",class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},A8t),(0,s.Wm)(d,{visible:e.value,onCancel:l[17]||(l[17]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",$8t,[(0,s._)("div",E8t,[T8t,(0,s._)("div",F8t,[(0,s._)("div",null,[j8t,(0,s._)("div",I8t,[(0,s._)("button",{onClick:l[1]||(l[1]=t=>o.value.variant="success"),class:(0,wt.C_)([["success"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-emerald-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[2]||(l[2]=t=>o.value.variant="info"),class:(0,wt.C_)([["info"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-cyan-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[3]||(l[3]=t=>o.value.variant="danger"),class:(0,wt.C_)([["danger"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-rose-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[4]||(l[4]=t=>o.value.variant="warning"),class:(0,wt.C_)([["warning"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-amber-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2)])]),(0,s._)("div",null,[V8t,(0,s._)("div",O8t,[(0,s._)("button",{onClick:l[5]||(l[5]=t=>o.value.type="global"),class:(0,wt.C_)([["global"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Global ",2),(0,s._)("button",{onClick:l[6]||(l[6]=t=>o.value.type="role"),class:(0,wt.C_)([["role"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Role ",2),(0,s._)("button",{onClick:l[7]||(l[7]=t=>o.value.type="user"),class:(0,wt.C_)([["user"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," User ",2)])]),(0,s.wy)((0,s._)("div",null,["role"==o.value.type?((0,s.wg)(),(0,s.j4)((0,ke.SU)(z8t),{key:0,target:o.value.target,"onUpdate:target":l[8]||(l[8]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),"user"==o.value.type?((0,s.wg)(),(0,s.j4)((0,ke.SU)(L8t),{key:1,target:o.value.target,"onUpdate:target":l[9]||(l[9]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),i.value.target?((0,s.wg)(),(0,s.iD)("label",H8t,(0,wt.zw)(i.value.target),1)):(0,s.kq)("",!0)],512),[[a.F8,"global"!=o.value.type]]),(0,s._)("div",null,[M8t,(0,s._)("div",R8t,[(0,s._)("button",{onClick:l[10]||(l[10]=t=>o.value.closeable=!0),class:(0,wt.C_)([[1==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Yes ",2),(0,s._)("button",{onClick:l[11]||(l[11]=t=>o.value.closeable=!1),class:(0,wt.C_)([[0==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," No ",2)])]),(0,s._)("div",null,[N8t,(0,s._)("div",Y8t,[(0,s._)("button",{onClick:l[12]||(l[12]=t=>o.value.direction="rtl"),class:(0,wt.C_)([["rtl"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Right To Left ",2),(0,s._)("button",{onClick:l[13]||(l[13]=t=>o.value.direction="ltr"),class:(0,wt.C_)([["ltr"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Left To Right ",2)])]),(0,s._)("div",null,[Z8t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":l[14]||(l[14]=t=>o.value.content=t),onInput:l[15]||(l[15]=t=>i.value.content=null),class:(0,wt.C_)([[i.value.content&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Announcement content"},null,34),[[a.nr,o.value.content]]),i.value.content?((0,s.wg)(),(0,s.iD)("label",K8t,(0,wt.zw)(i.value.content),1)):(0,s.kq)("",!0)])]),(0,s._)("div",B8t,[(0,s._)("button",{onClick:l[16]||(l[16]=t=>e.value=!1),disabled:r.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,Q8t),(0,s._)("button",{onClick:w,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),G8t],8,J8t)])])])])),_:1},8,["visible"])])}}};const t6t=X8t;var e6t=t6t;const r6t={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"},a6t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},s6t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Delete Announcement ",-1),l6t=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to delete this announcement ? ")],-1),o6t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},i6t=["disabled"],w6t=(0,s._)("span",null,"Confirm",-1);var n6t={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,ke.Vh)(e,"item"),a=(0,s.f3)("alerts"),l=(0,ke.iH)({delete:!1}),o=(0,ke.iH)({delete:!1}),i=async()=>{o.value.delete=!0,await ga["delete"](r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Deleted successfully."),l.value.delete=!1,a.data.value=a.data.value.filter((t=>t.id!=r.value.id)))})),o.value.delete=!1};return(t,e)=>{const r=(0,s.up)("icon"),a=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",r6t,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value.delete=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-rose-300 tw-text-rose-500 tw-duration-200 hover:tw-bg-rose-500 hover:tw-text-white"},[(0,s.Wm)(r,{icon:"fluent:delete-28-filled"})])]),(0,s.Wm)(a,{visible:l.value.delete,onCancel:e[2]||(e[2]=t=>l.value.delete=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",a6t,[s6t,l6t,(0,s._)("div",o6t,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.value.delete=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:o.value.delete,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.delete&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),w6t],8,i6t)])])])),_:1},8,["visible"])])}}};const d6t=n6t;var c6t=d6t;const u6t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},p6t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},g6t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},m6t={class:"tw-w-[70px] tw-truncate"},h6t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},f6t={class:"tw-w-[80px] tw-truncate"},b6t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},v6t={class:"tw-w-[100px] tw-truncate"},x6t={class:"tw-p-2"};var y6t={__name:"TableRow",props:["item"],setup(t){return(e,r)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",u6t,(0,wt.zw)(t.item.id),1),(0,s._)("td",p6t,(0,wt.zw)((0,ke.SU)(ze())(t.item.created_at).format("YYYY-MM-DD HH:mm:ss")),1),(0,s._)("td",g6t,[(0,s._)("p",m6t,(0,wt.zw)(t.item.type),1)]),(0,s._)("td",h6t,[(0,s._)("p",f6t,(0,wt.zw)(t.item.to),1)]),(0,s._)("td",b6t,[(0,s._)("p",v6t,(0,wt.zw)(t.item.content),1)]),(0,s._)("td",null,[(0,s._)("div",x6t,[(0,s.Wm)((0,ke.SU)(c6t),{item:t.item},null,8,["item"])])])]))}};const _6t=y6t;var k6t=_6t;const C6t={class:"tw-overflow-x-auto"},D6t={class:"tw-inline-block tw-min-w-full tw-align-middle"},S6t={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},z6t={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},U6t={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},q6t={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},P6t={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},L6t=["colspan"],W6t=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No alert was found ! ",-1),A6t=[W6t];var $6t={__name:"AlertsTable",props:["loading","data"],setup(t){const e=t,r=(0,ke.Vh)(e,"loading"),a=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Added at",class:"tw-w-[100px]"},{field:"type",name:"Type",class:"tw-w-[70px] tw-truncate"},{field:"to",name:"To",class:"tw-w-[70px] tw-truncate"},{field:"content",name:"Content",class:"tw-max-w-[150px] tw-truncate"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],l=(0,ke.Vh)(e,"data");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",C6t,[(0,s._)("div",D6t,[(0,s._)("div",S6t,[(0,s._)("table",z6t,[(0,s._)("thead",U6t,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(a,(t=>(0,s._)("th",{key:t.field,class:(0,wt.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],2))),64))])]),r.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(qJt),{key:1,columns:a.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[l.value.length?((0,s.wg)(),(0,s.iD)("tbody",q6t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(k6t),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),l.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",P6t,[(0,s._)("tr",null,[(0,s._)("td",{colspan:a.length},A6t,8,L6t)])]))],64))])])])])]))}};const E6t=$6t;var T6t=E6t;const F6t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},j6t={class:"tw-px-3"},I6t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},V6t=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Manage Alerts ")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Create and manage announcements. ")],-1),O6t={class:"tw-mt-5"};var H6t={__name:"IndexView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)({}),a=(0,ke.iH)({}),l=async()=>{e.value=!0,await ga.paginate("",a.value).then((t=>{const{data:e,...s}=t.data.alerts;r.value=e,a.value=s}),(t=>{console.log(t)})),e.value=!1};return l(),(0,s.JJ)("alerts",{data:r}),(t,a)=>((0,s.wg)(),(0,s.iD)("div",F6t,[(0,s._)("section",j6t,[(0,s._)("div",I6t,[V6t,(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(e6t))])]),(0,s._)("div",O6t,[(0,s.Wm)((0,ke.SU)(T6t),{data:r.value,loading:e.value},null,8,["data","loading"])])])]))}};const M6t=H6t;var R6t=M6t,N6t={name:"alerts",path:"/alerts",component:Wa,meta:{module:"alerts"},children:[{name:"alert/list",path:"",component:R6t,meta:{module:"alert",subModule:"alert/list",title:"Alerts List",role:["admin"]}}]};class Y6t{async paginate(t="",e){return await E.getCookie(),A.get("api/affiliate/products"+t,{params:e})}async imported(t="",e){return await E.getCookie(),A.get("api/affiliate/products/imported"+t,{params:e})}async wishlisted(t="",e){return await E.getCookie(),A.get("api/affiliate/products/wishlisted"+t,{params:e})}async get(t){return await E.getCookie(),A.get("api/affiliate/products/"+t)}async details(t){return await E.getCookie(),A.get("api/affiliate/products/"+t+"/details")}async edit(t){return await E.getCookie(),A.get("api/affiliate/products/"+t+"/edit")}async create(t){return await E.getCookie(),A.post("api/affiliate/products",t)}async update(t,e){return await E.getCookie(),A.post("api/affiliate/products/"+t,e)}async setOffers(t,e){return await E.getCookie(),A.post("api/affiliate/products/"+t+"/offers",e)}async getOffers(t){return await E.getCookie(),A.get("api/affiliate/products/"+t+"/offers")}async addImport(t){return await E.getCookie(),A.post("api/affiliate/import",{product_id:t})}async removeImport(t){return await E.getCookie(),A.post("api/affiliate/unimport",{product_id:t})}async addWishlist(t){return await E.getCookie(),A.post("api/affiliate/wishlist",{product_id:t})}async removeWishlist(t){return await E.getCookie(),A.post("api/affiliate/unwishlist",{product_id:t})}}var Z6t=new Y6t;const K6t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},B6t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Manage Offers ",-1),Q6t={key:0,class:"tw-p-2 tw-bg-white"},J6t={class:"tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-p-2 tw-grid tw-grid-cols-2 tw-gap-2"},G6t={class:"tw-col-span-2"},X6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Store URL",-1),t7t={class:"tw-col-span-2"},e7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),r7t={key:1,class:"tw-p-2 tw-bg-white"},a7t={key:0,class:"tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-p-5 tw-text-center"},s7t=(0,s._)("p",{class:"tw-text-gray-500 tw-text-lg"},"Loading...",-1),l7t=[s7t],o7t={key:2,class:"tw-p-2 tw-bg-white"},i7t={key:0,class:"tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-p-5 tw-text-center"},w7t=(0,s._)("p",{class:"tw-text-gray-500 tw-text-lg"},"No offers yet",-1),n7t=[w7t],d7t={key:1,class:"tw-flex tw-flex-col tw-gap-2"},c7t=(0,s._)("h1",{class:"tw-mb-2 tw-text-base tw-font-semibold tw-px-2"},"Offers",-1),u7t={class:"tw-col-span-2 md:tw-col-span-1"},p7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),g7t=["onUpdate:modelValue"],m7t={class:"tw-col-span-2 md:tw-col-span-1"},h7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Price",-1),f7t=["onUpdate:modelValue"],b7t={class:"tw-col-span-2"},v7t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),x7t=["onUpdate:modelValue"],y7t={class:"tw-col-span-2 tw-flex tw-items-center tw-justify-end"},_7t=["onClick","disabled"],k7t=(0,s._)("span",null,"Delete",-1),C7t=[k7t],D7t={class:"tw-flex tw-items-center tw-justify-center tw-mt-4"},S7t=(0,s._)("p",{class:""},"Add offer",-1),z7t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},U7t=["disabled"],q7t=(0,s._)("span",null,"Save",-1);var P7t={__name:"ProductOffers",props:["product","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=e,o=(0,ke.iH)([]),i=(0,ke.iH)(null),w=(0,ke.iH)(null),n=(0,ke.iH)(!1),d=(0,ke.iH)(!1),c=()=>{const t={id:Date.now(),product_id:r.product.id,quantity:"",price:"",note:""};o.value.push(t)},u=async()=>{let t=!0;if(o.value.forEach((e=>{e.price&&e.quantity||(t=!1)})),!t)return Tc("The offers are not valid. check price and quantity","warning"),!1;n.value=!0,await Z6t.setOffers(r.product.id,{offers:o.value,store_url:i.value,video_url:w.value}).then((t=>{"SUCCESS"==t.data.code&&(Tc("Offers has been updated"),l("update:visible",!1))})),n.value=!1},p=t=>{console.log("deleting...",t),o.value=o.value.filter((e=>e.id!=t))},g=async()=>{d.value=!0,await Z6t.getOffers(r.product.id).then((t=>{"SUCCESS"==t.data.code&&(o.value=t.data.offers,w.value=t.data.video_url,i.value=t.data.store_url)})),d.value=!1};return g(),(t,e)=>{const g=(0,s.up)("icon"),m=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(m,{visible:r.visible,closeable:!n.value,onCancel:e[3]||(e[3]=t=>l("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",K6t,[B6t,d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Q6t,[(0,s._)("div",J6t,[(0,s._)("div",G6t,[X6t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Store URL",required:""},null,512),[[a.nr,i.value]])]),(0,s._)("div",t7t,[e7t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>w.value=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Video URL",required:""},null,512),[[a.nr,w.value]])])])])),d.value?((0,s.wg)(),(0,s.iD)("div",r7t,[o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",a7t,l7t))])):(0,s.kq)("",!0),d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",o7t,[o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",i7t,n7t)),o.value.length?((0,s.wg)(),(0,s.iD)("div",d7t,[c7t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-2 tw-gap-2 tw-border tw-border-solid tw-p-2 tw-rounded-xlx tw-shadow-sm tw-bg-white tw-border-gray-200",key:t},[(0,s._)("div",u7t,[p7t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"0",required:""},null,8,g7t),[[a.nr,t.quantity]])]),(0,s._)("div",m7t,[h7t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"0",required:""},null,8,f7t),[[a.nr,t.price]])]),(0,s._)("div",b7t,[v7t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e=>t.note=e,class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Note",required:""},null,8,x7t),[[a.nr,t.note]])]),(0,s._)("div",y7t,[(0,s._)("button",{onClick:e=>p(t.id),disabled:n.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},C7t,8,_7t)])])))),128))])):(0,s.kq)("",!0),(0,s._)("div",D7t,[(0,s._)("button",{onClick:c,class:"tw-flex tw-items-center tw-bg-orange-400 tw-text-white tw-gap-2 tw-px-4 tw-py-2 hover:tw-bg-orange-600 tw-duration-200 tw-rounded tw-border tw-border-transparent tw-border-solid hover:tw-border-orange-200"},[(0,s.Wm)(g,{icon:"uil:plus",class:"tw-text-sm"}),S7t])])])),(0,s._)("div",z7t,[(0,s._)("button",{onClick:e[2]||(e[2]=t=>l("update:visible",!1)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:u,disabled:n.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[n.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),q7t],8,U7t)])])])),_:1},8,["visible","closeable"])}}};const L7t=P7t;var W7t=L7t;const A7t={key:0,class:"tw-w-full tw-mt-10 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-2"},$7t=["disabled"],E7t={key:2},T7t={key:3},F7t={key:2},j7t={key:3},I7t={class:"tw-flex tw-justify-end tw-gap-2 tw-p-2"},V7t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},O7t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Import ",-1),H7t={class:"tw-p-4 tw-bg-white"},M7t={key:0,class:"tw-text-lg tw-font-medium"},R7t={key:1,class:"tw-text-lg tw-font-medium"},N7t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Y7t=["disabled"],Z7t=["disabled"],K7t=(0,s._)("span",null,"Confirm",-1),B7t=["disabled"],Q7t=(0,s._)("span",null,"Remove",-1);var J7t={__name:"ProductCardActions",props:{product:{required:!1},isCard:{type:Boolean,default:!0}},setup(t){const e=t,r=(0,ke.Vh)(e,"product"),a=(0,ke.iH)(r.value.wishlisted),l=(0,ke.iH)(r.value.imported),o=(0,ke.iH)({wishlist:!1,import:!1}),i=(0,ke.iH)({wishlist:!1,import:!1,offers:!1}),w=async()=>{o.value.wishlist=!0,a.value?await Z6t.removeWishlist(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Removed from wishlist"),i.value.wishlist=!1,a.value=!1)}),(t=>{console.log(t),Tc("Something wrong happend","danger")})):await Z6t.addWishlist(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Added to wishlist"),i.value.wishlist=!1,a.value=!0),"ALREADY_WISHLISTED"==t.data.code&&(Tc("Already in wishlist"),i.value.wishlist=!1,a.value=!0)}),(t=>{console.log(t),Tc("Something wrong happend","danger")})),o.value.wishlist=!1},n=()=>{i.value.import=!0},d=()=>{i.value.offers=!0},c=async()=>{o.value.import=!0,l.value?await Z6t.removeImport(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Removed from imported"),i.value.import=!1,l.value=!1),"ORDERS_EXISTS"==t.data.code&&(Tc("Product cannot be removed from import list because it has orders","info"),i.value.import=!1)}),(t=>{console.log(t),Tc("Something wrong happend","danger")})):await Z6t.addImport(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Imported successfully"),i.value.import=!1,l.value=!0),"ORDERS_EXISTS"==t.data.code&&(Tc("Product cannot be removed from import list because it has orders","info"),i.value.import=!1),"ALREADY_IMPORTED"==t.data.code&&(Tc("Already imported"),i.value.import=!1,l.value=!0)}),(t=>{console.log(t),Tc("Something wrong happend","danger")})),o.value.import=!1};return(t,r)=>{const u=(0,s.up)("icon"),p=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.isCard?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",A7t,[(0,s._)("button",{onClick:n,disabled:o.value.import,class:(0,wt.C_)([[l.value&&"!tw-bg-gray-100 tw-text-emerald-500"],"tw-px-2 tw-flex tw-items-center tw-justify-center tw-gap-4 tw-bg-emerald-500 tw-text-white tw-rounded tw-py-3 hover:tw-saturate-150x tw-duration-200 tw-border-2 tw-border-solid tw-border-white hover:tw-border-emerald-200 tw-text-lg"])},[o.value.import?((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"charm:plus",class:"tw-text-3xl"})),l.value?((0,s.wg)(),(0,s.j4)(u,{key:1,icon:"uis:check",class:"tw-text-3xl tw-text-emerald-500"})):(0,s.kq)("",!0)],64)),l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",E7t,"Add to import list")),l.value?((0,s.wg)(),(0,s.iD)("span",T7t,"Imported")):(0,s.kq)("",!0)],10,$7t),(0,s._)("button",{onClick:w,class:"tw-px-2 tw-flex tw-items-center tw-justify-center tw-gap-4 tw-bg-rose-500/10 tw-text-rose-500 tw-text-whitxe tw-rounded tw-py-3 hover:tw-saturate-150x tw-duration-200 tw-border-2 tw-border-solid tw-border-white hover:tw-border-rose-200 tw-text-lg"},[o.value.wishlist?((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-rose-500"})):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"ph:heart-light",class:"tw-text-3xl tw-text-rose-500"})),a.value?((0,s.wg)(),(0,s.j4)(u,{key:1,icon:"ph:heart-fill",class:"tw-text-3xl tw-text-rose-500"})):(0,s.kq)("",!0)],64)),a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",F7t,"Add to wishlist")),a.value?((0,s.wg)(),(0,s.iD)("span",j7t,"Wishlisted")):(0,s.kq)("",!0)])])),e.isCard?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,wt.C_)([[(o.value.import||o.value.wishlist)&&"!tw-translate-y-0"],"tw-absolute tw-top-0 tw-left-0 tw-z-20 tw-w-full tw-h-[60px] tw-bg-gradient-to-b tw-from-black/40 tw-to-transparent -tw-translate-y-full group-hover:tw-translate-y-0 tw-duration-200"])},[(0,s._)("div",I7t,[(0,s._)("button",{onClick:n,class:"tw-px-2 tw-aspect-square tw-bg-emerald-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[!o.value.import&&l.value?((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"gravity-ui:check",class:"tw-text-2xl tw-text-white"})):(0,s.kq)("",!0),o.value.import||l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(u,{key:1,icon:"charm:plus",class:"tw-text-2xl tw-text-white"})),o.value.import?((0,s.wg)(),(0,s.j4)(u,{key:2,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):(0,s.kq)("",!0)]),(0,s._)("button",{onClick:w,class:"tw-px-2 tw-aspect-square tw-bg-rose-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[o.value.wishlist?((0,s.wg)(),(0,s.j4)(u,{key:1,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):((0,s.wg)(),(0,s.j4)(u,{key:0,icon:a.value?"ph:heart-fill":"ph:heart-light",class:"tw-text-2xl tw-text-white"},null,8,["icon"]))]),l.value?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:d,class:"tw-px-2 tw-aspect-square tw-bg-amber-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[(0,s.Wm)(u,{icon:"ic:outline-local-offer",class:"tw-text-2xl tw-text-white"})])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0),(0,s.Wm)(p,{visible:i.value.import,closeable:!o.value.import,onCancel:r[1]||(r[1]=t=>i.value.import=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",V7t,[O7t,(0,s._)("div",H7t,[l.value?((0,s.wg)(),(0,s.iD)("p",R7t," Are you sure you want to remove from import list ? ")):((0,s.wg)(),(0,s.iD)("p",M7t," Are you sure you want to import with this product ? "))]),(0,s._)("div",N7t,[(0,s._)("button",{disabled:o.value.import,onClick:r[0]||(r[0]=t=>i.value.import=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,Y7t),l.value?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:c,disabled:o.value.import,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 tw-border-rose-800 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.import&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Q7t],8,B7t)):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:c,disabled:o.value.import,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.import&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),K7t],8,Z7t))])])])),_:1},8,["visible","closeable"]),i.value.offers?((0,s.wg)(),(0,s.j4)(W7t,{key:2,visible:i.value.offers,"onUpdate:visible":r[2]||(r[2]=t=>i.value.offers=t),product:e.product},null,8,["visible","product"])):(0,s.kq)("",!0)],64)}}};const G7t=J7t;var X7t=G7t;const t9t={class:"tw-relative tw-rounded tw-overflow-hidden tw-group tw-border tw-border-solid tw-shadow-sm tw-bg-white"},e9t=["src"],r9t=(0,s._)("div",{class:"tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-gray-200 tw-animate-pulse"},null,-1),a9t={class:"tw-absolute tw-bottom-2 tw-right-2 tw-min-w-[80px] tw-min-h-[40px] tw-p-2 tw-gap-2 tw-rounded tw-py-0 tw-flex tw-items-center tw-justify-center tw-bg-white tw-shadow tw-shadow-orange-400 tw-z-10"},s9t={class:"tw-text-lg tw-font-semibold"},l9t={class:"tw-flex tw-items-center tw-gap-2 tw-absolute tw-bottom-2 tw-left-2 tw-z-20"},o9t={key:0,title:"TikTok videos exists",class:"tw-border tw-border-solid tw-bg-white tw-border-gray-200 tw-p-1 tw-rounded tw-flex tw-items-center tw-gap-2"},i9t={key:1,title:"Facebook videos exists",class:"tw-border tw-border-solid tw-bg-white tw-border-gray-200 tw-p-1 tw-rounded tw-flex tw-items-center tw-gap-2"},w9t={class:"tw-p-4 tw-pb-2 tw-min-h-[20px]"},n9t={class:"tw-relative"},d9t={class:"tw-flex tw-items-center tw-justify-between"};var c9t={__name:"ProductCard",props:["product"],setup(t){const e=t,r=(0,ke.Vh)(e,"product");return(t,e)=>{const a=(0,s.up)("icon"),l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",t9t,[(0,s.Wm)((0,ke.SU)(X7t),{product:r.value},null,8,["product"]),(0,s.Wm)(l,{to:{name:"affiliate.show",params:{id:r.value.id}},class:"tw-h-[400px] tw-block tw-aspect-square tw-w-full tw-overflow-hidden tw-relative tw-border-b tw-border-solid tw-border-gray-200"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:r.value.thumbnail,class:"tw-w-full tw-h-full tw-aspect-square tw-object-cover group-hover:tw-scale-105 tw-duration-200 tw-relative tw-z-10"},null,8,e9t),r9t,(0,s._)("div",a9t,[(0,s.Wm)(a,{icon:"hugeicons:sale-tag-02",class:"tw-text-2xl tw-text-orange-500"}),(0,s._)("span",s9t,(0,wt.zw)((0,ke.SU)(c))+(0,wt.zw)(r.value.selling_price),1)]),(0,s._)("div",l9t,[r.value.media.tiktok_ads?((0,s.wg)(),(0,s.iD)("div",o9t,[(0,s.Wm)(a,{icon:"logos:tiktok-icon",class:"tw-text-lg"})])):(0,s.kq)("",!0),r.value.media.facebook_ads?((0,s.wg)(),(0,s.iD)("div",i9t,[(0,s.Wm)(a,{icon:"basil:facebook-solid",class:"tw-text-lg tw-text-sky-600"})])):(0,s.kq)("",!0)])])),_:1},8,["to"]),(0,s._)("div",w9t,[(0,s._)("div",n9t,[(0,s.Wm)(l,{to:{name:"affiliate.show",params:{id:r.value.id}},class:"tw-text-lg tw-font-medium tw-max-w-full tw-truncate tw-block"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.value.name),1)])),_:1},8,["to"]),(0,s._)("div",d9t,[((0,s.wg)(),(0,s.iD)("p",{key:r.value.category,class:"tw-text-sm tw-text-orange-500 tw-rounded tw-w-fit tw-my-1"},(0,wt.zw)(r.value.category),1))]),(0,s.kq)("",!0)])]),(0,s.kq)("",!0)])}}};const u9t=c9t;var p9t=u9t;const g9t=(0,s._)("div",{class:"tw-px-5 tw-py-2"},[(0,s._)("div",null,[(0,s._)("button",{class:"tw-py-2 tw-border-b-2 tw-border-solid tw-border-orange-500"},"All Products")])],-1),m9t={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},h9t={class:"tw-px-3"},f9t={class:"tw-mt-5x tw-flexx tw-items-centerx"},b9t={key:0},v9t={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},x9t={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},y9t={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},_9t=["src"],k9t=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),C9t={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},D9t=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),S9t={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var z9t={__name:"ProductResearchView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)([]),a=async()=>{e.value=!0,await Z6t.paginate().then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[g9t,(0,s._)("div",m9t,[(0,s._)("section",h9t,[(0,s.kq)("",!0),(0,s._)("div",f9t,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",b9t,[r.value.length?((0,s.wg)(),(0,s.iD)("div",v9t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(p9t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",x9t,[(0,s._)("div",y9t,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,_9t),k9t])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",C9t,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[D9t,(0,s._)("div",S9t,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const U9t=z9t;var q9t=U9t;const P9t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},L9t=(0,s.uE)('<section class="tw-px-3"><div class="tw-flex tw-items-center tw-justify-between tw-flex-wrap"><div><div class="tw-flex tw-items-center tw-gap-x-3"><h2 class="tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"> Products </h2><span class="tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded darkx:tw-bg-gray-800 darkx:tw-text-orange-400">0 products</span></div><p class="tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"> List of affiliate products. </p></div></div></section>',1),W9t=[L9t];function A9t(t,e){return(0,s.wg)(),(0,s.iD)("div",P9t,W9t)}const $9t={},E9t=(0,m.Z)($9t,[["render",A9t]]);var T9t=E9t,F9t=r(7200),j9t=r(6835),I9t=r(6414),V9t=r(3798),O9t=r(4018);const H9t={class:"tw-flex tw-items-center tw-gap-2 tw-p-1 tw-border tw-border-solid tw-border-gray-200 tw-rounded-t tw-border-b-0 tw-bg-gray-100 tw-overflow-auto"},M9t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1),R9t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1),N9t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1);var Y9t={__name:"EditorToolbar",props:["editor"],setup(t){const e=t,r=(0,ke.Vh)(e,"editor");return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",H9t,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value?.chain().focus().toggleBold().run()),class:(0,wt.C_)([[r.value?.isActive("bold")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-bold-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value?.chain().focus().toggleItalic().run()),class:(0,wt.C_)([[r.value?.isActive("italic")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-italic-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[2]||(e[2]=t=>r.value?.chain().focus().toggleUnderline().run()),class:(0,wt.C_)([[r.value?.isActive("underline")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-underline-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[3]||(e[3]=t=>r.value?.chain().focus().toggleStrike().run()),class:(0,wt.C_)([[r.value?.isActive("strike")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-cross-bold",class:"tw-text-sm"})],2),M9t,(0,s._)("button",{onClick:e[4]||(e[4]=t=>r.value?.chain().focus().toggleHeading({level:1}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:1})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-one-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>r.value?.chain().focus().toggleHeading({level:2}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:2})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-two-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[6]||(e[6]=t=>r.value?.chain().focus().toggleHeading({level:3}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:3})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-three-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[7]||(e[7]=t=>r.value?.chain().focus().toggleHeading({level:4}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:4})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-four-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[8]||(e[8]=t=>r.value?.chain().focus().toggleHeading({level:5}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:5})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-five-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[9]||(e[9]=t=>r.value?.chain().focus().toggleHeading({level:6}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:6})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-six-bold",class:"tw-text-sm"})],2),R9t,(0,s._)("button",{onClick:e[10]||(e[10]=t=>r.value?.chain().focus().setTextAlign("left").run()),class:(0,wt.C_)([[r.value?.isActive({textAlign:"left"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-left-bold",class:""})],2),(0,s._)("button",{onClick:e[11]||(e[11]=t=>r.value?.chain().focus().setTextAlign("center").run()),class:(0,wt.C_)([[r.value?.isActive({textAlign:"center"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-center-bold",class:""})],2),(0,s._)("button",{onClick:e[12]||(e[12]=t=>r.value?.chain().focus().setTextAlign("right").run()),class:(0,wt.C_)([[r.value?.isActive({textAlign:"right"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-right-bold",class:""})],2),N9t,(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{onClick:e[14]||(e[14]=t=>r.value?.chain().focus().toggleBulletList().run()),class:(0,wt.C_)([[r.value?.isActive("bulletList")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"fluent:text-bullet-list-ltr-20-filled",class:""})],2),(0,s._)("button",{onClick:e[15]||(e[15]=t=>r.value?.chain().focus().toggleOrderedList().run()),class:(0,wt.C_)([[r.value?.isActive("orderedList")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:list-numbers-light",class:""})],2)])}}};const Z9t=Y9t;var K9t=Z9t,B9t={__name:"TiptapEditor",props:{modelValue:{required:!0},editable:{required:!1,default:!0}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,a=e;console.log(r.modelValue);const l=(0,F9t.jE)({editable:r.editable,content:r.modelValue,extensions:[I9t.Z,j9t.Z,O9t.ZP,V9t.Z.configure({types:["heading","paragraph"]})],editorProps:{attributes:{class:r.editable?"tw-outline-none tw-border tw-border-solid tw-border-gray-200 tw-min-h-[250px] tw-p-5 tw-rounded-b":"tw-outline-none"}},onUpdate({editor:t}){a("update:modelValue",t.getHTML())}});return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[r.editable?((0,s.wg)(),(0,s.j4)((0,ke.SU)(K9t),{key:0,editor:(0,ke.SU)(l)},null,8,["editor"])):(0,s.kq)("",!0),(0,s.Wm)((0,ke.SU)(F9t.kg),{editor:(0,ke.SU)(l),class:"tw-w-full tw-min-h-[300px] tw-outline-none no-tailwind"},null,8,["editor"])]))}};const Q9t=B9t;var J9t=Q9t;class G9t{async create(t){return await E.getCookie(),A.post("api/categories",t)}async all(){return await E.getCookie(),A.get("api/categories")}}var X9t=new G9t;const tte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Category",-1),ete={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-1"},rte={class:"tw-flex-1"},ate={class:"tw-relative"},ste=["disabled"],lte=(0,s._)("option",{value:"",selected:""},"Choose category",-1),ote=["value"],ite={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},wte=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Add category ",-1),nte={class:"tw-p-5 tw-bg-white"},dte={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},cte={class:"tw-col-span-2 md:tw-col-span-2"},ute=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),pte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gte={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},mte=["disabled"],hte=(0,s._)("span",null,"Create",-1);var fte={__name:"CategoryField",setup(t){const e=(0,s.f3)("product"),r=(0,ke.iH)(!1),l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=(0,ke.iH)({type:"products"}),w=(0,ke.iH)([]),n=(0,ke.iH)({}),d=async()=>{if(n.value={},!i.value.name)return n.value.name="Name is required",!1;l.value=!0,await X9t.create(i.value).then((t=>{"SUCCESS"==t.data.code&&(w.value.unshift(t.data.category),Tc("New category has been added"),c())}),(t=>{console.log(t)})),l.value=!1},c=()=>{i.value={type:"products"},r.value=!1},u=async()=>{o.value=!1,await X9t.all().then((t=>{"SUCCESS"==t.data.code&&(w.value=t.data.categories,o.value=!0)}),(t=>{console.log(t)}))};return o.value||u(),(t,u)=>{const p=(0,s.up)("icon"),g=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[tte,(0,s._)("div",ete,[(0,s._)("div",rte,[(0,s._)("div",ate,[(0,s.wy)((0,s._)("select",{disabled:!o.value,"onUpdate:modelValue":u[0]||(u[0]=t=>(0,ke.SU)(e).category_id=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"},[lte,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t},(0,wt.zw)(t.name),9,ote)))),128))],8,ste),[[a.bM,(0,ke.SU)(e).category_id]])])]),(0,s._)("button",{onClick:u[1]||(u[1]=t=>r.value=!r.value),class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(p,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.Wm)(g,{visible:r.value,closeable:!0,onCancel:u[4]||(u[4]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",ite,[wte,(0,s._)("div",nte,[(0,s._)("div",dte,[(0,s._)("div",cte,[ute,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":u[2]||(u[2]=t=>i.value.name=t),onInput:u[3]||(u[3]=t=>n.value.name=null),type:"text",class:(0,wt.C_)([[n.value.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Name",required:""},null,34),[[a.nr,i.value.name]]),n.value.name?((0,s.wg)(),(0,s.iD)("label",pte,(0,wt.zw)(n.value.name),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",gte,[(0,s._)("button",{onClick:c,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),hte],8,mte)])])])),_:1},8,["visible"])])}}};const bte=fte;var vte=bte;const xte={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-10"},yte={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},_te=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Basic Informations")],-1),kte={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},Cte={class:"tw-col-span-2"},Dte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),Ste={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zte={class:"tw-col-span-2"},Ute=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"SKU",-1),qte=["disabled"],Pte={key:0,class:"tw-block tw-mb-1 tw-mt-1 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},Lte={key:1,class:"tw-block tw-mb-1 tw-mt-1 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},Wte={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ate={class:"tw-col-span-2"},$te=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Buying Price",-1),Ete={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Tte={class:"tw-col-span-2"},Fte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Selling Price",-1),jte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ite={class:"tw-col-span-2"},Vte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Description",-1),Ote={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Hte={class:"md:tw-col-span-5 tw-col-span-12 tw-w-full tw-rounded-md tw-flex tw-flex-col tw-gap-5 tw-h-fit"},Mte={class:"tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-overflow-hidden tw-h-fit"},Rte=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Visibility")],-1),Nte={class:"tw-p-5"},Yte={class:"tw-flex tw-items-center tw-gap-5"},Zte=(0,s._)("span",null,"Visible",-1),Kte=(0,s._)("span",null,"Hidden",-1),Bte={class:"md:tw-col-span-5 tw-col-span-12"},Qte={class:"tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-h-fit tw-overflow-hidden"},Jte=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Category")],-1),Gte={class:"tw-p-5 tw-space-y-4"},Xte={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-gap-2 tw-overflow-hidden tw-h-fit"},tee=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Rates")],-1),eee={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},ree={class:"tw-col-span-2 md:tw-col-span-1"},aee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Confirmation",-1),see={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lee={class:"tw-col-span-2 md:tw-col-span-1"},oee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Delivery",-1),iee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"};var wee={__name:"MainDetailsTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.f3)("errors"),l=(0,s.f3)("isUpdate");return(t,o)=>((0,s.wg)(),(0,s.iD)("div",xte,[(0,s._)("div",yte,[_te,(0,s._)("div",kte,[(0,s._)("div",Cte,[Dte,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>(0,ke.SU)(e).name=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter product name...",required:""},null,512),[[a.nr,(0,ke.SU)(e).name]]),(0,ke.SU)(r).name?((0,s.wg)(),(0,s.iD)("label",Ste,(0,wt.zw)((0,ke.SU)(r).name),1)):(0,s.kq)("",!0)]),(0,s._)("div",zte,[Ute,(0,s.wy)((0,s._)("input",{disabled:(0,ke.SU)(l),type:"text","onUpdate:modelValue":o[1]||(o[1]=t=>(0,ke.SU)(e).sku=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter product SKU...",required:""},null,8,qte),[[a.nr,(0,ke.SU)(e).sku]]),(0,ke.SU)(l)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("label",Pte,"SKU should be unique for all products")),(0,ke.SU)(l)?((0,s.wg)(),(0,s.iD)("label",Lte,"SKU cannot be updated")):(0,s.kq)("",!0),(0,ke.SU)(r).sku?((0,s.wg)(),(0,s.iD)("label",Wte,(0,wt.zw)((0,ke.SU)(r).sku),1)):(0,s.kq)("",!0)]),(0,s._)("div",Ate,[$te,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[2]||(o[2]=t=>(0,ke.SU)(e).buying_price=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Buying price...",required:""},null,512),[[a.nr,(0,ke.SU)(e).buying_price]]),(0,ke.SU)(r).buying_price?((0,s.wg)(),(0,s.iD)("label",Ete,(0,wt.zw)((0,ke.SU)(r).buying_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",Tte,[Fte,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=t=>(0,ke.SU)(e).selling_price=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Selling price...",required:""},null,512),[[a.nr,(0,ke.SU)(e).selling_price]]),(0,ke.SU)(r).selling_price?((0,s.wg)(),(0,s.iD)("label",jte,(0,wt.zw)((0,ke.SU)(r).selling_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",Ite,[Vte,(0,s.Wm)(J9t,{modelValue:(0,ke.SU)(e).description,"onUpdate:modelValue":o[4]||(o[4]=t=>(0,ke.SU)(e).description=t)},null,8,["modelValue"]),(0,ke.SU)(r).description?((0,s.wg)(),(0,s.iD)("label",Ote,(0,wt.zw)((0,ke.SU)(r).description),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",Hte,[(0,s._)("div",Mte,[Rte,(0,s._)("div",Nte,[(0,s._)("div",Yte,[(0,s._)("button",{onClick:o[5]||(o[5]=t=>(0,ke.SU)(e).status=!(0,ke.SU)(e).status),class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:(0,wt.C_)([[(0,ke.SU)(e).status&&"tw-bg-gray-700"],"tw-w-5 tw-h-5 tw-rounded-md tw-order tw-border-2 tw-border-solid tw-border-gray-600 tw-duration-200"])},null,2),Zte]),(0,s._)("button",{onClick:o[6]||(o[6]=t=>(0,ke.SU)(e).status=!(0,ke.SU)(e).status),class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:(0,wt.C_)([[!(0,ke.SU)(e).status&&"tw-bg-gray-700"],"tw-w-5 tw-h-5 tw-rounded-md tw-order tw-border-2 tw-border-solid tw-border-gray-600 tw-duration-200"])},null,2),Kte])])])]),(0,s._)("div",Bte,[(0,s._)("div",Qte,[Jte,(0,s._)("div",Gte,[(0,s.Wm)(vte),(0,s.kq)("",!0)])])]),(0,s._)("div",Xte,[(0,s._)("div",null,[tee,(0,s._)("div",eee,[(0,s._)("div",ree,[aee,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[7]||(o[7]=t=>(0,ke.SU)(e).confirmation_rate=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Confirmation rate %",required:""},null,512),[[a.nr,(0,ke.SU)(e).confirmation_rate]]),(0,ke.SU)(r).confirmation_rate?((0,s.wg)(),(0,s.iD)("label",see,(0,wt.zw)((0,ke.SU)(r).confirmation_rate),1)):(0,s.kq)("",!0)]),(0,s._)("div",lee,[oee,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[8]||(o[8]=t=>(0,ke.SU)(e).delivery_rate=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Delivery rate %",required:""},null,512),[[a.nr,(0,ke.SU)(e).delivery_rate]]),(0,ke.SU)(r).delivery_rate?((0,s.wg)(),(0,s.iD)("label",iee,(0,wt.zw)((0,ke.SU)(r).delivery_rate),1)):(0,s.kq)("",!0)])])])])])]))}};const nee=wee;var dee=nee;const cee={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},uee=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Add variation ",-1),pee={class:"tw-p-5 tw-bg-white"},gee={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},mee={class:"tw-col-span-2 md:tw-col-span-2"},hee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),fee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bee={class:"tw-col-span-2 md:tw-col-span-2"},vee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Color",-1),xee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},yee={class:"tw-col-span-2 md:tw-col-span-2"},_ee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Size",-1),kee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Cee={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Dee=["disabled"],See=(0,s._)("span",null,"Create",-1);var zee={__name:"ProductVariationAdd",emits:["create"],setup(t,{emit:e}){const r=e,l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=(0,ke.iH)({}),w=(0,ke.iH)({}),n=()=>{if(!i.value.quantity)return Tc("Quantity is required","error"),!1;i.value.id=Date.now(),r("create",i.value),d()},d=()=>{i.value={},l.value=!1};return(t,e)=>{const r=(0,s.up)("icon"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value=!l.value),class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-aspect-square tw-rounded"},[(0,s.Wm)(r,{icon:"jam:plus",class:"tw"})]),(0,s.Wm)(c,{visible:l.value,closeable:!0,onCancel:e[7]||(e[7]=t=>l.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",cee,[uee,(0,s._)("div",pee,[(0,s._)("div",gee,[(0,s._)("div",mee,[hee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.value.quantity=t),onInput:e[2]||(e[2]=t=>w.value.quantity=null),type:"number",class:(0,wt.C_)([[w.value.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"0",required:""},null,34),[[a.nr,i.value.quantity]]),w.value.quantity?((0,s.wg)(),(0,s.iD)("label",fee,(0,wt.zw)(w.value.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",bee,[vee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.value.color=t),onInput:e[4]||(e[4]=t=>w.value.color=null),type:"text",class:(0,wt.C_)([[w.value.color&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"White, Black...",required:""},null,34),[[a.nr,i.value.color]]),w.value.color?((0,s.wg)(),(0,s.iD)("label",xee,(0,wt.zw)(w.value.color),1)):(0,s.kq)("",!0)]),(0,s._)("div",yee,[_ee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>i.value.size=t),onInput:e[6]||(e[6]=t=>w.value.size=null),type:"text",class:(0,wt.C_)([[w.value.size&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Small, Large...",required:""},null,34),[[a.nr,i.value.size]]),w.value.size?((0,s.wg)(),(0,s.iD)("label",kee,(0,wt.zw)(w.value.size),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",Cee,[(0,s._)("button",{onClick:d,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:n,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),See],8,Dee)])])])),_:1},8,["visible"])])}}};const Uee=zee;var qee=Uee;const Pee={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Lee=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Update variation ",-1),Wee={class:"tw-p-5 tw-bg-white"},Aee={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},$ee={class:"tw-col-span-2 md:tw-col-span-2"},Eee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),Tee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Fee={class:"tw-col-span-2 md:tw-col-span-2"},jee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Color",-1),Iee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Vee={class:"tw-col-span-2 md:tw-col-span-2"},Oee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Size",-1),Hee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Mee={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Ree=["disabled"],Nee=(0,s._)("span",null,"Create",-1);var Yee={__name:"ProductVariationUpdate",props:["variation"],emits:["update","cancel"],setup(t,{emit:e}){const r=t,l=e,o=(0,ke.iH)(!0),i=(0,ke.iH)(!1),w=(0,ke.iH)({...r.variation}),n=(0,ke.iH)({}),d=()=>{if(!w.value.quantity)return Tc("Quantity is required","error"),!1;l("update",w.value),c()},c=()=>{w.value=r.variation,o.value=!1,l("cancel")};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:o.value,closeable:!0,onCancel:e[6]||(e[6]=t=>o.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",Pee,[Lee,(0,s._)("div",Wee,[(0,s._)("div",Aee,[(0,s._)("div",$ee,[Eee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>w.value.quantity=t),onInput:e[1]||(e[1]=t=>n.value.quantity=null),type:"number",class:(0,wt.C_)([[n.value.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"0",required:""},null,34),[[a.nr,w.value.quantity]]),n.value.quantity?((0,s.wg)(),(0,s.iD)("label",Tee,(0,wt.zw)(n.value.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",Fee,[jee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.value.color=t),onInput:e[3]||(e[3]=t=>n.value.color=null),type:"text",class:(0,wt.C_)([[n.value.color&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"White, Black...",required:""},null,34),[[a.nr,w.value.color]]),n.value.color?((0,s.wg)(),(0,s.iD)("label",Iee,(0,wt.zw)(n.value.color),1)):(0,s.kq)("",!0)]),(0,s._)("div",Vee,[Oee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>w.value.size=t),onInput:e[5]||(e[5]=t=>n.value.size=null),type:"text",class:(0,wt.C_)([[n.value.size&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Small, Large...",required:""},null,34),[[a.nr,w.value.size]]),n.value.size?((0,s.wg)(),(0,s.iD)("label",Hee,(0,wt.zw)(n.value.size),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",Mee,[(0,s._)("button",{onClick:c,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:i.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Nee],8,Ree)])])])),_:1},8,["visible"])])}}};const Zee=Yee;var Kee=Zee;const Bee={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},Qee={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},Jee={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},Gee={class:"tw-p-1 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100 tw-flex tw-items-center tw-justify-center tw-gap-2"},Xee={title:"Delete variation",class:"tw-aspect-square tw-scale-90 tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-rose-100 hover:tw-border-rose-400 tw-bg-rose-50/10 hover:tw-bg-rose-100 tw-duration-200"};var tre={__name:"ProductVariation",props:["variation"],emits:["update"],setup(t,{emit:e}){const r=t,a=e,l=(0,ke.iH)(!1),o=(0,ke.Vh)(r,"variation");return(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",{key:o.value,class:"tw-grid tw-grid-cols-4 tw-divide-x tw-text-center"},[(0,s._)("div",Bee,(0,wt.zw)(o.value.quantity),1),(0,s._)("div",Qee,(0,wt.zw)(o.value.color),1),(0,s._)("div",Jee,(0,wt.zw)(o.value.size),1),(0,s._)("div",Gee,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value=!0),title:"Delete variation",class:"tw-aspect-square tw-scale-90 tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 tw-bg-amber-50/10 hover:tw-bg-amber-100 tw-duration-200"},[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})]),(0,s._)("button",Xee,[(0,s.Wm)(r,{icon:"solar:trash-bin-trash-bold-duotone",class:"tw-text-xl tw-text-rose-500"})])]),l.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Kee),{key:0,variation:o.value,onUpdate:e[1]||(e[1]=t=>a("update",t))},null,8,["variation"])):(0,s.kq)("",!0)])}}};const ere=tre;var rre=ere;const are={class:"tw-grid tw-grid-cols-12 tw-gap-5"},sre={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},lre=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Variations")],-1),ore={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},ire={class:"tw-col-span-2 tw-flex tw-items-center tw-justify-between tw-mb-2"},wre=(0,s._)("p",null,"Does the product have variations ?",-1),nre=(0,s.uE)('<div class="tw-col-span-1"><label class="tw-block tw-text-sm tw-mb-2 tw-font-medium tw-text-gray-900 dark:tw-text-white"> Warehouse</label><div class="tw-relative"><select value="lebanon" class="tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"><option value="a" disabled>Choose warehouse</option><option value="lebanon">Lebanon</option></select></div></div>',1),dre={key:0,class:"tw-col-span-1"},cre=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Initial quantity",-1),ure={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pre={key:0,class:"tw-col-span-2 tw-mt-5"},gre={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},mre=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Variations list",-1),hre={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fre={key:2,class:"tw-p-5 tw-bg-gray-100 tw-text-center"},bre=(0,s._)("p",null,"No variations added yet",-1),vre=[bre],xre={key:3,class:"tw-p-2 tw-bg-gray-100 tw-"},yre=(0,s._)("div",{class:"tw-grid tw-grid-cols-4 tw-mb-1 tw-text-center"},[(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Quantity"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Color"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Size"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Actions")],-1),_re=(0,s.uE)('<div class="md:tw-col-span-5 tw-col-span-12 tw-h-fit"><div class="tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"><div class="tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"><h1 class="tw-font-semibold tw-text-white">Deliveries</h1></div><div class="tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"><div class="tw-col-span-2"><label class="tw-block tw-text-sm tw-mb-2 tw-font-medium tw-text-gray-900 dark:tw-text-white"> Can be delivered by</label><div class="tw-relative"><select value="road-runner" class="tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"><option value="a" disabled>Choose deliveries</option><option value="road-runner">Road Runner</option></select></div></div></div></div></div>',1);var kre={__name:"ProductStockTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.f3)("errors"),l=t=>{e.value.variations.unshift(t)},o=t=>{e.value.variations=e.value.variations.map((e=>e.id==t.id?t:e))};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",are,[(0,s._)("div",sre,[lre,(0,s._)("div",ore,[(0,s._)("div",ire,[wre,(0,s._)("button",{onClick:i[0]||(i[0]=t=>(0,ke.SU)(e).has_variations=!(0,ke.SU)(e).has_variations),class:"tw-p-1 tw-h-[35px] tw-w-[90px] tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-rounded"},[(0,s._)("div",{class:(0,wt.C_)([[(0,ke.SU)(e).has_variations?"tw-translate-x-full":""],"tw-w-[40px] tw-duration-200 tw-h-full tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded-sm tw-uppercase tw-text-center tw-font-medium tw-text-sm tw-flex tw-items-center tw-justify-center"])},(0,wt.zw)((0,ke.SU)(e).has_variations?"Yes":"No"),3)])]),nre,(0,ke.SU)(e).has_variations?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dre,[cre,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":i[1]||(i[1]=t=>(0,ke.SU)(e).initial_quantity=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"0",required:""},null,512),[[a.nr,(0,ke.SU)(e).initial_quantity]]),(0,ke.SU)(r).initial_quantity?((0,s.wg)(),(0,s.iD)("label",ure,(0,wt.zw)((0,ke.SU)(r).initial_quantity),1)):(0,s.kq)("",!0)])),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]"},{default:(0,s.w5)((()=>[(0,ke.SU)(e).has_variations?((0,s.wg)(),(0,s.iD)("div",pre,[(0,s._)("div",gre,[mre,(0,s.Wm)((0,ke.SU)(qee),{onCreate:l})]),(0,ke.SU)(r).variations?((0,s.wg)(),(0,s.iD)("label",hre,(0,wt.zw)((0,ke.SU)(r).variations),1)):(0,s.kq)("",!0),Object.keys((0,ke.SU)(r)).find((t=>t.startsWith("variations.")))?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(Object.keys((0,ke.SU)(r)).filter((t=>t.startsWith("variations."))),(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(r)[t],(t=>((0,s.wg)(),(0,s.iD)("label",{key:t,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},(0,wt.zw)(t),1)))),128))])))),128)):(0,s.kq)("",!0),(0,ke.SU)(e).variations.length?((0,s.wg)(),(0,s.iD)("div",xre,[yre,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(e).variations,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(rre),{key:t,variation:t,onUpdate:o},null,8,["variation"])))),128))])):((0,s.wg)(),(0,s.iD)("div",fre,vre))])):(0,s.kq)("",!0)])),_:1})])]),_re]))}};const Cre=kre;var Dre=Cre;class Sre{async store(t,e,r){return await E.getCookie(),W.post("api/temporary-file",{file:t,collection_name:e},r)}}var zre=new Sre;const Ure={class:"tw-aspect-square tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},qre={class:"tw-w-full tw-bg-gray-50"},Pre=["src"],Lre={class:"tw-text-sm tw-text-white tw-truncate"},Wre={class:"tw-relative"},Are={key:0,class:"tw-absolute tw-h-full tw-flex tw-items-center tw-justify-center tw-w-full tw-bg-neutral-900/80 tw-backdrop-blur tw-border tw-border-gray-700 tw-border-solid tw-roundedx tw-top-0 tw-right-0"},$re={class:"tw-max-w-2/3 tw-p-5 tw-flex tw-flex-col tw-gap-4"},Ere=(0,s._)("span",{class:"tw-text-lg"},"Delete",-1);var Tre={__name:"ImageCard",props:["file"],emits:["show-preview","update","delete"],setup(t,{emit:e}){const r=t,l=e,o=(0,ke.Vh)(r,"file"),i=(0,ke.iH)(!1),w=(0,ke.iH)(0),n={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(i.value=!1)}},d=async()=>(i.value=!0,zre.store(o.value.file,o.value.collection_name,n).then((t=>{if(t.data.uuid){const e={...o.value,uuid:t.data.uuid};l("update",o.value,e),console.log(e)}}),(t=>{console.log(t)})));return o.value.uuid||!o.value.is_new||i.value||d(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ure,[(0,s._)("div",qre,[i.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,wt.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("img",{onClick:e[0]||(e[0]=t=>l("show-preview")),src:o.value.url,class:"tw-w-full tw-h-full tw-object-contain group-hover:tw-scale-105 tw-duration-200"},null,8,Pre),(0,s._)("div",{class:(0,wt.C_)([[o.value.showOptions&&"!tw-hidden"],"tw-p-2 tw-flex tw-items-center tw-justify-between group-hover:tw-translate-y-0 tw-absolute tw-bottom-0 tw-translate-y-full tw-duration-200 tw-w-full tw-h-fit tw-backdrop-blur-sm tw-bg-black/50 tw-left-0"])},[(0,s._)("p",Lre,(0,wt.zw)(o.value.name),1),(0,s._)("div",Wre,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"tabler:dots",class:"tw-text-3xl tw-text-white"})])])],2)]),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0","leave-to-class":"tw-opacity-0",mode:"out-in"},{default:(0,s.w5)((()=>[o.value.showOptions?((0,s.wg)(),(0,s.iD)("div",Are,[(0,s._)("div",$re,[(0,s._)("button",{onClick:e[2]||(e[2]=t=>l("delete")),class:"tw-flex tw-items-center tw-gap-2 tw-text-red-300 hover:tw-text-red-500 tw-duration-200"},[(0,s.Wm)(r,{icon:"mdi:trash-can-empty",class:"tw-text-xl"}),Ere])]),(0,s._)("button",{onClick:e[3]||(e[3]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})])])):(0,s.kq)("",!0)])),_:1})])])}}};const Fre=Tre;var jre=Fre;const Ire={class:"tw-aspect-square tw-group tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},Vre={class:"tw-w-full tw-h-full tw-bg-gray-50"},Ore=["controls","src"],Hre={class:"tw-text-sm tw-text-white tw-truncate"},Mre={class:"tw-relative"},Rre={key:0,class:"tw-absolute tw-h-full tw-flex tw-items-center tw-justify-center tw-w-full tw-bg-neutral-900/80 tw-backdrop-blur tw-border tw-border-gray-700 tw-border-solid tw-roundedx tw-top-0 tw-right-0"},Nre={class:"tw-max-w-2/3 tw-p-5 tw-flex tw-flex-col tw-gap-4"},Yre=(0,s._)("span",{class:"tw-text-lg"},"Delete",-1);var Zre={__name:"VideoCard",props:["file"],emits:["show-preview","update","delete"],setup(t,{emit:e}){const r=t,l=e,o=(0,ke.Vh)(r,"file"),i=(0,ke.iH)(null),w=(0,ke.iH)(0),n=(0,ke.iH)(!1),d=(0,ke.iH)(null),c=()=>{l("show-preview")},u={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(n.value=!1)}},p=async()=>(n.value=!0,zre.store(o.value.file,o.value.collection_name,u).then((t=>{if(t.data.uuid){const e={...o.value,uuid:t.data.uuid};l("update",o.value,e),console.log(e)}}),(t=>{console.log(t)})));return o.value.uuid||!o.value.is_new||n.value||p(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ire,[(0,s._)("div",Vre,[n.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,wt.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("video",{ref_key:"video",ref:i,controls:d.value,preload:"false",src:o.value.url,class:"tw-w-full tw-h-full tw-object-contain tw-duration-200"},null,8,Ore),d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:c,class:"tw-absolute tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center group-hover:tw-scale-110 tw-duration-200 tw-bottom-1/2 tw-right-1/2 tw-translate-x-1/2 tw-translate-y-1/2 tw-p-5"},[(0,s.Wm)(r,{icon:"solar:play-circle-bold",class:"tw-text-7xl tw-drop-shadow-md tw-text-white"})])),(0,s._)("div",{class:(0,wt.C_)([[o.value.showOptions&&"!tw-hidden"],"tw-p-2 tw-flex tw-items-center tw-justify-between group-hover:tw-translate-y-0 tw-absolute tw-bottom-0 tw-translate-y-full tw-duration-200 tw-w-full tw-h-fit tw-backdrop-blur-sm tw-bg-black/50 tw-left-0"])},[(0,s._)("p",Hre,(0,wt.zw)(o.value.name),1),(0,s._)("div",Mre,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"tabler:dots",class:"tw-text-3xl tw-text-white"})])])],2)]),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0","leave-to-class":"tw-opacity-0",mode:"out-in"},{default:(0,s.w5)((()=>[o.value.showOptions?((0,s.wg)(),(0,s.iD)("div",Rre,[(0,s._)("div",Nre,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l("delete")),class:"tw-flex tw-items-center tw-gap-2 tw-text-red-300 hover:tw-text-red-500 tw-duration-200"},[(0,s.Wm)(r,{icon:"mdi:trash-can-empty",class:"tw-text-xl"}),Yre])]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})])])):(0,s.kq)("",!0)])),_:1})])])}}};const Kre=Zre;var Bre=Kre;const Qre={key:0},Jre={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function Gre(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",Qre,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",Jre,[(0,s.Wm)(Vt.Z5,null,{default:(0,s.w5)((()=>[o.showContent?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] !tw-overflow-auto !tw-max-h-screen"},[(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)])),_:3}),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,wt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-backdrop-blur-sm tw-bg-black/20 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var Xre={props:{visible:{required:!0,default:!1},closeable:{required:!1,default:!0}},data(){return{showContent:!1}},watch:{visible(t){t?setTimeout((()=>{this.showContent=t}),0):this.showContent=t}},methods:{resolve(t){this.closeable&&this.$emit("cancel",t)}},computed:{},mounted(){this.showContent=this.visible},unmounted(){}};const tae=(0,m.Z)(Xre,[["render",Gre]]);var eae=tae;const rae={class:"tw-p-4"},aae={key:0,class:"tw-mb-4"},sae={class:"tw-flex tw-justify-between tw-items-center"},lae=["disabled"],oae=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-6 tw-w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),iae=[oae],wae=["src","alt"],nae=["src"],dae={key:2},cae=["disabled"],uae=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-6 tw-w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),pae=[uae];var gae={__name:"MediaPreview",props:{files:{type:Array,required:!0},index:{type:Number,default:0},visible:{type:Boolean,default:!1}},emits:["update:visible","update:index"],setup(t,{emit:e}){const r=t,a=e,l=()=>{r.index>0&&a("update:index",r.index-1)},o=()=>{r.index<r.files.length-1&&a("update:index",r.index+1)},i=()=>{a("update:visible",!1)};return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(eae,{"z-index":"100000",visible:r.visible,closeable:!0,onCancel:i},{default:(0,s.w5)((()=>[(0,s._)("button",{onClick:i,class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(a,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})]),(0,s._)("div",rae,[r.files.length>0?((0,s.wg)(),(0,s.iD)("div",aae,[(0,s._)("div",sae,[(0,s._)("button",{onClick:l,disabled:0===r.index,class:"tw-px-2 tw-py-1 tw-rounded tw-bg-gray-200 tw-text-gray-700 tw-disabled:opacity-50"},iae,8,lae),(0,s._)("div",null,[r.files[r.index].type.startsWith("image/")?((0,s.wg)(),(0,s.iD)("img",{key:0,src:r.files[r.index].url,alt:r.files[r.index].name,class:"tw-max-w-full tw-h-auto tw-max-h-[calc(100vh-200px)]"},null,8,wae)):r.files[r.index].type.startsWith("video/")?((0,s.wg)(),(0,s.iD)("video",{key:1,src:r.files[r.index].url,controls:"",class:"tw-max-w-full tw-h-auto tw-max-h-[calc(100vh-200px)]"},null,8,nae)):((0,s.wg)(),(0,s.iD)("div",dae,(0,wt.zw)(r.files[r.index].name)+" ("+(0,wt.zw)(r.files[r.index].type)+") ",1))]),(0,s._)("button",{onClick:o,disabled:r.index===r.files.length-1,class:"tw-px-2 tw-py-1 tw-rounded tw-bg-gray-200 tw-text-gray-700 tw-disabled:opacity-50"},pae,8,cae)])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])}}};const mae=gae;var hae=mae;const fae={class:"tw-fixed tw-bottom-4 tw-right-3 tw-z-[1000]"},bae=["multiple"],vae={class:"tw-px-5 tw-mt-5 tw-flex tw-items-center tw-gap-5 tw-justify-between"},xae={class:"tw-text-lg tw-font-medium tw-pl-5 tw-py-1 tw-border-l-2 tw-border-solid tw-border-orange-400"},yae=(0,s._)("span",null,"Upload",-1),_ae={class:"tw-p-5"},kae={key:0,class:"tw-p-4 tw-bg-gray-100 tw-rounded tw-text-center tw-border tw-border-solid"},Cae=(0,s._)("p",{class:"tw-font-medium tw-text-lg tw-text-gray-600"}," No media has been added yet ",-1),Dae=[Cae],Sae={key:1,class:"tw-grid md:tw-grid-cols-4 lg:tw-grid-cols-4 xl:tw-grid-cols-6 tw-grid-cols-1 tw-gap-4"};var zae={__name:"MediaCollection",props:{label:{type:String,default:"Media"},collection:{type:String,default:"normal"},multiple:{type:Boolean,default:!0}},setup(t){const e=t,r=(0,s.f3)("product"),a=(0,ke.iH)(null),l=(0,ke.iH)(!1),o=(0,ke.iH)(0),i=(0,s.Fl)((()=>r.value.media.filter((t=>t.collection_name==e.collection)))),w=t=>{r.value.media=r.value.media.filter((e=>e.id!=t.id))},n=t=>{const a=t.target.files;for(const s of a){const t=s.type.startsWith("image/")?"image":s.type.startsWith("video/")?"video":"other";if("other"==t)return Tc("Only images and videos are supported","warning"),!1;const a=new FileReader;a.onload=()=>{r.value.media.push({id:Date.now(),name:s.name,url:a.result,file:s,type:s.type,category:t,is_new:!0,collection_name:e.collection})},a.readAsDataURL(s)}},d=t=>{o.value=t,l.value=!0},c=(t,e)=>{const a=r.value.media.indexOf(t);r.value.media[a]=e};return(t,r)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",fae,[(0,s._)("input",{ref_key:"imageFilePicker",ref:a,type:"file",name:"image-input",onChange:n,multiple:e.multiple,class:"tw-invisible tw-absolute tw-pointer-events-none"},null,40,bae)])])),(0,s.Wm)(hae,{files:i.value,visible:l.value,"onUpdate:visible":r[0]||(r[0]=t=>l.value=t),index:o.value,"onUpdate:index":r[1]||(r[1]=t=>o.value=t)},null,8,["files","visible","index"]),(0,s._)("div",vae,[(0,s._)("h1",xae,(0,wt.zw)(e.label),1),e.multiple||!e.multiple&&!i.value.length?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[2]||(r[2]=t=>a.value.click()),class:"tw-bg-gray-200 tw-flex tw-items-center tw-gap-2 tw-pr-6 tw-pl-4 tw-py-1 tw-rounded tw-text-gray-700 tw-border tw-border-solid tw-duration-200 hover:tw-border-gray-700"},[(0,s.Wm)(u,{icon:"mynaui:upload",class:"tw-text-xl"}),yae])):(0,s.kq)("",!0)]),(0,s._)("div",_ae,[i.value.length?((0,s.wg)(),(0,s.iD)("div",Sae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.id},["image"==t.category?((0,s.wg)(),(0,s.j4)((0,ke.SU)(jre),{key:0,file:t,onUpdate:c,onShowPreview:t=>d(e),onDelete:e=>w(t)},null,8,["file","onShowPreview","onDelete"])):(0,s.kq)("",!0),"video"==t.category?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Bre),{key:1,file:t,onUpdate:c,onShowPreview:t=>d(e),onDelete:e=>w(t)},null,8,["file","onShowPreview","onDelete"])):(0,s.kq)("",!0)],64)))),128))])):((0,s.wg)(),(0,s.iD)("div",kae,Dae))])],64)}}};const Uae=zae;var qae=Uae,Pae={__name:"MediaTab",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)((0,ke.SU)(qae),{label:"Thumbnail",collection:"thumbnail",multiple:!1}),(0,s.Wm)((0,ke.SU)(qae),{label:"Images & Videos",collection:"normal"}),(0,s.Wm)((0,ke.SU)(qae),{label:"Facebook ADS",collection:"facebook_ads"}),(0,s.Wm)((0,ke.SU)(qae),{label:"TikTok ADS",collection:"tiktok_ads"})]))}};const Lae=Pae;var Wae=Lae;const Aae={class:"tw-grid tw-grid-cols-12 tw-gap-5"},$ae={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},Eae=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Landing pages")],-1),Tae={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},Fae={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-2"},jae={class:"tw-flex-1"},Iae=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Add Landing Page Link",-1),Vae={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-2"},Oae={class:"tw-p-5"},Hae={key:0,class:"tw-bg-gray-100 tw-p-5 tw-rounded tw-text-center"},Mae={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-flex-wrap"},Rae=["href"],Nae={class:"tw-text-sm"},Yae={class:"tw-flex tw-items-center tw-gap-2"},Zae=["href"],Kae=["onClick"],Bae=(0,s._)("div",{class:"md:tw-col-span-5"},null,-1),Qae={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},Jae=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Video links")],-1),Gae={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},Xae={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-2"},tse={class:"tw-flex-1"},ese=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Add Video Link",-1),rse={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-2"},ase={class:"tw-p-5"},sse={key:0,class:"tw-bg-gray-100 tw-p-5 tw-rounded tw-text-center"},lse={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-flex-wrap"},ose=["href"],ise={class:"tw-text-sm"},wse={class:"tw-flex tw-items-center tw-gap-2"},nse=["href"],dse=["onClick"];var cse={__name:"MetadataTab",setup(t){const e=(0,s.f3)("product"),r=((0,s.f3)("errors"),(0,ke.iH)("")),l=(0,s.Fl)((()=>e.value.metadata.filter((t=>"video_link"==t.meta_key)))),o=(0,ke.iH)(""),i=(0,s.Fl)((()=>e.value.metadata.filter((t=>"landing_page_link"==t.meta_key)))),w=()=>{const t={meta_key:"video_link",meta_value:r.value};e.value.metadata.push(t),r.value=""},n=t=>{e.value.metadata=e.value.metadata.filter((e=>!("landing_page_link"==e.meta_key&&e.meta_value==t)))},d=t=>{e.value.metadata=e.value.metadata.filter((e=>!("video_link"==e.meta_key&&e.meta_value==t)))},c=()=>{const t={meta_key:"landing_page_link",meta_value:o.value};e.value.metadata.push(t),o.value=""};return(t,e)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Aae,[(0,s._)("div",$ae,[Eae,(0,s._)("div",Tae,[(0,s._)("div",Fae,[(0,s._)("div",jae,[Iae,(0,s._)("div",Vae,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),type:"text",class:"tw-bg-gray-50 tw-border tw-flex-1 tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"https://www...",required:""},null,512),[[a.nr,o.value]]),(0,s._)("button",{onClick:c,class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(u,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.kq)("",!0)])])]),(0,s._)("div",Oae,[i.value.length?((0,s.wg)(),(0,s.iD)("div",Mae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-px-4 tw-py-1 tw-flex tw-items-center tw-gap-4"},[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-uppercase"},[(0,s._)("span",Nae,"LP Link "+(0,wt.zw)(e+1),1)],8,Rae),(0,s._)("div",Yae,[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Zae),(0,s._)("button",{onClick:e=>n(t.meta_value),class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"flowbite:close-outline",class:"tw-text-xl tw-text-gray-500"})],8,Kae)])])))),128))])):((0,s.wg)(),(0,s.iD)("div",Hae," No landing pages has been added "))])]),Bae,(0,s._)("div",Qae,[Jae,(0,s._)("div",Gae,[(0,s._)("div",Xae,[(0,s._)("div",tse,[ese,(0,s._)("div",rse,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),class:"tw-bg-gray-50 tw-border tw-flex-1 tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"https://www...",required:""},null,512),[[a.nr,r.value]]),(0,s._)("button",{onClick:w,class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(u,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.kq)("",!0)])])]),(0,s._)("div",ase,[l.value.length?((0,s.wg)(),(0,s.iD)("div",lse,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-px-4 tw-py-1 tw-flex tw-items-center tw-gap-4"},[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-uppercase"},[(0,s._)("span",ise,"Video Link "+(0,wt.zw)(e+1),1)],8,ose),(0,s._)("div",wse,[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,nse),(0,s._)("button",{onClick:e=>d(t.meta_value),class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"flowbite:close-outline",class:"tw-text-xl tw-text-gray-500"})],8,dse)])])))),128))])):((0,s.wg)(),(0,s.iD)("div",sse," No videos has been added "))])])])}}};const use=cse;var pse=use;const gse={class:"tw-pt-2 tw-pb-20x tw-overflow-hidden"},mse={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},hse={class:"tw-flex tw-items-center tw-gap-1 tw-w-fit tw-h-fit tw-p-1 tw-bg-gray-100 tw-rounded-md tw-border tw-border-solid tw-border-gray-200/80 tw-relative tw-z-10"},fse=["onClick"],bse=["disabled"],vse=(0,s._)("span",null,"Create",-1),xse={class:"tw-mt-4"};var yse={__name:"CreateProductView",setup(t){const e=[{key:"main-details-tab",component:dee,name:"Informations",icon:"clarity:help-info-solid",fields:["name","description","buying_price","selling_price","sku","status","offers","categories","tags"]},{key:"product-stock-tab",component:Dre,name:"Inventory",icon:"ic:round-warehouse",fields:["product_variations","warehouse","product_deliveries","has_variations","initial_quantity"]},{key:"media-tab",component:Wae,name:"Media",icon:"mdi:folder-media",fields:["media"]},{key:"metadata-tab",component:pse,name:"Metadata",icon:"dashicons:admin-links",fields:["metadata"]}],r=(0,ke.XI)(e[0]),l=(0,ke.iH)({}),o=(0,ke.iH)(!1),i=(0,ke.iH)({status:!0,tags:[],categories:[],variations:[],has_variations:!1,media:[],metadata:[],category_id:"",initial_quantity:0,description:""});(0,s.JJ)("product",i),(0,s.JJ)("errors",l);const w=async()=>{const t={...i.value,media:i.value.media.map((t=>({uuid:t.uuid,id:t.id,collection_name:t.collection_name})))};o.value=!0,await Z6t.create(t).then((t=>{"SUCCESS"==t.data.code&&(Tc("Product created successfully","success"),i.value={status:!0,tags:[],categories:[],variations:[],metadata:[],has_variations:!1,media:[],category_id:"",initial_quantity:0,description:""})}),(t=>{if(t?.response?.data?.errors&&422==t?.response.status)for(const e in t.response.data.errors)e.startsWith("variations.")?l.value[e]=t?.response?.data?.errors[e]:l.value[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return(t,n)=>{const d=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",gse,[(0,s._)("div",mse,[(0,s._)("div",hse,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("div",{key:t.key,onClick:e=>r.value=t,class:(0,wt.C_)([[r.value.key==t.key&&" tw-border-neutral-200 tw-bg-white",r.value.key!=t.key&&"tw-border-transparent hover:tw-bg-white tw-cursor-pointer hover:tw-border-neutral-200",Object.keys(l.value).find((e=>t.fields.includes(e)))&&"!tw-border-red-500 !tw-text-red-400"],"tw-flex tw-items-center tw-relative tw-gap-2 tw-px-8 tw-py-2 tw-rounded tw-duration-200 tw-border tw-border-solid"])},[(0,s.Wm)(d,{icon:t.icon,class:"tw-text-2xl"},null,8,["icon"]),(0,s._)("span",null,(0,wt.zw)(t.name),1)],10,fse))),64))]),(0,s._)("div",null,[(0,s._)("button",{disabled:o.value,class:(0,wt.C_)([[o.value&&"!tw-bg-gray-300 !tw-text-gray-600 tw-cursor-not-allowed"],"tw-bg-gray-800 hover:tw-bg-gray-900 tw-text-white tw-flex tw-items-center tw-gap-2 tw-pr-8 tw-pl-6 tw-py-3 tw-rounded"]),onClick:w},[o.value?((0,s.wg)(),(0,s.j4)(d,{key:0,icon:"eos-icons:three-dots-loading",class:"tw-text-2xl"})):((0,s.wg)(),(0,s.j4)(d,{key:1,icon:"mynaui:plus",class:"tw-text-2xl"})),vse],10,bse)])]),(0,s._)("div",xse,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(r.value.component),{product:i.value,"onUpdate:product":n[0]||(n[0]=t=>i.value=t)},null,40,["product"]))])),_:1})],1024))])])}}};const _se=yse;var kse=_se;const Cse={key:0,class:"tw-p-2"},Dse=(0,s.uE)('<div class="tw-w-2/5 tw-h-[60px] tw-bg-gray-200 tw-rounded tw-animate-pulse"></div><div class="tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"><div class="tw-col-span-8 tw-min-h-[500px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div><div class="tw-col-span-4 tw-min-h-[500px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div><div class="tw-col-span-8 tw-min-h-[200px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div></div>',2),Sse=[Dse],zse={key:1,class:"tw-pt-2 tw-pb-20x tw-overflow-hidden"},Use={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},qse={class:"tw-flex tw-items-center tw-gap-1 tw-w-fit tw-h-fit tw-p-1 tw-bg-gray-100 tw-rounded-md tw-border tw-border-solid tw-border-gray-200/80 tw-relative tw-z-10"},Pse=["onClick"],Lse=["disabled"],Wse=(0,s._)("span",null,"Update",-1),Ase={class:"tw-mt-4"};var $se={__name:"EditProductView",setup(t){const e=[{key:"main-details-tab",component:dee,name:"Informations",icon:"clarity:help-info-solid",fields:["name","description","buying_price","selling_price","sku","status","offers","categories","tags"]},{key:"product-stock-tab",component:Dre,name:"Inventory",icon:"ic:round-warehouse",fields:["product_variations","warehouse","product_deliveries","has_variations","initial_quantity"]},{key:"media-tab",component:Wae,name:"Media",icon:"mdi:folder-media",fields:["media"]},{key:"metadata-tab",component:pse,name:"Metadata",icon:"dashicons:admin-links",fields:["metadata"]}],r=(0,b.yj)(),l=(0,ke.iH)(!0),o=(0,ke.iH)(!1),i=(0,ke.XI)(e[0]),w=(0,ke.iH)({}),n=(0,ke.iH)({status:!0,tags:[],categories:[],variations:[],has_variations:!1,media:[],metadata:[],category_id:"",initial_quantity:0,description:""});(0,s.JJ)("product",n),(0,s.JJ)("isUpdate",!0),(0,s.JJ)("errors",w);const d=async t=>{l.value=!0,await Z6t.edit(t).then((t=>{"SUCCESS"==t.data.code&&(n.value=t.data.product)})),l.value=!1},c=async()=>{const t={...n.value,media:n.value.media.map((t=>({uuid:t.uuid,id:t.id,collection_name:t.collection_name})))};o.value=!0,await Z6t.update(r.params.id,t).then((t=>{"SUCCESS"==t.data.code&&Tc("Product updated successfully","success")}),(t=>{if(t?.response?.data?.errors&&422==t?.response.status)for(const e in t.response.data.errors)e.startsWith("variations.")?w.value[e]=t?.response?.data?.errors[e]:w.value[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return d(r.params.id),(t,r)=>{const d=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l.value?((0,s.wg)(),(0,s.iD)("div",Cse,Sse)):(0,s.kq)("",!0),l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",zse,[(0,s._)("div",Use,[(0,s._)("div",qse,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("div",{key:t.key,onClick:e=>i.value=t,class:(0,wt.C_)([[i.value.key==t.key&&" tw-border-neutral-200 tw-bg-white",i.value.key!=t.key&&"tw-border-transparent hover:tw-bg-white tw-cursor-pointer hover:tw-border-neutral-200",Object.keys(w.value).find((e=>t.fields.includes(e)))&&"!tw-border-red-500 !tw-text-red-400"],"tw-flex tw-items-center tw-relative tw-gap-2 tw-px-8 tw-py-2 tw-rounded tw-duration-200 tw-border tw-border-solid"])},[(0,s.Wm)(d,{icon:t.icon,class:"tw-text-2xl"},null,8,["icon"]),(0,s._)("span",null,(0,wt.zw)(t.name),1)],10,Pse))),64))]),(0,s._)("div",null,[(0,s._)("button",{disabled:o.value,class:(0,wt.C_)([[o.value&&"!tw-bg-gray-300 !tw-text-gray-600 tw-cursor-not-allowed"],"tw-bg-gray-800 hover:tw-bg-gray-900 tw-text-white tw-flex tw-items-center tw-gap-2 tw-pr-8 tw-pl-6 tw-py-3 tw-rounded"]),onClick:c},[o.value?((0,s.wg)(),(0,s.j4)(d,{key:0,icon:"eos-icons:three-dots-loading",class:"tw-text-2xl"})):(0,s.kq)("",!0),Wse],10,Lse)])]),(0,s._)("div",Ase,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(i.value.component),{product:n.value,"onUpdate:product":r[0]||(r[0]=t=>n.value=t)},null,40,["product"]))])),_:1})],1024))])]))],64)}}};const Ese=$se;var Tse=Ese;const Fse={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},jse={class:"tw-px-3"},Ise={class:"tw-mt-5x tw-flexx tw-items-centerx"},Vse={key:0},Ose={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Hse={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},Mse={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},Rse=["src"],Nse=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),Yse={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Zse=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),Kse={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var Bse={__name:"ImportListView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)([]),a=async()=>{e.value=!0,await Z6t.imported().then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.kq)("",!0),(0,s._)("div",Fse,[(0,s._)("section",jse,[(0,s.kq)("",!0),(0,s._)("div",Ise,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Vse,[r.value.length?((0,s.wg)(),(0,s.iD)("div",Ose,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(p9t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",Hse,[(0,s._)("div",Mse,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,Rse),Nse])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",Yse,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[Zse,(0,s._)("div",Kse,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const Qse=Bse;var Jse=Qse;const Gse={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},Xse={class:"tw-px-3"},tle={class:"tw-mt-5x tw-flexx tw-items-centerx"},ele={key:0},rle={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},ale={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},sle={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},lle=["src"],ole=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),ile={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},wle=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),nle={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var dle={__name:"WishlistView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)([]),a=async()=>{e.value=!0,await Z6t.wishlisted().then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.kq)("",!0),(0,s._)("div",Gse,[(0,s._)("section",Xse,[(0,s.kq)("",!0),(0,s._)("div",tle,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ele,[r.value.length?((0,s.wg)(),(0,s.iD)("div",rle,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(p9t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",ale,[(0,s._)("div",sle,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,lle),ole])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",ile,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[wle,(0,s._)("div",nle,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const cle=dle;var ule=cle;const ple={class:"tw-min-h-[calc(100dvh-148px)] tw-w-full tw-bg-white tw-rounded tw-overflow-hidden tw-p-5"},gle=(0,s.uE)('<div class="tw-grid tw-grid-cols-12 tw-gap-5"><div class="tw-col-span-full lg:tw-col-span-6 tw-flex tw-flex-col tw-gap-2 tw-animate-pulse"><div class="tw-h-[550px] tw-w-full tw-bg-gray-200 tw-p-5 tw-rounded"></div><div class="tw-w-full tw-grid tw-grid-cols-12 tw-gap-2"><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div></div></div><div class="tw-col-span-full lg:tw-col-span-6 lg:tw-p-5 tw-animate-pulse"><div class="tw-w-full tw-h-[50px] tw-bg-gray-100 tw-rounded"></div><div class="tw-w-1/3 tw-h-[30px] tw-bg-gray-50 tw-mt-2 tw-rounded"></div><div class="tw-w-full tw-h-[300px] tw-bg-gray-50 tw-mt-10 tw-rounded"></div></div></div>',1),mle=[gle];function hle(t,e){return(0,s.wg)(),(0,s.iD)("div",ple,mle)}const fle={},ble=(0,m.Z)(fle,[["render",hle]]);var vle=ble,xle=r(1618);const yle={class:"tw-flex tw-flex-col tw-gap-4"},_le={class:"tw-h-[550px] tw-w-full tw-bg-gray-50 tw-border tw-border-solid tw-rounded tw-overflow-hidden"},kle=["src"],Cle={class:"tw-relative"},Dle=["onClick"],Sle=["src"];var zle={__name:"ProductImageSlider",setup(t){(0,xle.z2)();const e=(0,s.f3)("product"),r=(0,ke.iH)(e.value.thumbnail);return(t,a)=>{const l=(0,s.up)("swiper-slide"),o=(0,s.up)("swiper-container");(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",yle,[(0,s._)("div",_le,[(0,s._)("img",{class:"tw-h-full tw-w-full tw-object-contain tw-drop-shadow",src:r.value.url},null,8,kle)]),(0,s._)("div",Cle,[(0,s.Wm)(o,{ref:"swiper-container","slides-per-view":5.5,"space-between":8},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(e).media.filter((t=>["thumbnail","normal"].includes(t.collection_name))),(t=>((0,s.wg)(),(0,s.j4)(l,{key:t,navigation:!0},{default:(0,s.w5)((()=>[(0,s._)("button",{onClick:e=>r.value=t,class:(0,wt.C_)([[r.value.url==t.url&&"!tw-border-orange-500"],"tw-aspect-square tw-border-2 tw-border-solid tw-border-transparent tw-rounded tw-overflow-hidden tw-cursor-pointer"])},[(0,s._)("img",{src:t.url,class:"tw-w-full tw-h-full tw-object-cover"},null,8,Sle)],10,Dle)])),_:2},1024)))),128))])),_:1},512),(0,s.kq)("",!0),(0,s.kq)("",!0)])])}}};const Ule=zle;var qle=Ule;const Ple={class:"tw-w-full tw-h-[50px] md:tw-text-4xl tw-text-3xl tw-font-bold tw-rounded tw-truncate tw-font-[cairo]"},Lle={class:"tw-flex tw-items-center tw-gap-4"},Wle={key:0,class:"tw-w-fit tw-h-[30px] md:tw-text-xl tw-text-lg tw-font-bold tw-rounded tw-truncate tw-text-orange-500 tw-font-[cairo]"},Ale={class:"tw-px-4 tw-border-l tw-border-solid tw-border-gray-200 tw-flex tw-items-center tw-gap-4"},$le=(0,s._)("span",null,"SKU:",-1),Ele={class:"tw-mt-10 tw-w-full tw-rounded"},Tle=(0,s._)("div",{class:"tw-p-1 tw-px-10 tw-bg-orange-500 tw-text-white tw-w-fit tw-rounded-t"},"Pricing",-1),Fle={class:"tw-border-2 tw-border-solid tw-border-orange-500 tw-rounded-b tw-overflow-hidden tw-rounded-tr"},jle={class:"tw-w-full"},Ile=(0,s._)("thead",null,[(0,s._)("tr",{class:"tw-bg-gray-100"},[(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Variation"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Available"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Price")])],-1),Vle={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Ole={key:0},Hle={key:1,class:"tw-flex tw-items-center tw-gap-1"},Mle={key:0},Rle={key:1},Nle={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Yle={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Zle={class:"tw-mt-10 tw-w-full tw-rounded"},Kle=(0,s._)("div",{class:"tw-p-1 tw-px-10 tw-bg-emerald-500 tw-text-white tw-w-fit tw-rounded-t"},"Rates",-1),Ble={class:"tw-border-2 tw-border-solid tw-border-emerald-500 tw-rounded-b tw-overflow-hidden tw-rounded-tr"},Qle={class:"tw-w-full"},Jle=(0,s._)("thead",null,[(0,s._)("tr",{class:"tw-bg-gray-100"},[(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Confirmation"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Delivery")])],-1),Gle={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Xle={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"};var toe={__name:"ProductDetails",setup(t){const e=(0,s.f3)("product"),r=t=>{navigator.clipboard.writeText(t),Tc("Copied to clipboard")};return(t,a)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ple,(0,wt.zw)((0,ke.SU)(e).name),1),(0,s._)("div",Lle,[(0,ke.SU)(e).category?((0,s.wg)(),(0,s.iD)("div",Wle,(0,wt.zw)((0,ke.SU)(e).category),1)):(0,s.kq)("",!0),(0,s._)("div",Ale,[$le,(0,s._)("button",{onClick:a[0]||(a[0]=t=>r((0,ke.SU)(e).sku)),class:"tw-py-0.5 tw-px-2 tw-bg-orange-50 tw-text-orange-500 tw-rounded tw-flex tw-items-center tw-gap-2"},[(0,s._)("span",null,(0,wt.zw)((0,ke.SU)(e).sku),1),(0,s.Wm)(l,{icon:"solar:copy-linear"})])])]),(0,s._)("div",Ele,[Tle,(0,s._)("div",Fle,[(0,s._)("table",jle,[Ile,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(e).variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",Vle,[t.size||t.color?((0,s.wg)(),(0,s.iD)("div",Hle,[t.size?((0,s.wg)(),(0,s.iD)("span",Mle,(0,wt.zw)(t.size),1)):(0,s.kq)("",!0),t.color?((0,s.wg)(),(0,s.iD)("span",Rle,(0,wt.zw)(t.color),1)):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("span",Ole,"Default"))]),(0,s._)("td",Nle,(0,wt.zw)(t.available_quantity),1),(0,s._)("td",Yle,(0,wt.zw)((0,ke.SU)(c)+(0,ke.SU)(e).selling_price),1)])))),128))])])])]),(0,s._)("div",Zle,[Kle,(0,s._)("div",Ble,[(0,s._)("table",Qle,[Jle,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",Gle,(0,wt.zw)((0,ke.SU)(e).confirmation_rate)+"%",1),(0,s._)("td",Xle,(0,wt.zw)((0,ke.SU)(e).delivery_rate)+"%",1)])])])])]),(0,s.Wm)(X7t,{"is-card":!1,product:(0,ke.SU)(e)},null,8,["product"]),(0,s.kq)("",!0),(0,s.kq)("",!0)])}}};const eoe=toe;var roe=eoe;const aoe={class:"tw-aspect-square tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},soe={class:"tw-w-full tw-bg-gray-50"},loe=["src"],ooe=["download","href"];var ioe={__name:"ImageCard",props:["file"],emits:["show-preview","update"],setup(t,{emit:e}){const r=t,a=e,l=(0,ke.Vh)(r,"file"),o=(0,s.f3)("product"),i=(0,ke.iH)(!1),w=(0,ke.iH)(0),n={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(i.value=!1)}},d=async()=>(i.value=!0,zre.store(l.value.file,l.value.collection_name,n).then((t=>{if(t.data.uuid){const e={...l.value,uuid:t.data.uuid};a("update",l.value,e),console.log(e)}}),(t=>{console.log(t)})));function c(t){const e=new URL(t),r=e.pathname,a=r.split(".").pop();return a.includes("/")?"":a}return l.value.uuid||!l.value.is_new||i.value||d(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",aoe,[(0,s._)("div",soe,[i.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,wt.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("img",{onClick:e[0]||(e[0]=t=>a("show-preview")),src:l.value.url,class:"tw-w-full tw-h-full tw-object-contain group-hover:tw-scale-105 tw-duration-200"},null,8,loe),(0,s._)("a",{target:"_blank",download:(0,ke.SU)(o).name+"-"+l.value.id+"."+c(l.value.url),href:l.value.url,class:"hover:tw-bg-black/50 tw-rounded tw-duration-200 tw-p-1 tw-absolute tw-bottom-4 tw-right-4 tw-bg-black/20 tw-backdrop-blur"},[(0,s.Wm)(r,{icon:"octicon:download-16",class:"tw-text-3xl tw-text-white"})],8,ooe)])])])}}};const woe=ioe;var noe=woe;const doe={class:"tw-aspect-square tw-group tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},coe={class:"tw-w-full tw-h-full tw-bg-gray-50"},uoe=["controls","src"],poe=["download","href"];var goe={__name:"VideoCard",props:["file"],emits:["show-preview","update"],setup(t,{emit:e}){const r=t,a=e,l=(0,ke.Vh)(r,"file"),o=(0,ke.iH)(null),i=(0,s.f3)("product"),w=(0,ke.iH)(0),n=(0,ke.iH)(!1),d=(0,ke.iH)(null),c=()=>{a("show-preview")},u={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(n.value=!1)}},p=async()=>(n.value=!0,zre.store(l.value.file,l.value.collection_name,u).then((t=>{if(t.data.uuid){const e={...l.value,uuid:t.data.uuid};a("update",l.value,e),console.log(e)}}),(t=>{console.log(t)})));function g(t){const e=new URL(t),r=e.pathname,a=r.split(".").pop();return a.includes("/")?"":a}return l.value.uuid||!l.value.is_new||n.value||p(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",doe,[(0,s._)("div",coe,[n.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,wt.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("video",{ref_key:"video",ref:o,controls:d.value,preload:"false",src:l.value.url,class:"tw-w-full tw-h-full tw-object-contain tw-duration-200"},null,8,uoe),d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:c,class:"tw-absolute tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center group-hover:tw-scale-110 tw-duration-200 tw-bottom-1/2 tw-right-1/2 tw-translate-x-1/2 tw-translate-y-1/2 tw-p-5"},[(0,s.Wm)(r,{icon:"solar:play-circle-bold",class:"tw-text-7xl tw-drop-shadow-md tw-text-white"})])),(0,s._)("a",{target:"_blank",download:(0,ke.SU)(i).name+"-"+l.value.id+"."+g(l.value.url),href:l.value.url,class:"hover:tw-bg-black/50 tw-rounded tw-duration-200 tw-p-1 tw-absolute tw-bottom-4 tw-right-4 tw-bg-black/20 tw-backdrop-blur"},[(0,s.Wm)(r,{icon:"octicon:download-16",class:"tw-text-3xl tw-text-white"})],8,poe)])])])}}};const moe=goe;var hoe=moe;const foe={class:"tw-fixed tw-bottom-4 tw-right-3 tw-z-[1000]"},boe=["multiple"],voe={class:"tw-px-5 tw-mt-5 tw-flex tw-items-center tw-gap-5 tw-justify-between"},xoe={class:"tw-text-lg tw-font-medium tw-pl-5 tw-py-1 tw-border-l-2 tw-border-solid tw-border-orange-400"},yoe=(0,s._)("span",null,"Upload",-1),_oe={class:"tw-p-5"},koe={key:0,class:"tw-p-4 tw-bg-gray-100 tw-rounded tw-text-center tw-border tw-border-solid"},Coe=(0,s._)("p",{class:"tw-font-medium tw-text-lg tw-text-gray-600"}," No media has been added yet ",-1),Doe=[Coe],Soe={key:1,class:"tw-grid md:tw-grid-cols-4 lg:tw-grid-cols-4 xl:tw-grid-cols-6 tw-grid-cols-1 tw-gap-4"};var zoe={__name:"MediaCollection",props:{label:{type:String,default:"Media"},collection:{type:String,default:"normal"},multiple:{type:Boolean,default:!0},upload:{type:Boolean,default:!1}},setup(t){const e=t,r=(0,s.f3)("product"),a=(0,ke.iH)(null),l=(0,ke.iH)(!1),o=(0,ke.iH)(0),i=(0,s.Fl)((()=>r.value.media.filter((t=>t.collection_name==e.collection)))),w=t=>{const a=t.target.files;for(const s of a){const t=s.type.startsWith("image/")?"image":s.type.startsWith("video/")?"video":"other";if("other"==t)return Tc("Only images and videos are supported","warning"),!1;const a=new FileReader;a.onload=()=>{r.value.media.push({id:Date.now(),name:s.name,url:a.result,file:s,type:s.type,category:t,is_new:!0,collection_name:e.collection})},a.readAsDataURL(s)}},n=t=>{o.value=t,l.value=!0},d=(t,e)=>{const a=r.value.media.indexOf(t);r.value.media[a]=e};return(t,r)=>{const c=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",foe,[(0,s._)("input",{ref_key:"imageFilePicker",ref:a,type:"file",name:"image-input",onChange:w,multiple:e.multiple,class:"tw-invisible tw-absolute tw-pointer-events-none"},null,40,boe)])])),(0,s.Wm)(hae,{files:i.value,visible:l.value,"onUpdate:visible":r[0]||(r[0]=t=>l.value=t),index:o.value,"onUpdate:index":r[1]||(r[1]=t=>o.value=t)},null,8,["files","visible","index"]),(0,s._)("div",voe,[(0,s._)("h1",xoe,(0,wt.zw)(e.label),1),e.upload?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[2]||(r[2]=t=>a.value.click()),class:"tw-bg-gray-200 tw-flex tw-items-center tw-gap-2 tw-pr-6 tw-pl-4 tw-py-1 tw-rounded tw-text-gray-700 tw-border tw-border-solid tw-duration-200 hover:tw-border-gray-700"},[(0,s.Wm)(c,{icon:"mynaui:upload",class:"tw-text-xl"}),yoe])):(0,s.kq)("",!0)]),(0,s._)("div",_oe,[i.value.length?((0,s.wg)(),(0,s.iD)("div",Soe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.id},["image"==t.category?((0,s.wg)(),(0,s.j4)((0,ke.SU)(noe),{key:0,file:t,onUpdate:d,onShowPreview:t=>n(e)},null,8,["file","onShowPreview"])):(0,s.kq)("",!0),"video"==t.category?((0,s.wg)(),(0,s.j4)((0,ke.SU)(hoe),{key:1,file:t,onUpdate:d,onShowPreview:t=>n(e)},null,8,["file","onShowPreview"])):(0,s.kq)("",!0)],64)))),128))])):((0,s.wg)(),(0,s.iD)("div",koe,Doe))])],64)}}};const Uoe=zoe;var qoe=Uoe;const Poe={class:"tw-min-h-[300px] tw-p-2x"},Loe={class:""};var Woe={__name:"AdvertisingTab",setup(t){(0,s.f3)("product");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",Poe,[(0,s._)("div",Loe,[(0,s.Wm)((0,ke.SU)(qoe),{collection:"facebook_ads",label:"Facebook"}),(0,s.Wm)((0,ke.SU)(qoe),{collection:"tiktok_ads",label:"TikTok"})])]))}};const Aoe=Woe;var $oe=Aoe;const Eoe={class:"tw-w-full tw-p-4 tw-text-gray-600"};var Toe={__name:"OverviewTab",setup(t){const e=(0,s.f3)("product");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",Eoe,[(0,s.kq)("",!0),(0,s.Wm)((0,ke.SU)(J9t),{modelValue:(0,ke.SU)(e).description,"onUpdate:modelValue":r[0]||(r[0]=t=>(0,ke.SU)(e).description=t),editable:!1},null,8,["modelValue"])]))}};const Foe=Toe;var joe=Foe;const Ioe={class:"tw-min-h-[400px] tw-px-4"},Voe={class:""},Ooe=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold"},"Landing pages",-1),Hoe={key:0,class:"tw-flex tw-flex-col tw-gap-2 tw-mt-4"},Moe=["href"],Roe={key:1,class:"tw-mt-4 tw-p-4 tw-bg-gray-100 tw-text-center"},Noe=(0,s._)("p",null,"No landing pages available",-1),Yoe=[Noe],Zoe={class:"tw-mt-5"},Koe=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold"},"Videos",-1),Boe={key:0,class:"tw-flex tw-flex-col tw-gap-2 tw-mt-4"},Qoe=["href"],Joe={key:1,class:"tw-mt-4 tw-p-4 tw-bg-gray-100 tw-text-center"},Goe=(0,s._)("p",null,"No videos available",-1),Xoe=[Goe];var tie={__name:"LinksTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.Fl)((()=>e.value.metadata.filter((t=>"landing_page_link"==t.meta_key)))),a=(0,s.Fl)((()=>e.value.metadata.filter((t=>"video_link"==t.meta_key))));return(t,e)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Ioe,[(0,s._)("div",Voe,[Ooe,r.value.length?((0,s.wg)(),(0,s.iD)("div",Hoe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,((t,e)=>((0,s.wg)(),(0,s.iD)("a",{target:"_blank",href:t.meta_value,key:t,class:"tw-w-full tw-p-2 tw-flex tw-items-center tw-justify-between tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("span",null,"Landing Page link "+(0,wt.zw)(e+1),1),(0,s.Wm)(l,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Moe)))),128))])):((0,s.wg)(),(0,s.iD)("div",Roe,Yoe))]),(0,s._)("div",Zoe,[Koe,a.value.length?((0,s.wg)(),(0,s.iD)("div",Boe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value,((t,e)=>((0,s.wg)(),(0,s.iD)("a",{target:"_blank",href:t.meta_value,key:t,class:"tw-w-full tw-p-2 tw-flex tw-items-center tw-justify-between tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("span",null,"Video link "+(0,wt.zw)(e+1),1),(0,s.Wm)(l,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Qoe)))),128))])):((0,s.wg)(),(0,s.iD)("div",Joe,Xoe))])])}}};const eie=tie;var rie=eie;const aie={class:"tw-flex tw-items-center tw-gap-2"},sie=["onClick"],lie={class:"tw-bg-white tw-w-full tw-border tw-border-solid tw-border-gray-200"},oie={class:"tw-mt-4 tw-overflow-hidden"};var iie={__name:"TabContainer",setup(t){const e=[{key:"overview-tab",component:joe,name:"Overview",icon:"clarity:help-info-solid"},{key:"advertising-tab",component:$oe,name:"Advertising Data",icon:"ic:sharp-ads-click"},{key:"links-tab",component:rie,name:"Links",icon:"lucide:link"}],r=(0,s.f3)("product"),l=(0,ke.XI)(e[0]);return(t,o)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",aie,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("button",{key:t.key,onClick:e=>l.value=t,class:(0,wt.C_)([[t==l.value&&"tw-bg-orange-400 !tw-text-white"],"tw-bg-white tw-text-gray-600 tw-flex tw-items-center tw-duration-200 tw-gap-2 tw-px-4 tw-py-2 tw-rounded-t tw-border tw-border-b-0 tw-border-solid tw-border-gray-200"])},[(0,s.Wm)(i,{icon:t.icon,class:"tw-text-xl"},null,8,["icon"]),(0,s._)("span",null,(0,wt.zw)(t.name),1)],10,sie))),64))]),(0,s._)("div",lie,[(0,s._)("div",oie,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(l.value.component),{product:(0,ke.SU)(r),"onUpdate:product":o[0]||(o[0]=t=>(0,ke.dq)(r)?r.value=t:null)},null,40,["product"]))])),_:1})],1024))])])])}}};const wie=iie;var nie=wie;const die={class:"tw-p-2"},cie=(0,s._)("span",null,"Go Back",-1),uie={class:"tw-p-2"},pie={key:1,class:"tw-min-h-fit tw-w-full tw-bg-white tw-rounded tw-overflow-hidden tw-p-5 tw-border tw-border-solid tw-border-gray-200"},gie={class:"tw-grid tw-grid-cols-12 tw-gap-5"},mie={class:"tw-col-span-full lg:tw-col-span-6"},hie={class:"tw-col-span-full lg:tw-col-span-6 lg:tw-p-5"},fie={key:2,class:"tw-mt-5"};var bie={__name:"ShowProductView",setup(t){const e=(0,b.yj)(),r=(0,ke.iH)(!1),a=(0,ke.iH)({});(0,s.JJ)("product",a),(0,s.JJ)("loading",r);const l=async t=>{r.value=!0,await Z6t.get(t).then((t=>{"SUCCESS"==t.data.code&&(a.value=t.data.product),console.log(t)}),(t=>{console.log(t)})),r.value=!1};return l(e.params.id),(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",die,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$router.go(-1)),class:"tw-text-gray-600 tw-flex tw-items-center tw-gap-1 tw-duration-200 hover:tw-text-gray-700"},[(0,s.Wm)(a,{icon:"iconamoon:arrow-left-2",class:"tw-text-3xl tw-text-gray-400"}),cie])]),(0,s._)("div",uie,[r.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(vle),{key:0})):((0,s.wg)(),(0,s.iD)("div",pie,[(0,s._)("div",gie,[(0,s._)("div",mie,[(0,s.Wm)((0,ke.SU)(qle))]),(0,s._)("div",hie,[(0,s.Wm)((0,ke.SU)(roe))])])])),r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fie,[(0,s.Wm)((0,ke.SU)(nie))]))])],64)}}};const vie=bie;var xie=vie;const yie={class:"tw-min-w-full tw-leading-normal"},_ie={class:""},kie={key:0},Cie=(0,s._)("div",{class:"tw-w-full tw-py-3 tw-bg-gray-50 group-even:tw-bg-white tw-rounded tw-min-w-[30px] tw-animate-pulse"},null,-1),Die=[Cie],Sie={key:1},zie={class:"tw-px-5 tw-py-3 tw-text-sm"},Uie={class:"tw-px-5 tw-py-3 tw-text-sm"},qie={class:"tw-px-5 tw-py-3 tw-text-sm"},Pie={class:"tw-px-5 tw-py-3 tw-text-sm"},Lie={class:"tw-px-5 tw-py-3 tw-text-sm"},Wie={class:"tw-px-5 tw-py-3 tw-text-sm"},Aie={class:"tw-text-green-500"},$ie={class:"tw-px-5 tw-py-3 tw-text-sm"},Eie={class:"tw-text-green-500"},Tie={class:"tw-px-5 tw-py-3 tw-text-sm"},Fie={class:"tw-text-green-500"},jie={key:1},Iie=["colspan"],Vie=(0,s._)("div",{class:"tw-p-5 tw-bg-white tw-min-h-[250px] tw-text-gray-600 tw-flex tw-items-center tw-justify-center tw-text-lg"},[(0,s._)("p",null,"No results was found")],-1),Oie=[Vie];var Hie={__name:"ProductSellerTable",setup(t){const e=(0,ke.iH)(!1),r=(0,s.f3)("product",{}),a=(0,s.Fl)((()=>r.value.sellers)),l=(0,ke.iH)([{name:"seller",label:"Seller",classes:["tw-w-[220px]x"]},{name:"orders",label:"Orders",classes:["tw-w-[150px]"]},{name:"quantity",label:"Quantity",classes:["tw-w-[150px]"]},{name:"confirmation",label:"Confirmation",classes:["tw-w-[220px]"]},{name:"delivery",label:"Delivery",classes:["tw-w-[220px]"]},{name:"revenue",label:"Seller Revenue",classes:["tw-w-[200px]"]},{name:"expenses",label:"Expenses",classes:["tw-w-[200px]"]},{name:"profit",label:"Estimated Profit",classes:["tw-w-[200px]"]}]);return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("table",yie,[(0,s._)("thead",_ie,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.name,class:(0,wt.C_)([t.classes,"tw-px-5 last:tw-border-e-0 tw-whitespace-nowrap tw-border-e tw-py-3 tw-border-b tw-borderx tw-border-gray-100 tw-bg-gray-50 tw-text-start tw-text-[12px] tw-font-semibold tw-text-gray-600 tw-uppercase tw-tracking-wider"])},(0,wt.zw)(t.label),3)))),128))])]),e.value?((0,s.wg)(),(0,s.iD)("tbody",kie,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("tr",{class:"tw-border-b tw-border-solid tw-border-gray-100 last:tw-border-b-0 tw-group even:tw-bg-gray-50/50",key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("td",{key:t.name,class:"tw-px-2 tw-py-3"},Die)))),128))]))),64))])):((0,s.wg)(),(0,s.iD)("tbody",Sie,[a.value.length>0?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(a.value,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-border-b tw-border-solid tw-border-gray-100 last:tw-border-b-0 tw-group even:tw-bg-gray-50/50 hover:tw-bg-primary-50/60 tw-duration-100"},[(0,s._)("td",zie,[(0,s._)("p",null,(0,wt.zw)(t.username),1)]),(0,s._)("td",Uie,[(0,s._)("p",null,(0,wt.zw)(t.orders_count),1)]),(0,s._)("td",qie,[(0,s._)("p",null,(0,wt.zw)(t.total_quantity),1)]),(0,s._)("td",Pie,[(0,s._)("p",null,(0,wt.zw)(t.confirmation_rate)+"%",1)]),(0,s._)("td",Lie,[(0,s._)("p",null,(0,wt.zw)(t.delivery_rate)+"%",1)]),(0,s._)("td",Wie,[(0,s._)("p",Aie,(0,wt.zw)((0,ke.SU)(c))+" "+(0,wt.zw)(t.revenue),1)]),(0,s._)("td",$ie,[(0,s._)("p",Eie,(0,wt.zw)((0,ke.SU)(c))+" "+(0,wt.zw)(t.product_expenses),1)]),(0,s._)("td",Tie,[(0,s._)("p",Fie,(0,wt.zw)((0,ke.SU)(c))+" "+(0,wt.zw)(t.product_profit),1)])])))),128)):((0,s.wg)(),(0,s.iD)("tr",jie,[(0,s._)("td",{colspan:l.value.length},Oie,8,Iie)]))]))])]))}};const Mie=Hie;var Rie=Mie;const Nie={key:0,class:"tw-p-2"},Yie={class:"tw-p-2 tw-text-lg tw-font-bold"},Zie={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-mt-2"},Kie={class:"tw-min-h-[100px] tw-grid tw-grid-cols-4 tw-col-span-12 tw-gap-2"},Bie={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},Qie={class:"tw-flex tw-items-center tw-gap-4"},Jie=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Sellers",-1),Gie={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},Xie={class:"tw-text-2xl tw-font-bold tw-ml-auto"},twe={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},ewe={class:"tw-flex tw-items-center tw-gap-4"},rwe=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Orders",-1),awe={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},swe={class:"tw-text-2xl tw-font-bold tw-ml-auto"},lwe={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},owe={class:"tw-flex tw-items-center tw-gap-4"},iwe=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Imported",-1),wwe={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},nwe={class:"tw-text-2xl tw-font-bold tw-ml-auto"},dwe={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},cwe={class:"tw-flex tw-items-center tw-gap-4"},uwe=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Wishlisted",-1),pwe={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},gwe={class:"tw-text-2xl tw-font-bold tw-ml-auto"},mwe={class:"tw-mt-2 tw-overflow-hidden tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded"};var hwe={__name:"ShowAffiliateProduct",setup(t){const e=(0,b.yj)(),r=(0,ke.iH)(!0),a=(0,ke.iH)(null);(0,s.JJ)("product",a);const l=async t=>{r.value=!0,await Z6t.details(t).then((t=>{"SUCCESS"==t.data.code&&(a.value=t.data.product)})).catch((t=>{console.log(t)})),r.value=!1};return l(e.params.id),(t,e)=>{const l=(0,s.up)("icon");return r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Nie,[(0,s._)("div",Yie,(0,wt.zw)(a.value.name),1),(0,s._)("div",Zie,[(0,s._)("div",Kie,[(0,s._)("div",Bie,[(0,s._)("div",Qie,[(0,s.Wm)(l,{icon:"heroicons:user-group-20-solid",class:"tw-text-4xl tw-text-sky-400"}),Jie]),(0,s._)("div",Gie,[(0,s._)("p",Xie,(0,wt.zw)(a.value.sellers.length),1)])]),(0,s._)("div",twe,[(0,s._)("div",ewe,[(0,s.Wm)(l,{icon:"fa-solid:boxes",class:"tw-text-4xl tw-text-amber-400"}),rwe]),(0,s._)("div",awe,[(0,s._)("p",swe,(0,wt.zw)(a.value.orders_count),1)])]),(0,s._)("div",lwe,[(0,s._)("div",owe,[(0,s.Wm)(l,{icon:"lets-icons:import-fill",class:"tw-text-4xl tw-text-green-400"}),iwe]),(0,s._)("div",wwe,[(0,s._)("p",nwe,(0,wt.zw)(a.value.import_count),1)])]),(0,s._)("div",dwe,[(0,s._)("div",cwe,[(0,s.Wm)(l,{icon:"mdi:heart",class:"tw-text-4xl tw-text-rose-400"}),uwe]),(0,s._)("div",pwe,[(0,s._)("p",gwe,(0,wt.zw)(a.value.wishlist_count),1)])])])]),(0,s._)("div",mwe,[(0,s.Wm)((0,ke.SU)(Rie))])]))}}};const fwe=hwe;var bwe=fwe;const vwe={class:"tw-flex tw-flex-col tw-mt-5"},xwe={class:"tw-overflow-x-auto"},ywe={class:"tw-inline-block tw-min-w-full tw-align-middle"},_we={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},kwe={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Cwe={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},Dwe={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Swe={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},zwe=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No seller has imported this product ! ")])],-1),Uwe=[zwe],qwe={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Pwe={colspan:"11"},Lwe={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Wwe=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Awe=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),$we=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Ewe=[Awe,$we],Twe={class:"tw-mt-6"};var Fwe={__name:"IndexTable",setup(t){const e={per_page:10,current_page:1,from:1,to:10,last_page:1,total:1},r=(0,ke.iH)([{name:"Username",key:"username",class:[""]},{name:"Orders",key:"orders",class:["tw-w-[200px]"]},{name:"Added",key:"added",class:["tw-w-[200px]"]}]),a=(0,ke.iH)(!1),l=(0,ke.iH)([]);return(t,o)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vwe,[(0,s._)("div",xwe,[(0,s._)("div",ywe,[(0,s._)("div",_we,[(0,s._)("table",kwe,[(0,s._)("thead",Cwe,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,wt.C_)([[t.class],"tw-px-4 tw-w-fit tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"]),scope:"col"},(0,wt.zw)(t.name),3)))),128))])]),!a.value&&l.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",Dwe)):(0,s.kq)("",!0),a.value||0!=l.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Swe,Uwe)),a.value?((0,s.wg)(),(0,s.iD)("tbody",qwe,[(0,s._)("tr",null,[(0,s._)("td",Pwe,[(0,s._)("div",Lwe,[Wwe,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.per_page-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Ewe)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Twe,[(0,s.Wm)((0,ke.SU)(qvt),{from:e.from,to:e.to,"last-page":e.last_page,"per-page":e.per_page,total:e.total,"current-page":e.current_page,onPageChange:o[0]||(o[0]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const jwe=Fwe;var Iwe=jwe;const Vwe={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Owe={class:"tw-px-3"},Hwe=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Product Sellers")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of sellers working on this product. ")])],-1);var Mwe={__name:"ProductSellerListView",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",Vwe,[(0,s._)("section",Owe,[Hwe,(0,s._)("div",null,[(0,s.Wm)(Iwe)])])]))}};const Rwe=Mwe;var Nwe=Rwe,Ywe={name:"affiliate",path:"/affiliate",component:Wa,meta:{module:"affiliate"},children:[{name:"affiliate.admin.list",path:"admin/products",component:T9t,meta:{module:"affiliate",subModule:"affiliate.admin.list",title:"Affiliate Products",role:["admin","affiliate-manager"]}},{name:"affiliate.admin.show",path:"admin/products/:id",component:bwe,meta:{module:"product",subModule:"affiliate.admin.show",title:"Affiliate Product",role:["admin","affiliate-manager"]}},{name:"affiliate.admin.create",path:"admin/products/create",component:kse,meta:{module:"affiliate",subModule:"affiliate.create",title:"Create Affiliate Product",role:["admin","affiliate-manager"]}},{name:"affiliate.admin.edit",path:"admin/products/:id/edit",component:Tse,meta:{module:"affiliate",subModule:"affiliate.edit",title:"Edit Affiliate Product",role:["admin","affiliate-manager"]}},{name:"affiliate.index",path:"products",component:q9t,meta:{module:"affiliate",subModule:"affiliate.index",title:"Affiliate Products",role:["admin","seller","affiliate-manager"]}},{name:"affiliate.show",path:"products/:id",component:xie,meta:{module:"affiliate",subModule:"affiliate.show",title:"Product Details",role:["admin","seller","affiliate-manager"]}},{name:"affiliate.show.sellers",path:"products/:id/sellers",component:Nwe,meta:{module:"affiliate",subModule:"affiliate.show.sellers",title:"Product Sellers",role:["admin"]}},{name:"affiliate.import",path:"products/imported",component:Jse,meta:{module:"affiliate",subModule:"affiliate.import",title:"Import List",role:["admin","seller"]}},{name:"affiliate.wishlist",path:"products/wishlisted",component:ule,meta:{module:"affiliate",subModule:"affiliate.wishlist",title:"My wishlist",role:["admin","seller"]}}]};const Zwe={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},Kwe={class:"tw-flex tw-items-center tw-gap-2"},Bwe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Orders",-1),Qwe={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Jwe={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},Gwe={class:"tw-flex tw-items-center tw-gap-2"},Xwe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Orders",-1),tne={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},ene=(0,s._)("div",{class:"tw-h-[230px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1);var rne={__name:"OrdersCountChart",setup(t){const e=(0,s.f3)("register"),r=(0,s.f3)("filters"),a=(0,ke.iH)(!0),l=(0,ke.iH)(0),o=(0,ke.iH)([]),i=(0,s.Fl)((()=>({chart:{id:"vuechart-example",foreColor:"#000",toolbar:{show:!1}},xaxis:{categories:o.value.map((t=>ze()(t.date).format("MMM D")))},yaxis:{show:!1},stroke:{colors:["#000"]},fill:{type:"gradient",colors:["#000"],gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[50,90,100]}},dataLabels:{enabled:!0,style:{fontSize:"10px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff",padding:4,borderRadius:2,borderWidth:1,borderColor:"#fff",opacity:.9,backgroundColor:"#000",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}}}}))),w=(0,s.Fl)((()=>[{name:"Orders",data:o.value.map((t=>t.count))}])),n=async()=>{a.value=!0,await qBt.getOrdersCountByDays({from:r.value.date.start,to:r.value.date.end,sellers:r.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&(console.log(o),o.value=t.data.data,l.value=t.data.count)}),(t=>{console.log(t)})),a.value=!1};return n(),e(n),(t,e)=>{const r=(0,s.up)("apexchart"),o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Zwe,[(0,s._)("div",Kwe,[Bwe,(0,s._)("p",Qwe,(0,wt.zw)((new Intl.NumberFormat).format(l.value)),1)]),(0,s.Wm)(r,{type:"area",height:"220",options:i.value,series:w.value},null,8,["options","series"])])),a.value?((0,s.wg)(),(0,s.iD)("div",Jwe,[(0,s._)("div",Gwe,[Xwe,(0,s._)("p",tne,[(0,s.Wm)(o,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),ene])):(0,s.kq)("",!0)],64)}}};const ane=rne;var sne=ane;const lne={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},one={class:"tw-flex tw-items-center tw-gap-2"},ine=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),wne={class:"tw-px-1 tw-bg-emerald-500 tw-text-white tw-text-sm tw-rounded"},nne=(0,s.uE)('<div class="tw-flex tw-gap-x"><div class="tw-w-[250px] tw-p-5 tw-h-[230px] tw-flex tw-items-center tw-justify-center"><div class="tw-w-[90%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-aspect-square tw-animate-pulse"></div></div><div class="tw-w-[50%] tw-p-2 tw-h-[230px] tw-flex tw-justify-center tw-flex-col tw-gap-3"><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div></div></div>',1),dne={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},cne={class:"tw-flex tw-items-center tw-gap-2"},une=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),pne={class:"tw-px-1 tw-bg-emerald-500 tw-text-white tw-text-sm tw-rounded"},gne={class:"tw-h-fullx tw-flex tw-gap-2"},mne={class:"tw-w-fit tw-flex tw-items-center tw-h-full"},hne={class:"tw-flex-1 tw-p-0 tw-flex tw-flex-col tw-gap-3 tw-justify-center"},fne={class:"tw-text-xs tw-font-semibold"},bne={class:"tw-text-xs"};var vne={__name:"ConfirmationChart",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ke.iH)(!0),l=(0,ke.iH)(0),o=(0,ke.iH)(0),i=(0,ke.iH)({confirmations:[]}),w=(0,ke.iH)([77]),n=(0,s.Fl)((()=>({chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#111",fontSize:"16px",fontFamily:"cairo",fontWeight:"medium"},value:{formatter:function(t){return parseInt(t)+"%"},color:"#111",fontSize:"25px",fontFamily:"cairo",fontWeight:"bold",show:!0}}}},fill:{type:"gradient",colors:w.value[0]>50?["#10b981"]:["#f43f5e"],gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:w.value[0]>50?["#22c55e","#10b981"]:["#f43f5e","#e11d48"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Confirmed"]}))),d=async()=>{a.value=!0,await qBt.getConfirmationsCount({from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&c(t.data.data)}),(t=>{console.log(t)})),a.value=!1},c=t=>{l.value=t.reduce(((t,e)=>t+e.count),0);let e=[],r=t.find((t=>"double"==t.confirmation))?.count??0,a=r>0?(r/l.value*100).toFixed(0):0,s={name:"Double",value:r,percentage:`${a}%`,color:"#8b5cf6"},n=l.value-r,d=t.find((t=>null==t.confirmation))?.count??0,c=d>0?(d/n*100).toFixed(0):0,u={name:"New",value:d,percentage:`${c}%`,color:"#000"};e.push(u);let p=t.find((t=>"confirmer"==t.confirmation))?.count??0,g=p>0?(p/n*100).toFixed(0):0;o.value=p,w.value=[g],e.push(s);let m=t.find((t=>"annuler"==t.confirmation))?.count??0,h=m>0?(m/n*100).toFixed(0):0,f={name:"Canceled",value:m,percentage:`${h}%`,color:"#e11d48"};e.push(f);let b=t.reduce(((t,e)=>e.confirmation?.includes("-call-")?t+e.count:t),0),v=b>0?(b/n*100).toFixed(0):0,x={name:"No Answer",value:b,percentage:`${v}%`,color:"#f59e0b"};e.push(x);let y=t.find((t=>"wrong-number"==t.confirmation))?.count??0,_=y>0?(y/n*100).toFixed(0):0,k={name:"Wrong Number",value:y,percentage:`${_}%`,color:"#ec4899"};e.push(k);let C=l.value-(d+p+r+m+b+y),D=C>0?(C/n*100).toFixed(0):0,S={name:"Others",value:C,percentage:`${D}%`,color:"#64748b"};e.push(S),i.value.confirmations=e};return d(),r(d),(t,e)=>{const r=(0,s.up)("icon"),l=(0,s.up)("apexchart");return a.value?((0,s.wg)(),(0,s.iD)("div",lne,[(0,s._)("div",one,[ine,(0,s._)("p",wne,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),nne])):((0,s.wg)(),(0,s.iD)("div",dne,[(0,s._)("div",cne,[une,(0,s._)("p",pne,(0,wt.zw)((new Intl.NumberFormat).format(o.value)),1)]),(0,s._)("div",gne,[(0,s._)("div",mne,[(0,s.Wm)(l,{type:"radialBar",height:"230",width:"230",options:n.value,series:w.value},null,8,["options","series"])]),(0,s._)("div",hne,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value.confirmations,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{style:(0,wt.j5)({background:t.color}),class:"tw-p-0 tw-px-1 tw-rounded tw-text-[10px] tw-font-bold tw-text-white tw-text-center tw-w-[35px]"},(0,wt.zw)(t.percentage),5),(0,s._)("p",fne,[(0,s.Uk)((0,wt.zw)(t.name)+" ",1),(0,s._)("span",bne,"("+(0,wt.zw)((new Intl.NumberFormat).format(t.value))+")",1)])])))),128))])])]))}}};const xne=vne;var yne=xne;const _ne={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},kne={class:"tw-flex tw-items-center tw-gap-2"},Cne=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Delivery",-1),Dne={class:"tw-px-1 tw-bg-sky-500 tw-text-white tw-text-sm tw-rounded"},Sne=(0,s.uE)('<div class="tw-flex tw-gap-x"><div class="tw-w-[230px] tw-p-5 tw-h-[230px] tw-flex tw-items-center tw-justify-center"><div class="tw-w-[90%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-aspect-square tw-animate-pulse"></div></div><div class="tw-w-[50%] tw-p-2 tw-h-[230px] tw-flex tw-justify-center tw-flex-col tw-gap-3"><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div></div></div>',1),zne={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},Une={class:"tw-flex tw-items-center tw-gap-2"},qne=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Delivery",-1),Pne={class:"tw-px-1 tw-bg-sky-500 tw-text-white tw-text-sm tw-rounded"},Lne={class:"tw-h-fullx tw-flex tw-gap-2"},Wne={class:"tw-w-fit"},Ane={class:"tw-flex-1 tw-p-2 tw-flex tw-flex-col tw-gap-3 tw-justify-center"},$ne={class:"tw-text-xs tw-font-semibold"},Ene={class:"tw-text-xs"};var Tne={__name:"DeliveryChart",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ke.iH)(!0),l=(0,ke.iH)(0),o=(0,ke.iH)(0),i=(0,ke.iH)({deliveries:[]}),w=(0,ke.iH)([27]),n=(0,s.Fl)((()=>({chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#111",fontSize:"16px",fontFamily:"cairo",fontWeight:"medium"},value:{formatter:function(t){return parseInt(t)+"%"},color:"#111",fontSize:"25px",fontFamily:"cairo",fontWeight:"bold",show:!0}}}},fill:{type:"gradient",colors:w.value[0]>50?["#38bdf8"]:["#f43f5e"],gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:w.value[0]>50?["#38bdf8","#06b6d4"]:["#f43f5e","#e11d48"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Delivered"]}))),d=async()=>{a.value=!0,await qBt.getDeliveriesCount({from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&c(t.data.data)}),(t=>{console.log(t)})),a.value=!1},c=t=>{l.value=t.reduce(((t,e)=>t+e.count),0);let e=[],r=(l.value,t.find((t=>"printed"==t.delivery))?.count??0),a=r>0?(r/l.value*100).toFixed(0):0,s={name:"Printed",value:r,percentage:`${a}%`,color:"#000"};e.push(s);let n=t.find((t=>"paid"==t.delivery))?.count??0,d=n>0?(n/l.value*100).toFixed(0):0,c={name:"Paid",value:n,percentage:`${d}%`,color:"#06b6d4"},u=t.find((t=>"cleared"==t.delivery))?.count??0,p=u>0?(u/l.value*100).toFixed(0):0,g=t.find((t=>"livrer"==t.delivery))?.count??0,m=g>0?(g/l.value*100).toFixed(0):0,h={name:"Delivered",value:g,percentage:`${m}%`,color:"#10b981"};e.push(h),o.value=g,w.value=[(parseFloat(m)+parseFloat(d)+parseFloat(p)).toFixed(2)],console.log(w.value);let f=t.find((t=>"transfer"==t.delivery))?.count??0,b=t.find((t=>"expidier"==t.delivery))?.count??0+f,v=b>0?(b/l.value*100).toFixed(0):0,x={name:"Shipped",value:b,percentage:`${v}%`,color:"#8b5cf6"};e.push(x),e.push(c);let y=t.find((t=>"retourner"==t.delivery))?.count??0+f,_=y>0?(y/l.value*100).toFixed(0):0,k={name:"Returned",value:y,percentage:`${_}%`,color:"#e11d48"};e.push(k);let C=t.find((t=>"dispatch"==t.delivery))?.count??0,D=C>0?(C/l.value*100).toFixed(0):0,S={name:"Dispatched",value:C,percentage:`${D}%`,color:"#f59e0b"};e.push(S);let z=l.value-(r+g+b+n+u+C),U=z>0?(z/l.value*100).toFixed(0):0,q={name:"Others",value:z,percentage:`${U}%`,color:"#64748b"};e.push(q),i.value.deliveries=e};return d(),r(d),(t,e)=>{const r=(0,s.up)("icon"),o=(0,s.up)("apexchart");return a.value?((0,s.wg)(),(0,s.iD)("div",_ne,[(0,s._)("div",kne,[Cne,(0,s._)("p",Dne,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),Sne])):((0,s.wg)(),(0,s.iD)("div",zne,[(0,s._)("div",Une,[qne,(0,s._)("p",Pne,(0,wt.zw)((new Intl.NumberFormat).format(l.value)),1)]),(0,s._)("div",Lne,[(0,s._)("div",Wne,[(0,s.Wm)(o,{type:"radialBar",height:"230",width:"230",options:n.value,series:w.value},null,8,["options","series"])]),(0,s._)("div",Ane,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value.deliveries,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{style:(0,wt.j5)({background:t.color}),class:"tw-p-0 tw-px-1 tw-rounded tw-text-[10px] tw-font-bold tw-text-white tw-text-center tw-w-[35px]"},(0,wt.zw)(t.percentage),5),(0,s._)("p",$ne,[(0,s.Uk)((0,wt.zw)(t.name)+" ",1),(0,s._)("span",Ene,"("+(0,wt.zw)((new Intl.NumberFormat).format(t.value))+")",1)])])))),128))])])]))}}};const Fne=Tne;var jne=Fne;const Ine={class:"tw-grid tw-grid-cols-12 tw-gap-2"},Vne={class:"tw-col-span-12 tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200"},One={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},Hne=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Earnings",-1),Mne={class:"tw-p-2 tw-flex tw-items-center tw-gap-2"},Rne={class:"tw-grid tw-grid-cols-3 tw-gap-2"},Nne={class:"tw-border tw-border-solid tw-p-2"},Yne={class:"tw-flex tw-items-center tw-gap-2"},Zne={class:"tw-flex tw-items-center tw-gap-2"},Kne=(0,s._)("p",{class:"tw-font-bold tw-text-lg"},"Profit",-1),Bne={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[20px] tw-w-[70px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},Qne={key:1,class:"tw-font-semibold tw-text-gray-700"},Jne={class:"tw-px-2x tw-mt-2x"},Gne={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[30px] tw-mt-1 tw-w-[150px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},Xne={key:1,class:"tw-font-bold tw-text-2xl tw-text-emerald-500"},tde={class:"tw-border tw-border-solid tw-p-2"},ede=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("p",{class:"tw-font-bold tw-text-lg"},"Sourcings")],-1),rde={class:"tw-px-2x tw-mt-2x"},ade={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[30px] tw-mt-1 tw-w-[150px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},sde={key:1,class:"tw-font-bold tw-text-2xl tw-text-amber-500"},lde={class:"tw-border tw-border-solid tw-p-2"},ode=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("p",{class:"tw-font-bold tw-text-lg"},"Profit Per Order")],-1),ide={class:"tw-px-2x tw-mt-2x"},wde={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[30px] tw-mt-1 tw-w-[150px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},nde={key:1,class:"tw-font-bold tw-text-2xl tw-text-sky-500"},dde={class:"tw-grid tw-grid-cols-5 tw-gap-2 tw-mt-2"},cde={class:"tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-shadowx xtw-rounded"},ude=(0,s._)("p",{class:"tw-font-semibold tw-text-gray-600"},"COD Fees",-1),pde={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[20px] tw-mt-1 tw-w-[60px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},gde={key:1,class:"tw-font-bold tw-text-lg"},mde={class:"tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-shadowx xtw-rounded"},hde=(0,s._)("p",{class:"tw-font-semibold tw-text-sky-600"},"Shipping",-1),fde={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[20px] tw-mt-1 tw-w-[60px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},bde={key:1,class:"tw-font-bold tw-text-lg"},vde={class:"tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-shadowx xtw-rounded"},xde={class:"tw-flex tw-items-center tw-gap-1"},yde=(0,s._)("p",{class:"tw-font-semibold tw-text-violet-600"},"I.Beirut",-1),_de={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[15px] tw-w-[50px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},kde={key:1,class:"tw-text-xs"},Cde={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[20px] tw-mt-1 tw-w-[60px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},Dde={key:1,class:"tw-font-bold tw-text-lg"},Sde={class:"tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-shadowx xtw-rounded"},zde={class:"tw-flex tw-items-center tw-gap-1"},Ude=(0,s._)("p",{class:"tw-font-semibold tw-text-amber-600"},"O.Beirut",-1),qde={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[15px] tw-w-[50px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},Pde={key:1,class:"tw-text-xs"},Lde={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[20px] tw-mt-1 tw-w-[60px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},Wde={key:1,class:"tw-font-bold tw-text-lg"},Ade={class:"tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-shadowx xtw-rounded"},$de=(0,s._)("p",{class:"tw-font-semibold tw-text-pink-600"},"Other fees",-1),Ede={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[20px] tw-mt-1 tw-w-[60px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},Tde={key:1,class:"tw-font-bold tw-text-lg"};var Fde={__name:"ProfitData",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ke.iH)(!1),l=(0,ke.iH)("created"),o=(0,ke.iH)({}),i=(0,ke.iH)({}),w=async()=>{a.value=!0,await qBt.getProfit({from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{console.log(t.data),i.value=t.data.profit,o.value="created"==l.value?t.data.profit.profit_by_created_at:t.data.profit.profit_by_delivered_at}),(t=>{console.log(t)})),a.value=!1},n=(t,e={style:"currency",currency:"USD"})=>new Intl.NumberFormat("en",{maximumFractionDigits:2,...e}).format(t),d=t=>{"created"==t?o.value=i.value.profit_by_created_at:"delivered"==t&&(o.value=i.value.profit_by_delivered_at),l.value=t};return w(),r(w),(t,e)=>((0,s.wg)(),(0,s.iD)("div",Ine,[(0,s._)("div",Vne,[(0,s._)("div",One,[Hne,(0,s._)("div",Mne,[(0,s._)("button",{class:(0,wt.C_)([["created"==l.value&&"!tw-bg-orange-500 !tw-text-white !tw-border-orange-200"],"tw-text-sm tw-border tw-border-solid tw-border-gray-300 tw-rounded-sm tw-px-2 tw-py-1 tw-cursor-pointer hover:tw-bg-gray-100 tw-duration-200"]),onClick:e[0]||(e[0]=t=>d("created"))}," Created ",2),(0,s._)("button",{class:(0,wt.C_)([["delivered"==l.value&&"!tw-bg-orange-500 !tw-text-white !tw-border-orange-200"],"tw-text-sm tw-border tw-border-solid tw-border-gray-300 tw-rounded-sm tw-px-2 tw-py-1 tw-cursor-pointer hover:tw-bg-gray-100 tw-duration-200"]),onClick:e[1]||(e[1]=t=>d("delivered"))}," Delivered ",2)])]),(0,s._)("div",null,[(0,s._)("div",Rne,[(0,s._)("div",Nne,[(0,s._)("div",Yne,[(0,s._)("div",Zne,[Kne,a.value?((0,s.wg)(),(0,s.iD)("p",Bne)):((0,s.wg)(),(0,s.iD)("p",Qne,"( "+(0,wt.zw)(n(o.value.orders.orders_count,{}))+" )",1))])]),(0,s._)("div",Jne,[a.value?((0,s.wg)(),(0,s.iD)("p",Gne)):((0,s.wg)(),(0,s.iD)("p",Xne,(0,wt.zw)(n(o.value.profit)),1))])]),(0,s._)("div",tde,[ede,(0,s._)("div",rde,[a.value?((0,s.wg)(),(0,s.iD)("p",ade)):((0,s.wg)(),(0,s.iD)("p",sde,(0,wt.zw)(n(o.value.sourcings_profit)),1))])]),(0,s._)("div",lde,[ode,(0,s._)("div",ide,[a.value?((0,s.wg)(),(0,s.iD)("p",wde)):((0,s.wg)(),(0,s.iD)("p",nde,(0,wt.zw)(n(o.value.profit_per_order)),1))])])]),(0,s._)("div",dde,[(0,s._)("div",cde,[ude,a.value?((0,s.wg)(),(0,s.iD)("p",pde)):((0,s.wg)(),(0,s.iD)("p",gde,(0,wt.zw)(n(o.value.cod_fees)),1))]),(0,s._)("div",mde,[hde,a.value?((0,s.wg)(),(0,s.iD)("p",fde)):((0,s.wg)(),(0,s.iD)("p",bde,(0,wt.zw)(n(o.value.orders.shipping_fees)),1))]),(0,s._)("div",vde,[(0,s._)("div",xde,[yde,a.value?((0,s.wg)(),(0,s.iD)("p",_de)):((0,s.wg)(),(0,s.iD)("p",kde,"("+(0,wt.zw)(n(o.value.orders.inside_b_count,{}))+")",1))]),a.value?((0,s.wg)(),(0,s.iD)("p",Cde)):((0,s.wg)(),(0,s.iD)("p",Dde,(0,wt.zw)(n(o.value.orders.inside_b)),1))]),(0,s._)("div",Sde,[(0,s._)("div",zde,[Ude,a.value?((0,s.wg)(),(0,s.iD)("p",qde)):((0,s.wg)(),(0,s.iD)("p",Pde,"("+(0,wt.zw)(n(o.value.orders.outside_b_count,{}))+")",1))]),a.value?((0,s.wg)(),(0,s.iD)("p",Lde)):((0,s.wg)(),(0,s.iD)("p",Wde,(0,wt.zw)(n(o.value.orders.outside_b)),1))]),(0,s._)("div",Ade,[$de,a.value?((0,s.wg)(),(0,s.iD)("p",Ede)):((0,s.wg)(),(0,s.iD)("p",Tde,(0,wt.zw)(n(o.value.orders.variant_fees)),1))])])])])]))}};const jde=Fde;var Ide=jde;const Vde={class:"tw-grid tw-grid-cols-12 tw-gap-2"},Ode={class:"tw-col-span-12 tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200"},Hde=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg tw-mb-2"},"Seller Turnover",-1),Mde={class:"tw-grid tw-grid-cols-2 tw-gap-2"},Rde={class:"tw-border tw-border-solid tw-p-2"},Nde={class:"tw-flex tw-items-center tw-gap-2"},Yde={class:"tw-flex tw-items-center tw-gap-2"},Zde=(0,s._)("p",{class:"tw-font-bold tw-text-lg"},"Total Revenue",-1),Kde={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[20px] tw-w-[70px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},Bde={key:1,class:"tw-font-semibold tw-text-gray-700"},Qde={class:"tw-px-2x tw-mt-2x"},Jde={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[30px] tw-mt-1 tw-w-[150px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},Gde={key:1,class:"tw-font-bold tw-text-2xl tw-text-emerald-500"},Xde={class:"tw-border tw-border-solid tw-p-2"},tce=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("p",{class:"tw-font-bold tw-text-lg"},"Net Paid")],-1),ece={class:"tw-px-2x tw-mt-2x"},rce={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[30px] tw-mt-1 tw-w-[70px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},ace={key:1,class:"tw-font-bold tw-text-2xl tw-text-sky-500"},sce={class:"tw-grid tw-grid-cols-5 tw-gap-2 tw-mt-2"},lce={class:"tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-shadowx xtw-rounded"},oce=(0,s._)("p",{class:"tw-font-semibold tw-text-sky-600"},"AOV",-1),ice={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[20px] tw-mt-1 tw-w-[60px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},wce={key:1,class:"tw-font-bold tw-text-lg"},nce={class:"tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-shadowx xtw-rounded"},dce=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-1"},[(0,s._)("p",{class:"tw-font-semibold tw-text-violet-600"},"Shipping Fees")],-1),cce={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[20px] tw-mt-1 tw-w-[60px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},uce={key:1,class:"tw-font-bold tw-text-lg"},pce={class:"tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-shadowx xtw-rounded"},gce=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-1"},[(0,s._)("p",{class:"tw-font-semibold tw-text-rose-600"},"Total Fees")],-1),mce={key:0,class:"tw-font-semibold tw-text-gray-700 tw-h-[20px] tw-mt-1 tw-w-[60px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},hce={key:1,class:"tw-font-bold tw-text-lg"};var fce={__name:"RevenueData",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ke.iH)(!1),l=(0,ke.iH)({}),o=async()=>{a.value=!0,await qBt.getRevenue({from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{console.log(t.data),l.value=t.data.revenue}),(t=>{console.log(t)})),a.value=!1},i=(t,e={style:"currency",currency:"USD"})=>new Intl.NumberFormat("en",{maximumFractionDigits:2,...e}).format(t);return o(),r(o),(t,e)=>((0,s.wg)(),(0,s.iD)("div",Vde,[(0,s._)("div",Ode,[Hde,(0,s._)("div",null,[(0,s._)("div",Mde,[(0,s._)("div",Rde,[(0,s._)("div",Nde,[(0,s._)("div",Yde,[Zde,a.value?((0,s.wg)(),(0,s.iD)("p",Kde)):((0,s.wg)(),(0,s.iD)("p",Bde,"( "+(0,wt.zw)(i(l.value.orders.orders_count,{}))+" )",1))])]),(0,s._)("div",Qde,[a.value?((0,s.wg)(),(0,s.iD)("p",Jde)):((0,s.wg)(),(0,s.iD)("p",Gde,(0,wt.zw)(i(l.value.turnover)),1))])]),(0,s._)("div",Xde,[tce,(0,s._)("div",ece,[a.value?((0,s.wg)(),(0,s.iD)("p",rce)):((0,s.wg)(),(0,s.iD)("p",ace,(0,wt.zw)(i(l.value.net_paid)),1))])])]),(0,s._)("div",sce,[(0,s._)("div",lce,[oce,a.value?((0,s.wg)(),(0,s.iD)("p",ice)):((0,s.wg)(),(0,s.iD)("p",wce,(0,wt.zw)(i(l.value.aov)),1))]),(0,s._)("div",nce,[dce,a.value?((0,s.wg)(),(0,s.iD)("p",cce)):((0,s.wg)(),(0,s.iD)("p",uce,(0,wt.zw)(i(l.value.orders.shipping_fees)),1))]),(0,s._)("div",pce,[gce,a.value?((0,s.wg)(),(0,s.iD)("p",mce)):((0,s.wg)(),(0,s.iD)("p",hce,(0,wt.zw)(i(l.value.total_fees)),1))])])])])]))}};const bce=fce;var vce=bce;const xce={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[350px]x"},yce={class:"tw-flex tw-items-start tw-justify-between"},_ce={class:"tw-flex tw-items-center tw-gap-2"},kce=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Sellers",-1),Cce={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Dce={class:"tw-flex tw-items-center"},Sce=(0,s._)("option",{value:"high"},"High to Low",-1),zce=(0,s._)("option",{value:"low"},"Low to High",-1),Uce=[Sce,zce],qce={class:"tw-p-4 tw-flex tw-gap-2 tw-items-center"},Pce=["disabled"],Lce=["disabled"],Wce={id:"chart"},Ace={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[550px]"},$ce={class:"tw-flex tw-items-center tw-gap-2"},Ece=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Sellers",-1),Tce={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Fce=(0,s._)("div",{class:"tw-h-[500px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1);var jce={__name:"SellerData",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),l=(0,ke.iH)("high"),o=(0,ke.iH)({}),i=(0,ke.iH)(!1),w=(0,ke.iH)(0);(0,s.YP)((()=>l.value),(()=>{c()}));const n=(0,ke.iH)([{name:"Orders",group:"budget",data:[]},{name:"Confirmed",group:"actual",data:[]}]),d=(0,ke.iH)({chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!1}},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:t=>t},plotOptions:{bar:{horizontal:!0}},xaxis:{categories:[],labels:{formatter:t=>t}},fill:{opacity:1},colors:["#000","#10b981"],legend:{position:"top",horizontalAlign:"left"}}),c=async(t=6,r=1)=>{i.value=!0,await qBt.getOrdersBySellers({per_page:t,page:r,order_by:l.value,from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&(u(t.data.data.data),o.value=t.data.data,w.value=o.value.total)}),(t=>{console.log(t)})),i.value=!1},u=t=>{const e=Object.keys(t);d.value.xaxis.categories=e;const r=e.map((e=>{const r=Object.keys(t[e]).reduce(((r,a)=>r+(t[e][a].order_count||0)),0),a=t[e]["confirmer"]?.order_count||0;return[r,a]}));n.value[0].data=r.map((t=>t[0])),n.value[1].data=r.map((t=>t[1]))},p=()=>{c(o.value.per_page,o.value.current_page+1)},g=()=>{c(o.value.per_page,o.value.current_page-1)};return c(),r(c),(t,e)=>{const r=(0,s.up)("icon"),c=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xce,[(0,s._)("div",yce,[(0,s._)("div",_ce,[kce,(0,s._)("p",Cce,(0,wt.zw)((new Intl.NumberFormat).format(w.value)),1)]),(0,s._)("div",Dce,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"tw-h-[35px] tw-px-2 tw-outline-none tw-border tw-rounded tw-border-solid tw-border-gray-200 tw-w-[180px]"},Uce,512),[[a.bM,l.value]]),(0,s._)("div",qce,[(0,s._)("button",{disabled:!o.value.prev_page_url,onClick:g,class:(0,wt.C_)([o.value.prev_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-left",class:"tw-text-3xl tw-text-gray-500"})],10,Pce),(0,s._)("button",{disabled:!o.value.next_page_url,onClick:p,class:(0,wt.C_)([o.value.next_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-right",class:"tw-text-3xl tw-text-gray-500"})],10,Lce)])])]),(0,s._)("div",null,[(0,s._)("div",Wce,[(0,s.Wm)(c,{type:"bar",height:"450",options:d.value,series:n.value},null,8,["options","series"])])])])),i.value?((0,s.wg)(),(0,s.iD)("div",Ace,[(0,s._)("div",$ce,[Ece,(0,s._)("p",Tce,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),Fce])):(0,s.kq)("",!0)],64)}}};const Ice=jce;var Vce=Ice;const Oce={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[350px]x"},Hce={class:"tw-flex tw-items-start tw-justify-between"},Mce={class:"tw-flex tw-items-center tw-gap-2"},Rce=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Products",-1),Nce={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Yce={class:"tw-flex tw-items-center"},Zce=(0,s._)("option",{value:"high"},"High to Low",-1),Kce=(0,s._)("option",{value:"low"},"Low to High",-1),Bce=[Zce,Kce],Qce={class:"tw-p-4 tw-flex tw-gap-2 tw-items-center"},Jce=["disabled"],Gce=["disabled"],Xce={id:"chart"},tue={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[550px]"},eue={class:"tw-flex tw-items-center tw-gap-2"},rue=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Products",-1),aue={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},sue=(0,s._)("div",{class:"tw-h-[500px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1);var lue={__name:"TopProductChart",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),l=(0,ke.iH)("high"),o=(0,ke.iH)({}),i=(0,ke.iH)(!0),w=(0,ke.iH)(0);(0,s.YP)((()=>l.value),(()=>{c()}));const n=(0,ke.iH)([{name:"Orders",group:"orders",data:[]},{name:"Quantity",group:"quantity",data:[]}]),d=(0,ke.iH)({chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!1}},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:t=>t},plotOptions:{bar:{horizontal:!0}},xaxis:{categories:[],labels:{show:!1,formatter:t=>t,trim:!0}},yaxis:{categories:[],labels:{show:!0,formatter:t=>t,trim:!0}},fill:{opacity:1},colors:["#000","#06b6d4"],legend:{position:"top",horizontalAlign:"left"}}),c=async(t=6,r=1)=>{i.value=!0,await qBt.getProductsPerformance({per_page:t,page:r,order_by:l.value,from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&(u(t.data.data.data),o.value=t.data.data,w.value=o.value.total)}),(t=>{console.log(t)})),i.value=!1},u=t=>{n.value[0].data=t.map((t=>t.count_orders)),n.value[1].data=t.map((t=>t.total_quantity)),d.value.xaxis.categories=t.map((t=>t.name))},p=()=>{c(o.value.per_page,o.value.current_page+1)},g=()=>{c(o.value.per_page,o.value.current_page-1)};return c(),r(c),(t,e)=>{const r=(0,s.up)("icon"),c=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Oce,[(0,s._)("div",Hce,[(0,s._)("div",Mce,[Rce,(0,s._)("p",Nce,(0,wt.zw)((new Intl.NumberFormat).format(w.value)),1)]),(0,s._)("div",Yce,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"tw-h-[35px] tw-px-2 tw-outline-none tw-border tw-rounded tw-border-solid tw-border-gray-200 tw-w-[180px]"},Bce,512),[[a.bM,l.value]]),(0,s._)("div",Qce,[(0,s._)("button",{disabled:!o.value.prev_page_url,onClick:g,class:(0,wt.C_)([o.value.prev_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-left",class:"tw-text-3xl tw-text-gray-500"})],10,Jce),(0,s._)("button",{disabled:!o.value.next_page_url,onClick:p,class:(0,wt.C_)([o.value.next_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-right",class:"tw-text-3xl tw-text-gray-500"})],10,Gce)])])]),(0,s._)("div",null,[(0,s._)("div",Xce,[(0,s.Wm)(c,{type:"bar",height:"450",options:d.value,series:n.value},null,8,["options","series"])])])])),i.value?((0,s.wg)(),(0,s.iD)("div",tue,[(0,s._)("div",eue,[rue,(0,s._)("p",aue,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),sue])):(0,s.kq)("",!0)],64)}}};const oue=lue;var iue=oue;const wue={class:"tw-absolute tw-top-full tw-z-10 tw-pt-2"},nue={class:"tw-flex tw-flex-col tw-w-[800px] tw-h-[380px] tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-shadow tw-overflow-hidden"},due={class:"tw-grid tw-grid-cols-12 tw-h-full"},cue={class:"tw-col-span-3 tw-p-2 tw-flex tw-flex-col tw-gap-2 tw-max-h-[320px] tw-overflow-auto tw-relative"},uue=["onClick"],pue={key:0,class:"tw-col-span-9 tw-p-2 tw-border-l tw-border-solid tw-border-gray-200"},gue={class:"tw-flex tw-p-2 tw-h-full tw-mt-2"},mue={class:"tw-col-span-12 tw-bg-white tw-h-[50px] tw-border-t tw-border-solid tw-border-gray-200"},hue={class:"tw-flex tw-items-center tw-justify-end tw-gap-2 tw-h-full tw-px-2"};var fue={__name:"DateFilter",emits:["close","setName"],setup(t,{emit:e}){const r=e,a=(0,s.f3)("filters"),l=(0,s.f3)("filter"),o=new Date(Date.now()),i=(0,ke.iH)(o.getMonth()),w=(0,ke.iH)(o.getFullYear()),n=(0,ke.iH)(o.getDay()),d=(0,ke.iH)({start:null,end:null});setTimeout((()=>{a.value.date=d.value}));const c=(0,ke.iH)("Lifetime"),u=[{name:"Lifetime",start:null,end:null},{name:"Today",start:new Date(o),end:new Date(o)},{name:"Yesterday",start:new Date(new Date(o).setDate(o.getDate()-1)),end:new Date(new Date(o).setDate(o.getDate()-1))},{name:"Last 7 days",start:new Date(new Date(o).setDate(o.getDate()-6)),end:new Date(o)},{name:"Last 30 days",start:new Date(new Date(o).setDate(o.getDate()-29)),end:new Date(o)},{name:"Last 90 days",start:new Date(new Date(o).setDate(o.getDate()-89)),end:new Date(o)},{name:"Last 365 days",start:new Date(new Date(o).setDate(o.getDate()-364)),end:new Date(o)},{name:"Last month",start:new Date(new Date(o.getFullYear(),o.getMonth()-1,1)),end:new Date(new Date(o.getFullYear(),o.getMonth(),0))},{name:"Last 12 months",start:new Date(new Date(o).setFullYear(o.getFullYear()-1)),end:new Date(o)},{name:"Week to date",start:new Date(new Date(o).setDate(o.getDate()-o.getDay()+1)),end:new Date(o)},{name:"Month to date",start:new Date(o.getFullYear(),o.getMonth(),1),end:new Date(o)},{name:"Quarter to date",start:new Date(o.getFullYear(),3*Math.floor(o.getMonth()/3),1),end:new Date(o)},{name:"Year to date",start:new Date(o.getFullYear(),0,1),end:new Date(o)}];(0,s.YP)((()=>d.value),(()=>{a.value.date=d.value}),{deep:!0});const p=(t,e)=>{i.value=t,w.value=e,console.log(e,t)},g=t=>{console.log("month: ",t)},m=t=>{console.log("day: ",t)},h=t=>{d.value.start=t.start,d.value.end=t.end,c.value=t.name,r("setName",t.name)},f=()=>{l(),r("close")};return(t,e)=>{const a=(0,s.up)("icon"),l=(0,s.up)("DatePicker");return(0,s.wg)(),(0,s.iD)("div",wue,[(0,s._)("div",nue,[(0,s._)("div",due,[(0,s._)("div",cue,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(u,(t=>(0,s._)("button",{onClick:e=>h(t),key:t.name,class:(0,wt.C_)([[t.name===c.value&&"!tw-bg-gray-100 !tw-text-black"],"tw-flex tw-items-center tw-justify-between tw-p-2 tw-rounded tw-bg-white tw-text-start tw-font-semibold tw-text-gray-600 tw-duration-200 hover:tw-bg-gray-100"])},[(0,s._)("span",null,(0,wt.zw)(t.name),1),t.name===c.value?((0,s.wg)(),(0,s.j4)(a,{key:0,icon:"mage:check",class:"tw-text-xl tw-text-black"})):(0,s.kq)("",!0)],10,uue))),64))]),"Lifetime"!=c.value?((0,s.wg)(),(0,s.iD)("div",pue,[(0,s.kq)("",!0),(0,s._)("div",gue,[(0,s.Wm)(l,{"multi-month":"","allow-range":"",month:i.value,year:w.value,day:n.value,modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=t=>d.value=t),onMonthChange:p,onDayChange:m,onChange:g},null,8,["month","year","day","modelValue"])])])):(0,s.kq)("",!0)]),(0,s._)("div",mue,[(0,s._)("div",hue,[(0,s._)("button",{onClick:e[3]||(e[3]=t=>r("close")),class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-gray-50 tw-text-gray-500"},"Close"),(0,s._)("button",{onClick:f,class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-orange-400 tw-text-white"},"Filter")])])])])}}};const bue=fue;var vue=bue;const xue={class:"tw-absolute tw-top-full tw-z-10 tw-pt-2"},yue={class:"tw-flex tw-flex-col tw-w-[400px] tw-h-[380px]x tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-shadow tw-overflow-hidden"},_ue={class:"tw-grid tw-grid-cols-12 tw-h-full"},kue={class:"tw-col-span-12 tw-grid tw-grid-cols-2 tw-p-2 tw-gap-2 tw-h-fit tw-max-h-[200px] tw-overflow-auto"},Cue=["title","onClick"],Due={class:"tw-col-span-12 tw-bg-white tw-h-[50px] tw-border-t tw-border-solid tw-border-gray-200"},Sue={class:"tw-flex tw-items-center tw-justify-end tw-gap-2 tw-h-full tw-px-2"};var zue={__name:"SellerFilter",emits:["close"],setup(t,{emit:e}){const r=e,a=(0,s.f3)("filters"),l=(0,s.f3)("filter"),o=(0,i.oR)(),w=(0,s.Fl)((()=>o.getters["user/users"].filter((t=>"seller"==t.role_name)))),n=t=>{a.value.sellers.includes(t)?a.value.sellers=a.value.sellers.filter((e=>e!=t)):a.value.sellers.push(t)},d=()=>{r("close"),l()};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",xue,[(0,s._)("div",yue,[(0,s._)("div",_ue,[(0,s._)("div",kue,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,title:t.firstname+" "+t.lastname,onClick:e=>n(t.id),class:(0,wt.C_)([[(0,ke.SU)(a).sellers.includes(t.id)&&"!tw-bg-orange-500 tw-text-white"],"tw-cursor-pointer tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-h-fit hover:tw-bg-gray-50 tw-duration-200"])},(0,wt.zw)(t.username),11,Cue)))),128))]),(0,s._)("div",Due,[(0,s._)("div",Sue,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r("close")),class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-gray-50 tw-text-gray-500"},"Close"),(0,s._)("button",{onClick:d,class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-orange-400 tw-text-white"},"Filter")])])])])]))}};const Uue=zue;var que=Uue;const Pue={class:"tw-flex tw-items-center tw-gap-2"},Lue={class:"tw-relative"},Wue={class:"tw-text-sm tw-font-medium tw-text-gray-800"},Aue={class:"tw-relative"},$ue=(0,s._)("p",{class:"tw-text-sm tw-font-medium tw-text-gray-800"},"All Sellers",-1);var Eue={__name:"FilterContainer",setup(t){const e=(0,ke.iH)("Lifetime"),r=(0,ke.iH)({date:!1,sellers:!1});return(t,l)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Pue,[(0,s._)("div",Lue,[(0,s._)("button",{onClick:l[0]||(l[0]=t=>r.value.date=!r.value.date),class:"tw-px-4 tw-py-2 tw-rounded tw-flex tw-items-center tw-gap-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200 hover:tw-shadow tw-duration-200"},[(0,s.Wm)(o,{icon:"mage:calendar",class:"tw-text-xl tw-text-gray-700"}),(0,s._)("p",Wue,(0,wt.zw)(e.value),1)]),(0,s.wy)((0,s.Wm)((0,ke.SU)(vue),{onSetName:l[1]||(l[1]=t=>e.value=t),onClose:l[2]||(l[2]=t=>r.value.date=!1)},null,512),[[a.F8,r.value.date]])]),(0,s._)("div",Aue,[(0,s._)("button",{onClick:l[3]||(l[3]=t=>r.value.sellers=!r.value.sellers),class:"tw-px-4 tw-py-2 tw-rounded tw-flex tw-items-center tw-gap-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200 hover:tw-shadow tw-duration-200"},[(0,s.Wm)(o,{icon:"mage:user",class:"tw-text-xl tw-text-gray-700"}),$ue]),(0,s.wy)((0,s.Wm)((0,ke.SU)(que),{onClose:l[4]||(l[4]=t=>r.value.sellers=!1)},null,512),[[a.F8,r.value.sellers]])])])])}}};const Tue=Eue;var Fue=Tue;const jue={class:"tw-pb-16"},Iue={class:"tw-flex tw-items-center tw-justify-between tw-gap-2 tw-mb-2"},Vue=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:"tw-bg-white tw-h-[40px] tw-w-[150px] tw-border tw-border-solid tw-border-gray-300"}),(0,s._)("div",{class:"tw-bg-white tw-h-[40px] tw-w-[150px] tw-border tw-border-solid tw-border-gray-300"})],-1),Oue={class:"tw-grid tw-grid-cols-12 tw-gap-2"},Hue={class:"tw-col-span-12 md:tw-col-span-12 lg:tw-col-span-4"},Mue={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},Rue={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},Nue={class:"tw-col-span-12 md:tw-col-span-6"},Yue={class:"tw-col-span-12 md:tw-col-span-6"},Zue={class:"tw-col-span-12 md:tw-col-span-12 lg:tw-col-span-6"},Kue={class:"tw-col-span-12 md:tw-col-span-12 lg:tw-col-span-6"};var Bue={__name:"SellersAnalyticsView",setup(t){const e=(0,ke.iH)({date:{start:null,end:null},sellers:[]}),r=(0,ke.iH)([]),a=t=>{r.value.push(t)},l=()=>{r.value.forEach((t=>t()))};return(0,s.JJ)("filter",l),(0,s.JJ)("filters",e),(0,s.JJ)("register",a),(t,e)=>((0,s.wg)(),(0,s.iD)("div",jue,[(0,s._)("div",Iue,[(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(Fue))]),Vue]),(0,s._)("div",Oue,[(0,s._)("div",Hue,[(0,s.Wm)((0,ke.SU)(sne))]),(0,s._)("div",Mue,[(0,s.Wm)((0,ke.SU)(yne))]),(0,s._)("div",Rue,[(0,s.Wm)((0,ke.SU)(jne))]),(0,s._)("div",Nue,[(0,s.Wm)((0,ke.SU)(vce))]),(0,s._)("div",Yue,[(0,s.Wm)((0,ke.SU)(Ide))]),(0,s._)("div",Zue,[(0,s.Wm)((0,ke.SU)(Vce))]),(0,s._)("div",Kue,[(0,s.Wm)((0,ke.SU)(iue))])])]))}};const Que=Bue;var Jue=Que,Gue={name:"analytics.admin",path:"/admin/analytics",component:Wa,meta:{module:"analytics"},children:[{name:"analytics.admin.sellers",path:"sellers",component:Jue,meta:{module:"analytics",subModule:"analytics.admin.sellers",title:"Analytics",role:["admin"]}}]};const Xue=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Page not found")])],-1),tpe={class:"py-5 px-5 tw-border bg-white tw-w-full tw-flex tw-items-center tw-justify-center tw-rounded-md tw-min-h-[500px]"},epe={class:"tw-flex tw-items-center tw-flex-col"},rpe=(0,s._)("div",{class:"md:tw-text-6xl tw-text-4xl tw-font-black text-primary-color"},"404",-1),ape={class:"tw-w-fit tw-flex tw-items-center md:tw-text-2xl tw-text-xl mt-md-5 mt-3 tw-gap-2"},spe=(0,s._)("div",{class:"tw-max-w-[400px] tw-text-center md:tw-text-lg tw-text-sm mt-5"}," The page you requested was not found or you don't have the permission to access it. ",-1);function lpe(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[Xue,(0,s._)("div",tpe,[(0,s._)("div",epe,[rpe,(0,s._)("div",ape,[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-circle")])),_:1}),(0,s.Uk)(" Oops! Page not found! ")]),spe])])])}var ope={};const ipe=(0,m.Z)(ope,[["render",lpe]]);var wpe=ipe;const npe={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"};function dpe(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",npe,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:o.sendRequest,loading:l.isLoading,variant:"flat",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("Send Request")])),_:1},8,["onClick","loading"])])])])}const cpe="/api/storeimport",upe="post";var ppe={name:"Orders from Youcan",sheet_id:"QSDfFsqdDSQDfrsqFDSRHTRzer",sheet_name:"Youcan-Orders",auto_fetch:!0},gpe={data(){return{isLoading:!1,test:ppe}},methods:{async sendRequest(){switch(this.isLoading=!0,await E.getCookie(),upe){case"get":A.get(cpe).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"post":A.post(cpe,ppe).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"delete":A["delete"](cpe).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;default:break}}}};const mpe=(0,m.Z)(gpe,[["render",dpe]]);var hpe=mpe;const fpe=[Qt,RAt,yQt,mq,OA,z7,kot,Owt,mut,Ngt,iht,TSt,oqt,mHt,eOt,D4t,kw,k8t,N6t,Spt,Ywe,Gue,{name:"default",path:"/test",component:Wa,children:[{name:"test",path:"",component:hpe,meta:{title:"Test abro m3a rasek",module:"test",gate:"all"}}]},{name:"not-found",path:"/404",component:Wa,meta:{title:"Not Found"},children:[{name:"404",path:"",component:wpe}]},{name:"catch-all",path:"/:pathMatch(.*)",beforeEnter:(t,e,r)=>r({name:"404"}),meta:{title:"Not Found"}}],bpe=(0,b.p7)({history:(0,b.PO)("/"),routes:fpe});bpe.beforeEach(((t,e)=>it(t,e,bpe)));var vpe=bpe,xpe=(r(9773),r(8957));const ype={colors:{"primary-color":"#FF9F43","secondary-color":"#1B2850","primary-indigo":"#1B2850","primary-orange":"#FF9F43","primary-blue":"#00CFE8","primary-green":"#28C76F"}};var _pe=(0,xpe.Rd)({theme:{defaultTheme:"customTheme",themes:{customTheme:ype}}});const kpe={install(t){t.config.globalProperties.$can=function(t){const e=this.$store.getters["user/permissions"];return e.includes(t)}}};var Cpe=kpe;const Dpe={install(t){t.config.globalProperties.$alert=function(t){this.$store.dispatch("alert/toggleAlert",t)}}};var Spe=Dpe,zpe={install(t){t.config.globalProperties.$frontend=t=>w+t,t.config.globalProperties.$backend=t=>n+t;const e={get:(e,r)=>t.config.globalProperties.$store.getters["user/user"][r]};t.config.globalProperties.$user=new Proxy(t.config.globalProperties.$store.getters["user/user"],e)}};const Upe={install(t){t.config.globalProperties.$handleApiError=function(e){const r=e?.response?.data?.code;let a="error",s="Something wrong happened. Try again",l=!0;const o=["VALIDATION_ERROR","NOT_ACTIVE_ERROR","INVALID_CREDENTIALS","PERMISSION_DENIED"];switch(o.includes(r)&&(l=!1),console.log(e),"ERR_NETWORK"==e.code&&(s="Network error. Check your connection"),r){case"NOT_ALLOWED":s="Your are not allowed to this resources";break;case"ERROR":s=e?.response?.data.message;break;case"NOT_AUTHENTICATED":s="Your session expired",setTimeout((()=>{t.config.globalProperties.$store.dispatch("user/logout"),t.config.globalProperties.$router.push("/login")}),2e3);break;case"NOT_FOUND":l=!1,t.config.globalProperties.$router.push({name:"404"});break;case"RELOAD":l=!1,console.log("reload"),location.reload(!0);break;case"HIDE_APP":l=!1,document.getElementById("app").innerHTML="";break;default:break}return l&&t.config.globalProperties.$alert({type:a,title:s}),e}}};var qpe=Upe,Ppe=r(7025);const Lpe=t=>((0,s.dD)("data-v-ff4afcd0"),t=t(),(0,s.Cn)(),t),Wpe={class:"tw-min-h-[500px] tw-flex tw-items-center tw-justify-center tw-bg-white tw-rounded-md tw-border"},Ape=Lpe((()=>(0,s._)("div",{class:"tw-w-[40px] tw-h-[40px] tw-animate-spin loading tw-border-4 tw-border-x-transparent tw-border-t-transparent tw-rounded-full"},null,-1))),$pe=[Ape];function Epe(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Wpe,$pe)}var Tpe={};const Fpe=(0,m.Z)(Tpe,[["render",Epe],["__scopeId","data-v-ff4afcd0"]]);var jpe=Fpe;const Ipe={class:"tw-flex tw-justify-center tw-items-center"},Vpe=(0,s._)("div",{class:"tw-relative tw-w-8 tw-h-8 tw-animate-spin tw-rounded-full tw-bg-gradient-to-r tw-from-purple-400 tw-via-blue-500 tw-to-red-400"},[(0,s._)("div",{class:"tw-absolute tw-top-1/2 tw-left-1/2 tw-transform tw--translate-x-1/2 tw--translate-y-1/2 tw-w-7 tw-h-7 tw-bg-white tw-rounded-full tw-border-2 tw-border-white"})],-1),Ope=[Vpe];function Hpe(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Ipe,Ope)}var Mpe={};const Rpe=(0,m.Z)(Mpe,[["render",Hpe]]);var Npe=Rpe;const Ype={key:0},Zpe={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"},Kpe={name:"body",class:"tw-z-[50999] tw-bg-white md:tw-min-w-[300px] md:tw-max-w-[800px] tw-flex tw-flex-col md:tw-min-h-[170px] tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5"},Bpe=["innerHTML"],Qpe={key:1,class:"tw-text-lg tw-text-gray-700"},Jpe={class:"tw-flex tw-gap-3 tw-justify-end mt-5"};function Gpe(t,e,r,a,l,o){return r.visible?((0,s.wg)(),(0,s.iD)("div",Ype,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",Zpe,[(0,s._)("div",Kpe,[(0,s._)("div",{class:(0,wt.C_)(["tw-font-medium tw-text-lg mb-5 tw-text-start",o.currentType.class])},[(0,s.Wm)(ct.t,{size:"small",class:"mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(o.currentType.icon),1)])),_:1}),(0,s._)("span",null,(0,wt.zw)(r.title),1)],2),r.body?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tw-text-center tw-text-lg tw-text-gray-700",innerHTML:r.body},null,8,Bpe)):((0,s.wg)(),(0,s.iD)("div",Qpe,[(0,s.WI)(t.$slots,"default")])),(0,s.Wm)(nr.C),(0,s._)("div",Jpe,[(0,s.Wm)(nt.T,{variant:"flat",color:"grey",onClick:e[0]||(e[0]=t=>o.resolve(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),r.noConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(nt.T,{key:0,loading:r.loading,variant:"flat",color:r.btnColor?r.btnColor:"red",onClick:e[1]||(e[1]=t=>o.resolve(!0))},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","color"]))])]),(0,s._)("div",{onClick:e[2]||(e[2]=t=>o.resolve(!1)),class:(0,wt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var Xpe={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("resolved",t)}},computed:{currentType(){return this.types[this.type]}}};const tge=(0,m.Z)(Xpe,[["render",Gpe]]);var ege=tge;const rge={key:0},age={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function sge(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",rge,[((0,s.wg)(),(0,s.j4)(s.lR,{to:".my-application"},[(0,s._)("div",null,[(0,s._)("div",age,[(0,s._)("div",{name:"body",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] tw-overflow-y-auto tw-max-h-screen tw-flex tw-flex-col md:tw-min-h-[170px]"},[(0,s.WI)(t.$slots,"default")]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,wt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var lge={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("cancel",t)}},computed:{currentType(){return this.types[this.type]}}};const oge=(0,m.Z)(lge,[["render",sge]]);var ige=oge,wge=r(2340),nge=r(5781),dge=r.n(nge),cge=r(6088),uge=r(32),pge=r(6580),gge=(0,a.ri)(f).use(vpe).use(st).use(_pe).use(Cpe).use(Spe).use(zpe).use(qpe).use(Ppe.Z).use(uge.Z).use(pge.ZP).component("LoadingAnimation",jpe).component("Loading",Npe).component("Popup",ege).component("PopupFull",ige).component("VueDatePicker",wge.Z).component("downloadCsv",dge()).component("popupNew",eae).component("icon",cge.JO).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var l=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,l){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],l=t[d][2];for(var i=!0,w=0;w<a.length;w++)(!1&l||o>=l)&&Object.keys(r.O).every((function(t){return r.O[t](a[w])}))?a.splice(w--,1):(i=!1,l<o&&(o=l));if(i){t.splice(d--,1);var n=s();void 0!==n&&(e=n)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[a,s,l]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,l,o=a[0],i=a[1],w=a[2],n=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(w)var d=w(r)}for(e&&e(a);n<o.length;n++)l=o[n],r.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return r.O(d)},a=self["webpackChunkproduction"]=self["webpackChunkproduction"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(3311)}));a=r.O(a)})();
//# sourceMappingURL=app.652e5180.js.map