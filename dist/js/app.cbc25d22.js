(function(){var t={6700:function(t,e,r){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function s(t){var e=l(t);return r(e)}function l(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=l,t.exports=s,s.id=6700},5486:function(t,e,r){"use strict";r.d(e,{Z:function(){return hGt}});var a=r(9242),s=r(3396),l=r(7718);function o(t,e,r,a,o,i){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(l.q,{class:"my-application"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})}var i=r(7139);const n="https://codsquad.net/",w="https://api.codsquad.net/",d="1.0.1",c="$";var u={name:"App",data:()=>({theme:"light",version:d}),methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions"]),checkVersion(){const t=localStorage.getItem("app_version");t!=this.version&&(localStorage.setItem("app_version",this.version),location.reload(!0))}},mounted(){this.checkVersion()}},p=r(89);const m=(0,p.Z)(u,[["render",o],["__scopeId","data-v-4a3ad42f"]]);var g=m,h=r(2483);let f={roles:localStorage.getItem("roles")?JSON.parse(localStorage.getItem("roles")):[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):[],isLoggedIn:"true"==localStorage.getItem("isLoggedIn"),permissions:localStorage.getItem("permissions")?JSON.parse(localStorage.getItem("permissions")):[],users:[],agents:[],deliveries:[],fetched:!1,fetchedRoles:!1};var b={name:"user",namespaced:!0,state:f,getters:{fetched:t=>t.fetched,fetchedRoles:t=>t.fetchedRoles,isLoggedIn:t=>t.isLoggedIn,permissions:t=>t.permissions,user:t=>t.user,users:t=>t.users,roles:t=>t.roles,agents:t=>t.agents,deliveries:t=>t.deliveries},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FETCHED_ROLES:(t,e)=>{t.fetchedRoles=e},SET_IS_LOGGED_IN:(t,e)=>{localStorage.setItem("isLoggedIn",e),t.isLoggedIn=e},SET_USER:(t,e)=>{localStorage.setItem("user",JSON.stringify(e)),t.user=e},SET_USERS:(t,e)=>{t.users=e},SET_PERMISSIONS:(t,e)=>{localStorage.setItem("permissions",JSON.stringify(e)),t.permissions=e},SET_ROLES:(t,e)=>{localStorage.setItem("roles",JSON.stringify(e)),t.roles=e},SET_DELIVERIES:(t,e)=>{t.deliveries=e},SET_AGENTS:(t,e)=>{t.agents=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFetchedRoles:({commit:t},e)=>{t("SET_FETCHED_ROLES",e)},setUser:({commit:t},e)=>{t("SET_USER",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)},setAgents:({commit:t},e)=>{t("SET_AGENTS",e)},setDeliveries:({commit:t},e)=>{t("SET_DELIVERIES",e)},setIsLoggedIn:({commit:t},e)=>{t("SET_IS_LOGGED_IN",e)},setPermissions:({commit:t},e)=>{t("SET_PERMISSIONS",e)},setRoles:({commit:t},e)=>{t("SET_ROLES",e)},logout:({commit:t})=>{t("SET_USER",{}),t("SET_IS_LOGGED_IN",!1),t("SET_PERMISSIONS",[]),t("SET_ROLES",[])}}},x={name:"alert",namespaced:!0,state:{active:!1,alert:{type:"success",title:"Toast",body:"Hello body"}},getters:{alert:t=>t},mutations:{TOGGLE_TOAST:(t,e)=>{t.alert=e,t.active=!0,setTimeout((()=>{t.active=!1}),4500)}},actions:{toggleAlert:({commit:t},e)=>{t("TOGGLE_TOAST",e)}}};r(7658);let y={products:[],fetched:!1};var v={name:"product",namespaced:!0,state:y,getters:{products:t=>t.products,fetched:t=>t.fetched},mutations:{SET_PRODUCTS:(t,e)=>{t.products=e},SET_PRODUCT:(t,e)=>{t.products=t.products.map((t=>t.id===e.id?e:t))},ADD_PRODUCT:(t,e)=>{t.products.push(e)},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setProducts:({commit:t},e)=>{t("SET_PRODUCTS",e)},setProduct:({commit:t},e)=>{t("SET_PRODUCT",e)},addProduct:({commit:t},e)=>{t("ADD_PRODUCT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};r(541);let _={fetched:!1,sales:[],count:0};var k={name:"sale",namespaced:!0,state:_,getters:{sales:t=>t.sales,count:t=>t.count,fetched:t=>t.fetched},mutations:{SET_SALES:(t,e)=>{t.sales=e},SET_COUNT:(t,e)=>{t.count=e},SET_FETCHED:(t,e)=>{t.fetched=e},UPDATE_SALE:(t,e)=>{t.sales=t.sales.map((t=>t.id===e.id?e.sale:t))},ADD_SALE:(t,e)=>{t.sales.unshift(e)},ADD_SALES:(t,e)=>{t.sales=[...e,...t.sales]},UPDATE_CONFIRMATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,console.log("sale updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.affectation=e.affectation,null!=e.affectation?t.delivery="dispatch":t.delivery=null,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,console.log("order updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))},RESET_SALES:(t,e)=>{t.sales=t.sales.map((t=>(e.includes(t.id)&&(t.agente_id=null,t.upsell=null,t.confirmation=null,t.affectation=null,t.note=null,t.note_d=null,t.delivery=null,t.reported_agente_date=null,t.reported_agente_note=null,t.reported_delivery_date=null,t.reported_delivery_note=null),t)))}},actions:{setSales:({commit:t},e)=>{t("SET_SALES",e)},setCount:({commit:t},e)=>{t("SET_COUNT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},update:({commit:t},e)=>{t("UPDATE_SALE",e)},add:({commit:t},e)=>{t("ADD_SALE",e)},addSales:({commit:t},e)=>{t("ADD_SALES",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)},resetSales:({commit:t},e)=>{t("RESET_SALES",e)}}};let C={orders:[],order:null,all_orders:[],fetched:!1};var D={name:"order",namespaced:!0,state:C,getters:{fetched:t=>t.fetched,orders:t=>t.orders,order:t=>t.order,allOrders:t=>t.all_orders},mutations:{SET_ORDERS:(t,e)=>{t.orders=e},ADD_ORDER:(t,e)=>{t.orders.unshift(e),t.all_orders.unshift(e)},SET_FETCHED:(t,e)=>{t.fetched=e},SET_ALL_ORDERS:(t,e)=>{t.all_orders=e},SET_ORDER:(t,e)=>{t.order=e},UPDATE_ORDER:(t,e)=>{t.orders=t.orders.map((t=>t.id===e.id?e.order:t)),t.all_orders=t.all_orders.map((t=>t.id===e.id?e.order:t))},UPDATE_CONFIRMATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))}},actions:{setOrders:({commit:t},e)=>{t("SET_ORDERS",e)},addOrder:({commit:t},e)=>{t("ADD_ORDER",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setAllOrders:({commit:t},e)=>{t("SET_ALL_ORDERS",e)},setOrder:({commit:t},e)=>{t("SET_ORDER",e)},update:({commit:t},e)=>{t("UPDATE_ORDER",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)}}};let S={fetcehd:!1,inventoryList:[],inventoryState:[],inventoryMovements:[]};var z={name:"inventory",namespaced:!0,state:S,getters:{fetched:t=>t.fetched,inventoryList:t=>t.inventoryList,inventoryState:t=>t.inventoryState,inventoryMovements:t=>t.inventoryMovements},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_INVENTORY_LIST:(t,e)=>{t.inventoryList=e},SET_INVENTORY_STATE:(t,e)=>{t.inventoryState=e},SET_INVENTORY_MOVEMENTS:(t,e)=>{t.inventoryMovements=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setInventoryList:({commit:t},e)=>{t("SET_INVENTORY_LIST",e)},setInventoryState:({commit:t},e)=>{t("SET_INVENTORY_STATE",e)},setInventoryMovements:({commit:t},e)=>{t("SET_INVENTORY_MOVEMENTS",e)}}},U=r(6943);const q=U.Z.create({baseURL:w}),P=U.Z.create({baseURL:w});P.defaults.withCredentials=!0,P.defaults.headers={"Content-Type":"multipart/form-data",Accept:"application/json"},q.defaults.withCredentials=!0,q.defaults.headers={"Content-Type":"application/json",Accept:"application/json"};var L=q,A=r(680),$={getCookie(){let t=A.Z.get("XSRF-TOKEN");return t?new Promise((t=>{t()})):L.get("sanctum/csrf-cookie")}};class W{async statistics(t){return await $.getCookie(),L.post("api/v1/agent/statistics",t)}async paginate(t="/",e){return await $.getCookie(),L.post("api/v1/agent/orders"+t,e)}async counts(){return await $.getCookie(),L.get("api/v1/agent/orders/counts")}async update(t,e){return await $.getCookie(),L.post("api/v1/agent/orders/"+t+"/update",e)}async toConfirm(){return await $.getCookie(),L.get("api/orders/toconfirmate")}async getOrder(){return await $.getCookie(),L.get("api/orders/add")}async create(t){return await $.getCookie(),L.post("api/v1/agent/orders/create",t)}}var E=new W;let T={fetched:!1,totalAvailable:0,totalConfirmed:0,totalNotConfirmed:0};var F={name:"agent",namespaced:!0,state:T,getters:{fetched:t=>t.fetched,state:t=>t},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_TOTAL_CONFIRMED:(t,e)=>{t.totalConfirmed=e},SET_TOTAL_NOT_CONFIRMED:(t,e)=>{t.totalNotConfirmed=e},SET_TOTAL_AVAILABLE:(t,e)=>{t.totalAvailable=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setTotalConfirmed:({commit:t},e)=>{t("SET_TOTAL_CONFIRMED",e)},setTotalNotConfirmed:({commit:t},e)=>{t("SET_TOTAL_NOT_CONFIRMED",e)},setTotalAvailable:({commit:t},e)=>{t("SET_TOTAL_AVAILABLE",e)},refreshCounts:t=>{t.commit("SET_FETCHED",!1),console.log(t),E.counts().then((e=>{if("SUCCESS"==e?.data.code){const r=e.data.data;t.commit("SET_TOTAL_CONFIRMED",r.confirmed),t.commit("SET_TOTAL_NOT_CONFIRMED",r.not_confirmed),t.commit("SET_TOTAL_AVAILABLE",r.available),t.commit("SET_FETCHED",!0)}}))}}};const V=localStorage.getItem("cities");let O={fetched:!1,cities:V?JSON.parse(V):[]};var I={name:"city",namespaced:!0,state:O,getters:{cities:t=>t.cities,fetched:t=>t.fetched},mutations:{SET_CITIES:(t,e)=>{localStorage.setItem("cities",JSON.stringify(e)),t.cities=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setCities:({commit:t},e)=>{t("SET_CITIES",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}},j={name:"app",namespaced:!0,state:{notifications:{fetched:!1,all:[],data:[],count:0,highlighted:null},factorisations:{fetched:!1,tobepaid:0}},getters:{notifications:t=>t.notifications,factorisations:t=>t.factorisations},mutations:{SET_DATA:(t,e)=>{t.notifications.data=e},SET_TO_BE_PAID:(t,e)=>{t.factorisations.tobepaid=e},SET_ALL_NOTIFICATIONS:(t,e)=>{t.notifications.all=e},SET_COUNT:(t,e)=>{t.notifications.count=e},SET_HIGHLIGHTED:(t,e)=>{t.notifications.highlighted=e},CHANGE_STATUS:t=>{t.notifications.data=t.notifications.data.map((t=>(t.status="read",t)),t.notifications.count=0)}},actions:{setData({commit:t},e){t("SET_DATA",e)},settobepaid({commit:t},e){t("SET_TO_BE_PAID",e)},setAllNotifications({commit:t},e){t("SET_ALL_NOTIFICATIONS",e)},sethighlighted({commit:t},e){t("SET_HIGHLIGHTED",e)},setCount({commit:t},e){t("SET_COUNT",e)},updatestatus({commit:t},e){t("CHANGE_STATUS",e)}}};let R={shops:[]};var M={name:"shop",namespaced:!0,state:R,getters:{shops:t=>t.shops},mutations:{SET_SHOPS:(t,e)=>{t.shops=e}},actions:{setShops:({commit:t},e)=>{t("SET_SHOPS",e)}}};let N={fetched:!1,notifications:{productStockAlert:[],reportedSale:[],reportedOrderAgente:[],reportedOrderDelivery:[]}};var H={name:"notification",namespaced:!0,state:N,getters:{notifications:t=>t.notifications,fetched:t=>t.fetched},mutations:{SET_NOTIFICATIONS:(t,e)=>{t.notifications=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setNotifications:({commit:t},e)=>{t("SET_NOTIFICATIONS",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let Y={fetched:!1,warehouses:[]};var Z={name:"warehouse",namespaced:!0,state:Y,getters:{fetched:t=>t.fetched,warehouses:t=>t.warehouses},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_WAREHOUSES:(t,e)=>{t.warehouses=e},ADD_WAREHOUSE:(t,e)=>{t.warehouses.push(e)},DELETE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.filter((t=>t.id!=e))},UPDATE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setWarehouses:({commit:t},e)=>{t("SET_WAREHOUSES",e)},addWarehouse:({commit:t},e)=>{t("ADD_WAREHOUSE",e)},update:({commit:t},e)=>{t("UPDATE_WAREHOUSE",e)},delete:({commit:t},e)=>{t("DELETE_WAREHOUSE",e)}}};let K={fetched:!1,factorisations:[]};var B={name:"factorisation",namespaced:!0,state:K,getters:{fetched:t=>t.fetched,factorisations:t=>t.factorisations},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FACTORISATIONS:(t,e)=>{t.factorisations=e},ADD_FACTORISATION:(t,e)=>{t.factorisations.push(e)},DELETE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.filter((t=>t.id!=e))},UPDATE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFactorisations:({commit:t},e)=>{t("SET_FACTORISATIONS",e)},addFactorisation:({commit:t},e)=>{t("ADD_FACTORISATION",e)},update:({commit:t},e)=>{t("UPDATE_FACTORISATION",e)},delete:({commit:t},e)=>{t("DELETE_FACTORISATION",e)}}};let Q={fetched:!1,sheets:[]};var J={name:"sheet",namespaced:!0,state:Q,getters:{fetched:t=>t.fetched,sheets:t=>t.sheets},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_SHEETS:(t,e)=>{t.sheets=e},ADD_SHEET:(t,e)=>{t.sheets.push(e)},DELETE_SHEET:(t,e)=>{t.sheets=t.sheets.filter((t=>t.id!=e))},UPDATE_SHEET:(t,e)=>{t.sheets=t.sheets.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setSheets:({commit:t},e)=>{t("SET_SHEETS",e)},addSheet:({commit:t},e)=>{t("ADD_SHEET",e)},update:({commit:t},e)=>{t("UPDATE_SHEET",e)},delete:({commit:t},e)=>{t("DELETE_SHEET",e)}}};let G={supply_requests:[]};var X={name:"supply-request",namespaced:!0,state:G,getters:{supply_requests:t=>t.supply_requests},mutations:{SET_SUPPLY_REQUESTS:(t,e)=>{t.supply_requests=e},ADD_SUPPLY_REQUEST:(t,e)=>{t.supply_requests.unshift(e)},DELETE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.filter((t=>t.id!=e))},UPDATE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.map((t=>t.id==e.id?e:t))}},actions:{setSupplyRequests:({commit:t},e)=>{t("SET_SUPPLY_REQUESTS",e)},addSupplyRequest:({commit:t},e)=>{t("ADD_SUPPLY_REQUEST",e)},deleteSupplyRequest:({commit:t},e)=>{t("DELETE_SUPPLY_REQUEST",e)},updateSupplyRequest:({commit:t},e)=>{t("UPDATE_SUPPLY_REQUEST",e)}}},tt=(0,i.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:b,product:v,alert:x,sale:k,order:D,inventory:z,city:I,agent:F,shop:M,notification:H,warehouse:Z,factorisation:B,sheet:J,app:j,"supply-request":X}});class et{async login(t){return await $.getCookie(),L.post("api/auth/login",{email:t.email,password:t.password})}async register(t){return await $.getCookie(),L.post("api/users/new",{email:t.email,password:t.password,phone:t.phone,status:t.status,role:t.role,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,city:t?.city,deliverycity:t?.deliveryCities,having_all:t.having_all})}async update(t,e){return await $.getCookie(),L.post("api/users/update/"+t.id,{email:t.email,password:t.password,phone:t.phone,status:t.status,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,role:t.role,city:t?.city,deliverycity:t?.deliveryCities,updatePassword:e,having_all:t.having_all})}async updateProfile(t,e){return await $.getCookie(),L.post("api/users/profile",{password:t.password,phone:t.phone,firstname:t.firstname,lastname:t.lastname,updatePassword:e})}async online(){return await $.getCookie(),L.get("api/user")}async profile(){return await $.getCookie(),L.get("api/users/profile")}async logout(){return await $.getCookie(),L.get("api/auth/logout")}async clear(){return await $.getCookie(),L.get("api/auth/clear")}async permession(){return await $.getCookie(),L.get("api/auth/permission")}async roles(){return await $.getCookie(),L.get("api/auth/roles")}async all(){return await $.getCookie(),L.get("api/users")}async updateStatus({id:t,status:e}){return await $.getCookie(),L.post("api/users/status/"+t,{status:e})}async delete(t){return await $.getCookie(),L["delete"]("api/users/delete/"+t)}async getUser(t){return await $.getCookie(),L.get("api/users/"+t)}async createRole({name:t,permissions:e}){return await $.getCookie(),L.post("api/roles/new",{name:t,permissions:e})}async updateRole(t,{name:e,permissions:r}){return await $.getCookie(),L.post("api/roles/update/"+t,{name:e,permissions:r})}async deleteRole(t){return await $.getCookie(),L["delete"]("api/roles/delete/"+t)}async getRole(t){return await $.getCookie(),L.get("api/roles/"+t)}async agents(){return await $.getCookie(),L.get("api/agents")}async deliveries(){return await $.getCookie(),L.get("api/delevries")}async allDeliveries(){return await $.getCookie(),L.get("api/deliveries")}async allSellers(){return await $.getCookie(),L.get("api/sellers")}async cities(){return await $.getCookie(),L.get("api/cities")}}var rt=new et;function at(t,e,r){if(document.title=t.meta?.title+" | COD Squad",!tt.getters["user/isLoggedIn"])return"/login"==t.path||{name:"login"};if(rt.online().catch(hGt.$handleApiError),"/login"==t.path)return{name:"404"};const{gate:a}=t.meta,s=tt.getters["user/permissions"];return"all"===a||(!!t.meta.role?.includes(tt.getters["user/user"].role)||((a||"/404"===t.path)&&!(!s.includes(a)&&"/404"!==t.path)||{name:"404"}))}var st=r(2268),lt=r(7312),ot=r(3369),it=r(3289),nt=r(165);const wt={class:"tw-min-h-screen tw-overflow-auto tw-bg-slate-50"},dt={class:"tw-grid tw-h-fit tw-overflow-hidden md:tw-grid-cols-2 tw-grid-cols-1"},ct={class:"py-md-5 py-10 pb-0 tw-flex tw-justify-center md:tw-items-center"},ut={class:"px-md-10 tw-w-full"},pt={class:"tw-w-[150px]"},mt=["src"],gt={class:"mt-md-10 mt-15 pt-5 px-md-5 px-lg-16 tw-w-full d-felx justify-center align-center"},ht={class:"pa-5 py-7 tw-border bg-white tw-rounded-lg tw-mx-auto tw-max-w-[450px]"},ft=(0,s._)("h1",{class:"text-h5 font-weight-medium !tw-text-gray-600"},"Login",-1),bt=(0,s._)("p",{class:"text-body-1 mt-2 !tw-text-gray-500"},"Please login to your account",-1),xt={key:0,class:"text-body-2 mt-2 !tw-text-red-500"},yt={class:"mt-5"},vt=(0,s._)("p",{class:"mb-1"},"Email",-1),_t=(0,s._)("p",{class:"mb-1"},"Password",-1),kt={class:"mt-5"},Ct=(0,s._)("span",{class:"text-capitalize text-white"},"Login",-1),Dt={class:"bg-primary-color tw-min-h-screen tw-hidden md:tw-flex tw-items-center tw-justify-center"},St=["src"];function zt(t,e,r,l,o,i){const n=(0,s.up)("Alert");return(0,s.wg)(),(0,s.iD)("div",wt,[(0,s.Wm)(n),(0,s._)("div",dt,[(0,s._)("div",ct,[(0,s.Wm)(ot.K,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",ut,[(0,s._)("div",pt,[(0,s._)("img",{class:"tw-w-full",src:o.localUrl+"assets/img/logo.png"},null,8,mt)]),(0,s._)("div",gt,[(0,s._)("div",ht,[ft,bt,o.error.active?((0,s.wg)(),(0,s.iD)("p",xt,(0,st.zw)(o.error.message),1)):(0,s.kq)("",!0),(0,s._)("div",yt,[(0,s._)("div",null,[vt,(0,s.Wm)(nt.hw,{name:"email",onKeyup:e[0]||(e[0]=t=>i.resetError("email")),modelValue:o.email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t),error:!o.emailStatus.valid,"error-messages":o.emailStatus.valid?"":o.emailStatus.message,autofocus:"",onBlur:e[2]||(e[2]=t=>o.emailFocus=!1),onFocus:e[3]||(e[3]=t=>o.emailFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:o.emailFocus?o.emailStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-email-outline")])),_:1},8,["color"])])),_:1},8,["modelValue","error","error-messages"])]),(0,s._)("div",null,[_t,(0,s.Wm)(nt.hw,{name:"password",onKeyup:(0,a.D2)(i.login,["enter"]),modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),error:!o.passwordStatus.valid,"error-messages":o.passwordStatus.valid?"":o.passwordStatus.message,type:o.showPassword?"text":"password",onBlur:e[6]||(e[6]=t=>o.passwordFocus=!1),onFocus:e[7]||(e[7]=t=>o.passwordFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(it.t,{onClick:e[4]||(e[4]=t=>o.showPassword=!o.showPassword),class:"tw-relative tw-z-50 tw-cursor-pointer",color:o.passwordFocus?o.passwordStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(o.showPassword?"mdi-eye-off-outline":"mdi-eye-outline"),1)])),_:1},8,["color"])])),_:1},8,["onKeyup","modelValue","error","error-messages","type"])]),(0,s._)("div",kt,[(0,s.Wm)(lt.T,{disabled:o.isLoading||!o.cookiesCleared,loading:o.isLoading||!o.cookiesCleared,onClick:i.login,block:"",size:"large",color:"primary-color",variant:"flat",class:"!tw-text-white disabled:!tw-bg-gray-200"},{default:(0,s.w5)((()=>[Ct])),_:1},8,["disabled","loading","onClick"])])])])])])])),_:1})]),(0,s._)("div",Dt,[(0,s._)("img",{src:o.localUrl+"assets/img/login.jpg",class:"tw-w-full tw-h-full tw-object-cover",alt:""},null,8,St)])])])}function Ut(t){var e=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;return t?new RegExp(e).test(t)?{valid:!0}:{valid:!1,message:"Email is not valid."}:{valid:!1,message:"Email is required."}}function qt(t){return t?t.length<=4||t.length>=16?{valid:!1,message:"Password length must be between 4 and 16."}:{valid:!0}:{valid:!1,message:"This field is required"}}function Pt(t,e="This field"){return t?{valid:!0}:{valid:!1,message:`${e} is required`}}function Lt(t,e="This field"){return t?isNaN(t)?{valid:!1,message:`${e} must be a valid number`}:{valid:!0}:{valid:!1,message:`${e} is required`}}function At(t,e){return t?t!==e?{valid:!1,message:"Passwords doesn't match"}:{valid:!0}:{valid:!1,message:"This field is required."}}function $t(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one variant to create a product !"}}function Wt(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one permission to create a role !"}}var Et=r(7771),Tt=r(8952);const Ft={key:0,class:"pa-2 tw-absolute !tw-z-[510000]"},Vt={class:"tw-text-sm"};function Ot(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(Tt.V,null,{default:(0,s.w5)((()=>[o.state.active?((0,s.wg)(),(0,s.iD)("div",Ft,[(0,s.Wm)(Et.w,{closable:"",density:"compact",variant:"flat",type:o.state.alert.type,position:"fixed",location:"bottom right",class:"ma-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Vt,(0,st.zw)(o.state.alert.title),1)])),_:1},8,["type"])])):(0,s.kq)("",!0)])),_:1})])}var It={computed:{state(){return this.$store.getters["alert/alert"]}}};const jt=(0,p.Z)(It,[["render",Ot]]);var Rt=jt,Mt={components:{Alert:Rt},data(){return{localUrl:n,isLoading:!1,cookiesCleared:!1,error:{active:!1,message:""},email:"",password:"",emailStatus:{valid:!0,message:""},passwordStatus:{valid:!0,message:""},emailFocus:!1,passwordFocus:!1,showPassword:!1}},methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions","setUser"]),validateForm(){return this.emailStatus=Ut(this.email),this.passwordStatus=qt(this.password),this.passwordStatus.valid&&this.emailStatus.valid},login(){this.validateForm()&&(this.isLoading=!0,this.error={active:!1,message:""},rt.login({email:this.email,password:this.password}).then((t=>{if("AUTHENTICATION_SUCCESSFUL"==t.data.code){this.setUser(t.data.data.user),this.setIsLoggedIn(!0);const e=t.data.data.user.permissions;this.setPermissions(e),this.$router.push("/")}})).catch((t=>{this.$handleApiError(t),"INVALID_CREDENTIALS"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"NOT_ACTIVE_ERROR"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"VALIDATION_ERROR"==t.response?.data.code&&(this.emailStatus={valid:!1,message:t.response.data.error["email"][0]},this.passwordStatus={valid:!1,message:t.response.data.error["password"][0]})})).finally((()=>{this.isLoading=!1})),console.log("login..."))},resetError(t){"email"==t&&(this.emailStatus={valid:!0,message:""}),"password"==t&&(this.passwordStatus={valid:!0,message:""})}},mounted(){rt.clear().then((()=>{this.cookiesCleared=!0}))}};const Nt=(0,p.Z)(Mt,[["render",zt]]);var Ht=Nt,Yt={name:"login",path:"/login",component:Ht,meta:{title:"Login"}},Zt=r(4454),Kt=r(3140);function Bt(t,e,r,a,l,o){const i=(0,s.up)("AppSidebar"),n=(0,s.up)("AppHeader"),w=(0,s.up)("Alert"),d=(0,s.up)("AlertNotification"),c=((0,s.up)("AppAnnonces"),(0,s.up)("router-view"));return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoggedIn?((0,s.wg)(),(0,s.j4)(Zt.s,{key:0,"full-height":!0},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{active:l.drawer},null,8,["active"]),(0,s.Wm)(n,{onToggleSidebar:o.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Wm)(w),(0,s.Wm)(d),(0,s.Wm)(Kt.O,{class:"tw-bg-gray-50 tw-min-h-screen tw-overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.K,{fluid:"",class:"py-6 px-6"},{default:(0,s.w5)((()=>[(0,s.kq)("",!0),(0,s.Wm)(c)])),_:1})])),_:1}),l.showScrollUpButton?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.scrollToTop&&o.scrollToTop(...t)),class:"tw-fixed tw-shadow tw-text-sm tw-bottom-5 tw-right-3 tw-w-10 tw-h-10 tw-z-10 tw-rounded-full tw-bg-orange-400 tw-text-white"},[(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-transfer-up")])),_:1})])):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])}var Qt=r(6439),Jt=r(9156);const Gt={class:"tw-flex tw-items-center tw-gap-2"};function Xt(t,e,r,l,o,i){const n=(0,s.up)("ToBePaid"),w=(0,s.up)("GlobalNotification"),d=(0,s.up)("HeaderMenu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Qt.L,{color:"white",density:"default",elevation:"0",class:"tw-border-b-0 !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-0 !tw-fixed tw-overflow-visible",absolute:!1},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s._)("div",Gt,["seller"==t.$user.role?((0,s.wg)(),(0,s.j4)(n,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(w),(0,s.Wm)(d)])])),default:(0,s.w5)((()=>[(0,s.Wm)(Jt.g,{variant:"text",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.handleClick()),["stop"]))})])),_:2},[void 0]),1024)])}var te=r(652),ee=r(4075),re=r(8694),ae=r(8793);const se={class:"tw-relative"},le=(0,s._)("div",{class:"tw-absolute tw-bottom-0 tw-border-2 tw-border-solid tw-border-white tw-right-0 tw-w-3 tw-h-3 tw-rounded-full tw-bg-green-500"},null,-1),oe={key:0,class:"!tw-duration-100"},ie={class:"tw-absolute tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[200px] tw-min-h-[50px]"},ne={class:"pa-2 d-flex tw-items-center tw-gap-2 tw-border-b tw-border-b-neutral-100"},we={class:"d-flex flex-column justify-center"},de={class:"tw-text-sm tw-text-neutral-800 text-capitalize"},ce={class:"tw-text-xs tw-rounded-lg tw-text-green-500 text-capitalize"},ue=(0,s._)("span",{class:"text-capitalize tw-text-neutral-700 tw-text-xs"}," Profile ",-1),pe={class:"d-flex tw-items-center tw-gap-2"},me=(0,s._)("span",{class:"text-capitalize tw-text-red-700 tw-text-xs"}," Logout ",-1);function ge(t,e,r,a,l,o){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",se,[(0,s.Wm)(lt.T,{onClick:o.toggleMenu,icon:"","max-width":"35","max-height":"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(te.V,{size:"32"},{default:(0,s.w5)((()=>[(0,s.Wm)(re.f,{src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),le])),_:1},8,["onClick"]),(0,s.Wm)(Tt.Z5,null,{default:(0,s.w5)((()=>[l.isActive?((0,s.wg)(),(0,s.iD)("div",oe,[(0,s._)("div",ie,[(0,s._)("div",ne,[(0,s.Wm)(te.V,{size:"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(re.f,{eager:"",src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),(0,s._)("div",we,[(0,s._)("div",de,(0,st.zw)(o.user.firstname)+" "+(0,st.zw)(o.user.lastname),1),(0,s._)("div",ce,(0,st.zw)(o.user.role),1)])]),(0,s.Wm)(ee.J),(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>o.closeMenu&&o.closeMenu(...t)),class:"d-flex tw-items-center tw-gap-2"},[(0,s.Wm)(lt.T,{block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{class:"mr-2 tw-text-neutral-700"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-account-outline ")])),_:1}),ue])),_:1})]),(0,s.Wm)(ee.J),(0,s._)("div",pe,[(0,s.Wm)(lt.T,{onClick:o.logout,block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{class:(0,st.C_)([{"tw-animate-pulse":l.loginOut},"mr-2 tw-text-red-700"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(l.loginOut?"mdi-power-settings":"mdi-power"),1)])),_:1},8,["class"]),me])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])),_:1})])),[[ae.L,o.closeMenu]])}var he={data(){return{localUrl:n,isActive:!1,loginOut:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},logout(){this.loginOut=!0,rt.logout().then((()=>{this.$store.dispatch("user/logout"),this.$router.push("/login")})).finally((()=>{this.loginOut=!1}))}},computed:{user(){return this.$store.getters["user/user"]}}};const fe=(0,p.Z)(he,[["render",ge]]);var be=fe,xe=r(4870);class ye{async AllNotifications(t={}){return await $.getCookie(),L.get("api/app/all",{params:t})}async notifications(){return await $.getCookie(),L.get("api/app/notifications")}async Changestatus(){return await $.getCookie(),L.get("api/app/changestatus")}}var ve=new ye,_e=r(6797),ke=r.n(_e),Ce=r(6562);const De={class:"tw-relative"},Se={key:0,class:"!tw-duration-100"},ze={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[350px] tw-min-h-[50px]"},Ue=(0,s._)("p",{class:"tw-p-2 tw-text-lg"},"Notifications",-1),qe={key:0},Pe={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Le={key:1},Ae={key:0},$e=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),We=[$e],Ee={class:"tw-text-sm"},Te={class:"tw-ml-auto tw-mt-2 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},Fe={class:"tw-flex tw-justify-evenly tw-items-center tw-p-2"};var Ve={__name:"GlobalNotification",setup(t){const e=(0,i.oR)(),r=(0,xe.iH)(!1),a=(0,xe.iH)(!1),l=()=>{r.value=!r.value},o=()=>{r.value=!1},w=t=>{switch(t.priority){case"low":return"tw-bg-blue-50";case"medium":return"tw-bg-orange-100";case"high":return"tw-bg-red-100";default:return"tw-bg-gray-50"}},d=()=>{ve.notifications().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setData",t.data.data),e.dispatch("app/setCount",t.data.count),e.dispatch("app/sethighlighted",t.data.highlighted))})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))},c=()=>{ve.Changestatus().then((t=>{"SUCCESS"==t.data.code&&e.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))};(0,s.bv)((()=>{d()}));const u=(0,s.Fl)((()=>e.getters["app/notifications"]));return(t,e)=>{const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",De,[(0,s.Wm)(lt.T,{onClick:l,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(re.f,{width:"22",height:"22",src:(0,xe.SU)(n)+"assets/img/icons/notification-bing.svg"},null,8,["src"]),a.value&&(0,xe.SU)(u).count>0?((0,s.wg)(),(0,s.j4)(Ce.G,{key:0,class:"tw-animate-bounce tw-scale-50",floating:"","offset-y":"20","offset-x":"5",color:"red",bordered:!0,location:"bottom right",content:(0,xe.SU)(u).count},null,8,["content"])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Tt.Z5,null,{default:(0,s.w5)((()=>[r.value?((0,s.wg)(),(0,s.iD)("div",Se,[(0,s._)("div",ze,[Ue,a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qe,[(0,s._)("div",Pe,[(0,s.Wm)(it.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),a.value?((0,s.wg)(),(0,s.iD)("div",Le,[""==(0,xe.SU)(u).data?((0,s.wg)(),(0,s.iD)("div",Ae,We)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(u).data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",{class:(0,st.C_)([w(t),"tw-p-2 tw-border-y tw-flex tw-flex-col tw-border-neutral-100"])},[(0,s.Wm)(i,{to:`/sourcings/${t.action}`},{default:(0,s.w5)((()=>[(0,s._)("p",Ee,(0,st.zw)(t.message),1)])),_:2},1032,["to"]),(0,s._)("div",Te,(0,st.zw)((0,xe.SU)(ke())(t.created_at).fromNow()),1)],2)])))),128)),(0,s._)("div",Fe,[(0,s.Wm)(i,{to:"/notifications"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:e[0]||(e[0]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("View All")])),_:1})])),_:1}),(0,s.Wm)(lt.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:c},{default:(0,s.w5)((()=>[(0,s.Uk)("Mark all as Read")])),_:1})])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),_:1})])),[[ae.L,o]])}}};const Oe=Ve;var Ie=Oe;class je{async update(t,e){return await $.getCookie(),L.post("api/factorisations/update/"+t,{factorisation_id:e.factorisation_id,delivery_id:e.delivery_id,price:e.price,commands_number:e.commands_number})}async updateComment(t,e){return await $.getCookie(),L.post("api/factorisations/update/comment/"+t,{comment:e.comment})}async updatePaid(t,e){return await $.getCookie(),L.post("api/factorisations/update/payment/"+t,{paid:e})}async updateClose(t,e){return await $.getCookie(),L.post("api/factorisations/update/closing/"+t,{close:e})}async updateFees(t,e){return await $.getCookie(),L.post("api/factorisations/update/fees/"+t,{fees:e})}async sumToBePaid(){return await $.getCookie(),L.get("api/v1/factorisation/sum")}async delete(t){return await $.getCookie(),L["delete"]("api/v1/factorisation/delete/"+t)}async paginate(t="/",e){return await $.getCookie(),L.post("api/v1/factorisation"+t,e)}}var Re=new je;const Me={key:0,class:"tw-text-emerald-600 tw-text-sm tw-font-semibold tw-rounded"},Ne={key:1};var He={__name:"ToBePaid",setup(t){const e=(0,i.oR)(),r=(0,xe.iH)(!1),a=()=>{Re.sumToBePaid().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("app/settobepaid",t.data.totalPrice),console.log(t.data.totalPrice))})).catch((t=>{console.error("API Error",t)})).finally((()=>{r.value=!0}))};(0,s.bv)((()=>{a()}));const l=(0,s.Fl)((()=>e.getters["app/factorisations"]));return(t,e)=>r.value?((0,s.wg)(),(0,s.iD)("div",Me,(0,st.zw)((0,xe.SU)(c))+(0,st.zw)((0,xe.SU)(l).tobepaid.toFixed(2)),1)):((0,s.wg)(),(0,s.iD)("div",Ne,[(0,s.Wm)(it.t,{size:"medium",class:"tw-animate-spin",color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}};const Ye=He;var Ze=Ye,Ke={emits:["toggleSidebar"],components:{HeaderMenu:be,GlobalNotification:Ie,ToBePaid:Ze},data(){return{localUrl:n}},computed:{},methods:{handleClick(){this.$emit("toggleSidebar")}}};const Be=(0,p.Z)(Ke,[["render",Xt]]);var Qe=Be,Je=r(9457),Ge=r(2329),Xe=r(9657);function tr(t,e,r,a,l,o){const i=(0,s.up)("SidebarItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Xe.V,{modelValue:l.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>l.drawer=t),location:"left",absolute:!1,class:"!tw-top-0 !tw-fixed"},{default:(0,s.w5)((()=>[(0,s.Wm)(Je.l,{class:"tw-py-3"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(re.f,{width:"140",src:l.localUrl+"assets/img/logo.png"},null,8,["src"])])])),_:1}),(0,s.Wm)(Ge.i,{class:"mt-2",nav:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.links,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,link:t},null,8,["link"])))),128))])),_:1})])),_:1},8,["modelValue"])])}const er=[4,6,7],rr=[{id:1,title:"Dashboard",module:"dashboard",hasChildren:!0,gate:"all",icon:{type:"svg",value:"assets/img/icons/dashboard.svg"},children:[{id:1,title:"Dashboard",subModule:"dashboard/dashboard",gate:"all",to:"/"},{id:2,title:"Dashboard Analytics",subModule:"dashboard/analytics",gate:"show_all_ads",to:"/analytics"}]},{id:2,module:"sourcing",title:"Sourcing",hasChildren:!0,role:["admin","seller"],icon:{type:"icon",value:"mdi-truck-outline"},children:[{id:1,title:"Request a new product",subModule:"sourcing/new",role:["seller"],to:"/sourcings/new"},{id:2,title:"All Requests",subModule:"sourcing/index",role:["seller","admin"],to:"/sourcings"}]},{id:2,module:"product",title:"Product",hasChildren:!0,gate:"access_to_products",icon:{type:"svg",value:"assets/img/icons/product.svg"},children:[{id:1,title:"Products List",subModule:"product/list",gate:"show_all_products",to:"/products"},{id:2,title:"New Products List",subModule:"product/newlist",gate:"show_all_products",to:"/newproducts"},{id:3,title:"Add Product",subModule:"product/add",gate:"create_product",to:"/products/add"},{id:4,title:"Supply Requests",subModule:"product/seller/request",gate:"access_to_seller_sales",to:"/products/seller/request"},{id:5,title:"Supply Requests",subModule:"product/admin/request",gate:"access_to_sales",to:"/products/admin/request"}]},{id:3,module:"track",title:"Tracking",hasChildren:!0,gate:"none",icon:{type:"icon",value:"mdi-radar"},children:[{id:1,title:"Deliveries",subModule:"track/delivery",gate:"none",to:"/tracking/delivery"}]},{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Sales list",subModule:"sale/list",gate:"show_all_sales",to:"/sales"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]},{id:10,module:"sellersale",title:"Seller Sales",hasChildren:!0,gate:"access_to_seller_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Seller Sales",subModule:"seller/list",gate:"show_seller_sales",to:"/seller/list"}]},{id:5,module:"factorisation",title:"Factorisation",hasChildren:!0,gate:"access_to_factorisations",icon:{type:"icon",value:"mdi-note-multiple"},children:[{id:1,title:"Factorisation list",subModule:"factorisation/list",gate:"show_all_factorisations",to:"/factorisations"}]},{id:20,module:"ads",title:"Ads",hasChildren:!0,gate:"access_to_ads",icon:{type:"icon",value:"mdi-google-ads"},children:[{id:1,title:"Ads list",subModule:"ads/list",gate:"show_all_factorisations",to:"/ads"}]},{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Order",subModule:"order/show",gate:"show_all_orders",to:"/order"},{id:2,title:"My Orders",subModule:"order/list",gate:"show_all_orders",to:"/orders"},{id:3,title:"Confirmed Orders",subModule:"order/confirmed",gate:"show_all_orders",to:"/orders/confirmed"}]},{id:7,module:"delivery",title:"Orders",hasChildren:!0,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders List",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries"},{id:2,title:"Orders Delivered",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered"}]},{id:8,module:"inventory",title:"Inventory",hasChildren:!0,gate:"access_to_inventory",icon:{type:"icon",value:"mdi-warehouse"},children:[{id:1,title:"Inventory State",gate:"show_all_inventory_states",subModule:"inventory/state",to:"/inventories"},{id:2,title:"Inventory Movements",gate:"show_all_inventory_movements",subModule:"inventory/movements",to:"/inventories/movements"},{id:4,title:"Add Movement",gate:"create_inventory_movement",subModule:"inventory/add",to:"/inventories/add"}]},{id:9,module:"shop",title:"Shop",hasChildren:!0,gate:"access_to_shop",icon:{type:"icon",value:"mdi-store"},children:[{id:1,title:"Shop List",gate:"show_all_shops",subModule:"shop/list",to:"/shops"},{id:2,title:"Add Shop",gate:"create_shop",subModule:"shop/add",to:"/shops/add"}]},{id:10,module:"warehouse",title:"Warehouses",hasChildren:!0,gate:"access_to_warehouse",icon:{type:"icon",value:"mdi-home-group"},children:[{id:1,title:"Warehouses list",subModule:"warehouse/list",gate:"show_all_warehouses",to:"/warehouses"}]},{id:11,title:"Users",module:"user",gate:"access_to_users",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/users1.svg"},children:[{id:1,title:"Users List",subModule:"user/list",gate:"show_all_users",to:"/users"},{id:2,title:"Add User",subModule:"user/add",gate:"create_user",to:"/users/add"},{id:3,title:"Roles List",subModule:"user/roles",gate:"show_all_roles",to:"/users/roles"},{id:4,title:"Add Role",subModule:"user/addRole",gate:"create_role",to:"/users/addRole"}]},{id:15,title:"Sheets",module:"sheets",to:"/sheets",gate:"access_to_sheets",hasChildren:!1,icon:{type:"icon",value:"mdi-note-text-outline"}},{id:12,title:"Settings",module:"settings",role:"admin",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/settings.svg"},children:[{id:1,title:"Cron Jobs",subModule:"settings/cronJobs",role:"admin",to:"/settings/cronJobs"},{id:2,title:"Account",subModule:"settings/account",role:"admin",to:"/settings/account"}]},{id:13,title:"Orders",module:"followup",to:"/followup",hasChildren:!1,gate:"follow_up_orders",icon:{type:"icon",value:"mdi-package-variant-closed"}}];var ar=r(9234),sr=r(2127);const lr={key:0},or={class:"d-flex align-center"},ir={class:"tw-rounded-md tw-bg-gray-50"},nr={class:"tw-h-full py-2"},wr={key:1},dr={key:2},cr={key:3};function ur(t,e,r,a,l,o){const i=(0,s.up)("SidebarSales"),n=(0,s.up)("SidebarDelivery"),w=(0,s.up)("SidebarAgente");return(0,s.wg)(),(0,s.iD)("div",null,[!t.$can(r.link.gate)&&!r.link.role?.includes(o.user.role)&&"all"!=r.link.gate||l.disabled_links.includes(r.link.id)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",lr,[(0,s.Wm)(Je.l,{class:(0,st.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.link.hasChildren?"":r.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",or,["icon"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(it.t,{key:0,icon:r.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(re.f,{key:1,src:l.localUrl+r.link.icon.value,"max-width":"18",class:(0,st.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(sr.V,{class:(0,st.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,st.zw)(r.link.title)},null,8,["class","textContent"]),(0,s.Wm)(ar.C),r.link.hasChildren?((0,s.wg)(),(0,s.j4)(it.t,{key:2,class:(0,st.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),r.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",ir,[(0,s.Wm)(Ge.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(Je.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",nr,[(0,s.Wm)(it.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,st.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,st.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])),4==r.link.id?((0,s.wg)(),(0,s.iD)("div",wr,[(0,s.Wm)(i)])):(0,s.kq)("",!0),7==r.link.id?((0,s.wg)(),(0,s.iD)("div",dr,[(0,s.Wm)(n)])):(0,s.kq)("",!0),8==r.link.id?((0,s.wg)(),(0,s.iD)("div",cr,[(0,s.Wm)(w)])):(0,s.kq)("",!0)])}const pr={key:0},mr={class:"d-flex align-center"},gr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},hr={key:1,class:"tw-text-xs"},fr={class:"tw-rounded-md tw-bg-gray-50"},br={class:"tw-h-full py-2"};function xr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",pr,[(0,s.Wm)(Je.l,{class:(0,st.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:l.link.hasChildren?"":l.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",mr,["icon"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(it.t,{key:0,icon:l.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(re.f,{key:1,src:l.localUrl+l.link.icon.value,"max-width":"18",class:(0,st.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(sr.V,{class:(0,st.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,st.zw)(l.link.title)},null,8,["class","textContent"]),(0,s._)("div",gr,[(l.isLoaded,(0,s.kq)("",!0)),(l.isLoaded,(0,s.wg)(),(0,s.iD)("p",hr,(0,st.zw)(o.count),1))]),(0,s.Wm)(ar.C),l.link.hasChildren?((0,s.wg)(),(0,s.j4)(it.t,{key:2,class:(0,st.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),l.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",fr,[(0,s.Wm)(Ge.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(Je.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",br,[(0,s.Wm)(it.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,st.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,st.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var yr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:4,title:"New Sales list",subModule:"sale/newlist",gate:"show_all_sales",to:"/sales/new"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},sales(){return this.$store.getters["sale/sales"]},count(){return this.$store.getters["sale/count"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const vr=(0,p.Z)(yr,[["render",xr],["__scopeId","data-v-419eeb7c"]]);var _r=vr;const kr={key:0},Cr={class:"d-flex align-center"},Dr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Sr={key:1,class:"tw-text-xs"};function zr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",kr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(Je.l,{class:(0,st.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Cr,[(0,s.Wm)(it.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(sr.V,{class:(0,st.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,st.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(ar.C),(0,s._)("div",Dr,[o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(it.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.fetched?((0,s.wg)(),(0,s.iD)("p",Sr,(0,st.zw)(1==r.id?o.orders.length-o.deliveredOrders.length:o.deliveredOrders.length),1)):(0,s.kq)("",!0)])])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}class Ur{async delivery(){return await $.getCookie(),L.get("api/dashboard/delivery")}async agente(){return await $.getCookie(),L.get("api/dashboard/agente")}}var qr=new Ur,Pr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:7,module:"delivery",title:"Orders",hasChildren:!1,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries",icon:"mdi-truck"},{id:2,title:"Delivered Orders",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered",icon:"mdi-truck-check"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path},getOrders(){return this.isLoaded=!1,qr.delivery().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("order/setAllOrders",e),this.$store.dispatch("order/setFetched",!0),this.isLoaded=!0}console.log(t)})).catch(this.$handleApiError)}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},orders(){return this.$store.getters["order/allOrders"].filter((t=>"confirmer"==t.confirmation))},deliveredOrders(){return this.orders.filter((t=>"livrer"==t.delivery))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive(),this.$can(this.link.gate)&&this.getOrders()}};const Lr=(0,p.Z)(Pr,[["render",zr],["__scopeId","data-v-69fa82e9"]]);var Ar=Lr;const $r={key:0},Wr={class:"d-flex align-center"},Er={key:0,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Tr={key:1,class:"tw-text-xs"},Fr={key:1,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Vr={key:1,class:"tw-text-xs"};function Or(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",$r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(Je.l,{class:(0,st.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Wr,[(0,s.Wm)(it.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(sr.V,{class:(0,st.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,st.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(ar.C),1!=r.id?((0,s.wg)(),(0,s.iD)("div",Er,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(it.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Tr,(0,st.zw)(4==r.id?o.state.totalNotConfirmed:o.state.totalConfirmed),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),1==r.id?((0,s.wg)(),(0,s.iD)("div",Fr,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(it.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Vr,(0,st.zw)(o.state.totalAvailable),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}var Ir={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Add Order",subModule:"agent/orders/add",gate:"show_all_orders",to:"/agent/orders/add",icon:"mdi-plus-box"},{id:4,title:"Orders",subModule:"agent/orders",gate:"show_all_orders",to:"/agent/orders",icon:"mdi-package-variant-closed"},{id:5,title:"Confirmed Orders",subModule:"agent/orders/confirmed",gate:"show_all_orders",to:"/agent/orders/confirmed",icon:"mdi-checkbox-marked"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},state(){return this.$store.getters["agent/state"]},orders(){return this.$store.getters["order/allOrders"]},myOrders(){return this.orders.filter((t=>"confirmer"!=t.confirmation))},confirmedOrders(){return this.orders.filter((t=>"confirmer"==t.confirmation))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const jr=(0,p.Z)(Ir,[["render",Or],["__scopeId","data-v-26146d6f"]]);var Rr=jr,Mr={props:["link"],components:{SidebarSales:_r,SidebarDelivery:Ar,SidebarAgente:Rr},data(){return{localUrl:n,disabled_links:er,isActive:!1}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate||t.role?.includes(this.user.role)))},user(){return this.$store.getters["user/user"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Nr=(0,p.Z)(Mr,[["render",ur],["__scopeId","data-v-d0bba0a6"]]);var Hr=Nr,Yr={components:{SidebarItem:Hr},props:["active"],data(){return{localUrl:n,drawer:!0,links:rr}},computed:{},watch:{active(){this.drawer=!this.drawer}},methods:{},mounted(){this.$vuetify.display.mdAndDown&&(this.drawer=!1)}};const Zr=(0,p.Z)(Yr,[["render",tr]]);var Kr=Zr;const Br={class:"tw-h-fit tw-w-full tw-bg-red-500 tw-border tw-border-solid"},Qr={class:"tw-flex tw-items-start"},Jr={class:"tw-p-2"},Gr=(0,s._)("div",{class:"tw-p-2"},[(0,s._)("p",{class:"tw-text-white tw-font-semibold"},"Be careful with confirming order")],-1),Xr={class:"tw-h-fit tw-w-full tw-bg-blue-500 tw-border tw-border-solid tw-mt-2"},ta={class:"tw-flex tw-items-start"},ea={class:"tw-p-2"},ra=(0,s._)("div",{class:"tw-p-2"},[(0,s._)("p",{class:"tw-text-white tw-font-semibold"},"System will be down in Sunday")],-1),aa={class:"tw-h-fit tw-w-full tw-bg-emerald-500 tw-border tw-border-solid tw-mt-2"},sa={class:"tw-flex tw-items-start"},la={class:"tw-p-2"},oa=(0,s._)("div",{class:"tw-p-2"},[(0,s._)("p",{class:"tw-text-white tw-font-semibold"},"System will be down in Sunday")],-1),ia={class:"tw-h-fit tw-w-full tw-bg-amber-500 tw-mb-5 tw-border tw-border-solid tw-mt-2"},na={class:"tw-flex tw-items-start"},wa={class:"tw-p-2"},da=(0,s._)("div",{class:"tw-p-2"},[(0,s._)("p",{class:"tw-text-white tw-font-semibold"},"System will be down in Sunday")],-1);function ca(t,e){const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Br,[(0,s._)("div",Qr,[(0,s._)("div",Jr,[(0,s.Wm)(r,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl tw-text-white"})]),Gr])]),(0,s._)("div",Xr,[(0,s._)("div",ta,[(0,s._)("div",ea,[(0,s.Wm)(r,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl tw-text-white"})]),ra])]),(0,s._)("div",aa,[(0,s._)("div",sa,[(0,s._)("div",la,[(0,s.Wm)(r,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl tw-text-white"})]),oa])]),(0,s._)("div",ia,[(0,s._)("div",na,[(0,s._)("div",wa,[(0,s.Wm)(r,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl tw-text-white"})]),da])])])}const ua={},pa=(0,p.Z)(ua,[["render",ca]]);var ma=pa,ga=r(4410),ha=r.n(ga),fa=r(6027);class ba{async all(){return await $.getCookie(),L.get("api/sheets")}async create(t){await $.getCookie();const e={name:t.name,sheet_id:t.sheet_id,sheet_name:t.sheet_name,auto_fetch:t.auto_fetch};return L.post("api/sheets",e)}async update(t,e){await $.getCookie();const r={name:e.name,sheet_id:e.sheet_id,sheet_name:e.sheet_name,auto_fetch:e.auto_fetch};return L.post("api/sheets/"+t,r)}async delete(t){return await $.getCookie(),L["delete"]("api/sheets/"+t)}async updateAutoFetch(t,e){return await $.getCookie(),L.post("api/sheets/"+t+"/auto-fetch",{autoFetch:e})}async sync(t){return await $.getCookie(),L.get("api/sync/"+t)}async sync_all(){return await $.getCookie(),L.get("api/sync")}async auto(){return await $.getCookie(),L.post("api/sync")}async saveOrders(t){return await $.getCookie(),L.get("api/sync/"+t+"/save")}}var xa=new ba;class ya{async paginate(t="/",e){return await $.getCookie(),L.post("api/v1/products"+t,e)}async create(t){await $.getCookie();const e=new FormData;return e.append("name",t.name),e.append("buying_price",t.buyingPrice),e.append("selling_price",t.sellingPrice),e.append("ref",t.reference),e.append("link_video",t.link_video),e.append("link_store",t.link_store),e.append("transport_mode",t.transport_mode),e.append("expedition_date",t.expedition_date),e.append("country_of_purchase",t.country_of_purchase),e.append("variations",JSON.stringify(t.variants)),e.append("offers",JSON.stringify(t.offers)),e.append("description",t.description),e.append("image",t.image),e.append("deliveries",JSON.stringify(t.selectedDeliveries)),P.post("api/products/new",e)}async update(t,e){await $.getCookie();const r=new FormData;return r.append("name",e.name),r.append("buying_price",e.buyingPrice),r.append("selling_price",e.sellingPrice),r.append("ref",e.reference),r.append("link_video",e.link_video),r.append("link_store",e.link_store),r.append("transport_mode",e.transport_mode),r.append("expedition_date",e.expedition_date),r.append("country_of_purchase",e.country_of_purchase),r.append("variations",JSON.stringify(e.variants)),r.append("offers",JSON.stringify(e.offers)),r.append("description",e.description),r.append("image",e.image),r.append("deliveries",JSON.stringify(e.selectedDeliveries)),P.post("api/products/update/"+t,r)}async updateStatus(t,e){await $.getCookie();const r=new FormData;return r.append("status",e.status),r.append("note",e.note),P.post("api/products/status/update/"+t,r)}async all(){return await $.getCookie(),L.get("api/products")}async allForOrder(t){return await $.getCookie(),L.get("api/products/for-order/"+t)}async getProduct(t){return await $.getCookie(),L.get("api/products/"+t)}async delete(t){return await $.getCookie(),L["delete"]("api/products/delete/"+t)}async stockAlert(){return await $.getCookie(),L.get("api/product/stockAlert")}}var va=new ya;class _a{async all(){return await $.getCookie(),L.get("api/sales")}async delete(t){return await $.getCookie(),L.get("api/sales/delete/"+t)}async update(t,e){return await $.getCookie(),L.post("api/orders/update/"+t,e)}async create(t){return await $.getCookie(),L.post("api/sales/new",t)}async getNewOrders(t){return await $.getCookie(),L.post("api/sales/fresh",{ids:t})}async agenteOrders(){return await $.getCookie(),L.get("api/orders")}async agenteConfirmedOrders(){return await $.getCookie(),L.get("api/orders/confirmer")}async agenteAddOrder(){return await $.getCookie(),L.get("api/orders/add")}async agenteGetOrder(){return await $.getCookie(),L.get("api/orders/toconfirmate")}async agenteUpdateConfirmation(t,e,r={}){return await $.getCookie(),L.post("api/orders/update/confirmation/"+t,{confirmation:e,...r})}async agenteUpdateConfirmationWithNote(t,e,r){return await $.getCookie(),L.post("api/orders/update/confirmationandnote/"+t,{confirmation:e,note:r})}async agenteUpdateUpsell(t,e){return await $.getCookie(),L.post("api/orders/update/upsell/"+t,{upsell:e})}async agenteUpdateAffectaion(t,e){return await $.getCookie(),L.post("api/orders/update/affectation/"+t,{affectation:e})}async agenteUpdateNote(t,e){return await $.getCookie(),L.post("api/orders/update/note/"+t,{note:e})}async deliveryOrders(){return await $.getCookie(),L.get("api/orders/todelivery")}async deliveryDeliveredOrders(){return await $.getCookie(),L.get("api/orders/delivred")}async deliveryUpdateDelivery(t,e,r){return await $.getCookie(),L.post("api/orders/update/delivery/"+t,{delivery:e,...r})}async history(t){return await $.getCookie(),L.get("api/orders/history/show/"+t)}async itemHistory(t){return await $.getCookie(),L.get("api/orders/item/history/show/"+t)}async resetSale(t){return await $.getCookie(),L.post("api/sales/reset",{ids:t})}async scanSale(t){return await $.getCookie(),L.post("api/sales/scan",t)}async availableOrders(){return await $.getCookie(),L.get("api/orders/count")}}var ka=new _a;const Ca={key:0,class:"tw-w-[400px] tw-fixed tw-top-[70px] !tw-z-[510000] tw-right-[5px]"},Da={class:"tw-flex tw-items-center tw-justify-between tw-text-neutral-400 tw-mt-2"},Sa={class:"tw-text-xs"},za=["disabled"],Ua=(0,s._)("div",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap tw-ml-[70%]"},null,-1);var qa={__name:"AlertNotification",setup(t){const e=(0,xe.iH)(!0),r=(0,i.oR)(),a=(0,xe.iH)(!1),l=async()=>{a.value=!0,await ve.Changestatus().then((t=>{"SUCCESS"==t.data.code&&r.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})),e.value=!1,a.value=!1},o=(0,s.Fl)((()=>r.getters["app/notifications"].highlighted));return(t,r)=>((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,xe.SU)(o)&&e.value?((0,s.wg)(),(0,s.iD)("div",Ca,[(0,s.Wm)(Et.w,{color:"white",border:"start","border-color":"success",elevation:"2",density:"compact"},{text:(0,s.w5)((()=>[(0,s._)("p",null,(0,st.zw)((0,xe.SU)(o).message),1),(0,s._)("div",Da,[(0,s._)("span",Sa,(0,st.zw)((0,xe.SU)(ke())((0,xe.SU)(o).created_at).fromNow()),1),(0,s._)("button",{disabled:a.value,onClick:l,class:"tw-p-0.5 tw-px-4 hover:tw-bg-neutral-100 tw-text-sm"},(0,st.zw)(a.value?"Closing...":"Close"),9,za)])])),default:(0,s.w5)((()=>[Ua])),_:1})])):(0,s.kq)("",!0)]))}};const Pa=qa;var La=Pa,Aa={components:{AppHeader:Qe,AppSidebar:Kr,Alert:Rt,AlertNotification:La,AppAnnonces:ma},data(){return{drawer:!1,subscribed:!1,fetching:null,delay:6e4,showScrollUpButton:!1,firstFetch:!1}},computed:{isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},sales(){return this.$store.getters["sale/sales"]},salesFetched(){return this.$store.getters["sale/fetched"]}},methods:{toggleSidebar(){this.drawer=!this.drawer},checkScroll(){this.showScrollUpButton=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},async getCities(){if(0==this.cities.length||1!=localStorage.getItem("update_cities"))return rt.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e),localStorage.setItem("update_cities",1)}))},subscribe(){console.log(ha());const t=new fa.Z({broadcaster:"pusher",key:"ABCDEFG",wsHost:"127.0.0.1",wsPort:6001,forceTLS:!1,disableStats:!0,cluster:"mt1"});window.Echo=t,t.channel("notification").listenToAll((t=>{console.log(t)})),this.subscribed=!0},sync_sheets(){"admin"==this.user.role?xa.sync_all().then((t=>{if("SUCCESS"==t.data.code){const e=[...t.data.data.orders,...this.sales];this.$store.dispatch("sale/setSales",e),t.data.data.orders.length>0&&this.$alert({type:"info",title:t.data.data.orders.length+" New orders has been added"})}})):xa.auto()},getUsers(){rt.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return va.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},fetchNewOrders(){if(this.salesFetched||!this.firstFetch){const t=this.sales.map((t=>t.id));return ka.getNewOrders(t).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders,r=t.data.data.count;this.$store.dispatch("sale/setCount",r),e.length>0&&(this.$store.dispatch("sale/addSales",e),this.$alert({type:"info",title:e.length+" New orders has been added"})),this.firstFetch=!0}}))}},getSales(){return this.isLoaded=!1,ka.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}},watch:{$route(){"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts")}},mounted(){this.getCities(),"admin"==this.user.role&&this.fetchNewOrders(),this.$can("show_all_products")&&this.getProducts(),"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts"),this.getUsers(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll)}};const $a=(0,p.Z)(Aa,[["render",Bt]]);var Wa=$a;const Ea={key:0};function Ta(t,e,r,a,l,o){return l.exists?((0,s.wg)(),(0,s.iD)("div",Ea,[((0,s.wg)(),(0,s.j4)((0,s.LL)(o.dashboard)))])):(0,s.kq)("",!0)}var Fa=r(6824),Va=r(8521);const Oa={key:0},Ia={key:1},ja=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Ra={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Ma={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Na={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},Ha=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),Ya=["disabled"],Za={key:0,class:"tw-flex tw-items-center tw-gap-2"},Ka={key:1},Ba=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Qa={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Ja(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable"),w=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Oa,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ia,[ja,(0,s._)("div",Ra,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})])),_:1})]),(0,s._)("div",Ma,[(0,s._)("div",Na,[Ha,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Za,[(0,s.Wm)(it.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Ka,[Ba,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,Ya)])]),(0,s._)("div",Qa,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(Va.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Va.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Va.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Ga=r(4286);const Xa={class:"tw-flex tw-items-center"},ts={class:"tw-flex tw-flex-col tw-h-full tw-text-neutral-600"},es={class:"tw-text-lg tw-font-bold"},rs={class:"tw-text-sm"};function as(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(Ga.C,{class:"tw-rounded-lg tw-border pa-5 py-2",color:"white",height:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",Xa,[(0,s._)("div",{class:(0,st.C_)([o.bgColor,"pa-3 rounded-circle tw-w-fit tw-mr-3"])},[(0,s.Wm)(it.t,{color:r.dash.color,size:"large",icon:r.dash.icon},null,8,["color","icon"])],2),(0,s._)("div",ts,[(0,s._)("p",es,(0,st.zw)(r.dash.value),1),(0,s.Wm)(ar.C),(0,s._)("p",rs,(0,st.zw)(r.dash.title),1)])])])),_:1})}var ss={props:["dash"],computed:{bgColor(){const t={orange:"tw-bg-orange-500/10",green:"tw-bg-green-500/10",blue:"tw-bg-blue-500/10",pink:"tw-bg-pink-500/10",red:"tw-bg-red-500/10",yellow:"tw-bg-yellow-500/10"};return t[this.dash.color]}}};const ls=(0,p.Z)(ss,[["render",as]]);var os=ls;const is={key:0,class:""},ns={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},ws=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),ds=[ws],cs={key:1,class:"tw-min-h-[50px]"},us={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},ps={class:"py-2 px-3 tw-rounded tw-border tw-grid tw-grid-cols-12"},ms={class:"tw-col-span-12 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},gs={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs"},hs={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},fs=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-red-400"},null,-1),bs={key:1},xs={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},ys=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),vs={key:1,class:"tw-flex tw-items-center tw-gap-2"},_s=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-yellow-400"},null,-1);function ks(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",is,[(0,s._)("div",ns,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},ds))),64))])])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",cs,[(0,s._)("div",us,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",ps,[(0,s._)("div",ms,(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),1),(0,s._)("div",gs,[t.last_action?((0,s.wg)(),(0,s.iD)("div",bs,[1==o.isOnline(o.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",xs,[ys,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",vs,[_s,(0,s.Uk)(" "+(0,st.zw)(o.lastSeen(t.last_action)),1)]))])):((0,s.wg)(),(0,s.iD)("div",hs,[fs,(0,s.Uk)(" Never Connected ")]))])])])))),128))]),(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var Cs=r(8777),Ds={components:{},data(){return{isLoaded:!1}},computed:{users(){return this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name))}},methods:{getUsers(){rt.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),console.log(t),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,Cs.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const Ss=(0,p.Z)(Ds,[["render",ks]]);var zs=Ss,Us=r(1489),qs=r(3144),Ps=r(9870),Ls=r(6161),As=r(4722);function $s(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(Us._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(qs.d,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>l.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Ps.L,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(Ls.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(As.H,{key:t.id,value:t.id,transition:"fade-transition","reverse-transition":"fade-transition"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component),{"filtered-sales":r.filteredSales},null,8,["filtered-sales"]))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const Ws={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},Es={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ts={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Fs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Vs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Os={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Is={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},js={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Rs(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ws,[(0,s._)("div",Es,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Ts,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Fs,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Vs,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Os,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",Is,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",js,[(0,s.Wm)(i,{dash:o.transferSales},null,8,["dash"])])])])}const Ms={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},Ns={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},Hs={class:"tw-text-xl tw-font-bold"},Ys={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},Zs={class:"tw-text-sm"},Ks={class:"rounded-circle tw-w-fit tw-mr-3"};function Bs(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Ga.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",Ms,[(0,s._)("div",Ns,[(0,s._)("p",Hs,(0,st.zw)(isNaN(r.dash.pourcentage)?"0.00%":r.dash.pourcentage)+" "+(0,st.zw)(r.symbol),1),(0,s._)("span",Ys,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",Zs,(0,st.zw)(r.dash.title),1)])]),(0,s._)("div",Ks,[(0,s.Wm)(it.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var Qs={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Js=(0,p.Z)(Qs,[["render",Bs]]);var Gs=Js,Xs={components:{DashItemTwo:Gs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.sales.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"livrer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.delivery))).length,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"expidier"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-orange",icon:"mdi-truck"}},transferSales(){return{id:8,title:"Transferred",value:this.sales.filter((t=>"transfer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"transfer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"purple-darken-1",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},mounted(){ka.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const tl=(0,p.Z)(Xs,[["render",Rs]]);var el=tl;const rl={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},al={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},sl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ll={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ol={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},il={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},nl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},wl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},dl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function cl(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",rl,[(0,s._)("div",al,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",sl,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",ll,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",ol,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",il,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",nl,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",wl,[(0,s.Wm)(i,{dash:o.doubledSales},null,8,["dash"])]),(0,s._)("div",dl,[(0,s.Wm)(i,{dash:o.wrongNumberSales},null,8,["dash"])])])])}var ul={components:{DashItemTwo:Gs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",pourcentage:100,value:this.sales.length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>!t.confirmation)).length/this.sales.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.confirmation)).length/this.sales.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}},doubledSales(){return{id:8,title:"Doubled",pourcentage:(100*this.sales.filter((t=>"double"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"double"==t.confirmation)).length,color:"purple-accent-4",icon:"mdi mdi-selection-multiple"}},wrongNumberSales(){return{id:9,title:"Wrong Number",pourcentage:(100*this.sales.filter((t=>"wrong-number"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"wrong-number"==t.confirmation)).length,color:"purple-lighten-1",icon:"mdi mdi-phone-remove"}}},mounted(){ka.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const pl=(0,p.Z)(ul,[["render",cl]]);var ml=pl,gl={components:{DeliveryTab:el,ConfirmationTab:ml},props:["filteredSales"],data(){return{tab:1,tabs:[{id:1,name:"Confirmation",component:"ConfirmationTab"},{id:2,name:"Delivery",component:"DeliveryTab"}]}}};const hl=(0,p.Z)(gl,[["render",$s]]);var fl=hl;const bl={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4 py-5"},xl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},yl={class:"tw-relative"},vl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},_l={class:"tw-relative"},kl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Cl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agents",-1),Dl={class:"tw-relative"},Sl=(0,s._)("option",{value:"all"},"Select",-1),zl=["value"],Ul={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ql=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Deliveries",-1),Pl={class:"tw-relative"},Ll=(0,s._)("option",{value:"all"},"Select",-1),Al=["value"],$l={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Wl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Cities",-1),El={class:"tw-relative"},Tl=(0,s._)("option",{value:"all"},"Select",-1),Fl=["value"],Vl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Ol=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Products",-1),Il={class:"tw-relative"},jl=(0,s._)("option",{value:"all"},"Select",-1),Rl=["value"],Ml={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Nl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Shops",-1),Hl={class:"tw-relative"},Yl=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Zl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Kl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Sources",-1),Bl={class:"tw-relative"},Ql=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Jl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Gl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),Xl={class:"tw-relative"},to=(0,s._)("option",{value:"all"},"Select",-1),eo=(0,s._)("option",{value:"oui"},"Oui",-1),ro=(0,s._)("option",{value:"non"},"Non",-1),ao=[to,eo,ro];function so(t,e,r,l,o,i){const n=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",bl,[(0,s._)("div",xl,[(0,s._)("div",yl,[(0,s.Wm)(n,{name:"Created Date",filter:o.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>o.dateFilter=t)},null,8,["filter"])])]),(0,s._)("div",vl,[(0,s._)("div",_l,[(0,s.Wm)(n,{name:"Dropped Date",filter:o.droppedAtFilter,"onUpdate:filter":e[1]||(e[1]=t=>o.droppedAtFilter=t)},null,8,["filter"])])]),(0,s._)("div",kl,[Cl,(0,s._)("div",Dl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.agentFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Sl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,zl)))),128))],512),[[a.bM,o.agentFilter]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ul,[ql,(0,s._)("div",Pl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Ll,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,Al)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",$l,[Wl,(0,s._)("div",El,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.cityFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Tl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,st.zw)(t.name),9,Fl)))),128))],512),[[a.bM,o.cityFilter]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Vl,[Ol,(0,s._)("div",Il,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[jl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,Rl)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ml,[Nl,(0,s._)("div",Hl,[Yl,(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Zl,[Kl,(0,s._)("div",Bl,[Ql,(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Jl,[Gl,(0,s._)("div",Xl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.upsellFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},ao,512),[[a.bM,o.upsellFilter]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0)])}const lo={class:"tw-text-sm tw-text-neutral-600"},oo=["onClick"];function io(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",lo,(0,st.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,st.zw)(t),9,oo)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var no=r(1271),wo=r(2292),co=r(1745),uo=r(4253),po=r(4819),mo=r(2143),go={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,no.Z)(new Date,1),(0,no.Z)(new Date,1)]},{label:"This month",range:[(0,wo.Z)(new Date),(0,co.Z)(new Date)]},{label:"Last month",range:[(0,wo.Z)((0,uo.Z)(new Date,1)),(0,co.Z)((0,uo.Z)(new Date,1))]},{label:"This year",range:[(0,po.Z)(new Date),(0,mo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const ho=(0,p.Z)(go,[["render",io]]);var fo=ho,bo={components:{DateFilter:fo},props:["filters"],data(){return{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""],isLoaded:!1,dashItems:[{id:1,title:"Total Chiffres d'affaire",value:1200,icon:"mdi-currency-usd",color:"green"},{id:2,title:"Chiffres d'affaire vers",value:"35000 DH",icon:"mdi mdi-credit-card-check-outline",color:"orange"},{id:3,title:"Chiffres d'affaire non vers",value:600,icon:"mdi mdi-credit-card-remove-outline",color:"red"},{id:4,title:"Chiffres d'affaire en caisse",value:543,icon:"mdi mdi-bank",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},watch:{agentFilter(t){this.$emit("update:filters",{...this.filters,agentFilter:t})},deliveryFilter(t){this.$emit("update:filters",{...this.filters,deliveryFilter:t})},productFilter(t){this.$emit("update:filters",{...this.filters,productFilter:t})},cityFilter(t){this.$emit("update:filters",{...this.filters,cityFilter:t})},upsellFilter(t){this.$emit("update:filters",{...this.filters,upsellFilter:t})},dateFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,dateFilter:t})}},droppedAtFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,droppedAtFilter:t})}}},computed:{agents(){return this.$store.getters["user/agents"]},deliveries(){return this.$store.getters["user/deliveries"]},products(){return this.$store.getters["product/products"]},cities(){return this.$store.getters["city/cities"]}},mounted(){rt.deliveries().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setDeliveries",e),this.isLoaded=!0}})).catch(this.$handleApiError),va.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.products;console.log(t.data),this.$store.dispatch("product/setProducts",e),this.isLoaded=!0}})).catch(this.$handleApiError),rt.cities().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("city/setCities",e),this.isLoaded=!0}})).catch(this.$handleApiError),rt.agents().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setAgents",e),this.isLoaded=!0}})).catch(this.$handleApiError)}};const xo=(0,p.Z)(bo,[["render",so]]);var yo=xo;const vo=t=>{if(!t)return 0;const e=t.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return(parseFloat(t.price?t.price:0)+parseFloat(e)).toFixed(2)},_o=t=>t?t.split("api/")[1]:null,ko=t=>JSON.parse(JSON.stringify(t));var Co={components:{DashItem:os,UsersTable:zs,TabSwitcher:fl,FilterTabs:yo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],n=this.filters.droppedAtFilter[1];return this.sales.filter((w=>{if("all"!==t&&parseInt(w.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(w.affectation)!=parseInt(e))return!1;if("all"!==s&&w.upsell!=s)return!1;if("all"!==r&&!w.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&w.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(w.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const m=new Date(w.dropped_at),g=m.getDate(),h=m.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&g<t)return!1}if(n){const t=n.getDate(),e=n.getMonth(),r=n.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&g>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire vers",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non vers",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ka.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ka.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=vo(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=vo(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=vo(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const Do=(0,p.Z)(Co,[["render",Ja]]);var So=Do;const zo=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Dashboard")])],-1),Uo={key:0},qo={key:1},Po={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Lo={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},Ao={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},$o={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Wo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Eo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},To={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-5"},Fo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Vo(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[zo,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Uo,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",qo,[(0,s._)("div",Po,[(0,s._)("div",Lo,[(0,s._)("div",Ao,[(0,s.Wm)(n,{dash:o.earningsDash,symbol:"DH",numbers:!1},null,8,["dash"])]),(0,s._)("div",$o,[(0,s.Wm)(n,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Wo,[(0,s.Wm)(n,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Eo,[(0,s.Wm)(n,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",To,[(0,s.Wm)(n,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Fo,[(0,s.Wm)(n,{dash:o.canceledSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Oo={components:{DashItemTwo:Gs},data(){return{isLoaded:!0,orders:[],cities:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},totalSales(){return{id:1,title:"Total Orders",value:this.orders.length,pourcentage:100,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.filterByStatus("livrer").length,pourcentage:100*this.filterByStatus("livrer").length/this.orders.length,color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:231,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.filterByStatus("expidier").length,pourcentage:100*this.filterByStatus("expidier").length/this.orders.length,color:"primary-orange",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.filterByStatus("reporter").length,pourcentage:100*this.filterByStatus("reporter").length/this.orders.length,color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.filterByStatus("annuler").length,pourcentage:100*this.filterByStatus("annuler").length/this.orders.length,color:"red-accent-3",icon:"mdi mdi-cancel"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:this.earnings,color:"green-darken-4",icon:"mdi-currency-usd"}},earnings(){return this.orders.reduce(((t,e)=>null==e.factorisations||e.factorisations.paid||e.factorisations.close?t:t+e.factorisations.price),0)}},methods:{filterByStatus(t){return this.orders.filter((e=>e.delivery==t))},getOrders(){this.isLoaded=!1,qr.delivery().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const Io=(0,p.Z)(Oo,[["render",Vo]]);var jo=Io;const Ro=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Dashboard ")])],-1),Mo={key:0},No={key:1},Ho={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Yo={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},Zo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Ko={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Bo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Qo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Jo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Go={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Xo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function ti(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[Ro,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Mo,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",No,[(0,s._)("div",Ho,[(0,s._)("div",Yo,[(0,s._)("div",Zo,[(0,s.Wm)(n,{dash:o.earningsDash,symbol:l.currency,numbers:!1},null,8,["dash","symbol"])]),(0,s._)("div",Ko,[(0,s.Wm)(n,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Bo,[(0,s.Wm)(n,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Qo,[(0,s.Wm)(n,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Jo,[(0,s.Wm)(n,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",Go,[(0,s.Wm)(n,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Xo,[(0,s.Wm)(n,{dash:o.upsellSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var ei={components:{DashItemTwo:Gs},data(){return{currency:c,isLoaded:!0,orders:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},totalSales(){return{id:1,title:"Total",pourcentage:0===this.orders.length?0:100,value:this.orders.filter((t=>"double"!=t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.orders.filter((t=>!t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>!t.confirmation)).length/this.orders.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.orders.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"confirmer"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.orders.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"reporter"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.orders.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"annuler"==t.confirmation)).length/this.orders.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},upsellSales(){return{id:6,title:"Upsell",value:this.orders.filter((t=>"oui"==t.upsell)).length,pourcentage:(100*this.orders.filter((t=>"oui"==t.upsell)).length/this.orders.length).toFixed(2),color:"#2563eb",icon:"mdi mdi-transfer-up"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:.7*this.orders.filter((t=>"oui"==t.upsell&&"livrer"==t.delivery)).length,color:"green-darken-4",icon:"mdi-currency-usd"}},noanswerSales(){return{id:6,title:"No Answer",value:this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.orders.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},methods:{filterByStatus(t){return this.orders.filter((e=>e.confirmation==t))},getOrders(){this.isLoaded=!1,qr.agente().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const ri=(0,p.Z)(ei,[["render",ti]]);var ai=ri;const si=(0,s._)("div",{class:"tw-w-full tw-rounded-lg tw-py-5 tw-px-5 tw-flex tw-flex-center tw-justify-center"},[(0,s._)("h1",{class:"tw-text-lg"},"Welcome to Dashboard !")],-1),li=[si];function oi(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,li)}var ii={components:{},data(){return{dashItems:[{id:1,title:"Orders",value:1200,icon:"mdi-package-variant-closed",color:"orange"},{id:2,title:"Total Sales",value:"35000 DH",icon:"mdi-currency-usd",color:"green"},{id:3,title:"Orders Confirmed",value:600,icon:"mdi-phone-check-outline",color:"blue"},{id:4,title:"Orders Delivered",value:543,icon:"mdi-truck-check-outline",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role}}};const ni=(0,p.Z)(ii,[["render",oi]]);var wi=ni;const di={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},ci=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),ui=[ci];function pi(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",di,[l.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},ui))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.dashes,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const mi={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},gi={class:"tw-flex tw-justify-between"},hi={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},fi={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},bi={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},xi={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function yi(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",mi,[(0,s._)("div",gi,[(0,s._)("div",null,[(0,s._)("div",hi,[(0,s._)("p",fi,(0,st.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,st.j5)({background:r.color})},(0,st.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",bi,[(0,s._)("span",xi,(0,st.zw)(r.value),1)])]),(0,s._)("div",{style:(0,st.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(it.t,{style:(0,st.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var vi={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const _i=(0,p.Z)(vi,[["render",yi]]);var ki=_i;class Ci{async statistics(){return await $.getCookie(),L.post("api/v1/followup/statistics")}async paginate(t="/",e){return await $.getCookie(),L.post("api/v1/followup/orders"+t,e)}async update(t,e){return await $.getCookie(),L.post("api/v1/followup/orders/"+t+"/update",e)}async create(t){return await $.getCookie(),L.post("api/v1/followup/orders/create",t)}}var Di=new Ci,Si={components:{DashCard:ki},data(){return{fetching:!0,dashes:[]}},mounted(){Di.statistics().then((t=>{console.log(t.data.data),this.dashes=t.data.data.statistics,this.fetching=!1}))}};const zi=(0,p.Z)(Si,[["render",pi]]);var Ui=zi;const qi={key:0},Pi={key:1},Li=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Ai={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},$i={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Wi={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},Ei=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),Ti=["disabled"],Fi={key:0,class:"tw-flex tw-items-center tw-gap-2"},Vi={key:1},Oi=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Ii={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function ji(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable"),w=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qi,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Pi,[Li,(0,s._)("div",Ai,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})])),_:1})]),(0,s._)("div",$i,[(0,s._)("div",Wi,[Ei,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fi,[(0,s.Wm)(it.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Vi,[Oi,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,Ti)])]),(0,s._)("div",Ii,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(Va.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Va.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Va.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Ri={components:{DashItem:os,UsersTable:zs,TabSwitcher:fl,FilterTabs:yo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],n=this.filters.droppedAtFilter[1];return this.sales.filter((w=>{if("all"!==t&&parseInt(w.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(w.affectation)!=parseInt(e))return!1;if("all"!==s&&w.upsell!=s)return!1;if("all"!==r&&!w.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&w.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(w.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const m=new Date(w.dropped_at),g=m.getDate(),h=m.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&g<t)return!1}if(n){const t=n.getDate(),e=n.getMonth(),r=n.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&g>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire vers",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non vers",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ka.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ka.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=vo(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=vo(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=vo(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const Mi=(0,p.Z)(Ri,[["render",ji]]);var Ni=Mi,Hi={components:{admin:So,delivery:jo,agente:ai,default:wi,seller:Ni,"follow-up":Ui},data(){return{localUrl:n,exists:!1}},computed:{user(){return this.$store.getters["user/user"]},dashboard(){return["admin","seller","delivery","agente","follow-up"].includes(this.user.role)?this.user.role:"default"}},methods:{check(){switch(this.user.role){case"admin":this.$router.push({name:"dashboards/admin"});break;case"agente":this.$router.push({name:"dashboards/agent"});break;case"seller":this.$router.push({name:"dashboards/seller"});break;default:this.exists=!0;break}}},created(){this.check()}};const Yi=(0,p.Z)(Hi,[["render",Ta]]);var Zi=Yi;const Ki={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Bi={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Qi={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Ji={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Gi=["disabled"],Xi=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),tn=(0,s._)("span",null," previous ",-1),en=[Xi,tn],rn=["disabled"],an=(0,s._)("span",null," Next ",-1),sn=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),ln=[an,sn];function on(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ki,[(0,s._)("div",Bi,[(0,s.Uk)(" Page "),(0,s._)("span",Qi,(0,st.zw)(r.currentPage)+" of "+(0,st.zw)(r.lastPage),1)]),(0,s._)("div",Ji,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,st.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},en,10,Gi),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,st.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},ln,10,rn)])])])}var nn={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const wn=(0,p.Z)(nn,[["render",on]]);var dn=wn;const cn={class:"py-5 tw-min-h-[calc(100dvh-110px)] px-5 tw-border bg-white tw-w-full tw-rounded-md"},un=(0,s._)("h1",{class:"tw-text-lg tw-pl-1"},"Notifications",-1),pn={key:0},mn={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},gn={key:1,class:"tw-relative tw-h-full tw-flex-col tw-flex tw-overflow-x-auto sm:tw-rounded-lg"},hn={key:0},fn=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),bn=[fn],xn={class:"tw-w-full tw-text-left tw-text-gray-500"},yn={class:"tw-w-fit tw-flex tw-flex-col tw-whitespace-nowrap text-black"},vn={class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},_n=(0,s._)("div",{class:"tw-flex-1 tw-mt-auto"},null,-1);var kn={__name:"NotificationView",setup(t){const e=(0,i.oR)(),r=(0,xe.iH)(!1),a=(0,xe.iH)(null),l=t=>{a.value.page=t,o()},o=async()=>{const t={...a.value,data:null};r.value=!1,await ve.AllNotifications(t).then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setAllNotifications",t.data.data),a.value=t.data.data)})).catch((t=>{console.error("API Error",t)})),r.value=!0};(0,s.bv)((()=>{o()}));const n=(0,s.Fl)((()=>e.getters["app/notifications"].all));return(t,e)=>((0,s.wg)(),(0,s.iD)("div",cn,[un,r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",pn,[(0,s._)("div",mn,[(0,s.Wm)(it.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),r.value?((0,s.wg)(),(0,s.iD)("div",gn,[""==(0,xe.SU)(n).data?((0,s.wg)(),(0,s.iD)("div",hn,bn)):(0,s.kq)("",!0),(0,s._)("table",xn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(n).data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,scope:"col",class:(0,st.C_)([{"bg-white":"read"==t.status},"tw-bg-orange-50 tw-py-3 tw-px-1 text-truncate"])},[(0,s._)("div",yn,(0,st.zw)(t.message),1),(0,s._)("div",vn,(0,st.zw)((0,xe.SU)(ke())(t.created_at).fromNow()),1)],2)))),128))]),_n,r.value?((0,s.wg)(),(0,s.j4)(dn,{key:1,onPageChange:l,"per-page":a.value.per_page,"last-page":a.value.last_page,from:a.value.from,to:a.value.to,total:a.value.total,"current-page":a.value.current_page},null,8,["per-page","last-page","from","to","total","current-page"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]))}};const Cn=kn;var Dn=Cn,Sn={path:"/",name:"home",component:Wa,meta:{module:"dashboard"},children:[{path:"",name:"dashboard",component:Zi,meta:{module:"dashboard",title:"Dashboard",gate:"all"}},{path:"/notifications",name:"notifications",component:Dn,meta:{module:"notification",title:"Notifications",gate:"all"}}]};const zn={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Un=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your products")],-1),qn={key:0},Pn=(0,s._)("span",{class:"text-white"}," Add Expedition ",-1),Ln={key:0},An={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},$n={class:"mb-5 tw-flex"},Wn={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},En={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Tn={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Fn=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Vn={class:"tw-relative"},On={class:""};function In(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.products.length},[(0,s._)("div",zn,[Un,t.$can("create_product")?((0,s.wg)(),(0,s.iD)("div",qn,[(0,s.Wm)(lt.T,{color:"primary-color",link:"",to:{name:"product/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Pn])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ln,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",An,[(0,s._)("div",$n,[(0,s.Wm)(lt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Wn,[(0,s.Wm)(re.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,st.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",En,[(0,s._)("div",Tn,[Fn,(0,s._)("div",Vn,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",On,[(0,s.Wm)(w,{columns:o.columns,products:i.filteredProducts},null,8,["columns","products"])])])):(0,s.kq)("",!0)])}const jn={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Rn={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Mn={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Nn=(0,s._)("th",null,null,-1),Hn={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Yn={class:"tw-w-4 tw-p-4"},Zn={class:"tw-flex tw-items-center"},Kn={key:0,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-green-500"},Bn={key:1,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-yellow-500"},Qn={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Jn={class:"tw-px-6 tw-py-4"},Gn={key:0},Xn={class:"tw-px-6 tw-py-4"},tw={class:"tw-px-6 tw-py-4"},ew={class:"tw-px-6 tw-py-4"},rw={class:"tw-px-6 tw-py-4"},aw={class:"tw-px-6 tw-py-4"},sw={class:"tw-px-6 tw-py-4"},lw={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},ow={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},iw={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},nw=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),ww=["value"],dw={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},cw={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},uw={class:"tw-text-white"};function pw(t,e,r,l,o,i){const n=(0,s.up)("ProductActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jn,[(0,s._)("table",Rn,[(0,s._)("thead",Mn,[(0,s._)("tr",null,[Nn,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Hn,(0,st.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Yn,[(0,s._)("div",Zn,[1==t.status?((0,s.wg)(),(0,s.iD)("span",Kn)):(0,s.kq)("",!0),0==t.status?((0,s.wg)(),(0,s.iD)("span",Bn)):(0,s.kq)("",!0)])]),(0,s._)("th",Qn,(0,st.zw)(t.id),1),(0,s._)("td",Jn,[t.seller_user?((0,s.wg)(),(0,s.iD)("span",Gn,(0,st.zw)(t.seller_user.firstname)+" "+(0,st.zw)(t.seller_user.lastname),1)):(0,s.kq)("",!0)]),(0,s._)("td",Xn,(0,st.zw)(t.ref),1),(0,s._)("td",tw,(0,st.zw)(t.name),1),(0,s._)("td",ew,(0,st.zw)(t.buying_price)+" "+(0,st.zw)(o.currency),1),(0,s._)("td",rw,(0,st.zw)(t.selling_price)+" "+(0,st.zw)(o.currency),1),(0,s._)("td",aw,(0,st.zw)(i.calculQty(t.variations)),1),(0,s._)("td",sw,(0,st.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",lw,[(0,s.Wm)(n,{product:t},null,8,["product"])])])))),128))])])]),(0,s._)("div",ow,[(0,s._)("div",iw,[nw,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,st.zw)(t),9,ww)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",dw,[(0,s._)("div",cw,(0,st.zw)(i.prevRange+1)+" - "+(0,st.zw)(o.currentPage==i.pageCount?r.products.length:i.nextRange)+" of "+(0,st.zw)(r.products.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(lt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",uw,(0,st.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const mw={class:"tw-flex tw-items-center tw-gap-1"},gw=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12 2C11.8 2 11.6 2.1 11.4 2.2L3.5 6.6C3.2 6.8 3 7.1 3 7.5V16.5C3 16.9 3.2 17.2 3.5 17.4L11.4 21.8C11.6 21.9 11.8 22 12 22S12.4 21.9 12.6 21.8L13.5 21.3C13.2 20.7 13.1 20 13 19.3V12.6L19 9.2V13C19.7 13 20.4 13.1 21 13.3V7.5C21 7.1 20.8 6.8 20.5 6.6L12.6 2.2C12.4 2.1 12.2 2 12 2M12 4.2L18 7.5L16 8.6L10.1 5.2L12 4.2M8.1 6.3L14 9.8L12 10.9L6 7.5L8.1 6.3M5 9.2L11 12.6V19.3L5 15.9V9.2M21.3 15.8L17.7 19.4L16.1 17.8L15 19L17.8 22L22.6 17.2L21.3 15.8Z",fill:"white"})],-1),hw={key:4};function fw(t,e,r,a,l,o){const i=(0,s.up)("popup"),n=(0,s.up)("ProductStatusPopup");return(0,s.wg)(),(0,s.iD)("div",mw,[t.$can("update_product")&&"admin"==this.user.role?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showStatusPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[gw])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_product")?((0,s.wg)(),(0,s.j4)(lt.T,{key:1,to:"/products/update/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(lt.T,{key:2,to:"/products/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.j4)(lt.T,{key:3,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"]),l.showStatusPopup?((0,s.wg)(),(0,s.iD)("div",hw,[(0,s.Wm)(n,{visible:l.showStatusPopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showStatusPopup=t),onCancel:e[3]||(e[3]=t=>l.showStatusPopup=!1),product:r.product},null,8,["visible","product"])])):(0,s.kq)("",!0)])}const bw={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},xw=(0,s._)("h1",{class:"tw-text-lg"},"Update Product Status",-1),yw={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},vw={class:"tw-w-full tw-col-span-6"},_w={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},kw=["disabled"],Cw=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Dw={class:"tw-w-full tw-col-span-12"},Sw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),zw={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Uw=(0,s._)("span",{class:"text-white"}," Cancel ",-1),qw=(0,s._)("span",{class:"text-white"}," Update ",-1);function Pw(t,e,r,l,o,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",bw,[xw,(0,s._)("div",yw,[(0,s._)("div",vw,[(0,s._)("label",_w,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingStatus,"onUpdate:modelValue":e[0]||(e[0]=t=>o.currentStatus=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,kw),[[a.e8,o.currentStatus]]),Cw]),o.isLoadingStatus?((0,s.wg)(),(0,s.j4)(it.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",Dw,[Sw,(0,s.wy)((0,s._)("textarea",{"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",512),[[a.nr,o.note]])])]),(0,s._)("div",zw,[(0,s.Wm)(lt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Uw])),_:1}),(0,s.Wm)(lt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[qw])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Lw={components:{},props:["product","visible"],data(){return{isLoading:!1,isLoadingStatus:!1,currentStatus:!1,note:""}},computed:{},methods:{update(){this.isLoading=!0;const t={status:this.currentStatus,note:this.note};va.updateStatus(this.product.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("product/setProduct",t.data.data.product),this.$emit("cancel")),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))}},mounted(){this.Product={...this.product},this.currentStatus=1==this.product.status,this.note=this.product.note}};const Aw=(0,p.Z)(Lw,[["render",Pw]]);var $w=Aw,Ww={components:{ProductStatusPopup:$w},props:["rowIndex","product"],name:"productActions",data(){return{showStatusPopup:!1,showPopup:!1,isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,va["delete"](this.product.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"})),va.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Ew=(0,p.Z)(Ww,[["render",fw]]);var Tw=Ew,Fw={props:["columns","products"],components:{ProductActions:Tw},data(){return{currency:c,allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.products.length/this.paginationLimit)},items(){return this.products.slice(this.prevRange,this.nextRange)}},methods:{calculQty(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Vw=(0,p.Z)(Fw,[["render",pw]]);var Ow=Vw;const Iw=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:16,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:15,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:12,value:"wrong-number",name:"Wrong number",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:13,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:14,value:"double",name:"Double",text:"tw-text-purple-500",textLight:"tw-text-purple-800",bg:"tw-bg-purple-500/10",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"}],jw=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:2,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"}],Rw=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:13,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-cyan-500",textLight:"tw-text-cyan-800",bg:"tw-bg-cyan-500/10",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"}],Mw=[{id:0,value:null,name:"Select",text:"tw-text-neutral-600",bg:"tw-bg-neutral-500/10",ring:"tw-ring-neutral-300"},{id:1,value:"oui",name:"Oui",text:"tw-text-green-500",bg:"tw-bg-green-500/10",ring:"tw-ring-green-300"},{id:2,value:"non",name:"Non",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",ring:"tw-ring-pink-300"}],Nw=[{id:0,value:null,name:"Select",text:"tw-text-gray-500",textLight:"tw-text-gray-800",bg:"tw-bg-gray-500/10",bgLight:"tw-bg-gray-100",ring:"tw-ring-gray-300"},{id:1,value:"dispatch",name:"Dispatched",text:"tw-text-yellow-500",textLight:"tw-text-yellow-800",bg:"tw-bg-yellow-500/10",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:2,value:"expidier",name:"Shipped",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:3,value:"livrer",name:"Delivered",text:"tw-text-green-500",bg:"tw-bg-green-500/10",textLight:"tw-text-green-800",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:4,value:"reporter",name:"Reported",text:"tw-text-orange-500",bg:"tw-bg-orange-500/10",textLight:"tw-text-orange-800",bgLight:"tw-bg-orange-100",ring:"tw-ring-orange-300"},{id:5,value:"refuser",name:"Refused",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",textLight:"tw-text-pink-800",bgLight:"tw-bg-pink-100",ring:"tw-ring-pink-300"},{id:6,value:"annuler",name:"Canceled",text:"tw-text-red-500",bg:"tw-bg-red-500/10",textLight:"tw-text-red-800",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:9,value:"pas-de-reponse",name:"No Answer",text:"tw-text-yellow-500",bg:"tw-bg-yellow-500/10",textLight:"tw-text-yellow-800",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:10,value:"retourner",name:"Retourned",text:"tw-text-purple-500",bg:"tw-bg-purple-500/10",textLight:"tw-text-purple-800",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:11,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-indigo-500",bg:"tw-bg-indigo-500/10",textLight:"tw-text-indigo-800",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:12,value:"paid",name:"Paid",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:13,value:"transfer",name:"Transferd",text:"tw-text-violet-500",bg:"tw-bg-violet-500/10",textLight:"tw-text-violet-800",bgLight:"tw-bg-violet-100",ring:"tw-ring-violet-300"},{id:14,value:"livrer-et-retourner",name:"Delivered & Return",text:"tw-text-cyan-500",bg:"tw-bg-cyan-500/10",textLight:"tw-text-cyan-800",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"},{id:15,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"}],Hw=[null,"expidier","paid","transfer","dispatch"];var Yw={components:{ProductsTable:Ow},data(){return{localUrl:n,confirmations:Iw,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"seller",name:"Seller"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},filteredProducts(){const t=this.date;return this.products.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!(e.ref.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase())||e.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{getProducts(){va.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts()}};const Zw=(0,p.Z)(Yw,[["render",In]]);var Kw=Zw;const Bw={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Qw={class:"tw-px-3"},Jw={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Gw={class:"tw-flex tw-items-center tw-gap-x-3"},Xw=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Products ",-1),td={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},ed=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of products. ",-1),rd={key:0};function ad(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Bw,[(0,s._)("section",Qw,[(0,s._)("div",Jw,[(0,s._)("div",null,[(0,s._)("div",Gw,[Xw,(0,s._)("span",td,(0,st.zw)(l.totalProducts)+" products",1)]),ed])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",rd,[(0,s.Wm)(w,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const sd={class:"tw-flex tw-flex-col"},ld={class:"tw-overflow-x-auto"},od={class:"tw-inline-block tw-min-w-full tw-align-middle"},id={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},nd={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},wd={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},dd={scope:"col",class:"rtl:tw-text-right tw-w-7 tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},cd={class:"tw-max-w-[25px]"},ud={class:"tw-inline-flex tw-items-center"},pd={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},md=["checked"],gd=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),hd=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),fd=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Seller")],-1),bd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," SKU ",-1),xd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),yd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Pricing ( $ ) ",-1),vd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-whitespace-nowrap !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Qty ",-1),_d=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivered ",-1),kd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Shipped ",-1),Cd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Available ",-1),Dd={scope:"col",class:"tw-py-3.5 tw-w-5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Sd=(0,s._)("span",null,"Created",-1),zd=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Ud=[Sd,zd],qd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Actions")],-1),Pd={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ld={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ad=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),$d=[Ad],Wd={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ed={colspan:"11"},Td={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Fd=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),Vd=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Od=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Id=[Vd,Od],jd={class:"tw-mt-6"};function Rd(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",sd,[(0,s._)("div",ld,[(0,s._)("div",od,[(0,s._)("div",id,[(0,s._)("table",nd,[(0,s._)("thead",wd,[(0,s._)("tr",null,[(0,s._)("th",dd,[(0,s._)("div",cd,[(0,s._)("div",ud,[(0,s._)("label",pd,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,md),gd])])])]),hd,fd,bd,xd,yd,vd,_d,kd,Cd,(0,s._)("th",Dd,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Ud)]),qd])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Pd,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,l)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:l,index:a,key:r.id,item:r},null,8,["selected","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Ld,$d)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Wd,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Ed,[(0,s._)("div",Td,[Fd,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Id)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",jd,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Md={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Nd={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Hd={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Yd={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Zd=["disabled"],Kd=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Bd=(0,s._)("span",null," previous ",-1),Qd=[Kd,Bd],Jd=["disabled"],Gd=(0,s._)("span",null," Next ",-1),Xd=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),tc=[Gd,Xd];function ec(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Md,[(0,s._)("div",Nd,[(0,s.Uk)(" Page "),(0,s._)("span",Hd,(0,st.zw)(r.currentPage)+" of "+(0,st.zw)(r.lastPage),1)]),(0,s._)("div",Yd,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,st.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Qd,10,Zd),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,st.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},tc,10,Jd)])])])}var rc={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const ac=(0,p.Z)(rc,[["render",ec]]);var sc=ac;const lc={class:"tw-p-2 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},oc={class:"tw-max-w-[25px]"},ic={class:"tw-inline-flex tw-items-center"},nc={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},wc=["checked","id"],dc=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),cc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},pc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},mc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},gc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},hc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},bc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},xc={class:"tw-flex tw-items-center tw-gap-1"},yc={title:"Buying Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},vc={class:"tw-text-blue-700"},_c={title:"Selling Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},kc={class:"tw-text-green-700"},Cc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Dc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Sc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},zc={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},Uc={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},qc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Pc={class:"tw-flex tw-font-medium tw-text-purple-600 tw-rounded tw-items-center"},Lc={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Ac={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$c={class:"tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Wc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-max-w-[100px]"},Ec={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-max-w-[100px] tw-flex tw-items-center tw-gap-2"},Tc={class:"tw-px-4 tw-py-1 tw-text-sm tw-whitespace-nowrap"};function Fc(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,st.C_)(["hover:tw-bg-gray-50",[o.availableQuantity<=0&&"!tw-border !tw-border-red-300 tw-bg-red-100 hover:tw-bg-red-100"]])},[(0,s._)("td",lc,[(0,s._)("div",oc,[(0,s._)("div",ic,[(0,s._)("label",nc,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,wc),dc])])])]),(0,s._)("td",cc,[(0,s._)("div",null,[(0,s._)("h2",uc,(0,st.zw)(r.item.id),1)])]),(0,s._)("td",pc,[(0,s._)("div",null,[(0,s._)("h2",mc,(0,st.zw)(r.item.seller_user.firstname)+" "+(0,st.zw)(r.item.seller_user.lastname),1)])]),(0,s._)("td",gc,[(0,s._)("div",null,[(0,s._)("h2",{class:(0,st.C_)([{"!tw-text-emerald-500":r.item.status,"!tw-text-amber-500":!r.item.status},"tw-font-bold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[70px] tw-truncate"])},(0,st.zw)(r.item.ref),3)])]),(0,s._)("td",hc,[(0,s._)("div",null,[(0,s._)("h2",fc,(0,st.zw)(r.item.name),1)])]),(0,s._)("td",bc,[(0,s._)("div",xc,[(0,s._)("div",yc,[(0,s._)("span",vc,(0,st.zw)(r.item.buying_price),1),(0,s.Wm)(it.t,{class:"tw-text-lg tw-text-blue-400 tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-down-bold")])),_:1})]),(0,s._)("div",_c,[(0,s.Wm)(it.t,{class:"tw-text-lg tw-mr-1 tw-text-green-400"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-up-bold")])),_:1}),(0,s._)("span",kc,(0,st.zw)(r.item.selling_price),1)])])]),(0,s._)("td",Cc,[(0,s._)("div",null,[(0,s._)("h2",Dc,(0,st.zw)(o.quantityTotal),1)])]),(0,s._)("td",Sc,[(0,s._)("div",zc,[(0,s._)("h2",Uc,(0,st.zw)(o.deliveredQuantity),1)])]),(0,s._)("td",qc,[(0,s._)("div",Pc,[(0,s._)("h2",Lc,(0,st.zw)(o.shippedQuantity),1)])]),(0,s._)("td",Ac,[(0,s._)("div",{class:(0,st.C_)([{"tw-text-red-500 !tw-font-bold":o.availableQuantity<=0},"tw-flex tw-font-medium tw-text-blue-600 tw-rounded tw-items-center"])},[(0,s._)("h2",$c,(0,st.zw)(o.availableQuantity),1)],2)]),(0,s._)("td",Wc,[(0,s._)("div",null,[(0,s._)("h2",Ec,[(0,s._)("p",null,(0,st.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1)])])]),(0,s._)("td",Tc,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const Vc={class:"tw-h-full"},Oc={class:"tw-flex tw-items-center tw-gap-2"};function Ic(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Vc,[(0,s._)("div",Oc,[(0,s.Wm)(lt.T,{to:"/products/update/"+r.item.id,class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"]),(0,s.kq)("",!0)])])}var jc={components:{},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const Rc=(0,p.Z)(jc,[["render",Ic]]);var Mc=Rc,Nc={components:{TableActions:Mc},props:{item:{required:!0},selected:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ke(),currency:c}},computed:{isSelected(){return this.selected.includes(this.item.id)},quantityTotal(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.quantity)),0)},deliveredQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.delivered_quantity)),0)},shippedQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.shipped_quantity)),0)},availableQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.available_quantity)),0)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const Hc=(0,p.Z)(Nc,[["render",Fc]]);var Yc=Hc,Zc={components:{TablePaginationNoNums:sc,TableRow:Yc},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const Kc=(0,p.Z)(Zc,[["render",Rd]]);var Bc=Kc;const Qc={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Jc={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Gc=["disabled"],Xc=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),tu=[Xc],eu=["disabled"],ru=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),au=[ru],su={class:"tw-relative"},lu=["value"],ou=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),iu=[ou],nu=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),wu={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},du=["value"],cu={class:"tw-overflow-hidden tw-col-span-1"},uu={class:"tw-overflow-hidden tw-col-span-1"},pu={class:"tw-overflow-hidden tw-col-span-1"};function mu(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Qc,[(0,s._)("div",Jc,[(0,s._)("button",{class:(0,st.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,Gc),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,st.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},tu,2),(r.activeStatistics&&r.statistics,(0,s.kq)("",!0)),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},au,8,eu),(0,s.kq)("",!0),(0,s._)("div",su,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},iu,40,lu),nu])]),(0,s._)("div",wu,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,du),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,st.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",cu,["admin"==this.user.role?((0,s.wg)(),(0,s.j4)(n,{key:0,onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])):(0,s.kq)("",!0)])],2),(0,s._)("div",{class:(0,st.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",uu,[(0,s.Wm)(w,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",pu,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const gu={class:"tw-mb-4"},hu={class:"tw-grid tw-grid-cols-12 tw-gap-4"},fu={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},bu={class:"tw-flex tw-items-center tw-justify-between"},xu={class:"tw-text-xl tw-font-bold tw-text-gray-900"},yu={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function vu(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",gu,[(0,s._)("div",hu,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",fu,[(0,s._)("p",{class:(0,st.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,st.zw)(t.name),3),(0,s._)("div",bu,[(0,s._)("span",xu,(0,st.zw)(t.total),1),(0,s._)("span",yu,(0,st.zw)(t.percent)+"%",1)])])])))),128))])])}var _u={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Iw.find((e=>e.value==t))}}};const ku=(0,p.Z)(_u,[["render",vu]]);var Cu=ku;const Du={class:"tw-mb-4"},Su={class:"tw-flex tw-items-center tw-gap-2"},zu=["disabled"],Uu=(0,s._)("span",null,"Select Filtered",-1),qu={class:"tw-flex tw-justify-end"},Pu=["disabled"];function Lu(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",Du,[(0,s._)("div",Su,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Uu],8,zu)]),(0,s._)("div",qu,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,st.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,Pu)])])}class Au{async statistics(t){return await $.getCookie(),L.post("api/v1/admin/statistics",t)}async analytics(t){return await $.getCookie(),L.post("api/v1/admin/analytics",t)}async paginate(t="/",e){return await $.getCookie(),L.post("api/v1/admin/orders"+t,e)}async update(t,e){return await $.getCookie(),L.post("api/v1/admin/orders/"+t+"/update",e)}async create(t){return await $.getCookie(),L.post("api/v1/admin/orders/create",t)}async export(t={}){return await $.getCookie(),L.post("api/v1/admin/orders/export",t)}}var $u=new Au,Wu={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,$u["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const Eu=(0,p.Z)(Wu,[["render",Lu]]);var Tu=Eu;const Fu={class:"tw-mb-4"},Vu={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Ou={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Iu=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),ju=(0,s._)("span",null,"Clear",-1),Ru=[Iu,ju],Mu=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Nu=(0,s._)("span",null,"Filter",-1),Hu=[Mu,Nu];function Yu(t,e,r,a,l,o){(0,s.up)("DateFilter"),(0,s.up)("ProductFilter");const i=(0,s.up)("SellerFilter");return(0,s.wg)(),(0,s.iD)("div",Fu,[(0,s._)("div",Vu,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Ou,[(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Ru),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Hu)])])])}const Zu={class:"tw-text-sm tw-text-neutral-600"},Ku=["onClick"];function Bu(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Zu,(0,st.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,st.zw)(t),9,Ku)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Qu={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,no.Z)(new Date,1),(0,no.Z)(new Date,1)]},{label:"This month",range:[(0,wo.Z)(new Date),(0,co.Z)(new Date)]},{label:"Last month",range:[(0,wo.Z)((0,uo.Z)(new Date,1)),(0,co.Z)((0,uo.Z)(new Date,1))]},{label:"This year",range:[(0,po.Z)(new Date),(0,mo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const Ju=(0,p.Z)(Qu,[["render",Bu]]);var Gu=Ju;const Xu={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),ep=["value"],rp=(0,s._)("option",{value:"all"},"All",-1),ap=["value"];function sp(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Xu,[tp,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[rp,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.name),9,ap)))),128))],40,ep)])}var lp={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return va.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const op=(0,p.Z)(lp,[["render",sp]]);var ip=op;const np={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},wp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),dp=["value"],cp=(0,s._)("option",{value:"all"},"All",-1),up=["value"];function pp(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",np,[wp,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[cp,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,up)))),128))],40,dp)])}var mp={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const gp=(0,p.Z)(mp,[["render",pp]]);var hp=gp,fp={components:{DateFilter:Gu,ProductFilter:ip,SellerFilter:hp},props:{filters:{required:!0,default:{}}},data(){return{dateFilter:["",""]}}};const bp=(0,p.Z)(fp,[["render",Yu]]);var xp=bp,yp={components:{IndexStatistics:Cu,FiltersWrapper:xp,IndexExport:Tu},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ke()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const vp=(0,p.Z)(yp,[["render",mu]]);var _p=vp;const kp={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Cp=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),Dp={class:"tw-bg-white tw-p-4"},Sp={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},zp={class:"tw-col-span-2 md:tw-col-span-1"},Up=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),qp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Pp={class:"tw-col-span-2 md:tw-col-span-1"},Lp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Ap={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$p={class:"tw-col-span-2 md:tw-col-span-1"},Wp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Ep={class:"tw-relative"},Tp=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Fp=["value"],Vp=["value"],Op=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Ip={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},jp={class:"tw-col-span-2 md:tw-col-span-1"},Rp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Mp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Np={class:"tw-col-span-2"},Hp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Yp={class:"tw-relative"},Zp=["value"],Kp=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Bp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Qp={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Jp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Gp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Xp={key:1,class:"md:tw-col-span-1 tw-col-span-2"},tm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),em={class:"tw-col-span-2"},rm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),am={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},sm={class:"md:tw-col-span-1 tw-col-span-2"},lm={class:"md:tw-col-span-1 tw-col-span-2"},om=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),im={class:"tw-relative"},nm=["value"],wm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),dm={class:"tw-col-span-2"},cm={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},um={key:0,class:"tw-text-red-400 tw-text-xs"},pm={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},mm=["disabled"],gm=(0,s._)("span",null,"Create",-1);function hm(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",kp,[Cp,(0,s._)("div",Dp,[(0,s._)("div",Sp,[(0,s._)("div",zp,[Up,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,st.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",qp,(0,st.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Pp,[Lp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,st.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",Ap,(0,st.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",$p,[Wp,(0,s._)("div",Ep,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,st.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Tp,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,st.zw)(o.itemCopy.city),9,Fp),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,st.zw)(t.name),9,Vp)))),128))],34),[[a.bM,o.itemCopy.city]]),Op]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",Ip,(0,st.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",jp,[Rp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,st.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Mp,(0,st.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Np,[Hp,(0,s._)("div",Yp,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,st.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,st.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,st.zw)(t.name),11,Zp)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),Kp]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",Bp,(0,st.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Qp,[Jp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,st.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",Gp,(0,st.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Xp,[tm,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",em,[rm,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,st.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",am,(0,st.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",sm,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",lm,[om,(0,s._)("div",im,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.text]),value:t.value,key:t.id},(0,st.zw)(t.name),11,nm)))),128))],512),[[a.bM,o.itemCopy.upsell]]),wm])]),(0,s._)("div",dm,[(0,s._)("label",cm,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",um," # "+(0,st.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",pm,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),gm],8,mm)])])])),_:1},8,["visible","onCancel"])])}const fm=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!bm(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),bm=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},xm=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},ym=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},vm=(t,e)=>{t.isLoading=!0,t.errors={},$u.create(e).then((e=>xm(t,e.data))).catch((e=>ym(t,e.response.data))).finally((()=>t.isLoading=!1))},_m={key:0},km=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Cm={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Dm=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Sm=(0,s._)("span",null,"Add Item",-1),zm=[Dm,Sm],Um={key:1,class:"md:tw-col-span-12 tw-col-span-12"},qm={class:"tw-max-w-full tw-overflow-auto"},Pm={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},Lm={class:"tw-bg-gray-50"},Am={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},$m={key:0},Wm={colspan:"6"},Em={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Tm=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Fm=(0,s._)("span",null,"Add Item",-1),Vm=[Tm,Fm],Om=(0,s._)("td",{colspan:"4"},null,-1),Im=(0,s._)("td",null,null,-1),jm={colspan:"1",class:"tw-p-2"},Rm={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Mm={key:1},Nm={colspan:"6"},Hm={class:"tw-scale-75 tw-p-5"};function Ym(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_m,[km,(0,s._)("div",Cm,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},zm)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",Um,[(0,s._)("div",qm,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Pm,[(0,s._)("tr",Lm,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Am,(0,st.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",$m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",Wm,[(0,s._)("div",Em,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Vm)])])]),(0,s._)("tr",null,[Om,Im,(0,s._)("td",jm,[(0,s._)("div",Rm,[(0,s._)("p",null,(0,st.zw)(l.currency)+" "+(0,st.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Mm,[(0,s._)("tr",null,[(0,s._)("td",Nm,[(0,s._)("div",Hm,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const Zm=(0,s._)("td",null,null,-1),Km={class:"tw-p-2"},Bm={class:"tw-relative"},Qm=["value"],Jm=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),Gm=["value"],Xm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),tg={class:"tw-p-2"},eg={key:0,class:"tw-relative"},rg=["value"],ag=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),sg=["value"],lg={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},og=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),ig=[og],ng={class:"tw-p-2"},wg=["value"],dg={class:"tw-p-2"},cg=["value"],ug={class:"tw-flex tw-justify-center"};function pg(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[Zm,(0,s._)("td",null,[(0,s._)("div",Km,[(0,s._)("div",Bm,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Jm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.name),9,Gm)))),128))],40,Qm),Xm])])]),(0,s._)("td",null,[(0,s._)("div",tg,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",eg,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[ag,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.color)+" "+(0,st.zw)(t.size),9,sg)))),128))],40,rg)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",lg,ig)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",ng,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,wg)])]),(0,s._)("td",null,[(0,s._)("div",dg,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,cg)])]),(0,s._)("td",null,[(0,s._)("div",ug,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var mg={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const gg=(0,p.Z)(mg,[["render",pg]]);var hg=gg,fg={components:{ItemRow:hg},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const bg=(0,p.Z)(fg,[["render",Ym]]);var xg=bg;const yg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),vg={key:0,class:"tw-relative"},_g=["value","disabled"],kg=(0,s._)("option",{value:""},"Choose a Delivery",-1),Cg=["value"],Dg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Sg={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zg={key:2,class:"tw-relative"},Ug={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},qg=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Pg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function Lg(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[yg,l.fetched?((0,s.wg)(),(0,s.iD)("div",vg,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,st.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[kg,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,Cg)))),128))],42,_g),Dg])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Sg,(0,st.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",zg,[(0,s._)("div",Ug,[(0,s.Wm)(i)]),qg,Pg]))])}var Ag={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,rt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const $g=(0,p.Z)(Ag,[["render",Lg]]);var Wg=$g,Eg={components:{OrderItems:xg,OrderAffectation:Wg},props:{visible:{required:!0}},data(){return{confirmations:Iw,upsells:Mw,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=fm(this,this.itemCopy);if(!t)return!1;vm(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,va.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const Tg=(0,p.Z)(Eg,[["render",hm]]);var Fg=Tg,Vg={components:{IndexTable:Bc,IndexFilters:_p,CreatePopup:Fg},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,user_id:"all",product_id:"all"}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,va.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=_o(t.first_page_url),this.lase_page_url=_o(t.last_page_url),this.next_page_url=_o(t.next_page_url),this.prev_page_url=_o(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()}};const Og=(0,p.Z)(Vg,[["render",ad]]);var Ig=Og,jg=r(240),Rg=r(3104),Mg=r(4842);const Ng=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Expedition "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new expedition")],-1),Hg={key:0},Yg={key:1},Zg={class:"mb-5"},Kg=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),Bg={class:"tw-w-full"},Qg=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),Jg={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Gg={class:"tw-w-full"},Xg=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Reference ",-1),th={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},eh={class:"tw-w-full"},rh={class:"mb-1 text-body-2 tw-text-zinc-700"},ah={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sh={class:"mb-1 text-body-2 tw-text-zinc-700"},lh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},oh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),ih={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},nh={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},wh=(0,s._)("span",null,"Add Variants: ",-1),dh={key:0,class:"tw-h-fit tw-mb-"},ch=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),uh={class:"tw-relative"},ph=(0,s._)("option",{value:0},"Select",-1),mh=["value"],gh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},hh={key:1},fh={class:"md:tw-col-span-3 tw-col-span-12"},bh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),xh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},yh={class:"md:tw-col-span-3 tw-col-span-12"},vh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),_h={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kh={key:2},Ch={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Dh={class:"md:tw-col-span-3 tw-col-span-12"},Sh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),zh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Uh={class:"md:tw-col-span-3 tw-col-span-12"},qh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Ph={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lh={class:"md:tw-col-span-3 tw-col-span-12"},Ah=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Quantity ",-1),$h=(0,s._)("div",{class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},null,-1),Wh={class:"md:tw-col-span-3 tw-col-span-12"},Eh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Th={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Fh={class:"tw-col-span-12 tw-flex tw-justify-end"},Vh=["disabled"],Oh=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Ih={class:""},jh={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},Rh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Variants ",-1),Mh={class:"mb-1 text-body-2 tw-text-zinc-700"},Nh={key:1,class:"tw-max-w-full tw-overflow-x-auto"},Hh={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Yh={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Zh={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Kh={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Bh={class:"tw-px-6 tw-py-2"},Qh={class:"tw-px-6 tw-py-2"},Jh={class:"tw-px-6 tw-py-2"},Gh={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},Xh=(0,s._)("h1",{class:"tw-font-medium"},"Image",-1),tf={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},ef={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},rf={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},af={class:"tw-w-max tw-relative"},sf=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),lf={class:"md:tw-col-span-6 tw-col-span-12"},of={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},nf=(0,s._)("span",null,"No image available",-1),wf=[nf],df={class:"mb-5"},cf=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),uf={class:"tw-w-full"},pf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),mf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gf={class:"tw-w-full"},hf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),ff={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},bf={class:"tw-w-full"},xf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),yf={class:"tw-relative"},vf=["error"],_f=(0,s._)("option",{value:"",disabled:""},"Select",-1),kf=(0,s._)("option",{value:"Sea"},"Sea",-1),Cf=(0,s._)("option",{value:"Air"},"Air",-1),Df=[_f,kf,Cf],Sf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zf={class:"tw-w-full"},Uf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),qf={class:"tw-relative"},Pf=["error"],Lf=(0,s._)("option",{value:""},"Select",-1),Af=(0,s._)("option",{value:"China"},"China",-1),$f=(0,s._)("option",{value:"Dubai"},"Dubai",-1),Wf=(0,s._)("option",{value:"Turky"},"Turky",-1),Ef=[Lf,Af,$f,Wf],Tf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ff={class:"tw-w-full"},Vf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),Of={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},If={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},jf={class:"mb-5"},Rf=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),Mf={key:0,class:"mb-5"},Nf=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),Hf=(0,s._)("h1",{class:"tw-font-medium"},"Deliveries",-1),Yf={class:"tw-mt-2"},Zf={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Kf=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Bf=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Qf(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("VariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[Ng,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Hg,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Yg,[(0,s._)("div",null,[(0,s._)("div",Zg,[Kg,(0,s.Wm)(Fa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Bg,[Qg,(0,s.Wm)(nt.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Jg,(0,st.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Gg,[Xg,(0,s.Wm)(nt.hw,{error:!o.formStatus.reference.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("reference")),"hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",th,(0,st.zw)(o.formStatus.reference.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",eh,[(0,s._)("div",rh," Buying Price ("+(0,st.zw)(o.currency)+") ",1),(0,s.Wm)(nt.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ah,(0,st.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",sh," Selling Price ("+(0,st.zw)(o.currency)+") ",1),(0,s.Wm)(nt.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",lh,(0,st.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[oh,(0,s.Wm)(Mg.z,{error:!o.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",ih,(0,st.zw)(o.formStatus.description.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",nh,[wh,(0,s.Wm)(Rg.G,{modelValue:o.addVariants,"onUpdate:modelValue":e[10]||(e[10]=t=>o.addVariants=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Va.D,{cols:"12",md:"6",class:"tw-border-l tw-border-r-neutral-700 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",dh,[ch,(0,s._)("div",uh,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.warehouse=t),onChange:e[12]||(e[12]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[ph,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.name),9,mh)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",gh,(0,st.zw)(o.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),o.addVariants?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",hh,[(0,s._)("div",fh,[bh,(0,s.Wm)(nt.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[13]||(e[13]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[14]||(e[14]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",xh,(0,st.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",yh,[vh,(0,s.Wm)(nt.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[15]||(e[15]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[16]||(e[16]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",_h,(0,st.zw)(o.formStatus.stockAlert.message),1)])])),o.addVariants?((0,s.wg)(),(0,s.iD)("div",kh,[(0,s._)("div",Ch,[(0,s._)("div",Dh,[Sh,(0,s.Wm)(nt.hw,{error:!o.formStatus.size.valid,onKeyup:e[17]||(e[17]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[18]||(e[18]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",zh,(0,st.zw)(o.formStatus.size.message),1)]),(0,s._)("div",Uh,[qh,(0,s.Wm)(nt.hw,{error:!o.formStatus.color.valid,onKeyup:e[19]||(e[19]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[20]||(e[20]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ph,(0,st.zw)(o.formStatus.color.message),1)]),(0,s._)("div",Lh,[Ah,(0,s.Wm)(nt.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid&&!1,onKeyup:e[21]||(e[21]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[22]||(e[22]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),$h]),(0,s._)("div",Wh,[Eh,(0,s.Wm)(nt.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[24]||(e[24]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Th,(0,st.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Fh,[(0,s._)("button",{disabled:!o.quantity,class:(0,st.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[25]||(e[25]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(it.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Oh],10,Vh)])]),(0,s._)("div",Ih,[(0,s._)("div",jh,[Rh,(0,s._)("div",Mh," Quantity Total: "+(0,st.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,st.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",Nh,[(0,s._)("table",Hh,[(0,s._)("thead",Yh,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","stockAlert","actions"],(t=>(0,s._)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Zh,(0,st.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",Kh,(0,st.zw)(t.size),1),(0,s._)("td",Bh,(0,st.zw)(t.color),1),(0,s._)("td",Qh,(0,st.zw)(t.quantity),1),(0,s._)("td",Jh,(0,st.zw)(t.stockAlert),1),(0,s._)("td",Gh,[(0,s._)("div",null,[(0,s.Wm)(w,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Xh,(0,s._)("div",tf,[(0,s._)("div",ef,[(0,s._)("label",rf,[(0,s._)("div",af,[(0,s.Wm)(it.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),sf]),(0,s._)("input",{onChange:e[26]||(e[26]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",lf,[(0,s._)("div",of,[(0,s._)("img",{class:(0,st.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",id:"image-preview",alt:"Image Preview"},null,2),(0,s._)("div",{class:(0,st.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},wf,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",df,[cf,(0,s.Wm)(Fa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",uf,[pf,(0,s.Wm)(nt.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[27]||(e[27]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[28]||(e[28]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",mf,(0,st.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",gf,[hf,(0,s.Wm)(nt.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[29]||(e[29]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[30]||(e[30]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ff,(0,st.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",bf,[xf,(0,s._)("div",yf,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.transport_mode.valid,onKeyup:e[31]||(e[31]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[32]||(e[32]=t=>o.product.transport_mode=t)},Df,40,vf),[[a.bM,o.product.transport_mode]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Sf,(0,st.zw)(o.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",zf,[Uf,(0,s._)("div",qf,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.country_of_purchase.valid,onKeyup:e[33]||(e[33]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[34]||(e[34]=t=>o.product.country_of_purchase=t)},Ef,40,Pf),[[a.bM,o.product.country_of_purchase]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Tf,(0,st.zw)(o.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ff,[Vf,(0,s._)("div",Of,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[35]||(e[35]=t=>o.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,o.product.expedition_date]])]),(0,s._)("div",If,(0,st.zw)(o.formStatus.expedition_date.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",jf,[Rf,(0,s.Wm)(Fa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[36]||(e[36]=t=>o.offers=t)},null,8,["offers"])])])),_:1})])),_:1})]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Mf,[Nf,(0,s.Wm)(Fa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[Hf,(0,s._)("div",Yf,[(0,s.Wm)(jg.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[37]||(e[37]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",Zf,[(0,s.Wm)(lt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Kf])),_:1}),(0,s.Wm)(lt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Bf])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}function Jf(t,e,r,a,l,o){const i=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(lt.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(lt.T,{onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(w,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"])])}const Gf={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},Xf={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},tb={class:"tw-col-span-12"},eb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),rb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ab={class:"tw-col-span-12"},sb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),lb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ob={class:"tw-col-span-12"},ib=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),nb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},wb={class:"tw-col-span-12"},db=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),cb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ub={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end"},pb=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),mb=[pb],gb=["disabled"],hb=(0,s._)("span",{class:"tw-text-white"},"Save",-1),fb=[hb];function bb(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Gf,[(0,s._)("div",Xf,[(0,s._)("div",tb,[eb,(0,s.Wm)(nt.hw,{error:!l.formStatus.size.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[1]||(e[1]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rb,(0,st.zw)(l.formStatus.size.message),1)]),(0,s._)("div",ab,[sb,(0,s.Wm)(nt.hw,{error:!l.formStatus.color.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[3]||(e[3]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",lb,(0,st.zw)(l.formStatus.color.message),1)]),(0,s._)("div",ob,[ib,(0,s.Wm)(nt.hw,{onChange:o.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[5]||(e[5]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",nb,(0,st.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",wb,[db,(0,s.Wm)(nt.hw,{onChange:o.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[6]||(e[6]=t=>o.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[7]||(e[7]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",cb,(0,st.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",ub,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},mb),(0,s._)("button",{disabled:!l.quantity,class:(0,st.C_)([{"tw-bg-orange-500":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[9]||(e[9]=(...t)=>o.updateVariant&&o.updateVariant(...t))},fb,10,gb)])])])}var xb={props:["variant"],data(){return{size:"",color:"",quantity:0,stockAlert:0,newVariant:null,formStatus:{quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""}}}},methods:{updateVariant(){console.log("updated");const t=this.quantity-this.newVariant.quantity;this.newVariant.size=this.size?this.size.toLocaleUpperCase():"",this.newVariant.color=this.color?this.color.toLocaleUpperCase():"",this.newVariant.quantity=this.quantity,this.newVariant.stockAlert=this.stockAlert,this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(t),this.cancel()},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},cancel(){this.$emit("cancel")},resetError(t){this.formStatus[t]={valid:!0,message:""}}},mounted(){this.size=this.variant.size,this.color=this.variant.color,this.quantity=this.variant.quantity,this.stockAlert=this.variant.stockAlert,this.newVariant=this.variant}};const yb=(0,p.Z)(xb,[["render",bb]]);var vb=yb,_b={components:{UpdateProductVariant:vb},props:["variant"],data(){return{visible:!1,deletePopup:!1}},methods:{cancel(){this.visible=!1},update(t){console.log("from actions: ",t)},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}}};const kb=(0,p.Z)(_b,[["render",Jf]]);var Cb=kb;class Db{async create(t){return await $.getCookie(),L.post("api/warehouses/new",{name:t.name})}async update(t,e){return await $.getCookie(),L.post("api/warehouses/update/"+t,{name:e.name})}async all(){return await $.getCookie(),L.get("api/warehouses")}async getWarehouse(t){return await $.getCookie(),L.get("api/warehouses/"+t)}async delete(t){return await $.getCookie(),L["delete"]("api/warehouses/delete/"+t)}}var Sb=new Db;const zb=(0,s._)("h1",{class:"tw-font-medium"},"Offers",-1),Ub={class:"tw-grid tw-grid-cols-12 tw-mb-5 tw-mt-3 tw-gap-3"},qb={class:"md:tw-col-span-3 tw-col-span-12"},Pb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Lb={class:"md:tw-col-span-3 tw-col-span-12"},Ab=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),$b={class:"md:tw-col-span-5 tw-col-span-12"},Wb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),Eb={class:"md:tw-col-span-1 tw-col-span-12"},Tb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-transparent"},"Note",-1),Fb={class:"tw-mt-2"},Vb={class:"tw-relative tw-overflow-x-auto tw-shadow sm:tw-rounded"},Ob={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Ib=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-24"},"Action")])],-1),jb={class:"tw-px-6 tw-py-4"},Rb={class:"tw-px-6 tw-py-4"},Mb={class:"tw-px-6 tw-py-4"},Nb={class:"tw-max-w-[250px] tw-text-sm"},Hb={class:"tw-px-6 tw-py-4"},Yb={key:0},Zb=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),Kb=[Zb];function Bb(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[zb,(0,s._)("div",Ub,[(0,s._)("div",qb,[Pb,(0,s.Wm)(nt.hw,{type:"number","hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[0]||(e[0]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Lb,[Ab,(0,s.Wm)(nt.hw,{type:"number","hide-details":!0,modelValue:l.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",$b,[Wb,(0,s.Wm)(nt.hw,{type:"text","hide-details":!0,modelValue:l.note,"onUpdate:modelValue":e[2]||(e[2]=t=>l.note=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Eb,[Tb,(0,s.Wm)(lt.T,{onClick:o.handleAdd,class:"mx-auto !tw-px-0 !tw-py-0","min-height":"40px","min-width":"40",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])]),(0,s._)("div",Fb,[(0,s._)("div",Vb,[(0,s._)("table",Ob,[Ib,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",jb,(0,st.zw)(t.quantity),1),(0,s._)("td",Rb,(0,st.zw)(t.price)+" "+(0,st.zw)(l.currency),1),(0,s._)("td",Mb,[(0,s._)("p",Nb,(0,st.zw)(t.note),1)]),(0,s._)("td",Hb,[(0,s.Wm)(lt.T,{onClick:e=>o.handleDeleteClicked(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==r.offers.length?((0,s.wg)(),(0,s.iD)("tr",Yb,Kb)):(0,s.kq)("",!0)])])])]),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this offer?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"])])}var Qb={props:["offers"],data(){return{currency:c,deletePopup:!1,toDeleteID:null,quantity:1,price:0,note:""}},methods:{handleDeleteClicked(t){this.toDeleteID=t,this.deletePopup=!0},handleDelete(t){if(this.deletePopup=!1,!t)return!1;this.$emit("update:offers",this.offers.filter((t=>t.id!=this.toDeleteID)))},handleAdd(){const t=this.offers.length>0?this.offers[this.offers.length-1].id:0,e=t+1,r={id:e,quantity:this.quantity,price:this.price,note:this.note};this.$emit("update:offers",[...this.offers,r]),this.quantity=1,this.price=0,this.note=""}}};const Jb=(0,p.Z)(Qb,[["render",Bb]]);var Gb=Jb,Xb={components:{VariantActions:Cb,ProductOffers:Gb},data(){return{currency:c,isLoading:!1,isLoaded:!1,addVariants:!1,variantId:1,variants:[],image:"",imageFile:null,color:"",size:"",quantity:0,warehouse:0,stockAlert:0,offers:[],product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},reference:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},warehouse:{valid:!0,message:""},variants:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;if(t.addVariants=this.addVariants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t}))),this.addVariants)t.variants=this.variants;else{const e=[{id:this.variantId,color:null,size:null,quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert}];t.variants=e}va.create(t).then((t=>{"PRODUCT_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.product={name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},this.offers=[],this.selectedDeliveries=[],this.variants=[],this.$store.dispatch("product/addProduct",t.data.data.product)),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.product.name,"Product name"),this.formStatus.reference=Pt(this.product.reference,"Reference"),this.formStatus.buyingPrice=Pt(this.product.buyingPrice,"Buying price"),this.formStatus.link_store=Pt(this.product.link_store,"Link store"),this.formStatus.link_video=Pt(this.product.link_video,"Link video"),this.formStatus.transport_mode=Pt(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=Pt(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=Pt(this.product.country_of_purchase,"Country of purchase"),this.formStatus.quantity=Pt(this.quantity,"Quantity"),this.formStatus.sellingPrice=Pt(this.product.sellingPrice,"Selling price"),this.formStatus.description=Pt(this.product.description,"Description"),this.formStatus.variants=$t(this.variants),this.addVariants||"admin"!=this.user.role||(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"}),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.reference.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&(!this.addVariants||this.formStatus.variants.valid)&&(!!this.addVariants||this.formStatus.quantity.valid)&&(!!this.addVariants||this.formStatus.warehouse.valid)},addVariant(){if("admin"==this.user.role&&(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"},!this.formStatus.warehouse.valid))return!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.stockAlert=0,this.color="",this.size="",this.quantity=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return this.isLoaded=!1,Sb.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getWarhouses();const t=this.deliveries[1];t&&(this.selectedDeliveries=[t.id])}};const tx=(0,p.Z)(Xb,[["render",Qf]]);var ex=tx;const rx=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update product informations")],-1),ax={key:0},sx={key:1},lx={key:0,class:"tw-flex py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},ox={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},ix={class:"mb-5"},nx=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),wx={class:"tw-w-full"},dx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),cx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ux={class:"tw-w-full"},px=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),mx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gx={class:"tw-w-full"},hx={class:"mb-1 text-body-2 tw-text-zinc-700"},fx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},bx={class:"mb-1 text-body-2 tw-text-zinc-700"},xx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},yx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),vx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},_x={key:0,class:"tw-h-fit tw-mb-"},kx=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Cx={class:"tw-relative"},Dx=(0,s._)("option",{value:0},"Select",-1),Sx=["value"],zx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ux={key:0,class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},qx={class:"md:tw-col-span-3 tw-col-span-12"},Px=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Lx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ax={class:"md:tw-col-span-3 tw-col-span-12"},$x=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Wx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ex={class:"md:tw-col-span-3 tw-col-span-12"},Tx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Fx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vx={class:"md:tw-col-span-3 tw-col-span-12"},Ox=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Ix={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},jx={key:1},Rx={class:"tw-col-span-12 tw-flex tw-justify-end"},Mx=["disabled"],Nx=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Hx={class:""},Yx={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},Zx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),Kx={class:"mb-1 text-body-2 tw-text-zinc-700"},Bx={key:1,class:"tw-max-w-full tw-overflow-x-auto"},Qx={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Jx={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Gx={key:0,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},Xx=(0,s._)("div",{class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"}," warehouse ",-1),ty=[Xx],ey={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},ry={key:0,class:"tw-px-6 tw-py-2 tw-capitalize"},ay={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},sy={class:"tw-px-6 tw-py-2"},ly={class:"tw-px-6 tw-py-2"},oy={class:"tw-flex tw-flex-col"},iy={key:0,class:"tw-text-xs tw-text-green-500"},ny={class:"tw-px-6 tw-py-2"},wy={key:1,class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},dy=(0,s._)("h1",null,"Image",-1),cy={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},uy={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},py={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},my={class:"tw-w-max tw-relative"},gy=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),hy={class:"md:tw-col-span-6 tw-col-span-12"},fy={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},by=["src"],xy=(0,s._)("span",null,"No image available",-1),yy=[xy],vy={class:"mb-5"},_y=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),ky={class:"tw-w-full"},Cy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Dy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Sy={class:"tw-w-full"},zy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Uy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qy={class:"tw-w-full"},Py=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),Ly={class:"tw-relative"},Ay=["error"],$y=(0,s._)("option",{value:""},"Select",-1),Wy=(0,s._)("option",{value:"Sea"},"Sea",-1),Ey=(0,s._)("option",{value:"Air"},"Air",-1),Ty=[$y,Wy,Ey],Fy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vy={class:"tw-w-full"},Oy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),Iy={class:"tw-relative"},jy=["error"],Ry=(0,s._)("option",{value:""},"Select",-1),My=(0,s._)("option",{value:"China"},"China",-1),Ny=(0,s._)("option",{value:"Dubai"},"Dubai",-1),Hy=(0,s._)("option",{value:"Turky"},"Turky",-1),Yy=[Ry,My,Ny,Hy],Zy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ky={class:"tw-w-full"},By=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),Qy={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Jy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Gy={class:"mb-5"},Xy=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),tv={class:"mb-5"},ev=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),rv=(0,s._)("h1",null,"Deliveries",-1),av={class:"tw-mt-2"},sv={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},lv=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),ov=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function iv(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UpdateVariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[rx,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ax,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",sx,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("div",lx,[(0,s.Uk)(" Product ID: "),(0,s._)("span",ox,(0,st.zw)(i.id),1)])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("div",ix,[nx,(0,s.Wm)(Fa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",wx,[dx,(0,s.Wm)(nt.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",cx,(0,st.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ux,[px,(0,s.Wm)(nt.hw,{error:!o.formStatus.quantity.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("quantity")),disabled:"","hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",mx,(0,st.zw)(o.formStatus.quantity.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",gx,[(0,s._)("div",hx," Buying Price ("+(0,st.zw)(o.currency)+") ",1),(0,s.Wm)(nt.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",fx,(0,st.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",bx," Selling Price ("+(0,st.zw)(o.currency)+") ",1),(0,s.Wm)(nt.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",xx,(0,st.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[yx,(0,s.Wm)(Mg.z,{error:!o.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",vx,(0,st.zw)(o.formStatus.description.message),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Va.D,{cols:"12",md:"12",class:"tw-border-t tw-border-t-neutral-300 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",_x,[kx,(0,s._)("div",Cx,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.warehouse=t),onChange:e[11]||(e[11]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Dx,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.name),9,Sx)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",zx,(0,st.zw)(o.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),(0,s._)("div",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Ux,[(0,s._)("div",qx,[Px,(0,s.Wm)(nt.hw,{error:!o.formStatus.size.valid,onKeyup:e[12]||(e[12]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[13]||(e[13]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Lx,(0,st.zw)(o.formStatus.size.message),1)]),(0,s._)("div",Ax,[$x,(0,s.Wm)(nt.hw,{error:!o.formStatus.color.valid,onKeyup:e[14]||(e[14]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[15]||(e[15]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Wx,(0,st.zw)(o.formStatus.color.message),1)]),(0,s._)("div",Ex,[Tx,(0,s.Wm)(nt.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[16]||(e[16]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[17]||(e[17]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Fx,(0,st.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",Vx,[Ox,(0,s.Wm)(nt.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[18]||(e[18]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[19]||(e[19]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Ix,(0,st.zw)(o.formStatus.stockAlert.message),1)])])):(0,s.kq)("",!0),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",jx,[(0,s._)("div",Rx,[(0,s._)("button",{disabled:!o.quantity,class:(0,st.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[20]||(e[20]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(it.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Nx],10,Mx)])])):(0,s.kq)("",!0),(0,s._)("div",Hx,[(0,s._)("div",Yx,[Zx,(0,s._)("div",Kx," Quantity Total: "+(0,st.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,st.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",Bx,[(0,s._)("table",Qx,[(0,s._)("thead",Jx,[(0,s._)("tr",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("th",Gx,ty)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","Stock Alert","admin"==i.user.role?"actions":""],(t=>((0,s.wg)(),(0,s.iD)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",ey,(0,st.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",ry,(0,st.zw)(t.warehouse.name),1)):(0,s.kq)("",!0),(0,s._)("td",ay,(0,st.zw)(t.size),1),(0,s._)("td",sy,(0,st.zw)(t.color),1),(0,s._)("td",ly,[(0,s._)("div",oy,[(0,s._)("span",null,(0,st.zw)(t.quantity),1),t.created_at?((0,s.wg)(),(0,s.iD)("span",iy,(0,st.zw)(t.available_quantity),1)):(0,s.kq)("",!0)])]),(0,s._)("td",ny,(0,st.zw)(t.stockAlert),1),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",wy,[(0,s._)("div",null,[(0,s.Wm)(w,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])):(0,s.kq)("",!0)])))),128))])])]))])])])),_:1}),(0,s.Wm)(Va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[dy,(0,s._)("div",cy,[(0,s._)("div",uy,[(0,s._)("label",py,[(0,s._)("div",my,[(0,s.Wm)(it.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),gy]),(0,s._)("input",{onChange:e[21]||(e[21]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",hy,[(0,s._)("div",fy,[(0,s._)("img",{class:(0,st.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",src:o.serverUrl+"storage/"+o.image,id:"image-preview",alt:"Image Preview"},null,10,by),(0,s._)("div",{class:(0,st.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},yy,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",vy,[_y,(0,s.Wm)(Fa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ky,[Cy,(0,s.Wm)(nt.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[22]||(e[22]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[23]||(e[23]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Dy,(0,st.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Sy,[zy,(0,s.Wm)(nt.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[24]||(e[24]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[25]||(e[25]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Uy,(0,st.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qy,[Py,(0,s._)("div",Ly,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.transport_mode.valid,onKeyup:e[26]||(e[26]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[27]||(e[27]=t=>o.product.transport_mode=t)},Ty,40,Ay),[[a.bM,o.product.transport_mode]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Fy,(0,st.zw)(o.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Vy,[Oy,(0,s._)("div",Iy,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.country_of_purchase.valid,onKeyup:e[28]||(e[28]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[29]||(e[29]=t=>o.product.country_of_purchase=t)},Yy,40,jy),[[a.bM,o.product.country_of_purchase]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Zy,(0,st.zw)(o.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ky,[By,(0,s._)("div",Qy,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[30]||(e[30]=t=>o.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,o.product.expedition_date]])]),(0,s._)("div",Jy,(0,st.zw)(o.formStatus.expedition_date.message),1)])])),_:1})])),_:1})]),(0,s._)("div",Gy,[Xy,(0,s.Wm)(Fa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[31]||(e[31]=t=>o.offers=t)},null,8,["offers"])])])),_:1})])),_:1})])]),(0,s._)("div",tv,[ev,(0,s.Wm)(Fa.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.j4)(Va.D,{key:0,cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[rv,(0,s._)("div",av,[(0,s.Wm)(jg.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[32]||(e[32]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",sv,[(0,s.Wm)(lt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[lv])),_:1}),(0,s.Wm)(lt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[ov])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}const nv={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},wv={class:"tw-w-full"},dv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Add quantity",-1),cv={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end tw-mt-3"},uv=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),pv=[uv],mv=["disabled"],gv=(0,s._)("span",{class:"tw-text-white"},"Add",-1),hv=[gv];function fv(t,e,r,a,l,o){const i=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[r.variant.created_at?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,onClick:e[0]||(e[0]=t=>l.visibleAdd=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1})):(0,s.kq)("",!0),void 0===r.variant.on_hold||r.variant.available_quantity==r.variant.quantity?((0,s.wg)(),(0,s.j4)(lt.T,{key:1,onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(lt.T,{onClick:e[2]||(e[2]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(w,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"]),(0,s.Wm)(w,{visible:l.visibleAdd,onCancel:o.cancelAdd},{default:(0,s.w5)((()=>[(0,s._)("div",nv,[(0,s._)("div",wv,[dv,(0,s.Wm)(nt.hw,{"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>l.quantity=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",cv,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.cancelAdd&&o.cancelAdd(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},pv),(0,s._)("button",{disabled:!l.quantity||0==l.quantity,class:(0,st.C_)([{"!tw-bg-green-500":0!=l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[5]||(e[5]=(...t)=>o.addQuantity&&o.addQuantity(...t))},hv,10,mv)])])])),_:1},8,["visible","onCancel"])])}var bv={components:{UpdateProductVariant:vb},props:["variant"],data(){return{visible:!1,visibleAdd:!1,deletePopup:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1},cancelAdd(){this.visibleAdd=!1},update(t){console.log("from actions: ",t)},addQuantity(){this.newVariant.quantity=parseInt(this.newVariant.quantity)+parseInt(this.quantity),this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(this.quantity),this.quantity=1,this.cancelAdd()},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}},mounted(){this.newVariant=this.variant}};const xv=(0,p.Z)(bv,[["render",fv]]);var yv=xv,vv={components:{UpdateVariantActions:yv,ProductOffers:Gb},data(){return{currency:c,serverUrl:w,isLoading:!1,isLoaded:!1,variantId:1,variants:[],color:"",size:"",quantity:0,stockAlert:0,image:"",imageFile:null,offers:[],warehouse:0,product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},variants:{valid:!0,message:""},warehouse:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},id(){return this.$route.params.id},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;t.variants=this.variants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t,product_id:this.id}))),va.update(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message}),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},getLastVariantId(t){return Math.max(...t.map((t=>t.id)))+1},validate(){return this.formStatus.name=Pt(this.product.name,"Product name"),this.formStatus.buyingPrice=Pt(this.product.buyingPrice,"Buying price"),this.formStatus.sellingPrice=Pt(this.product.sellingPrice,"Selling price"),this.formStatus.link_store=Pt(this.product.link_store,"Link store"),this.formStatus.link_video=Pt(this.product.link_video,"Link video"),this.formStatus.transport_mode=Pt(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=Pt(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=Pt(this.product.country_of_purchase,"Country of purchase"),this.formStatus.description=Pt(this.product.description,"Description"),this.formStatus.variants=$t(this.variants),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.sellingPrice&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.description.valid&&this.formStatus.variants.valid},addVariant(){if(0==this.warehouse)return this.$alert({type:"warning",title:"Select warehouse"}),!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,warehouse:this.warehouses.find((t=>t.id==this.warehouse)),stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.color="",this.size="",this.quantity=0,this.stockAlert=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.quantity<=0&&(this.quantity=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return Sb.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),t)),this.$handleApiError)},getProduct(){return va.getProduct(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{variations:e,buying_price:r,selling_price:a,ref:s,link_video:l,link_store:o,expedition_date:i,transport_mode:n,country_of_purchase:w,name:d,description:c,deliveries:u,image:p,offers:m}=t.data.data.products;return this.variants=e,this.product.buyingPrice=r,this.product.sellingPrice=a,this.product.name=d,this.product.reference=s,this.product.link_video=l,this.product.link_store=o,this.product.expedition_date=i?i.split(" ")[0]:null,this.product.transport_mode=n,this.product.country_of_purchase=w,this.product.description=c,this.image=p,this.offers=m,this.variantId=this.getLastVariantId(e),this.selectedDeliveries=u.map((t=>t.delivery_id)),this.isLoaded=!0,t}}),this.$handleApiError)},getData(){this.isLoaded=!1,Promise.allSettled([this.getWarhouses(),this.getProduct()]).then((t=>{t.every((t=>"fulfilled"==t.status))&&(this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getData()}};const _v=(0,p.Z)(vv,[["render",iv]]);var kv=_v;const Cv={class:"tw-pb-14"},Dv=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Show product informations")],-1),Sv={key:0},zv={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Uv={class:"tw-grid tw-grid-cols-12 tw-gap-2"},qv={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Pv=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Name:",-1),Lv={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Av={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},$v=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Reference:",-1),Wv={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Ev={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Tv=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Buying Price:",-1),Fv={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Vv={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Ov=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Selling Price:",-1),Iv={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},jv={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Rv=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Delivered:",-1),Mv={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Nv={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Hv=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Sent:",-1),Yv={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Zv={class:"tw-col-span-12 md:tw-col-span-12 tw-flex tw-gap-2 tw-flex-col tw-flex-wrap"},Kv=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Description:",-1),Bv={class:"tw-text-neutral-800 tw-font-medium"},Qv={key:2,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},Jv={key:3,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Gv={class:"tw-grid tw-grid-cols-12 tw-gap-2"},Xv={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},t_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Store Link:",-1),e_=["href"],r_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},a_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Video Link:",-1),s_=["href"],l_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},o_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Expidition Date:",-1),i_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},n_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},w_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Transport Mode:",-1),d_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},c_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},u_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Country Of Purchase:",-1),p_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},m_={key:4,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},g_={key:5,class:"tw-border bg-white tw-w-full tw-rounded-md"},h_={key:6,class:"tw-text-neutral-700 tw-font-bold tw-mt-5 tw-mb-1"},f_={key:7,class:"tw-overflow-hidden tw-border bg-white tw-w-full tw-rounded-md"},b_={class:"tw-max-w-full tw-overflow-auto"},x_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},y_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},v_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},__={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},k_={key:0},C_={key:1},D_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},S_={class:"tw-px-6 tw-py-2"},z_={class:"tw-px-6 tw-py-2"},U_={class:"tw-flex tw-flex-col"},q_={class:"tw-px-6 tw-py-2"},P_={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},L_=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),A_=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),$_=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1),W_={class:"tw-px-6 tw-py-2"},E_={class:"tw-flex tw-flex-col tw-font-medium"},T_=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1);function F_(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ProductTracking");return(0,s.wg)(),(0,s.iD)("div",Cv,[Dv,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Sv,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",zv,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",Uv,[(0,s._)("div",qv,[Pv,(0,s._)("p",Lv,(0,st.zw)(l.product.name),1)]),(0,s._)("div",Av,[$v,(0,s._)("p",Wv,(0,st.zw)(l.product.ref),1)]),(0,s._)("div",Ev,[Tv,(0,s._)("p",Fv,(0,st.zw)(l.product.buying_price)+" "+(0,st.zw)(l.currency),1)]),(0,s._)("div",Vv,[Ov,(0,s._)("p",Iv,(0,st.zw)(l.product.selling_price)+" "+(0,st.zw)(l.currency),1)]),(0,s._)("div",jv,[Rv,(0,s._)("p",Mv,(0,st.zw)(o.qtyTotalDelivered),1)]),(0,s._)("div",Nv,[Hv,(0,s._)("p",Yv,(0,st.zw)(o.qtyTotalSent),1)]),(0,s._)("div",Zv,[Kv,(0,s._)("p",Bv,(0,st.zw)(l.product.description),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",Qv,"Expidition Infos")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Jv,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",Gv,[(0,s._)("div",Xv,[t_,(0,s._)("a",{target:"_blank",href:l.product.link_store,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,st.zw)(l.product.link_store),9,e_)]),(0,s._)("div",r_,[a_,(0,s._)("a",{target:"_blank",href:l.product.link_video,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,st.zw)(l.product.link_video),9,s_)]),(0,s._)("div",l_,[o_,(0,s._)("p",i_,(0,st.zw)(l.product.expedition_date.split(" ")[0]),1)]),(0,s._)("div",n_,[w_,(0,s._)("p",d_,(0,st.zw)(l.product.transport_mode),1)]),(0,s._)("div",c_,[u_,(0,s._)("p",p_,(0,st.zw)(l.product.country_of_purchase),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",m_,"Tracking")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",g_,[(0,s.Wm)(n,{product:l.product},null,8,["product"])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",h_,"Variations")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",f_,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",b_,[(0,s._)("table",x_,[(0,s._)("thead",y_,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","size","color","qty","Stock Alert"],(t=>(0,s._)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",v_,(0,st.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",__,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",k_,(0,st.zw)(t.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",C_,(0,st.zw)(e+1),1)):(0,s.kq)("",!0)]),(0,s._)("th",D_,(0,st.zw)(t.size),1),(0,s._)("td",S_,(0,st.zw)(t.color),1),(0,s._)("td",z_,[(0,s._)("div",U_,[(0,s._)("span",null,"Initial: "+(0,st.zw)(t.quantity),1)])]),(0,s._)("td",q_,(0,st.zw)(t.stockAlert),1)])))),128)),(0,s._)("tr",P_,[L_,A_,$_,(0,s._)("td",W_,[(0,s._)("div",E_,[(0,s._)("span",null,"Total: "+(0,st.zw)(o.qtyTotal),1)])]),T_])])])])])])])):(0,s.kq)("",!0)])}const V_={class:"tw-flex tw-items-ce tw-gap-1 tw-border-b tw-border-solid tw-border-neutral-200"},O_=["onClick"];function I_(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingTable");return(0,s.wg)(),(0,s.j4)(Us._,{flat:"",class:"tw-p-1"},{default:(0,s.w5)((()=>[(0,s._)("div",V_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,onClick:e=>l.tab=t.id,class:(0,st.C_)(["tw-px-4 tw-py-2 tw-rounded-t hover:tw-border-orange-500/50 tw-duration-300 tw-border tw-border-solid tw-border-neutral-200 tw-text-neutral-500 tw-border-b-0",{"tw-bg-orange-500 !tw-text-white tw-border-transparent":t.id==l.tab}])},(0,st.zw)(t.name),11,O_)))),128))]),(0,s.kq)("",!0),(0,s.Wm)(Ls.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(As.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{product:r.product,source:t.source},null,8,["product","source"])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const j_={class:"tw-mt-5"},R_={class:"tw-max-w-full tw-overflow-auto"},M_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},N_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},H_={key:0},Y_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Z_={key:1},K_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"};function B_(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingRow");return(0,s.wg)(),(0,s.iD)("div",j_,[(0,s._)("div",R_,[(0,s._)("table",M_,[(0,s._)("thead",N_,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",H_,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","name","quantity","actions"],(t=>(0,s._)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Y_,(0,st.zw)(t),1)],2))),64))])):(0,s.kq)("",!0),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",Z_,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","quantity","actions"],(t=>(0,s._)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",K_,(0,st.zw)(t),1)],2))),64))])):(0,s.kq)("",!0)]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{item:t,index:e+1,key:t.id,source:r.source},null,8,["item","index","source"])))),128))])])])])}const Q_={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},J_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},G_={class:"tw-flex tw-items-start tw-h-full"},X_={key:0},tk={key:1},ek={key:0,scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},rk={class:"tw-px-6 tw-py-2"},ak={key:0},sk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},lk={key:0,class:"tw-h-fit tw-py-2"},ok=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),ik={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},nk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),wk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},dk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),ck={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},uk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),pk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},mk={key:1},gk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},hk={key:0,class:"tw-h-fit tw-py-2"},fk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),bk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},xk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),yk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},vk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),_k={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},kk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Ck={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Dk={class:"tw-px-6 tw-py-2 tw-space-x-3"};function Sk(t,e,r,a,l,o){const i=(0,s.up)("ShowProductVariantActions");return(0,s.wg)(),(0,s.iD)("tr",Q_,[(0,s._)("th",J_,[(0,s._)("div",G_,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",X_,(0,st.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",tk,(0,st.zw)(r.index),1)):(0,s.kq)("",!0)])]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("th",ek,(0,st.zw)(r.item.name),1)):(0,s.kq)("",!0),(0,s._)("td",rk,["warehouses"==r.source?((0,s.wg)(),(0,s.iD)("div",ak,[(0,s._)("div",sk,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,st.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Tt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",lk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[ok,(0,s._)("td",ik,(0,st.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[nk,(0,s._)("td",wk,(0,st.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[dk,(0,s._)("td",ck,(0,st.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[uk,(0,s._)("td",pk,(0,st.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0),"deliveries"==r.source?((0,s.wg)(),(0,s.iD)("div",mk,[(0,s._)("div",gk,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,st.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Tt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",hk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[fk,(0,s._)("td",bk,(0,st.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[xk,(0,s._)("td",yk,(0,st.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[vk,(0,s._)("td",_k,(0,st.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[kk,(0,s._)("td",Ck,(0,st.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("td",Dk,[(0,s._)("div",null,[(0,s.Wm)(i,{type:r.source,source:r.item},null,8,["type","source"])])])])}function zk(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetails");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(lt.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue-lighten-2",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})])),_:1}),(0,s.Wm)(i,{visible:l.visible,onCancel:o.cancel,type:r.type,source:r.source},null,8,["visible","onCancel","type","source"])])}const Uk={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},qk={class:"tw-p-5"},Pk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Lk=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},"SIZE"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"},"COLOR"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1);function Ak(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetailsRow"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Uk,[(0,s.Wm)(lt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",qk,[(0,s._)("table",Pk,[Lk,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.source.product_variations,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{index:e,key:t.id,item:t,type:r.type},null,8,["index","item","type"])))),128))])]),(0,s.kq)("",!0)])])])),_:1},8,["visible","onCancel"])])}const $k={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Wk={class:"tw-w-4 tw-px-2 tw-py-1"},Ek={key:0},Tk={key:1},Fk={class:"tw-w-4 tw-px-2 tw-py-1"},Vk={class:"tw-w-4 tw-px-2 tw-py-1"},Ok={class:"tw-w-4 tw-px-2 tw-py-1"},Ik={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},jk={key:0,class:"tw-h-fit tw-py-2"},Rk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Mk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Nk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),Hk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Yk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Zk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Kk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Bk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"};function Qk(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",$k,[(0,s._)("td",Wk,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",Ek,(0,st.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",Tk,(0,st.zw)(r.index+1),1)):(0,s.kq)("",!0)]),(0,s._)("td",Fk,(0,st.zw)(r.item.size),1),(0,s._)("td",Vk,(0,st.zw)(r.item.color),1),(0,s._)("td",Ok,[(0,s._)("div",null,[(0,s._)("div",Ik,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null," Total: "+(0,st.zw)(r.item.on_hand_quantity),1),(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Tt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",jk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Rk,(0,s._)("td",Mk,(0,st.zw)(r.item.movements_total_confirmed_quantity),1)]),(0,s._)("tr",null,[Nk,(0,s._)("td",Hk,(0,st.zw)(r.item.movements_total_not_confirmed_quantity),1)]),(0,s._)("tr",null,[Yk,(0,s._)("td",Zk,(0,st.zw)(r.item.total_shipped_quantity),1)]),(0,s._)("tr",null,[Kk,(0,s._)("td",Bk,(0,st.zw)(r.item.total_delivered_quantity),1)])])])])):(0,s.kq)("",!0)])),_:1})])])])}var Jk={props:["type","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}}};const Gk=(0,p.Z)(Jk,[["render",Qk]]);var Xk=Gk,tC={props:["visible","source","type"],components:{ProductVariantDetailsRow:Xk},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const eC=(0,p.Z)(tC,[["render",Ak]]);var rC=eC,aC={props:["product","source","type"],components:{ProductVariantDetails:rC},data(){return{visible:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1}},mounted(){console.log(this.source)}};const sC=(0,p.Z)(aC,[["render",zk]]);var lC=sC,oC={components:{ShowProductVariantActions:lC},props:["source","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{get_total_quantity(t,e="on_hand_quantity"){let r=0;return t.forEach((t=>{r+=t[e]})),r}}};const iC=(0,p.Z)(oC,[["render",Sk]]);var nC=iC,wC={props:["product","source"],components:{ProductTrackingRow:nC},computed:{user(){return this.$store.getters["user/user"]},items(){return this.product.tracking[this.source]}},methods:{},mounted(){}};const dC=(0,p.Z)(wC,[["render",B_]]);var cC=dC,uC={components:{ProductTrackingTable:cC},props:["product"],data(){return{tab:1,tabs:[{id:1,name:"Deliveries",source:"deliveries"},{id:2,name:"Warehouses",source:"warehouses"}]}}};const pC=(0,p.Z)(uC,[["render",I_]]);var mC=pC,gC={components:{ProductTracking:mC},data(){return{currency:c,isLoading:!1,isLoaded:!1,variantId:1,variants:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""}}},computed:{user(){return this.$store.getters["user/user"]},qtyTotalDelivered(){let t=0;return this.product.tracking.deliveries.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),t},qtyTotalSent(){let t=0;return this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.movements_total_confirmed_quantity,t+=e.movements_total_not_confirmed_quantity}))})),t},qtyTotal(){if(this.isLoaded){let t=0;return this.product.variations.forEach((e=>{t+=e.quantity})),t}return 0}},methods:{getProduct(){const t=this.$route.params.id;va.getProduct(t).then((t=>{"SUCCESS"==t.data.code&&(this.product=t.data.data.products,this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getProduct()}};const hC=(0,p.Z)(gC,[["render",F_]]);var fC=hC;class bC{async paginate(t="",e){return await $.getCookie(),L.post("api/supply-requests"+t,e)}async create(t){return await $.getCookie(),L.post("api/supply-requests/new",t)}async update(t,e){return await $.getCookie(),L.post("api/supply-requests/"+t,e)}async delete(t){return await $.getCookie(),L["delete"]("api/supply-requests/"+t)}}var xC=new bC;const yC=(t,e="success")=>{tt.dispatch("alert/toggleAlert",{type:e,title:t})},vC={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},_C=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),kC={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},CC=["disabled"],DC=["disabled"];var SC={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=(0,xe.iH)(!1),l=(0,i.oR)(),o=async()=>{a.value=!0,await xC["delete"](r.item.id).then((t=>{"SUCCESS"==t.data.code&&(l.dispatch("supply-request/deleteSupplyRequest",r.item.id),yC("Deleted Successfully"),n())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),yC(e,"error"),n()})),a.value=!1},n=()=>{e("update:visible",!1)};return(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{visible:r.visible,onCancel:n,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",vC,[_C,(0,s._)("div",kC,[(0,s._)("button",{onClick:n,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,CC),(0,s._)("button",{onClick:o,disabled:a.value,type:"button",class:(0,st.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(it.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,st.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,DC)])])])),_:1},8,["visible","closeable"])])}}};const zC=SC;var UC=zC;const qC=[{name:"Pending",value:"pending",style:"tw-text-yellow-600 tw-bg-yellow-100",text:"tw-text-yellow-600"},{name:"Accepted",value:"accepted",style:"tw-text-emerald-600 tw-bg-emerald-100",text:"tw-text-emerald-600"},{name:"Refused",value:"refused",style:"tw-text-red-600 tw-bg-red-100",text:"tw-text-red-600"}],PC={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},LC={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},AC=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),$C={class:"tw-p-5 tw-space-y-4"},WC=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),EC={class:"tw-font-semibold tw-mt-1"},TC={class:"tw-flex tw-items-center"},FC={key:0,class:"tw-flex-1"},VC=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),OC={class:"tw-font-semibold tw-mt-1"},IC={class:"tw-text-blue-500"},jC={class:"tw-text-green-500"},RC={class:"tw-flex-1"},MC=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),NC=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),HC={class:"tw-font-semibold tw-mt-1"},YC={key:0},ZC=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),KC={class:"tw-font-semibold tw-mt-1"};var BC={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=(0,xe.Vh)(r,"item"),l=(0,s.Fl)((()=>qC.find((t=>t.value==a.value.status)))),o=()=>{e("update:visible",!1)};return(t,e)=>{const i=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{visible:r.visible,onCancel:o},{default:(0,s.w5)((()=>[(0,s._)("div",PC,[(0,s._)("div",LC,[AC,(0,s._)("div",$C,[(0,s._)("div",null,[WC,(0,s._)("p",EC,(0,st.zw)((0,xe.SU)(a).product.name),1)]),(0,s._)("div",TC,[(0,xe.SU)(a).product_variation.color||(0,xe.SU)(a).product_variation.size?((0,s.wg)(),(0,s.iD)("div",FC,[VC,(0,s._)("p",OC,[(0,s._)("span",IC,(0,st.zw)((0,xe.SU)(a).product_variation.color),1),(0,s.Uk)(),(0,s._)("span",jC,(0,st.zw)((0,xe.SU)(a).product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",RC,[MC,(0,s._)("p",{class:(0,st.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[(0,xe.SU)(l).style]])},(0,st.zw)((0,xe.SU)(l).name),3)])]),(0,s._)("div",null,[NC,(0,s._)("p",HC,(0,st.zw)((0,xe.SU)(a).note),1)]),(0,xe.SU)(a).admin_note?((0,s.wg)(),(0,s.iD)("div",YC,[ZC,(0,s._)("p",KC,(0,st.zw)((0,xe.SU)(a).admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:o,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const QC=BC;var JC=QC;const GC={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var XC={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,xe.qj)({delete:!1,show:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",GC,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,xe.SU)(JC),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[1]||(a[1]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,xe.SU)(UC),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[3]||(a[3]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const tD=XC;var eD=tD;const rD={class:"tw-px-4 tw-py-2"},aD={class:"tw-px-4 tw-py-2 tw-truncate"},sD={class:"tw-max-w-[200px] tw-truncate"},lD={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},oD={class:"tw-text-blue-500"},iD={class:"tw-text-green-500"},nD={class:"tw-px-4 tw-py-2 tw-truncate"},wD={class:"tw-max-w-[200px] tw-truncate"},dD={class:"tw-px-4 tw-py-2 tw-truncate"},cD={class:"tw-px-4 tw-py-2"},uD={class:"tw-text-sm tw-whitespace-nowrap"};var pD={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,xe.Vh)(e,"item"),a=(0,s.Fl)((()=>qC.find((t=>t.value==r.value.status))));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",rD,(0,st.zw)((0,xe.SU)(r).id),1),(0,s._)("td",aD,[(0,s._)("p",sD,(0,st.zw)((0,xe.SU)(r).product.name),1)]),(0,s._)("td",lD,[(0,s._)("p",null,[(0,s._)("span",oD,(0,st.zw)((0,xe.SU)(r).product_variation.color),1),(0,s.Uk)(),(0,s._)("span",iD,(0,st.zw)((0,xe.SU)(r).product_variation.size),1)])]),(0,s._)("td",nD,[(0,s._)("p",wD,(0,st.zw)((0,xe.SU)(r).quantity),1)]),(0,s._)("td",dD,[(0,s._)("p",{class:(0,st.C_)(["tw-max-w-[200px] tw-w-fit tw-truncate tw-px-2 tw-py-1 tw-rounded tw-font-semibold tw-text-xs tw-uppercase",[(0,xe.SU)(a).style]])},(0,st.zw)((0,xe.SU)(r).status),3)]),(0,s._)("td",cD,[(0,s._)("p",uD,(0,st.zw)((0,xe.SU)(ke())((0,xe.SU)(r).created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,xe.SU)(eD),{item:(0,xe.SU)(r)},null,8,["item"])])]))}};const mD=pD;var gD=mD;const hD={class:""},fD={class:"tw-overflow-x-auto tw-bg-white"},bD={class:"tw-inline-block tw-min-w-full tw-align-middle"},xD={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},yD={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},vD=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),_D={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},kD={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},CD=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),DD=[CD],SD={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},zD={colspan:"11"},UD={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},qD=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),PD=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),LD=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),AD=[PD,LD],$D={class:"tw-mt-6"};var WD={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=t,a=(0,xe.Vh)(r,"options"),l=(0,xe.Vh)(r,"data"),o=(0,xe.Vh)(r,"loading"),i=t=>{e("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",hD,[(0,s._)("div",fD,[(0,s._)("div",bD,[(0,s._)("div",xD,[(0,s._)("table",yD,[vD,!(0,xe.SU)(o)&&(0,xe.SU)(l).length>0?((0,s.wg)(),(0,s.iD)("tbody",_D,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(l),(t=>((0,s.wg)(),(0,s.j4)((0,xe.SU)(gD),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,xe.SU)(o)||0!=(0,xe.SU)(l).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",kD,DD)),(0,xe.SU)(o)?((0,s.wg)(),(0,s.iD)("tbody",SD,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",zD,[(0,s._)("div",UD,[qD,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},AD))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",$D,[(0,s.Wm)((0,xe.SU)(dn),{from:(0,xe.SU)(a).from,to:(0,xe.SU)(a).to,"last-page":(0,xe.SU)(a).last_page,"per-page":(0,xe.SU)(a).per_page,total:(0,xe.SU)(a).total,"current-page":(0,xe.SU)(a).current_page,onPageChange:i},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const ED=WD;var TD=ED;const FD={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},VD={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},OD=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),ID={class:"tw-p-5 tw-space-y-4"},jD={class:""},RD={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},MD={key:0,class:"tw-text-xs tw-text-gray-400"},ND={class:"tw-relative"},HD=["disabled"],YD=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),ZD=["value"],KD=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),BD={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},QD={key:0},JD={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},GD={key:0,class:"tw-text-xs tw-text-gray-400"},XD={class:"tw-relative"},tS=["disabled"],eS=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),rS=["value"],aS=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),sS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),oS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},iS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Message",-1),nS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},wS={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},dS=["disabled"],cS=(0,s._)("span",null,"Add",-1);var uS={__name:"SupplyRequestAdd",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=(0,i.oR)(),o=(0,xe.iH)(!1),n=(0,xe.qj)({request:{product_id:"no-value-selected",product_variation_id:"no-value-selected",quantity:0,note:""},errors:{}}),w=(0,s.Fl)((()=>l.getters["product/products"])),d=(0,s.Fl)((()=>l.getters["product/fetched"])),c=(0,s.Fl)((()=>"no-value-selected"==n.request.product_id?[]:w.value.find((t=>t.id==n.request.product_id)).variations));(0,s.YP)((()=>n.request.product_id),(()=>{1!=c.value.length?n.request.product_variation_id="no-value-selected":n.request.product_variation_id=c.value[0].id}));const u=()=>{e("update:visible",!1)},p=async()=>{o.value=!0,await xC.create(n.request).then((t=>{"SUCCESS"==t.data.code&&(yC("Request has been added"),l.dispatch("supply-request/addSupplyRequest",t.data.supply_request),u())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)n.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&yC("Something went wrong","error")})),o.value=!1};return(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(l,{visible:r.visible,onCancel:u},{default:(0,s.w5)((()=>[(0,s._)("div",FD,[(0,s._)("div",VD,[OD,(0,s._)("div",ID,[(0,s._)("div",jD,[(0,s._)("label",RD,[(0,s.Uk)("Product "),(0,xe.SU)(d)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",MD," loading..."))]),(0,s._)("div",ND,[(0,s.wy)((0,s._)("select",{disabled:!(0,xe.SU)(d),onChange:e[0]||(e[0]=t=>n.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>n.request.product_id=t),class:(0,st.C_)([[n.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[YD,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(w),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.name]),value:t.id,key:t.id},(0,st.zw)(t.name),11,ZD)))),128))],42,HD),[[a.bM,n.request.product_id]]),KD]),n.errors.product_id?((0,s.wg)(),(0,s.iD)("label",BD,(0,st.zw)(n.errors.product_id),1)):(0,s.kq)("",!0)]),(0,xe.SU)(c).length>1?((0,s.wg)(),(0,s.iD)("div",QD,[(0,s._)("label",JD,[(0,s.Uk)("Variation "),(0,xe.SU)(d)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",GD," loading..."))]),(0,s._)("div",XD,[(0,s.wy)((0,s._)("select",{disabled:!(0,xe.SU)(d)||"no-value-selected"==n.request.product_id,onChange:e[2]||(e[2]=t=>n.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>n.request.product_variation_id=t),class:(0,st.C_)([[n.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[eS,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(c),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.name]),value:t.id,key:t.id},(0,st.zw)(t.size)+" "+(0,st.zw)(t.size&&t.color?"|":"")+" "+(0,st.zw)(t.color),11,rS)))),128))],42,tS),[[a.bM,n.request.product_variation_id]]),aS]),n.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",sS,(0,st.zw)(n.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[lS,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>n.request.quantity=t),onInput:e[5]||(e[5]=t=>n.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,st.C_)([[n.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,34),[[a.nr,n.request.quantity]]),n.errors.quantity?((0,s.wg)(),(0,s.iD)("label",oS,(0,st.zw)(n.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[iS,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[6]||(e[6]=t=>n.request.note=t),onInput:e[7]||(e[7]=t=>n.errors.note=null),type:"number",min:"0",max:"10000",class:(0,st.C_)([[n.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for your request",rows:"2",required:""},null,34),[[a.nr,n.request.note]]),n.errors.note?((0,s.wg)(),(0,s.iD)("label",nS,(0,st.zw)(n.errors.note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",wS,[(0,s._)("button",{onClick:u,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:p,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),cS],8,dS)])])])])),_:1},8,["visible"])}}};const pS=uS;var mS=pS;const gS={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},hS={class:"mb-5 tw-flex tw-w-full tw-justify-between"},fS=(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ",-1),bS=(0,s._)("span",null,"Create",-1),xS=[bS],yS=(0,s._)("div",{class:"tw-mt-5"},null,-1);var vS={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,xe.qj)({create:!1}),a=(0,xe.qj)({}),l=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),o=(0,xe.iH)(!0),n=async()=>{o.value=!0,await xC.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(a,t.data.data.supply_requests))})),o.value=!1},w=t=>{console.log(t)};return n(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",gS,[(0,s._)("div",hS,[fS,(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.create=!0),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-orange-100 tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},xS),r.create?((0,s.wg)(),(0,s.j4)((0,xe.SU)(mS),{key:0,visible:r.create,"onUpdate:visible":e[1]||(e[1]=t=>r.create=t)},null,8,["visible"])):(0,s.kq)("",!0)])]),yS,(0,s.Wm)((0,xe.SU)(TD),{onPageChange:w,data:(0,xe.SU)(l),loading:o.value,options:a},null,8,["data","loading","options"])]))}};const _S=vS;var kS=_S;const CS={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},DS=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),SS={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},zS=["disabled"],US=["disabled"];var qS={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=(0,xe.iH)(!1),l=(0,i.oR)(),o=async()=>{a.value=!0,await xC["delete"](r.item.id).then((t=>{"SUCCESS"==t.data.code&&(l.dispatch("supply-request/deleteSupplyRequest",r.item.id),yC("Deleted Successfully"),n())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),yC(e,"error"),n()})),a.value=!1},n=()=>{e("update:visible",!1)};return(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{visible:r.visible,onCancel:n,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",CS,[DS,(0,s._)("div",SS,[(0,s._)("button",{onClick:n,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,zS),(0,s._)("button",{onClick:o,disabled:a.value,type:"button",class:(0,st.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(it.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,st.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,US)])])])),_:1},8,["visible","closeable"])])}}};const PS=qS;var LS=PS;const AS={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},$S={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},WS=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),ES={class:"tw-p-5 tw-space-y-4"},TS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),FS={class:"tw-font-semibold tw-mt-1"},VS={class:"tw-flex tw-items-center"},OS={key:0,class:"tw-flex-1"},IS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),jS={class:"tw-font-semibold tw-mt-1"},RS={class:"tw-text-blue-500"},MS={class:"tw-text-green-500"},NS={class:"tw-flex-1"},HS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),YS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),ZS={class:"tw-font-semibold tw-mt-1"},KS={key:0},BS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),QS={class:"tw-font-semibold tw-mt-1"};var JS={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=(0,xe.Vh)(r,"item"),l=(0,s.Fl)((()=>qC.find((t=>t.value==a.value.status)))),o=()=>{e("update:visible",!1)};return(t,e)=>{const i=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{visible:r.visible,onCancel:o},{default:(0,s.w5)((()=>[(0,s._)("div",AS,[(0,s._)("div",$S,[WS,(0,s._)("div",ES,[(0,s._)("div",null,[TS,(0,s._)("p",FS,(0,st.zw)((0,xe.SU)(a).product.name),1)]),(0,s._)("div",VS,[(0,xe.SU)(a).product_variation.color||(0,xe.SU)(a).product_variation.size?((0,s.wg)(),(0,s.iD)("div",OS,[IS,(0,s._)("p",jS,[(0,s._)("span",RS,(0,st.zw)((0,xe.SU)(a).product_variation.color),1),(0,s.Uk)(),(0,s._)("span",MS,(0,st.zw)((0,xe.SU)(a).product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",NS,[HS,(0,s._)("p",{class:(0,st.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[(0,xe.SU)(l).style]])},(0,st.zw)((0,xe.SU)(l).name),3)])]),(0,s._)("div",null,[YS,(0,s._)("p",ZS,(0,st.zw)((0,xe.SU)(a).note),1)]),(0,xe.SU)(a).admin_note?((0,s.wg)(),(0,s.iD)("div",KS,[BS,(0,s._)("p",QS,(0,st.zw)((0,xe.SU)(a).admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:o,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const GS=JS;var XS=GS;const tz={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},ez={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},rz=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),az={class:"tw-p-5 tw-space-y-4"},sz={class:""},lz={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},oz={key:0,class:"tw-text-xs tw-text-gray-400"},iz={class:"tw-relative"},nz=["disabled"],wz=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),dz=["value"],cz=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),uz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pz={key:0},mz={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},gz={key:0,class:"tw-text-xs tw-text-gray-400"},hz={class:"tw-relative"},fz=["disabled"],bz=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),xz=["value"],yz=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),vz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_z=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),kz=["disabled"],Cz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},Dz={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Sz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's Message",-1),zz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Uz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leave note for seller",-1),qz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Pz={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},Lz=["disabled"],Az=(0,s._)("span",null,"Save",-1);var $z={__name:"SupplyRequestTableActionsEdit",props:["visible","item"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=(0,i.oR)(),o=(0,xe.iH)(!1),n=(0,xe.qj)({request:JSON.parse(JSON.stringify(r.item)),errors:{}}),w=(0,s.Fl)((()=>l.getters["product/products"])),d=(0,s.Fl)((()=>l.getters["product/fetched"])),c=(0,s.Fl)((()=>"no-value-selected"==n.request.product_id?[]:w.value.find((t=>t.id==n.request.product_id)).variations));(0,s.YP)((()=>n.request.product_id),(()=>{1!=c.value.length?n.request.product_variation_id="no-value-selected":n.request.product_variation_id=c.value[0].id}));const u=()=>{e("update:visible",!1)},p=async()=>{o.value=!0,await xC.update(r.item.id,n.request).then((t=>{"SUCCESS"==t.data.code&&(yC("Request has been updated"),l.dispatch("supply-request/updateSupplyRequest",t.data.supply_request),u())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)n.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&yC("Something went wrong","error")})),o.value=!1};return(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(l,{visible:r.visible,onCancel:u},{default:(0,s.w5)((()=>[(0,s._)("div",tz,[(0,s._)("div",ez,[rz,(0,s._)("div",az,[(0,s._)("div",sz,[(0,s._)("label",lz,[(0,s.Uk)("Product "),(0,xe.SU)(d)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",oz," loading..."))]),(0,s._)("div",iz,[(0,s.wy)((0,s._)("select",{disabled:!(0,xe.SU)(d)||!0,onChange:e[0]||(e[0]=t=>n.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>n.request.product_id=t),class:(0,st.C_)([[n.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[wz,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(w),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.name]),value:t.id,key:t.id},(0,st.zw)(t.name),11,dz)))),128))],42,nz),[[a.bM,n.request.product_id]]),cz]),n.errors.product_id?((0,s.wg)(),(0,s.iD)("label",uz,(0,st.zw)(n.errors.product_id),1)):(0,s.kq)("",!0)]),(0,xe.SU)(c).length>1?((0,s.wg)(),(0,s.iD)("div",pz,[(0,s._)("label",mz,[(0,s.Uk)("Variation "),(0,xe.SU)(d)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",gz," loading..."))]),(0,s._)("div",hz,[(0,s.wy)((0,s._)("select",{disabled:!(0,xe.SU)(d)||"no-value-selected"==n.request.product_id||!0,onChange:e[2]||(e[2]=t=>n.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>n.request.product_variation_id=t),class:(0,st.C_)([[n.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[bz,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(c),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.name]),value:t.id,key:t.id},(0,st.zw)(t.size)+" "+(0,st.zw)(t.size&&t.color?"|":"")+" "+(0,st.zw)(t.color),11,xz)))),128))],42,fz),[[a.bM,n.request.product_variation_id]]),yz]),n.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",vz,(0,st.zw)(n.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[_z,(0,s.wy)((0,s._)("input",{disabled:"accepted"==n.request.status,"onUpdate:modelValue":e[4]||(e[4]=t=>n.request.quantity=t),onInput:e[5]||(e[5]=t=>n.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,st.C_)([[n.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,42,kz),[[a.nr,n.request.quantity]]),"accepted"==n.request.status?((0,s.wg)(),(0,s.iD)("label",Cz,(0,st.zw)("cannot edit, request has already been accepted"))):(0,s.kq)("",!0),n.errors.quantity?((0,s.wg)(),(0,s.iD)("label",Dz,(0,st.zw)(n.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[Sz,(0,s.wy)((0,s._)("textarea",{disabled:"","onUpdate:modelValue":e[6]||(e[6]=t=>n.request.note=t),onInput:e[7]||(e[7]=t=>n.errors.note=null),type:"number",min:"0",max:"10000",class:(0,st.C_)([[n.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Seller's note here",rows:"2",required:""},null,34),[[a.nr,n.request.note]]),n.errors.note?((0,s.wg)(),(0,s.iD)("label",zz,(0,st.zw)(n.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[Uz,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>n.request.admin_note=t),onInput:e[9]||(e[9]=t=>n.errors.admin_note=null),type:"number",min:"0",max:"10000",class:(0,st.C_)([[n.errors.admin_note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for the seller",rows:"2",required:""},null,34),[[a.nr,n.request.admin_note]]),n.errors.admin_note?((0,s.wg)(),(0,s.iD)("label",qz,(0,st.zw)(n.errors.admin_note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",Pz,[(0,s._)("button",{onClick:u,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:p,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Az],8,Lz)])])])])),_:1},8,["visible"])}}};const Wz=$z;var Ez=Wz;const Tz={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var Fz={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,xe.qj)({delete:!1,show:!1,edit:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",Tz,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.edit=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-amber-500/20 hover:tw-bg-amber-600 tw-bg-amber-500 hover:tw-border-amber-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil")])),_:1})]),r.edit?((0,s.wg)(),(0,s.j4)((0,xe.SU)(Ez),{key:0,item:e.item,visible:r.edit,"onUpdate:visible":a[1]||(a[1]=t=>r.edit=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,xe.SU)(XS),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[3]||(a[3]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[4]||(a[4]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,xe.SU)(LS),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[5]||(a[5]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const Vz=Fz;var Oz=Vz;const Iz={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},jz={class:"tw-relative tw-inline-block tw-text-left"},Rz=["disabled"],Mz={key:0,class:"tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},Nz=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),Hz=[Nz],Yz={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},Zz={class:"tw-w-full tw-max-w-[200px] tw-mx-auto tw-p-2"},Kz={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},Bz=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-2"}," Select a status ",-1),Qz={class:"tw-bg-white tw-divide-y"},Jz=["onClick"];var Gz={__name:"SupplyRequestStatus",props:["item"],setup(t){const e=t,r=(0,xe.iH)(!1),a=(0,xe.iH)(!1),l=(0,xe.qj)({}),o=(0,i.oR)(),n=(0,xe.iH)(qC[0]),w=()=>{r.value&&(r.value=!1)},d=async t=>{a.value=!0,await xC.update(e.item.id,{...e.item,status:t.value}).then((e=>{"SUCCESS"==e.data.code&&(yC("Updated successfully"),o.dispatch("supply-request/updateSupplyRequest",e.data.supply_request),n.value=t)})),a.value=!1};return n.value=qC.find((t=>t.value==e.item.status)),(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",Iz,[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",jz,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),type:"button",disabled:a.value,class:(0,st.C_)([[n.value.style,a.value&&"!tw-bg-gray-50 !tw-text-gray-200 tw-cursor-not-allowed hover:!tw-shadow-none"],"tw-inline-flex tw-relative tw-w-[120px] tw-truncate tw-justify-center tw-items-center tw-gap-x-1.5 tw-rounded-md tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm"]),id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[(0,s._)("p",{class:(0,st.C_)([[n.value.style,a.value&&"tw-invisible"],"tw-w-full tw-mx-auto tw-text-center tw-truncate tw-text-gray-500 tw-px-2"])},(0,st.zw)(n.value.name),3),a.value?((0,s.wg)(),(0,s.iD)("svg",Mz,Hz)):(0,s.kq)("",!0)],10,Rz),l.status?((0,s.wg)(),(0,s.iD)("p",Yz,(0,st.zw)(l.status),1)):(0,s.kq)("",!0)]),(0,s.Wm)(o,{visible:r.value,onCancel:e[1]||(e[1]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",Zz,[(0,s._)("div",Kz,[Bz,(0,s._)("div",Qz,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(qC).filter((t=>t.value!=n.value.value)),(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>d(t),key:t.value,class:(0,st.C_)([[t.text],"hover:tw-bg-gray-100 tw-border-solid tw-justify-start tw-items-center tw-w-full tw-text-start tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm"]),role:"menuitem"},[(0,s._)("span",null,(0,st.zw)(t.name),1)],10,Jz)))),128))])])])])),_:1},8,["visible"])])),[[ae.L,w]])])}}};const Xz=Gz;var tU=Xz;const eU={class:"tw-px-4 tw-py-2"},rU={class:"tw-px-4 tw-py-2 tw-truncate"},aU={class:"tw-max-w-[200px] tw-truncate"},sU={class:"tw-px-4 tw-py-2 tw-truncate"},lU={class:"tw-max-w-[200px] tw-truncate"},oU={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},iU={class:"tw-flex tw-items-center tw-gap-2 tw-text-sm"},nU={key:0,class:"tw-px-1 tw-rounded-md tw-bg-orange-500 tw-text-white"},wU={key:1,class:"tw-px-1 tw-rounded-md tw-bg-green-500 tw-text-white"},dU={class:"tw-px-4 tw-py-2 tw-truncate"},cU={class:"tw-max-w-[200px] tw-truncate"},uU={class:"tw-px-4 tw-py-2 tw-truncate"},pU={class:"tw-px-4 tw-py-2"},mU={class:"tw-text-sm tw-whitespace-nowrap"};var gU={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,xe.Vh)(e,"item");return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",eU,(0,st.zw)((0,xe.SU)(r).id),1),(0,s._)("td",rU,[(0,s._)("p",aU,(0,st.zw)((0,xe.SU)(r).seller.firstname)+" "+(0,st.zw)((0,xe.SU)(r).seller.lastname),1)]),(0,s._)("td",sU,[(0,s._)("p",lU,(0,st.zw)((0,xe.SU)(r).product.name),1)]),(0,s._)("td",oU,[(0,s._)("div",iU,[(0,xe.SU)(r).product_variation.color?((0,s.wg)(),(0,s.iD)("div",nU,(0,st.zw)((0,xe.SU)(r).product_variation.color),1)):(0,s.kq)("",!0),(0,xe.SU)(r).product_variation.size?((0,s.wg)(),(0,s.iD)("div",wU,(0,st.zw)((0,xe.SU)(r).product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("td",dU,[(0,s._)("p",cU,(0,st.zw)((0,xe.SU)(r).quantity),1)]),(0,s._)("td",uU,[(0,s._)("div",null,[(0,s.Wm)((0,xe.SU)(tU),{item:(0,xe.SU)(r)},null,8,["item"])])]),(0,s._)("td",pU,[(0,s._)("p",mU,(0,st.zw)((0,xe.SU)(ke())((0,xe.SU)(r).created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,xe.SU)(Oz),{item:(0,xe.SU)(r)},null,8,["item"])])]))}};const hU=gU;var fU=hU;const bU={class:""},xU={class:"tw-overflow-x-auto tw-bg-white"},yU={class:"tw-inline-block tw-min-w-full tw-align-middle"},vU={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},_U={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},kU=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[50px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),CU={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},DU={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},SU=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),zU=[SU],UU={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},qU={colspan:"11"},PU={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},LU=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),AU=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),$U=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),WU=[AU,$U],EU={class:"tw-mt-6"};var TU={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=t,a=(0,xe.Vh)(r,"options"),l=(0,xe.Vh)(r,"data"),o=(0,xe.Vh)(r,"loading"),i=t=>{e("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",bU,[(0,s._)("div",xU,[(0,s._)("div",yU,[(0,s._)("div",vU,[(0,s._)("table",_U,[kU,!(0,xe.SU)(o)&&(0,xe.SU)(l).length>0?((0,s.wg)(),(0,s.iD)("tbody",CU,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(l),(t=>((0,s.wg)(),(0,s.j4)((0,xe.SU)(fU),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,xe.SU)(o)||0!=(0,xe.SU)(l).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",DU,zU)),(0,xe.SU)(o)?((0,s.wg)(),(0,s.iD)("tbody",UU,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",qU,[(0,s._)("div",PU,[LU,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},WU))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",EU,[(0,s.Wm)((0,xe.SU)(dn),{from:(0,xe.SU)(a).from,to:(0,xe.SU)(a).to,"last-page":(0,xe.SU)(a).last_page,"per-page":(0,xe.SU)(a).per_page,total:(0,xe.SU)(a).total,"current-page":(0,xe.SU)(a).current_page,onPageChange:i},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const FU=TU;var VU=FU;const OU={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},IU=(0,s._)("div",{class:"mb-5 tw-flex tw-w-full tw-justify-between"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ")],-1),jU=(0,s._)("div",{class:"tw-mt-5"},null,-1);var RU={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,xe.qj)({}),a=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),l=(0,xe.iH)(!0),o=async()=>{l.value=!0,await xC.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(r,t.data.data.supply_requests))})),l.value=!1},n=t=>{console.log(t)};return o(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",OU,[IU,jU,(0,s.Wm)((0,xe.SU)(VU),{onPageChange:n,data:(0,xe.SU)(a),loading:l.value,options:r},null,8,["data","loading","options"])]))}};const MU=RU;var NU=MU,HU={name:"products",path:"/products",component:Wa,meta:{module:"product"},children:[{name:"product/list",path:"",component:Kw,meta:{module:"product",subModule:"product/list",title:"Products List",gate:"show_all_products"}},{name:"product/newlist",path:"/newproducts",component:Ig,meta:{module:"product",subModule:"product/newlist",title:"Products List",gate:"show_all_products"}},{name:"product/add",path:"add",component:ex,meta:{module:"product",subModule:"product/add",title:"Add Product",gate:"create_product"}},{name:"product/seller/request",path:"seller/request",component:kS,meta:{module:"product",subModule:"product/seller/request",title:"Supply Request",gate:"access_to_seller_sales"}},{name:"product/admin/request",path:"admin/request",component:NU,meta:{module:"product",subModule:"product/admin/request",title:"Supply Request",gate:"access_to_sales"}},{name:"product/update",path:"update/:id",component:kv,meta:{module:"product",subModule:"product/update",title:"Update Product",gate:"update_product"}},{name:"product/show",path:":id",component:fC,meta:{module:"product",subModule:"product/show",title:"Product Informations",gate:"view_product"}}]};const YU={class:"mb-5 tw-flex tw-justify-between tw-items-center"},ZU=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Users List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all users")],-1),KU={key:0},BU=(0,s._)("span",{class:"text-white"}," Add User ",-1),QU={key:0},JU={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},GU={class:"mb-5 tw-flex"},XU={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},tq={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},eq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},rq=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Role",-1),aq={class:"tw-relative"},sq=["value"],lq={class:""};function oq(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.users.length},[(0,s._)("div",YU,[ZU,t.$can("create_user")?((0,s.wg)(),(0,s.iD)("div",KU,[(0,s.Wm)(lt.T,{color:"primary-color",link:"",to:{name:"user/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{icon:"mdi-plus",class:"mr-2 text-white"}),BU])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",QU,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",JU,[(0,s._)("div",GU,[(0,s.Wm)(lt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",XU,[(0,s.Wm)(re.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,st.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",tq,[(0,s._)("div",eq,[rq,(0,s._)("div",aq,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.role=t),class:"tw-w-full focus:tw-border-orange-400 tw-capitalize tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.roles,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t},(0,st.zw)(t),9,sq)))),128))],512),[[a.bM,o.role]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),(0,s._)("div",lq,[(0,s.Wm)(w,{users:i.filteredUsers,columns:o.columns},null,8,["users","columns"])])])):(0,s.kq)("",!0)])}const iq={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},nq={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},wq={class:"tw-text-xs tw-text-gray-700 tw- tw-bg-gray-50"},dq=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),cq={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},uq=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),pq={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},mq={class:"tw-px-6 tw-py-4"},gq={class:"tw-px-6 tw-py-4"},hq={class:"tw-px-6 tw-py-4"},fq={class:"tw-px-6 tw-py-4"},bq={class:"tw-px-6 tw-py-4"},xq={key:0,class:"tw-text-red-500"},yq={key:1},vq={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},_q=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),kq={key:1,class:"tw-text-neutral-700"},Cq={class:"tw-px-6 tw-py-4"},Dq={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Sq={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},zq={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Uq=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),qq=["value"],Pq={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Lq={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Aq={class:"tw-text-white"};function $q(t,e,r,l,o,i){const n=(0,s.up)("RoleName"),w=(0,s.up)("UserStatus"),d=(0,s.up)("UserActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",iq,[(0,s._)("table",nq,[(0,s._)("thead",wq,[(0,s._)("tr",null,[dq,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",cq,(0,st.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[uq,(0,s._)("th",pq,(0,st.zw)(e.id),1),(0,s._)("td",mq,(0,st.zw)(e.firstname)+" "+(0,st.zw)(e.lastname),1),(0,s._)("td",gq,[(0,s.Wm)(n,{role:e.role_name},null,8,["role"])]),(0,s._)("td",hq,(0,st.zw)(e.email),1),(0,s._)("td",fq,(0,st.zw)(e.phone),1),(0,s._)("td",bq,[e.last_action?((0,s.wg)(),(0,s.iD)("div",yq,[1==i.isOnline(i.lastSeen(e.last_action))?((0,s.wg)(),(0,s.iD)("div",vq,[_q,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",kq,(0,st.zw)(i.lastSeen(e.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",xq," Never Connected "))]),(0,s._)("td",Cq,[t.$can("update_user_status")?((0,s.wg)(),(0,s.j4)(w,{key:0,user:e},null,8,["user"])):(0,s.kq)("",!0)]),(0,s._)("td",Dq,[(0,s.Wm)(d,{user:e},null,8,["user"])])])))),128))])])]),(0,s._)("div",Sq,[(0,s._)("div",zq,[Uq,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,st.zw)(t),9,qq)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Pq,[(0,s._)("div",Lq,(0,st.zw)(i.prevRange+1)+" - "+(0,st.zw)(o.currentPage==i.pageCount?r.users.length:i.nextRange)+" of "+(0,st.zw)(r.users.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(lt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Aq,(0,st.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function Wq(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[t.$can("update_user")?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,to:"/users/update/"+r.user.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_user")?((0,s.wg)(),(0,s.j4)(lt.T,{key:1,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_user")&&"admin"!==r.user.role_name?((0,s.wg)(),(0,s.j4)(lt.T,{key:2,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this user?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var Eq={props:["rowIndex","user"],name:"userActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,rt["delete"](this.user.id).then((t=>{"USER_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"User Deleted Successfully"})),rt.all().then((t=>{"SHOW_ALL_USERS"==t.data.code&&this.$store.dispatch("user/setUsers",t.data.data.users)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Tq=(0,p.Z)(Eq,[["render",Wq]]);var Fq=Tq;const Vq={key:0,class:"tw-flex tw-items-center"};function Oq(t,e,r,a,l,o){return"admin"!==r.user.role_name?((0,s.wg)(),(0,s.iD)("div",Vq,[(0,s.Wm)(Rg.G,{disabled:l.isLoading,loading:l.isLoading,onChange:o.handleChange,color:"primary-color",flat:!0,modelValue:l.checked,"onUpdate:modelValue":e[0]||(e[0]=t=>l.checked=t),density:"compact","hide-details":!0},null,8,["disabled","loading","onChange","modelValue"])])):(0,s.kq)("",!0)}var Iq={props:["rowIndex","prop","user"],data(){return{isLoading:!1,checked:!1}},watch:{},methods:{handleChange(){const t={id:this.user.id,status:this.checked?"true":"false"};this.isLoading=!0,rt.updateStatus(t).then((t=>{"STATUS_USER_UPDATED"==t.data.code&&(this.$alert({type:"success",title:"Status updated"}),this.setUpdatedUser(this.user.id,this.checked))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},setUpdatedUser(t,e){let r=localStorage.getItem("updatedUsers"),a={};r?(a=JSON.parse(r),a[t]=e):a[t]=e,localStorage.setItem("updatedUsers",JSON.stringify(a))},getUpdatedUsers(){let t=localStorage.getItem("updatedUsers");if(!t)return{};let e=JSON.parse(t);return e}},mounted(){const t=this.getUpdatedUsers();Object.keys(t).includes(`${this.user.id}`)?this.checked=1==t[this.model.id]:this.checked=1==this.user.status}};const jq=(0,p.Z)(Iq,[["render",Oq]]);var Rq=jq;const Mq={class:"tw-flex tw-items-center tw-h-full"};function Nq(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Mq,[(0,s._)("div",{class:(0,st.C_)([o.current.bg,"tw-px-2 tw-py-1 tw-rounded-lg"])},[(0,s._)("div",{class:(0,st.C_)([o.current.text,"tw-text-sm tw-uppercase"])},(0,st.zw)(r.role),3)],2)])}var Hq={props:["role"],data(){return{variants:{default:{bg:"tw-bg-neutral-500/10",text:"tw-text-neutral-500"},admin:{bg:"tw-bg-pink-500/10",text:"tw-text-pink-500"},agente:{bg:"tw-bg-green-500/10",text:"tw-text-green-500"},delivery:{bg:"tw-bg-blue-500/10",text:"tw-text-blue-500"}}}},computed:{current(){return["admin","delivery","agente"].includes(this.role)?this.variants[this.role]:this.variants["default"]}}};const Yq=(0,p.Z)(Hq,[["render",Nq]]);var Zq=Yq,Kq={props:["columns","users"],components:{UserActions:Fq,UserStatus:Rq,RoleName:Zq},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.users.length/this.paginationLimit)},items(){return this.users.slice(this.prevRange,this.nextRange)}},methods:{lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,Cs.x)(e)},isOnline(t){let e=["Just Now","one minute ago","2 minutes ago","3 minutes ago"];return e.includes(t)}}};const Bq=(0,p.Z)(Kq,[["render",$q]]);var Qq=Bq,Jq={components:{UsersTable:Qq},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,role:"All",search:"",columns:[{prop:"id",name:"#"},{prop:"fullname",name:"Name"},{prop:"role_name",name:"Role"},{prop:"email",name:"Email"},{prop:"phone",name:"Phone Number"},{prop:"last_seen",name:"Last Seen"},{prop:"status",name:"Active"},{name:"Acions",prop:"users"}]}},computed:{fetched(){return this.$store.getters["user/fetched"]},users(){return this.$store.getters["user/users"]},roles(){let t=new Set(["All",...this.users.map((t=>t.role_name))]);return t},filteredUsers(){const t=this.role,e=this.search;return this.users.filter((r=>("all"===t.toLocaleLowerCase()||t.toLocaleLowerCase()===r.role_name)&&!!(r.firstname.toLowerCase().includes(e.toLowerCase())||r.lastname.toLowerCase().includes(e.toLowerCase())||r.role_name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase())||r.phone.toLowerCase().includes(e.toLowerCase()))))}},methods:{getRoles(){rt.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},getUsers(){rt.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)}},mounted(){localStorage.removeItem("updatedUsers"),this.fetched||this.getUsers()}};const Gq=(0,p.Z)(Jq,[["render",oq]]);var Xq=Gq,tP=r(988);const eP=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new user")],-1),rP={key:0},aP={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},sP={class:"tw-w-full"},lP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),oP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},iP={class:"tw-w-full"},nP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),wP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},dP={class:"tw-w-full"},cP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),uP={class:"tw-w-full"},pP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),mP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gP={class:"tw-w-full"},hP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),fP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},bP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),xP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),yP=["value"],vP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),_P=["value"],kP=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),CP=(0,s._)("span",{class:"text-white"},"Add",-1),DP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),SP={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},zP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),UP={class:"tw-w-full"},qP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),PP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},LP={class:"tw-w-full"},AP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),$P={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},WP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),EP={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},TP=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),FP=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function VP(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[eP,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",rP,[(0,s.Wm)(n)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",aP,[(0,s._)("div",null,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",sP,[lP,(0,s.Wm)(nt.hw,{error:!o.formStatus.firstname.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:o.user.firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.user.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",oP,(0,st.zw)(o.formStatus.firstname.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",iP,[nP,(0,s.Wm)(nt.hw,{error:!o.formStatus.lastname.valid,"hide-details":!0,onKeyup:e[2]||(e[2]=t=>i.resetError("lastname")),modelValue:o.user.lastname,"onUpdate:modelValue":e[3]||(e[3]=t=>o.user.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",wP,(0,st.zw)(o.formStatus.lastname.message),1)])])),_:1}),i.isSeller?((0,s.wg)(),(0,s.j4)(Va.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",dP,[cP,(0,s.Wm)(nt.hw,{"hide-details":!0,modelValue:o.user.username,"onUpdate:modelValue":e[4]||(e[4]=t=>o.user.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",uP,[pP,(0,s.Wm)(nt.hw,{error:!o.formStatus.email.valid,"hide-details":!0,onKeyup:e[5]||(e[5]=t=>i.resetError("email")),modelValue:o.user.email,"onUpdate:modelValue":e[6]||(e[6]=t=>o.user.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",mP,(0,st.zw)(o.formStatus.email.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",gP,[hP,(0,s.Wm)(nt.hw,{error:!o.formStatus.phone.valid,"hide-details":!0,onKeyup:e[7]||(e[7]=t=>i.resetError("phone")),modelValue:o.user.phone,"onUpdate:modelValue":e[8]||(e[8]=t=>o.user.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",fP,(0,st.zw)(o.formStatus.phone.message),1)])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(Va.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Rg.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),bP,(0,s._)("div",null,[(0,s.Wm)(tP.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Va.D,{key:2,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[xP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,yP)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Va.D,{key:3,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[vP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,_P)))),128))],512),[[a.bM,o.deliveryCity]]),kP,(0,s.Wm)(nt.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(lt.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[CP])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[DP,(0,s.Wm)(jg.r,{class:"text-capitalize",items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[14]||(e[14]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["items","modelValue"])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",SP,[zP,(0,s.Wm)(Rg.G,{modelValue:o.user.status,"onUpdate:modelValue":e[15]||(e[15]=t=>o.user.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",UP,[qP,(0,s.Wm)(nt.hw,{error:!o.formStatus.password.valid,"hide-details":!0,onKeyup:e[16]||(e[16]=t=>i.resetError("password")),modelValue:o.user.password,"onUpdate:modelValue":e[17]||(e[17]=t=>o.user.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",PP,(0,st.zw)(o.formStatus.password.message),1)])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LP,[AP,(0,s.Wm)(nt.hw,{error:!o.formStatus.confirmPassword.valid,"hide-details":!0,onKeyup:e[18]||(e[18]=t=>i.resetError("confirmPassword")),modelValue:o.user.confirmPassword,"onUpdate:modelValue":e[19]||(e[19]=t=>o.user.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",$P,(0,st.zw)(o.formStatus.confirmPassword.message),1)])])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(Va.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[WP,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,st.zw)(i.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,st.zw)(t.fee)+" "+(0,st.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(it.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",EP,[(0,s.Wm)(lt.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[TP])),_:1}),(0,s.Wm)(lt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[FP])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var OP={data(){return{localUrl:n,currency:c,isFormReady:!1,isLoading:!1,city:1,isMultipleProducts:!1,isHavingAllProducts:!1,id:1,deliveryCity:1,deliveryCityFee:0,deliveryCities:[],product:0,selectedProducts:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},user:{firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},role:3}},computed:{roles(){return this.$store.getters["user/roles"]},rolesFetched(){return this.$store.getters["user/fetchedRoles"]},cities(){return this.$store.getters["city/cities"]},citiesFetched(){return this.$store.getters["city/fetched"]},products(){return this.$store.getters["product/products"]},productsFethched(){return this.$store.getters["product/fetched"]},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},isSeller(){return 4===this.role},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{},methods:{removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.id,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.id+=1,this.deliveryCity=1,this.deliveryCityFee=0},create(){if(!this.validate())return!1;this.isLoading=!0;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};rt.register(t).then((t=>{"USER_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.user={firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},this.role=3,this.product_id=null,this.deliveryCities=[],this.id=1)})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){this.formStatus.email=Ut(this.user.email),this.formStatus.firstname=Pt(this.user.firstname),this.formStatus.lastname=Pt(this.user.lastname),this.formStatus.phone=Pt(this.user.phone),this.formStatus.password=qt(this.user.password),this.formStatus.confirmPassword=At(this.user.password,this.user.confirmPassword);const t=this.formStatus.email.valid,e=this.formStatus.firstname.valid,r=this.formStatus.lastname.valid,a=this.formStatus.phone.valid,s=this.formStatus.password.valid,l=this.formStatus.confirmPassword.valid;return t&&e&&r&&s&&l&&a},getRoles(){return this.rolesFetched?new Promise((t=>t())):rt.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)},async getCities(){return this.citiesFetched?new Promise((t=>t())):rt.cities().then((t=>{this.$store.dispatch("city/cities",t.data.data),this.$store.dispatch("city/setFetched",!0)}))},async getProducts(){return this.productsFethched?new Promise((t=>t())):va.all().then((t=>{this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0)}),(t=>this.$handleApiError(t)))}},mounted(){Promise.allSettled([this.getRoles(),this.getCities(),this.getProducts()]).then((t=>{console.log(t),this.isFormReady=!0}),(t=>this.$handleApiError(t)))}};const IP=(0,p.Z)(OP,[["render",VP]]);var jP=IP;const RP=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update user informations")],-1),MP={key:0},NP={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},HP={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},YP={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},ZP={class:"tw-w-full"},KP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),BP={class:"tw-w-full"},QP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),JP={class:"tw-w-full"},GP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),XP={class:"tw-w-full"},tL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),eL={class:"tw-w-full"},rL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),aL={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},sL=(0,s._)("span",null,"Update Password: ",-1),lL={class:"tw-w-full"},oL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),iL={class:"tw-w-full"},nL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),wL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),dL={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},cL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),uL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),pL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),mL=["value"],gL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),hL=["value"],fL=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),bL=(0,s._)("span",{class:"text-white"},"Add",-1),xL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),yL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},vL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),_L=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function kL(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[RP,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",MP,[(0,s.Wm)(n)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",NP,[(0,s._)("div",HP,[(0,s.Uk)(" User ID: "),(0,s._)("span",YP,(0,st.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ZP,[KP,(0,s.Wm)(nt.hw,{"error-messages":o.formStatus.firstname.message,modelValue:o.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>o.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",BP,[QP,(0,s.Wm)(nt.hw,{"error-messages":o.formStatus.lastname.message,modelValue:o.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",JP,[GP,(0,s.Wm)(nt.hw,{modelValue:o.username,"onUpdate:modelValue":e[2]||(e[2]=t=>o.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",XP,[tL,(0,s.Wm)(nt.hw,{"error-messages":o.formStatus.email.message,modelValue:o.email,"onUpdate:modelValue":e[3]||(e[3]=t=>o.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",eL,[rL,(0,s.Wm)(nt.hw,{"error-messages":o.formStatus.phone.message,modelValue:o.phone,"onUpdate:modelValue":e[4]||(e[4]=t=>o.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",aL,[sL,(0,s.Wm)(Rg.G,{modelValue:o.updatePassword,"onUpdate:modelValue":e[5]||(e[5]=t=>o.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),o.updatePassword?((0,s.wg)(),(0,s.j4)(Va.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",lL,[oL,(0,s.Wm)(nt.hw,{"error-messages":o.formStatus.password.message,modelValue:o.password,"onUpdate:modelValue":e[6]||(e[6]=t=>o.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),o.updatePassword?((0,s.wg)(),(0,s.j4)(Va.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",iL,[nL,(0,s.Wm)(nt.hw,{"error-messages":o.formStatus.confirmPassword.message,modelValue:o.confirmPassword,"onUpdate:modelValue":e[7]||(e[7]=t=>o.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[wL,(0,s.Wm)(jg.r,{class:"text-capitalize","error-messages":o.formStatus.role,items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[8]||(e[8]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","items","modelValue"])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",dL,[cL,(0,s.Wm)(Rg.G,{modelValue:o.status,"onUpdate:modelValue":e[9]||(e[9]=t=>o.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(Va.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Rg.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),uL,(0,s._)("div",null,[(0,s.Wm)(tP.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[11]||(e[11]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Va.D,{key:1,class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[pL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,mL)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(Va.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[gL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,hL)))),128))],512),[[a.bM,o.deliveryCity]]),fL,(0,s.Wm)(nt.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[14]||(e[14]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(lt.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[bL])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Va.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[xL,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,st.zw)(o.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,st.zw)(t.fee)+" "+(0,st.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(it.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",yL,[(0,s.Wm)(lt.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[vL])),_:1}),(0,s.Wm)(lt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[_L])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var CL={data(){return{serverUrl:w,currency:c,isFetched:!1,isRolesFetched:!1,isUserFetched:!1,isProductsFetched:!1,isLoading:!1,updatePassword:!1,autoId:1,cities:[],deliveryCity:1,deliveryCityFee:0,city:1,deliveryCities:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",username:"",role:"",user_image:null,status:!1,product:null,products:[],selectedProducts:[],isMultipleProducts:!1,isHavingAllProducts:!1}},computed:{roles(){return this.$store.getters["user/roles"]},isFormReady(){return this.isFetched},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,username:this.username,phone:this.phone,email:this.email,password:this.password,product_id:this.product,deliveryCities:this.deliveryCities,city:this.city,role:this.role,status:this.status?1:0}},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{role(t){console.log("changed"),2===t&&0===this.products.length&&(this.isProductsFetched=!1)}},methods:{update(){if(!this.validate())return!1;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};this.isLoading=!0,rt.update(t,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["email"]=Ut(this.email),this.formStatus["firstname"]=Pt(this.firstname),this.formStatus["lastname"]=Pt(this.lastname),this.formStatus["phone"]=Pt(this.phone),this.formStatus["password"]=qt(this.password),this.formStatus["confirmPassword"]=At(this.password,this.confirmPassword);const t=this.formStatus["email"].valid,e=this.formStatus["firstname"].valid,r=this.formStatus["lastname"].valid,a=this.formStatus["phone"].valid;if(this.updatePassword){const s=this.formStatus["password"].valid,l=this.formStatus["confirmPassword"].valid;return t&&e&&r&&s&&l&&a}return t&&e&&r&&a},removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.autoId,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.autoId+=1,this.deliveryCity=1,this.deliveryCityFee=0},async getRoles(){await rt.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isRolesFetched=!0}})).catch(this.$handleApiError)},async getUser(){return rt.getUser(this.$route.params.id).then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;if(this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.username=e.username,this.email=e.email,this.phone=e.phone,this.role=e.role,2==e.role&&(this.isHavingAllProducts=1==e.having_all,this.selectedProducts=e?.product),this.user_image=e.photo,this.status=1==e.status,this.isUserFetched=!0,3==e.role){console.log("this is delivery"),this.city=e?.city?.id;let t=0;this.deliveryCities=e.deliveryPlaces.map((e=>(parseInt(e.id)>=t&&(t=parseInt(e.id)+1),{id:e.id,city_id:e.city_id,fee:e.fee}))),this.autoId=t}}})).catch(this.$handleApiError)},async getProducts(){return va.all().then((t=>{this.products=t.data.data.products,this.products.length>0?this.product=this.user.product_id:this.product=null,this.isProductsFetched=!0}),(t=>this.$handleApiError(t)))},async getCities(){return rt.cities().then((t=>{console.log(t.data),this.cities=t.data.data}))}},async mounted(){0==this.roles.length?await this.getRoles():this.isRolesFetched=!0,Promise.allSettled([this.getRoles(),this.getProducts(),this.getCities(),this.getUser()]).then((()=>{this.selectedProducts.length==this.products.length&&(this.product=0,this.isMultipleProducts=!1),this.isFetched=!0}),(t=>this.$handleApiError(t)))}};const DL=(0,p.Z)(CL,[["render",kL]]);var SL=DL;const zL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add New Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new Role")],-1),UL={key:0},qL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},PL={class:"md:tw-w-1/2 tw-w-full"},LL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role Name",-1),AL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$L={class:"mb-3 text-body-2 tw-text-zinc-700"},WL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},EL={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},TL=["onClick"],FL={key:0},VL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},OL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),IL=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function jL(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[zL,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",UL,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",qL,[(0,s._)("div",null,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",PL,[LL,(0,s.Wm)(nt.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",AL,(0,st.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",$L,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",WL,(0,st.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",EL,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,st.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},[(0,s._)("span",null,(0,st.zw)(t),1)],10,TL)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",FL,(0,st.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",VL,[(0,s.Wm)(lt.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[OL])),_:1}),(0,s.Wm)(lt.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[IL])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var RL={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0,rt.createRole({name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_ADDED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles(),this.name="",this.selectedPermissions=[])})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.name,"Name"),this.formStatus.permissions=Wt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRoles(){rt.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){0==this.roles.length?await this.getRoles():this.isFormReady=!0,this.permissions=this.$store.getters["user/permissions"]}};const ML=(0,p.Z)(RL,[["render",jL]]);var NL=ML;const HL={class:"mb-5 tw-flex tw-justify-between tw-items-center"},YL=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Roles List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all Roles")],-1),ZL={key:0},KL=(0,s._)("span",{class:"text-white"}," Add Role ",-1),BL={key:0},QL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},JL={class:"mb-5 tw-flex"},GL={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},XL={class:""};function tA(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("RolesTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.roles.length},[(0,s._)("div",HL,[YL,t.$can("create_role")?((0,s.wg)(),(0,s.iD)("div",ZL,[(0,s.Wm)(lt.T,{color:"primary-color",link:"",to:{name:"user/addRole"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{icon:"mdi-plus",class:"mr-2 text-white"}),KL])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",BL,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",QL,[(0,s._)("div",JL,[(0,s.Wm)(lt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",GL,[(0,s.Wm)(re.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",XL,[(0,s.Wm)(w,{roles:i.filteredRoles,columns:o.columns},null,8,["roles","columns"])])])):(0,s.kq)("",!0)])}const eA={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},rA={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},aA={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},sA=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),lA={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},oA=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),iA={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},nA={class:"tw-px-6 tw-py-4 tw-uppercase"},wA={class:"tw-px-6 tw-py-4"},dA={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},cA={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},uA={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},pA=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),mA=["value"],gA={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},hA={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},fA={class:"tw-text-white"};function bA(t,e,r,l,o,i){const n=(0,s.up)("RolePermissions"),w=(0,s.up)("RoleActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",eA,[(0,s._)("table",rA,[(0,s._)("thead",aA,[(0,s._)("tr",null,[sA,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",lA,(0,st.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[oA,(0,s._)("th",iA,(0,st.zw)(t.id),1),(0,s._)("td",nA,(0,st.zw)(t.name),1),(0,s._)("td",wA,[(0,s.Wm)(n,{role:t},null,8,["role"])]),(0,s._)("td",dA,[(0,s.Wm)(w,{role:t},null,8,["role"])])])))),128))])])]),(0,s._)("div",cA,[(0,s._)("div",uA,[pA,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,st.zw)(t),9,mA)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",gA,[(0,s._)("div",hA,(0,st.zw)(i.prevRange+1)+" - "+(0,st.zw)(o.currentPage==i.pageCount?r.roles.length:i.nextRange)+" of "+(0,st.zw)(r.roles.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(lt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",fA,(0,st.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const xA={key:0},yA={class:"tw-flex tw-flex-wrap tw-gap-2"};function vA(t,e,r,a,l,o){const i=(0,s.up)("popup");return["admin","agente","delivery"].includes(r.role.name)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xA,[t.$can("update_role")?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,to:"/users/roles/update/"+r.role.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_role")&&"admin"!==r.role.name?((0,s.wg)(),(0,s.j4)(lt.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopupDelete=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this Role?</p> You won't be able to revert this!",loading:l.isLoadingDelete,visible:l.showPopupDelete,onResolved:o.handleResolvedDelete},null,8,["loading","visible","onResolved"]),(0,s.Wm)(i,{noConfirm:!0,type:"info",title:"Permissions",loading:l.isLoadingShow,visible:l.showPopupShow,onResolved:o.handleResolvedShow},{default:(0,s.w5)((()=>[(0,s._)("div",yA,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer",key:t},(0,st.zw)(t),1)))),128))])])),_:1},8,["loading","visible","onResolved"])]))}var _A={props:["rowIndex","prop","role"],name:"roleActions",data(){return{showPopupDelete:!1,showPopupShow:!1,isLoadingDelete:!1,isLoadingShow:!1,permissions:["create_user","delete_user","update_user","show_user"]}},methods:{handleResolvedDelete(t){t?(this.isLoadingDelete=!0,rt.deleteRole(this.role.id).then((t=>{"ROLE_DELETED"==t.data.code&&(this.isLoadingDelete=!1,this.$alert({type:"success",title:"Role Deleted Successfully"})),rt.roles().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("user/setRoles",t.data.data.roles)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoadingDelete=!1,this.showPopupDelete=!1}))):this.showPopupDelete=!1},handleResolvedShow(t){t?console.log(t):this.showPopupShow=!1}}};const kA=(0,p.Z)(_A,[["render",vA]]);var CA=kA;const DA={class:"tw-h-100 tw-flex tw-items-center tw-max-w-[750px] tw-flex-wrap tw-gap-2"},SA=["title"];function zA(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",DA,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-0 tw-px-2 tw-text-xs tw-h-5 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg",title:t.description,key:t.name},(0,st.zw)(t.name),9,SA)))),128))])}var UA={props:["role"],name:"rolePermissions",data(){return{}},computed:{permissions(){return this.role.permissions.map((t=>t))}}};const qA=(0,p.Z)(UA,[["render",zA]]);var PA=qA,LA={props:["columns","roles"],components:{RoleActions:CA,RolePermissions:PA},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.roles.length/this.paginationLimit)},items(){return this.roles.slice(this.prevRange,this.nextRange)}},methods:{}};const AA=(0,p.Z)(LA,[["render",bA]]);var $A=AA,WA={components:{RolesTable:$A},data(){return{localUrl:n,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Role Name"},{prop:"permissions",name:"Permissions"},{name:"Acions",prop:"roles"}]}},computed:{roles(){return this.$store.getters["user/roles"]},fetched(){return this.$store.getters["user/fetchedRoles"]},filteredRoles(){return this.roles.filter((t=>{const e=t.permissions.map((t=>t.name));return!!(""===this.search||t.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())||e.includes(this.search.toLocaleLowerCase())||e.some((t=>t.toLowerCase().includes(this.search.toLocaleLowerCase()))))}))}},methods:{getRoles(){return rt.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)}},mounted(){this.rolesFetched||this.getRoles()}};const EA=(0,p.Z)(WA,[["render",tA]]);var TA=EA;const FA=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update existing role")],-1),VA={key:0},OA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},IA={class:"md:tw-w-1/2 tw-w-full"},jA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Role Name ",-1),RA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},MA={class:"mb-3 text-body-2 tw-text-zinc-700"},NA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},HA={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},YA=["onClick"],ZA={key:0},KA={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},BA=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),QA=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function JA(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[FA,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",VA,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",OA,[(0,s._)("div",null,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",IA,[jA,(0,s.Wm)(nt.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",RA,(0,st.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",MA,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",NA,(0,st.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",HA,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,st.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},(0,st.zw)(t),11,YA)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",ZA,(0,st.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",KA,[(0,s.Wm)(lt.T,{link:"",to:"/users/roles",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[BA])),_:1}),(0,s.Wm)(lt.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[QA])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var GA={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,rt.updateRole(this.$route.params.id,{name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_UPDATED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles())})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},addPermissions(t){return t},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.name,"Name"),this.formStatus.permissions=Wt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRole(){rt.getRole(this.$route.params.id).then((t=>{this.name=t.data.data.role,this.selectedPermissions=[...t.data.data.permission],this.isFormReady=!0}))},getRoles(){rt.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getRole(),this.permissions=this.$store.getters["user/permissions"]}};const XA=(0,p.Z)(GA,[["render",JA]]);var t$=XA,e$={name:"users",path:"/users",component:Wa,meta:{module:"user"},children:[{name:"user/list",path:"",component:Xq,meta:{module:"user",subModule:"user/list",title:"Users List",gate:"show_all_users"}},{name:"user/add",path:"add",component:jP,meta:{module:"user",subModule:"user/add",title:"Add User",gate:"create_user"}},{name:"user/update",path:"update/:id",component:SL,meta:{module:"user",subModule:"user/update",title:"Update User",gate:"update_user"}},{name:"user/addRole",path:"addRole",component:NL,meta:{module:"user",subModule:"user/addRole",title:"Add Role",gate:"create_role"}},{name:"user/roles",path:"roles",component:TA,meta:{module:"user",subModule:"user/roles",title:"Roles List",gate:"show_all_roles"}},{name:"user/updateRole",path:"roles/update/:id",component:t$,meta:{module:"user",subModule:"user/updateRole",title:"Update Role",gate:"view_role"}}]};const r$={class:"mb-5 tw-flex tw-justify-between tw-items-center"},a$=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Sales List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your sales")],-1),s$={key:0},l$=(0,s._)("span",{class:"text-white"}," Add Sale ",-1),o$={key:0},i$={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},n$={class:"mb-5 tw-flex"},w$={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},d$={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},c$={class:""};function u$(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("SalesAnalytics"),d=(0,s.up)("IndexFilter"),c=(0,s.up)("SalesTable"),u=(0,s.up)("AddSale"),p=(0,s.up)("NewAddSale");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",r$,[a$,t.$can("create_sale")&&i.fetched?((0,s.wg)(),(0,s.iD)("div",s$,[(0,s.Wm)(lt.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{icon:"mdi-plus",class:"mr-2 text-white"}),l$])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",o$,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",i$,[(0,s.Wm)(w,{sales:i.sales},null,8,["sales"]),(0,s._)("div",n$,[(0,s.Wm)(lt.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",w$,[(0,s.Wm)(re.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by client, phone..."},null,512),[[a.nr,o.search]])]),(0,s._)("div",d$,[(0,s.Wm)(it.t,{class:"tw-text-gray-500",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pound")])),_:1}),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.searchId=t),type:"number",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search By ID"},null,512),[[a.nr,o.searchId]])]),(0,s.Wm)(ar.C),(0,s.Wm)(lt.T,{onClick:i.handleReset,icon:"",rounded:"lg",variant:"flat",size:"small",disabled:o.isButtonDisabled,loading:o.isLoadingReset,color:"red",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",icon:"mdi-restart-alert",size:"xx-large"})])),_:1},8,["onClick","disabled","loading"]),(0,s.Wm)(lt.T,{onClick:i.getSales,icon:"",rounded:"lg",variant:"flat",size:"small",color:"blue",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",icon:"mdi-autorenew",size:"xx-large"})])),_:1},8,["onClick"])]),(0,s._)("div",{class:(0,st.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[1000px] !tw-overflow-visible":o.showFilters}])},[(0,s.Wm)(d,{sales:i.sales,search:o.search,"search-id":o.searchId,filtered:o.filteredSales,"onUpdate:filtered":e[4]||(e[4]=t=>o.filteredSales=t),selected:i.selectedSales},null,8,["sales","search","search-id","filtered","selected"])],2),(0,s._)("div",c$,[((0,s.wg)(),(0,s.j4)(c,{onSelected:i.handleSelected,"selected-reset":o.selected,key:o.filteredSales.length,sales:o.filteredSales},null,8,["onSelected","selected-reset","sales"]))]),(0,s.Wm)(u,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:!1}),(0,s.Wm)(p,{onCancel:e[6]||(e[6]=t=>o.showPopup=!1),visible:o.showPopup,"onUpdate:visible":e[7]||(e[7]=t=>o.showPopup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const p$={class:"tw-grid tw-grid-cols-12 tw-mb-5"},m$={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-items-center"},g$=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),h$=["value"],f$={class:"tw-relative tw-pb-5 tw-overflow-x-auto tw-min-h-[400px] tw-overflow-y-visible sm:tw-rounded-lg"},b$={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},x$={scope:"col",class:"tw-p-4"},y$={class:"tw-flex tw-items-center"},v$=(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox",-1),_$={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},k$={class:"tw-w-4 tw-p-4 tw-relative"},C$={class:"tw-flex tw-items-center"},D$=["onChange","checked"],S$=(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox",-1),z$={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},U$={class:"tw-px-6 tw-py-4 tw-relative"},q$={key:0},P$={class:"tw-px-6 tw-py-4"},L$=["title"],A$={class:"tw-px-6 tw-py-4 tw-relative"},$$={class:"tw-pb-2"},W$={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},E$={key:0},T$={key:1},F$={class:"tw-absolute tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-text-xs"},V$={key:0,class:"tw-bg-emerald-500/10 tw-text-emerald-500 tw-px-2 tw-rounded-t"},O$={key:1,class:"tw-bg-blue-500/10 tw-text-blue-500 tw-px-2 tw-rounded-t"},I$={class:"tw-px-6 tw-py-4"},j$={class:"tw-px-6 tw-py-4 tw-relative"},R$={class:"tw-flex tw-items-center tw-justify-center"},M$={class:"tw-flex tw-gap-1"},N$={key:0},H$={class:"tw-px-6 tw-py-4"},Y$={class:"tw-px-6 tw-py-4 tw-relative"},Z$={class:"tw-flex tw-items-center tw-justify-center"},K$={class:"tw-flex tw-gap-1"},B$={key:0},Q$={class:"tw-px-6 tw-py-4"},J$={class:"tw-px-6 tw-py-4"},G$={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},X$={class:"tw-col-span-12 md:tw-col-span-12 d-flex tw-justify-end tw-flex-wrap align-center"},tW={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},eW={class:"tw-flex tw-flex-wrap tw-gap-2"},rW={class:"tw-text-white"};function aW(t,e,r,l,o,i){const n=(0,s.up)("SaleConfirmation"),w=(0,s.up)("SaleAffectation"),d=(0,s.up)("SaleDelivery"),c=(0,s.up)("SaleActions");return(0,s.wg)(),(0,s.iD)("div",{key:i.items.length},[(0,s._)("div",p$,[(0,s._)("div",m$,[g$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,st.zw)(t),9,h$)))),128))],512),[[a.bM,o.paginationLimit]])])]),(0,s._)("div",f$,[((0,s.wg)(),(0,s.iD)("table",{key:i.reportedForToday.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",b$,[(0,s._)("tr",null,[(0,s._)("th",x$,[(0,s._)("div",y$,[(0,s.wy)((0,s._)("input",{onClick:e[1]||(e[1]=(...t)=>i.handleSelectAll&&i.handleSelectAll(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>o.isAllSelected=t),id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,512),[[a.e8,o.isAllSelected]]),v$])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,st.C_)([["city"==t&&"!tw-max-w-[150px]"],"tw-px-6 tw-py-3 tw-truncate"]),scope:"col"},[(0,s._)("div",_$,(0,st.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:(0,st.C_)([[[t.confirmation,t.delivery].includes("reporter")&&"tw-relative",i.isReportedToday(t)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[(0,s._)("td",k$,[(0,s._)("div",C$,[(0,s._)("input",{onChange:e=>i.handleSelect(e,t.id),checked:i.isSelected(t.id),id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,40,D$),S$])]),(0,s._)("td",z$,(0,st.zw)(t.id),1),(0,s._)("td",U$,[(0,s.Uk)((0,st.zw)(t?.created_at?.split("T")[0])+" ",1),"reporter"==t.confirmation||"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[i.isReportedToday(t)?((0,s.wg)(),(0,s.iD)("span",q$," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",P$,[(0,s._)("div",{title:t.city,class:"!tw-max-w-[200px] tw-truncate"},(0,st.zw)(t.city),9,L$)]),(0,s._)("td",A$,[(0,s._)("div",$$,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",W$,(0,st.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,st.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",E$,"| "+(0,st.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",T$,"| "+(0,st.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",F$,[t.counts_from_warehouse?((0,s.wg)(),(0,s.iD)("p",V$," warehouse ")):(0,s.kq)("",!0),t.counts_from_warehouse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",O$," delivery "))])])]),(0,s._)("td",I$,(0,st.zw)(t.fullname),1),(0,s._)("td",j$,[(0,s._)("div",R$,[((0,s.wg)(),(0,s.j4)(n,{class:(0,st.C_)("reporter"==t.confirmation&&"tw-mb-1"),sale:t,id:t.id,confirmation:t.confirmation,key:t.confirmation},null,8,["class","sale","id","confirmation"])),"reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",M$,["reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("span",N$,[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,st.zw)(t?.reported_agente_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",H$,["confirmer"==t.confirmation?((0,s.wg)(),(0,s.j4)(w,{sale:t,affectation:t.affectation,id:t.id,key:t.affectation},null,8,["sale","affectation","id"])):(0,s.kq)("",!0)]),(0,s._)("td",Y$,[(0,s._)("div",Z$,[((0,s.wg)(),(0,s.j4)(d,{class:(0,st.C_)("reporter"==t.delivery&&"tw-mb-1"),sale:t,id:t.id,key:t.delivery,delivery:t.delivery},null,8,["class","sale","id","delivery"])),"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",K$,["reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("span",B$,[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,st.zw)(t.reported_delivery_date),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",Q$,(0,st.zw)(i.getPrice(t)),1),(0,s._)("td",J$,[((0,s.wg)(),(0,s.j4)(c,{id:t.id,key:t.delivery,sale:t},null,8,["id","sale"]))])],2)))),128))])]))]),(0,s._)("div",G$,[(0,s._)("div",X$,[(0,s._)("div",tW,(0,st.zw)(i.prevRange+1)+" - "+(0,st.zw)(o.currentPage==i.pageCount?r.sales.length:i.nextRange)+" of "+(0,st.zw)(r.sales.length)+" items ",1),(0,s._)("div",eW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(lt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",rW,(0,st.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const sW={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},lW=["onClick"],oW={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},iW=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),nW={class:"tw-flex tw-justify-end tw-mt-2"};function wW(t,e,r,l,o,i){const n=(0,s.up)("popup-full"),w=(0,s.up)("SaleConfirmationReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,st.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,st.zw)(i.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(it.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(it.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,st.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",sW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,st.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,st.zw)(t.name),3)],8,lW)))),128))])],2),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",oW,[iW,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",nW,[(0,s.Wm)(lt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(w,{order:r.sale,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])),[[ae.L,i.close]])}const dW={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},cW=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),uW=(0,s._)("br",null,null,-1),pW=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),mW={class:"tw-flex tw-justify-end tw-mt-2"};function gW(t,e,r,l,o,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",dW,[cW,(0,s.Wm)(n,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),uW,pW,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",mW,[(0,s.Wm)(lt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var hW={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.isLoading=!0,ka.agenteUpdateConfirmation(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const fW=(0,p.Z)(hW,[["render",gW]]);var bW=fW,xW={props:["confirmation","id","sale"],components:{SaleConfirmationReporting:bW},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",noteReporter:"",selectedId:0,allOptions:Iw,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleClick(){this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))},handleClickReporter(){this.showPopupReporter=!1},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ka.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},async updateOrderWithNote(){return this.isLoading=!0,ka.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("sale/updateConfirmation",{id:t,confirmation:e})},updateConfirmationNote(t,e,r){this.$store.dispatch("sale/updateConfirmationWithNote",{id:t,confirmation:e,note:r})}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const yW=(0,p.Z)(xW,[["render",wW]]);var vW=yW;const _W={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},kW=["onClick"],CW={class:"tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100"},DW={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function SW(t,e,r,a,l,o){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:"tw-whitespace-nowrap focus:tw-ring-4 tw-ring-neutral-200 tw-bg-neutral-600/10 tw-text-neutral-800 focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center",type:"button"},[(0,s.Uk)((0,st.zw)(o.selected.firstname)+" "+(0,st.zw)(o.selected.lastname)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(it.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(it.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,st.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",_W,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",CW,(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),1)],8,kW)))),128))])],2)])),[[ae.L,o.close]]):((0,s.wg)(),(0,s.iD)("div",DW,[(0,s.Wm)(it.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var zW={props:["affectation","id","sale"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,old:null}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},fetched(){return this.$store.getters["user/fetched"]},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.sale.items.some((e=>e.product_id==t.product_id))))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(this.old=this.affectation,t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},updateOrder(){ka.agenteUpdateAffectaion(this.id,this.selectedId).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateAffectation(this.id,this.selected.id),this.isLoading=!1)}),(t=>{this.$handleApiError(t),this.isLoading=!1,this.selectedId=this.old}))},updateAffectation(t,e){this.$store.dispatch("sale/updateAffectation",{id:t,affectation:e})}},mounted(){this.selectedId=this.affectation}};const UW=(0,p.Z)(zW,[["render",SW]]);var qW=UW;const PW={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},LW=["onClick"];function AW(t,e,r,a,l,o){const i=(0,s.up)("SaleDeliveryReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,st.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,st.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(it.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(it.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,st.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",PW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,st.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,st.zw)(t.name),3)],8,LW)))),128))])],2),(0,s.Wm)(i,{order:r.sale,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])),[[ae.L,o.close]])}const $W={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},WW=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),EW=(0,s._)("br",null,null,-1),TW=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),FW={class:"tw-flex tw-justify-end tw-mt-2"};function VW(t,e,r,l,o,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",$W,[WW,(0,s.Wm)(n,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),EW,TW,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",FW,[(0,s.Wm)(lt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var OW={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ka.deliveryUpdateDelivery(t.id,"reporter",t).then((()=>{this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const IW=(0,p.Z)(OW,[["render",VW]]);var jW=IW,RW={props:["delivery","id","sale"],components:{SaleDeliveryReporting:jW},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Nw,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){return t.id!==this.selectedId&&("reporter"!==t.value?(this.selectedId=t.id,this.updateOrder(),this.close(),!0):void("reporter"==t.value&&(this.showPopupReporter=!0,this.close())))},async updateOrder(){return this.isLoading=!0,ka.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("sale/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const MW=(0,p.Z)(RW,[["render",AW]]);var NW=MW;const HW={key:0};function YW(t,e,r,a,l,o){const i=(0,s.up)("SaleHistory"),n=(0,s.up)("popup-full"),w=(0,s.up)("UpdateSale");return r.sale?((0,s.wg)(),(0,s.iD)("div",HW,[(0,s.Wm)(lt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.sale.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"]),t.$can("update_sale")?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(t.$can("view_sale"),(0,s.kq)("",!0)),(t.$can("delete_sale"),(0,s.kq)("",!0)),(0,s.Wm)(lt.T,{onClick:e[2]||(e[2]=t=>l.showHistoryPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"teal",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-ascending-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:l.showHistoryPopup,onCancel:e[4]||(e[4]=t=>l.showHistoryPopup=!1)},{default:(0,s.w5)((()=>[l.showHistoryPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[3]||(e[3]=t=>l.showHistoryPopup=!1),sale:r.sale},null,8,["sale"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(w,{visible:l.showUpdatePopup,"onUpdate:visible":e[5]||(e[5]=t=>l.showUpdatePopup=t),order:r.sale},null,8,["visible","order"])])):(0,s.kq)("",!0)}var ZW=r(7103),KW=r(795),BW=r(2773);const QW={class:"md:tw-w-[50%] tw-max-h-full tw-relative tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},JW={key:0,class:"tw-w-full tw-h-full"},GW={key:1,class:"tw-p-5"},XW={class:"d-flextw-flex-col justify-space-between flex-grow-1"},tE={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},eE={class:"tw-text-sm tw-capitalize tw-text-neutral-600"},rE={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},aE={class:"d-flextw-flex-col justify-space-between flex-grow-1"},sE={class:"tw-flex tw-flex-col tw-my-2"},lE=(0,s._)("div",null," New Order Created ",-1),oE={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"};function iE(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",QW,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",JW,[(0,s.Wm)(i,{class:"text-primary-color"})])),(0,s.Wm)(lt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",GW,[(0,s.Wm)(KW.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(BW.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",XW,[(0,s._)("div",tE,[(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(it.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ZW.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",eE,(0,st.zw)(t.users.firstname)+" "+(0,st.zw)(t.users.lastname),1),(0,s._)("div",rE,[(0,s._)("span",null,(0,st.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,st.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(BW.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",aE,[(0,s._)("div",sE,[(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),lE]),(0,s._)("div",oE,[(0,s._)("span",null,(0,st.zw)(r.sale.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,st.zw)(r.sale.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)])}var nE={props:["sale"],data(){return{isLoaded:!1,allEvents:[]}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("cancel")},getHistory(){this.isLoaded=!1,ka.history(this.sale.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const wE=(0,p.Z)(nE,[["render",iE]]);var dE=wE;const cE={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},uE={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},pE=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),mE={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},gE={class:"md:tw-col-span-6 tw-col-span-12"},hE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),fE={class:"md:tw-col-span-6 tw-col-span-12"},bE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),xE={class:"md:tw-col-span-6 tw-col-span-12"},yE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),vE=["value"],_E=["value"],kE={class:"md:tw-col-span-6 tw-col-span-12"},CE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),DE={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},SE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),zE={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},UE={class:"tw-col-span-12"},qE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),PE={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},LE={class:"tw-col-span-12 md:tw-col-span-4"},AE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),$E={class:"tw-col-span-12 md:tw-col-span-8"},WE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),EE={class:"md:tw-col-span-6 tw-col-span-12"},TE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),FE={class:"md:tw-col-span-6 tw-col-span-12"},VE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),OE=["value"],IE={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},jE={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},RE={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},ME=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),NE={class:"tw-flex tw-flex-col tw-justify-center"},HE=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),YE={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},ZE={key:2,class:"md:tw-col-span-12 tw-col-span-12"},KE={class:"tw-max-w-full tw-overflow-auto"},BE={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},QE={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},JE={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},GE=["src"],XE={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},tT=["onUpdate:modelValue"],eT=(0,s._)("option",{value:0},"Select",-1),rT=["value"],aT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},sT=["disabled","onUpdate:modelValue"],lT=(0,s._)("option",{value:0},"Select",-1),oT=["value"],iT={key:0},nT={key:1},wT={key:2},dT={key:3},cT=["value"],uT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},pT={class:"md:tw-col-span-6 tw-col-span-12"},mT=["onUpdate:modelValue"],gT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},hT={key:0},fT={key:1,class:"md:tw-col-span-6 tw-col-span-12"},bT=["onUpdate:modelValue"],xT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},yT={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},vT=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),_T={class:"md:tw-col-span-12 tw-col-span-12"},kT={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},CT=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),DT={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},ST=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),zT={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},UT=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),qT={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},PT=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),LT={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},AT={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},$T=(0,s._)("span",{class:"text-white"}," Cancel ",-1),WT=(0,s._)("span",{class:"text-white"}," Update ",-1);function ET(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cE,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",uE,[pE,(0,s._)("div",mE,[(0,s._)("div",gE,[hE,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",fE,[bE,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",xE,[yE,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,st.zw)(o.sale.city),9,vE),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,st.zw)(t.name),9,_E)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",kE,[CE,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",DE,[SE,(0,s.Wm)(w,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",zE,[(0,s._)("div",UE,[qE,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",PE,[(0,s._)("div",LE,[AE,(0,s._)("div",null,(0,st.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",$E,[WE,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",EE,[TE,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",FE,[VE,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,st.zw)(t.name),9,OE)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",IE,[(0,s._)("div",jE,[(0,s._)("label",RE,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),ME]),(0,s._)("label",NE,[(0,s._)("span",{class:(0,st.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,st.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),HE,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",YE," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",ZE,[(0,s._)("div",KE,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",BE,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",QE,(0,st.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",JE,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,GE)):(0,s.kq)("",!0)])])),(0,s._)("th",XE,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[eT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,rT)))),128))],8,tT),[[a.bM,t.product.id]])])])]),(0,s._)("th",aT,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[lT,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",nT,(0,st.zw)(t.size)+" / "+(0,st.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",wT,(0,st.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",dT,(0,st.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",iT,"-"))],8,oT)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,cT))],8,sT)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",uT,[(0,s._)("div",pT,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,mT),[[a.nr,t.quantity]])])]),(0,s._)("th",gT,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",hT," - ")):((0,s.wg)(),(0,s.iD)("div",fT,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,bT),[[a.nr,t.price]])]))])]),(0,s._)("th",xT,[(0,s._)("div",null,[(0,s.Wm)(lt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",yT,[(0,s._)("div",null,[(0,s.Wm)(lt.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),vT])),_:1},8,["onClick"])])]),(0,s._)("div",_T,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",kT,[CT,(0,s._)("div",DT,[ST,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",zT,[UT,(0,s._)("div",qT,[PT,(0,s._)("div",LT,(0,st.zw)(o.currency)+" "+(0,st.zw)(i.total_price),1)])])]),(0,s._)("div",AT,[(0,s.Wm)(lt.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[$T])),_:1},8,["onClick"]),(0,s.Wm)(lt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[WT])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const TT={class:"tw-relative"},FT=["value"],VT={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},OT=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),IT={class:"tw-flex tw-justify-end tw-mt-2"};function jT(t,e,r,l,o,i){const n=(0,s.up)("popup-full"),w=(0,s.up)("AddOrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px] tw-w-full"},[(0,s._)("div",null,[(0,s._)("div",TT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.confirmationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.text,!t.value&&"!tw-text-gray-700"]),key:t.id,value:t.value},(0,st.zw)(t.name),11,FT)))),128))],512),[[a.bM,i.confirmationValue]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",VT,[OT,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",IT,[(0,s.Wm)(lt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(w,{order:r.order,onConfirm:i.handleReportedDate,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","onConfirm","visible"])])),[[ae.L,i.close]])}const RT={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},MT=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),NT=(0,s._)("br",null,null,-1),HT=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),YT={class:"tw-flex tw-justify-end tw-mt-2"};function ZT(t,e,r,l,o,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",RT,[MT,(0,s.Wm)(n,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),NT,HT,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",YT,[(0,s.Wm)(lt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var KT={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.$emit("confirm",{reported_agente_date:this.realDate,reported_agente_note:this.note}),this.isLoading=!0},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}}};const BT=(0,p.Z)(KT,[["render",ZT]]);var QT=BT,JT={props:["confirmation","id","order"],components:{AddOrderReporting:QT},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Iw,reported_agente_date:null,reported_agente_note:"",showPopupReporter:!1}},watch:{},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},confirmationValue:{get(){return this.confirmation},set(t){switch(t){case"reporter":this.showPopupReporter=!0;break;case"confirmer":this.showPopup=!0;break;default:this.$emit("update:confirmation",t);break}}},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleReportedDate(t){this.reported_agente_date=t.reported_agente_date,this.reported_agente_note=t.reported_agente_note,this.$emit("update:confirmation","reporter"),this.$emit("reported",t),this.showPopupReporter=!1},handleClick(){this.showPopup=!1,this.$emit("update:confirmation","confirmer"),this.$emit("confirmed",this.note)},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ka.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t)))},async updateOrderWithNote(){return this.isLoading=!0,ka.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationWithNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("order/updateConfirmation",{id:t,confirmation:e}),this.$emit("update",e)},updateConfirmationWithNote(t,e,r){this.$store.dispatch("order/updateConfirmationWithNote",{id:t,confirmation:e,note:r}),this.$emit("update",e)}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const GT=(0,p.Z)(JT,[["render",jT]]);var XT=GT;const tF={class:"tw-relative"},eF=["disabled"],rF=["value"],aF={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function sF(t,e,r,l,o,i){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("div",null,[(0,s._)("div",tF,[(0,s.wy)((0,s._)("select",{disabled:"confirmer"!=r.confirmation,"onUpdate:modelValue":e[0]||(e[0]=t=>i.affectationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.firstname+" "+t.lastname),9,rF)))),128))],8,eF),[[a.bM,i.affectationValue]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),[[ae.L,i.close]]):((0,s.wg)(),(0,s.iD)("div",aF,[(0,s.Wm)(it.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var lF={props:["affectation","id","order","confirmation","items","productIds"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,fetched:!1}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},order_items(){return this.items},affectationValue:{get(){return this.affectation},set(t){this.$emit("update:affectation",t)}},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.productIds.includes(t.product_id)))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},getUsers(){this.fetched=!1,rt.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0),this.fetched=!0}})).catch(this.$handleApiError)}},mounted(){this.selectedId=this.affectation,this.getUsers()}};const oF=(0,p.Z)(lF,[["render",sF]]);var iF=oF;const nF=(0,s._)("h1",{class:"tw-mb-2 tw-font-medium"},"Offers",-1),wF={class:"tw-relative tw-overflow-x-auto tw-border-b sm:tw-rounded"},dF={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},cF=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),uF={class:"tw-px-6 tw-py-4"},pF={class:"tw-px-6 tw-py-4"},mF={class:"tw-px-6 tw-py-4"},gF={class:"tw-px-6 tw-py-4"},hF={class:"tw-max-w-[250px] tw-text-sm"},fF={key:0},bF=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),xF=[bF];function yF(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[nF,(0,s._)("div",null,[(0,s._)("div",wF,[(0,s._)("table",dF,[cF,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",uF,(0,st.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",pF,(0,st.zw)(t.quantity),1),(0,s._)("td",mF,(0,st.zw)(t.price)+" "+(0,st.zw)(l.currency),1),(0,s._)("td",gF,[(0,s._)("p",hF,(0,st.zw)(t.note),1)])])))),128)),0==o.offers.length?((0,s.wg)(),(0,s.iD)("tr",fF,xF)):(0,s.kq)("",!0)])])])])])}var vF={props:["productIds"],data(){return{currency:c}},computed:{products(){return this.$store.getters["product/products"]},offers(){return this.products.filter((t=>this.productIds.includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}}};const _F=(0,p.Z)(vF,[["render",yF]]);var kF=_F,CF={components:{AddOrderConfirmation:XT,AddOrderAffectation:iF,ProductOffers:kF},props:["visible","order"],data(){return{upsells:Mw,serverUrl:w,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!1}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,order_id:this.order.id,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},update(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={id:this.sale.id,fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};"confirmer"!=t.confirmation&&(t.affectation=null,t.delivery=null),this.isLoading=!0,ka.update(t.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"Order updated"}),this.$store.dispatch("sale/update",{id:t.id,sale:e.data.data.sale}),this.$emit("update:visible",!1),this.$emit("updateOrder",e.data.data.sale))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.sale={...this.order},this.items=[...this.order.items],this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return va.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.sale={...this.order},this.items=[...this.order.items]}};const DF=(0,p.Z)(CF,[["render",ET]]);var SF=DF,zF={props:["sale"],name:"saleActions",components:{SaleHistory:dE,UpdateSale:SF},data(){return{showPopup:!1,showUpdatePopup:!1,showHistoryPopup:!1,isLoading:!1}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{}};const UF=(0,p.Z)(zF,[["render",YW]]);var qF=UF,PF={props:{sales:{required:!0},selectedReset:{required:!1,default:[]}},components:{SaleConfirmation:vW,SaleAffectation:qW,SaleDelivery:NW,SaleActions:qF},data(){return{allowedLimit:[5,10,20,50,100,300,500],currentPage:1,paginationLimit:50,todayDate:null,selected:[],isAllSelected:!1,columns:["id","date","city","products","client","confirmation","affectation","delivery","price","actions"]}},watch:{selectedReset(t){this.selected=t,0==this.selected.length&&(this.isAllSelected=!1)},paginationLimit(){this.currentPage=1},selected(t){this.$emit("selected",t)}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sales.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.sales.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.sales.filter(this.isReportedToday)}},methods:{getPrice(t){return vo(t)},isReportedToday(t){return this.isConfirmationReportedToday(t)||this.isDeliveryReportedToday(t)},isDeliveryReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date?.split("T")[0]==this.todayDate},isConfirmationReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date?.split("T")[0]==this.todayDate},handleSelect(t,e){t.target.checked?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!=e))},isSelected(t){return this.selected.includes(t)},handleSelectAll(t){t.target.checked?this.selected=[...this.items.map((t=>t.id))]:this.selected=[]}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const LF=(0,p.Z)(PF,[["render",aW]]);var AF=LF;const $F={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},WF={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},EF=(0,s._)("h1",{class:"tw-text-lg"},"Create Order",-1),TF={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},FF={class:"md:tw-col-span-6 tw-col-span-12"},VF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),OF={class:"md:tw-col-span-6 tw-col-span-12"},IF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),jF={class:"md:tw-col-span-6 tw-col-span-12"},RF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),MF=["value"],NF={class:"md:tw-col-span-6 tw-col-span-12"},HF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),YF={class:"md:tw-col-span-12 tw-col-span-12"},ZF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),KF={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},BF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse",-1),QF=(0,s._)("option",{value:0}," Select ",-1),JF=["value"],GF={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},XF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),tV=(0,s._)("option",{value:0}," Select ",-1),eV=["value"],rV={class:"md:tw-col-span-6 tw-col-span-12"},aV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variations",-1),sV=(0,s._)("option",{value:0}," Select ",-1),lV=["value"],oV={class:"md:tw-col-span-6 tw-col-span-12"},iV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),nV={class:"md:tw-col-span-6 tw-col-span-12"},wV={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},dV={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},cV=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),uV={class:"tw-flex tw-flex-col tw-justify-center"},pV={class:"md:tw-col-span-6 tw-col-span-12"},mV={key:0,class:"md:tw-col-span-12 tw-col-span-12"},gV={class:"tw-max-w-full tw-overflow-auto"},hV={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},fV={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},bV={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},xV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},yV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},vV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},_V={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},kV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},CV={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},DV=(0,s._)("span",{class:"text-white"}," Cancel ",-1),SV=(0,s._)("span",{class:"text-white"}," Save ",-1);function zV(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[12]||(e[12]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$F,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",WF,[EF,(0,s._)("div",TF,[(0,s._)("div",FF,[VF,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",OF,[IF,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",jF,[RF,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,st.zw)(t.name),9,MF)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",NF,[HF,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",YF,[ZF,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>o.sale.price=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])]),(0,s._)("div",KF,[BF,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.warehouse_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[QF,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,JF)))),128))],512),[[a.bM,o.warehouse_id]])]),(0,s._)("div",GF,[XF,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.product_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[tV,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,eV)))),128))],512),[[a.bM,o.product_id]])]),(0,s._)("div",rV,[aV,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.product_variation_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[sV,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.size)+" / "+(0,st.zw)(t.color),9,lV)))),128))],512),[[a.bM,o.product_variation_id]])]),(0,s._)("div",oV,[iV,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>o.quantity=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.quantity]])]),(0,s._)("div",nV,[(0,s._)("div",wV,[(0,s._)("label",dV,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),cV]),(0,s._)("label",uV,[(0,s._)("span",{class:(0,st.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,st.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),(0,s._)("div",pV,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-block tw-ml-auto tw-py-1 tw-px-4 tw-rounded tw-bg-emerald-500 tw-text-white"}," Add ")]),o.items.length?((0,s.wg)(),(0,s.iD)("div",mV,[(0,s._)("div",gV,[(0,s._)("table",hV,[(0,s._)("thead",fV,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","warehouse","actions"],(t=>(0,s._)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",bV,(0,st.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",xV,(0,st.zw)(t.product.name),1),(0,s._)("th",yV,(0,st.zw)(t.product_variation.size)+" / "+(0,st.zw)(t.product_variation.color),1),(0,s._)("th",vV,(0,st.zw)(t.quantity),1),(0,s._)("th",_V,(0,st.zw)(t.product_variation.warehouse.name),1),(0,s._)("th",kV,[(0,s._)("div",null,[(0,s.Wm)(lt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])):(0,s.kq)("",!0)]),(0,s._)("div",CV,[(0,s.Wm)(lt.T,{onClick:e[11]||(e[11]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[DV])),_:1}),(0,s.Wm)(lt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[SV])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var UV={props:["visible"],data(){return{isLoading:!1,isLoaded:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],sale:{fullname:"",phone:"",city:"",adresse:"",price:0,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0}},computed:{products(){return this.$store.getters["product/products"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return 0==this.warehouse_id?[]:this.products.filter((t=>t.variations.some((t=>t.warehouse_id==this.warehouse_id))))},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,orderItems:this.items,counts_from_warehouse:!0};ka.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sale created successfully"}),this.$store.dispatch("sale/add",t.data.data.sale))}),this.$handleApiError).finally((()=>this.isLoading=!1))},deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},addItem(){if([this.warehouse_id,this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:0};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.item_id+=1},getProducts(){va.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}},mounted(){this.getProducts(),this.sale.city=this.cities[0].name||1}};const qV=(0,p.Z)(UV,[["render",zV]]);var PV=qV;const LV={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},AV={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},$V=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),WV={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},EV={class:"md:tw-col-span-6 tw-col-span-12"},TV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),FV={class:"md:tw-col-span-6 tw-col-span-12"},VV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),OV={class:"md:tw-col-span-6 tw-col-span-12"},IV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),jV=["value"],RV=["value"],MV={class:"md:tw-col-span-6 tw-col-span-12"},NV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),HV={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},YV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),ZV={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},KV={class:"tw-col-span-12"},BV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),QV={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},JV={class:"tw-col-span-12 md:tw-col-span-4"},GV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),XV={class:"tw-col-span-12 md:tw-col-span-8"},tO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),eO={class:"md:tw-col-span-6 tw-col-span-12"},rO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),aO={class:"md:tw-col-span-6 tw-col-span-12"},sO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),lO=["value"],oO={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},iO={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},nO={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},wO=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),dO={class:"tw-flex tw-flex-col tw-justify-center"},cO=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),uO={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},pO={key:2,class:"md:tw-col-span-12 tw-col-span-12"},mO={class:"tw-max-w-full tw-overflow-auto"},gO={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},hO={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},fO={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},bO=["src"],xO={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},yO=["onUpdate:modelValue"],vO=(0,s._)("option",{value:0},"Select",-1),_O=["value"],kO={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},CO=["disabled","onUpdate:modelValue"],DO=(0,s._)("option",{value:0},"Select",-1),SO=["value"],zO={key:0},UO={key:1},qO={key:2},PO={key:3},LO=["value"],AO={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},$O={class:"md:tw-col-span-6 tw-col-span-12"},WO=["onUpdate:modelValue"],EO={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},TO={key:0},FO={key:1,class:"md:tw-col-span-6 tw-col-span-12"},VO=["onUpdate:modelValue"],OO={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},IO={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},jO=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),RO={class:"md:tw-col-span-12 tw-col-span-12"},MO={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},NO=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),HO={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},YO=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),ZO={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},KO=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),BO={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},QO=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),JO={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},GO={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},XO=(0,s._)("span",{class:"text-white"}," Cancel ",-1),tI=(0,s._)("span",{class:"text-white"}," Create ",-1);function eI(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",LV,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",AV,[$V,(0,s._)("div",WV,[(0,s._)("div",EV,[TV,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",FV,[VV,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",OV,[IV,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,st.zw)(o.sale.city),9,jV),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,st.zw)(t.name),9,RV)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",MV,[NV,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",HV,[YV,(0,s.Wm)(w,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",ZV,[(0,s._)("div",KV,[BV,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",QV,[(0,s._)("div",JV,[GV,(0,s._)("div",null,(0,st.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",XV,[tO,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",eO,[rO,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",aO,[sO,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,st.zw)(t.name),9,lO)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",oO,[(0,s._)("div",iO,[(0,s._)("label",nO,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),wO]),(0,s._)("label",dO,[(0,s._)("span",{class:(0,st.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,st.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),cO,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",uO," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",pO,[(0,s._)("div",mO,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",gO,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",hO,(0,st.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",fO,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,bO)):(0,s.kq)("",!0)])])),(0,s._)("th",xO,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[vO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,_O)))),128))],8,yO),[[a.bM,t.product.id]])])])]),(0,s._)("th",kO,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[DO,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",UO,(0,st.zw)(t.size)+" / "+(0,st.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",qO,(0,st.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",PO,(0,st.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",zO,"-"))],8,SO)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,LO))],8,CO)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",AO,[(0,s._)("div",$O,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,WO),[[a.nr,t.quantity]])])]),(0,s._)("th",EO,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",TO," - ")):((0,s.wg)(),(0,s.iD)("div",FO,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,VO),[[a.nr,t.price]])]))])]),(0,s._)("th",OO,[(0,s._)("div",null,[(0,s.Wm)(lt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",IO,[(0,s._)("div",null,[(0,s.Wm)(lt.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),jO])),_:1},8,["onClick"])])]),(0,s._)("div",RO,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",MO,[NO,(0,s._)("div",HO,[YO,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",ZO,[KO,(0,s._)("div",BO,[QO,(0,s._)("div",JO,(0,st.zw)(o.currency)+" "+(0,st.zw)(i.total_price),1)])])]),(0,s._)("div",GO,[(0,s.Wm)(lt.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[XO])),_:1},8,["onClick"]),(0,s.Wm)(lt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[tI])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var rI={components:{AddOrderConfirmation:XT,AddOrderAffectation:iF,ProductOffers:kF},props:["visible","order"],data(){return{upsells:Mw,serverUrl:w,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},create(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};this.isLoading=!0,ka.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"New Order Added"}),this.$store.dispatch("sale/add",t.data.data.sale),this.$emit("update:visible",!1))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return va.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){}};const aI=(0,p.Z)(rI,[["render",eI]]);var sI=aI;const lI={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},oI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},iI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},nI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},wI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},dI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},cI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},uI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},pI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"};function mI(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),n=(0,s.up)("UpsellFilter"),w=(0,s.up)("ConfirmationFilter"),d=(0,s.up)("AffectationFilter"),c=(0,s.up)("AgenteFilter"),u=(0,s.up)("DeliveryFilter"),p=(0,s.up)("ProductFilter"),m=(0,s.up)("ExcelExport");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",lI,[(0,s._)("div",oI,[(0,s.Wm)(i,{filter:l.config.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>l.config.dateFilter=t)},null,8,["filter"])]),(0,s._)("div",iI,[(0,s.Wm)(n,{filter:l.config.upsellFilter,"onUpdate:filter":e[1]||(e[1]=t=>l.config.upsellFilter=t)},null,8,["filter"])]),(0,s._)("div",nI,[(0,s.Wm)(w,{filter:l.config.confirmationFilter,"onUpdate:filter":e[2]||(e[2]=t=>l.config.confirmationFilter=t)},null,8,["filter"])]),(0,s._)("div",wI,[(0,s.Wm)(d,{filter:l.config.affectationFilter,"onUpdate:filter":e[3]||(e[3]=t=>l.config.affectationFilter=t)},null,8,["filter"])]),(0,s._)("div",dI,[(0,s.Wm)(c,{filter:l.config.agenteFilter,"onUpdate:filter":e[4]||(e[4]=t=>l.config.agenteFilter=t)},null,8,["filter"])]),(0,s._)("div",cI,[(0,s.Wm)(u,{filter:l.config.deliveryFilter,"onUpdate:filter":e[5]||(e[5]=t=>l.config.deliveryFilter=t)},null,8,["filter"])]),(0,s._)("div",uI,[(0,s.Wm)(p,{filter:l.config.productFilter,"onUpdate:filter":e[6]||(e[6]=t=>l.config.productFilter=t)},null,8,["filter"])]),(0,s._)("div",pI,[(0,s.Wm)(m,{selected:r.selected,filtered:r.filtered,sales:r.sales},null,8,["selected","filtered","sales"])])])])}const gI=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),hI=["onClick"];function fI(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[gI,(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,st.zw)(t),9,hI)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var bI={data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,no.Z)(new Date,1),(0,no.Z)(new Date,1)]},{label:"This month",range:[(0,wo.Z)(new Date),(0,co.Z)(new Date)]},{label:"Last month",range:[(0,wo.Z)((0,uo.Z)(new Date,1)),(0,co.Z)((0,uo.Z)(new Date,1))]},{label:"This year",range:[(0,po.Z)(new Date),(0,mo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const xI=(0,p.Z)(bI,[["render",fI]]);var yI=xI;const vI=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),_I={class:"tw-relative"},kI=(0,s._)("option",{value:"all"},"Select",-1),CI=(0,s._)("option",{value:"oui"},"Oui",-1),DI=(0,s._)("option",{value:"non"},"Non",-1),SI=[kI,CI,DI];function zI(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[vI,(0,s._)("div",_I,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},SI,512),[[a.bM,o.value]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var UI={data(){return{value:"all"}},watch:{value(t){this.$emit("update:filter",t)}}};const qI=(0,p.Z)(UI,[["render",zI]]);var PI=qI;const LI=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),AI={class:"tw-relative"},$I=["value"];function WI(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[LI,(0,s._)("div",AI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value?t.value:"all",key:t.id},(0,st.zw)(t.value?t.name:"Select"),9,$I)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var EI={props:["filter"],data(){return{deliveryFilter:"all",deliveryStatus:Nw}},watch:{deliveryFilter(t){this.$emit("update:filter",t)}}};const TI=(0,p.Z)(EI,[["render",WI]]);var FI=TI;const VI=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Confirmation",-1),OI={class:"tw-relative"},II=(0,s._)("option",{value:"all"}," Select ",-1),jI=["value"];function RI(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[VI,(0,s._)("div",OI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.confirmationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[II,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value},(0,st.zw)(t.name),9,jI)))),128))],512),[[a.bM,o.confirmationFilter]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var MI={props:["filter"],data(){return{confirmationFilter:"all",confirmations:Iw}},watch:{confirmationFilter(t){this.$emit("update:filter",t)}}};const NI=(0,p.Z)(MI,[["render",RI]]);var HI=NI;const YI=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Affect",-1),ZI={class:"tw-relative"},KI=(0,s._)("option",{value:"all"},"Select",-1),BI=(0,s._)("option",{value:null},"Without delivery",-1),QI=["value"];function JI(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[YI,(0,s._)("div",ZI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.affectationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[KI,BI,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,QI)))),128))],512),[[a.bM,o.affectationFilter]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var GI={props:["filter"],data(){return{affectationFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))}},watch:{affectationFilter(t){this.$emit("update:filter",t)}}};const XI=(0,p.Z)(GI,[["render",JI]]);var tj=XI;const ej=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agente",-1),rj={class:"tw-relative"},aj=(0,s._)("option",{value:"all"},"Select",-1),sj=(0,s._)("option",{value:null},"Without agente",-1),lj=["value"];function oj(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[ej,(0,s._)("div",rj,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.agenteFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[aj,sj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agentes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,lj)))),128))],512),[[a.bM,o.agenteFilter]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var ij={props:["filter"],data(){return{agenteFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},agentes(){return this.users.filter((t=>2==t.role.id))}},watch:{agenteFilter(t){this.$emit("update:filter",t)}}};const nj=(0,p.Z)(ij,[["render",oj]]);var wj=nj;const dj=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Product",-1),cj={key:0},uj={key:1,class:"tw-relative"},pj=(0,s._)("option",{value:"all"},"Select",-1),mj=["value"];function gj(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[dj,i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cj,[(0,s._)("div",null,[(0,s.Wm)(it.t,{class:"tw-text-orange-500 tw-animate-spin tw-text-lg tw-"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),i.fetched?((0,s.wg)(),(0,s.iD)("div",uj,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[pj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,mj)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])):(0,s.kq)("",!0)])}var hj={props:["filter"],data(){return{productFilter:"all"}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},watch:{productFilter(t){this.$emit("update:filter",t)}},methods:{getProducts(){va.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts(),console.log(this.products)}};const fj=(0,p.Z)(hj,[["render",gj]]);var bj=fj;function xj(t,e,r,{confirmationFilter:a,affectationFilter:s,upsellFilter:l,deliveryFilter:o,agenteFilter:i,dateFilter:n,productFilter:w}){const d=n[0],c=n[1];return t.filter((t=>{const n=new Date(t.created_at);if(""!=r&&r!=t.id)return!1;if("all"!==a&&t.confirmation!==a)return!1;if("all"!==s&&t.affectation!=s)return!1;if("all"!==l&&t.upsell!=l)return!1;if("all"!==o&&t.delivery!=o)return!1;if("all"!==i&&t.agente_id!=i)return!1;const u=((t,e)=>{for(const r in t)if(!["created_at","updated_at","sheets_id","reported_agente_note","reported_agente_note","reported_agente_date","reported_delivery_note","reported_delivery_date"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(t,e);if(!u)return!1;if("all"!==w&&!t.items.some((t=>t.product_id==w)))return!1;const p=n.getDate(),m=n.getMonth(),g=n.getFullYear();if(d){const t=d.getDate(),e=d.getMonth(),r=d.getFullYear();if(g<r||g===r&&m<e||g===r&&m===e&&p<t)return!1}if(c){const t=c.getDate(),e=c.getMonth(),r=c.getFullYear();if(g>r||g===r&&m>e||g===r&&m===e&&p>t)return!1}return!0}))}function yj(t){return{id:1,title:"New",value:t.filter((t=>!t.confirmation||"new"==t.confirmation)).length,pourcentage:(100*t.filter((t=>!t.confirmation||"new"==t.confirmation)).length/t.length).toFixed(2),color:"primary-green",icon:"mdi mdi-new-box"}}function vj(t){return{id:3,title:"Confirmed",value:t.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*t.filter((t=>"confirmer"==t.confirmation)).length/t.length).toFixed(2),color:"deep-purple-accent-2",icon:"mdi-phone-check"}}function _j(t){return{id:4,title:"Delivered",value:t.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*t.filter((t=>"livrer"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi-account-check-outline"}}function kj(t){return{id:5,title:"Shipped",value:t.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*t.filter((t=>"expidier"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red",icon:"mdi-truck"}}const Cj=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Export",-1),Dj={class:"tw-relative tw-flex tw-items-center tw-gap-2 tw-justify-between"},Sj={class:"tw-relative tw-w-full"},zj=(0,s._)("option",{value:"all"},"All Sales",-1),Uj=(0,s._)("option",{value:"selected"},"Selected Sales",-1),qj=(0,s._)("option",{value:"filtered"},"Filtered Sales",-1),Pj=[zj,Uj,qj];function Lj(t,e,r,l,o,i){const n=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",null,[Cj,(0,s._)("div",Dj,[(0,s._)("div",Sj,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.selection=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},Pj,512),[[a.bM,o.selection]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s.Wm)(n,{delimiter:";",data:i.toImport},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.T,{onClick:i.handleImport,icon:"",rounded:"lg",variant:"flat",size:"x-small",color:"green",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",icon:"mdi-download",size:"x-large"})])),_:1},8,["onClick"])])),_:1},8,["data"])])])}var Aj={props:["selected","filtered","sales"],data(){return{selection:"all"}},computed:{toImport(){const t=this.data.map((t=>({...t}))),e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));return a.map((t=>(delete t["items"],t)))},data(){switch(this.selection){case"selected":return this.selected;case"filtered":return this.filtered;default:return this.sales}}},methods:{handleImport(){0==this.data.length&&this.$alert({title:"No Data To Export",type:"warning"})}}};const $j=(0,p.Z)(Aj,[["render",Lj]]);var Wj=$j,Ej={components:{DateFilter:yI,UpsellFilter:PI,DeliveryFilter:FI,ConfirmationFilter:HI,AffectationFilter:tj,AgenteFilter:wj,ProductFilter:bj,ExcelExport:Wj},props:["sales","filtered","search","searchId","selected"],data(){return{config:{confirmationFilter:"all",affectationFilter:"all",upsellFilter:"all",deliveryFilter:"all",agenteFilter:"all",productFilter:"all",dateFilter:[null,null]}}},computed:{results(){return xj(this.sales,this.search,this.searchId,this.config)}},watch:{results(t){this.$emit("update:filtered",t)}},mounted(){this.$emit("update:filtered",this.sales)}};const Tj=(0,p.Z)(Ej,[["render",mI]]);var Fj=Tj;const Vj={class:"mb-5 tw-border-b tw-border-solid tw-pb-5 tw-border-neutral-200"},Oj={class:"tw-grid tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2"},Ij={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},jj={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},Rj={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},Mj={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-4"};function Nj(t,e,r,a,l,o){const i=(0,s.up)("DashItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Vj,[(0,s._)("div",Oj,[(0,s._)("div",Ij,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",jj,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Rj,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Mj,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])])])])])}const Hj={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},Yj={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},Zj={class:"tw-text-xl tw-font-bold"},Kj={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},Bj={class:"tw-text-sm"},Qj={class:"rounded-circle tw-w-fit tw-mr-3"};function Jj(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Ga.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",Hj,[(0,s._)("div",Yj,[(0,s._)("p",Zj,(0,st.zw)(isNaN(r.dash.pourcentage)?"0.00":r.dash.pourcentage)+" "+(0,st.zw)(r.symbol),1),(0,s._)("span",Kj,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",Bj,(0,st.zw)(r.dash.title),1)])]),(0,s._)("div",Qj,[(0,s.Wm)(it.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var Gj={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Xj=(0,p.Z)(Gj,[["render",Jj]]);var tR=Xj,eR={components:{DashItem:tR},props:["sales"],computed:{newSales(){return yj(this.sales)},confirmedSales(){return vj(this.sales)},deliveredSales(){return _j(this.sales)},shippedSales(){return kj(this.sales)}}};const rR=(0,p.Z)(eR,[["render",Nj]]);var aR=rR,sR={components:{SalesTable:AF,AddSale:PV,SalesAnalytics:aR,IndexFilter:Fj,NewAddSale:sI},data(){return{localUrl:n,isLoaded:!1,isLoadingReset:!1,showFilters:!1,isButtonDisabled:!0,filteredSales:[],search:"",searchId:"",selected:[],showPopup:!1}},computed:{fetched(){return this.$store.getters["sale/fetched"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))},agentes(){return this.users.filter((t=>2==t.role.id))},sales(){return this.$store.getters["sale/sales"]},cities(){return this.$store.getters["city/cities"]},selectedSales(){return this.sales.filter((t=>this.selected.includes(t.id)))}},methods:{handleSelected(t){this.selected=t,this.selected.length>0?this.isButtonDisabled=!1:this.isButtonDisabled=!0},async getDeliveries(){await rt.deliveries().then((t=>{this.$store.dispatch("user/setDeliveries",t.data.data)}),this.$handleApiError)},async getUsers(){await rt.all().then((t=>{this.$store.dispatch("user/setUsers",t.data.data.users)}),this.$handleApiError)},getSales(){return ka.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return va.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getCities(){if(0==this.cities.length)return rt.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e)}))},handleReset(){this.isLoadingReset=!0,0!=this.selected.length&&ka.resetSale(this.selected).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("sale/resetSales",this.selected),this.selected=[])})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingReset=!1))}},async mounted(){0==this.deliveries.length&&(await this.getDeliveries(),this.getUsers()),this.fetched&&(this.isLoaded=!0),this.fetched&&(this.getProducts(),this.getCities())}};const lR=(0,p.Z)(sR,[["render",u$]]);var oR=lR;const iR={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},nR={class:"tw-px-3"},wR={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},dR={class:"tw-flex tw-items-center tw-gap-x-3"},cR=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),uR={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},pR=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all orders. ",-1),mR={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},gR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),hR=(0,s._)("span",null,"Create",-1),fR=[gR,hR],bR={class:"tw-overflow-hidden tw-col-span-1"},xR={key:0};function yR(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",iR,[(0,s._)("section",nR,[(0,s._)("div",wR,[(0,s._)("div",null,[(0,s._)("div",dR,[cR,(0,s._)("span",uR,(0,st.zw)(l.totalOrders)+" order",1)]),pR]),(0,s._)("div",mR,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},fR)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),"search-by-field":l.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>l.searchByField=t),filters:l.filters,"onUpdate:filters":e[3]||(e[3]=t=>l.filters=t),onFilter:e[4]||(e[4]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,st.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",bR,[(0,s.Wm)(n,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[6]||(e[6]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",xR,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const vR={class:"tw-flex tw-flex-col"},_R={class:"tw-overflow-x-auto"},kR={class:"tw-inline-block tw-min-w-full tw-align-middle"},CR={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},DR={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},SR={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},zR={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},UR={class:"tw-max-w-[25px]"},qR={class:"tw-inline-flex tw-items-center"},PR={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},LR=["checked"],AR=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),$R=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),WR={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},ER=(0,s._)("span",null,"Created",-1),TR=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),FR=[ER,TR],VR=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller ",-1),OR=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),IR=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),jR=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),RR=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),MR=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),NR=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),HR=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),YR=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),ZR={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},KR={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},BR=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),QR=[BR],JR={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},GR={colspan:"11"},XR={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},tM=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),eM=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),rM=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),aM=[eM,rM],sM={class:"tw-mt-6"};function lM(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vR,[(0,s._)("div",_R,[(0,s._)("div",kR,[(0,s._)("div",CR,[(0,s._)("table",DR,[(0,s._)("thead",SR,[(0,s._)("tr",null,[(0,s._)("th",zR,[(0,s._)("div",UR,[(0,s._)("div",qR,[(0,s._)("label",PR,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,LR),AR])])])]),$R,(0,s._)("th",WR,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},FR)]),VR,OR,IR,jR,RR,MR,NR,HR,YR])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",ZR,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,n)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",KR,QR)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",JR,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",GR,[(0,s._)("div",XR,[tM,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},aM)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",sM,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const oM={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},iM={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},nM={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},wM={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},dM=["disabled"],cM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),uM=(0,s._)("span",null," previous ",-1),pM=[cM,uM],mM=["disabled"],gM=(0,s._)("span",null," Next ",-1),hM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),fM=[gM,hM];function bM(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",oM,[(0,s._)("div",iM,[(0,s.Uk)(" Page "),(0,s._)("span",nM,(0,st.zw)(r.currentPage)+" of "+(0,st.zw)(r.lastPage),1)]),(0,s._)("div",wM,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,st.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},pM,10,dM),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,st.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},fM,10,mM)])])])}var xM={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const yM=(0,p.Z)(xM,[["render",bM]]);var vM=yM;const _M={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kM={class:"tw-max-w-[25px]"},CM={class:"tw-inline-flex tw-items-center"},DM={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},SM=["checked","id"],zM=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),UM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},qM={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},PM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},LM={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},AM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$M={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},WM={key:0},EM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},TM={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},FM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},VM={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},OM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},IM={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},jM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},RM={class:"tw-space-y-1"},MM={class:"tw-font-bold tw-text-green-500"},NM={class:"tw-block tw-max-w-[150px] tw-truncate"},HM={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},YM={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},ZM={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},KM={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},BM={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},QM={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function JM(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,st.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",_M,[(0,s._)("div",kM,[(0,s._)("div",CM,[(0,s._)("label",DM,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,SM),zM])])])]),(0,s._)("td",UM,[(0,s._)("div",null,[(0,s._)("h2",qM,(0,st.zw)(r.item.id),1)])]),(0,s._)("td",PM,[(0,s._)("div",null,[(0,s._)("h2",LM,[(0,s._)("p",null,(0,st.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",AM,[(0,s._)("div",null,[(0,s._)("h2",$M,[r.item.seller_user?((0,s.wg)(),(0,s.iD)("span",WM,(0,st.zw)(r.item.seller_user.username),1)):(0,s.kq)("",!0)])])]),(0,s._)("td",EM,[(0,s._)("div",null,[(0,s._)("h2",TM,(0,st.zw)(r.item.fullname),1)])]),(0,s._)("td",FM,[(0,s._)("div",null,[(0,s._)("h2",VM,(0,st.zw)(r.item.city),1)])]),(0,s._)("td",OM,[(0,s._)("div",null,[(0,s._)("h2",IM,(0,st.zw)(r.item.phone),1)])]),(0,s._)("td",jM,[(0,s._)("div",null,[(0,s._)("ul",RM,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",MM,(0,st.zw)(t.quantity)+" x ",1),(0,s._)("span",NM,(0,st.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",HM,(0,st.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",YM,(0,st.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",ZM,[(0,s._)("div",null,[(0,s._)("span",{class:(0,st.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,st.zw)(o.confirmation.name),3)])]),(0,s._)("td",KM,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",BM,[(0,s._)("div",null,[(0,s._)("span",{class:(0,st.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,st.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",QM,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const GM={class:"tw-h-full"},XM={class:"tw-flex tw-items-center tw-gap-2"},tN=["href"],eN={key:0},rN={key:1},aN={key:2};function sN(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),n=(0,s.up)("HistoryPopup"),w=(0,s.up)("HistoryItemPopup");return(0,s.wg)(),(0,s.iD)("div",GM,[(0,s._)("div",XM,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,tN),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>l.historyItem=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-yellow-500/20 hover:tw-bg-yellow-500/10 hover:tw-border-yellow-500/70 tw-duration-300 tw-text-yellow-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-alphabetical-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",eN,[(0,s.Wm)(i,{onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[4]||(e[4]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",rN,[(0,s.Wm)(n,{visible:l.history,"onUpdate:visible":e[5]||(e[5]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.historyItem?((0,s.wg)(),(0,s.iD)("div",aN,[(0,s.Wm)(w,{visible:l.historyItem,"onUpdate:visible":e[6]||(e[6]=t=>l.historyItem=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const lN={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},oN=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),iN={class:"tw-bg-white tw-p-4"},nN={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},wN={class:"tw-col-span-2 md:tw-col-span-1"},dN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),cN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},uN={class:"tw-col-span-2 md:tw-col-span-1"},pN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),mN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gN={class:"tw-col-span-2 md:tw-col-span-1"},hN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),fN={class:"tw-relative"},bN=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),xN=["value"],yN=["value"],vN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),_N={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},kN={class:"tw-col-span-2 md:tw-col-span-1"},CN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),DN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},SN={class:"tw-col-span-2"},zN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),UN={class:"tw-relative"},qN=["value"],PN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),LN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},AN={key:0,class:"md:tw-col-span-1 tw-col-span-2"},$N=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),WN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},EN={key:1,class:"md:tw-col-span-1 tw-col-span-2"},TN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),FN={class:"tw-col-span-2"},VN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),ON={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},IN={class:"md:tw-col-span-1 tw-col-span-2"},jN={class:"tw-col-span-1"},RN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),MN={class:"tw-relative"},NN=["value"],HN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),YN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ZN={class:"md:tw-col-span-1 tw-col-span-2"},KN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),BN={class:"tw-relative"},QN=["value"],JN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),GN={class:"tw-col-span-2"},XN={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},tH={key:0,class:"tw-text-red-400 tw-text-xs"},eH={key:2,class:"tw-col-span-2"},rH={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},aH=["disabled"],sH=(0,s._)("span",null,"Update",-1);function lH(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",lN,[oN,(0,s._)("div",iN,[(0,s._)("div",nN,[(0,s._)("div",wN,[dN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,st.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",cN,(0,st.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",uN,[pN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,st.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",mN,(0,st.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",gN,[hN,(0,s._)("div",fN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,st.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[bN,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,st.zw)(o.itemCopy.city),9,xN),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,st.zw)(t.name),9,yN)))),128))],34),[[a.bM,o.itemCopy.city]]),vN]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",_N,(0,st.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",kN,[CN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,st.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",DN,(0,st.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",SN,[zN,(0,s._)("div",UN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,st.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,st.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,st.zw)(t.name),11,qN)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),PN]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",LN,(0,st.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",AN,[$N,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,st.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",WN,(0,st.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",EN,[TN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",FN,[VN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,st.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",ON,(0,st.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",IN,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",jN,[RN,(0,s._)("div",MN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.delivery=t),onChange:e[18]||(e[18]=t=>o.errors.delivery=null),class:(0,st.C_)([[o.errors.delivery&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,st.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,st.zw)(t.name),11,NN)))),128))],34),[[a.bM,o.itemCopy.delivery]]),HN]),o.errors.delivery?((0,s.wg)(),(0,s.iD)("label",YN,(0,st.zw)(o.errors.delivery),1)):(0,s.kq)("",!0)]),(0,s._)("div",ZN,[KN,(0,s._)("div",BN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.text]),value:t.value,key:t.id},(0,st.zw)(t.name),11,QN)))),128))],512),[[a.bM,o.itemCopy.upsell]]),JN])]),(0,s._)("div",GN,[(0,s._)("label",XN,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",tH," # "+(0,st.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",eH,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",rH,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),sH],8,aH)])])])),_:1},8,["visible","onCancel"])])}const oH=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!iH(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),iH=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},nH=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},wH=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},dH=(t,e)=>{t.isLoading=!0,t.errors={},$u.update(e.id,e).then((e=>nH(t,e.data))).catch((e=>wH(t,e.response.data))).finally((()=>t.isLoading=!1))},cH={key:0},uH=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),pH={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},mH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),gH=(0,s._)("span",null,"Add Item",-1),hH=[mH,gH],fH={key:1,class:"md:tw-col-span-12 tw-col-span-12"},bH={class:"tw-max-w-full tw-overflow-auto"},xH={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},yH={class:"tw-bg-gray-50"},vH={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},_H={key:0},kH={colspan:"6"},CH={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},DH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),SH=(0,s._)("span",null,"Add Item",-1),zH=[DH,SH],UH=(0,s._)("td",{colspan:"4"},null,-1),qH={colspan:"1",class:"tw-p-2"},PH={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},LH={key:1},AH={colspan:"5"},$H={class:"tw-scale-75 tw-p-5"};function WH(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cH,[uH,(0,s._)("div",pH,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},hH)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",fH,[(0,s._)("div",bH,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",xH,[(0,s._)("tr",yH,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",vH,(0,st.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",_H,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",kH,[(0,s._)("div",CH,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},zH)])])]),(0,s._)("tr",null,[UH,(0,s._)("td",qH,[(0,s._)("div",PH,[(0,s._)("p",null,(0,st.zw)(l.currency)+" "+(0,st.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",LH,[(0,s._)("tr",null,[(0,s._)("td",AH,[(0,s._)("div",$H,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const EH={class:"tw-p-2"},TH={class:"tw-p-2"},FH={key:0,class:"tw-relative"},VH=["value"],OH=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),IH=["value"],jH={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},RH=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),MH=[RH],NH={class:"tw-p-2"},HH=["value"],YH={class:"tw-p-2"},ZH=["value"],KH={class:"tw-flex tw-justify-center"};function BH(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("div",EH,[((0,s.wg)(),(0,s.j4)(i,{reduce:t=>t.id,key:r.item.id,"onOption:selected":e[0]||(e[0]=t=>o.handleProductChange(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Product",modelValue:o.product,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),options:o.allProducts,label:"name"},null,8,["reduce","modelValue","options"])),(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",TH,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",FH,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[3]||(e[3]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[OH,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.color)+" "+(0,st.zw)(t.size),9,IH)))),128))],40,VH)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",jH,MH)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",NH,[(0,s._)("input",{onInput:e[4]||(e[4]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,HH)])]),(0,s._)("td",null,[(0,s._)("div",YH,[(0,s._)("input",{onInput:e[5]||(e[5]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,ZH)])]),(0,s._)("td",null,[(0,s._)("div",KH,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var QH=r(3636),JH={components:{"vue-select":QH.Z},props:{item:{required:!0},products:{required:!0}},computed:{allProducts(){return[{id:0,name:"Choose Product"},...this.products]},product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t,e){const r=1===e?parseInt(t.target.value):t.id;if(!r)return!1;const a=this.products.find((t=>t.id==r)),s={...this.item,product_id:r,product:a,product_ref:a.ref,product_variation_id:a.variations.length>0?a.variations[0].id:null,product_variation:a.variations.length>0?a.variations[0]:null};this.$emit("update",s)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const GH=(0,p.Z)(JH,[["render",BH]]);var XH=GH,tY={components:{ItemRow:XH},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const eY=(0,p.Z)(tY,[["render",WH]]);var rY=eY;const aY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),sY={key:0,class:"tw-relative"},lY=["value","disabled"],oY=(0,s._)("option",{value:""},"Choose a Delivery",-1),iY=["value"],nY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),wY={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dY={key:2,class:"tw-relative"},cY={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},uY=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),pY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function mY(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[aY,l.fetched?((0,s.wg)(),(0,s.iD)("div",sY,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,st.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[oY,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,iY)))),128))],42,lY),nY])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",wY,(0,st.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dY,[(0,s._)("div",cY,[(0,s.Wm)(i)]),uY,pY]))])}var gY={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,rt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const hY=(0,p.Z)(gY,[["render",mY]]);var fY=hY;const bY={key:0},xY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),yY={class:"md:tw-col-span-12 tw-col-span-12"},vY={class:"tw-max-w-full tw-overflow-auto"},_Y={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},kY=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),CY={class:"tw-px-3 tw-py-2"},DY={class:"tw-px-3 tw-py-2"},SY={class:"tw-px-3 tw-py-2"},zY={class:"tw-px-3 tw-py-2"},UY={class:"tw-max-w-[250px] tw-text-sm"};function qY(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",bY,[xY,(0,s._)("div",yY,[(0,s._)("div",vY,[(0,s._)("table",_Y,[kY,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",CY,(0,st.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",DY,(0,st.zw)(t.quantity),1),(0,s._)("td",SY,(0,st.zw)(t.price)+" "+(0,st.zw)(l.currency),1),(0,s._)("td",zY,[(0,s._)("p",UY,(0,st.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var PY={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const LY=(0,p.Z)(PY,[["render",qY]]);var AY=LY,$Y={components:{OrderItems:rY,OrderAffectation:fY,ProductOffersTable:AY},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Iw,deliveryStatus:Nw,upsells:Mw,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=oH(this,this.itemCopy);if(!t)return!1;dH(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,va.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const WY=(0,p.Z)($Y,[["render",lH]]);var EY=WY;const TY={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},FY=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),VY={class:"tw-bg-white tw-p-4"},OY={key:0},IY={key:1,class:"tw-p-5"},jY={class:"d-flex tw-flex-col justify-space-between flex-grow-1"},RY={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},MY={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},NY={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},HY={class:"d-flextw-flex-col justify-space-between flex-grow-1"},YY={class:"tw-flex tw-flex-col tw-my-2"},ZY=(0,s._)("div",null,"New Order Created",-1),KY={class:"tw-flex tw-flex-col"},BY={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},QY={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},JY={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function GY(t,e,r,a,l,o){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",TY,[FY,(0,s._)("div",VY,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",OY,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",IY,[(0,s.Wm)(KW.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(BW.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",jY,[(0,s._)("div",RY,[(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(it.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ZW.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(!t.historique&&["affectation","delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",MY,[(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,st.zw)(t.users.firstname)+" "+(0,st.zw)(t.users.lastname),1)]),(0,s._)("div",NY,[(0,s._)("span",null,(0,st.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,st.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(BW.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",HY,[(0,s._)("div",YY,[(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),ZY]),(0,s._)("div",KY,[(0,s._)("div",BY,[(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,st.zw)(r.item.created_by.firstname)+" "+(0,st.zw)(r.item.created_by.lastname),1)]),(0,s._)("div",QY,[(0,s._)("span",null,(0,st.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,st.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",JY,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var XY={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ka.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const tZ=(0,p.Z)(XY,[["render",GY]]);var eZ=tZ;const rZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},aZ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Item History ",-1),sZ={class:"tw-bg-white tw-p-4"},lZ={key:0},oZ={key:1,class:"tw-p-5"},iZ={class:"d-flextw-flex-col justify-space-between flex-grow-1"},nZ={key:0,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},wZ={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},dZ={key:2,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},cZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},uZ={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},pZ={class:"d-flextw-flex-col justify-space-between flex-grow-1"},mZ={class:"tw-flex tw-flex-col tw-my-2"},gZ=(0,s._)("div",null,"No Changes Happend Yet",-1),hZ={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},fZ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function bZ(t,e,r,a,l,o){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",rZ,[aZ,(0,s._)("div",sZ,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",lZ,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",oZ,[(0,s.Wm)(KW.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(BW.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",iZ,[t.old_product.id!=t.new_product.id?((0,s.wg)(),(0,s.iD)("div",nZ,[(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"purple",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Product ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(it.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.old_product.name),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(it.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ZW.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.new_product.name),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_quantity!=t.new_quantity?((0,s.wg)(),(0,s.iD)("div",wZ,[(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"blue",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Quantity ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(it.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.old_quantity),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(it.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ZW.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.new_quantity),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_price!=t.new_price?((0,s.wg)(),(0,s.iD)("div",dZ,[(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"#118C4F",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Price ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(it.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.old_price),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(it.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ZW.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.new_price),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",cZ,[(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,st.zw)(t.users.firstname)+" "+(0,st.zw)(t.users.lastname),1)]),(0,s._)("div",uZ,[(0,s._)("span",null,(0,st.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,st.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(BW.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",pZ,[(0,s._)("div",mZ,[(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),gZ]),(0,s._)("div",hZ,[(0,s._)("span",null,(0,st.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,st.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",fZ,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var xZ={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getItemHistory(){this.isLoaded=!1,ka.itemHistory(this.item.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={old_product:"red",old_price:"green",old_quantity:"blue"};return["old_product","old_price","old_quantity"].includes(t)?e[t]:"primary-color"}},mounted(){this.getItemHistory()}};const yZ=(0,p.Z)(xZ,[["render",bZ]]);var vZ=yZ,_Z={components:{UpdatePopup:EY,HistoryPopup:eZ,HistoryItemPopup:vZ},props:{item:{required:!0}},data(){return{update:!1,history:!1,historyItem:!1,isLoading:!1}},methods:{handle(){}}};const kZ=(0,p.Z)(_Z,[["render",sN]]);var CZ=kZ;const DZ={key:0},SZ={key:0,class:"tw-relative tw-inline-block tw-text-left"},zZ={key:0},UZ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),qZ=[UZ],PZ={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},LZ={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},AZ=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),$Z=[AZ],WZ={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},EZ={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},TZ={class:"tw-py-1",role:"none"},FZ=["onClick"],VZ={key:1},OZ={class:"tw-p-2 tw-scale-75"};function IZ(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",DZ,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",SZ,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",zZ,qZ)):(0,s.kq)("",!0),(0,s._)("p",PZ,(0,st.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",LZ,$Z)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",WZ,(0,st.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Tt.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",EZ,[(0,s._)("div",TZ,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,st.zw)(t.name),1)],8,FZ)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[ae.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",VZ,[(0,s._)("div",OZ,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var jZ={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};dH(this,e,!1)}}};const RZ=(0,p.Z)(jZ,[["render",IZ]]);var MZ=RZ,NZ={components:{TableActions:CZ,TableRowAffectation:MZ},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ke()}},computed:{confirmation(){return Iw.find((t=>t.value==this.item.confirmation))},deliveryState(){return Nw.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const HZ=(0,p.Z)(NZ,[["render",JM]]);var YZ=HZ,ZZ={components:{TablePaginationNoNums:vM,TableRow:YZ},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const KZ=(0,p.Z)(ZZ,[["render",lM]]);var BZ=KZ;const QZ={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},JZ={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},GZ=["disabled"],XZ=["disabled"],tK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),eK=[tK],rK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),aK=[rK],sK=["disabled"],lK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),oK=[lK],iK=["disabled"],nK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),wK=[nK],dK=["disabled"],cK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),uK=[cK],pK={class:"tw-relative"},mK=["value"],gK=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),hK=[gK],fK=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),bK={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},xK=["value"],yK=(0,s._)("option",{value:"all"},"All",-1),vK=(0,s._)("option",{value:"id"},"ID",-1),_K=[yK,vK],kK=["value"],CK={class:"tw-overflow-hidden tw-col-span-1"},DK={class:"tw-overflow-hidden tw-col-span-1"},SK={class:"tw-overflow-hidden tw-col-span-1"};function zK(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",QZ,[(0,s._)("div",JZ,[(0,s._)("button",{class:(0,st.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,GZ),(0,s._)("button",{title:"Orders Created Today",class:(0,st.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,XZ),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,st.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},eK,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,st.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},aK,2)):(0,s.kq)("",!0),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[4]||(e[4]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,st.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},oK,10,sK),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},wK,8,iK),(0,s._)("button",{title:"Show Export Options",onClick:e[6]||(e[6]=t=>o.showExport=!o.showExport),class:(0,st.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},uK,10,dK),(0,s._)("div",pK,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},hK,40,mK),fK])]),(0,s._)("div",bK,[(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},_K,40,xK),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[9]||(e[9]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[10]||(e[10]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,kK),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,st.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",CK,[(0,s.Wm)(n,{onClear:e[12]||(e[12]=e=>t.$emit("clear")),onFilter:e[13]||(e[13]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[14]||(e[14]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,st.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",DK,[(0,s.Wm)(w,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",SK,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const UK={class:"tw-mb-4"},qK={class:"tw-grid tw-grid-cols-12 tw-gap-4"},PK={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},LK={class:"tw-flex tw-items-center tw-justify-between"},AK={class:"tw-text-xl tw-font-bold tw-text-gray-900"},$K={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function WK(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",UK,[(0,s._)("div",qK,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",PK,[(0,s._)("p",{class:(0,st.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,st.zw)(t.name),3),(0,s._)("div",LK,[(0,s._)("span",AK,(0,st.zw)(t.total),1),(0,s._)("span",$K,(0,st.zw)(t.percent)+"%",1)])])])))),128))])])}var EK={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Iw.find((e=>e.value==t))}}};const TK=(0,p.Z)(EK,[["render",WK]]);var FK=TK;const VK={class:"tw-mb-4"},OK={class:"tw-flex tw-items-center tw-gap-2"},IK=["disabled"],jK=(0,s._)("span",null,"Select Filtered",-1),RK={class:"tw-flex tw-justify-end"},MK=["disabled"];function NK(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",VK,[(0,s._)("div",OK,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),jK],8,IK)]),(0,s._)("div",RK,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,st.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,MK)])])}var HK={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,$u["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const YK=(0,p.Z)(HK,[["render",NK]]);var ZK=YK;const KK={class:"tw-mb-4"},BK={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},QK={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},JK=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),GK=["value"],XK={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),eB=["value"],rB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},aB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),sB=["value"],lB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),iB=["value"],nB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},wB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),dB=["value"],cB=(0,s._)("option",{value:"all",selected:""},"All",-1),uB=["value"],pB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},mB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),gB=["value"],hB=(0,s._)("option",{value:"all",selected:""},"All",-1),fB=["value"],bB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),yB=["value"],vB=(0,s._)("option",{value:"all",selected:""},"All",-1),_B=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),kB=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),CB=[vB,_B,kB],DB={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},SB=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),zB=(0,s._)("span",null,"Clear",-1),UB=[SB,zB],qB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),PB=(0,s._)("span",null,"Filter",-1),LB=[qB,PB];function AB(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),n=(0,s.up)("AgentFilter"),w=(0,s.up)("SellerFilter"),d=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",KK,[(0,s._)("div",BK,[(0,s.kq)("",!0),(0,s._)("div",QK,[JK,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,GK)]),(0,s._)("div",XK,[tB,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,eB)]),(0,s._)("div",rB,[aB,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,sB)]),(0,s._)("div",lB,[oB,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,iB)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",nB,[wB,(0,s._)("select",{value:r.filters.confirmation,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[cB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,st.zw)(t.name),11,uB)))),128))],40,dB)]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",pB,[mB,(0,s._)("select",{onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[hB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,st.zw)(t.name),11,fB)))),128))],40,gB)]),(0,s._)("div",bB,[xB,(0,s._)("select",{value:r.filters.upsell,onChange:e[11]||(e[11]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},CB,40,yB)]),(0,s._)("div",DB,[(0,s._)("button",{onClick:e[12]||(e[12]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},UB),(0,s._)("button",{onClick:e[13]||(e[13]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},LB)])])])}const $B={class:"tw-text-sm tw-text-neutral-600"},WB=["onClick"];function EB(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",$B,(0,st.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,st.zw)(t),9,WB)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var TB={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,no.Z)(new Date,1),(0,no.Z)(new Date,1)]},{label:"This month",range:[(0,wo.Z)(new Date),(0,co.Z)(new Date)]},{label:"Last month",range:[(0,wo.Z)((0,uo.Z)(new Date,1)),(0,co.Z)((0,uo.Z)(new Date,1))]},{label:"This year",range:[(0,po.Z)(new Date),(0,mo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const FB=(0,p.Z)(TB,[["render",EB]]);var VB=FB;const OB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},IB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),jB=["value"],RB=(0,s._)("option",{value:"all"},"All",-1),MB=(0,s._)("option",{value:""},"No Delivery",-1),NB=["value"];function HB(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",OB,[IB,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[RB,MB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,NB)))),128))],40,jB)])}var YB={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const ZB=(0,p.Z)(YB,[["render",HB]]);var KB=ZB;const BB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},QB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),JB=["value"],GB=(0,s._)("option",{value:"all"},"All",-1),XB=(0,s._)("option",{value:""},"No Agent",-1),tQ=["value"];function eQ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",BB,[QB,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[GB,XB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,tQ)))),128))],40,JB)])}var rQ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const aQ=(0,p.Z)(rQ,[["render",eQ]]);var sQ=aQ;const lQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),iQ=["value"],nQ=(0,s._)("option",{value:"all"},"All",-1),wQ=["value"];function dQ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",lQ,[oQ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[nQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,wQ)))),128))],40,iQ)])}var cQ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const uQ=(0,p.Z)(cQ,[["render",dQ]]);var pQ=uQ;const mQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),hQ=["value"],fQ=(0,s._)("option",{value:"all"},"All",-1),bQ=["value"];function xQ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",mQ,[gQ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[fQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.name),9,bQ)))),128))],40,hQ)])}var yQ={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return va.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const vQ=(0,p.Z)(yQ,[["render",xQ]]);var _Q=vQ,kQ={components:{DateFilter:VB,AffectationFilter:KB,AgentFilter:sQ,ProductFilter:_Q,SellerFilter:pQ},props:{filters:{required:!0,default:{}}},data(){return{confirmations:Iw,deliveries:Nw,dateFilter:["",""]}}};const CQ=(0,p.Z)(kQ,[["render",AB]]);var DQ=CQ,SQ={components:{IndexStatistics:FK,FiltersWrapper:DQ,IndexExport:ZK},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ke()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const zQ=(0,p.Z)(SQ,[["render",zK]]);var UQ=zQ;const qQ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},PQ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),LQ={class:"tw-bg-white tw-p-4"},AQ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},$Q={class:"tw-col-span-2 md:tw-col-span-1"},WQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),EQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},TQ={class:"tw-col-span-2 md:tw-col-span-1"},FQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),VQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},OQ={class:"tw-col-span-2 md:tw-col-span-1"},IQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),jQ={class:"tw-relative"},RQ=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),MQ=["value"],NQ=["value"],HQ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),YQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ZQ={class:"tw-col-span-2 md:tw-col-span-1"},KQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),BQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},QQ={class:"tw-col-span-2"},JQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),GQ={class:"tw-relative"},XQ=["value"],tJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),eJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rJ={key:0,class:"md:tw-col-span-1 tw-col-span-2"},aJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),sJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lJ={key:1,class:"md:tw-col-span-1 tw-col-span-2"},oJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),iJ={class:"tw-col-span-2"},nJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),wJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dJ={class:"md:tw-col-span-1 tw-col-span-2"},cJ={class:"md:tw-col-span-1 tw-col-span-2"},uJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),pJ={class:"tw-relative"},mJ=["value"],gJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),hJ={class:"tw-col-span-2"},fJ={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},bJ={key:0,class:"tw-text-red-400 tw-text-xs"},xJ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},yJ=["disabled"],vJ=(0,s._)("span",null,"Create",-1);function _J(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",qQ,[PQ,(0,s._)("div",LQ,[(0,s._)("div",AQ,[(0,s._)("div",$Q,[WQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,st.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",EQ,(0,st.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",TQ,[FQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,st.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",VQ,(0,st.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",OQ,[IQ,(0,s._)("div",jQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,st.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[RQ,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,st.zw)(o.itemCopy.city),9,MQ),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,st.zw)(t.name),9,NQ)))),128))],34),[[a.bM,o.itemCopy.city]]),HQ]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",YQ,(0,st.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",ZQ,[KQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,st.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",BQ,(0,st.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",QQ,[JQ,(0,s._)("div",GQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,st.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,st.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,st.zw)(t.name),11,XQ)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),tJ]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",eJ,(0,st.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",rJ,[aJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,st.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",sJ,(0,st.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",lJ,[oJ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",iJ,[nJ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,st.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",wJ,(0,st.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",dJ,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",cJ,[uJ,(0,s._)("div",pJ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.text]),value:t.value,key:t.id},(0,st.zw)(t.name),11,mJ)))),128))],512),[[a.bM,o.itemCopy.upsell]]),gJ])]),(0,s._)("div",hJ,[(0,s._)("label",fJ,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",bJ," # "+(0,st.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",xJ,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),vJ],8,yJ)])])])),_:1},8,["visible","onCancel"])])}const kJ=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},CJ=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},DJ=(t,e)=>{t.isLoading=!0,t.errors={},$u.create(e).then((e=>kJ(t,e.data))).catch((e=>CJ(t,e.response.data))).finally((()=>t.isLoading=!1))};var SJ={components:{OrderItems:rY,OrderAffectation:fY},props:{visible:{required:!0}},data(){return{confirmations:Iw,upsells:Mw,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=oH(this,this.itemCopy);if(!t)return!1;DJ(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,va.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const zJ=(0,p.Z)(SJ,[["render",_J]]);var UJ=zJ;const qJ={class:"tw-mb-4"},PJ={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},LJ={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},AJ={class:"tw-flex tw-items-center tw-gap-2"},$J={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},WJ=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),EJ={class:"tw-flex tw-items-center tw-gap-2"},TJ=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),FJ=(0,s._)("span",null," Clear Selection ",-1),VJ=[TJ,FJ],OJ=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),IJ=(0,s._)("span",null," Actions ",-1),jJ=[OJ,IJ],RJ={key:0};function MJ(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",qJ,[(0,s._)("div",PJ,[(0,s._)("div",LJ,[(0,s._)("div",AJ,[(0,s._)("div",$J,(0,st.zw)(r.selected.length),1),WJ]),(0,s._)("div",EJ,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},VJ),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},jJ)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",RJ,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const NJ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},HJ={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},YJ=(0,s._)("span",null,"Quick Actions",-1),ZJ={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},KJ={class:"tw-bg-white tw-p-4"},BJ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},QJ={class:"tw-col-span-2 md:tw-col-span-1"},JJ={key:0,class:"tw-col-span-2 md:tw-col-span-1"},GJ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},XJ=(0,s._)("span",null,"Apply",-1);function tG(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",NJ,[(0,s._)("div",HJ,[YJ,(0,s._)("span",ZJ,(0,st.zw)(r.selected.length),1)]),(0,s._)("div",KJ,[(0,s._)("div",BJ,[(0,s._)("div",QJ,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",JJ,[(0,s.Wm)(n,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",GJ,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),XJ])])])])),_:1},8,["visible","closeable","onCancel"])])}const eG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),rG={class:"tw-relative"},aG=["value"],sG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function lG(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[eG,(0,s._)("div",rG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,st.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,aG)))),128))],512),[[a.bM,i.vaction]]),sG]),(0,s.kq)("",!0)])}var oG={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const iG=(0,p.Z)(oG,[["render",lG]]);var nG=iG;const wG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),dG={class:"tw-relative"},cG=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),uG=["value"],pG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function mG(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[wG,(0,s._)("div",dG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,st.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[cG,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.text]),value:t.value,key:t.id},(0,st.zw)(t.name),11,uG)))),128))],512),[[a.bM,i.vvalue]]),pG]),(0,s.kq)("",!0)])}var gG={props:{value:{required:!0}},data(){return{statuses:Nw}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const hG=(0,p.Z)(gG,[["render",mG]]);var fG=hG;class bG{async execute(t){return await $.getCookie(),L.post("api/v1/bulk/execute",t)}}var xG=new bG,yG=(t,e)=>{t.isLoading=!0,xG.execute(e).then((e=>vG(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const vG=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var _G={components:{BulkSelectAction:nG,BulkDeliveryAction:fG},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};yG(this,t)}}};const kG=(0,p.Z)(_G,[["render",tG]]);var CG=kG,DG={components:{BulkPopup:CG},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const SG=(0,p.Z)(DG,[["render",MJ]]);var zG=SG,UG={components:{IndexTable:BZ,IndexFilters:UQ,CreatePopup:UJ,BulkActions:zG},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,$u.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=_o(t.first_page_url),this.lase_page_url=_o(t.last_page_url),this.next_page_url=_o(t.next_page_url),this.prev_page_url=_o(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,rt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const qG=(0,p.Z)(UG,[["render",yR]]);var PG=qG;const LG={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},AG={class:"tw-px-3"},$G={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},WG={class:"tw-flex tw-items-center tw-gap-x-3"},EG=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Dispatched Orders ",-1),TG={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},FG=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of dispatched orders. ",-1),VG={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},OG=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),IG=(0,s._)("span",null,"Create",-1),jG=[OG,IG],RG={class:"tw-overflow-hidden tw-col-span-1"},MG={key:0};function NG(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",LG,[(0,s._)("section",AG,[(0,s._)("div",$G,[(0,s._)("div",null,[(0,s._)("div",WG,[EG,(0,s._)("span",TG,(0,st.zw)(l.totalOrders)+" order",1)]),FG]),(0,s._)("div",VG,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},jG)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,st.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",RG,[(0,s.Wm)(n,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",MG,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var HG={components:{IndexTable:BZ,IndexFilters:UQ,CreatePopup:UJ,BulkActions:zG},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,$u.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=_o(t.first_page_url),this.lase_page_url=_o(t.last_page_url),this.next_page_url=_o(t.next_page_url),this.prev_page_url=_o(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,rt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const YG=(0,p.Z)(HG,[["render",NG]]);var ZG=YG;const KG={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},BG={class:"tw-px-3"},QG={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},JG={class:"tw-flex tw-items-center tw-gap-x-3"},GG=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Shipped Orders ",-1),XG={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},tX=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of shipped orders. ",-1),eX={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},rX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),aX=(0,s._)("span",null,"Create",-1),sX=[rX,aX],lX={class:"tw-overflow-hidden tw-col-span-1"},oX={key:0};function iX(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",KG,[(0,s._)("section",BG,[(0,s._)("div",QG,[(0,s._)("div",null,[(0,s._)("div",JG,[GG,(0,s._)("span",XG,(0,st.zw)(l.totalOrders)+" order",1)]),tX]),(0,s._)("div",eX,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},sX)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,st.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",lX,[(0,s.Wm)(n,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",oX,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var nX={components:{IndexTable:BZ,IndexFilters:UQ,CreatePopup:UJ,BulkActions:zG},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,$u.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=_o(t.first_page_url),this.lase_page_url=_o(t.last_page_url),this.next_page_url=_o(t.next_page_url),this.prev_page_url=_o(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,rt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const wX=(0,p.Z)(nX,[["render",iX]]);var dX=wX;const cX={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},uX={class:"tw-px-3"},pX={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},mX={class:"tw-flex tw-items-center tw-gap-x-3"},gX=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),hX={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},fX=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),bX={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},xX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),yX=(0,s._)("span",null,"Create",-1),vX=[xX,yX],_X={class:"tw-overflow-hidden tw-col-span-1"},kX={key:0};function CX(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",cX,[(0,s._)("section",uX,[(0,s._)("div",pX,[(0,s._)("div",null,[(0,s._)("div",mX,[gX,(0,s._)("span",hX,(0,st.zw)(l.totalOrders)+" order",1)]),fX]),(0,s._)("div",bX,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},vX)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,st.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",_X,[(0,s.Wm)(n,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",kX,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const DX={class:"tw-flex tw-flex-col"},SX={class:"tw-overflow-x-auto"},zX={class:"tw-inline-block tw-min-w-full tw-align-middle"},UX={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},qX={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},PX={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},LX={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},AX={class:"tw-max-w-[25px]"},$X={class:"tw-inline-flex tw-items-center"},WX={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},EX=["checked"],TX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),FX=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),VX={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},OX=(0,s._)("span",null,"Created",-1),IX=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),jX=[OX,IX],RX=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),MX=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),NX=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),HX=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),YX=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),ZX=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),KX=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),BX=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),QX={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},JX={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},GX=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),XX=[GX],t0={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},e0={colspan:"11"},r0={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},a0=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),s0=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),l0=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),o0=[s0,l0],i0={class:"tw-mt-6"};function n0(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",DX,[(0,s._)("div",SX,[(0,s._)("div",zX,[(0,s._)("div",UX,[(0,s._)("table",qX,[(0,s._)("thead",PX,[(0,s._)("tr",null,[(0,s._)("th",LX,[(0,s._)("div",AX,[(0,s._)("div",$X,[(0,s._)("label",WX,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,EX),TX])])])]),FX,(0,s._)("th",VX,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},jX)]),RX,MX,NX,HX,YX,ZX,KX,BX])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",QX,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,n)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",JX,XX)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",t0,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",e0,[(0,s._)("div",r0,[a0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},o0)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",i0,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const w0={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},d0={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},c0={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},u0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},p0=["disabled"],m0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),g0=(0,s._)("span",null," previous ",-1),h0=[m0,g0],f0=["disabled"],b0=(0,s._)("span",null," Next ",-1),x0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),y0=[b0,x0];function v0(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",w0,[(0,s._)("div",d0,[(0,s.Uk)(" Page "),(0,s._)("span",c0,(0,st.zw)(r.currentPage)+" of "+(0,st.zw)(r.lastPage),1)]),(0,s._)("div",u0,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,st.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},h0,10,p0),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,st.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},y0,10,f0)])])])}var _0={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const k0=(0,p.Z)(_0,[["render",v0]]);var C0=k0;const D0={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},S0={class:"tw-max-w-[25px]"},z0={class:"tw-inline-flex tw-items-center"},U0={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},q0=["checked","id"],P0=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),L0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},A0={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},$0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},W0={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},E0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},T0={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},F0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},V0={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},O0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},I0={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},j0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},R0={class:"tw-space-y-1"},M0={class:"tw-font-bold tw-text-green-500"},N0={class:"tw-block tw-max-w-[150px] tw-truncate"},H0={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},Y0={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},Z0={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},K0={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},B0={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Q0={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function J0(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,st.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",D0,[(0,s._)("div",S0,[(0,s._)("div",z0,[(0,s._)("label",U0,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,q0),P0])])])]),(0,s._)("td",L0,[(0,s._)("div",null,[(0,s._)("h2",A0,(0,st.zw)(r.item.id),1)])]),(0,s._)("td",$0,[(0,s._)("div",null,[(0,s._)("h2",W0,[(0,s._)("p",null,(0,st.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",E0,[(0,s._)("div",null,[(0,s._)("h2",T0,(0,st.zw)(r.item.fullname),1)])]),(0,s._)("td",F0,[(0,s._)("div",null,[(0,s._)("h2",V0,(0,st.zw)(r.item.city),1)])]),(0,s._)("td",O0,[(0,s._)("div",null,[(0,s._)("h2",I0,(0,st.zw)(r.item.phone),1)])]),(0,s._)("td",j0,[(0,s._)("div",null,[(0,s._)("ul",R0,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",M0,(0,st.zw)(t.quantity)+" x ",1),(0,s._)("span",N0,(0,st.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",H0,(0,st.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",Y0,(0,st.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",Z0,[(0,s._)("div",null,[(0,s._)("span",{class:(0,st.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,st.zw)(o.confirmation.name),3)])]),(0,s._)("td",K0,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",B0,[(0,s._)("div",null,[(0,s._)("span",{class:(0,st.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,st.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",Q0,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const G0={class:"tw-h-full"},X0={class:"tw-flex tw-items-center tw-gap-2"},t1=["href"],e1={key:0};function r1(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",G0,[(0,s._)("div",X0,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,t1),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",e1,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[2]||(e[2]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const a1={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},s1=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),l1={class:"tw-bg-white tw-p-4"},o1={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},i1={class:"tw-col-span-2 md:tw-col-span-1"},n1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),w1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},d1={class:"tw-col-span-2 md:tw-col-span-1"},c1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),u1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},p1={class:"tw-col-span-2 md:tw-col-span-1"},m1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),g1={class:"tw-relative"},h1=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),f1=["value"],b1=["value"],x1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),y1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},v1={class:"tw-col-span-2 md:tw-col-span-1"},_1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),k1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},C1={class:"tw-col-span-2"},D1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),S1={class:"tw-relative"},z1=["value"],U1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),q1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},P1={key:0,class:"md:tw-col-span-1 tw-col-span-2"},L1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),A1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$1={key:1,class:"md:tw-col-span-1 tw-col-span-2"},W1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),E1={class:"tw-col-span-2"},T1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),F1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},V1={class:"md:tw-col-span-1 tw-col-span-2"},O1={class:"md:tw-col-span-1 tw-col-span-2"},I1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),j1={class:"tw-relative"},R1=["value"],M1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),N1={class:"tw-col-span-2"},H1={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Y1={key:0,class:"tw-text-red-400 tw-text-xs"},Z1={key:3,class:"tw-col-span-2"},K1={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},B1=["disabled"],Q1=(0,s._)("span",null,"Update",-1);function J1(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",a1,[s1,(0,s._)("div",l1,[(0,s._)("div",o1,[(0,s._)("div",i1,[n1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,st.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",w1,(0,st.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",d1,[c1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,st.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",u1,(0,st.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",p1,[m1,(0,s._)("div",g1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,st.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[h1,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,st.zw)(o.itemCopy.city),9,f1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,st.zw)(t.name),9,b1)))),128))],34),[[a.bM,o.itemCopy.city]]),x1]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",y1,(0,st.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",v1,[_1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,st.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",k1,(0,st.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",C1,[D1,(0,s._)("div",S1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,st.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,st.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,st.zw)(t.name),11,z1)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),U1]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",q1,(0,st.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",P1,[L1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,st.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",A1,(0,st.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",$1,[W1,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",E1,[T1,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,st.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",F1,(0,st.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",V1,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",O1,[I1,(0,s._)("div",j1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.text]),value:t.value,key:t.id},(0,st.zw)(t.name),11,R1)))),128))],512),[[a.bM,o.itemCopy.upsell]]),M1])]),(0,s._)("div",N1,[(0,s._)("label",H1,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",Y1," # "+(0,st.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",Z1,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",K1,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Q1],8,B1)])])])),_:1},8,["visible","onCancel"])])}const G1=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!X1(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),X1=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},t2=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},e2=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},r2=(t,e)=>{t.isLoading=!0,t.errors={},$u.update(e.id,e).then((e=>t2(t,e.data))).catch((e=>e2(t,e.response.data))).finally((()=>t.isLoading=!1))},a2={key:0},s2=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),l2={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},o2=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),i2=(0,s._)("span",null,"Add Item",-1),n2=[o2,i2],w2={key:1,class:"md:tw-col-span-12 tw-col-span-12"},d2={class:"tw-max-w-full tw-overflow-auto"},c2={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},u2={class:"tw-bg-gray-50"},p2={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},m2={key:0},g2={colspan:"6"},h2={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},f2=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),b2=(0,s._)("span",null,"Add Item",-1),x2=[f2,b2],y2=(0,s._)("td",{colspan:"4"},null,-1),v2=(0,s._)("td",null,null,-1),_2={colspan:"1",class:"tw-p-2"},k2={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},C2={key:1},D2={colspan:"6"},S2={class:"tw-scale-75 tw-p-5"};function z2(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",a2,[s2,(0,s._)("div",l2,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},n2)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",w2,[(0,s._)("div",d2,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",c2,[(0,s._)("tr",u2,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",p2,(0,st.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",m2,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",g2,[(0,s._)("div",h2,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},x2)])])]),(0,s._)("tr",null,[y2,v2,(0,s._)("td",_2,[(0,s._)("div",k2,[(0,s._)("p",null,(0,st.zw)(l.currency)+" "+(0,st.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",C2,[(0,s._)("tr",null,[(0,s._)("td",D2,[(0,s._)("div",S2,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const U2=(0,s._)("td",null,null,-1),q2={class:"tw-p-2"},P2={class:"tw-relative"},L2=["value"],A2=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),$2=["value"],W2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),E2={class:"tw-p-2"},T2={key:0,class:"tw-relative"},F2=["value"],V2=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),O2=["value"],I2={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},j2=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),R2=[j2],M2={class:"tw-p-2"},N2=["value"],H2={class:"tw-p-2"},Y2=["value"],Z2={class:"tw-flex tw-justify-center"};function K2(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[U2,(0,s._)("td",null,[(0,s._)("div",q2,[(0,s._)("div",P2,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[A2,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.name),9,$2)))),128))],40,L2),W2])])]),(0,s._)("td",null,[(0,s._)("div",E2,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",T2,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[V2,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.color)+" "+(0,st.zw)(t.size),9,O2)))),128))],40,F2)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",I2,R2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",M2,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,N2)])]),(0,s._)("td",null,[(0,s._)("div",H2,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Y2)])]),(0,s._)("td",null,[(0,s._)("div",Z2,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var B2={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const Q2=(0,p.Z)(B2,[["render",K2]]);var J2=Q2,G2={components:{ItemRow:J2},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const X2=(0,p.Z)(G2,[["render",z2]]);var t5=X2;const e5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),r5={key:0,class:"tw-relative"},a5=["value","disabled"],s5=(0,s._)("option",{value:""},"Choose a Delivery",-1),l5=["value"],o5=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),i5={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},n5={key:2,class:"tw-relative"},w5={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},d5=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),c5=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function u5(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[e5,l.fetched?((0,s.wg)(),(0,s.iD)("div",r5,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,st.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[s5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,l5)))),128))],42,a5),o5])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",i5,(0,st.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",n5,[(0,s._)("div",w5,[(0,s.Wm)(i)]),d5,c5]))])}var p5={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,rt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const m5=(0,p.Z)(p5,[["render",u5]]);var g5=m5;const h5={key:0},f5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),b5={class:"md:tw-col-span-12 tw-col-span-12"},x5={class:"tw-max-w-full tw-overflow-auto"},y5={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},v5=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),_5={class:"tw-px-3 tw-py-2"},k5={class:"tw-px-3 tw-py-2"},C5={class:"tw-px-3 tw-py-2"},D5={class:"tw-px-3 tw-py-2"},S5={class:"tw-max-w-[250px] tw-text-sm"};function z5(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",h5,[f5,(0,s._)("div",b5,[(0,s._)("div",x5,[(0,s._)("table",y5,[v5,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",_5,(0,st.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",k5,(0,st.zw)(t.quantity),1),(0,s._)("td",C5,(0,st.zw)(t.price)+" "+(0,st.zw)(l.currency),1),(0,s._)("td",D5,[(0,s._)("p",S5,(0,st.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var U5={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const q5=(0,p.Z)(U5,[["render",z5]]);var P5=q5,L5={components:{OrderItems:t5,OrderAffectation:g5,ProductOffersTable:P5},props:{visible:{required:!0},item:{required:!0}},data(){return{followup_confirmations:Rw,deliveryStatus:Nw,upsells:Mw,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=G1(this,this.itemCopy);if(!t)return!1;r2(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,va.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const A5=(0,p.Z)(L5,[["render",J1]]);var $5=A5,W5={components:{UpdatePopup:$5},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const E5=(0,p.Z)(W5,[["render",r1]]);var T5=E5;const F5={key:0},V5={key:0,class:"tw-relative tw-inline-block tw-text-left"},O5={key:0},I5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),j5=[I5],R5={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},M5={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},N5=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),H5=[N5],Y5={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},Z5={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},K5={class:"tw-py-1",role:"none"},B5=["onClick"],Q5={key:1},J5={class:"tw-p-2 tw-scale-75"};function G5(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",F5,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",V5,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",O5,j5)):(0,s.kq)("",!0),(0,s._)("p",R5,(0,st.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",M5,H5)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",Y5,(0,st.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Tt.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",Z5,[(0,s._)("div",K5,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,st.zw)(t.name),1)],8,B5)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[ae.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",Q5,[(0,s._)("div",J5,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var X5={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};r2(this,e,!1)}}};const t4=(0,p.Z)(X5,[["render",G5]]);var e4=t4,r4={components:{TableActions:T5,TableRowAffectation:e4},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ke()}},computed:{confirmation(){return Iw.find((t=>t.value==this.item.confirmation))},deliveryState(){return Nw.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const a4=(0,p.Z)(r4,[["render",J0]]);var s4=a4,l4={components:{TablePaginationNoNums:C0,TableRow:s4},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const o4=(0,p.Z)(l4,[["render",n0]]);var i4=o4;const n4={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},w4={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},d4=["disabled"],c4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),u4=[c4],p4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),m4=[p4],g4=["disabled"],h4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),f4=[h4],b4={class:"tw-relative"},x4=["value"],y4=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),v4=[y4],_4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),k4={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},C4=["value"],D4={class:"tw-overflow-hidden tw-col-span-1"},S4={class:"tw-overflow-hidden tw-col-span-1"};function z4(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=((0,s.up)("IndexExport"),(0,s.up)("IndexStatistics"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",n4,[(0,s._)("div",w4,[(0,s._)("button",{class:(0,st.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,d4),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,st.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},u4,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:1,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,st.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},m4,2)):(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},f4,8,g4),(0,s.kq)("",!0),(0,s._)("div",b4,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},v4,40,x4),_4])]),(0,s._)("div",k4,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,C4),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,st.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",D4,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s.kq)("",!0),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,st.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",S4,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const U4={class:"tw-mb-4"},q4={class:"tw-grid tw-grid-cols-12 tw-gap-4"},P4={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},L4={class:"tw-flex tw-items-center tw-justify-between"},A4={class:"tw-text-xl tw-font-bold tw-text-gray-900"},$4={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function W4(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",U4,[(0,s._)("div",q4,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",P4,[(0,s._)("p",{class:(0,st.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,st.zw)(t.name),3),(0,s._)("div",L4,[(0,s._)("span",A4,(0,st.zw)(t.total),1),(0,s._)("span",$4,(0,st.zw)(t.percent)+"%",1)])])])))),128))])])}var E4={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Iw.find((e=>e.value==t))}}};const T4=(0,p.Z)(E4,[["render",W4]]);var F4=T4;const V4={class:"tw-mb-4"},O4={class:"tw-flex tw-items-center tw-gap-2"},I4=["disabled"],j4=(0,s._)("span",null,"Select Filtered",-1),R4={class:"tw-flex tw-justify-end"},M4=["disabled"];function N4(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",V4,[(0,s._)("div",O4,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),j4],8,I4)]),(0,s._)("div",R4,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,st.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,M4)])])}var H4={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,$u["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const Y4=(0,p.Z)(H4,[["render",N4]]);var Z4=Y4;const K4={class:"tw-mb-4"},B4={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Q4={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},J4=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),G4=["value"],X4=(0,s._)("option",{value:"all",selected:""},"All",-1),t3=["value"],e3={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},r3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),a3=["value"],s3=(0,s._)("option",{value:"all",selected:""},"All",-1),l3=["value"],o3={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},i3=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),n3=(0,s._)("span",null,"Clear",-1),w3=[i3,n3],d3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),c3=(0,s._)("span",null,"Filter",-1),u3=[d3,c3];function p3(t,e,r,a,l,o){(0,s.up)("ProductFilter"),(0,s.up)("AgentFilter");const i=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",K4,[(0,s._)("div",B4,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",Q4,[J4,(0,s._)("select",{value:r.filters.followup_confirmation,onChange:e[6]||(e[6]=e=>t.$emit("update",{...r.filters,followup_confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[X4,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,st.zw)(t.name),11,t3)))),128))],40,G4)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",e3,[r3,(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[s3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,st.zw)(t.name),11,l3)))),128))],40,a3)]),(0,s.kq)("",!0),(0,s._)("div",o3,[(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},w3),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},u3)])])])}const m3={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},g3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),h3=["value"],f3=(0,s._)("option",{value:"all"},"All",-1),b3=(0,s._)("option",{value:""},"No Delivery",-1),x3=["value"];function y3(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",m3,[g3,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[f3,b3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,x3)))),128))],40,h3)])}var v3={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const _3=(0,p.Z)(v3,[["render",y3]]);var k3=_3;const C3={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},D3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),S3=["value"],z3=(0,s._)("option",{value:"all"},"All",-1),U3=(0,s._)("option",{value:""},"No Agent",-1),q3=["value"];function P3(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",C3,[D3,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[z3,U3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,q3)))),128))],40,S3)])}var L3={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const A3=(0,p.Z)(L3,[["render",P3]]);var $3=A3;const W3={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},E3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),T3=["value"],F3=(0,s._)("option",{value:"all"},"All",-1),V3=["value"];function O3(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",W3,[E3,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[F3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.name),9,V3)))),128))],40,T3)])}var I3={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return va.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const j3=(0,p.Z)(I3,[["render",O3]]);var R3=j3,M3={components:{AffectationFilter:k3,AgentFilter:$3,ProductFilter:R3},props:{filters:{required:!0,default:{}}},data(){return{followup_confirmations:Rw,deliveries:Nw,dateFilter:["",""]}}};const N3=(0,p.Z)(M3,[["render",p3]]);var H3=N3,Y3={components:{IndexStatistics:F4,FiltersWrapper:H3,IndexExport:Z4},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ke()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const Z3=(0,p.Z)(Y3,[["render",z4]]);var K3=Z3;const B3={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Q3=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),J3={class:"tw-bg-white tw-p-4"},G3={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},X3={class:"tw-col-span-2 md:tw-col-span-1"},t6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),e6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},r6={class:"tw-col-span-2 md:tw-col-span-1"},a6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),s6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},l6={class:"tw-col-span-2 md:tw-col-span-1"},o6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),i6={class:"tw-relative"},n6=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),w6=["value"],d6=["value"],c6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),u6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},p6={class:"tw-col-span-2 md:tw-col-span-1"},m6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),g6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},h6={class:"tw-col-span-2"},f6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),b6={class:"tw-relative"},x6=["value"],y6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),v6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_6={key:0,class:"md:tw-col-span-1 tw-col-span-2"},k6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),C6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},D6={key:1,class:"md:tw-col-span-1 tw-col-span-2"},S6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),z6={class:"tw-col-span-2"},U6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),q6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},P6={class:"md:tw-col-span-1 tw-col-span-2"},L6={class:"md:tw-col-span-1 tw-col-span-2"},A6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),$6={class:"tw-relative"},W6=["value"],E6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),T6={class:"tw-col-span-2"},F6={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},V6={key:0,class:"tw-text-red-400 tw-text-xs"},O6={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},I6=["disabled"],j6=(0,s._)("span",null,"Create",-1);function R6(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",B3,[Q3,(0,s._)("div",J3,[(0,s._)("div",G3,[(0,s._)("div",X3,[t6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,st.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",e6,(0,st.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",r6,[a6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,st.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",s6,(0,st.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",l6,[o6,(0,s._)("div",i6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,st.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[n6,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,st.zw)(o.itemCopy.city),9,w6),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,st.zw)(t.name),9,d6)))),128))],34),[[a.bM,o.itemCopy.city]]),c6]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",u6,(0,st.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",p6,[m6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,st.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",g6,(0,st.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",h6,[f6,(0,s._)("div",b6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,st.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,st.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,st.zw)(t.name),11,x6)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),y6]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",v6,(0,st.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",_6,[k6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,st.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",C6,(0,st.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",D6,[S6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",z6,[U6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,st.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",q6,(0,st.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",P6,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",L6,[A6,(0,s._)("div",$6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.text]),value:t.value,key:t.id},(0,st.zw)(t.name),11,W6)))),128))],512),[[a.bM,o.itemCopy.upsell]]),E6])]),(0,s._)("div",T6,[(0,s._)("label",F6,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",V6," # "+(0,st.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",O6,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),j6],8,I6)])])])),_:1},8,["visible","onCancel"])])}const M6=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},N6=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},H6=(t,e)=>{t.isLoading=!0,t.errors={},Di.create(e).then((e=>M6(t,e.data))).catch((e=>N6(t,e.response.data))).finally((()=>t.isLoading=!1))};var Y6={components:{OrderItems:t5,OrderAffectation:g5},props:{visible:{required:!0}},data(){return{followup_confirmations:Rw,upsells:Mw,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=G1(this,this.itemCopy);if(!t)return!1;H6(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,va.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:"confirmer",upsell:null,items:[]},this.getProducts()}};const Z6=(0,p.Z)(Y6,[["render",R6]]);var K6=Z6,B6={components:{IndexTable:i4,IndexFilters:K3,CreatePopup:K6,BulkActions:zG},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Di.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=_o(t.first_page_url),this.lase_page_url=_o(t.last_page_url),this.next_page_url=_o(t.next_page_url),this.prev_page_url=_o(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,rt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const Q6=(0,p.Z)(B6,[["render",CX]]);var J6=Q6,G6={name:"sales",path:"/sales",component:Wa,meta:{module:"sale"},children:[{name:"sale/list",path:"",component:oR,meta:{module:"sale",subModule:"sale/list",title:"Sales List",gate:"show_all_sales"}},{name:"sale/newlist",path:"new",component:PG,meta:{module:"sale",subModule:"sale/newlist",title:"Sales List",gate:"show_all_sales"}},{name:"sale/expidation",path:"expidation",component:ZG,meta:{module:"sale",subModule:"sale/expidation",title:"Expidation",gate:"show_all_expidations"}},{name:"sale/shipping",path:"shipping",component:dX,meta:{module:"sale",subModule:"sale/shipping",title:"Shipping",gate:"show_all_expidations"}},{name:"sale/followup",path:"followup",component:J6,meta:{module:"followup",subModule:"sale/followup",title:"Follow Up",gate:"show_all_expidations"}}]};const X6={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},t8={class:"tw-px-3"},e8={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},r8={class:"tw-flex tw-items-center tw-gap-x-3"},a8=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),s8={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},l8=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"List of all orders.",-1),o8={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},i8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),n8=(0,s._)("span",null,"Create",-1),w8=[i8,n8],d8={key:0};function c8(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",X6,[(0,s._)("section",t8,[(0,s._)("div",e8,[(0,s._)("div",null,[(0,s._)("div",r8,[a8,(0,s._)("span",s8,(0,st.zw)(l.totalOrders)+" order",1)]),l8]),(0,s._)("div",o8,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},w8)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",d8,[(0,s.Wm)(w,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const u8={class:"tw-flex tw-flex-col"},p8={class:"tw-overflow-x-auto"},m8={class:"tw-inline-block tw-min-w-full tw-align-middle"},g8={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},h8={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},f8={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},b8=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),x8={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},y8=(0,s._)("span",null,"Created",-1),v8=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),_8=[y8,v8],k8=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),C8=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),D8=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Products ",-1),S8=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),z8=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),U8=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),q8={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},P8={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},L8=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),A8=[L8],$8={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},W8={colspan:"8"},E8={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},T8=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),F8=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),V8=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),O8=[F8,V8],I8={class:"tw-mt-6"};function j8(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",u8,[(0,s._)("div",p8,[(0,s._)("div",m8,[(0,s._)("div",g8,[(0,s._)("table",h8,[(0,s._)("thead",f8,[(0,s._)("tr",null,[b8,(0,s._)("th",x8,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},_8)]),k8,C8,D8,S8,z8,U8])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",q8,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",P8,A8)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",$8,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",W8,[(0,s._)("div",E8,[T8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},O8)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",I8,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const R8={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},M8={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},N8={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},H8={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Y8=["disabled"],Z8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),K8=(0,s._)("span",null," previous ",-1),B8=[Z8,K8],Q8=["disabled"],J8=(0,s._)("span",null," Next ",-1),G8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),X8=[J8,G8];function t7(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",R8,[(0,s._)("div",M8,[(0,s.Uk)(" Page "),(0,s._)("span",N8,(0,st.zw)(r.currentPage)+" of "+(0,st.zw)(r.lastPage),1)]),(0,s._)("div",H8,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,st.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},B8,10,Y8),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,st.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},X8,10,Q8)])])])}var e7={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const r7=(0,p.Z)(e7,[["render",t7]]);var a7=r7;const s7={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},l7={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},o7={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},i7={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},n7={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},w7={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},d7={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},c7={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},u7={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},p7={class:"tw-space-y-1"},m7={class:"tw-font-bold tw-text-green-500"},g7={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},h7={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},f7={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},b7={class:"tw-px-12 tw-py-2 tw-text-sm tw-whitespace-nowrap"},x7=(0,s._)("div",{class:"tw-w-1.5 tw-h-1.5 tw-rounded-full tw-bg-emerald-500"},null,-1),y7={key:1},v7={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function _7(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",s7,[(0,s._)("div",null,[(0,s._)("h2",l7,(0,st.zw)(r.item.id),1)])]),(0,s._)("td",o7,[(0,s._)("div",null,[(0,s._)("h2",i7,[(0,s._)("p",null,(0,st.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",n7,[(0,s._)("div",null,[(0,s._)("h2",w7,(0,st.zw)(r.item.fullname),1)])]),(0,s._)("td",d7,[(0,s._)("div",null,[(0,s._)("h2",c7,(0,st.zw)(r.item.phone),1)])]),(0,s._)("td",u7,[(0,s._)("div",null,[(0,s._)("ul",p7,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",m7,(0,st.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,st.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",g7,(0,st.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",h7,(0,st.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",f7,[(0,s._)("span",{class:(0,st.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,st.zw)(o.confirmation.name),3)]),(0,s._)("td",b7,[r.item.delivery_fullname?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([["tw-text-emerald-800","tw-bg-emerald-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-pl-1.5 tw-py-0.5 tw-rounded tw-w-fit tw-flex tw-items-center tw-gap-2"])},[x7,(0,s._)("span",null,(0,st.zw)(r.item.delivery_fullname),1)])):((0,s.wg)(),(0,s.iD)("div",y7,[(0,s._)("span",{class:(0,st.C_)([["tw-text-gray-800","tw-bg-gray-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},"No Delivery")]))]),(0,s._)("td",v7,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const k7={class:"tw-h-full"},C7={class:"tw-flex tw-items-center tw-gap-2"},D7=["href"],S7={key:0};function z7(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",k7,[(0,s._)("div",C7,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,D7),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",S7,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const U7={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},q7=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),P7={class:"tw-bg-white tw-p-4"},L7={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},A7={class:"tw-col-span-2 md:tw-col-span-1"},$7=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),W7={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},E7={class:"tw-col-span-2 md:tw-col-span-1"},T7=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),F7={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},V7={class:"tw-col-span-2 md:tw-col-span-1"},O7=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),I7={class:"tw-relative"},j7=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),R7=["value"],M7=["value"],N7=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),H7={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Y7={class:"tw-col-span-2 md:tw-col-span-1"},Z7=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),K7={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},B7={class:"tw-col-span-2"},Q7=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),J7={class:"tw-relative"},G7=["value"],X7=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),t9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},e9={key:0,class:"md:tw-col-span-1 tw-col-span-2"},r9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),a9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},s9={key:1,class:"md:tw-col-span-1 tw-col-span-2"},l9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),o9={class:"tw-col-span-2"},i9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),n9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},w9={class:"md:tw-col-span-1 tw-col-span-2"},d9={class:"md:tw-col-span-1 tw-col-span-2"},c9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),u9={class:"tw-relative"},p9=["value"],m9=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),g9={class:"tw-col-span-2"},h9={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},f9={key:0,class:"tw-text-red-400 tw-text-xs"},b9={key:2,class:"tw-col-span-2"},x9={class:"tw-grid lg:tw-grid-cols-2 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},y9={class:"tw-space-y-2 tw-px-5"},v9=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-youtube tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Video Link")],-1),_9=["href"],k9={class:"tw-space-y-2 tw-px-5"},C9=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-store tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Store Link")],-1),D9=["href"],S9={key:3,class:"tw-col-span-2"},z9={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},U9=["disabled"],q9=(0,s._)("span",null,"Update",-1);function P9(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",U7,[q7,(0,s._)("div",P7,[(0,s._)("div",L7,[(0,s._)("div",A7,[$7,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,st.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",W7,(0,st.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",E7,[T7,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,st.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",F7,(0,st.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",V7,[O7,(0,s._)("div",I7,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,st.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[j7,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,st.zw)(o.itemCopy.city),9,R7),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,st.zw)(t.name),9,M7)))),128))],34),[[a.bM,o.itemCopy.city]]),N7]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",H7,(0,st.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Y7,[Z7,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,st.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",K7,(0,st.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",B7,[Q7,(0,s._)("div",J7,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,st.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,st.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,st.zw)(t.name),11,G7)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),X7]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",t9,(0,st.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",e9,[r9,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,st.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",a9,(0,st.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",s9,[l9,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",o9,[i9,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,st.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",n9,(0,st.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",w9,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",d9,[c9,(0,s._)("div",u9,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.text]),value:t.value,key:t.id},(0,st.zw)(t.name),11,p9)))),128))],512),[[a.bM,o.itemCopy.upsell]]),m9])]),(0,s._)("div",g9,[(0,s._)("label",h9,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",f9," # "+(0,st.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{action:"update",order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",b9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",x9,[(0,s._)("div",y9,[v9,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.video},(0,st.zw)(i.truncateText(t.video,30)),9,_9)]),(0,s._)("div",k9,[C9,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.store},(0,st.zw)(i.truncateText(t.store,30)),9,D9)])])])))),128))])):(0,s.kq)("",!0),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",S9,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",z9,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),q9],8,U9)])])])),_:1},8,["visible","onCancel"])])}const L9=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!A9(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),A9=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},$9=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={},t.$store.dispatch("agent/refreshCounts")},W9=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},E9=(t,e)=>{t.isLoading=!0,t.errors={},E.update(e.id,e).then((e=>$9(t,e.data))).catch((e=>W9(t,e.response.data))).finally((()=>t.isLoading=!1))},T9={key:0},F9=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),V9={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},O9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),I9=(0,s._)("span",null,"Add Item",-1),j9=[O9,I9],R9={key:1,class:"md:tw-col-span-12 tw-col-span-12"},M9={class:"tw-max-w-full tw-overflow-auto"},N9={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},H9={class:"tw-bg-gray-50"},Y9={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Z9={key:0},K9={colspan:"5"},B9={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Q9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),J9=(0,s._)("span",null,"Add Item",-1),G9=[Q9,J9],X9=(0,s._)("td",{colspan:"4"},null,-1),ttt={colspan:"1",class:"tw-p-2"},ett={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},rtt={key:1},att={colspan:"6"},stt={class:"tw-scale-75 tw-p-5"};function ltt(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",T9,[F9,(0,s._)("div",V9,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},j9)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",R9,[(0,s._)("div",M9,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",N9,[(0,s._)("tr",H9,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Y9,(0,st.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",Z9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,action:r.action,item:t,order:r.order,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["action","item","order","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",K9,[(0,s._)("div",B9,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},G9)])])]),(0,s._)("tr",null,[X9,(0,s._)("td",ttt,[(0,s._)("div",ett,[(0,s._)("p",null,(0,st.zw)(l.currency)+" "+(0,st.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",rtt,[(0,s._)("tr",null,[(0,s._)("td",att,[(0,s._)("div",stt,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const ott={class:"tw-p-2"},itt={class:"tw-p-2"},ntt={key:0,class:"tw-relative"},wtt=["value"],dtt=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),ctt=["value"],utt={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},ptt=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),mtt=[ptt],gtt={class:"tw-p-2"},htt=["value"],ftt={class:"tw-p-2"},btt=["value"],xtt={class:"tw-flex tw-justify-center"};function ytt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("div",ott,[((0,s.wg)(),(0,s.j4)(i,{reduce:t=>t.id,key:r.item.id,"onOption:selected":e[0]||(e[0]=t=>o.handleProductChange(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Product",modelValue:o.product,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),options:o.allProducts,label:"name"},null,8,["reduce","modelValue","options"])),(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",itt,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",ntt,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[3]||(e[3]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[dtt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.color)+" "+(0,st.zw)(t.size),9,ctt)))),128))],40,wtt)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",utt,mtt)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",gtt,[(0,s._)("input",{onInput:e[4]||(e[4]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,htt)])]),(0,s._)("td",null,[(0,s._)("div",ftt,[(0,s._)("input",{onInput:e[5]||(e[5]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,btt)])]),(0,s._)("td",null,[(0,s._)("div",xtt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var vtt={components:{"vue-select":QH.Z},props:{item:{required:!0},products:{required:!0},order:{required:!1},action:{required:!0}},computed:{allProducts(){return[{id:0,name:"Choose Product"},...this.products]},product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))},productsForUpdate(){return this.products.filter((t=>t.user_id==this.order.user_id))},productsForCreate(){if(!this.order.items.length)return this.products;const t=this.order.items[0];return t.product_id?this.products.filter((e=>e.user_id==t.product.user_id)):this.products},filteredProducts(){return"update"==this.action?this.productsForUpdate:this.productsForCreate}},methods:{handleProductChange(t,e){const r=1===e?parseInt(t.target.value):t.id;if(!r)return!1;const a=this.products.find((t=>t.id==r));console.log(a.variations.length>0?a.variations[0].id:null);const s={...this.item,product_id:r,product:a,product_ref:a.ref,product_variation_id:a.variations.length>0?a.variations[0].id:null,product_variation:a.variations.length>0?a.variations[0]:null};if(this.$emit("update",s),console.log(this.order),this.order.items.length){const t=this.order.items[0];console.log(t)}},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const _tt=(0,p.Z)(vtt,[["render",ytt]]);var ktt=_tt,Ctt={components:{ItemRow:ktt},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0},action:{required:!1,default:"update"}},data(){return{currency:c}},computed:{price(){return vo(this.order)},filteredProducts(){return this.products.filter((t=>t.user_id==this.order.user_id))}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Dtt=(0,p.Z)(Ctt,[["render",ltt]]);var Stt=Dtt;const ztt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Utt={key:0,class:"tw-relative"},qtt=["value","disabled"],Ptt=(0,s._)("option",{value:""},"Choose a Delivery",-1),Ltt=["value"],Att=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),$tt={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Wtt={key:2,class:"tw-relative"},Ett={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Ttt=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Ftt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function Vtt(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[ztt,l.fetched?((0,s.wg)(),(0,s.iD)("div",Utt,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,st.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Ptt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,Ltt)))),128))],42,qtt),Att])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",$tt,(0,st.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Wtt,[(0,s._)("div",Ett,[(0,s.Wm)(i)]),Ttt,Ftt]))])}var Ott={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,rt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const Itt=(0,p.Z)(Ott,[["render",Vtt]]);var jtt=Itt;const Rtt={key:0},Mtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),Ntt={class:"md:tw-col-span-12 tw-col-span-12"},Htt={class:"tw-max-w-full tw-overflow-auto"},Ytt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Ztt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),Ktt={class:"tw-px-3 tw-py-2"},Btt={class:"tw-px-3 tw-py-2"},Qtt={class:"tw-px-3 tw-py-2"},Jtt={class:"tw-px-3 tw-py-2"},Gtt={class:"tw-max-w-[250px] tw-text-sm"};function Xtt(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",Rtt,[Mtt,(0,s._)("div",Ntt,[(0,s._)("div",Htt,[(0,s._)("table",Ytt,[Ztt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Ktt,(0,st.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",Btt,(0,st.zw)(t.quantity),1),(0,s._)("td",Qtt,(0,st.zw)(t.price)+" "+(0,st.zw)(l.currency),1),(0,s._)("td",Jtt,[(0,s._)("p",Gtt,(0,st.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var tet={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const eet=(0,p.Z)(tet,[["render",Xtt]]);var ret=eet,aet={components:{OrderItems:Stt,OrderAffectation:jtt,ProductOffersTable:ret},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Iw,upsells:Mw,isLoading:!1,products_fetched:null,products:null,itemCopy:null,product:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=L9(this,this.itemCopy);if(!t)return!1;E9(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,va.allForOrder(this.itemCopy.user_id).then((t=>{if("SUCCESS"==t.data.code){this.products=t.data.data.products;const e=this.itemCopy.items.map((t=>t.product_id));this.product=this.products.filter((t=>e.includes(t.id)))}else this.products=[];this.products_fetched=!0})).catch(this.$handleApiError)},truncateText(t,e){return t.length>e?t.slice(0,e)+"...":t}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const set=(0,p.Z)(aet,[["render",P9]]);var oet=set,iet={components:{UpdatePopup:oet},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const net=(0,p.Z)(iet,[["render",z7]]);var wet=net,det={components:{TableActions:wet},props:{item:{required:!0}},data(){return{moment:ke()}},computed:{confirmation(){return Iw.find((t=>t.value==this.item.confirmation))},deliveryState(){return Nw.find((t=>t.value==this.item.delivery))}},methods:{}};const cet=(0,p.Z)(det,[["render",_7]]);var uet=cet,pet={components:{TablePaginationNoNums:a7,TableRow:uet},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const met=(0,p.Z)(pet,[["render",j8]]);var get=met;const het={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},fet=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),bet={class:"tw-bg-white tw-p-4"},xet={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},yet={class:"tw-col-span-2 md:tw-col-span-1"},vet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),_et={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ket={class:"tw-col-span-2 md:tw-col-span-1"},Cet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Det={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zet={class:"tw-col-span-2 md:tw-col-span-1"},Uet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),qet={class:"tw-relative"},Pet=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Let=["value"],Aet=["value"],$et=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Wet={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Eet={class:"tw-col-span-2 md:tw-col-span-1"},Tet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Fet={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Vet={class:"tw-col-span-2"},Oet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Iet={class:"tw-relative"},jet=["value"],Ret=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Met={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Net={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Het=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Yet={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Zet={key:1,class:"md:tw-col-span-1 tw-col-span-2"},Ket=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Bet={class:"tw-col-span-2"},Qet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Jet={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Get={class:"md:tw-col-span-1 tw-col-span-2"},Xet={class:"md:tw-col-span-1 tw-col-span-2"},trt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),ert={class:"tw-relative"},rrt=["value"],art=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),srt={class:"tw-col-span-2"},lrt={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},ort={key:0,class:"tw-text-red-400 tw-text-xs"},irt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},nrt=["disabled"],wrt=(0,s._)("span",null,"Create",-1);function drt(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",het,[fet,(0,s._)("div",bet,[(0,s._)("div",xet,[(0,s._)("div",yet,[vet,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,st.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",_et,(0,st.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",ket,[Cet,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,st.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",Det,(0,st.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",zet,[Uet,(0,s._)("div",qet,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,st.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Pet,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,st.zw)(o.itemCopy.city),9,Let),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,st.zw)(t.name),9,Aet)))),128))],34),[[a.bM,o.itemCopy.city]]),$et]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",Wet,(0,st.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Eet,[Tet,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,st.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Fet,(0,st.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Vet,[Oet,(0,s._)("div",Iet,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,st.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,st.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,st.zw)(t.name),11,jet)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),Ret]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",Met,(0,st.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Net,[Het,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,st.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",Yet,(0,st.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Zet,[Ket,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",Bet,[Qet,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,st.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",Jet,(0,st.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",Get,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",Xet,[trt,(0,s._)("div",ert,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.text]),value:t.value,key:t.id},(0,st.zw)(t.name),11,rrt)))),128))],512),[[a.bM,o.itemCopy.upsell]]),art])]),(0,s._)("div",srt,[(0,s._)("label",lrt,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",ort," # "+(0,st.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{action:"create",order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",irt,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),wrt],8,nrt)])])])),_:1},8,["visible","onCancel"])])}const crt=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},urt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},prt=(t,e)=>{t.isLoading=!0,t.errors={},E.create(e).then((e=>crt(t,e.data))).catch((e=>urt(t,e.response.data))).finally((()=>t.isLoading=!1))};var mrt={components:{OrderItems:Stt,OrderAffectation:jtt},props:{visible:{required:!0}},data(){return{confirmations:jw,upsells:Mw,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=L9(this,this.itemCopy);if(!t)return!1;prt(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,va.allForOrder().then((t=>{"SUCCESS"==t.data.code?(this.products=t.data.data.products,console.log(this.products)):this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const grt=(0,p.Z)(mrt,[["render",drt]]);var hrt=grt;const frt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},brt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},xrt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),yrt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),vrt=[yrt],_rt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),krt=[_rt],Crt=["disabled"],Drt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),Srt=[Drt],zrt={class:"tw-relative"},Urt=["value"],qrt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),Prt=[qrt],Lrt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Art={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},$rt=["value"],Wrt={class:"tw-overflow-hidden tw-col-span-1"},Ert={class:"tw-overflow-hidden tw-col-span-1"};function Trt(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",frt,[(0,s._)("div",brt,[xrt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},vrt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},krt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Srt,8,Crt),(0,s._)("div",zrt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Prt,40,Urt),Lrt])]),(0,s._)("div",Art,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,$rt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,st.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Wrt,[(0,s.Wm)(n,{onFilter:e[7]||(e[7]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Ert,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const Frt={class:"tw-mb-4"},Vrt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Ort={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Irt={class:"tw-flex tw-items-center tw-justify-between"},jrt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},Rrt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function Mrt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Frt,[(0,s._)("div",Vrt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Ort,[(0,s._)("p",{class:(0,st.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,st.zw)(t.name),3),(0,s._)("div",Irt,[(0,s._)("span",jrt,(0,st.zw)(t.total),1),(0,s._)("span",Rrt,(0,st.zw)(t.percent)+"%",1)])])])))),128))])])}var Nrt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.confirmation)))}},methods:{getConfirmation(t){return Iw.find((e=>e.value==t))}}};const Hrt=(0,p.Z)(Nrt,[["render",Mrt]]);var Yrt=Hrt;const Zrt={class:"tw-mb-4"},Krt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Brt={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},Qrt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created",-1),Jrt=["value"],Grt={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},Xrt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),tat=["value"],eat=(0,s._)("option",{value:"all",selected:""},"All",-1),rat=["value"],aat=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})]),(0,s._)("span",null,"Filter")],-1),sat=[aat];function lat(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Zrt,[(0,s._)("div",Krt,[(0,s._)("div",Brt,[Qrt,(0,s._)("input",{value:r.filters.created_at,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_at:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Jrt)]),(0,s._)("div",Grt,[Xrt,(0,s._)("select",{value:r.filters.confirmation,onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[eat,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.id},(0,st.zw)(t.name),9,rat)))),128))],40,tat)]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",{onClick:e[3]||(e[3]=e=>t.$emit("filter")),class:"tw-col-span-12 tw-flex tw-justify-end"},sat)])])}var oat={props:{filters:{required:!0,default:{}}},data(){return{confirmations:Iw,deliveryStatus:Nw,deliveries:[{id:1,value:"annuler",name:"Cancelled"},{id:2,value:"pas-de-reponse",name:"No Answer"}]}}};const iat=(0,p.Z)(oat,[["render",lat]]);var nat=iat,wat={components:{IndexStatistics:Yrt,FiltersWrapper:nat},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const dat=(0,p.Z)(wat,[["render",Trt]]);var cat=dat,uat={components:{IndexTable:get,IndexFilters:cat,CreatePopup:hrt},data(){return{fetching:!0,items:[],statistics:null,create_popup:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",delivery:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,E.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=_o(t.first_page_url),this.lase_page_url=_o(t.last_page_url),this.next_page_url=_o(t.next_page_url),this.prev_page_url=_o(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const pat=(0,p.Z)(uat,[["render",c8]]);var mat=pat;const gat={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},hat={class:"tw-px-3 tw-h-fit"},fat={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},bat=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"New Orders")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"take responsibility for new orders.")],-1),xat={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},yat=["disabled"],vat=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),_at=(0,s._)("span",null,"Get Order",-1),kat=[vat,_at],Cat={key:0,class:"tw-p-5"},Dat={key:1,class:"tw-mt-5 tw-space-y-5"},Sat={class:"tw-flex tw-items-center tw-justify-end"},zat={key:2},Uat=(0,s._)("div",{class:"tw-p-5 tw-border tw-border-solid tw-shadow-sm tw-mt-5 tw-text-center tw-font-medium tw-text-xl tw-text-gray-600 tw-bg-gray-100 tw-w-full tw-rounded-lg"}," No Orders ",-1),qat=[Uat];function Pat(t,e,r,a,l,o){const i=(0,s.up)("loading"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",gat,[(0,s._)("section",hat,[(0,s._)("div",fat,[bat,(0,s._)("div",xat,[(0,s._)("button",{disabled:l.fetching,onClick:e[0]||(e[0]=(...t)=>o.getOrder&&o.getOrder(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},kat,8,yat)])]),l.fetching?((0,s.wg)(),(0,s.iD)("div",Cat,[(0,s.Wm)(i)])):(0,s.kq)("",!0),!l.fetching&&l.order_exists?((0,s.wg)(),(0,s.iD)("div",Dat,[(0,s.Wm)(n,{order:l.order,onUpdate:e[1]||(e[1]=t=>l.order=t)},null,8,["order"]),l.doubles.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.doubles,(t=>((0,s.wg)(),(0,s.j4)(n,{double:!0,key:t.id,order:t,onUpdate:e[2]||(e[2]=t=>l.doubles=l.doubles.map((e=>e.id==t.id?t:e)))},null,8,["order"])))),128)):(0,s.kq)("",!0),(0,s._)("div",Sat,[(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.save&&o.save(...t)),type:"button",class:"tw-px-5 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-orange-500 hover:tw-bg-orange-600 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-orange-100 tw-rounded-lg tw-text-center dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 dark:focus:tw-ring-orange-800"}," Save ")])])):(0,s.kq)("",!0),l.fetching||l.order_exists?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",zat,qat))])])}const Lat=t=>{t.fetching=!0,E.toConfirm().then((e=>{const r=e.data;if("NO_ORDER"===r.code)return t.order_exists=!1,!1;"SUCCESS"==r.code&&r.data.orders.length>0&&(t.order=r.data.orders[0],t.order_exists=!0),t.doubles=1==r.data.double?r.data.double_orders.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},Aat=t=>null==t.order.confirmation?(t.$alert({title:"Confirmation Not Changed",type:"warning"}),!1):t.doubles.some((t=>null==t.confirmation))?(t.$alert({title:"Double Order Confirmation Not Changed",type:"warning"}),!1):(t.order_exists=!1,t.order=null,t.doubles=[],void t.$alert({title:"Your changes has been saved !",type:"success"})),$at=t=>{let e=t.order;if(null!=e&&null==e.confirmation)return t.$alert({type:"warning",title:"Order Not Confirmed"}),!1;t.fetching=!0,E.getOrder().then((e=>{let r=e.data;if("ORDER_NOT_CONFIRMED"==r.code){t.$alert({type:"warning",title:"Order Not Confirmed"});let r=e.data.orders[0];return t.order=JSON.parse(JSON.stringify(r)),t.order_exists=!0,!1}if("SUCCESS"==r.code&&!e.data.orders?.id){let e=r.data.orders;t.order=JSON.parse(JSON.stringify(e)),t.order_exists=!0}if("NO_ORDERS"===r.code)return t.order_exists=!1,!1;t.doubles=1==r.data.double?r.data.double_orders?.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},Wat={class:"tw-bg-gray-50 tw-border tw-shadow-sm tw-rounded-lg tw-relative"},Eat=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"white","fill-rule":"evenodd",d:"M21.455 5.416a.75.75 0 0 1-.096.943l-9.193 9.192a.75.75 0 0 1-.34.195l-3.829 1a.75.75 0 0 1-.915-.915l1-3.828a.778.778 0 0 1 .161-.312L17.47 2.47a.75.75 0 0 1 1.06 0l2.829 2.828a.756.756 0 0 1 .096.118Zm-1.687.412L18 4.061l-8.518 8.518l-.625 2.393l2.393-.625l8.518-8.519Z","clip-rule":"evenodd"}),(0,s._)("path",{fill:"white",d:"M19.641 17.16a44.4 44.4 0 0 0 .261-7.04a.403.403 0 0 1 .117-.3l.984-.984a.198.198 0 0 1 .338.127a45.91 45.91 0 0 1-.21 8.372c-.236 2.022-1.86 3.607-3.873 3.832a47.77 47.77 0 0 1-10.516 0c-2.012-.225-3.637-1.81-3.873-3.832a45.922 45.922 0 0 1 0-10.67c.236-2.022 1.86-3.607 3.873-3.832a47.75 47.75 0 0 1 7.989-.213a.2.2 0 0 1 .128.34l-.993.992a.402.402 0 0 1-.297.117a46.164 46.164 0 0 0-6.66.255a2.89 2.89 0 0 0-2.55 2.516a44.421 44.421 0 0 0 0 10.32a2.89 2.89 0 0 0 2.55 2.516c3.355.375 6.827.375 10.183 0a2.89 2.89 0 0 0 2.55-2.516Z"})],-1),Tat={class:"tw-p-5 tw-flex tw-items-center tw-gap-2"},Fat={class:"tw-text-xl tw-font-bold tw-text-gray-600"},Vat=(0,s._)("span",{class:"tw-text-sm tw-text-gray-500"},null,-1),Oat={key:0,class:"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded tw-bg-purple-100 tw-text-purple-600"},Iat={class:"tw-grid lg:tw-grid-cols-4 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},jat={class:"tw-space-y-2 tw-px-5"},Rat=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke-linecap="round" stroke-width="1.5"><path d="M7 18v-1a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v1"></path><path stroke-linejoin="round" d="M12 12a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"></path><path stroke-linejoin="round" d="M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6Z"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">Client Name</span></div>',1),Mat={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Nat={class:"tw-space-y-2 tw-px-5"},Hat=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{class:"tw-stroke-orange-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.118 14.702L14 15.5c-2.782-1.396-4.5-3-5.5-5.5l.77-4.13L7.815 2H4.064c-1.128 0-2.016.932-1.847 2.047c.42 2.783 1.66 7.83 5.283 11.453c3.805 3.805 9.286 5.456 12.302 6.113c1.165.253 2.198-.655 2.198-1.848v-3.584l-3.882-1.479Z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Phone Number")],-1),Yat={class:"tw-flex tw-items-center tw-gap-2"},Zat={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Kat={class:"tw-space-y-2 tw-px-5"},Bat=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path d="M3.75 18a.75.75 0 0 0-1.5 0h1.5Zm-1.5-4a.75.75 0 0 0 1.5 0h-1.5ZM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08v1.5ZM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094h1.5ZM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066v-1.5ZM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294h1.5Zm0 10v-4h-1.5v4h1.5Zm0-8v-2h-1.5v2h1.5Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 22v-6c0-1.886 0-2.828.586-3.414C8.172 12 9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525c-.356-.514-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707C4.586 4.5 5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293C10 5.086 10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">City</span></div>',1),Qat={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Jat={class:"tw-space-y-2 tw-px-5"},Gat=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[(0,s._)("path",{fill:"#f97316",d:"m19.799 5.165l-2.375-1.83a1.997 1.997 0 0 0-.521-.237A2.035 2.035 0 0 0 16.336 3H9.5l.801 5h6.035c.164 0 .369-.037.566-.098s.387-.145.521-.236l2.375-1.832c.135-.091.202-.212.202-.334s-.067-.243-.201-.335zM8.5 1h-1a.5.5 0 0 0-.5.5V5H3.664c-.166 0-.37.037-.567.099c-.198.06-.387.143-.521.236L.201 7.165C.066 7.256 0 7.378 0 7.5c0 .121.066.242.201.335l2.375 1.832c.134.091.323.175.521.235c.197.061.401.098.567.098H7v8.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-17a.5.5 0 0 0-.5-.5z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Address")],-1),Xat={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},tst={class:"tw-p-5 tw-py-3 tw-w-full tw-border-t tw-border-solid tw-mt-3"},est={class:""},rst=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 2048 2048"},[(0,s._)("path",{fill:"#f97316",d:"M1024 1000v959l-64 32l-832-415V536l832-416l832 416v744h-128V680l-640 320zm-64-736L719 384l621 314l245-122l-625-312zm-64 1552v-816L256 680v816l640 320zM335 576l625 312l238-118l-622-314l-241 120zm1073 1216v-128h640v128h-640zm0-384h640v128h-640v-128zm-256 640v-128h128v128h-128zm0-512v-128h128v128h-128zm0 256v-128h128v128h-128zm-128 24h1h-1zm384 232v-128h640v128h-640z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Product")],-1),ast={class:"tw-p-3 tw-pl-10 tw-space-y-2"},sst={class:"tw-font-bold tw-text-green-500"},lst={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},ost={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},ist={class:"tw-font-[cairo] tw-mt-2 tw-flex tw-items-center tw-justify-end tw-gap-1 tw-text-2xl tw-text-green-400 tw-font-bold"},nst={key:0};function wst(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Wat,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),type:"button",class:"tw-px-5 tw-absolute tw-right-3 tw-top-3 tw-z-10 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-green-400 hover:tw-bg-green-500 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-green-100 tw-rounded-lg tw-text-center dark:tw-bg-green-600 dark:hover:tw-bg-green-700 dark:focus:tw-ring-green-800"},[Eat,(0,s.Uk)(" Edit ")]),(0,s._)("div",Tat,[(0,s._)("span",Fat,[Vat,(0,s.Uk)(" ID: "+(0,st.zw)(r.order.id),1)]),(0,s._)("span",{class:(0,st.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,st.zw)(o.confirmation.name),3),r.double?((0,s.wg)(),(0,s.iD)("span",Oat,"Maybe double")):(0,s.kq)("",!0)]),(0,s._)("div",Iat,[(0,s._)("div",jat,[Rat,(0,s._)("span",Mat,(0,st.zw)(r.order.fullname),1)]),(0,s._)("div",Nat,[Hat,(0,s._)("div",Yat,[(0,s._)("span",Zat,(0,st.zw)(r.order.phone),1),(0,s.Wm)(lt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"text",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])]),(0,s._)("div",Kat,[Bat,(0,s._)("span",Qat,(0,st.zw)(r.order.city),1)]),(0,s._)("div",Jat,[Gat,(0,s._)("span",Xat,(0,st.zw)(r.order.adresse),1)])]),(0,s._)("div",tst,[(0,s._)("div",est,[rst,(0,s._)("ul",ast,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",sst,(0,st.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,st.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",lst,(0,st.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",ost,(0,st.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128)),(0,s._)("li",ist,[(0,s._)("span",null,(0,st.zw)(l.currency),1),(0,s._)("span",null,(0,st.zw)(o.price),1)])])])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",nst,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.order},null,8,["visible","item"])])):(0,s.kq)("",!0)])}var dst={components:{UpdatePopup:oet},props:{order:{required:!0},double:{required:!1}},data(){return{currency:c,popup:!1}},computed:{price(){return vo(this.order)},confirmation(){return Iw.find((t=>t.value==this.order.confirmation))}}};const cst=(0,p.Z)(dst,[["render",wst]]);var ust=cst,pst={components:{OrderCard:ust},data(){return{fetching:!0,order_exists:!1,doubles:[],order:null}},methods:{toConfirm(){Lat(this)},getOrder(){$at(this)},save(){Aat(this)}},mounted(){this.toConfirm()}};const mst=(0,p.Z)(pst,[["render",Pat]]);var gst=mst;const hst={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},fst={class:"tw-px-3"},bst={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},xst={class:"tw-flex tw-items-center tw-gap-x-3"},yst=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),vst={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},_st=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Show all confirmed orders.",-1);function kst(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",hst,[(0,s._)("section",fst,[(0,s._)("div",bst,[(0,s._)("div",null,[(0,s._)("div",xst,[yst,(0,s._)("span",vst,(0,st.zw)(l.totalOrders)+" order",1)]),_st]),(0,s.kq)("",!0)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}var Cst={components:{IndexTable:get,IndexFilters:cat},data(){return{fetching:!0,items:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,confirmation:"confirmer"};return this.fetching=!0,E.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=_o(t.first_page_url),this.lase_page_url=_o(t.last_page_url),this.next_page_url=_o(t.next_page_url),this.prev_page_url=_o(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Dst=(0,p.Z)(Cst,[["render",kst]]);var Sst=Dst,zst={name:"orders",path:"/agent/orders",component:Wa,meta:{module:"order"},children:[{name:"order/list",path:"",component:mat,meta:{module:"order",subModule:"order/list",title:"Orders List",gate:"show_all_orders"}},{name:"order/show",path:"add",component:gst,meta:{module:"order",subModule:"order/show",title:"Current Order",gate:"show_all_orders"}},{name:"order/confirmed",path:"confirmed",component:Sst,meta:{module:"order",subModule:"order/confirmed",title:"Confirmed Orders",gate:"show_all_orders"}}]};const Ust=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Orders")])],-1),qst={key:0},Pst={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Lst={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-5"},Ast={key:1},$st={class:"tw-min-h-[400px] tw-flex tw-flex-col tw-justify-center tw-items-center"},Wst=(0,s._)("p",{class:"tw-font-medium tw-text-neutral-400 tw-text-lg tw-mb-n3"},"No Confirmed orders for now.",-1),Est=["src"];function Tst(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",null,[Ust,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qst,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Pst,[o.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Lst,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.filteredOrders,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tw-col-span-12 md:tw-col-span-4"},[((0,s.wg)(),(0,s.j4)(n,{order:t,key:t.id},null,8,["order"]))])))),128))])):((0,s.wg)(),(0,s.iD)("div",Ast,[(0,s._)("div",$st,[Wst,(0,s._)("img",{src:l.localUrl+"images/delivery.jpg",class:"tw-mt-0 tw-mx-auto tw-max-w-[600px] tw-w-full",alt:""},null,8,Est)])]))])):(0,s.kq)("",!0)])}var Fst=r(9875),Vst=r(1888),Ost=r(1334);const Ist={class:"tw-text-sm tw-text-orange-500x tw-bg-orange-500x/10 tw-underline tw-underline-offset-2 tw-px-1 tw-w-fit tw-rounded"},jst={class:"tw-w-full tw-whitespace-normal"},Rst=(0,s._)("div",{class:"tw-border-b tw-mb-1 tw-border-dashed"},null,-1),Mst={class:"tw-flex tw-items-center"},Nst={key:0},Hst={key:1},Yst={class:"tw-min-w-fit tw-w-[25px] tw-h-[25px] tw-flex tw-items-center tw-justify-center tw-text-md tw-font-bold tw-p-1 tw-rounded tw-text-orange-400 tw-bg-orange-400/10"},Zst=(0,s._)("span",{class:"tw-text-sm"},"x",-1),Kst={key:0},Bst={key:0,class:"tw-px-5 tw-py-2 tw-mt-2 tw-border-neutral-200 tw-border-t tw-border-dashed"},Qst=(0,s._)("p",{class:"tw-text-md tw-font-bold tw-text-pink-500"},"NOTE",-1),Jst={class:"tw-flex tw-items-center tw-text-gray-500"},Gst={class:"tw-flex tw-items-center tw-text-gray-500"};function Xst(t,e,r,a,l,o){const i=(0,s.up)("OrderCardDelivery");return(0,s.wg)(),(0,s.j4)(Us._,{class:(0,st.C_)(["tw-mx-auto tw-relative tw-border-dashed !tw-shadow-lg !tw-shadow-gray-100/70",[!!r.order.note&&"tw-border-pink-00","livrer"==r.order.delivery&&"tw-border-emerald-400"]]),flat:"",border:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,st.C_)(["tw-absolute tw-top-0 tw-right-0 tw-py-1 tw-px-2 tw-rounded-bl tw-text-xs",[o.delivery?.bg,o.delivery?.text]])},(0,st.zw)(r.order.delivery),3),(0,s.Wm)(Fst._,null,{title:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("p",Ist,(0,st.zw)(r.order.city),1),(0,s._)("p",jst,(0,st.zw)(r.order.adresse),1)]),Rst])),_:1}),(0,s.Wm)(Vst.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,{align:"center","no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",class:"tw-flex tw-items-center tw-flex-wrap tw-text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{icon:"mdi-account",size:"small",class:"tw-mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,st.zw)(r.order.fullname)+" ",1),r.order.note?((0,s.wg)(),(0,s.j4)(it.t,{key:0,icon:"mdi-note-outline",size:"small",class:"tw-ml-2 tw-text-sm !tw-text-pink-500"})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Va.D,{cols:"12",class:"tw-text-gray-500 tw-space-y-1 tw-mt-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-3",key:t.id},[(0,s._)("div",Mst,[(0,s._)("span",null,[(0,s.Uk)((0,st.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Nst,"| "+(0,st.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Hst,"| "+(0,st.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s._)("p",Yst,[Zst,(0,s.Uk)(" "+(0,st.zw)(t.quantity),1)])])])))),128))])),_:1}),(0,s.Wm)(Va.D,{class:"text-h4 tw-my-3",cols:"12"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(o.getPrice(r.order)),1)])),_:1})])),_:1})])),_:1}),(0,s.kq)("",!0),(0,s.Wm)(Tt.Fx,null,{default:(0,s.w5)((()=>[t.expand?((0,s.wg)(),(0,s.iD)("div",Kst,[r.order.note?((0,s.wg)(),(0,s.iD)("div",Bst,[Qst,(0,s._)("p",null,(0,st.zw)(r.order.note),1)])):(0,s.kq)("",!0),(0,s.Wm)(Ge.i,{class:"bg-transparent tw-space-y-2 !tw-px-5 tw-py-3 tw-border-neutral-200 tw-border-dashed tw-border-t tw-mt-5"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Jst,[(0,s.Wm)(it.t,{icon:"mdi-phone",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,st.zw)(r.order.phone),1)])]),(0,s._)("div",null,[(0,s._)("div",Gst,[(0,s.Wm)(it.t,{icon:"mdi-calendar",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,st.zw)(r.order.created_at?.split("T")[0].split("-").reverse().join(".")),1)])])])),_:1})])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(ee.J),(0,s.Wm)(Ost.h,{class:"tw-flex tw-justify-end tw-gap-2 tw-flex-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.T,{class:"tw-capitalize tw-mx-auto tw-bg-orange-500/5 tw-text-orange-500",rounded:"lg",density:"comfortable",icon:"",variant:"flat",onClick:e[0]||(e[0]=e=>t.expand=!t.expand)},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.expand?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1}),(0,s.Wm)(ar.C),r.order.phone?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-capitalize tw-bg-green-500/5 tw-text-green-500 tw-border tw-border-green-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),r.order.phone?((0,s.wg)(),(0,s.j4)(lt.T,{key:1,link:"",target:"_blank",href:"tel:"+r.order.phone,class:"tw-capitalize tw-bg-blue-500/5 tw-text-blue-500 tw-border tw-border-blue-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-phone")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),(0,s.Wm)(lt.T,{onClick:e[1]||(e[1]=e=>t.confirmPopup=!0),class:"tw-capitalize tw-bg-emerald-500 tw-text-white tw-border tw-border-emerald-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])),_:1})])),_:1}),((0,s.wg)(),(0,s.j4)(i,{delivery:r.order.delivery,order:r.order,key:r.order,visible:t.confirmPopup,onCancel:e[2]||(e[2]=e=>t.confirmPopup=!1)},null,8,["delivery","order","visible"]))])),_:1},8,["class"])}const tlt={class:"md:tw-w-[80%] tw-overflow-hidden tw-w-[95%] tw-max-w-[550px] tw-mx-auto tw-my-3 tw-min-h-[200px] tw-bg-white tw-rounded-lg tw-shadow-lg"},elt={class:"tw-px-5 tw-pt-5"},rlt=(0,s._)("h1",{class:"tw-font-bold tw-text-gray-600"},"Select Status",-1),alt={class:"tw-mt-3 tw-flex tw-gap-3 tw-flex-wrap"},slt=["disabled","onClick"],llt={class:"tw-mt-5 tw-px-5 tw-py-3 tw-bg-gray-50 tw-border-t tw-flex tw-gap-2 tw-justify-end"},olt=(0,s._)("span",{class:"!tw-text-gray-500"},"Cancel",-1),ilt=(0,s._)("span",{class:"!tw-text-white"},"Confirm",-1);function nlt(t,e,r,a,l,o){const i=(0,s.up)("popup-full"),n=(0,s.up)("OrderReporting");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:o.cancel,visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",tlt,[(0,s._)("div",elt,[rlt,(0,s._)("div",alt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(e=>((0,s.wg)(),(0,s.iD)("button",{disabled:o.isDisabled(e),onClick:t=>o.handleChange(e),key:e.value,class:(0,st.C_)([[o.isDisabled(e)&&"tw-saturate-0",e.text,e.bg,e.id==t.delivery&&[e.ring,"tw-ring"]],"tw-px-4 tw-py-2 tw-rounded"])},(0,st.zw)(e.name),11,slt)))),128))])]),(0,s._)("div",llt,[(0,s.Wm)(lt.T,{onClick:o.cancel,class:"!tw-capitalize",color:"grey-lighten-3",flat:""},{default:(0,s.w5)((()=>[olt])),_:1},8,["onClick"]),(0,s.Wm)(lt.T,{onClick:o.handleConfirm,loading:t.isLoading,class:"!tw-capitalize",color:"primary-color",flat:""},{default:(0,s.w5)((()=>[ilt])),_:1},8,["onClick","loading"])])])])),_:1},8,["onCancel","visible"]),(0,s.Wm)(n,{onOrderReported:o.cancel,order:r.order,visible:t.showPopupReporter,onCancel:e[0]||(e[0]=e=>t.showPopupReporter=!1)},null,8,["onOrderReported","order","visible"])])}const wlt={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},dlt=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),clt=(0,s._)("br",null,null,-1),ult=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),plt={class:"tw-flex tw-justify-end tw-mt-2"};function mlt(t,e,r,l,o,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",wlt,[dlt,(0,s.Wm)(n,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),clt,ult,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",plt,[(0,s.Wm)(lt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var glt={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ka.deliveryUpdateDelivery(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$emit("orderReported"),this.$store.dispatch("order/update",{id:t.id,order:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){console.log(this.order)}};const hlt=(0,p.Z)(glt,[["render",mlt]]);var flt=hlt,blt={props:["visible","order"],components:{OrderReporting:flt},data:()=>({status:Nw,disabled:Hw,delivery:2,isLoading:!1,note:"",showPopupReporter:!1}),computed:{deliveryStatus(){return this.status.filter((t=>!!t.value))},selected(){return this.status.find((t=>t.id==this.delivery))}},watch:{order:{handler(t){this.delivery=this.getDeliveryId(t.delivery)},deep:!0,immediate:!0}},methods:{cancel(){this.getCurrentStatus(),this.$emit("cancel")},isDisabled(t){return this.disabled.includes(t.value)},handleChange(t){if(this.isDisabled(t))return!1;this.delivery=t.id},handleConfirm(){const t=this.selected;if(t.value===this.order.delivery)return this.cancel(),!1;"reporter"!=t.value&&this.updateOrder().then((()=>{this.cancel()})),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ka.deliveryUpdateDelivery(this.order.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.order.id,this.selected.value),this.isLoading=!1,this.cancel())}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})},getDeliveryId(t){return this.status.find((e=>e.value==t)).id||0},getCurrentStatus(){this.delivery=this.getDeliveryId(this.order.delivery)}},mounted(){this.getCurrentStatus()}};const xlt=(0,p.Z)(blt,[["render",nlt]]);var ylt=xlt,vlt={components:{OrderCardDelivery:ylt},props:["order"],data:()=>({deliveryStatus:Nw,expand:!1,confirmPopup:!1,labels:[{name:"Telephone",field:"phone",icon:"mdi-phone"},{name:"Date",field:"created_at",icon:"mdi-calendar"}]}),computed:{delivery(){return this.getDeliveryStatus(this.order.delivery)}},methods:{getDeliveryStatus(t){return this.deliveryStatus.find((e=>e.value==t))||this.deliveryStatus[0]},getPrice(t){return vo(t)}}};const _lt=(0,p.Z)(vlt,[["render",Xst]]);var klt=_lt,Clt={components:{OrderCard:klt},data(){return{localUrl:n,deliveryStatus:Nw,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"].filter((t=>"livrer"!=t.delivery))},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ka.deliveryOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Dlt=(0,p.Z)(Clt,[["render",Tst]]);var Slt=Dlt;const zlt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Delivered Orders"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Delivered orders list")])],-1),Ult={key:0},qlt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Plt={class:"mb-5 tw-flex"},Llt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Alt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},$lt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Wlt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),Elt={class:"tw-relative"},Tlt=["value"],Flt={key:0,class:""},Vlt={key:1},Olt=(0,s._)("p",null,"No orders for now",-1),Ilt=[Olt];function jlt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("OrdersTable");return(0,s.wg)(),(0,s.iD)("div",null,[zlt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ult,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",qlt,[(0,s._)("div",Plt,[(0,s.Wm)(lt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Llt,[(0,s.Wm)(re.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,st.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Alt,[(0,s._)("div",$lt,[Wlt,(0,s._)("div",Elt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value?t.value:"all"},(0,st.zw)(t.name),9,Tlt)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(it.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),i.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Flt,[(0,s.Wm)(w,{orders:i.filteredOrders},null,8,["orders"])])):((0,s.wg)(),(0,s.iD)("div",Vlt,Ilt))])):(0,s.kq)("",!0)])}const Rlt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Mlt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Nlt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Hlt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Ylt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Zlt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Klt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Blt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Qlt=["value"],Jlt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Glt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Xlt={class:"tw-text-white"};function tot(t,e,r,l,o,i){const n=(0,s.up)("OrderRow");return(0,s.wg)(),(0,s.iD)("div",{key:r.orders.length},[(0,s._)("div",Rlt,[(0,s._)("table",Mlt,[(0,s._)("thead",Nlt,[(0,s._)("tr",null,[Hlt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Ylt,(0,st.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.j4)(n,{key:t.id,order:t},null,8,["order"])))),128))])])]),(0,s._)("div",Zlt,[(0,s._)("div",Klt,[Blt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,st.zw)(t),9,Qlt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Jlt,[(0,s._)("div",Glt,(0,st.zw)(i.prevRange+1)+" - "+(0,st.zw)(o.currentPage==i.pageCount?r.orders.length:i.nextRange)+" of "+(0,st.zw)(r.orders.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(lt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Xlt,(0,st.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const eot=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),rot={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},aot={class:"tw-px-6 tw-py-4 tw-relative"},sot={key:0},lot={class:"tw-px-6 tw-py-4"},oot={class:"tw-px-6 tw-py-4"},iot={class:"tw-px-6 tw-py-4"},not={class:"tw-px-6 tw-py-4"},wot={class:"tw-pb-2"},dot={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},cot={key:0},uot={key:1},pot={class:"tw-px-6 tw-py-4 tw-relative"},mot={class:"tw-flex tw-items-center tw-justify-center"},got={class:"tw-flex tw-gap-1"},hot={key:0},fot={class:"tw-px-6 tw-py-4"},bot={class:"tw-px-6 tw-py-4"},xot={class:"tw-px-6 tw-py-4"},yot={class:"tw-max-w-[300px] tw-min-w-[150px] tw-whitespace-normal"},vot={class:"tw-px-6 tw-py-4"};function _ot(t,e,r,a,l,o){const i=(0,s.up)("OrderDelivery"),n=(0,s.up)("OrderActions");return(0,s.wg)(),(0,s.iD)("tr",{key:r.order.id,class:(0,st.C_)([["reporter"==r.order.delivery&&"tw-relative",o.isReportedToday(r.order)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[eot,(0,s._)("th",rot,(0,st.zw)(r.order.id),1),(0,s._)("td",aot,[(0,s.Uk)((0,st.zw)(r.order?.created_at?.split("T")[0])+" ",1),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[o.isReportedToday(r.order)?((0,s.wg)(),(0,s.iD)("span",sot," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",lot,(0,st.zw)(r.order.fullname),1),(0,s._)("td",oot,(0,st.zw)(r.order.adresse),1),(0,s._)("td",iot,(0,st.zw)(r.order.phone),1),(0,s._)("td",not,[(0,s._)("div",wot,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",dot,(0,st.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,st.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",cot,"| "+(0,st.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",uot,"| "+(0,st.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",pot,[(0,s._)("div",mot,[((0,s.wg)(),(0,s.j4)(i,{class:(0,st.C_)("reporter"==r.order.delivery&&"tw-mb-1"),order:r.order,id:r.order.id,key:r.order.delivery,delivery:r.order.delivery},null,8,["class","order","id","delivery"])),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",got,["reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("span",hot,[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,st.zw)(r.order?.reported_delivery_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",fot,(0,st.zw)(o.getPrice(r.order)),1),(0,s._)("td",bot,(0,st.zw)(r.order.city),1),(0,s._)("td",xot,[(0,s._)("div",yot,(0,st.zw)(r.order.note),1)]),(0,s._)("td",vot,[((0,s.wg)(),(0,s.j4)(n,{key:r.order.id,order:r.order},null,8,["order"]))])],2)}const kot={key:0,class:"focus:tw-ring-4 tw-min-w-fit focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between tw-bg-green-500/10 tw-text-green-500"},Cot={key:1},Dot={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},Sot=["onClick"];function zot(t,e,r,a,l,o){const i=(0,s.up)("OrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},["livrer"==r.delivery?((0,s.wg)(),(0,s.iD)("div",kot,(0,st.zw)(o.selected.name),1)):(0,s.kq)("",!0),"livrer"!=r.delivery?((0,s.wg)(),(0,s.iD)("div",Cot,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,st.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,st.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(it.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(it.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,st.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Dot,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>!l.disabled.includes(t.value)&&o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,st.C_)(["tw-block tw-px-4 tw-py-2",[l.disabled.includes(t.value)?"tw-text-neutral-400/80 tw-bg-neutral-400/10":[t.text,t.bg]]])},(0,st.zw)(t.name),3)],8,Sot)))),128))])],2),(0,s.Wm)(i,{order:r.order,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])):(0,s.kq)("",!0)])),[[ae.L,o.close]])}var Uot={props:["delivery","id","order"],components:{OrderReporting:flt},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Nw,disabled:Hw,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;"reporter"!=t.value&&(this.selectedId=t.id,this.updateOrder(),this.close()),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ka.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const qot=(0,p.Z)(Uot,[["render",zot]]);var Pot=qot;const Lot={key:0};function Aot(t,e,r,a,l,o){return l.newOrder?((0,s.wg)(),(0,s.iD)("div",Lot,[(0,s.Wm)(lt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])):(0,s.kq)("",!0)}var $ot={props:["order"],name:"orderActions",data(){return{newOrder:null}},computed:{},methods:{},mounted(){this.newOrder={...this.order}}};const Wot=(0,p.Z)($ot,[["render",Aot]]);var Eot=Wot,Tot={props:["order","showNote"],components:{OrderDelivery:Pot,OrderActions:Eot},data(){return{showPopup:!1,isLoading:!1,todayDate:null}},methods:{handleClick(){this.showPopup=!0},isReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date==this.todayDate},getPrice(t){return vo(t)}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const Fot=(0,p.Z)(Tot,[["render",_ot]]);var Vot=Fot,Oot={props:["orders"],components:{OrderRow:Vot},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,todayDate:null,columns:["#","Date","Client","Address","Phone","Product","Delivery","Price","City","Note","Actions"]}},computed:{deliveries(){return this.$store.getters["user/deliveries"]},prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.orders.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.orders.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.orders.filter(this.isReportedToday)}},methods:{isReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date==this.todayDate}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const Iot=(0,p.Z)(Oot,[["render",tot]]);var jot=Iot,Rot={components:{OrdersTable:jot},data(){return{localUrl:n,deliveryStatus:Nw,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"]},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ka.deliveryDeliveredOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Mot=(0,p.Z)(Rot,[["render",jlt]]);var Not=Mot,Hot={name:"deliveries",path:"/deliveries",component:Wa,meta:{module:"delivery"},children:[{name:"delivery/list",path:"",component:Slt,meta:{module:"delivery",subModule:"delivery/list",title:"Orders List",gate:"all"}},{name:"delivery/delivered",path:"/delivered",component:Not,meta:{module:"delivery",subModule:"delivery/delivered",title:"Delivered Orders List",gate:"all"}}]};const Yot=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Inventory State List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),Zot={key:0},Kot={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Bot={class:"mb-5 tw-flex"},Qot={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Jot={key:0,class:""};function Got(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("InventoryStateTable");return(0,s.wg)(),(0,s.iD)("div",null,[Yot,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Zot,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Kot,[(0,s._)("div",Bot,[(0,s.Wm)(lt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Qot,[(0,s.Wm)(re.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryState.length>0?((0,s.wg)(),(0,s.iD)("div",Jot,[(0,s.Wm)(w,{columns:o.columns,states:i.filteredInventoryState},null,8,["columns","states"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}class Xot{async inventoryStates(){return await $.getCookie(),L.get("api/inventorystates")}async inventoryMovements(){return await $.getCookie(),L.get("api/inventorymovements")}async getMovement(t){return await $.getCookie(),L.get("api/inventorymovements/"+t)}async inventoryMovementCreate({product_id:t,delivery_id:e,variants:r}){return await $.getCookie(),L.post("api/inventorymovements/new",{product_id:t,delivery_id:e,variations:r})}async inventoryMovementUpdate(t,{product_id:e,delivery_id:r,variants:a,quantity:s}){return await $.getCookie(),L.post("api/inventorymovements/update/"+t,{product_id:e,delivery_id:r,variants:a,quantity:s})}async deliveryUpdateMovement(t,e,r){return await $.getCookie(),L.post("api/delivery/inventorymovements/update/"+t,{is_received:e,note:r})}async delete(t){return await $.getCookie(),L["delete"]("api/inventorymovements/delete/"+t)}}var tit=new Xot;const eit={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},rit={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},ait={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},sit=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),lit={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},oit=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),iit={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},nit={class:"tw-px-6 tw-py-4 tw-underline tw-underline-offset-1 tw-font-medium"},wit={class:"tw-px-6 tw-py-4"},dit={class:"tw-px-6 tw-py-4"},cit={class:"tw-px-6 tw-py-4 tw-font-bold tw-text-green-500"},uit={class:"tw-px-6 tw-py-4"},pit={class:"tw-px-6 tw-py-4"},mit=(0,s._)("br",null,null,-1),git={class:"tw-px-6 tw-py-4"},hit={class:"mt-5 tw-flex tw-justify-between"},fit={class:"d-flex align-center"},bit=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700"},"Show per page: ",-1),xit={class:"d-flex align-center"},yit={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},vit={class:"tw-text-white"};function _it(t,e,r,a,l,o){const i=(0,s.up)("router-link"),n=(0,s.up)("InventoryStateActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",eit,[(0,s._)("table",rit,[(0,s._)("thead",ait,[(0,s._)("tr",null,[sit,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",lit,(0,st.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[oit,(0,s._)("th",iit,(0,st.zw)(t.id),1),(0,s._)("td",nit,[(0,s.Wm)(i,{to:"products/"+t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.name),1)])),_:2},1032,["to"])]),(0,s._)("td",wit,(0,st.zw)(t.buying_price)+" DH ",1),(0,s._)("td",dit,(0,st.zw)(t.selling_price)+" DH ",1),(0,s._)("td",cit,(0,st.zw)(o.availableQuantity(t)),1),(0,s._)("td",uit,(0,st.zw)(t.total_quantity),1),(0,s._)("td",pit,[(0,s.Uk)((0,st.zw)(t.updated_at?.split("T")[0])+" ",1),mit,(0,s.Uk)(" "+(0,st.zw)(t.updated_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",git,[(0,s.Wm)(n,{state:t},null,8,["state"])])])))),128))])])]),(0,s._)("div",hit,[(0,s._)("div",fit,[bit,(0,s.Wm)(jg.r,{"hide-details":!0,modelValue:l.paginationLimit,"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),items:l.allowedLimit,variant:"outlined",density:"compact",color:"primary-color"},null,8,["modelValue","items"])]),(0,s._)("div",xit,[(0,s._)("div",yit,(0,st.zw)(o.prevRange+1)+" - "+(0,st.zw)(l.currentPage==o.pageCount?r.states.length:o.nextRange)+" of "+(0,st.zw)(r.states.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.pageCount,(t=>((0,s.wg)(),(0,s.j4)(lt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",vit,(0,st.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function kit(t,e,r,a,l,o){const i=(0,s.up)("InventoryStateDetails"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.state.id,class:"tw-flex tw-items-center"},[(0,s.Wm)(lt.T,{onClick:e[0]||(e[0]=t=>l.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:l.detailsPopup,onCancel:e[2]||(e[2]=t=>l.detailsPopup=!1)},{default:(0,s.w5)((()=>[l.detailsPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[1]||(e[1]=t=>l.detailsPopup=!1),state:r.state},null,8,["state"])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const Cit={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Dit={class:"tw-p-5"},Sit={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},zit=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Uit={class:"tw-w-4 tw-p-4"},qit={class:"tw-w-4 tw-p-4"},Pit={class:"tw-w-4 tw-p-4"},Lit={class:"tw-w-4 tw-p-4"},Ait={class:"tw-flex tw-items-center tw-gap-1"},$it={class:"tw-text-green-500"},Wit={key:0},Eit={class:"tw-text-red-400"},Tit=(0,s.uE)('<div class="tw-flex tw-gap-3 mt-5"><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-green-500"></div><span>Available</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-neutral-700"></div><span>Initial</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-red-400"></div><span>Not Received</span></div></div>',1);function Fit(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Cit,[(0,s.Wm)(lt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Dit,[(0,s._)("table",Sit,[zit,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Uit,(0,st.zw)(t.id),1),(0,s._)("td",qit,(0,st.zw)(t.size),1),(0,s._)("td",Pit,(0,st.zw)(t.color),1),(0,s._)("td",Lit,[(0,s._)("div",Ait,[(0,s._)("span",$it,(0,st.zw)(t.available_quantity),1),(0,s._)("span",null,"/ "+(0,st.zw)(t.quantity),1),t.on_hold>0?((0,s.wg)(),(0,s.iD)("span",Wit,[(0,s.Uk)(" / "),(0,s._)("span",Eit,(0,st.zw)(t.on_hold),1)])):(0,s.kq)("",!0)])])])))),128))])]),Tit])])}var Vit={props:["state"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){console.log(this.state)}};const Oit=(0,p.Z)(Vit,[["render",Fit]]);var Iit=Oit,jit={props:["rowIndex","state"],components:{InventoryStateDetails:Iit},name:"inventoryStateActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{},mounted(){}};const Rit=(0,p.Z)(jit,[["render",kit]]);var Mit=Rit,Nit={props:["columns","states"],components:{InventoryStateActions:Mit},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.states.length/this.paginationLimit)},items(){return this.states.slice(this.prevRange,this.nextRange)}},methods:{availableQuantity(t){let e=0;return t.variations.forEach((t=>{e+=t.available_quantity})),e}}};const Hit=(0,p.Z)(Nit,[["render",_it]]);var Yit=Hit,Zit={components:{InventoryStateTable:Yit},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"product_name",name:"Product Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"available",name:"Available"},{prop:"quantity",name:"Quantity"},{prop:"updated_at",name:"Updated At"},{prop:"actions",name:"Actions"}]}},computed:{inventoryState(){return this.$store.getters["inventory/inventoryState"]},filteredInventoryState(){return this.inventoryState.filter((t=>!!(t.ref.toLowerCase().includes(this.search.toLowerCase())||t.name.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{async getInventoryStates(){await tit.inventoryStates().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryState",e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryStates()}};const Kit=(0,p.Z)(Zit,[["render",Got]]);var Bit=Kit;const Qit=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Add Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create New Movement")],-1),Jit={key:0},Git={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Xit={class:"tw-w-full"},tnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),ent={class:"tw-relative"},rnt=["disabled"],ant=["value"],snt={class:"tw-w-full"},lnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product Name",-1),ont={class:"tw-relative"},int=["disabled"],nnt=["value"],wnt={class:"tw-w-full"},dnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),cnt={class:"tw-relative"},unt=["value"],pnt={class:"tw-w-full"},mnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),gnt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},hnt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),fnt={class:"tw-max-w-full"},bnt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},xnt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),ynt={class:"tw-w-4 tw-p-4"},vnt={class:"tw-w-4 tw-p-4"},_nt={class:"tw-w-4 tw-p-4"},knt={class:"tw-w-4 tw-p-4"},Cnt={class:"tw-w-4 tw-p-4"},Dnt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Snt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},znt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Unt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function qnt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Qit,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Jit,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Git,[(0,s._)("div",null,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Xit,[tnt,(0,s._)("div",ent,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length,"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.firstname+" "+t.lastname),9,ant)))),128))],8,rnt),[[a.bM,o.delivery]]),(0,s.Wm)(it.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",snt,[lnt,(0,s._)("div",ont,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length>0,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,nnt)))),128))],8,int),[[a.bM,o.product]]),(0,s.Wm)(it.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",wnt,[dnt,(0,s._)("div",cnt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.color+" - "+t.size+"  ("+t.available_quantity+" items)"),9,unt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(it.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",pnt,[mnt,(0,s._)("div",null,[(0,s.Wm)(nt.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",gnt,[(0,s.Wm)(lt.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[hnt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",fnt,[(0,s._)("table",bnt,[xnt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",ynt,(0,st.zw)(t.id),1),(0,s._)("td",vnt,(0,st.zw)(t.size),1),(0,s._)("td",_nt,(0,st.zw)(t.color),1),(0,s._)("td",knt,(0,st.zw)(t.quantity),1),(0,s._)("td",Cnt,[(0,s._)("div",Dnt,[(0,s.Wm)(lt.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Snt,[(0,s.Wm)(lt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[znt])),_:1}),(0,s.Wm)(lt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Unt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Pnt={data(){return{isLoading:!1,isLoaded:!1,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.available_quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.available_quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},create(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,tit.inventoryMovementCreate({product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.selectedVariations=[],this.getData()),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await rt.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return tit.inventoryStates().then((t=>{if("SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;if(this.$store.dispatch("product/setProducts",e),e.length>0){const t=e[0];this.product=t.id,this.variations.length>0&&(this.variation=this.variations[0].id)}else this.product=null}}),(t=>{this.$handleApiError(t)}))},getData(){this.isLoaded=!1,Promise.allSettled([this.getProducts(),this.getDeliveries()]).then((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const Lnt=(0,p.Z)(Pnt,[["render",qnt]]);var Ant=Lnt;const $nt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Edit an existing Movement")],-1),Wnt={key:0},Ent={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Tnt={class:"tw-w-full"},Fnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Vnt={class:"tw-relative"},Ont=["value"],Int={class:"tw-w-full"},jnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),Rnt={class:"tw-relative"},Mnt=["value"],Nnt={class:"tw-w-full"},Hnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Ynt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Znt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),Knt={class:"tw-max-w-full"},Bnt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Qnt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Jnt={class:"tw-w-4 tw-p-4"},Gnt={class:"tw-w-4 tw-p-4"},Xnt={class:"tw-w-4 tw-p-4"},twt={class:"tw-w-4 tw-p-4"},ewt={class:"tw-w-4 tw-p-4"},rwt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},awt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},swt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),lwt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function owt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[$nt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Wnt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ent,[(0,s._)("div",null,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Tnt,[Fnt,(0,s._)("div",Vnt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.firstname+" "+t.lastname),9,Ont)))),128))],512),[[a.bM,o.delivery]]),(0,s.Wm)(it.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Int,[jnt,(0,s._)("div",Rnt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.color+" / "+t.size+" / "+t.quantity),9,Mnt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(it.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Nnt,[Hnt,(0,s._)("div",null,[(0,s.Wm)(nt.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[2]||(e[2]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",Ynt,[(0,s.Wm)(lt.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Znt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Knt,[(0,s._)("table",Bnt,[Qnt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Jnt,(0,st.zw)(t.id),1),(0,s._)("td",Gnt,(0,st.zw)(t.size),1),(0,s._)("td",Xnt,(0,st.zw)(t.color),1),(0,s._)("td",twt,(0,st.zw)(t.quantity),1),(0,s._)("td",ewt,[(0,s._)("div",rwt,[(0,s.Wm)(lt.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",awt,[(0,s.Wm)(lt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[swt])),_:1}),(0,s.Wm)(lt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[lwt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var iwt={data(){return{isLoading:!1,isLoaded:!1,movement:null,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},id(){return this.$route.params.id},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},update(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,tit.inventoryMovementUpdate(this.id,{product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await rt.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return va.all().then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.products;this.$store.dispatch("product/setProducts",e),e.length>0?this.product=e[0].id:this.product=null}}),(t=>{this.$handleApiError(t)}))},getMovement(){return tit.getMovement(this.id).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.movement;this.product=e.product.id,this.delivery=e.delivery.id,this.selectedVariations=e.inventory_movement_variations;let r=0;this.selectedVariations.forEach((t=>{r+=t.quantity})),this.quantity_total=r}}),(t=>{this.$handleApiError(t)}))}},mounted(){Promise.allSettled([this.getProducts(),this.getDeliveries(),this.getMovement()]).then((()=>{this.isLoaded=!0}))}};const nwt=(0,p.Z)(iwt,[["render",owt]]);var wwt=nwt;const dwt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Inventory State List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),cwt={key:0},uwt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},pwt={class:"mb-5 tw-flex"},mwt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},gwt={key:0,class:""};function hwt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("InventoryMovementsTable");return(0,s.wg)(),(0,s.iD)("div",null,[dwt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cwt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",uwt,[(0,s._)("div",pwt,[(0,s.Wm)(lt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",mwt,[(0,s.Wm)(re.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryMovements.length>0?((0,s.wg)(),(0,s.iD)("div",gwt,[(0,s.Wm)(w,{columns:o.columns,movements:i.inventoryMovements},null,8,["columns","movements"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}const fwt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},bwt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},xwt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},ywt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),vwt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},_wt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),kwt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Cwt={class:"tw-px-6 tw-py-4"},Dwt=(0,s._)("br",null,null,-1),Swt={class:"tw-px-6 tw-py-4"},zwt={class:"tw-px-6 tw-py-4"},Uwt={class:"tw-px-6 tw-py-4"},qwt={class:"tw-px-6 tw-py-4"},Pwt={class:"tw-px-6 tw-py-4"},Lwt={class:"tw-w-[200px] !tw-whitespace-normal"},Awt={class:"tw-px-6 tw-py-4"},$wt={class:"tw-px-6 tw-py-4"},Wwt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Ewt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Twt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Fwt=["value"],Vwt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Owt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Iwt={class:"tw-text-white"};function jwt(t,e,r,l,o,i){const n=(0,s.up)("router-link"),w=(0,s.up)("InventoryMovementsActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",fwt,[(0,s._)("table",bwt,[(0,s._)("thead",xwt,[(0,s._)("tr",null,[ywt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",vwt,(0,st.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movements,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[_wt,(0,s._)("th",kwt,(0,st.zw)(t.id),1),(0,s._)("td",Cwt,[(0,s.Uk)((0,st.zw)(t.created_at?.split("T")[0])+" ",1),Dwt,(0,s.Uk)(" "+(0,st.zw)(t.created_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Swt,(0,st.zw)(t.delivery.firstname+" "+t.delivery.lastname),1),(0,s._)("td",zwt,[(0,s.Wm)(n,{to:"products/"+t.product.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.product.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Uwt,(0,st.zw)(i.quantityTotal(t.inventory_movement_variations)),1),(0,s._)("td",qwt,[(0,s._)("div",{class:(0,st.C_)([[t.is_received?"tw-text-green-500 tw-bg-green-500/10":"tw-text-red-500 tw-bg-red-500/10"],"tw-flex tw-justify-center tw-py-1 tw-rounded-lg tw-items-center"])},[(0,s._)("span",null,(0,st.zw)(t.is_received?"Yes":"No"),1)],2)]),(0,s._)("td",Pwt,[(0,s._)("div",Lwt,(0,st.zw)(t.note?t.note:"-"),1)]),(0,s._)("td",Awt,(0,st.zw)(t.delivery.city?.name),1),(0,s._)("td",$wt,[(0,s.Wm)(w,{movement:t},null,8,["movement"])])])))),128))])])]),(0,s._)("div",Wwt,[(0,s._)("div",Ewt,[Twt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,st.zw)(t),9,Fwt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Vwt,[(0,s._)("div",Owt,(0,st.zw)(i.prevRange+1)+" - "+(0,st.zw)(o.currentPage==i.pageCount?r.movements.length:i.nextRange)+" of "+(0,st.zw)(r.movements.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(lt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Iwt,(0,st.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Rwt={class:"md:tw-w-[50%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Mwt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-blue-500"},"Confirmation",-1),Nwt={class:"mt-3"},Hwt=(0,s._)("h2",{class:"mb-2"},"Received",-1),Ywt={class:"tw-mt-3"},Zwt=(0,s._)("h2",{class:"tw-text-md mb-1"},"Add note",-1),Kwt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},Bwt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Qwt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Jwt(t,e,r,l,o,i){const n=(0,s.up)("popup-full"),w=(0,s.up)("MovementDetails"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",{key:r.movement.id,class:"tw-flex tw-items-center"},[["delivery","admin"].includes(i.user.role)?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,onClick:e[0]||(e[0]=t=>o.confirmPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-checkbox-marked-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.kq)("",!0),(t.$can("view_inventory_movement"),(0,s.wg)(),(0,s.j4)(lt.T,{key:2,onClick:e[1]||(e[1]=t=>o.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})),t.$can("delete_inventory_movement")?((0,s.wg)(),(0,s.j4)(lt.T,{key:3,onClick:e[2]||(e[2]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("confirmation_inventory_movement")?((0,s.wg)(),(0,s.j4)(n,{key:4,visible:o.confirmPopup,onCancel:e[6]||(e[6]=t=>o.confirmPopup=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",Rwt,[Mwt,(0,s._)("div",Nwt,[Hwt,(0,s.Wm)(Rg.G,{density:"compact","hide-details":!0,modelValue:o.isConfirmed,"onUpdate:modelValue":e[3]||(e[3]=t=>o.isConfirmed=t),color:"blue"},null,8,["modelValue"])]),(0,s._)("div",Ywt,[Zwt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n\r\n              ",512),[[a.nr,o.note]])]),(0,s._)("div",Kwt,[(0,s.Wm)(lt.T,{onClick:e[5]||(e[5]=t=>o.confirmPopup=!1),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Bwt])),_:1}),(0,s.Wm)(lt.T,{loading:o.isLoading,onClick:i.updateMovement,color:"blue",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Qwt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])):(0,s.kq)("",!0),(0,s.Wm)(n,{visible:o.detailsPopup,onCancel:e[8]||(e[8]=t=>o.detailsPopup=!1)},{default:(0,s.w5)((()=>[o.detailsPopup?((0,s.wg)(),(0,s.j4)(w,{key:0,onCancel:e[7]||(e[7]=t=>o.detailsPopup=!1),movement:r.movement},null,8,["movement"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this movement?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const Gwt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Xwt={class:"tw-p-5"},tdt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},edt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),rdt={class:"tw-w-4 tw-p-4"},adt={class:"tw-w-4 tw-p-4"},sdt={class:"tw-w-4 tw-p-4"},ldt={class:"tw-w-4 tw-p-4"};function odt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Gwt,[(0,s.Wm)(lt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Xwt,[(0,s._)("table",tdt,[edt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movement.inventory_movement_variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",rdt,(0,st.zw)(t.id),1),(0,s._)("td",adt,(0,st.zw)(t.product_variation.size),1),(0,s._)("td",sdt,(0,st.zw)(t.product_variation.color),1),(0,s._)("td",ldt,(0,st.zw)(t.quantity),1)])))),128))])])])])}var idt={props:["movement"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const ndt=(0,p.Z)(idt,[["render",odt]]);var wdt=ndt,ddt={props:["rowIndex","movement"],components:{MovementDetails:wdt},name:"inventoryActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,tit["delete"](this.movement.id).then((t=>{"SUCCESS"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Inventory Movement Deleted Successfully"})),this.getMovements()})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1},updateMovement(){this.isLoading=!0,tit.deliveryUpdateMovement(this.movement.id,this.isConfirmed?1:0,this.note).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:"Inventory Movement Updated Successfully"}),this.getMovements())}),this.$handleApiError).finally((()=>{this.isLoading=!1,this.confirmPopup=!1}))},getMovements(){tit.inventoryMovements().then((t=>{if("SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e)}})).catch(this.$handleApiError)}},mounted(){this.note=this.movement.note,this.isConfirmed=1==this.movement.is_received}};const cdt=(0,p.Z)(ddt,[["render",Jwt]]);var udt=cdt,pdt={props:["columns","movements"],components:{InventoryMovementsActions:udt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.movements.length/this.paginationLimit)},items(){return this.movements.slice(this.prevRange,this.nextRange)}},methods:{quantityTotal(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const mdt=(0,p.Z)(pdt,[["render",jwt]]);var gdt=mdt,hdt={components:{InventoryMovementsTable:gdt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"created_at",name:"Date"},{prop:"delivery",name:"Delivery"},{prop:"product",name:"Product"},{prop:"quantity",name:"Quantity"},{prop:"received",name:"Received"},{prop:"note",name:"Note"},{prop:"city",name:"City"},{prop:"actions",name:"Actions"}]}},computed:{inventoryMovements(){return this.$store.getters["inventory/inventoryMovements"]},filteredInventoryState(){return this.inventoryMovements.filter((()=>!0))}},methods:{async getInventoryMovements(){await tit.inventoryMovements().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e),console.log(e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryMovements()}};const fdt=(0,p.Z)(hdt,[["render",hwt]]);var bdt=fdt,xdt={name:"inventory/list",path:"/inventories",component:Wa,meta:{module:"inventory"},children:[{name:"inventory/state",path:"",component:Bit,meta:{module:"inventory",subModule:"inventory/list",title:"Inventory State",gate:"show_all_inventory_states"}},{name:"inventory/movememnts",path:"movements",component:bdt,meta:{module:"inventory",subModule:"inventory/movements",title:"Inventory Movements",gate:"show_all_inventory_movements"}},{name:"inventory/add",path:"add",component:Ant,meta:{module:"inventory",subModule:"inventory/add",title:"Add Inventory Movement",gate:"create_inventory_movement"}},{name:"inventory/update",path:"update/:id",component:wwt,meta:{module:"inventory",subModule:"inventory/update",title:"Update Inventory Movement",gate:"update_inventory_movement"}}]};const ydt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},vdt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Shop List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your shops")],-1),_dt={key:0},kdt=(0,s._)("span",{class:"text-white"}," Add Shop ",-1),Cdt={key:0},Ddt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Sdt={class:"mb-5 tw-flex"},zdt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Udt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},qdt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Pdt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Ldt={class:"tw-relative"},Adt={class:""};function $dt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ShopsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.shops.length},[(0,s._)("div",ydt,[vdt,t.$can("create_shop")?((0,s.wg)(),(0,s.iD)("div",_dt,[(0,s.Wm)(lt.T,{color:"primary-color",link:"",to:{name:"shop/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{icon:"mdi-plus",class:"mr-2 text-white"}),kdt])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Cdt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ddt,[(0,s._)("div",Sdt,[(0,s.Wm)(lt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",zdt,[(0,s.Wm)(re.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,st.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Udt,[(0,s._)("div",qdt,[Pdt,(0,s._)("div",Ldt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Adt,[(0,s.Wm)(w,{columns:o.columns,shops:i.filteredShops},null,8,["columns","shops"])])])):(0,s.kq)("",!0)])}class Wdt{async create(t){return await $.getCookie(),L.post("api/shops/new",{name:t.name})}async update(t,e){return await $.getCookie(),L.post("api/shops/update/"+t,{name:e.name})}async all(){return await $.getCookie(),L.get("api/shops")}async getShop(t){return await $.getCookie(),L.get("api/shops/"+t)}async delete(t){return await $.getCookie(),L["delete"]("api/shops/delete/"+t)}}var Edt=new Wdt;const Tdt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Fdt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Vdt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Odt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Idt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},jdt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Rdt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Mdt={class:"tw-px-6 tw-py-4"},Ndt={class:"tw-px-6 tw-py-4"},Hdt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Ydt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Zdt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Kdt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Bdt=["value"],Qdt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Jdt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Gdt={class:"tw-text-white"};function Xdt(t,e,r,l,o,i){const n=(0,s.up)("ShopActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Tdt,[(0,s._)("table",Fdt,[(0,s._)("thead",Vdt,[(0,s._)("tr",null,[Odt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Idt,(0,st.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shops,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[jdt,(0,s._)("th",Rdt,(0,st.zw)(t.id),1),(0,s._)("td",Mdt,(0,st.zw)(t.name),1),(0,s._)("td",Ndt,(0,st.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Hdt,[(0,s.Wm)(n,{shop:t},null,8,["shop"])])])))),128))])])]),(0,s._)("div",Ydt,[(0,s._)("div",Zdt,[Kdt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,st.zw)(t),9,Bdt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Qdt,[(0,s._)("div",Jdt,(0,st.zw)(i.prevRange+1)+" - "+(0,st.zw)(o.currentPage==i.pageCount?r.shops.length:i.nextRange)+" of "+(0,st.zw)(r.shops.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(lt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Gdt,(0,st.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const tct={class:"tw-flex tw-items-center tw-gap-1"};function ect(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",tct,[t.$can("update_shop")?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,to:"/shops/update/"+r.shop.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_shop")?((0,s.wg)(),(0,s.j4)(lt.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this shop?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var rct={props:["rowIndex","shop"],name:"shopActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Edt["delete"](this.shop.id).then((t=>{"SHOP_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Shop Deleted Successfully"})),Edt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const act=(0,p.Z)(rct,[["render",ect]]);var sct=act,lct={props:["columns","shops"],components:{ShopActions:sct},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.shops.length/this.paginationLimit)},items(){return this.shops.slice(this.prevRange,this.nextRange)}},methods:{}};const oct=(0,p.Z)(lct,[["render",Xdt]]);var ict=oct,nct={components:{ShopsTable:ict},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{shops(){return this.$store.getters["shop/shops"]},filteredShops(){const t=this.date;return this.shops.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){Edt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const wct=(0,p.Z)(nct,[["render",$dt]]);var dct=wct;const cct=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Shop "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new shop")],-1),uct={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},pct={class:"tw-w-full"},mct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Shop Name ",-1),gct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},hct={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},fct=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),bct=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function xct(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[cct,(0,s._)("div",uct,[(0,s._)("div",null,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",pct,[mct,(0,s.Wm)(nt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",gct,(0,st.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",hct,[(0,s.Wm)(lt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[fct])),_:1}),(0,s.Wm)(lt.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[bct])),_:1},8,["onClick","loading"])])])])}var yct={components:{},data(){return{isLoading:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;Edt.create(t).then((t=>{"SHOP_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.shop={name:""}),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.shop.name,"Shop name"),this.formStatus.name.valid}}};const vct=(0,p.Z)(yct,[["render",xct]]);var _ct=vct;const kct=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Shop"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update shop informations")],-1),Cct={key:0},Dct={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Sct={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},zct={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},Uct={class:"tw-w-full"},qct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Shop Name",-1),Pct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lct={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Act=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),$ct=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Wct(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[kct,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Cct,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Dct,[(0,s._)("div",Sct,[(0,s.Uk)(" Shop ID: "),(0,s._)("span",zct,(0,st.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Uct,[qct,(0,s.Wm)(nt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Pct,(0,st.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Lct,[(0,s.Wm)(lt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Act])),_:1}),(0,s.Wm)(lt.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[$ct])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Ect={components:{},data(){return{isLoading:!1,isLoaded:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{id(){return this.$route.params.id}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;Edt.update(this.$route.params.id,t).then((t=>{"SHOP_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"SHOP_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.shop.name,"Shop name"),this.formStatus.name.valid}},mounted(){Edt.getShop(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{name:e}=t.data.data.shops;this.shop.name=e,this.isLoaded=!0}}),this.$handleApiError)}};const Tct=(0,p.Z)(Ect,[["render",Wct]]);var Fct=Tct,Vct={name:"shops",path:"/shops",component:Wa,meta:{module:"shop"},children:[{name:"shop/list",path:"",component:dct,meta:{module:"shop",subModule:"shop/list",title:"Shop List",gate:"show_all_sales"}},{name:"shop/add",path:"add",component:_ct,meta:{module:"shop",subModule:"shop/add",title:"Shop Add",gate:"create_shop"}},{name:"shop/update",path:"update/:id",component:Fct,meta:{module:"shop",subModule:"shop/update",title:"Update Shop",gate:"update_shop"}}]};const Oct={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Ict=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Warehouse List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your warehouses")],-1),jct={key:0},Rct=(0,s._)("span",{class:"text-white"}," Add Warehouse ",-1),Mct={key:0},Nct={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Hct={class:"mb-5 tw-flex"},Yct={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Zct={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Kct={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Bct=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Qct={class:"tw-relative"},Jct={class:""};function Gct(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("WarehousesTable"),d=(0,s.up)("AddWarehouse");return(0,s.wg)(),(0,s.iD)("div",{key:i.warehouses.length},[(0,s._)("div",Oct,[Ict,t.$can("create_warehouse")?((0,s.wg)(),(0,s.iD)("div",jct,[(0,s.Wm)(lt.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Rct])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Mct,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Nct,[(0,s._)("div",Hct,[(0,s.Wm)(lt.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Yct,[(0,s.Wm)(re.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,st.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Zct,[(0,s._)("div",Kct,[Bct,(0,s._)("div",Qct,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Jct,[(0,s.Wm)(w,{columns:o.columns,warehouses:i.filteredWarehouses},null,8,["columns","warehouses"])]),(0,s.Wm)(d,{onCancel:e[4]||(e[4]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const Xct={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},tut={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},eut={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},rut=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),aut={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},sut=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),lut={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},out={class:"tw-px-6 tw-py-4"},iut={class:"tw-px-6 tw-py-4"},nut={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},wut={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},dut={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},cut=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),uut=["value"],put={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},mut={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},gut={class:"tw-text-white"};function hut(t,e,r,l,o,i){const n=(0,s.up)("WarehouseActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Xct,[(0,s._)("table",tut,[(0,s._)("thead",eut,[(0,s._)("tr",null,[rut,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",aut,(0,st.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.warehouses,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[sut,(0,s._)("th",lut,(0,st.zw)(t.id),1),(0,s._)("td",out,(0,st.zw)(t.name),1),(0,s._)("td",iut,(0,st.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",nut,[(0,s.Wm)(n,{warehouse:t},null,8,["warehouse"])])])))),128))])])]),(0,s._)("div",wut,[(0,s._)("div",dut,[cut,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,st.zw)(t),9,uut)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",put,[(0,s._)("div",mut,(0,st.zw)(i.prevRange+1)+" - "+(0,st.zw)(o.currentPage==i.pageCount?r.warehouses.length:i.nextRange)+" of "+(0,st.zw)(r.warehouses.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(lt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",gut,(0,st.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const fut={class:"tw-flex tw-items-center tw-gap-1"};function but(t,e,r,a,l,o){const i=(0,s.up)("UpdateWarehouse"),n=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",fut,[t.$can("update_warehouse")?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_warehouse")?((0,s.wg)(),(0,s.j4)(lt.T,{key:1,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[2]||(e[2]=t=>l.showUpdatePopup=!1),key:r.warehouse.id,warehouse:r.warehouse},null,8,["visible","warehouse"])),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this warehouse?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const xut={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},yut=(0,s._)("h1",{class:"tw-text-lg"},"Update Warehouse",-1),vut={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},_ut={class:"tw-w-full tw-col-span-12"},kut=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Cut={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Dut={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Sut=(0,s._)("span",{class:"text-white"}," Cancel ",-1),zut=(0,s._)("span",{class:"text-white"}," Update ",-1);function Uut(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",xut,[yut,(0,s._)("div",vut,[(0,s._)("div",_ut,[kut,(0,s.Wm)(nt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.Warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Cut,(0,st.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",Dut,[(0,s.Wm)(lt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Sut])),_:1}),(0,s.Wm)(lt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[zut])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var qut={components:{},props:["warehouse","visible"],data(){return{isLoading:!1,isLoaded:!1,Warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Sb.update(this.warehouse.id,this.Warehouse).then((t=>{"WAREHOUSE_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("warehouse/update",this.Warehouse),this.$emit("cancel")),"WAREHOUSE_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.Warehouse.name,"Warehouse name"),this.formStatus.name.valid}},mounted(){this.Warehouse={...this.warehouse}}};const Put=(0,p.Z)(qut,[["render",Uut]]);var Lut=Put,Aut={components:{UpdateWarehouse:Lut},props:["rowIndex","warehouse"],name:"warehouseActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Sb["delete"](this.warehouse.id).then((t=>{"WAREHOUSE_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Warehouse Deleted Successfully"}),this.$store.dispatch("warehouse/delete",this.warehouse.id))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const $ut=(0,p.Z)(Aut,[["render",but]]);var Wut=$ut,Eut={props:["columns","warehouses"],components:{WarehouseActions:Wut},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.warehouses.length/this.paginationLimit)},items(){return this.warehouses.slice(this.prevRange,this.nextRange)}},methods:{}};const Tut=(0,p.Z)(Eut,[["render",hut]]);var Fut=Tut;const Vut={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Out=(0,s._)("h1",{class:"tw-text-lg"},"Create Warehouse",-1),Iut={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},jut={class:"tw-w-full tw-col-span-12"},Rut=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Mut={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Nut={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Hut=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Yut=(0,s._)("span",{class:"text-white"}," Create ",-1);function Zut(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Vut,[Out,(0,s._)("div",Iut,[(0,s._)("div",jut,[Rut,(0,s.Wm)(nt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Mut,(0,st.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",Nut,[(0,s.Wm)(lt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Hut])),_:1}),(0,s.Wm)(lt.T,{loading:l.isLoading,onClick:o.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Yut])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Kut={props:["visible"],components:{},data(){return{isLoading:!1,warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.warehouse;Sb.create(t).then((t=>{if("WAREHOUSE_CREATED"==t.data.code){this.$alert({type:"success",title:t.data.message});const e=t.data.data.warehouse;this.$store.dispatch("warehouse/addWarehouse",e),this.$emit("cancel"),this.warehouse={name:""}}"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.warehouse.name,"Warehouse name"),this.formStatus.name.valid}}};const But=(0,p.Z)(Kut,[["render",Zut]]);var Qut=But,Jut={components:{WarehousesTable:Fut,AddWarehouse:Qut},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{warehouses(){return this.$store.getters["warehouse/warehouses"]},filteredWarehouses(){const t=this.date;return this.warehouses.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){Sb.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Gut=(0,p.Z)(Jut,[["render",Gct]]);var Xut=Gut,tpt={name:"warehouses",path:"/warehouses",component:Wa,meta:{module:"warehouse"},children:[{name:"warehouse/list",path:"",component:Xut,meta:{module:"warehouse",subModule:"warehouse/list",title:"Warehouse List",gate:"show_all_warehouses"}}]};const ept=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Factorisation List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your factorisations")])],-1),rpt={key:0},apt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},spt={class:"mb-5 tw-flex"},lpt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},opt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},ipt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},npt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),wpt={class:"tw-relative"},dpt={class:""};function cpt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("FactorisationsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.factorisations.length},[ept,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",rpt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",apt,[(0,s._)("div",spt,[(0,s.Wm)(lt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",lpt,[(0,s.Wm)(re.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,st.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",opt,[(0,s._)("div",ipt,[npt,(0,s._)("div",wpt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",dpt,[(0,s.Wm)(w,{columns:i.columns,factorisations:i.filteredFactorisations},null,8,["columns","factorisations"])])])):(0,s.kq)("",!0)])}const upt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},ppt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},mpt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},gpt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),hpt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},fpt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},bpt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},xpt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),ypt=["value"],vpt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},_pt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},kpt={class:"tw-text-white"};function Cpt(t,e,r,l,o,i){const n=(0,s.up)("FactorisationRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",upt,[(0,s._)("table",ppt,[(0,s._)("thead",mpt,[(0,s._)("tr",null,[gpt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",hpt,(0,st.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.factorisations,(t=>((0,s.wg)(),(0,s.j4)(n,{factorisation:t,key:t.id},null,8,["factorisation"])))),128))])])]),(0,s._)("div",fpt,[(0,s._)("div",bpt,[xpt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,st.zw)(t),9,ypt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",vpt,[(0,s._)("div",_pt,(0,st.zw)(i.prevRange+1)+" - "+(0,st.zw)(o.currentPage==i.pageCount?r.factorisations.length:i.nextRange)+" of "+(0,st.zw)(r.factorisations.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(lt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",kpt,(0,st.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Dpt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Spt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),zpt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Upt={class:"tw-px-6 tw-py-4"},qpt={key:0,class:"tw-px-6 tw-py-4"},Ppt={key:0},Lpt={key:1},Apt={class:"tw-px-6 tw-py-4"},$pt={key:0},Wpt={key:1},Ept={class:"tw-px-6 tw-py-4"},Tpt={class:"tw-px-6 tw-py-4"},Fpt={class:"tw-px-6 tw-py-4"},Vpt={class:"tw-px-6 tw-py-4"},Opt={key:1,class:"tw-px-6 tw-py-4"},Ipt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},jpt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Rpt=["disabled"],Mpt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Npt={key:2,class:"tw-px-6 tw-py-4"},Hpt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Ypt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Zpt=["disabled"],Kpt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Bpt={class:"tw-px-6 tw-py-4"},Qpt={key:3,class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function Jpt(t,e,r,l,o,i){const n=(0,s.up)("FactorisationActions");return(0,s.wg)(),(0,s.iD)("tr",Dpt,[Spt,(0,s._)("th",zpt,(0,st.zw)(r.factorisation.id),1),(0,s._)("td",Upt,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>i.download(r.factorisation.id))},(0,st.zw)(r.factorisation.factorisation_id),1)]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",qpt,[r.factorisation.delivery?((0,s.wg)(),(0,s.iD)("span",Ppt,(0,st.zw)(i.deliveryName),1)):((0,s.wg)(),(0,s.iD)("span",Lpt,"-"))])):(0,s.kq)("",!0),(0,s._)("td",Apt,[r.factorisation.seller?((0,s.wg)(),(0,s.iD)("span",$pt,(0,st.zw)(i.sellerName),1)):((0,s.wg)(),(0,s.iD)("span",Wpt,"-"))]),(0,s._)("td",Ept,(0,st.zw)(r.factorisation.commands_number),1),(0,s._)("td",Tpt,(0,st.zw)(r.factorisation.price),1),(0,s._)("td",Fpt,(0,st.zw)(r.factorisation.close_at?.split("T")[0]),1),(0,s._)("td",Vpt,(0,st.zw)(r.factorisation.paid_at?.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Opt,[(0,s._)("div",Ipt,[(0,s._)("label",jpt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[1]||(e[1]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Rpt),[[a.e8,i.close]]),Mpt]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(it.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Npt,[(0,s._)("div",Hpt,[(0,s._)("label",Ypt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[2]||(e[2]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Zpt),[[a.e8,i.paid]]),Kpt]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(it.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",Bpt,(0,st.zw)(r.factorisation.created_at.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Qpt,[(0,s.Wm)(n,{factorisation:r.factorisation},null,8,["factorisation"])])):(0,s.kq)("",!0)])}const Gpt={class:"tw-flex tw-items-center tw-gap-1"};function Xpt(t,e,r,a,l,o){const i=(0,s.up)("UpdateFactorisation"),n=(0,s.up)("UpdateComment"),w=(0,s.up)("UpdateFees"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Gpt,[t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdateCommentPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(lt.T,{key:1,onClick:e[1]||(e[1]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_factorisation")?((0,s.wg)(),(0,s.j4)(lt.T,{key:2,onClick:e[2]||(e[2]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")&&"seller"==this.factorisation.type?((0,s.wg)(),(0,s.j4)(lt.T,{key:3,onClick:e[3]||(e[3]=t=>l.showUpdateFeesPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-format-list-text")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[4]||(e[4]=t=>l.showUpdatePopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(n,{visible:l.showUpdateCommentPopup,onCancel:e[5]||(e[5]=t=>l.showUpdateCommentPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(w,{visible:l.showUpdateFeesPopup,onCancel:e[6]||(e[6]=t=>l.showUpdateFeesPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this factorisation?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const tmt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},emt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),rmt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},amt={class:"tw-w-full tw-col-span-6"},smt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),lmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},omt={class:"tw-w-full tw-col-span-6"},imt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),nmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},wmt={class:"tw-w-full tw-col-span-6"},dmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),cmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},umt={class:"tw-w-full tw-col-span-6"},pmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),mmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gmt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},hmt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),fmt=(0,s._)("span",{class:"text-white"}," Update ",-1);function bmt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[9]||(e[9]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",tmt,[emt,(0,s._)("div",rmt,[(0,s._)("div",amt,[smt,(0,s.Wm)(nt.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.Factorisation.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Factorisation.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",lmt,(0,st.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",omt,[imt,(0,s.Wm)(nt.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",nmt,(0,st.zw)(l.formStatus.delivery_id.message),1)]),(0,s._)("div",wmt,[dmt,(0,s.Wm)(nt.hw,{error:!l.formStatus.price.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("price")),"hide-details":!0,modelValue:l.Factorisation.price,"onUpdate:modelValue":e[5]||(e[5]=t=>l.Factorisation.price=t),disabled:!0,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",cmt,(0,st.zw)(l.formStatus.price.message),1)]),(0,s._)("div",umt,[pmt,(0,s.Wm)(nt.hw,{error:!l.formStatus.commands_number.valid,disabled:!0,onKeyup:e[6]||(e[6]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:l.Factorisation.commands_number,"onUpdate:modelValue":e[7]||(e[7]=t=>l.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",mmt,(0,st.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",gmt,[(0,s.Wm)(lt.T,{onClick:e[8]||(e[8]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[hmt])),_:1}),(0,s.Wm)(lt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[fmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var xmt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{factorisation_id:"",delivery_id:0,price:0,commands_number:0,note:""},formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.Factorisation.delivery.firstname+" "+this.Factorisation.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Re.update(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Pt(this.Factorisation.factorisation_id,"Factorisation Code"),this.formStatus.price=Lt(this.Factorisation.price,"Factorisation Price"),this.formStatus.commands_number=Lt(this.Factorisation.commands_number,"Factorisation Nb Commands"),this.formStatus.factorisation_id.valid&&this.formStatus.price.valid&&this.formStatus.commands_number.valid}},mounted(){this.Factorisation={...this.factorisation}}};const ymt=(0,p.Z)(xmt,[["render",bmt]]);var vmt=ymt;const _mt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},kmt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Cmt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Dmt={class:"tw-w-full tw-col-span-6"},Smt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),zmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Umt={class:"tw-w-full tw-col-span-6"},qmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Pmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lmt={class:"tw-w-full tw-col-span-12"},Amt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),$mt=["error"],Wmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Emt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Tmt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Fmt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Vmt(t,e,r,l,o,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[7]||(e[7]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",_mt,[kmt,(0,s._)("div",Cmt,[(0,s._)("div",Dmt,[Smt,(0,s.Wm)(nt.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.Factorisation.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Factorisation.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",zmt,(0,st.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Umt,[qmt,(0,s.Wm)(nt.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.Factorisation.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Pmt,(0,st.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",Lmt,[Amt,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.Factorisation.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n            ",40,$mt),[[a.nr,o.Factorisation.comment]]),(0,s._)("div",Wmt,(0,st.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Emt,[(0,s.Wm)(lt.T,{onClick:e[6]||(e[6]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Tmt])),_:1}),(0,s.Wm)(lt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Fmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Omt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Re.updateComment(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Pt(this.Factorisation.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Imt=(0,p.Z)(Omt,[["render",Vmt]]);var jmt=Imt;const Rmt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Mmt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),Nmt={class:"tw-w-full tw-col-span-6"},Hmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),Ymt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zmt={class:"tw-w-full tw-col-span-6"},Kmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),Bmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Qmt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},Jmt=["onClick"],Gmt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),Xmt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},tgt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),egt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},rgt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),agt=(0,s._)("span",{class:"text-white"}," Update ",-1);function sgt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Rmt,[Mmt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",Nmt,[Hmt,(0,s.Wm)(nt.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",Ymt,(0,st.zw)(l.formStatus.price.message),1)]),(0,s._)("div",Zmt,[Kmt,(0,s.Wm)(nt.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",Bmt,(0,st.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",Qmt,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(it.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),Gmt],8,Jmt)])])])))),128)),(0,s._)("div",Xmt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(it.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),tgt])]),(0,s._)("div",egt,[(0,s.Wm)(lt.T,{onClick:e[3]||(e[3]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[rgt])),_:1}),(0,s.Wm)(lt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[agt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var lgt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Re.updateFees(this.factorisation.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.Factorisation={...this.factorisation},this.fees=JSON.parse(JSON.stringify(this.factorisation.fees))}};const ogt=(0,p.Z)(lgt,[["render",sgt]]);var igt=ogt,ngt={components:{UpdateFactorisation:vmt,UpdateComment:jmt,UpdateFees:igt},props:["rowIndex","factorisation"],name:"factorisationActions",data(){return{showPopup:!1,isLoading:!1,showUpdateCommentPopup:!1,showUpdateFeesPopup:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Re["delete"](this.factorisation.id).then((t=>{"FACTORISATION_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Factorisation Deleted Successfully"}),this.$store.dispatch("factorisation/delete",this.factorisation.id)),"DELETE_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const wgt=(0,p.Z)(ngt,[["render",Xpt]]);var dgt=wgt,cgt={props:["factorisation"],components:{FactorisationActions:dgt},data(){return{isLoadingPaid:!1,isLoadingClose:!1}},computed:{deliveryName:{get(){return this.factorisation.delivery.firstname+" "+this.factorisation.delivery.lastname},set(t){console.log(t)}},sellerName:{get(){return this.factorisation.seller.firstname+" "+this.factorisation.seller.lastname},set(t){console.log(t)}},paid:{get(){return 1==this.factorisation.paid},set(t){this.updatePaid(t)}},close:{get(){return 1==this.factorisation.close},set(t){this.updateClose(t)}},user(){return this.$store.getters["user/user"]}},methods:{updatePaid(t){this.isLoadingPaid=!0,Re.updatePaid(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))},updateClose(t){this.isLoadingClose=!0,Re.updateClose(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))},download(t){const e=w+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const ugt=(0,p.Z)(cgt,[["render",Jpt]]);var pgt=ugt,mgt={props:["columns","factorisations"],components:{FactorisationRow:pgt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.factorisations.length/this.paginationLimit)},items(){return this.factorisations.slice(this.prevRange,this.nextRange)}},methods:{}};const ggt=(0,p.Z)(mgt,[["render",Cpt]]);var hgt=ggt,fgt={components:{FactorisationsTable:hgt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,userColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"created_at",name:"Created at"}],adminColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"delivery_id",name:"Delivery"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"close",name:"Close"},{prop:"paid",name:"Paid"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{user(){return this.$store.getters["user/user"]},columns(){return"admin"==this.user.role?this.adminColumns:this.userColumns},factorisations(){return this.$store.getters["factorisation/factorisations"]},filteredFactorisations(){const t=this.date;return this.factorisations.filter((e=>!t||e?.created_at.split("T")[0]===t))}},mounted(){Re.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("factorisation/setFactorisations",t.data.data.factorisations)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const bgt=(0,p.Z)(fgt,[["render",cpt]]);var xgt=bgt;const ygt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},vgt={class:"tw-px-3"},_gt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},kgt={class:"tw-flex tw-items-center tw-gap-x-3"},Cgt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Factorisation",-1),Dgt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Sgt={key:0};function zgt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",ygt,[(0,s._)("section",vgt,[(0,s._)("div",_gt,[(0,s._)("div",null,[(0,s._)("div",kgt,[Cgt,(0,s._)("span",Dgt,(0,st.zw)(l.totalOrders)+" order",1)])])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Sgt)):(0,s.kq)("",!0)])}const Ugt={class:"tw-flex tw-flex-col tw-mt-5"},qgt={class:"tw-overflow-x-auto"},Pgt={class:"tw-inline-block tw-min-w-full tw-align-middle"},Lgt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Agt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},$gt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},Wgt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Egt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Code ",-1),Tgt={key:0,scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Fgt={key:1,scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Vgt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," NB Commands ",-1),Ogt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Price ",-1),Igt={key:2,scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},jgt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Closed At ",-1),Rgt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid At ",-1),Mgt={key:3,scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Ngt={key:4,scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Hgt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Ygt=(0,s._)("span",null,"Created",-1),Zgt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Kgt=[Ygt,Zgt],Bgt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),Qgt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Jgt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ggt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Factorisation was found ! ")])],-1),Xgt=[Ggt],tht={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},eht={colspan:"11"},rht={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},aht=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),sht=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),lht=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),oht=[sht,lht],iht={class:"tw-mt-6"};function nht(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ugt,[(0,s._)("div",qgt,[(0,s._)("div",Pgt,[(0,s._)("div",Lgt,[(0,s._)("table",Agt,[(0,s._)("thead",$gt,[(0,s._)("tr",null,[Wgt,Egt,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Tgt," Delivery ")):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Fgt," Seller ")):(0,s.kq)("",!0),Vgt,Ogt,"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Igt," Status ")):(0,s.kq)("",!0),jgt,Rgt,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Mgt," Close ")):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Ngt," Paid ")):(0,s.kq)("",!0),(0,s._)("th",Hgt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Kgt)]),Bgt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Qgt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Jgt,Xgt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",tht,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",eht,[(0,s._)("div",rht,[aht,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},oht)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",iht,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const wht={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},dht={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},cht={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},uht={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},pht=["disabled"],mht=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),ght=(0,s._)("span",null," previous ",-1),hht=[mht,ght],fht=["disabled"],bht=(0,s._)("span",null," Next ",-1),xht=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),yht=[bht,xht];function vht(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",wht,[(0,s._)("div",dht,[(0,s.Uk)(" Page "),(0,s._)("span",cht,(0,st.zw)(r.currentPage)+" of "+(0,st.zw)(r.lastPage),1)]),(0,s._)("div",uht,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,st.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},hht,10,pht),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,st.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},yht,10,fht)])])])}var _ht={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const kht=(0,p.Z)(_ht,[["render",vht]]);var Cht=kht;const Dht={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Sht={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},zht={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Uht={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},qht={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Pht={key:0},Lht={key:1},Aht={key:1,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$ht={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Wht={key:0},Eht={key:1},Tht={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Fht={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Vht={key:0},Oht={key:1},Iht={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},jht={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Rht={key:0},Mht={key:1},Nht={key:2,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Hht={key:0,class:"tw-px-4 tw-py-1 tw-rounded-lg tw-border tw-border-blue-500 tw-bg-blue-100 tw-text-blue-700 tw-text-sm tw-w-fit"},Yht={key:1,class:"tw-px-4 tw-py-1 tw-rounded-lg tw-border tw-border-orange-500 tw-bg-orange-100 tw-text-orange-700 tw-text-sm tw-w-fit"},Zht={key:2,class:"tw-px-4 tw-py-1 tw-rounded-lg tw-border tw-border-emerald-500 tw-bg-emerald-100 tw-text-emerald-700 tw-text-sm tw-w-fit"},Kht={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Bht={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Qht={key:0},Jht={key:0},Ght={key:1},Xht={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},tft={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},eft={key:0},rft={key:0},aft={key:1},sft={key:3,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lft={key:4,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},oft={key:0},ift={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nft={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},wft={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function dft(t,e,r,a,l,o){const i=(0,s.up)("PdfFactorisation"),n=(0,s.up)("CloseFactorisation"),w=(0,s.up)("PaidFactorisation"),d=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",Dht,[(0,s._)("div",null,[(0,s._)("h2",Sht,(0,st.zw)(r.item.id),1)])]),(0,s._)("td",zht,[(0,s._)("div",null,[(0,s.Wm)(i,{item:r.item},null,8,["item"])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Uht,[(0,s._)("div",null,[(0,s._)("h2",qht,["delivery"==r.item.type?((0,s.wg)(),(0,s.iD)("span",Pht,(0,st.zw)(r.item.delivery.firstname)+" "+(0,st.zw)(r.item.delivery.lastname),1)):((0,s.wg)(),(0,s.iD)("span",Lht,"-"))])])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Aht,[(0,s._)("div",null,[(0,s._)("h2",$ht,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",Wht,(0,st.zw)(r.item.seller.firstname)+" "+(0,st.zw)(r.item.seller.lastname),1)):((0,s.wg)(),(0,s.iD)("span",Eht,"-"))])])])):(0,s.kq)("",!0),(0,s._)("td",Tht,[(0,s._)("div",null,[(0,s._)("h2",Fht,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",Vht,(0,st.zw)(r.item.seller_order_count),1)):((0,s.wg)(),(0,s.iD)("span",Oht,(0,st.zw)(r.item.delivery_order_count),1))])])]),(0,s._)("td",Iht,[(0,s._)("div",null,[(0,s._)("h2",jht,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",Rht,(0,st.zw)(r.item.seller_order_price),1)):((0,s.wg)(),(0,s.iD)("span",Mht,(0,st.zw)(r.item.delivery_order_price),1)),(0,s.Uk)(" "+(0,st.zw)(l.currency),1)])])]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Nht,[(0,s._)("div",null,[r.item.close||r.item.paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Hht," Active ")),r.item.close&&!r.item.paid?((0,s.wg)(),(0,s.iD)("div",Yht," Prending ")):(0,s.kq)("",!0),r.item.close&&r.item.paid?((0,s.wg)(),(0,s.iD)("div",Zht," Paid ")):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",Kht,[(0,s._)("div",null,[(0,s._)("h2",Bht,[r.item.close_at?((0,s.wg)(),(0,s.iD)("span",Qht,[(0,s._)("p",null,(0,st.zw)(l.moment(r.item.close_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",Jht,(0,st.zw)(l.moment(r.item.close_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",Ght," - "))])])]),(0,s._)("td",Xht,[(0,s._)("div",null,[(0,s._)("h2",tft,[r.item.paid_at?((0,s.wg)(),(0,s.iD)("span",eft,[(0,s._)("p",null,(0,st.zw)(l.moment(r.item.paid_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",rft,(0,st.zw)(l.moment(r.item.paid_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",aft," - "))])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",sft,[(0,s._)("div",null,[((0,s.wg)(),(0,s.j4)(n,{item:r.item,key:r.item.id,onUpdate:e[0]||(e[0]=e=>t.$emit("update",e))},null,8,["item"]))])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",lft,[r.item.close?((0,s.wg)(),(0,s.iD)("div",oft,[((0,s.wg)(),(0,s.j4)(w,{item:r.item,key:r.item.id,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["item"]))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("td",ift,[(0,s._)("div",null,[(0,s._)("h2",nft,[(0,s._)("p",null,(0,st.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",wft,[(0,s._)("div",null,[(0,s.Wm)(d,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const cft={class:"tw-h-full"},uft={class:"tw-flex tw-items-center tw-gap-2"},pft={key:0},mft={key:1},gft={key:2};function hft(t,e,r,a,l,o){const i=(0,s.up)("CommentFactorisation"),n=(0,s.up)("UpdateFactorisation"),w=(0,s.up)("UpdateFees");return(0,s.wg)(),(0,s.iD)("div",cft,[(0,s._)("div",uft,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,target:"_blank",href:l.serverUrl+"api/export/factorisations/"+r.item.factorisation_id,class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-microsoft-excel")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(lt.T,{key:1,onClick:e[0]||(e[0]=t=>l.CommentPopup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-500/10 hover:tw-border-blue-500/70 tw-duration-300 tw-text-blue-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(lt.T,{key:2,onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(lt.T,{key:3,onClick:e[2]||(e[2]=t=>l.DeletePopup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),"admin"==t.$user.role&&"seller"==r.item.type?((0,s.wg)(),(0,s.j4)(lt.T,{key:4,onClick:e[3]||(e[3]=t=>l.FeesPopup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-format-list-text")])),_:1})])),_:1})):(0,s.kq)("",!0)]),l.CommentPopup?((0,s.wg)(),(0,s.iD)("div",pft,[((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),visible:l.CommentPopup,"onUpdate:visible":e[5]||(e[5]=t=>l.CommentPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),l.popup?((0,s.wg)(),(0,s.iD)("div",mft,[((0,s.wg)(),(0,s.j4)(n,{onUpdate:e[6]||(e[6]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[7]||(e[7]=t=>l.popup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),l.FeesPopup?((0,s.wg)(),(0,s.iD)("div",gft,[((0,s.wg)(),(0,s.j4)(w,{onUpdate:e[8]||(e[8]=e=>t.$emit("update",e)),visible:l.FeesPopup,"onUpdate:visible":e[9]||(e[9]=t=>l.FeesPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0)])}const fft={key:0},bft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},xft=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),yft={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},vft={class:"tw-w-full tw-col-span-6"},_ft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),kft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Cft={class:"tw-w-full tw-col-span-6"},Dft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Sft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zft={class:"tw-w-full tw-col-span-12"},Uft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),qft=["error"],Pft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lft={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Aft=(0,s._)("span",{class:"text-white"}," Cancel ",-1),$ft=(0,s._)("span",{class:"text-white"}," Update ",-1);function Wft(t,e,r,l,o,i){const n=(0,s.up)("popup-full");return o.itemCopy?((0,s.wg)(),(0,s.iD)("div",fft,[(0,s.Wm)(n,{onCancel:e[7]||(e[7]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",bft,[xft,(0,s._)("div",yft,[(0,s._)("div",vft,[_ft,(0,s.Wm)(nt.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.itemCopy.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.itemCopy.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",kft,(0,st.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Cft,[Dft,(0,s.Wm)(nt.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.itemCopy.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.itemCopy.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Sft,(0,st.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",zft,[Uft,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.itemCopy.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",40,qft),[[a.nr,o.itemCopy.comment]]),(0,s._)("div",Pft,(0,st.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Lft,[(0,s.Wm)(lt.T,{onClick:e[6]||(e[6]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Aft])),_:1}),(0,s.Wm)(lt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[$ft])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Eft={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Re.updateComment(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Pt(this.itemCopy.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const Tft=(0,p.Z)(Eft,[["render",Wft]]);var Fft=Tft;const Vft={key:0},Oft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Ift=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),jft={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Rft={class:"tw-w-full tw-col-span-6"},Mft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Nft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Hft={class:"tw-w-full tw-col-span-6"},Yft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Zft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Kft={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Bft=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Qft=(0,s._)("span",{class:"text-white"}," Update ",-1);function Jft(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",Vft,[(0,s.Wm)(i,{onCancel:e[5]||(e[5]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Oft,[Ift,(0,s._)("div",jft,[(0,s._)("div",Rft,[Mft,(0,s.Wm)(nt.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.itemCopy.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.itemCopy.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Nft,(0,st.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",Hft,[Yft,(0,s.Wm)(nt.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Zft,(0,st.zw)(l.formStatus.delivery_id.message),1)])]),(0,s._)("div",Kft,[(0,s.Wm)(lt.T,{onClick:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Bft])),_:1}),(0,s.Wm)(lt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Qft])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Gft={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.itemCopy.delivery.firstname+" "+this.itemCopy.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Re.update(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Pt(this.itemCopy.factorisation_id,"Factorisation Code"),this.formStatus.factorisation_id.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const Xft=(0,p.Z)(Gft,[["render",Jft]]);var tbt=Xft;const ebt={key:0},rbt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},abt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),sbt={class:"tw-w-full tw-col-span-6"},lbt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),obt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ibt={class:"tw-w-full tw-col-span-6"},nbt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),wbt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},dbt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},cbt=["onClick"],ubt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),pbt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},mbt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),gbt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},hbt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),fbt=(0,s._)("span",{class:"text-white"}," Update ",-1);function bbt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",ebt,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",rbt,[abt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",sbt,[lbt,(0,s.Wm)(nt.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",obt,(0,st.zw)(l.formStatus.price.message),1)]),(0,s._)("div",ibt,[nbt,(0,s.Wm)(nt.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",wbt,(0,st.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",dbt,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(it.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),ubt],8,cbt)])])])))),128)),(0,s._)("div",pbt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(it.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),mbt])]),(0,s._)("div",gbt,[(0,s.Wm)(lt.T,{onClick:e[3]||(e[3]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[hbt])),_:1}),(0,s.Wm)(lt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[fbt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var xbt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Re.updateFees(this.itemCopy.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$emit("update",this.itemCopy),this.$emit("update:visible",!1)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.fees=this.itemCopy.fees??[]}};const ybt=(0,p.Z)(xbt,[["render",bbt]]);var vbt=ybt,_bt={components:{CommentFactorisation:Fft,UpdateFactorisation:tbt,UpdateFees:vbt},props:{item:{required:!0}},data(){return{CommentPopup:!1,popup:!1,DeletePopup:!1,FeesPopup:!1,isLoading:!1,serverUrl:w}},computed:{},methods:{}};const kbt=(0,p.Z)(_bt,[["render",hft]]);var Cbt=kbt;const Dbt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Sbt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},zbt=["disabled"],Ubt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function qbt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",Dbt,[(0,s._)("label",Sbt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[0]||(e[0]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,zbt),[[a.e8,i.close]]),Ubt]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(it.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var Pbt={props:{item:{required:!0}},data(){return{isLoadingClose:!1}},computed:{close:{get(){return this.item.close},set(t){this.updateClose(t)}}},methods:{updateClose(t){this.isLoadingClose=!0,Re.updateClose(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))}}};const Lbt=(0,p.Z)(Pbt,[["render",qbt]]);var Abt=Lbt;const $bt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Wbt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Ebt=["disabled"],Tbt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function Fbt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",$bt,[(0,s._)("label",Wbt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[0]||(e[0]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Ebt),[[a.e8,i.paid]]),Tbt]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(it.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var Vbt={props:{item:{required:!0}},data(){return{isLoadingPaid:!1}},computed:{paid:{get(){return this.item.paid},set(t){this.updatePaid(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Re.updatePaid(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))}}};const Obt=(0,p.Z)(Vbt,[["render",Fbt]]);var Ibt=Obt;const jbt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"};function Rbt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("h2",jbt,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>o.download(r.item.id))},(0,st.zw)(r.item.factorisation_id),1)])}var Mbt={props:{item:{required:!0}},methods:{download(t){const e=w+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const Nbt=(0,p.Z)(Mbt,[["render",Rbt]]);var Hbt=Nbt,Ybt={components:{TableActions:Cbt,CloseFactorisation:Abt,PaidFactorisation:Ibt,PdfFactorisation:Hbt},props:{item:{required:!0}},data(){return{moment:ke(),currency:c}},computed:{},methods:{}};const Zbt=(0,p.Z)(Ybt,[["render",dft]]);var Kbt=Zbt,Bbt={components:{TablePaginationNoNums:Cht,TableRow:Kbt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const Qbt=(0,p.Z)(Bbt,[["render",nht]]);var Jbt=Qbt;const Gbt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Xbt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},txt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),ext=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),rxt=[ext],axt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),sxt=[axt],lxt=["disabled"],oxt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),ixt=[oxt],nxt={class:"tw-relative"},wxt=["value"],dxt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),cxt=[dxt],uxt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),pxt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},mxt=["value"],gxt={class:"tw-overflow-hidden tw-col-span-1"},hxt=(0,s._)("div",{class:"tw-overflow-hidden tw-col-span-1"},null,-1),fxt=[hxt];function bxt(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Gbt,[(0,s._)("div",Xbt,[txt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},rxt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},sxt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},ixt,8,lxt),(0,s._)("div",nxt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},cxt,40,wxt),uxt])]),(0,s._)("div",pxt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,mxt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,st.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",gxt,[(0,s.Wm)(n,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},fxt,2)):(0,s.kq)("",!0)])}const xxt={class:"tw-mb-4"},yxt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},vxt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},_xt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),kxt=(0,s._)("span",null,"Clear",-1),Cxt=[_xt,kxt],Dxt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Sxt=(0,s._)("span",null,"Filter",-1),zxt=[Dxt,Sxt];function Uxt(t,e,r,a,l,o){const i=(0,s.up)("SellerFilter"),n=(0,s.up)("CloseFilter"),w=(0,s.up)("PaidFilter");return(0,s.wg)(),(0,s.iD)("div",xxt,[(0,s._)("div",yxt,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,filters:r.filters,onUpdate:e[0]||(e[0]=e=>t.$emit("update",e))},null,8,["filters"])):(0,s.kq)("",!0),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",vxt,[(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Cxt),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},zxt)])])])}const qxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Pxt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),Lxt=["value"],Axt=(0,s._)("option",{value:"all"},"All",-1),$xt=["value"];function Wxt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",qxt,[Pxt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Axt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,$xt)))),128))],40,Lxt)])}var Ext={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Txt=(0,p.Z)(Ext,[["render",Wxt]]);var Fxt=Txt;const Vxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Oxt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Close",-1),Ixt=["value"],jxt=(0,s._)("option",{value:"all"},"All",-1),Rxt=["value"];function Mxt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Vxt,[Oxt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,close:e.target.value})),value:r.filters.close,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[jxt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.close,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,st.zw)(t.title),9,Rxt)))),128))],40,Ixt)])}var Nxt={props:{filters:{required:!0}},data(){return{close:[{id:1,title:"Close",value:1},{id:2,title:"Not Close",value:0}]}}};const Hxt=(0,p.Z)(Nxt,[["render",Mxt]]);var Yxt=Hxt;const Zxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Kxt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Paid",-1),Bxt=["value"],Qxt=(0,s._)("option",{value:"all"},"All",-1),Jxt=["value"];function Gxt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Zxt,[Kxt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,paid:e.target.value})),value:r.filters.paid,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Qxt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.paid,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,st.zw)(t.title),9,Jxt)))),128))],40,Bxt)])}var Xxt={props:{filters:{required:!0}},data(){return{paid:[{id:1,title:"Paid",value:1},{id:2,title:"Not Paid",value:0}]}}};const tyt=(0,p.Z)(Xxt,[["render",Gxt]]);var eyt=tyt,ryt={components:{SellerFilter:Fxt,CloseFilter:Yxt,PaidFilter:eyt},props:{filters:{required:!0,default:{}}},data(){return{}}};const ayt=(0,p.Z)(ryt,[["render",Uxt]]);var syt=ayt,lyt={components:{FiltersWrapper:syt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const oyt=(0,p.Z)(lyt,[["render",bxt]]);var iyt=oyt,nyt={components:{IndexTable:Jbt,IndexFilters:iyt},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{user_id:"all",close:"all",paid:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Re.paginate(t,e).then((({data:t})=>{const e=t.data.factorisation;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={user_id:"all",close:"all",paid:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=_o(t.first_page_url),this.lase_page_url=_o(t.last_page_url),this.next_page_url=_o(t.next_page_url),this.prev_page_url=_o(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const wyt=(0,p.Z)(nyt,[["render",zgt]]);var dyt=wyt,cyt={name:"factorisations",path:"/factorisations",component:Wa,meta:{module:"factorisation"},children:[{name:"factorisation/list",path:"",component:xgt,meta:{module:"factorisation",subModule:"factorisation/list",title:"Factorisations List",gate:"show_all_factorisations"}},{name:"factorisation/list",path:"",component:dyt,meta:{module:"factorisation",subModule:"factorisation/list",title:"New Factorisations List",gate:"show_all_factorisations"}}]};const uyt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},pyt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Google Sheets"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your google sheets")],-1),myt=(0,s._)("span",{class:"text-white"}," Add Sheet ",-1),gyt={key:0},hyt={key:1,class:"py-5 px-5 tw-mb-5 tw-border bg-white tw-w-full tw-rounded-md"},fyt={class:"tw-flex tw-items-center tw-gap-2"},byt=(0,s._)("h1",null,"Application's email",-1),xyt={class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-py-2 tw-px-2 tw-text-sm tw-mt-2 tw-text-gray-700"},yyt=(0,s._)("p",{class:"tw-mt-1 tw-text-xs tw-text-gray-400"}," Use this email to give access to Google Sheets ",-1),vyt={key:2,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_yt={class:"mb-5 tw-flex"},kyt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Cyt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Dyt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Syt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),zyt={class:"tw-relative"},Uyt={class:""};function qyt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("SheetsTable"),d=(0,s.up)("AddSheet");return(0,s.wg)(),(0,s.iD)("div",{key:i.sheets.length},[(0,s._)("div",uyt,[pyt,(0,s._)("div",null,[t.$can("create_sheet")?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{icon:"mdi-plus",class:"mr-2 text-white"}),myt])),_:1})):(0,s.kq)("",!0)])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",gyt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",hyt,[(0,s._)("div",fyt,[byt,(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.copy&&i.copy(...t)),class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-w-[30px] tw-h-[30px] tw-text-gray-500 hover:tw-text-gray-700 tw-duration-300 tw-border-solid hover:tw-border-gray-400"},[(0,s.Wm)(it.t,{class:"tw-text-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-content-copy")])),_:1})])]),(0,s._)("div",xyt,(0,st.zw)(o.email),1),yyt])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",vyt,[(0,s._)("div",_yt,[(0,s.Wm)(lt.T,{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",kyt,[(0,s.Wm)(re.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,st.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Cyt,[(0,s._)("div",Dyt,[Syt,(0,s._)("div",zyt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Uyt,[(0,s.Wm)(w,{sheets:i.sheets},null,8,["sheets"])]),(0,s.Wm)(d,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const Pyt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Lyt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Ayt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},$yt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Wyt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Eyt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Tyt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Fyt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),Vyt=["value"],Oyt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Iyt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},jyt={class:"tw-text-white"};function Ryt(t,e,r,l,o,i){const n=(0,s.up)("SheetRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Pyt,[(0,s._)("table",Lyt,[(0,s._)("thead",Ayt,[(0,s._)("tr",null,[$yt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Wyt,(0,st.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sheets,(t=>((0,s.wg)(),(0,s.j4)(n,{sheet:t,key:t.id},null,8,["sheet"])))),128))])])]),(0,s._)("div",Eyt,[(0,s._)("div",Tyt,[Fyt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,st.zw)(t),9,Vyt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Oyt,[(0,s._)("div",Iyt,(0,st.zw)(i.prevRange+1)+" - "+(0,st.zw)(o.currentPage==i.pageCount?r.sheets.length:i.nextRange)+" of "+(0,st.zw)(r.sheets.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(lt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",jyt,(0,st.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Myt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Nyt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Hyt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Yyt={class:"tw-px-6 tw-py-4"},Zyt={class:"tw-px-6 tw-py-4"},Kyt={class:"tw-px-6 tw-py-4"},Byt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Qyt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Jyt=["disabled"],Gyt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Xyt={class:"tw-px-6 tw-py-4"},tvt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function evt(t,e,r,l,o,i){const n=(0,s.up)("SheetActions");return(0,s.wg)(),(0,s.iD)("tr",Myt,[Nyt,(0,s._)("th",Hyt,(0,st.zw)(r.sheet.id),1),(0,s._)("td",Yyt,[(0,s._)("div",null,[(0,s._)("span",{class:(0,st.C_)(["tw-inline-block tw-w-[8px] tw-h-[8px] tw-rounded-full tw-mr-1",[1==r.sheet.active&&1==r.sheet.auto_fetch?"tw-bg-emerald-500":"tw-bg-red-500"]])},null,2),(0,s.Uk)(" "+(0,st.zw)(r.sheet.name),1)])]),(0,s._)("td",Zyt,[(0,s._)("div",null,(0,st.zw)(r.sheet.sheet_name),1)]),(0,s._)("td",Kyt,[(0,s._)("div",Byt,[(0,s._)("label",Qyt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>i.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Jyt),[[a.e8,i.autoFetch]]),Gyt]),o.isLoadingAuto?((0,s.wg)(),(0,s.j4)(it.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",Xyt,(0,st.zw)(r.sheet.created_at.split("T")[0]),1),(0,s._)("td",tvt,[(0,s.Wm)(n,{sheet:r.sheet},null,8,["sheet"])])])}const rvt={key:0};function avt(t,e,r,a,l,o){const i=(0,s.up)("UpdateSheet"),n=(0,s.up)("SheetOrders"),w=(0,s.up)("popup");return r.sheet?((0,s.wg)(),(0,s.iD)("div",rvt,[t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,onClick:o.sync,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{class:(0,st.C_)([l.isLoadingSheet&&"tw-animate-spin"]),color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1},8,["class"])])),_:1},8,["onClick"])):(0,s.kq)("",!0),t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(lt.T,{key:1,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_sheet")?((0,s.wg)(),(0,s.j4)(lt.T,{key:2,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(it.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{visible:l.showUpdatePopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showUpdatePopup=t),sheet:r.sheet,onCancel:e[3]||(e[3]=t=>l.showUpdatePopup=!1)},null,8,["visible","sheet"]),(0,s.Wm)(n,{visible:l.showSheetPopup,"onUpdate:visible":e[4]||(e[4]=t=>l.showSheetPopup=t),sheet:r.sheet,orders:l.orders,onCancel:e[5]||(e[5]=t=>l.showSheetPopup=!1)},null,8,["visible","sheet","orders"]),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this sale?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleDelete},null,8,["loading","visible","onResolved"])])):(0,s.kq)("",!0)}const svt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},lvt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),ovt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},ivt={class:"md:tw-col-span-6 tw-col-span-12"},nvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),wvt={class:"md:tw-col-span-6 tw-col-span-12"},dvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),cvt={class:"md:tw-col-span-12 tw-col-span-12"},uvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),pvt={class:"md:tw-col-span-6 tw-col-span-12"},mvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),gvt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},hvt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),fvt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},bvt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),xvt=(0,s._)("span",{class:"text-white"}," Save ",-1);function yvt(t,e,r,l,o,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",svt,[lvt,(0,s._)("div",ovt,[(0,s._)("div",ivt,[nvt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.newSheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.name]])]),(0,s._)("div",wvt,[dvt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.newSheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_name]])]),(0,s._)("div",cvt,[uvt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.newSheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_id]])]),(0,s._)("div",pvt,[mvt,(0,s._)("label",gvt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.newSheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.newSheet.auto_fetch]]),hvt])])]),(0,s._)("div",fvt,[(0,s.Wm)(lt.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[bvt])),_:1}),(0,s.Wm)(lt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[xvt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var vvt={props:["visible","sheet"],data(){return{isLoading:!1,newSheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},watch:{visible(t){t&&(this.newSheet={...this.sheet,auto_fetch:1==this.sheet.auto_fetch})}},computed:{isFormValid(){return!!this.newSheet.name&&!!this.newSheet.sheet_id&&!!this.newSheet.sheet_name}},methods:{update(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.newSheet;xa.update(this.sheet.id,t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet updated successfully"}),this.$store.dispatch("sheet/update",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const _vt=(0,p.Z)(vvt,[["render",yvt]]);var kvt=_vt;const Cvt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Dvt={key:0},Svt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},zvt=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-neutral-700"},"Sheet's New Orders",-1),Uvt={class:"tw-bg-emerald-500 tw-text-white tw-px-1 tw-text-sm tw-rounded"},qvt={class:"tw-relative tw-overflow-x-auto"},Pvt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-border tw-rounded"},Lvt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50 tw-rounded-t tw-overflow-hidden"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Fullname"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"SKU"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Qty"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Price")])],-1),Avt={class:"tw-px-6 tw-py-2"},$vt={class:"tw-px-6 tw-py-2"},Wvt={class:"tw-px-6 tw-py-2"},Evt={class:"tw-px-6 tw-py-2"},Tvt={class:"tw-px-6 tw-py-2"},Fvt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},Vvt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Ovt=(0,s._)("span",{class:"text-white"}," Save Orders",-1);function Ivt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[1]||(e[1]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Cvt,[r.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Dvt,[(0,s._)("div",Svt,[zvt,(0,s._)("div",Uvt,(0,st.zw)(r.orders.length),1)]),(0,s._)("div",null,[(0,s._)("div",qvt,[(0,s._)("table",Pvt,[Lvt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b"},[(0,s._)("td",Avt,(0,st.zw)(t["Full name"]),1),(0,s._)("td",$vt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Product name"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},"- "+(0,st.zw)(t),1)))),128))])]),(0,s._)("td",Wvt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["SKU"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,st.zw)(t),1)))),128))])]),(0,s._)("td",Evt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Total quantity"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,st.zw)(t),1)))),128))])]),(0,s._)("td",Tvt,(0,st.zw)(t["Total charge"]),1)])))),128))])])])]),(0,s._)("div",Fvt,[(0,s.Wm)(lt.T,{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Vvt])),_:1}),(0,s.Wm)(lt.T,{loading:l.isLoading,onClick:o.save,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Ovt])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])])}var jvt={props:["visible","sheet","orders"],data(){return{isLoading:!1}},computed:{sales(){return this.$store.getters["sale/sales"]}},methods:{save(){this.isLoading=!0,xa.saveOrders(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:t.data.data.orders.length+" Order has been added",type:"success"}),this.$store.dispatch("sale/setSales",[...t.data.data.orders,...this.sales]),this.$emit("cancel"))}),(t=>{this.$handleApiError(t),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this sheet",type:"warning"})})).finally((()=>{this.isLoading=!1}))}}};const Rvt=(0,p.Z)(jvt,[["render",Ivt]]);var Mvt=Rvt,Nvt={props:["sheet"],name:"sheetActions",components:{UpdateSheet:kvt,SheetOrders:Mvt},data(){return{showPopup:!1,showUpdatePopup:!1,showSheetPopup:!1,isLoading:!1,isLoadingSheet:!1,orders:[]}},computed:{},methods:{handleDelete(t){if(console.log(t),!t)return this.showPopup=!1,!1;this.delete()},delete(){this.isLoading=!0,xa["delete"](this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:"Deleted successfully",type:"success"}),this.$store.dispatch("sheet/delete",this.sheet.id),this.showPopup=!1)}),this.$handleApiError).finally((()=>{this.isLoading=!1}))},sync(){this.isLoadingSheet=!0,xa.sync(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(0==t.data.data.orders.length?this.$alert({title:"0 Orders found",type:"info"}):(this.orders=t.data.data.orders,this.showSheetPopup=!0),console.log(t.data.data.sheet),this.$store.dispatch("sheet/update",t.data.data.sheet)),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log(t),this.$store.dispatch("sheet/update",t.response.data.data.sheet),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this Google Sheet",type:"error"})})).finally((()=>{this.isLoadingSheet=!1}))}},mounted(){}};const Hvt=(0,p.Z)(Nvt,[["render",avt]]);var Yvt=Hvt,Zvt={props:["sheet"],components:{SheetActions:Yvt},data(){return{isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.sheet.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,xa.updateAutoFetch(this.sheet.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("sheet/update",e.data.data.sheet))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const Kvt=(0,p.Z)(Zvt,[["render",evt]]);var Bvt=Kvt,Qvt={props:["sheets"],components:{SheetRow:Bvt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,columns:["id","name","sheet name","auto fetch","created","actions"]}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sheets.length/this.paginationLimit)},items(){return this.sheets.slice(this.prevRange,this.nextRange)}},methods:{}};const Jvt=(0,p.Z)(Qvt,[["render",Ryt]]);var Gvt=Jvt;const Xvt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},t_t=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),e_t={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},r_t={class:"md:tw-col-span-6 tw-col-span-12"},a_t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),s_t={class:"md:tw-col-span-6 tw-col-span-12"},l_t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),o_t={class:"md:tw-col-span-12 tw-col-span-12"},i_t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),n_t={class:"md:tw-col-span-6 tw-col-span-12"},w_t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),d_t={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},c_t=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),u_t={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},p_t=(0,s._)("span",{class:"text-white"}," Cancel ",-1),m_t=(0,s._)("span",{class:"text-white"}," Save ",-1);function g_t(t,e,r,l,o,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Xvt,[t_t,(0,s._)("div",e_t,[(0,s._)("div",r_t,[a_t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.name]])]),(0,s._)("div",s_t,[l_t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_name]])]),(0,s._)("div",o_t,[i_t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.sheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_id]])]),(0,s._)("div",n_t,[w_t,(0,s._)("label",d_t,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.sheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sheet.auto_fetch]]),c_t])])]),(0,s._)("div",u_t,[(0,s.Wm)(lt.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[p_t])),_:1}),(0,s.Wm)(lt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[m_t])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var h_t={props:["visible"],data(){return{isLoading:!1,sheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},computed:{isFormValid(){return!!this.sheet.name&&!!this.sheet.sheet_id&&!!this.sheet.sheet_name}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.sheet;xa.create(t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet created successfully"}),this.$store.dispatch("sheet/addSheet",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const f_t=(0,p.Z)(h_t,[["render",g_t]]);var b_t=f_t,x_t={components:{SheetsTable:Gvt,AddSheet:b_t},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,email:"new-service-account@testing-379416.iam.gserviceaccount.com"}},computed:{sheets(){return this.$store.getters["sheet/sheets"]}},methods:{getSheets(){return this.isLoaded=!1,xa.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("sheet/setSheets",t.data.data.sheets),t)),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},copy(){navigator.clipboard.writeText(this.email),this.$alert({title:"Email Copied !",type:"success"})}},mounted(){this.getSheets()}};const y_t=(0,p.Z)(x_t,[["render",qyt]]);var v_t=y_t,__t={name:"sheets",path:"/sheets",component:Wa,meta:{module:"sheet"},children:[{name:"sheet/list",path:"",component:v_t,meta:{module:"sheet",subModule:"sheet/list",title:"Google Sheets List",gate:"show_all_sheets"}}]};const k_t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},C_t={class:"tw-px-3"},D_t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},S_t={class:"tw-flex tw-items-center tw-gap-x-3"},z_t=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),U_t={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},q_t=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),P_t=[q_t],L_t={key:0};function A_t(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",k_t,[(0,s._)("section",C_t,[(0,s._)("div",D_t,[(0,s._)("div",null,[(0,s._)("div",S_t,[z_t,(0,s._)("span",U_t,(0,st.zw)(l.totalOrders)+" order",1)])]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},P_t)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",L_t,[(0,s.Wm)(w,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class $_t{async create(t){return await $.getCookie(),L.post("api/ads/new",t)}async update(t,e){return await $.getCookie(),L.post("api/ads/update/"+t,e)}async delete(t){return await $.getCookie(),L["delete"]("api/ads/delete/"+t)}async paginate(t="/",e){return await $.getCookie(),L.post("api/ads"+t,e)}}var W_t=new $_t;const E_t={class:"tw-flex tw-flex-col"},T_t={class:"tw-overflow-x-auto"},F_t={class:"tw-inline-block tw-min-w-full tw-align-middle"},V_t={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},O_t={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},I_t={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},j_t=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),R_t={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},M_t=(0,s._)("span",null,"Created",-1),N_t=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),H_t=[M_t,N_t],Y_t={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Z_t=(0,s._)("span",null,"Ads For",-1),K_t=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),B_t=[Z_t,K_t],Q_t=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Marketer ",-1),J_t=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),G_t=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),X_t=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Leads ",-1),tkt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),ekt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),rkt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},akt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},skt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),lkt=[skt],okt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},ikt={colspan:"8"},nkt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},wkt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),dkt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),ckt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),ukt=[dkt,ckt],pkt={class:"tw-mt-6"};function mkt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",E_t,[(0,s._)("div",T_t,[(0,s._)("div",F_t,[(0,s._)("div",V_t,[(0,s._)("table",O_t,[(0,s._)("thead",I_t,[(0,s._)("tr",null,[j_t,(0,s._)("th",R_t,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},H_t)]),(0,s._)("th",Y_t,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},B_t)]),Q_t,J_t,G_t,X_t,tkt,ekt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",rkt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",akt,lkt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",okt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",ikt,[(0,s._)("div",nkt,[wkt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},ukt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",pkt,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const gkt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},hkt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},fkt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},bkt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},xkt=["disabled"],ykt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),vkt=(0,s._)("span",null," previous ",-1),_kt=[ykt,vkt],kkt=["disabled"],Ckt=(0,s._)("span",null," Next ",-1),Dkt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Skt=[Ckt,Dkt];function zkt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",gkt,[(0,s._)("div",hkt,[(0,s.Uk)(" Page "),(0,s._)("span",fkt,(0,st.zw)(r.currentPage)+" of "+(0,st.zw)(r.lastPage),1)]),(0,s._)("div",bkt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,st.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},_kt,10,xkt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,st.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Skt,10,kkt)])])])}var Ukt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const qkt=(0,p.Z)(Ukt,[["render",zkt]]);var Pkt=qkt;const Lkt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Akt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},$kt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Wkt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Ekt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Tkt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Fkt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Vkt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Okt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ikt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},jkt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Rkt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Mkt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Nkt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Hkt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ykt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Zkt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function Kkt(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",Lkt,[(0,s._)("div",null,[(0,s._)("h2",Akt,(0,st.zw)(r.item.id),1)])]),(0,s._)("td",$kt,[(0,s._)("div",null,[(0,s._)("h2",Wkt,[(0,s._)("p",null,(0,st.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Ekt,[(0,s._)("div",null,[(0,s._)("h2",Tkt,[(0,s._)("p",null,(0,st.zw)(l.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Fkt,[(0,s._)("div",null,[(0,s._)("h2",Vkt,(0,st.zw)(r.item.marketers.firstname)+" "+(0,st.zw)(r.item.marketers.lastname),1)])]),(0,s._)("td",Okt,[(0,s._)("div",null,[(0,s._)("h2",Ikt,(0,st.zw)(r.item.source),1)])]),(0,s._)("td",jkt,[(0,s._)("div",null,[(0,s._)("h2",Rkt,(0,st.zw)(r.item.amount),1)])]),(0,s._)("td",Mkt,[(0,s._)("div",null,[(0,s._)("h2",Nkt,(0,st.zw)(r.item.leads),1)])]),(0,s._)("td",Hkt,[(0,s._)("div",null,[(0,s._)("h2",Ykt,(0,st.zw)(r.item.products.name),1)])]),(0,s._)("td",Zkt,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const Bkt={class:"tw-h-full"},Qkt={class:"tw-flex tw-items-center tw-gap-2"},Jkt={key:0};function Gkt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",Bkt,[(0,s._)("div",Qkt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",Jkt,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const Xkt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},tCt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),eCt={class:"tw-bg-white tw-p-4"},rCt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},aCt={class:"tw-col-span-2 md:tw-col-span-1"},sCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),lCt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},oCt={class:"tw-col-span-2 md:tw-col-span-1"},iCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),nCt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},wCt={class:"tw-col-span-2 md:tw-col-span-1"},dCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),cCt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},uCt={class:"tw-col-span-2 md:tw-col-span-1"},pCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),mCt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),gCt=["value"],hCt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fCt={class:"tw-col-span-2 md:tw-col-span-1"},bCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),xCt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),yCt=["value"],vCt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_Ct={class:"md:tw-col-span-1 tw-col-span-2"},kCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),CCt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DCt={class:"tw-col-span-2"},SCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),zCt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},UCt=["disabled"],qCt=(0,s._)("span",null,"Update",-1);function PCt(t,e,r,l,o,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Xkt,[tCt,(0,s._)("div",eCt,[(0,s._)("div",rCt,[(0,s._)("div",aCt,[sCt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.source=t),onInput:e[1]||(e[1]=t=>o.errors.source=null),type:"text",class:(0,st.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",lCt,(0,st.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",oCt,[iCt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,st.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",nCt,(0,st.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",wCt,[dCt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,st.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",cCt,(0,st.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",uCt,[pCt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>o.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>o.items.product_id=t),class:(0,st.C_)([[o.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[mCt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.name),9,gCt)))),128))],34),[[a.bM,o.items.product_id]]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",hCt,(0,st.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",fCt,[bCt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.marketer_id=t),class:(0,st.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[xCt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,yCt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",vCt,(0,st.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",_Ct,[kCt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.items.ads_at=t),onInput:e[11]||(e[11]=t=>o.errors.ads_at=null),class:(0,st.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",CCt,(0,st.zw)(o.errors.ads_at),1)]),(0,s._)("div",DCt,[SCt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",zCt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),qCt],8,UCt)])])])),_:1},8,["visible","onCancel"])])}const LCt=(t,e)=>e.source?!e.product_id||parseInt(e.product_id)<=0?(t.errors.product_id="Product is required",!1):!e.amount||parseInt(e.amount)<=0?(t.errors.amount="Amount is required",!1):!!e.ads_at||(t.errors.ads_at="Add Ads Date !",!1):(t.errors.source="Source Name is required",!1),ACt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},$Ct=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},WCt=(t,e)=>{t.isLoading=!0,t.errors={},W_t.update(e.id,e).then((e=>ACt(t,e.data))).catch((e=>$Ct(t,e.response.data))).finally((()=>t.isLoading=!1))};var ECt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,source:null,amount:null,ads_at:null}}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=LCt(this,this.items);if(!t)return!1;WCt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,va.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts(),this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const TCt=(0,p.Z)(ECt,[["render",PCt]]);var FCt=TCt,VCt={components:{UpdatePopup:FCt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const OCt=(0,p.Z)(VCt,[["render",Gkt]]);var ICt=OCt,jCt={components:{TableActions:ICt},props:{item:{required:!0}},data(){return{moment:ke()}},computed:{},methods:{}};const RCt=(0,p.Z)(jCt,[["render",Kkt]]);var MCt=RCt,NCt={components:{TablePaginationNoNums:Pkt,TableRow:MCt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const HCt=(0,p.Z)(NCt,[["render",mkt]]);var YCt=HCt;const ZCt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},KCt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},BCt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),QCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),JCt=[QCt],GCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),XCt=[GCt],tDt=["disabled"],eDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),rDt=[eDt],aDt={class:"tw-relative"},sDt=["value"],lDt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),oDt=[lDt],iDt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),nDt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},wDt=["value"],dDt={class:"tw-overflow-hidden tw-col-span-1"},cDt={class:"tw-overflow-hidden tw-col-span-1"};function uDt(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ZCt,[(0,s._)("div",KCt,[BCt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},JCt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},XCt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},rDt,8,tDt),(0,s._)("div",aDt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},oDt,40,sDt),iDt])]),(0,s._)("div",nDt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,wDt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,st.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",dDt,[(0,s.Wm)(n,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",cDt,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const pDt={class:"tw-mb-4"},mDt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},gDt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},hDt={class:"tw-flex tw-items-center tw-justify-between"},fDt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},bDt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function xDt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",pDt,[(0,s._)("div",mDt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",gDt,[(0,s._)("p",{class:(0,st.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,st.zw)(t.name),3),(0,s._)("div",hDt,[(0,s._)("span",fDt,(0,st.zw)(t.total),1),(0,s._)("span",bDt,(0,st.zw)(t.percent)+"%",1)])])])))),128))])])}var yDt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Rw.find((e=>e.value==t))}}};const vDt=(0,p.Z)(yDt,[["render",xDt]]);var _Dt=vDt;const kDt={class:"tw-mb-4"},CDt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},DDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},SDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),zDt=["value"],UDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},qDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),PDt=["value"],LDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ADt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads From",-1),$Dt=["value"],WDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},EDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads To",-1),TDt=["value"],FDt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},VDt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),ODt=(0,s._)("span",null,"Clear",-1),IDt=[VDt,ODt],jDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),RDt=(0,s._)("span",null,"Filter",-1),MDt=[jDt,RDt];function NDt(t,e,r,a,l,o){const i=(0,s.up)("MarketerFilter"),n=(0,s.up)("ProductFilter"),w=(0,s.up)("SourceFilter");return(0,s.wg)(),(0,s.iD)("div",kDt,[(0,s._)("div",CDt,[(0,s._)("div",DDt,[SDt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,zDt)]),(0,s._)("div",UDt,[qDt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,PDt)]),(0,s._)("div",LDt,[ADt,(0,s._)("input",{value:r.filters.ads_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,ads_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,$Dt)]),(0,s._)("div",WDt,[EDt,(0,s._)("input",{value:r.filters.ads_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,ads_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,TDt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",FDt,[(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},IDt),(0,s._)("button",{onClick:e[8]||(e[8]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},MDt)])])])}const HDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),ZDt=["value"],KDt=(0,s._)("option",{value:"all"},"All",-1),BDt=["value"];function QDt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",HDt,[YDt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[KDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,BDt)))),128))],40,ZDt)])}var JDt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const GDt=(0,p.Z)(JDt,[["render",QDt]]);var XDt=GDt;const tSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},eSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),rSt=["value"],aSt=(0,s._)("option",{value:"all"},"All",-1),sSt=["value"];function lSt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",tSt,[eSt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[aSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.name),9,sSt)))),128))],40,rSt)])}var oSt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return va.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const iSt=(0,p.Z)(oSt,[["render",lSt]]);var nSt=iSt;const wSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Source",-1),cSt=["value"],uSt=(0,s._)("option",{value:"all"},"All",-1),pSt=["value"];function mSt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",wSt,[dSt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,source:e.target.value})),value:r.filters.source,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[uSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t,class:"tw-capitalize"},(0,st.zw)(t),9,pSt)))),128))],40,cSt)])}var gSt={props:{filters:{required:!0}},data(){return{sources:["facebook","instagram","tiktok"]}}};const hSt=(0,p.Z)(gSt,[["render",mSt]]);var fSt=hSt,bSt={components:{MarketerFilter:XDt,ProductFilter:nSt,SourceFilter:fSt},props:{filters:{required:!0,default:{}}},data(){return{}}};const xSt=(0,p.Z)(bSt,[["render",NDt]]);var ySt=xSt,vSt={components:{IndexStatistics:_Dt,FiltersWrapper:ySt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const _St=(0,p.Z)(vSt,[["render",uDt]]);var kSt=_St;const CSt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},DSt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),SSt={class:"tw-bg-white tw-p-4"},zSt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},USt={class:"tw-col-span-2 md:tw-col-span-1"},qSt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),PSt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},LSt={class:"tw-col-span-2 md:tw-col-span-1"},ASt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),$St={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},WSt={class:"tw-col-span-2 md:tw-col-span-1"},ESt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),TSt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},FSt={class:"tw-col-span-2 md:tw-col-span-1"},VSt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),OSt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),ISt=["value"],jSt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},RSt={class:"tw-col-span-2 md:tw-col-span-1"},MSt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),NSt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),HSt=["value"],YSt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ZSt={class:"md:tw-col-span-1 tw-col-span-2"},KSt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),BSt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},QSt={class:"tw-col-span-2"},JSt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),GSt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},XSt=["disabled"],tzt=(0,s._)("span",null,"Create",-1);function ezt(t,e,r,l,o,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",CSt,[DSt,(0,s._)("div",SSt,[(0,s._)("div",zSt,[(0,s._)("div",USt,[qSt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.source=t),onInput:e[1]||(e[1]=t=>o.errors.source=null),type:"text",class:(0,st.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",PSt,(0,st.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",LSt,[ASt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,st.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",$St,(0,st.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",WSt,[ESt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,st.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",TSt,(0,st.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",FSt,[VSt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>o.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>o.items.product_id=t),class:(0,st.C_)([[o.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[OSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.name),9,ISt)))),128))],34),[[a.bM,o.items.product_id]]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",jSt,(0,st.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",RSt,[MSt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.marketer_id=t),class:(0,st.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[NSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,HSt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",YSt,(0,st.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",ZSt,[KSt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.items.ads_at=t),onInput:e[11]||(e[11]=t=>o.errors.ads_at=null),class:(0,st.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",BSt,(0,st.zw)(o.errors.ads_at),1)]),(0,s._)("div",QSt,[JSt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",GSt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),tzt],8,XSt)])])])),_:1},8,["visible","onCancel"])])}const rzt=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},azt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},szt=(t,e)=>{t.isLoading=!0,t.errors={},W_t.create(e).then((e=>rzt(t,e.data))).catch((e=>azt(t,e.response.data))).finally((()=>t.isLoading=!1))};var lzt={components:{},props:{visible:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,marketer_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,marketer_id:null,source:null,leads:null,amount:null,ads_at:null}}},computed:{cities(){return this.$store.getters["city/cities"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleCreate(){const t=LCt(this,this.items);if(!t)return!1;szt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,va.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){console.log(this.marketers),this.getProducts()}};const ozt=(0,p.Z)(lzt,[["render",ezt]]);var izt=ozt,nzt={components:{IndexTable:YCt,IndexFilters:kSt,CreatePopup:izt},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,W_t.paginate(t,e).then((({data:t})=>{const e=t.data.ads;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=_o(t.first_page_url),this.lase_page_url=_o(t.last_page_url),this.next_page_url=_o(t.next_page_url),this.prev_page_url=_o(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const wzt=(0,p.Z)(nzt,[["render",A_t]]);var dzt=wzt,czt={name:"ads",path:"/ads",component:Wa,meta:{module:"ads"},children:[{name:"ads/list",path:"",component:dzt,meta:{module:"ads",subModule:"ads/list",title:"Ads List",gate:"show_all_ads"}}]};const uzt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},pzt={class:"tw-px-3"},mzt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},gzt={class:"tw-flex tw-items-center tw-gap-x-3"},hzt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),fzt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},bzt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"These orders have needs to reconfirmed.",-1),xzt=(0,s._)("div",{class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},[(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")])],-1);function yzt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=((0,s.up)("BulkActions"),(0,s.up)("IndexTable"));return(0,s.wg)(),(0,s.iD)("div",uzt,[(0,s._)("section",pzt,[(0,s._)("div",mzt,[(0,s._)("div",null,[(0,s._)("div",gzt,[hzt,(0,s._)("span",fzt,(0,st.zw)(l.totalOrders)+" order",1)]),bzt]),xzt]),(0,s.Wm)(i,{"search-by-field":l.searchByField,"onUpdate:search-by-field":e[0]||(e[0]=t=>l.searchByField=t),search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":"","per-page":l.per_page},null,8,["search-by-field","search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,st.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s.kq)("",!0)],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}class vzt{async statistics(t){return await $.getCookie(),L.post("api/v1/seller/statistics",t)}async paginate(t="/",e){return await $.getCookie(),L.post("api/v1/seller/orders"+t,e)}async update(t,e){return await $.getCookie(),L.post("api/v1/seller/orders/"+t+"/update",e)}async export(t={}){return await $.getCookie(),L.post("api/v1/seller/orders/export",t)}}var _zt=new vzt;const kzt={class:"tw-flex tw-flex-col"},Czt={class:"tw-overflow-x-auto"},Dzt={class:"tw-inline-block tw-min-w-full tw-align-middle"},Szt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},zzt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Uzt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},qzt={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},Pzt={class:"tw-max-w-[25px]"},Lzt={class:"tw-inline-flex tw-items-center"},Azt={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},$zt=["checked"],Wzt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),Ezt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Tzt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Fzt=(0,s._)("span",null,"Created",-1),Vzt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Ozt=[Fzt,Vzt],Izt=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),jzt=(0,s._)("th",{scope:"col",class:"tw-px-6 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),Rzt=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),Mzt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),Nzt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),Hzt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),Yzt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Zzt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Kzt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),Bzt=[Kzt],Qzt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Jzt={colspan:"9"},Gzt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Xzt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),tUt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),eUt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),rUt=[tUt,eUt],aUt={class:"tw-mt-6"};function sUt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",kzt,[(0,s._)("div",Czt,[(0,s._)("div",Dzt,[(0,s._)("div",Szt,[(0,s._)("table",zzt,[(0,s._)("thead",Uzt,[(0,s._)("tr",null,[(0,s._)("th",qzt,[(0,s._)("div",Pzt,[(0,s._)("div",Lzt,[(0,s._)("label",Azt,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,$zt),Wzt])])])]),Ezt,(0,s._)("th",Tzt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Ozt)]),Izt,jzt,Rzt,Mzt,Nzt,Hzt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Yzt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["selected","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Zzt,Bzt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Qzt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Jzt,[(0,s._)("div",Gzt,[Xzt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},rUt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",aUt,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const lUt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},oUt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},iUt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},nUt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},wUt=["disabled"],dUt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),cUt=(0,s._)("span",null," previous ",-1),uUt=[dUt,cUt],pUt=["disabled"],mUt=(0,s._)("span",null," Next ",-1),gUt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),hUt=[mUt,gUt];function fUt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",lUt,[(0,s._)("div",oUt,[(0,s.Uk)(" Page "),(0,s._)("span",iUt,(0,st.zw)(r.currentPage)+" of "+(0,st.zw)(r.lastPage),1)]),(0,s._)("div",nUt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,st.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},uUt,10,wUt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,st.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},hUt,10,pUt)])])])}var bUt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const xUt=(0,p.Z)(bUt,[["render",fUt]]);var yUt=xUt;const vUt={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_Ut={class:"tw-max-w-[25px]"},kUt={class:"tw-inline-flex tw-items-center"},CUt={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},DUt=["checked","id"],SUt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),zUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},UUt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},qUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},PUt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},LUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},AUt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},$Ut={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},WUt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},EUt={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},TUt={class:"tw-space-y-1"},FUt={class:"tw-font-bold tw-text-green-500"},VUt={class:"tw-block tw-max-w-[150px] tw-truncate"},OUt={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},IUt={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},jUt={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},RUt={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},MUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function NUt(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",vUt,[(0,s._)("div",_Ut,[(0,s._)("div",kUt,[(0,s._)("label",CUt,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,DUt),SUt])])])]),(0,s._)("td",zUt,[(0,s._)("div",null,[(0,s._)("h2",UUt,(0,st.zw)(r.item.id),1)])]),(0,s._)("td",qUt,[(0,s._)("div",null,[(0,s._)("h2",PUt,[(0,s._)("p",null,(0,st.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",LUt,[(0,s._)("div",null,[(0,s._)("h2",AUt,(0,st.zw)(r.item.fullname),1)])]),(0,s._)("td",$Ut,[(0,s._)("div",null,[(0,s._)("h2",WUt,(0,st.zw)(r.item.phone),1)])]),(0,s._)("td",EUt,[(0,s._)("div",null,[(0,s._)("ul",TUt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",FUt,(0,st.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",VUt,(0,st.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",OUt,(0,st.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",IUt,(0,st.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",jUt,[(0,s._)("span",{class:(0,st.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,st.zw)(o.confirmation.name),3)]),(0,s._)("td",RUt,[(0,s._)("span",{class:(0,st.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,st.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)]),(0,s._)("td",MUt,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const HUt={class:"tw-h-full"},YUt={class:"tw-flex tw-items-center tw-gap-2"},ZUt={key:0},KUt={key:1};function BUt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),n=(0,s.up)("HistoryPopup");return(0,s.wg)(),(0,s.iD)("div",HUt,[(0,s._)("div",YUt,[(0,s.kq)("",!0),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",ZUt,[(0,s.Wm)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[3]||(e[3]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",KUt,[(0,s.Wm)(n,{visible:l.history,"onUpdate:visible":e[4]||(e[4]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const QUt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},JUt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),GUt={class:"tw-bg-white tw-p-4"},XUt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},tqt={class:"tw-col-span-2 md:tw-col-span-1"},eqt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),rqt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},aqt={class:"tw-col-span-2 md:tw-col-span-1"},sqt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),lqt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},oqt={class:"tw-col-span-2 md:tw-col-span-1"},iqt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),nqt={class:"tw-relative"},wqt=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),dqt=["value"],cqt=["value"],uqt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),pqt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mqt={class:"tw-col-span-2 md:tw-col-span-1"},gqt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),hqt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fqt={key:3,class:"tw-col-span-2"},bqt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),xqt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},yqt={class:"tw-col-span-2"},vqt={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},_qt={key:0,class:"tw-text-red-400 tw-text-xs"},kqt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Cqt=["disabled"],Dqt=(0,s._)("span",null,"Update",-1);function Sqt(t,e,r,l,o,i){(0,s.up)("OrderAffectation");const n=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",QUt,[JUt,(0,s._)("div",GUt,[(0,s._)("div",XUt,[(0,s._)("div",tqt,[eqt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,st.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",rqt,(0,st.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",aqt,[sqt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,st.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",lqt,(0,st.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",oqt,[iqt,(0,s._)("div",nqt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,st.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[wqt,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,st.zw)(o.itemCopy.city),9,dqt),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,st.zw)(t.name),9,cqt)))),128))],34),[[a.bM,o.itemCopy.city]]),uqt]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",pqt,(0,st.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",mqt,[gqt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,st.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",hqt,(0,st.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s.kq)("",!0),(o.itemCopy.confirmation,(0,s.kq)("",!0)),(o.itemCopy.confirmation,(0,s.kq)("",!0)),["change","refund"].includes(o.itemCopy.confirmation)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fqt,[bqt,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,st.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",xqt,(0,st.zw)(o.errors.note),1)):(0,s.kq)("",!0)])),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",yqt,[(0,s._)("label",vqt,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",_qt," # "+(0,st.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",kqt,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Dqt],8,Cqt)])])])),_:1},8,["visible","onCancel"])])}const zqt=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!Uqt(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),Uqt=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},qqt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},Pqt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Lqt=(t,e)=>{t.isLoading=!0,t.errors={},Di.update(e.id,e).then((e=>qqt(t,e.data))).catch((e=>Pqt(t,e.response.data))).finally((()=>t.isLoading=!1))},Aqt={key:0,class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},$qt={key:1,class:"md:tw-col-span-12 tw-col-span-12"},Wqt={class:"tw-max-w-full tw-overflow-auto"},Eqt={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},Tqt={class:"tw-bg-gray-50"},Fqt={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Vqt={key:0},Oqt=(0,s._)("td",{colspan:"3"},null,-1),Iqt=(0,s._)("td",null,[(0,s._)("div",{class:"tw-p-2"},[(0,s._)("p",null,"Total: ")])],-1),jqt={colspan:"2",class:"tw-p-2"},Rqt={class:"tw-p-2 tw-py-1 tw-text-sm tw-text-green-500 tw-w-24 tw-font-medium tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Mqt={colspan:"6"},Nqt={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Hqt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Yqt=(0,s._)("span",null,"Add Item",-1),Zqt=[Hqt,Yqt],Kqt={key:1},Bqt={colspan:"6"},Qqt={class:"tw-scale-75 tw-p-5"};function Jqt(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",Aqt," No Order items ")),r.items.length?((0,s.wg)(),(0,s.iD)("div",$qt,[(0,s._)("div",Wqt,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Eqt,[(0,s._)("tr",Tqt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,st.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Fqt,(0,st.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",Vqt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[Oqt,Iqt,(0,s._)("td",jqt,[(0,s._)("div",Rqt,[(0,s._)("p",null,(0,st.zw)(l.currency)+" "+(0,st.zw)(o.price),1)])])]),(0,s._)("tr",null,[(0,s._)("td",Mqt,[(0,s._)("div",Nqt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Zqt)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Kqt,[(0,s._)("tr",null,[(0,s._)("td",Bqt,[(0,s._)("div",Qqt,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}var Gqt={components:{ItemRow:J2},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0,default:!1},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1]:1,e=t?t.id+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Xqt=(0,p.Z)(Gqt,[["render",Jqt]]);var tPt=Xqt;const ePt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),rPt={key:0,class:"tw-relative"},aPt=["value","disabled"],sPt=(0,s._)("option",{value:""},"Choose a Delivery",-1),lPt=["value"],oPt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),iPt={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},nPt={key:2,class:"tw-relative"},wPt={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},dPt=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),cPt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function uPt(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[ePt,l.fetched?((0,s.wg)(),(0,s.iD)("div",rPt,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,st.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[sPt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,lPt)))),128))],42,aPt),oPt])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",iPt,(0,st.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",nPt,[(0,s._)("div",wPt,[(0,s.Wm)(i)]),dPt,cPt]))])}var pPt={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,rt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const mPt=(0,p.Z)(pPt,[["render",uPt]]);var gPt=mPt,hPt={components:{OrderItems:tPt,OrderAffectation:gPt},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Iw,upsells:Mw,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=zqt(this,this.itemCopy);if(!t)return!1;this.itemCopy.note=this.item.note,Lqt(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,va.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const fPt=(0,p.Z)(hPt,[["render",Sqt]]);var bPt=fPt;const xPt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},yPt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),vPt={class:"tw-bg-white tw-p-4"},_Pt={key:0},kPt={key:1,class:"tw-p-5"},CPt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},DPt={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},SPt=(0,s._)("div",{class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},null,-1),zPt={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},UPt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},qPt={class:"tw-flex tw-flex-col tw-my-2"},PPt=(0,s._)("div",null,"New Order Created",-1),LPt={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},APt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function $Pt(t,e,r,a,l,o){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",xPt,[yPt,(0,s._)("div",vPt,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_Pt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",kPt,[(0,s.Wm)(KW.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(BW.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",CPt,[(0,s._)("div",DPt,[(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(it.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ZW.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(!t.historique&&["delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),SPt,(0,s._)("div",zPt,[(0,s._)("span",null,(0,st.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,st.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(BW.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",UPt,[(0,s._)("div",qPt,[(0,s.Wm)(ZW.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),PPt]),(0,s._)("div",LPt,[(0,s._)("span",null,(0,st.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,st.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",APt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var WPt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){const t=[...this.allEvents].reverse();return t.filter((t=>"affectation"!==t.type&&"responsibility"!==t.type))}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ka.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple"};return["confirmation","delivery","upsell"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const EPt=(0,p.Z)(WPt,[["render",$Pt]]);var TPt=EPt,FPt={components:{UpdatePopup:bPt,HistoryPopup:TPt},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const VPt=(0,p.Z)(FPt,[["render",BUt]]);var OPt=VPt,IPt={components:{TableActions:OPt},props:{item:{required:!0},selected:{required:!0}},data(){return{moment:ke()}},computed:{confirmation(){return Iw.find((t=>t.value==this.item.confirmation))},deliveryState(){return Nw.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}}};const jPt=(0,p.Z)(IPt,[["render",NUt]]);var RPt=jPt,MPt={components:{TablePaginationNoNums:yUt,TableRow:RPt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const NPt=(0,p.Z)(MPt,[["render",sUt]]);var HPt=NPt;const YPt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},ZPt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},KPt=["disabled"],BPt=["disabled"],QPt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),JPt=[QPt],GPt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),XPt=[GPt],tLt=["disabled"],eLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),rLt=[eLt],aLt=["disabled"],sLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),lLt=[sLt],oLt={class:"tw-relative"},iLt=["value"],nLt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),wLt=[nLt],dLt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),cLt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},uLt=["value"],pLt=(0,s._)("option",{value:"all"},"All",-1),mLt=(0,s._)("option",{value:"id"},"ID",-1),gLt=[pLt,mLt],hLt=["value"],fLt={class:"tw-overflow-hidden tw-col-span-1"},bLt={class:"tw-overflow-hidden tw-col-span-1"},xLt={class:"tw-overflow-hidden tw-col-span-1"};function yLt(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",YPt,[(0,s._)("div",ZPt,[(0,s._)("button",{class:(0,st.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,KPt),(0,s._)("button",{class:(0,st.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,BPt),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,st.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},JPt,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,st.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},XPt,2)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},rLt,8,tLt),(0,s._)("button",{onClick:e[5]||(e[5]=t=>o.showExport=!o.showExport),class:(0,st.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},lLt,10,aLt),(0,s._)("div",oLt,[(0,s._)("select",{onChange:e[6]||(e[6]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},wLt,40,iLt),dLt])]),(0,s._)("div",cLt,[(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},gLt,40,uLt),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,hLt),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,st.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",fLt,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,st.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",bLt,[(0,s.Wm)(w,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,st.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",xLt,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const vLt={class:"tw-mb-4"},_Lt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},kLt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},CLt={class:"tw-flex tw-items-center tw-justify-between"},DLt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},SLt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function zLt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",vLt,[(0,s._)("div",_Lt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",kLt,[(0,s._)("p",{class:(0,st.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,st.zw)(t.name),3),(0,s._)("div",CLt,[(0,s._)("span",DLt,(0,st.zw)(t.total),1),(0,s._)("span",SLt,(0,st.zw)(t.percent)+"%",1)])])])))),128))])])}var ULt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Iw.find((e=>e.value==t))}}};const qLt=(0,p.Z)(ULt,[["render",zLt]]);var PLt=qLt;const LLt={class:"tw-mb-4"},ALt={class:"tw-flex tw-items-center tw-gap-2"},$Lt=["disabled"],WLt=(0,s._)("span",null,"Select Filtered",-1),ELt={class:"tw-flex tw-justify-end"},TLt=["disabled"];function FLt(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",LLt,[(0,s._)("div",ALt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),WLt],8,$Lt)]),(0,s._)("div",ELt,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,st.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,TLt)])])}var VLt={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,_zt["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const OLt=(0,p.Z)(VLt,[["render",FLt]]);var ILt=OLt;const jLt={class:"tw-mb-4"},RLt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},MLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},NLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),HLt=["value"],YLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ZLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),KLt=["value"],BLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},QLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),JLt=["value"],GLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},XLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),tAt=["value"],eAt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rAt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),aAt=["value"],sAt=(0,s._)("option",{value:"all",selected:""},"All",-1),lAt=["value"],oAt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},iAt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),nAt=["value"],wAt=(0,s._)("option",{value:"all",selected:""},"All",-1),dAt=["value"],cAt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},uAt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),pAt=["value"],mAt=(0,s._)("option",{value:"all",selected:""},"All",-1),gAt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),hAt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),fAt=[mAt,gAt,hAt],bAt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},xAt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),yAt=(0,s._)("span",null,"Clear",-1),vAt=[xAt,yAt],_At=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),kAt=(0,s._)("span",null,"Filter",-1),CAt=[_At,kAt];function DAt(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",jLt,[(0,s._)("div",RLt,[(0,s.kq)("",!0),(0,s._)("div",MLt,[NLt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,HLt)]),(0,s._)("div",YLt,[ZLt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,KLt)]),(0,s._)("div",BLt,[QLt,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,JLt)]),(0,s._)("div",GLt,[XLt,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,tAt)]),(0,s._)("div",eAt,[rAt,(0,s._)("select",{value:r.filters.confirmation,onChange:e[5]||(e[5]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[sAt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,st.zw)(t.name),11,lAt)))),128))],40,aAt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",oAt,[iAt,(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[wAt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,st.zw)(t.name),11,dAt)))),128))],40,nAt)]),(0,s._)("div",cAt,[uAt,(0,s._)("select",{value:r.filters.upsell,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},fAt,40,pAt)]),(0,s._)("div",bAt,[(0,s._)("button",{onClick:e[9]||(e[9]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},vAt),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},CAt)])])])}const SAt={class:"tw-text-sm tw-text-neutral-600"},zAt=["onClick"];function UAt(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",SAt,(0,st.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,st.zw)(t),9,zAt)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var qAt={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,no.Z)(new Date,1),(0,no.Z)(new Date,1)]},{label:"This month",range:[(0,wo.Z)(new Date),(0,co.Z)(new Date)]},{label:"Last month",range:[(0,wo.Z)((0,uo.Z)(new Date,1)),(0,co.Z)((0,uo.Z)(new Date,1))]},{label:"This year",range:[(0,po.Z)(new Date),(0,mo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const PAt=(0,p.Z)(qAt,[["render",UAt]]);var LAt=PAt;const AAt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$At=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),WAt=["value"],EAt=(0,s._)("option",{value:"all"},"All",-1),TAt=["value"];function FAt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",AAt,[$At,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[EAt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.name),9,TAt)))),128))],40,WAt)])}var VAt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return va.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const OAt=(0,p.Z)(VAt,[["render",FAt]]);var IAt=OAt,jAt={components:{DateFilter:LAt,ProductFilter:IAt},props:{filters:{required:!0,default:{}}},data(){return{confirmations:Iw,deliveries:Nw,dateFilter:["",""]}}};const RAt=(0,p.Z)(jAt,[["render",DAt]]);var MAt=RAt,NAt={components:{IndexStatistics:PLt,FiltersWrapper:MAt,IndexExport:ILt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ke()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const HAt=(0,p.Z)(NAt,[["render",yLt]]);var YAt=HAt;const ZAt={class:"tw-mb-4"},KAt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},BAt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},QAt={class:"tw-flex tw-items-center tw-gap-2"},JAt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},GAt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),XAt={class:"tw-flex tw-items-center tw-gap-2"},t$t=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),e$t=(0,s._)("span",null," Clear Selection ",-1),r$t=[t$t,e$t],a$t=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),s$t=(0,s._)("span",null," Actions ",-1),l$t=[a$t,s$t],o$t={key:0};function i$t(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",ZAt,[(0,s._)("div",KAt,[(0,s._)("div",BAt,[(0,s._)("div",QAt,[(0,s._)("div",JAt,(0,st.zw)(r.selected.length),1),GAt]),(0,s._)("div",XAt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},r$t),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},l$t)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",o$t,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const n$t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},w$t={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},d$t=(0,s._)("span",null,"Quick Actions",-1),c$t={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},u$t={class:"tw-bg-white tw-p-4"},p$t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},m$t={class:"tw-col-span-2 md:tw-col-span-1"},g$t={key:0,class:"tw-col-span-2 md:tw-col-span-1"},h$t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},f$t=(0,s._)("span",null,"Apply",-1);function b$t(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",n$t,[(0,s._)("div",w$t,[d$t,(0,s._)("span",c$t,(0,st.zw)(r.selected.length),1)]),(0,s._)("div",u$t,[(0,s._)("div",p$t,[(0,s._)("div",m$t,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",g$t,[(0,s.Wm)(n,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",h$t,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),f$t])])])])),_:1},8,["visible","closeable","onCancel"])])}const x$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),y$t={class:"tw-relative"},v$t=["value"],_$t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function k$t(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[x$t,(0,s._)("div",y$t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,st.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,v$t)))),128))],512),[[a.bM,i.vaction]]),_$t]),(0,s.kq)("",!0)])}var C$t={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const D$t=(0,p.Z)(C$t,[["render",k$t]]);var S$t=D$t;const z$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),U$t={class:"tw-relative"},q$t=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),P$t=["value"],L$t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function A$t(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[z$t,(0,s._)("div",U$t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,st.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[q$t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.text]),value:t.value,key:t.id},(0,st.zw)(t.name),11,P$t)))),128))],512),[[a.bM,i.vvalue]]),L$t]),(0,s.kq)("",!0)])}var $$t={props:{value:{required:!0}},data(){return{statuses:Nw}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const W$t=(0,p.Z)($$t,[["render",A$t]]);var E$t=W$t,T$t=(t,e)=>{t.isLoading=!0,xG.execute(e).then((e=>F$t(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const F$t=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var V$t={components:{BulkSelectAction:S$t,BulkDeliveryAction:E$t},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};T$t(this,t)}}};const O$t=(0,p.Z)(V$t,[["render",b$t]]);var I$t=O$t,j$t={components:{BulkPopup:I$t},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const R$t=(0,p.Z)(j$t,[["render",i$t]]);var M$t=R$t,N$t={components:{IndexTable:HPt,IndexFilters:YAt,BulkActions:M$t},data(){return{fetching:!0,items:[],selected:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,_zt.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=_o(t.first_page_url),this.lase_page_url=_o(t.last_page_url),this.next_page_url=_o(t.next_page_url),this.prev_page_url=_o(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"},this.handlePageChange(1)},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){console.log(t),this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},handleBulkUpdate(){this.selected=[],this.paginateOrders()}},mounted(){this.paginateOrders()}};const H$t=(0,p.Z)(N$t,[["render",yzt]]);var Y$t=H$t,Z$t={name:"seller",path:"/seller/list",component:Wa,meta:{module:"seller"},children:[{name:"seller/list",path:"",component:Y$t,meta:{module:"sellersale",subModule:"seller/list",title:"Seller List",gate:"show_seller_sales"}}]};const K$t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},B$t={class:"tw-px-3"},Q$t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},J$t={class:"tw-flex tw-items-center tw-gap-x-3"},G$t=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),X$t={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},tWt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),eWt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},rWt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),aWt=(0,s._)("span",null,"Create",-1),sWt=[rWt,aWt],lWt={key:1};function oWt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=((0,s.up)("BulkActions"),(0,s.up)("IndexTable")),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",K$t,[(0,s._)("section",B$t,[(0,s._)("div",Q$t,[(0,s._)("div",null,[(0,s._)("div",J$t,[G$t,(0,s._)("span",X$t,(0,st.zw)(l.totalOrders)+" order",1)]),tWt]),(0,s._)("div",eWt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},sWt)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",lWt,[(0,s.Wm)(w,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const iWt={class:"tw-mb-4"},nWt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},wWt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},dWt={class:"tw-flex tw-items-center tw-gap-2"},cWt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},uWt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),pWt={class:"tw-flex tw-items-center tw-gap-2"},mWt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),gWt=(0,s._)("span",null," Clear Selection ",-1),hWt=[mWt,gWt],fWt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),bWt=(0,s._)("span",null," Actions ",-1),xWt=[fWt,bWt],yWt={key:0};function vWt(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",iWt,[(0,s._)("div",nWt,[(0,s._)("div",wWt,[(0,s._)("div",dWt,[(0,s._)("div",cWt,(0,st.zw)(r.selected.length),1),uWt]),(0,s._)("div",pWt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},hWt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},xWt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",yWt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const _Wt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},kWt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},CWt=(0,s._)("span",null,"Quick Actions",-1),DWt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},SWt={class:"tw-bg-white tw-p-4"},zWt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},UWt={class:"tw-col-span-2 md:tw-col-span-1"},qWt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},PWt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},LWt=(0,s._)("span",null,"Apply",-1);function AWt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",_Wt,[(0,s._)("div",kWt,[CWt,(0,s._)("span",DWt,(0,st.zw)(r.selected.length),1)]),(0,s._)("div",SWt,[(0,s._)("div",zWt,[(0,s._)("div",UWt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",qWt,[(0,s.Wm)(n,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",PWt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),LWt])])])])),_:1},8,["visible","closeable","onCancel"])])}const $Wt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),WWt={class:"tw-relative"},EWt=["value"],TWt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function FWt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[$Wt,(0,s._)("div",WWt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,st.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,st.zw)(t.name),9,EWt)))),128))],512),[[a.bM,i.vaction]]),TWt]),(0,s.kq)("",!0)])}var VWt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const OWt=(0,p.Z)(VWt,[["render",FWt]]);var IWt=OWt;const jWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),RWt={class:"tw-relative"},MWt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),NWt=["value"],HWt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function YWt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[jWt,(0,s._)("div",RWt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,st.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[MWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([t.text]),value:t.value,key:t.id},(0,st.zw)(t.name),11,NWt)))),128))],512),[[a.bM,i.vvalue]]),HWt]),(0,s.kq)("",!0)])}var ZWt={props:{value:{required:!0}},data(){return{statuses:Nw}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const KWt=(0,p.Z)(ZWt,[["render",YWt]]);var BWt=KWt,QWt=(t,e)=>{t.isLoading=!0,xG.execute(e).then((e=>JWt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const JWt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var GWt={components:{BulkSelectAction:IWt,BulkDeliveryAction:BWt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};QWt(this,t)}}};const XWt=(0,p.Z)(GWt,[["render",AWt]]);var tEt=XWt,eEt={components:{BulkPopup:tEt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const rEt=(0,p.Z)(eEt,[["render",vWt]]);var aEt=rEt,sEt={components:{IndexTable:i4,IndexFilters:K3,CreatePopup:K6,BulkActions:aEt},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Di.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=_o(t.first_page_url),this.lase_page_url=_o(t.last_page_url),this.next_page_url=_o(t.next_page_url),this.prev_page_url=_o(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,rt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const lEt=(0,p.Z)(sEt,[["render",oWt]]);var oEt=lEt,iEt={path:"/followup",name:"followup",component:Wa,meta:{module:"dashboard"},children:[{name:"followup/index",path:"",component:oEt,meta:{module:"followup",title:"Follow Up Orders",gate:"follow_up_orders"}}]};const nEt={class:"tw-pb-40"},wEt={class:"tw-space-y-3"};function dEt(t,e,r,a,l,o){const i=(0,s.up)("OnlineUsers"),n=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexRevenue"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",nEt,[(0,s._)("div",wEt,[(0,s.Wm)(i),(0,s.Wm)(n,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(d,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const cEt={class:"tw-bg-white tw-p-5"},uEt={class:"tw-flex tw-items-center tw-justify-between"},pEt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Users",-1),mEt={class:"tw-relative tw-flex tw-items-center"},gEt=(0,s._)("span",{class:"tw-text-xs tw-absolute tw-right-0 tw-top-0 -tw-translate-y-full tw-whitespace-nowrap"},"Show All",-1),hEt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-scale-75"},fEt=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none peer-focus:tw-ring-4 peer-focus:tw-ring-orange-200 dark:peer-focus:tw-ring-orange-500 tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600 peer-checked:tw-bg-orange-500"},null,-1),bEt={key:0,class:""},xEt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},yEt=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),vEt=[yEt],_Et={key:1,class:"tw-min-h-[50px]"},kEt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},CEt={class:"py-2 px-3 tw-rounded tw-bg-white tw-shadow-sm tw-grid tw-grid-cols-12 tw-relative tw-overflow-hidden"},DEt={class:"tw-col-span-12 tw-flex tw-items-center tw-gap-2 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},SEt={key:0,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-red-400 tw-absolute tw-top-0 tw-right-0"},zEt={key:1,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-green-500 tw-absolute tw-top-0 tw-right-0"},UEt={key:2,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-yellow-400 tw-absolute tw-top-0 tw-right-0"},qEt={class:"tw-font-bold"},PEt={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs tw-mt-1"},LEt={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},AEt={key:1},$Et={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},WEt={key:1,class:"tw-flex tw-items-center tw-gap-2"};function EEt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",cEt,[(0,s._)("div",uEt,[pEt,(0,s._)("div",mEt,[gEt,(0,s._)("label",hEt,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>o.showAll=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.showAll]]),fEt])])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",bEt,[(0,s._)("div",xEt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},vEt))),64))])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",_Et,[(0,s._)("div",kEt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",CEt,[(0,s._)("div",DEt,[t.last_action?1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",zEt)):((0,s.wg)(),(0,s.iD)("div",UEt)):((0,s.wg)(),(0,s.iD)("div",SEt)),(0,s._)("span",qEt,(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),1)]),(0,s._)("div",PEt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",AEt,[1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",$Et," Online ")):((0,s.wg)(),(0,s.iD)("div",WEt,(0,st.zw)(i.lastSeen(t.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",LEt," Never Connected "))])])])))),128))])])):(0,s.kq)("",!0)])}var TEt={components:{},data(){return{isLoaded:!1,showAll:!1}},computed:{users(){return this.showAll?this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?ke()(t.last_action).isAfter(e.last_action)?-1:1:-1)):this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?ke()(t.last_action).isAfter(e.last_action)?-1:1:-1)).slice(0,8)}},methods:{getUsers(){rt.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,Cs.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const FEt=(0,p.Z)(TEt,[["render",EEt]]);var VEt=FEt;const OEt={class:"tw-bg-white"},IEt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},jEt={class:"tw-p-5"};function REt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),n=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",OEt,[(0,s._)("div",IEt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,st.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,st.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",jEt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(n,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const MEt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},NEt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),HEt=[NEt],YEt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function ZEt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",MEt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},HEt))),64))])):((0,s.wg)(),(0,s.iD)("div",YEt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const KEt={class:"tw-flex tw-justify-between"},BEt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},QEt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},JEt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},GEt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function XEt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,st.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",KEt,[(0,s._)("div",null,[(0,s._)("div",BEt,[(0,s._)("p",QEt,(0,st.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,st.j5)({background:r.color})},(0,st.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",JEt,[(0,s._)("span",GEt,(0,st.zw)(r.value),1)])]),(0,s._)("div",{style:(0,st.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(it.t,{style:(0,st.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var tTt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const eTt=(0,p.Z)(tTt,[["render",XEt]]);var rTt=eTt,aTt={components:{DashboardCard:rTt},props:{statistics:{required:!0},fetching:{required:!0}}};const sTt=(0,p.Z)(aTt,[["render",ZEt]]);var lTt=sTt;const oTt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},iTt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),nTt=[iTt],wTt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function dTt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",oTt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},nTt))),64))])):((0,s.wg)(),(0,s.iD)("div",wTt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var cTt={components:{DashboardCard:rTt},props:{statistics:{required:!0},fetching:{required:!0}}};const uTt=(0,p.Z)(cTt,[["render",dTt]]);var pTt=uTt,mTt={components:{ConfirmationTab:lTt,DeliveryTab:pTt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const gTt=(0,p.Z)(mTt,[["render",REt]]);var hTt=gTt;const fTt={class:"tw-bg-white tw-p-5"},bTt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),xTt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},yTt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vTt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),_Tt=(0,s._)("option",{value:"all",selected:""},"All",-1),kTt=["value"],CTt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},DTt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),STt=(0,s._)("option",{value:"all",selected:""},"All",-1),zTt=["value"],UTt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},qTt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),PTt=(0,s._)("option",{value:"all",selected:""},"All",-1),LTt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),ATt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),$Tt=[PTt,LTt,ATt],WTt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},ETt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),TTt=(0,s._)("span",null,"Clear",-1),FTt=[ETt,TTt],VTt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),OTt=(0,s._)("span",null,"Filter",-1),ITt=[VTt,OTt];function jTt(t,e,r,l,o,i){const n=(0,s.up)("DateFilter"),w=(0,s.up)("AgentFilter"),d=(0,s.up)("SellerFilter"),c=(0,s.up)("AffectationFilter"),u=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",fTt,[bTt,(0,s._)("div",xTt,[(0,s.Wm)(n,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(n,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(n,{from:o.filters.delivered_from,"onUpdate:from":e[4]||(e[4]=t=>o.filters.delivered_from=t),to:o.filters.delivered_to,"onUpdate:to":e[5]||(e[5]=t=>o.filters.delivered_to=t),label:"Delivered"},null,8,["from","to"]),(0,s.Wm)(w,{filters:o.filters,onUpdate:e[6]||(e[6]=t=>o.filters=t)},null,8,["filters"]),(0,s.Wm)(d,{filters:o.filters,onUpdate:e[7]||(e[7]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",yTt,[vTt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[_Tt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,st.zw)(t.name),11,kTt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s.Wm)(c,{filters:o.filters,onUpdate:e[9]||(e[9]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",CTt,[DTt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[STt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,st.zw)(t.name),11,zTt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(u,{filters:o.filters,onUpdate:e[11]||(e[11]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",UTt,[qTt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},$Tt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",WTt,[(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},FTt),(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},ITt)])])])}const RTt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},MTt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),NTt=["value"],HTt=(0,s._)("option",{value:"all"},"All",-1),YTt=(0,s._)("option",{value:""},"No Delivery",-1),ZTt=["value"];function KTt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",RTt,[MTt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[HTt,YTt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,ZTt)))),128))],40,NTt)])}var BTt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const QTt=(0,p.Z)(BTt,[["render",KTt]]);var JTt=QTt;const GTt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},XTt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),tFt=["value"],eFt=(0,s._)("option",{value:"all"},"All",-1),rFt=(0,s._)("option",{value:""},"No Agent",-1),aFt=["value"];function sFt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",GTt,[XTt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[eFt,rFt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,aFt)))),128))],40,tFt)])}var lFt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const oFt=(0,p.Z)(lFt,[["render",sFt]]);var iFt=oFt;const nFt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},wFt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),dFt=["value"],cFt=(0,s._)("option",{value:"all"},"All",-1),uFt=["value"];function pFt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",nFt,[wFt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[cFt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,uFt)))),128))],40,dFt)])}var mFt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const gFt=(0,p.Z)(mFt,[["render",pFt]]);var hFt=gFt;const fFt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},bFt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),xFt=["value"],yFt=(0,s._)("option",{value:"all"},"All",-1),vFt=["value"];function _Ft(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",fFt,[bFt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[yFt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.name),9,vFt)))),128))],40,xFt)])}var kFt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const CFt=(0,p.Z)(kFt,[["render",_Ft]]);var DFt=CFt;const SFt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zFt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},UFt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),qFt=[UFt],PFt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},LFt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},AFt=["value"],$Ft={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},WFt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},EFt=["value"];function TFt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",SFt,[(0,s._)("label",zFt,(0,st.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},qFt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",PFt,[(0,s._)("label",LFt,(0,st.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,AFt)]),(0,s._)("div",$Ft,[(0,s._)("label",WFt,(0,st.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,EFt)])],64)):(0,s.kq)("",!0)],64)}var FFt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ke()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ke()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ke()().startOf("month").format("YYYY-MM-DD"),a=ke()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ke()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ke()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const VFt=(0,p.Z)(FFt,[["render",TFt]]);var OFt=VFt,IFt={components:{AffectationFilter:JTt,AgentFilter:iFt,ProductFilter:DFt,DateFilter:OFt,SellerFilter:hFt},props:{},data(){return{confirmations:Iw,deliveries:Nw,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const jFt=(0,p.Z)(IFt,[["render",jTt]]);var RFt=jFt;const MFt={key:0},NFt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function HFt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",MFt,[(0,s._)("div",NFt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const YFt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},ZFt={class:"tw-flex tw-justify-between"},KFt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},BFt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},QFt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},JFt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function GFt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",YFt,[(0,s._)("div",ZFt,[(0,s._)("div",null,[(0,s._)("div",KFt,[(0,s._)("p",BFt,(0,st.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,st.j5)({background:r.color})},(0,st.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",QFt,[(0,s._)("span",JFt,(0,st.zw)(o.format(r.value)),1)])]),(0,s._)("div",{style:(0,st.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(it.t,{style:(0,st.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var XFt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const tVt=(0,p.Z)(XFt,[["render",GFt]]);var eVt=tVt,rVt={components:{RevenueCard:eVt},props:{statistics:{required:!0},fetching:{required:!0}}};const aVt=(0,p.Z)(rVt,[["render",HFt]]);var sVt=aVt,lVt={components:{OnlineUsers:VEt,IndexStatistics:hTt,IndexFilters:RFt,IndexRevenue:sVt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,$u.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const oVt=(0,p.Z)(lVt,[["render",dEt]]);var iVt=oVt;const nVt={class:"tw-pb-40"},wVt={class:"tw-space-y-3"};function dVt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexRevenue"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",nVt,[(0,s._)("div",wVt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(w,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const cVt={class:"tw-bg-white"},uVt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},pVt={class:"tw-p-5"};function mVt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),n=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",cVt,[(0,s._)("div",uVt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,st.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,st.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",pVt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(n,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const gVt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},hVt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),fVt=[hVt],bVt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function xVt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",gVt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},fVt))),64))])):((0,s.wg)(),(0,s.iD)("div",bVt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const yVt={class:"tw-flex tw-justify-between"},vVt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},_Vt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},kVt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},CVt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function DVt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,st.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",yVt,[(0,s._)("div",null,[(0,s._)("div",vVt,[(0,s._)("p",_Vt,(0,st.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,st.j5)({background:r.color})},(0,st.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",kVt,[(0,s._)("span",CVt,(0,st.zw)(r.value),1)])]),(0,s._)("div",{style:(0,st.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(it.t,{style:(0,st.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var SVt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const zVt=(0,p.Z)(SVt,[["render",DVt]]);var UVt=zVt,qVt={components:{DashboardCard:UVt},props:{statistics:{required:!0},fetching:{required:!0}}};const PVt=(0,p.Z)(qVt,[["render",xVt]]);var LVt=PVt;const AVt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},$Vt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),WVt=[$Vt],EVt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function TVt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",AVt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},WVt))),64))])):((0,s.wg)(),(0,s.iD)("div",EVt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var FVt={components:{DashboardCard:UVt},props:{statistics:{required:!0},fetching:{required:!0}}};const VVt=(0,p.Z)(FVt,[["render",TVt]]);var OVt=VVt,IVt={components:{ConfirmationTab:LVt,DeliveryTab:OVt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const jVt=(0,p.Z)(IVt,[["render",mVt]]);var RVt=jVt;const MVt={class:"tw-bg-white tw-p-5"},NVt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),HVt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},YVt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ZVt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),KVt=(0,s._)("option",{value:"all",selected:""},"All",-1),BVt=["value"],QVt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},JVt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),GVt=(0,s._)("option",{value:"all",selected:""},"All",-1),XVt=["value"],tOt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},eOt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),rOt=(0,s._)("option",{value:"all",selected:""},"All",-1),aOt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),sOt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),lOt=[rOt,aOt,sOt],oOt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},iOt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),nOt=(0,s._)("span",null,"Clear",-1),wOt=[iOt,nOt],dOt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),cOt=(0,s._)("span",null,"Filter",-1),uOt=[dOt,cOt];function pOt(t,e,r,l,o,i){const n=(0,s.up)("DateFilter"),w=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",MVt,[NVt,(0,s._)("div",HVt,[(0,s.Wm)(n,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(n,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",YVt,[ZVt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[KVt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,st.zw)(t.name),11,BVt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s._)("div",QVt,[JVt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[GVt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,st.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,st.zw)(t.name),11,XVt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(w,{filters:o.filters,onUpdate:e[6]||(e[6]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",tOt,[eOt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},lOt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",oOt,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},wOt),(0,s._)("button",{onClick:e[9]||(e[9]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},uOt)])])])}const mOt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gOt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),hOt=["value"],fOt=(0,s._)("option",{value:"all"},"All",-1),bOt=["value"];function xOt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",mOt,[gOt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[fOt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.name),9,bOt)))),128))],40,hOt)])}var yOt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const vOt=(0,p.Z)(yOt,[["render",xOt]]);var _Ot=vOt;const kOt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},COt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},DOt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),SOt=[DOt],zOt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},UOt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},qOt=["value"],POt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},LOt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},AOt=["value"];function $Ot(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",kOt,[(0,s._)("label",COt,(0,st.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},SOt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",zOt,[(0,s._)("label",UOt,(0,st.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,qOt)]),(0,s._)("div",POt,[(0,s._)("label",LOt,(0,st.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,AOt)])],64)):(0,s.kq)("",!0)],64)}var WOt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ke()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ke()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ke()().startOf("month").format("YYYY-MM-DD"),a=ke()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ke()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ke()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const EOt=(0,p.Z)(WOt,[["render",$Ot]]);var TOt=EOt,FOt={components:{ProductFilter:_Ot,DateFilter:TOt},props:{},data(){return{confirmations:Iw,deliveries:Nw,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const VOt=(0,p.Z)(FOt,[["render",pOt]]);var OOt=VOt;const IOt={key:0},jOt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function ROt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",IOt,[(0,s._)("div",jOt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const MOt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},NOt={class:"tw-flex tw-justify-between"},HOt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},YOt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},ZOt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},KOt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function BOt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",MOt,[(0,s._)("div",NOt,[(0,s._)("div",null,[(0,s._)("div",HOt,[(0,s._)("p",YOt,(0,st.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,st.j5)({background:r.color})},(0,st.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",ZOt,[(0,s._)("span",KOt,(0,st.zw)(r.value)+"$ ",1)])]),(0,s._)("div",{style:(0,st.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(it.t,{style:(0,st.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var QOt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const JOt=(0,p.Z)(QOt,[["render",BOt]]);var GOt=JOt,XOt={components:{RevenueCard:GOt},props:{statistics:{required:!0},fetching:{required:!0}}};const tIt=(0,p.Z)(XOt,[["render",ROt]]);var eIt=tIt,rIt={components:{IndexStatistics:RVt,IndexFilters:OOt,IndexRevenue:eIt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,_zt.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"seller"!=this.user.role&&this.$router.push({name:"404"})}};const aIt=(0,p.Z)(rIt,[["render",dVt]]);var sIt=aIt;const lIt={class:"tw-pb-40"},oIt={class:"tw-space-y-3"};function iIt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexAnalytics");return(0,s.wg)(),(0,s.iD)("div",lIt,[(0,s._)("div",oIt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{analytics:l.analytics,fetching:l.fetching},null,8,["analytics","fetching"])])])}const nIt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},wIt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),dIt=[wIt],cIt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function uIt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return r.fetching?((0,s.wg)(),(0,s.iD)("div",nIt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},dIt))),64))])):((0,s.wg)(),(0,s.iD)("div",cIt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.analytics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))}const pIt={class:"tw-flex tw-justify-between"},mIt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},gIt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},hIt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},fIt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function bIt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,st.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",pIt,[(0,s._)("div",null,[(0,s._)("div",mIt,[(0,s._)("p",gIt,(0,st.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,st.j5)({background:r.color})},(0,st.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",hIt,[(0,s._)("span",fIt,(0,st.zw)(r.value),1)])]),(0,s._)("div",{style:(0,st.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(it.t,{style:(0,st.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var xIt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const yIt=(0,p.Z)(xIt,[["render",bIt]]);var vIt=yIt,_It={components:{DashboardCard:vIt},props:{analytics:{required:!0},fetching:{required:!0}}};const kIt=(0,p.Z)(_It,[["render",uIt]]);var CIt=kIt;const DIt={class:"tw-bg-white tw-p-5"},SIt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),zIt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},UIt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},qIt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),PIt=(0,s._)("span",null,"Clear",-1),LIt=[qIt,PIt],AIt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),$It=(0,s._)("span",null,"Filter",-1),WIt=[AIt,$It];function EIt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),n=(0,s.up)("SellerFilter"),w=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",DIt,[SIt,(0,s._)("div",zIt,[(0,s.Wm)(i,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(i,{from:l.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(n,{filters:l.filters,onUpdate:e[4]||(e[4]=t=>l.filters=t)},null,8,["filters"]),(0,s.Wm)(w,{filters:l.filters,onUpdate:e[5]||(e[5]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",UIt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},LIt),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},WIt)])])])}const TIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},FIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),VIt=["value"],OIt=(0,s._)("option",{value:"all"},"All",-1),IIt=["value"];function jIt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",TIt,[FIt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[OIt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,IIt)))),128))],40,VIt)])}var RIt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const MIt=(0,p.Z)(RIt,[["render",jIt]]);var NIt=MIt;const HIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YIt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),ZIt=["value"],KIt=(0,s._)("option",{value:"all"},"All",-1),BIt=["value"];function QIt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",HIt,[YIt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[KIt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.name),9,BIt)))),128))],40,ZIt)])}var JIt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const GIt=(0,p.Z)(JIt,[["render",QIt]]);var XIt=GIt;const tjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ejt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},rjt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),ajt=[rjt],sjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ljt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},ojt=["value"],ijt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},njt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},wjt=["value"];function djt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",tjt,[(0,s._)("label",ejt,(0,st.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},ajt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",sjt,[(0,s._)("label",ljt,(0,st.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,ojt)]),(0,s._)("div",ijt,[(0,s._)("label",njt,(0,st.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,wjt)])],64)):(0,s.kq)("",!0)],64)}var cjt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ke()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ke()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ke()().startOf("month").format("YYYY-MM-DD"),a=ke()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ke()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ke()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const ujt=(0,p.Z)(cjt,[["render",djt]]);var pjt=ujt,mjt={components:{SellerFilter:NIt,ProductFilter:XIt,DateFilter:pjt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,user_id:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const gjt=(0,p.Z)(mjt,[["render",EIt]]);var hjt=gjt,fjt={components:{IndexAnalytics:CIt,IndexFilters:hjt},data(){return{filters:null,analytics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,$u.analytics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.analytics=t.data.data.analytics.analytics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const bjt=(0,p.Z)(fjt,[["render",iIt]]);var xjt=bjt;function yjt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])}const vjt={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1 tw-py-2"},_jt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),kjt=[_jt];function Cjt(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",vjt,[r.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},kjt))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(r.statistics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])}const Djt={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},Sjt={class:"tw-flex tw-justify-between"},zjt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Ujt={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},qjt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Pjt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function Ljt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Djt,[(0,s._)("div",Sjt,[(0,s._)("div",null,[(0,s._)("div",zjt,[(0,s._)("p",Ujt,(0,st.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,st.j5)({background:r.color})},(0,st.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",qjt,[(0,s._)("span",Pjt,(0,st.zw)(r.value),1)])]),(0,s._)("div",{style:(0,st.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(it.t,{style:(0,st.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var Ajt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const $jt=(0,p.Z)(Ajt,[["render",Ljt]]);var Wjt=$jt,Ejt={components:{DashCard:Wjt},props:{statistics:{required:!0},fetching:{required:!0}}};const Tjt=(0,p.Z)(Ejt,[["render",Cjt]]);var Fjt=Tjt;const Vjt={class:"tw-bg-white tw-p-5"},Ojt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),Ijt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},jjt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Rjt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Mjt=(0,s._)("span",null,"Clear",-1),Njt=[Rjt,Mjt],Hjt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Yjt=(0,s._)("span",null,"Filter",-1),Zjt=[Hjt,Yjt];function Kjt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",Vjt,[Ojt,(0,s._)("div",Ijt,[(0,s.Wm)(i,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",jjt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Njt),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Zjt)])])])}const Bjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Qjt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Jjt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),Gjt=[Jjt],Xjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tRt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},eRt=["value"],rRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},aRt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},sRt=["value"];function lRt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Bjt,[(0,s._)("label",Qjt,(0,st.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},Gjt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",Xjt,[(0,s._)("label",tRt,(0,st.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,eRt)]),(0,s._)("div",rRt,[(0,s._)("label",aRt,(0,st.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,sRt)])],64)):(0,s.kq)("",!0)],64)}var oRt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ke()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ke()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ke()().startOf("month").format("YYYY-MM-DD"),a=ke()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ke()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ke()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const iRt=(0,p.Z)(oRt,[["render",lRt]]);var nRt=iRt,wRt={components:{DateFilter:nRt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const dRt=(0,p.Z)(wRt,[["render",Kjt]]);var cRt=dRt,uRt={components:{IndexStatistics:Fjt,IndexFilters:cRt},data(){return{filters:null,statistics:null,fetching:!0}},methods:{handleFilter(){this.fetching=!0,E.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}}};const pRt=(0,p.Z)(uRt,[["render",yjt]]);var mRt=pRt,gRt={name:"dashboards",path:"/dashboards",component:Wa,meta:{module:"dashboards",gate:"all"},children:[{name:"dashboards/admin",path:"admin",component:iVt,meta:{module:"dashboards",subModule:"dashboards/admin",title:"Dashboard",gate:"all"}},{name:"dashboards/seller",path:"seller",component:sIt,meta:{module:"dashboards",subModule:"dashboards/seller",title:"Dashboard",gate:"all"}},{name:"dashboards/analytics",path:"/analytics",component:xjt,meta:{module:"dashboards",subModule:"dashboards/analytics",title:"Dashboard Analytics",gate:"show_all_ads"}},{name:"dashboards/agent",path:"agent",component:mRt,meta:{module:"dashboards",subModule:"dashboards/agent",title:"Dashboard",gate:"all"}}]};class hRt{async paginate(t="",e){return await $.getCookie(),L.get("api/sourcings"+t,{params:e})}async create(t){return await $.getCookie(),L.post("api/sourcings/new",t)}async update(t,e){return await $.getCookie(),L.post("api/sourcings/"+t,e)}async get(t){return await $.getCookie(),L.get("api/sourcings/"+t)}async history(t){return await $.getCookie(),L.get("api/sourcings/"+t+"/history")}async delete(t){return await $.getCookie(),L["delete"]("api/sourcings/"+t)}}var fRt=new hRt;const bRt=[{name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{name:"Quoting",value:"quoting",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"},{name:"Confirmed",value:"confirmed",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"}],xRt=[{step:1,name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{step:2,name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-500 tw-font-medium"},{step:3,name:"Packing",value:"packing",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{step:4,name:"Shipped",value:"shipped",class:"tw-text-white tw-bg-violet-500 tw-font-medium"},{step:5,name:"Delivered",value:"delivered",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"},{step:0,name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"}],yRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Quotation",-1),_Rt=(0,s._)("option",{value:"all"},"All",-1),kRt=["value"];var CRt={__name:"FilterByQuotation",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",yRt,[vRt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,xe.SU)(e).setFilter("quotation_status",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[_Rt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(bRt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,st.zw)(t.name),9,kRt)))),128))],32)]))}};const DRt=CRt;var SRt=DRt;const zRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},URt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Sourcing",-1),qRt=(0,s._)("option",{value:"all"},"All",-1),PRt=["value"];var LRt={__name:"FilterBySourcing",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",zRt,[URt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,xe.SU)(e).setFilter("sourcing_status",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[qRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(xRt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,st.zw)(t.name),9,PRt)))),128))],32)]))}};const ARt=LRt;var $Rt=ARt;const WRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ERt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),TRt=(0,s._)("option",{value:"all"},"All",-1),FRt=["value"];var VRt={__name:"FilterBySeller",setup(t){const e=(0,s.f3)("options"),r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/fetched"])),l=(0,s.Fl)((()=>r.getters["user/users"])),o=(0,s.Fl)((()=>a.value?l.value.filter((t=>"seller"==t.role.name)):[]));return(t,r)=>((0,s.wg)(),(0,s.iD)("div",WRt,[ERt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,xe.SU)(e).setFilter("user_id",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[TRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(o),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,st.zw)(t.firstname)+" "+(0,st.zw)(t.lastname),9,FRt)))),128))],32)]))}};const ORt=VRt;var IRt=ORt;const jRt={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-4"},RRt={key:0,class:"md:tw-col-span-4 tw-col-span-12"},MRt={key:1,class:"md:tw-col-span-4 tw-col-span-12"},NRt={key:2,class:"md:tw-col-span-4 tw-col-span-12"},HRt={class:"tw-col-span-12 tw-flex tw-justify-end"},YRt=(0,s._)("span",null,"Filter",-1),ZRt=[YRt];var KRt={__name:"FilterOption",setup(t){const e=(0,s.f3)("options");(0,xe.Vh)(e,"options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jRt,[["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",RRt,[(0,s.Wm)((0,xe.SU)(IRt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",MRt,[(0,s.Wm)((0,xe.SU)(SRt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",NRt,[(0,s.Wm)((0,xe.SU)($Rt))])):(0,s.kq)("",!0),(0,s._)("div",HRt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>(0,xe.SU)(e).getData()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},ZRt)])])]))}};const BRt=KRt;var QRt=BRt;const JRt={class:"tw-relative tw-h-[40px] tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},GRt=["value"],XRt=["value"],tMt=["value","onKeyup"];var eMt={__name:"SearchOption",emits:["update:search-by-field","update:search","filter"],setup(t,{emit:e}){const r=(0,xe.iH)([{field:"all",name:"All"},{field:"id",name:"ID"}]),l=(0,xe.iH)("all"),o=(0,xe.iH)(""),i=t=>{e("update:search-by-field",t.target.value)},n=t=>{e("update:search",t.target.value)},w=()=>{e("filter")};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",JRt,[(0,s._)("select",{onChange:i,value:l.value,class:"tw-block tw-h-[40px] !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.field,key:t.field},(0,st.zw)(t.name),9,XRt)))),128))],40,GRt),(0,s._)("input",{type:"text",placeholder:"Search",value:o.value,onInput:n,onKeyup:(0,a.D2)(w,["enter"]),class:"tw-block tw-h-[40px] tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,tMt),(0,s._)("button",{onClick:w,class:"tw-absolute tw-h-[40px] tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(it.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])]))}};const rMt=eMt;var aMt=rMt;const sMt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between tw-flex-wrap"},lMt={class:"tw-inline-flex tw-flex-wrap tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},oMt={class:"tw-relative tw-h-[40px]"},iMt=["value"],nMt={class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},wMt={key:0},dMt={class:"tw-overflow-hidden tw-col-span-1"};var cMt={__name:"IndexOptions",setup(t){const e=(0,xe.qj)({filters:!1}),r=(0,s.f3)("options"),a=t=>{r.setOptions({...r.options,per_page:parseInt(t)}),r.getData()};return(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",sMt,[(0,s._)("div",lMt,[(0,s._)("button",{class:(0,st.C_)([["!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:!0}," View all "),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Filters",class:(0,st.C_)([[e.filters&&"!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),onClick:r[0]||(r[0]=t=>e.filters=!e.filters)},[(0,s.Wm)(l,{icon:"mi:filter",class:"tw-text-2xl"})],2)):(0,s.kq)("",!0),(0,s._)("div",oMt,[(0,s._)("select",{value:10,onChange:r[1]||(r[1]=t=>a(t.target.value)),class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)([5,10,20,50,100,250,500],(t=>(0,s._)("option",{value:t,key:t},(0,st.zw)(t),9,iMt))),64))],32),(0,s._)("div",nMt,[(0,s.Wm)(l,{icon:"mdi:chevron-down",class:"tw-text-xl"})])])]),(0,s._)("div",null,[(0,s.Wm)((0,xe.SU)(aMt))])]),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",wMt,[(0,s._)("div",{class:(0,st.C_)([[e.filters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",dMt,[(0,s.Wm)((0,xe.SU)(QRt))])],2)])):(0,s.kq)("",!0)])}}};const uMt=cMt;var pMt=uMt;const mMt={class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},gMt=["colspan"],hMt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},fMt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),bMt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),xMt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),yMt=[bMt,xMt];var vMt={__name:"TableLoading",props:{columns:{type:Number,required:!1,default:10},rows:{type:Number,required:!1,default:10}},setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("tbody",mMt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:e.rows},[(0,s._)("div",hMt,[fMt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.columns,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},yMt)))),128))])],8,gMt)])]))}};const _Mt=vMt;var kMt=_Mt;const CMt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},DMt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},SMt=(0,s._)("span",null,"Sourcing History",-1),zMt={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},UMt={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},qMt={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},PMt={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},LMt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-6 tw-h-6 tw-bg-neutral-100 tw-rounded-full -tw-left-3 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),AMt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},$Mt={class:"tw-text-gray-500"},WMt={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},EMt=["onMouseenter","onMouseleave"],TMt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600"},FMt={class:"tw-flex tw-flex-col tw-gap-4"},VMt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},OMt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},IMt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},jMt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},RMt={key:1,class:"tw-w-full"},MMt=(0,s._)("div",{class:"tw-items-center tw-justify-between tw-mb-3 sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},"Added a note:")],-1),NMt={class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var HMt={__name:"TableActionsHistory",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a={product_name:"Product name",product_url:"Product URL",is_paid:"Paid",paid_at:"Paid at",estimated_quantity:"Estimated Quantity",destination_country:"Destination Country",note_by_seller:"Note by seller",note_by_admin:"Note by admin",shipping_method:"Shipping Method",quotation_status:"Quotation Status",sourcing_status:"Sourcing Status",cost_per_unit:"Unit Price",total_cost:"Total Cost",additional_fees:"Additional Fees"},l={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}},o=(0,xe.Vh)(r,"visible"),i=(0,xe.Vh)(r,"sourcing"),n=(0,xe.iH)(!0),w=(0,xe.iH)([!0]),d=async()=>{n.value=!0,await fRt.history(i.value.id).then((t=>{"SUCCESS"==t.data.code&&(w.value=t.data.history,w.value.reverse())})),n.value=!1};return d(),(t,r)=>{const i=(0,s.up)("icon"),d=(0,s.up)("loading"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(c,{visible:(0,xe.SU)(o),onCancel:r[1]||(r[1]=t=>e("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",CMt,[(0,s._)("div",DMt,[SMt,(0,s._)("button",{onClick:r[0]||(r[0]=t=>e("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(i,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),n.value?((0,s.wg)(),(0,s.iD)("div",zMt,[(0,s.Wm)(d)])):(0,s.kq)("",!0),n.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",UMt,[w.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",qMt,"There is no history for this sourcing yet.")),w.value.length?((0,s.wg)(),(0,s.iD)("ol",PMt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-mb-10 tw-mx-6"},[LMt,(0,s._)("div",AMt,[(0,s._)("p",$Mt,[(0,s.Uk)(" by "),(0,s._)("span",WMt,(0,st.zw)(t.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:e=>t.isHovering=!0,onMouseleave:e=>t.isHovering=!1},(0,st.zw)(t.isHovering?(0,xe.SU)(ke())(t.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,xe.SU)(ke())(t.created_at).fromNow()),41,EMt)]),(0,s._)("div",TMt,[(0,s._)("div",FMt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.fields,(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[["note_by_seller","note_by_admin"].includes(t.field)?((0,s.wg)(),(0,s.iD)("div",RMt,[MMt,(0,s._)("div",NMt,(0,st.zw)(t.new_value),1)])):((0,s.wg)(),(0,s.iD)("div",VMt,[(0,s.Uk)("Changed "),(0,s._)("span",OMt,(0,st.zw)(a[t.field]),1),(0,s.Uk)(" from "),(0,s._)("span",IMt,(0,st.zw)(t.field in l?l[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",jMt,(0,st.zw)(t.field in l?l[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])])])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const YMt=HMt;var ZMt=YMt;const KMt={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"};var BMt={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,xe.qj)({history:!1}),a=(0,xe.Vh)(e,"item");return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",KMt,["seller"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:0,to:{name:"sourcings.show",params:{id:(0,xe.SU)(a).id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-blue-300 tw-text-blue-500 tw-duration-200 hover:tw-bg-blue-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"solar:eye-bold"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:1,to:{name:"sourcings.show",params:{id:(0,xe.SU)(a).id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-emerald-300 tw-text-emerald-500 tw-duration-200 hover:tw-bg-emerald-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"clarity:edit-solid"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[0]||(e[0]=t=>r.history=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-purple-300 tw-text-purple-500 tw-duration-200 hover:tw-bg-purple-500 hover:tw-text-white"},[(0,s.Wm)(l,{icon:"iconamoon:history"})])):(0,s.kq)("",!0)]),"admin"==t.$user.role&&r.history?((0,s.wg)(),(0,s.j4)((0,xe.SU)(ZMt),{key:0,visible:r.history,"onUpdate:visible":e[1]||(e[1]=t=>r.history=t),sourcing:(0,xe.SU)(a)},null,8,["visible","sourcing"])):(0,s.kq)("",!0)])}}};const QMt=BMt;var JMt=QMt;const GMt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},XMt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},tNt={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},eNt={class:"tw-w-[100px] tw-truncate"},rNt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},aNt={class:"tw-w-[200px] tw-truncate"},sNt={class:"tw-px-4 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lNt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},oNt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},iNt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},nNt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},wNt={key:0,class:"tw-flex tw-items-center tw-justify-center tw-gap-2"},dNt={key:1,class:"tw-flex tw-items-center tw-justify-center tw-gap-2"},cNt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},uNt={class:"tw-px-4"},pNt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},mNt={class:"tw-px-4"},gNt=["admin"];var hNt={__name:"TableRow",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/user"])),l=(0,xe.Vh)(e,"item"),o=(0,xe.iH)(bRt.find((t=>t.value==l.value.quotation_status))),n=(0,xe.iH)(xRt.find((t=>t.value==l.value.sourcing_status)));return(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",GMt,(0,st.zw)((0,xe.SU)(l).id),1),(0,s._)("td",XMt,(0,st.zw)((0,xe.SU)(ke())((0,xe.SU)(l).created_at).format("YYYY-MM-DD HH:mm:ss")),1),"admin"==(0,xe.SU)(a).role?((0,s.wg)(),(0,s.iD)("td",tNt,[(0,s._)("p",eNt,(0,st.zw)((0,xe.SU)(l).seller_name),1)])):(0,s.kq)("",!0),(0,s._)("td",rNt,[(0,s._)("p",aNt,(0,st.zw)((0,xe.SU)(l).product_name),1)]),(0,s._)("td",sNt,[(0,s._)("p",{class:(0,st.C_)({"tw-text-xs tw-text-center  tw-py-1 tw-font-medium tw-rounded tw-bg-blue-100 darkx:tw-bg-gray-800 darkx:tw-text-orange-400":"ocean-freight"===(0,xe.SU)(l).shipping_method,"tw-text-xs tw-text-center tw-py-1 tw-font-medium tw-bg-yellow-100  tw-rounded":"air-freight"===(0,xe.SU)(l).shipping_method})},(0,st.zw)("air-freight"===(0,xe.SU)(l).shipping_method?"By Air":"ocean-freight"===(0,xe.SU)(l).shipping_method?"By Ocean":(0,xe.SU)(l).shipping_method),3)]),(0,s._)("td",lNt,(0,st.zw)((0,xe.SU)(c))+(0,st.zw)((0,xe.SU)(l).total_cost),1),(0,s._)("td",oNt,(0,st.zw)((0,xe.SU)(l).estimated_quantity),1),(0,s._)("td",iNt,(0,st.zw)((0,xe.SU)(l).destination_country),1),(0,s._)("td",nNt,[(0,s._)("div",null,[(0,xe.SU)(l).is_paid?((0,s.wg)(),(0,s.iD)("div",wNt,[(0,s.Wm)(r,{icon:"mingcute:check-2-fill",class:"tw-text-xl tw-text-emerald-500"})])):((0,s.wg)(),(0,s.iD)("div",dNt,[(0,s.Wm)(r,{icon:"mdi:clock-time-two-outline",class:"tw-text-xl tw-text-yellow-500"})]))])]),(0,s._)("td",cNt,[(0,s._)("div",uNt,[(0,s._)("div",{class:(0,st.C_)([o.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,st.zw)(o.value.name),3)])]),(0,s._)("td",pNt,[(0,s._)("div",mNt,[(0,s._)("div",{class:(0,st.C_)([n.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,st.zw)(n.value.name),3)])]),(0,s._)("td",{admin:(0,xe.SU)(a)},[(0,s._)("div",null,[(0,s.Wm)((0,xe.SU)(JMt),{item:(0,xe.SU)(l)},null,8,["item"])])],8,gNt)])}}};const fNt=hNt;var bNt=fNt;const xNt={class:"tw-overflow-x-auto"},yNt={class:"tw-inline-block tw-min-w-full tw-align-middle"},vNt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},_Nt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},kNt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},CNt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},DNt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},SNt=["colspan"],zNt=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No request was found ! ",-1),UNt=[zNt];var qNt={__name:"IndexTable",props:{loading:{required:!0,type:Boolean},sourcings:{required:!0,type:Array}},setup(t){const e=t,r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/user"])),l=(0,xe.Vh)(e,"loading"),o=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"seller",name:"Seller",class:"tw-max-w-[150px] tw-truncate"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"total_cost",name:"Total Price",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"paid",name:"Paid",class:"tw-w-[80px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],n=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"total_cost",name:"Total Price",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"paid",name:"Paid",class:"tw-w-[80px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],w=(0,xe.iH)("admin"==a.value.role?o:n),d=(0,xe.Vh)(e,"sourcings");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",xNt,[(0,s._)("div",yNt,[(0,s._)("div",vNt,[(0,s._)("table",_Nt,[(0,s._)("thead",kNt,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.field,class:(0,st.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,st.zw)(t.name),1)],2)))),128))])]),(0,xe.SU)(l)?((0,s.wg)(),(0,s.j4)((0,xe.SU)(kMt),{key:1,columns:w.value.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,xe.SU)(d).length?((0,s.wg)(),(0,s.iD)("tbody",CNt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(d),(t=>((0,s.wg)(),(0,s.j4)((0,xe.SU)(bNt),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,xe.SU)(d).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",DNt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:w.value.length},UNt,8,SNt)])]))],64))])])])])]))}};const PNt=qNt;var LNt=PNt;const ANt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},$Nt={class:"tw-px-3"},WNt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},ENt={class:"tw-flex tw-items-center tw-gap-x-3"},TNt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Requested Products ",-1),FNt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},VNt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all requested products. ",-1),ONt={key:0},INt=(0,s._)("span",null,"Request new product",-1),jNt={class:"tw-mt-5"};var RNt={__name:"IndexSourcingView",setup(t){const e=(0,xe.iH)([]),r=(0,xe.qj)({total:0,current_page:1,last_page:1,from:1,to:1,per_page:10,sort_by:"created_at",sort_order:"desc",filters:{}}),a=(0,xe.iH)(!1),l=async()=>{a.value=!0,await fRt.paginate("",r).then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.sourcings.data,r.total=t.data.sourcings.total,r.current_page=t.data.sourcings.current_page,r.last_page=t.data.sourcings.last_page,r.from=t.data.sourcings.from,r.to=t.data.sourcings.to,r.per_page=t.data.sourcings.per_page,r.page=r.current_page)})),a.value=!1},o=t=>{r.current_page=t,r.page=t,l()};return(0,s.JJ)("options",{options:r,getData:l,setOptions:t=>Object.assign(r,t),setFilter:(t,e)=>r.filters[t]=e}),l(),(t,l)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",ANt,[(0,s._)("section",$Nt,[(0,s._)("div",WNt,[(0,s._)("div",null,[(0,s._)("div",ENt,[TNt,(0,s._)("span",FNt,(0,st.zw)(r.total)+" request",1)]),VNt]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",ONt,[(0,s.Wm)(i,{to:{name:"sourcings.new"},class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},{default:(0,s.w5)((()=>[INt])),_:1},8,["to"])])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)((0,xe.SU)(pMt))]),(0,s._)("div",null,[(0,s.Wm)((0,xe.SU)(LNt),{loading:a.value,sourcings:e.value},null,8,["loading","sourcings"])]),(0,s._)("div",jNt,[(0,s.Wm)((0,xe.SU)(dn),{total:r.total,"current-page":r.current_page,"last-page":r.last_page,from:r.from,to:r.to,"per-page":r.per_page,onPageChange:o},null,8,["total","current-page","last-page","from","to","per-page"])])])])}}};const MNt=RNt;var NNt=MNt;const HNt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},YNt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),ZNt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),KNt={class:"tw-p-5"},BNt={class:"tw-grid tw-grid-cols-5"},QNt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},JNt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),GNt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},XNt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),tHt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},eHt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),rHt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},aHt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),sHt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},lHt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var oHt={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=t,r=(0,h.yj)(),a=(0,xe.Vh)(e,"sourcing"),l=(0,s.Fl)((()=>bRt.find((t=>t.value==a.value.quotation_status)))),o=(0,s.Fl)((()=>xRt.find((t=>t.value==a.value.sourcing_status))));return(t,e)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",HNt,[(0,s._)("p",null,[YNt,(0,s.Uk)(" "+(0,st.zw)((0,xe.SU)(r).params.id),1)]),(0,s._)("p",null,[ZNt,(0,s.Uk)(" "+(0,st.zw)((0,xe.SU)(ke())((0,xe.SU)(a).created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",KNt,[(0,s._)("div",BNt,[(0,s._)("div",QNt,[(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(o).step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(o).step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),JNt]),(0,s._)("div",GNt,[(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(o).step>=2&&"confirmed"==(0,xe.SU)(l).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(o).step>=2&&"confirmed"==(0,xe.SU)(l).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),XNt]),(0,s._)("div",tHt,[(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(o).step>=3&&"confirmed"==(0,xe.SU)(l).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(o).step>=3&&"confirmed"==(0,xe.SU)(l).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),eHt]),(0,s._)("div",rHt,[(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(o).step>=4&&"confirmed"==(0,xe.SU)(l).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(o).step>=4&&"confirmed"==(0,xe.SU)(l).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),aHt]),(0,s._)("div",sHt,[(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(o).step>=5&&"confirmed"==(0,xe.SU)(l).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(o).step>=5&&"confirmed"==(0,xe.SU)(l).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),lHt])])])])}}};const iHt=oHt;var nHt=iHt;const wHt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},dHt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Cancel product sourcing ",-1),cHt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to cancel with this sourcing ? ")],-1),uHt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},pHt=["disabled"],mHt=(0,s._)("span",null,"Confirm",-1);var gHt={__name:"SourcingRequestCancel",props:["sourcing"],setup(t){const e=t,r=(0,xe.iH)(!1),a=(0,xe.iH)(!1),l=(0,xe.Vh)(e,"sourcing"),o=(0,s.f3)("sourcing"),i=async()=>{console.log(e),a.value=!0,await fRt.update(l.value.id,{...l.value,quotation_status:"cancelled"}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),yC("Quotation has been cancelled"))})),r.value=!1,a.value=!1};return(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-py-2 tw-px-7 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s.Wm)(l,{visible:r.value,onCancel:e[2]||(e[2]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",wHt,[dHt,cHt,(0,s._)("div",uHt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:a.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[a.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),mHt],8,pHt)])])])),_:1},8,["visible"])])}}};const hHt=gHt;var fHt=hHt;const bHt={class:"tw-p-5"},xHt={class:"tw-space-y-4"},yHt={class:"tw-flex tw-items-center tw-justify-between"},vHt=(0,s._)("span",null,"Destination Country:",-1),_Ht={class:"tw-font-black tw-text-neutral-800, tw-capitalize"},kHt={class:"tw-flex tw-items-center tw-justify-between"},CHt=(0,s._)("span",null,"Shipping Method:",-1),DHt={key:0,class:"tw-font-black tw-text-neutral-800"},SHt={key:1,class:"tw-font-black tw-text-neutral-800"},zHt={class:"tw-flex tw-items-center tw-justify-between"},UHt=(0,s._)("span",null,"Quantity:",-1),qHt={class:"tw-font-black tw-text-neutral-800"},PHt={class:"tw-flex tw-items-center tw-justify-between"},LHt=(0,s._)("span",null,"Unit Price:",-1),AHt={class:"tw-font-black tw-text-neutral-800"},$Ht={class:"tw-flex tw-items-center tw-justify-between tw-"},WHt=(0,s._)("span",null,"Additional Fees:",-1),EHt={class:"tw-font-black tw-text-neutral-800"},THt=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),FHt={class:"tw-flex tw-items-center tw-justify-between"},VHt=(0,s._)("span",null,"Total:",-1),OHt={class:"tw-font-black tw-text-neutral-800"},IHt={key:0,class:"tw-space-y-2 mt-5"},jHt=(0,s._)("span",null,"Confirm",-1),RHt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},MHt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Confirm product sourcing ",-1),NHt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to proceed with this action ? ")],-1),HHt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},YHt=["disabled"],ZHt=(0,s._)("span",null,"Confirm",-1);var KHt={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=t,r=(0,xe.iH)(!1),a=(0,xe.iH)(!1),l=(0,xe.Vh)(e,"sourcing"),o=(0,s.f3)("sourcing"),i=async()=>{a.value=!0,await fRt.update(l.value.id,{...l.value,quotation_status:"confirmed"}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),yC("Quotation has been accepted"))})),r.value=!1,a.value=!1};return(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",bHt,[(0,s._)("div",null,[(0,s._)("ul",xHt,[(0,s._)("li",yHt,[vHt,(0,s._)("span",_Ht,(0,st.zw)((0,xe.SU)(l).destination_country),1)]),(0,s._)("li",kHt,[CHt,"air-freight"==(0,xe.SU)(l).shipping_method?((0,s.wg)(),(0,s.iD)("span",DHt,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==(0,xe.SU)(l).shipping_method?((0,s.wg)(),(0,s.iD)("span",SHt,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",zHt,[UHt,(0,s._)("span",qHt,(0,st.zw)((0,xe.SU)(l).estimated_quantity),1)]),(0,s._)("li",PHt,[LHt,(0,s._)("span",AHt,(0,st.zw)((0,xe.SU)(l).cost_per_unit)+" "+(0,st.zw)((0,xe.SU)(c)),1)]),(0,s._)("li",$Ht,[WHt,(0,s._)("span",EHt,(0,st.zw)((0,xe.SU)(l).additional_fees)+" "+(0,st.zw)((0,xe.SU)(c)),1)]),THt,(0,s._)("li",FHt,[VHt,(0,s._)("span",OHt,(0,st.zw)(parseFloat((0,xe.SU)(l).total_cost).toFixed(2))+" "+(0,st.zw)((0,xe.SU)(c)),1)])])]),"quoting"==(0,xe.SU)(l).quotation_status||["quoting","pending"].includes((0,xe.SU)(l).quotation_status)?((0,s.wg)(),(0,s.iD)("div",IHt,["quoting"==(0,xe.SU)(l).quotation_status?((0,s.wg)(),(0,s.iD)("button",{key:0,disabled:!1,onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-py-2 tw-px-7 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),jHt])):(0,s.kq)("",!0),["quoting","pending"].includes((0,xe.SU)(l).quotation_status)?((0,s.wg)(),(0,s.j4)((0,xe.SU)(fHt),{key:1,sourcing:(0,xe.SU)(l)},null,8,["sourcing"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"quoting"==(0,xe.SU)(l).quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:1,visible:r.value,onCancel:e[2]||(e[2]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",RHt,[MHt,NHt,(0,s._)("div",HHt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:a.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[a.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ZHt],8,YHt)])])])),_:1},8,["visible"])):(0,s.kq)("",!0)])}}};const BHt=KHt;var QHt=BHt;const JHt={class:"tw-w-full"},GHt={class:"tw-w-full"},XHt=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Product details "),(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Quantity ")])],-1),tYt={class:"tw-pt-2"},eYt={class:"tw-whitespace-normal tw-max-w-[500px] tw-truncate"},rYt=["href"],aYt={class:"tw-pt-2"};var sYt={__name:"SourcingRequestProductDetails",props:["sourcing"],setup(t){const e=t,r=(0,xe.Vh)(e,"sourcing");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",JHt,[(0,s._)("table",GHt,[XHt,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",tYt,[(0,s._)("p",eYt,[(0,s._)("a",{href:(0,xe.SU)(r).product_url,class:"tw-text-blue-500 tw-cursor-pointer hover:tw-underline"},(0,st.zw)((0,xe.SU)(r).product_name),9,rYt)])]),(0,s._)("td",aYt,(0,st.zw)((0,xe.SU)(r).estimated_quantity),1)])])])]))}};const lYt=sYt;var oYt=lYt;const iYt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},nYt={class:"tw-px-3"},wYt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},dYt={class:"tw-flex tw-items-center tw-gap-x-5"},cYt={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},uYt={class:"tw-flex tw-items-center tw-gap-2"},pYt={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},mYt={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},gYt={class:"tw-space-y-4 lg:tw-col-span-8"},hYt={key:0,class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},fYt={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},bYt=(0,s._)("span",null,[(0,s.Uk)("Note from "),(0,s._)("span",{class:"tw-font-bold"},"Admin")],-1),xYt={class:"tw-p-2 tw-border tw-border-t-0 tw-bg-white tw-border-blue-200 tw-rounded-b-md"},yYt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},vYt={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},_Yt={class:"lg:tw-col-span-4"},kYt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var CYt={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=t,r=(0,h.yj)(),a=(0,s.Fl)((()=>bRt.find((t=>t.value==o.value.quotation_status)))),l=(0,s.Fl)((()=>xRt.find((t=>t.value==o.value.sourcing_status)))),o=(0,xe.Vh)(e,"sourcing");(0,xe.Vh)(e,"loading");return(t,e)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",iYt,[(0,s._)("section",nYt,[(0,s._)("div",wYt,[(0,s._)("div",null,[(0,s._)("div",dYt,[(0,s._)("h2",cYt," Quotation: #"+(0,st.zw)((0,xe.SU)(r).params.id),1),(0,s._)("div",uYt,[(0,s._)("div",{class:(0,st.C_)([(0,xe.SU)(a).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,st.zw)((0,xe.SU)(a).name),3),(0,s._)("div",{class:(0,st.C_)([(0,xe.SU)(l).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,st.zw)((0,xe.SU)(l).name),3)])]),(0,s._)("p",pYt,(0,st.zw)((0,xe.SU)(ke())((0,xe.SU)(o).created_at).format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",mYt,[(0,s._)("div",gYt,[(0,xe.SU)(o).note_by_admin?((0,s.wg)(),(0,s.iD)("div",hYt,[(0,s._)("div",fYt,[(0,s.Wm)(i,{icon:"ph:info-fill",class:"tw-text-xl tw-text-blue-500"}),bYt]),(0,s._)("div",xYt,[(0,s._)("h1",null,(0,st.zw)((0,xe.SU)(o).note_by_admin),1)])])):(0,s.kq)("",!0),(0,s._)("div",yYt,[(0,s.Wm)((0,xe.SU)(nHt),{sourcing:(0,xe.SU)(o)},null,8,["sourcing"])]),(0,s._)("div",vYt,[(0,s.Wm)((0,xe.SU)(oYt),{sourcing:(0,xe.SU)(o)},null,8,["sourcing"])])]),(0,s._)("div",_Yt,[(0,s._)("div",kYt,[(0,s.Wm)((0,xe.SU)(QHt),{sourcing:(0,xe.SU)(o)},null,8,["sourcing"])])])])])}}};const DYt=CYt;var SYt=DYt;const zYt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},UYt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),qYt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),PYt={class:"tw-p-3 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-border-b tw-border-solid tw-border-neutral-200"},LYt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},AYt={class:"tw-relative tw-z-40"},$Yt=["disabled","value"],WYt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),EYt={key:0,class:""},TYt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},FYt={class:"tw-space-y-1 tw-py-1"},VYt=["onClick"],OYt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},IYt={class:"tw-relative tw-z-30"},jYt=["disabled","value"],RYt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),MYt={key:0,class:""},NYt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},HYt={class:"tw-space-y-1 tw-py-1"},YYt=["onClick"],ZYt={class:"tw-p-5"},KYt={class:"tw-grid tw-grid-cols-5"},BYt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},QYt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),JYt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},GYt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),XYt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},tZt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),eZt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},rZt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),aZt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},sZt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var lZt={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=t,r=(0,h.yj)(),l=(0,xe.Vh)(e,"sourcing"),o=(0,s.f3)("sourcing"),i=(0,xe.qj)({quotation_status:!1,sourcing_status:!1}),n=(0,xe.qj)({quotation_status:!1,sourcing_status:!1}),w=(0,s.Fl)((()=>bRt.find((t=>t.value==l.value.quotation_status)))),d=(0,s.Fl)((()=>xRt.find((t=>t.value==l.value.sourcing_status)))),c=async(t,e)=>{if(i[t]=!1,l.value[t]==e.value)return!1;n[t]=!0,await fRt.update(l.value.id,{...l.value,[t]:e.value}).then((t=>{"SUCCESS"==t.data.code&&o.updateSourcing(t.data.sourcing)})),n[t]=!1};return(t,e)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",zYt,[(0,s._)("p",null,[UYt,(0,s.Uk)(" "+(0,st.zw)((0,xe.SU)(r).params.id),1)]),(0,s._)("p",null,[qYt,(0,s.Uk)(" "+(0,st.zw)((0,xe.SU)(ke())((0,xe.SU)(l).created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",PYt,[(0,s._)("div",null,[(0,s._)("label",LYt,[(0,s.Uk)(" Quotation Status "),n.quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",AYt,[(0,s._)("input",{class:(0,st.C_)([[!1],"tw-bg-gray-50 tw-text-start tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:n.quotation_status,onClick:e[0]||(e[0]=t=>i.quotation_status=!i.quotation_status),type:"button",value:(0,xe.SU)(w).name,readonly:"",required:""},null,8,$Yt),WYt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.quotation_status?((0,s.wg)(),(0,s.iD)("div",EYt,[(0,s._)("div",TYt,[(0,s._)("div",FYt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(bRt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("quotation_status",t),class:(0,st.C_)(["tw-w-full tw-p-2",[t.class]])},(0,st.zw)(t.name),11,VYt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[ae.L,()=>i.quotation_status=!1]]),(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("label",OYt,[(0,s.Uk)(" Sourcing Status "),n.sourcing_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",IYt,[(0,s._)("input",{class:(0,st.C_)([[!1],"tw-bg-gray-50 tw-border tw-text-start tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:n.sourcing_status,onClick:e[1]||(e[1]=t=>i.sourcing_status=!i.sourcing_status),type:"button",value:(0,xe.SU)(d).name,readonly:"",required:""},null,8,jYt),RYt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.sourcing_status?((0,s.wg)(),(0,s.iD)("div",MYt,[(0,s._)("div",NYt,[(0,s._)("div",HYt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,xe.SU)(xRt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("sourcing_status",t),class:(0,st.C_)(["tw-w-full tw-p-2",[t.class]])},(0,st.zw)(t.name),11,YYt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[ae.L,()=>i.sourcing_status=!1]]),(0,s.kq)("",!0)])]),(0,s._)("div",ZYt,[(0,s._)("div",KYt,[(0,s._)("div",BYt,[(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(d).step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(d).step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),QYt]),(0,s._)("div",JYt,[(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(d).step>=2&&"confirmed"==(0,xe.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(d).step>=2&&"confirmed"==(0,xe.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),GYt]),(0,s._)("div",XYt,[(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(d).step>=3&&"confirmed"==(0,xe.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(d).step>=3&&"confirmed"==(0,xe.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),tZt]),(0,s._)("div",eZt,[(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(d).step>=4&&"confirmed"==(0,xe.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(d).step>=4&&"confirmed"==(0,xe.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),rZt]),(0,s._)("div",aZt,[(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(d).step>=5&&"confirmed"==(0,xe.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,st.C_)([[(0,xe.SU)(d).step>=5&&"confirmed"==(0,xe.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),sZt])])])])}}};const oZt=lZt;var iZt=oZt;const nZt={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},wZt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},dZt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Quotation ",-1),cZt={class:"tw-p-5 tw-space-y-4"},uZt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),pZt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),mZt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),gZt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),hZt=[pZt,mZt,gZt],fZt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bZt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),xZt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},yZt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Unit Price",-1),vZt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_Zt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Additional Fees",-1),kZt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},CZt=(0,s._)("div",{class:"tw-border-b tw-border-solid tw-border-neutral-300 tw-my-2"},null,-1),DZt={class:"tw-flex tw-items-center tw-justify-between"},SZt=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Total",-1),zZt={class:"tw-text-lg tw-font-bold"},UZt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},qZt=["disabled"],PZt=(0,s._)("span",null,"Send quotation",-1);var LZt={__name:"SourcingRequestPricingEdit",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=(0,s.f3)("sourcing"),o=(0,xe.iH)(!1),i=(0,xe.qj)({sourcing:{},errors:{}}),n=(0,s.Fl)((()=>(i.sourcing.estimated_quantity??0)*(i.sourcing.cost_per_unit??0)+(i.sourcing.additional_fees??0))),w=()=>{e("update:visible",!1)},d=async()=>{o.value=!0;const t="pending"==i.sourcing.quotation_status?"quoting":i.sourcing.quotation_status;await fRt.update(i.sourcing.id,{...i.sourcing,total_cost:n.value,quotation_status:t}).then((t=>{"SUCCESS"==t.data.code&&(l.updateSourcing(t.data.sourcing),yC("Quotation sent"),w())}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)i.errors[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return(0,s.YP)((()=>r.visible),(()=>{i.sourcing=ko(r.sourcing)})),(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(l,{visible:r.visible,onCancel:w},{default:(0,s.w5)((()=>[(0,s._)("div",nZt,[(0,s._)("div",wZt,[dZt,(0,s._)("div",cZt,[(0,s._)("div",null,[uZt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.sourcing.shipping_method=t),onInput:e[1]||(e[1]=t=>i.errors.shipping_method=null),class:(0,st.C_)([[i.errors.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},hZt,34),[[a.bM,i.sourcing.shipping_method,void 0,{number:!0}]]),i.errors.shipping_method?((0,s.wg)(),(0,s.iD)("label",fZt,(0,st.zw)(i.errors.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[bZt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sourcing.estimated_quantity=t),onInput:e[3]||(e[3]=t=>i.errors.estimated_quantity=null),type:"number",min:"0",max:"10000",class:(0,st.C_)([[i.errors.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter the quantity",required:""},null,34),[[a.nr,i.sourcing.estimated_quantity,void 0,{number:!0}]]),i.errors.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",xZt,(0,st.zw)(i.errors.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[yZt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.sourcing.cost_per_unit=t),onInput:e[5]||(e[5]=t=>i.errors.cost_per_unit=null),type:"number",class:(0,st.C_)([[i.errors.cost_per_unit&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a unit price for the quotation",required:""},null,34),[[a.nr,i.sourcing.cost_per_unit,void 0,{number:!0}]]),i.errors.cost_per_unit?((0,s.wg)(),(0,s.iD)("label",vZt,(0,st.zw)(i.errors.cost_per_unit),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[_Zt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.sourcing.additional_fees=t),onInput:e[7]||(e[7]=t=>i.errors.additional_fees=null),type:"number",class:(0,st.C_)([[i.errors.additional_fees&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a additional fees for the sourcing",required:""},null,34),[[a.nr,i.sourcing.additional_fees,void 0,{number:!0}]]),i.errors.additional_fees?((0,s.wg)(),(0,s.iD)("label",kZt,(0,st.zw)(i.errors.additional_fees),1)):(0,s.kq)("",!0)]),CZt,(0,s._)("div",DZt,[SZt,(0,s._)("span",zZt,(0,st.zw)((0,xe.SU)(n).toFixed(2))+" "+(0,st.zw)((0,xe.SU)(c)),1)])]),(0,s._)("div",UZt,[(0,s._)("button",{onClick:w,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),PZt],8,qZt)])])])])),_:1},8,["visible"])}}};const AZt=LZt;var $Zt=AZt;const WZt={class:"tw-flex tw-items-center tw-justify-between tw-p-2 tw-border-b tw-border-solid tw-border-gray-200"},EZt=(0,s._)("span",null,"Paid",-1),TZt=["disabled"],FZt={class:"tw-p-5"},VZt={class:"tw-space-y-4"},OZt={class:"tw-flex tw-items-center tw-justify-between"},IZt=(0,s._)("span",null,"Destination Country:",-1),jZt={class:"tw-font-black tw-text-neutral-800 tw-capitalize"},RZt={class:"tw-flex tw-items-center tw-justify-between"},MZt=(0,s._)("span",null,"Shipping Method:",-1),NZt={key:0,class:"tw-font-black tw-text-neutral-800"},HZt={key:1,class:"tw-font-black tw-text-neutral-800"},YZt={class:"tw-flex tw-items-center tw-justify-between"},ZZt=(0,s._)("span",null,"Quantity:",-1),KZt={class:"tw-font-black tw-text-neutral-800"},BZt={class:"tw-flex tw-items-center tw-justify-between"},QZt=(0,s._)("span",null,"Unit Price:",-1),JZt={class:"tw-font-black tw-text-neutral-800"},GZt={class:"tw-flex tw-items-center tw-justify-between tw-"},XZt=(0,s._)("span",null,"Additional Fees:",-1),tKt={class:"tw-font-black tw-text-neutral-800"},eKt=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),rKt={class:"tw-flex tw-items-center tw-justify-between"},aKt=(0,s._)("span",null,"Total:",-1),sKt={class:"tw-font-black tw-text-neutral-800"},lKt={class:"tw-space-y-2 tw-px-5 tw-pb-5"},oKt=(0,s._)("span",null,"Edit",-1);var iKt={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=t,r=(0,xe.Vh)(e,"sourcing"),a=(0,s.f3)("sourcing"),l=(0,xe.iH)(!1),o=(0,xe.iH)(!1),i=(0,xe.iH)(!1);l.value=1==e.sourcing.is_paid;const n=async()=>{i.value=!0,l.value=!l.value;const t=(new Date).toISOString().slice(0,19).replace("T"," ");await fRt.update(r.value.id,{...e.sourcing,is_paid:l.value?1:0,paid_at:l.value?t:null}).then((t=>{"SUCCESS"==t.data.code&&(a.updateSourcing(t.data.sourcing),l.value=t.data.sourcing.is_paid)}),(t=>{console.log(t),l.value=1==e.sourcing.is_paid})),i.value=!1};return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",WZt,[EZt,(0,s._)("button",{disabled:i.value,onClick:n,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,st.C_)([[l.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[(0,s.Wm)(a,{class:(0,st.C_)([[!l.value&&!i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-yellow-500"]),icon:"mdi:clock-time-two-outline"},null,8,["class"]),(0,s.Wm)(a,{class:(0,st.C_)([[l.value&&!i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-emerald-500"]),icon:"mingcute:check-2-fill"},null,8,["class"]),(0,s.Wm)(a,{class:(0,st.C_)([[i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-orange-500"]),icon:"eos-icons:three-dots-loading"},null,8,["class"])],2)],8,TZt)]),(0,s._)("div",FZt,[(0,s._)("ul",VZt,[(0,s._)("li",OZt,[IZt,(0,s._)("span",jZt,(0,st.zw)((0,xe.SU)(r).destination_country),1)]),(0,s._)("li",RZt,[MZt,"air-freight"==(0,xe.SU)(r).shipping_method?((0,s.wg)(),(0,s.iD)("span",NZt,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==(0,xe.SU)(r).shipping_method?((0,s.wg)(),(0,s.iD)("span",HZt,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",YZt,[ZZt,(0,s._)("span",KZt,(0,st.zw)((0,xe.SU)(r).estimated_quantity),1)]),(0,s._)("li",BZt,[QZt,(0,s._)("span",JZt,(0,st.zw)((0,xe.SU)(r).cost_per_unit)+" "+(0,st.zw)((0,xe.SU)(c)),1)]),(0,s._)("li",GZt,[XZt,(0,s._)("span",tKt,(0,st.zw)((0,xe.SU)(r).additional_fees)+" "+(0,st.zw)((0,xe.SU)(c)),1)]),eKt,(0,s._)("li",rKt,[aKt,(0,s._)("span",sKt,(0,st.zw)((0,xe.SU)(r).total_cost)+" "+(0,st.zw)((0,xe.SU)(c)),1)])])]),(0,s._)("div",lKt,[(0,s._)("button",{disabled:!1,onClick:e[0]||(e[0]=t=>o.value=!0),class:"tw-py-2 tw-px-7 tw-gap-2 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),(0,s.Wm)(a,{icon:"clarity:edit-solid",class:"tw-text-lg tw-text-white"}),oKt]),(0,s.kq)("",!0)]),(0,s.Wm)((0,xe.SU)($Zt),{sourcing:(0,xe.SU)(r),visible:o.value,"onUpdate:visible":e[1]||(e[1]=t=>o.value=t)},null,8,["sourcing","visible"])])}}};const nKt=iKt;var wKt=nKt;const dKt={class:"tw-p-5"},cKt={class:"tw-grid tw-grid-cols-12 tw-gap-5"},uKt={class:"md:tw-col-span-6 tw-col-span-12"},pKt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),mKt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gKt={class:"md:tw-col-span-6 tw-col-span-12"},hKt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),fKt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bKt={class:"md:tw-col-span-6 tw-col-span-12"},xKt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),yKt={class:"tw-relative"},vKt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),_Kt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),kKt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),CKt=[vKt,_Kt,kKt],DKt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),SKt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zKt={class:"md:tw-col-span-6 tw-col-span-12"},UKt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),qKt={class:"tw-relative"},PKt=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),LKt=[PKt],AKt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),$Kt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},WKt={class:"tw-col-span-12"},EKt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's note",-1),TKt={class:"tw-col-span-12"},FKt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Admin's note",-1),VKt={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-pt-4 tw-gap-3"},OKt=["disabled"],IKt=(0,s._)("span",null,"Update",-1);var jKt={__name:"SourcingRequestDetails",props:["sourcing"],setup(t){const e=t,r=(0,xe.qj)({}),l=(0,xe.iH)(!1),o=(0,s.f3)("sourcing"),i=(0,xe.qj)({sourcing:{}}),n=async()=>{l.value=!0,await fRt.update(i.sourcing.id,i.sourcing).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),yC("Updated success"))}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)r[e]=t?.response?.data?.errors[e][0]})),l.value=!1};return(0,s.YP)((()=>e.sourcing),(()=>{i.sourcing=ko(e.sourcing)}),{deep:!0}),i.sourcing=ko(e.sourcing),(t,e)=>((0,s.wg)(),(0,s.iD)("div",dKt,[(0,s._)("div",cKt,[(0,s._)("div",uKt,[pKt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.sourcing.product_name=t),onInput:e[1]||(e[1]=t=>r.product_name=null),class:(0,st.C_)([[r.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,i.sourcing.product_name]]),r.product_name?((0,s.wg)(),(0,s.iD)("label",mKt,(0,st.zw)(r.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",gKt,[hKt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sourcing.product_url=t),onInput:e[3]||(e[3]=t=>r.product_url=null),class:(0,st.C_)([[r.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.product_url]]),r.product_url?((0,s.wg)(),(0,s.iD)("label",fKt,(0,st.zw)(r.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",bKt,[xKt,(0,s._)("div",yKt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.sourcing.shipping_method=t),onChange:e[5]||(e[5]=t=>r.shipping_method=null),class:(0,st.C_)([[r.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},CKt,34),[[a.bM,i.sourcing.shipping_method]]),DKt]),r.shipping_method?((0,s.wg)(),(0,s.iD)("label",SKt,(0,st.zw)(r.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",zKt,[UKt,(0,s._)("div",qKt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.sourcing.destination_country=t),onChange:e[7]||(e[7]=t=>r.destination_country=null),class:(0,st.C_)([[r.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},LKt,34),[[a.bM,i.sourcing.destination_country]]),AKt]),r.destination_country?((0,s.wg)(),(0,s.iD)("label",$Kt,(0,st.zw)(r.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",WKt,[EKt,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":e[8]||(e[8]=t=>i.sourcing.note_by_seller=t),rows:"2",class:"tw-bg-gray-50 tw-borderx tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"There is no note"},null,512),[[a.nr,i.sourcing.note_by_seller]])]),(0,s._)("div",TKt,[FKt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[9]||(e[9]=t=>i.sourcing.note_by_admin=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Leave a note for seller"},null,512),[[a.nr,i.sourcing.note_by_admin]])]),(0,s._)("div",VKt,[(0,s._)("button",{disabled:l.value,onClick:n,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),IKt],8,OKt)])])]))}};const RKt=jKt;var MKt=RKt;const NKt={class:"tw-relative"},HKt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},YKt={class:"tw-px-3"},ZKt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},KKt={class:"tw-flex tw-items-center tw-gap-x-5"},BKt={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},QKt={class:"tw-flex tw-items-center tw-gap-2"},JKt={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},GKt={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},XKt={class:"tw-space-y-4 lg:tw-col-span-8"},tBt={class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},eBt={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},rBt={class:"tw-font-bold"},aBt={key:0,class:"tw-w-full tw-overflow-hidden"},sBt={class:"tw-p-2 tw-border tw-border-t-0 tw-border-blue-200 tw-rounded-b-md"},lBt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},oBt={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},iBt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},nBt={class:"lg:tw-col-span-4"},wBt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var dBt={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=t,r=(0,h.yj)(),a=(0,xe.Vh)(e,"sourcing"),l=((0,xe.Vh)(e,"loading"),(0,s.Fl)((()=>bRt.find((t=>t.value==a.value.quotation_status))))),o=(0,s.Fl)((()=>xRt.find((t=>t.value==a.value.sourcing_status))));return(t,e)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",NKt,[(0,s._)("div",HKt,[(0,s._)("section",YKt,[(0,s._)("div",ZKt,[(0,s._)("div",null,[(0,s._)("div",KKt,[(0,s._)("h2",BKt," Quotation: #"+(0,st.zw)((0,xe.SU)(r).params.id),1),(0,s._)("div",QKt,[(0,s._)("div",{class:(0,st.C_)([(0,xe.SU)(l).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,st.zw)((0,xe.SU)(l).name),3),(0,s._)("div",{class:(0,st.C_)([(0,xe.SU)(o).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,st.zw)((0,xe.SU)(o).name),3)])]),(0,s._)("p",JKt,(0,st.zw)((0,xe.SU)(ke())("2023-09-08T17:45:06.000000Z").format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",GKt,[(0,s._)("div",XKt,[(0,s._)("div",tBt,[(0,s._)("div",eBt,[(0,s.Wm)(i,{icon:"solar:user-bold",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",null,[(0,s._)("span",rBt,(0,st.zw)((0,xe.SU)(a).seller.firstname)+" "+(0,st.zw)((0,xe.SU)(a).seller.lastname),1)])]),(0,xe.SU)(a).note_by_seller?((0,s.wg)(),(0,s.iD)("div",aBt,[(0,s._)("div",sBt,[(0,s._)("h1",null,(0,st.zw)((0,xe.SU)(a).note_by_seller),1)])])):(0,s.kq)("",!0)]),(0,s._)("div",lBt,[(0,s.Wm)((0,xe.SU)(iZt),{sourcing:(0,xe.SU)(a)},null,8,["sourcing"])]),(0,s._)("div",oBt,[(0,s.Wm)((0,xe.SU)(oYt),{sourcing:(0,xe.SU)(a)},null,8,["sourcing"])]),(0,s._)("div",iBt,[(0,s.Wm)((0,xe.SU)(MKt),{sourcing:(0,xe.SU)(a)},null,8,["sourcing"])])]),(0,s._)("div",nBt,[(0,s._)("div",wBt,[(0,s.Wm)((0,xe.SU)(wKt),{sourcing:(0,xe.SU)(a)},null,8,["sourcing"])])])])])}}};const cBt=dBt;var uBt=cBt;const pBt={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"};var mBt={__name:"ShowSourcingView",setup(t){const e=(0,i.oR)(),r=(0,h.yj)(),a=(0,h.tv)(),l=r.params.id,o=(0,xe.iH)(!0),n=(0,xe.iH)(null),w=e.getters["user/user"],d=async()=>{o.value=!0,await fRt.get(l).then((t=>{"SUCCESS"==t.data.code&&(n.value=t.data.sourcing),"NOT_FOUND"==t.data.code&&a.push({name:"404"})})),o.value=!1},c=t=>{n.value=t};return(0,s.JJ)("sourcing",{updateSourcing:c}),d(),(t,e)=>{const r=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.value?((0,s.wg)(),(0,s.iD)("div",pBt,[(0,s.Wm)(r)])):(0,s.kq)("",!0),o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["seller"==(0,xe.SU)(w).role?((0,s.wg)(),(0,s.j4)((0,xe.SU)(SYt),{key:0,sourcing:n.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0),"admin"==(0,xe.SU)(w).role?((0,s.wg)(),(0,s.j4)((0,xe.SU)(uBt),{key:1,sourcing:n.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0)],64))],64)}}};const gBt=mBt;var hBt=gBt;const fBt={class:"tw-p-5 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},bBt={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-12 tw-gap-5 tw-mt-5"},xBt={class:"tw-hidden tw-col-span-4 tw-py-16 md:tw-flex tw-items-center tw-justify-center"},yBt=["src"],vBt={class:"tw-col-span-8"},_Bt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-2xl tw-font-semibold"},"We Source For You"),(0,s._)("p",{class:"tw-text-lg tw-mt-2"},"Let our professional sourcing team take care all of your sourcing.")],-1),kBt={class:"tw-grid tw-grid-cols-12 tw-mt-10 tw-gap-5"},CBt={class:"md:tw-col-span-6 tw-col-span-12"},DBt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),SBt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zBt={class:"md:tw-col-span-6 tw-col-span-12"},UBt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),qBt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},PBt={class:"md:tw-col-span-6 tw-col-span-12"},LBt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),ABt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$Bt={class:"md:tw-col-span-6 tw-col-span-12"},WBt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),EBt={class:"tw-relative"},TBt=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),FBt=[TBt],VBt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),OBt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},IBt={class:"tw-col-span-12"},jBt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),RBt={class:"md:tw-col-span-6 tw-col-span-12"},MBt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),NBt={class:"tw-relative"},HBt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),YBt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),ZBt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),KBt=[HBt,YBt,ZBt],BBt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),QBt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},JBt={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-py-4 tw-gap-3"},GBt=(0,s._)("button",{class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",-1),XBt=["disabled"],tQt=(0,s._)("span",null,"Request the product",-1);var eQt={__name:"CreateSourcingView",setup(t){const e=(0,xe.qj)({}),r=(0,xe.iH)(!1),l=(0,xe.qj)({destination_country:"lebanon",shipping_method:"not-selected"}),o=async()=>{r.value=!0,await fRt.create(l).then((t=>{"SUCCESS"==t.data.code&&(yC("Your request has been added"),Object.keys(l).forEach((t=>l[t]=null)),l.destination_country="lebanon",l.shipping_method="not-selected")}),(t=>{if(422==t.response.status)for(let r in t.response.data.errors)e[r]=t.response.data.errors[r][0]})),r.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",fBt,[(0,s._)("div",bBt,[(0,s._)("div",xBt,[(0,s._)("img",{src:t.$frontend("images/delivering.svg"),class:"tw-w-full"},null,8,yBt)]),(0,s._)("div",vBt,[_Bt,(0,s._)("div",kBt,[(0,s._)("div",CBt,[DBt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.product_name=t),onInput:i[1]||(i[1]=t=>e.product_name=null),class:(0,st.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,l.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",SBt,(0,st.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",zBt,[UBt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[2]||(i[2]=t=>l.product_url=t),onInput:i[3]||(i[3]=t=>e.product_url=null),class:(0,st.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.product_url]]),e.product_url?((0,s.wg)(),(0,s.iD)("label",qBt,(0,st.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",PBt,[LBt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[4]||(i[4]=t=>l.estimated_quantity=t),onInput:i[5]||(i[5]=t=>e.estimated_quantity=null),class:(0,st.C_)([[e.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"number",placeholder:"Estimated quantity",required:""},null,34),[[a.nr,l.estimated_quantity]]),e.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",ABt,(0,st.zw)(e.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",$Bt,[WBt,(0,s._)("div",EBt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[6]||(i[6]=t=>l.destination_country=t),onChange:i[7]||(i[7]=t=>e.destination_country=null),class:(0,st.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},FBt,34),[[a.bM,l.destination_country]]),VBt]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",OBt,(0,st.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",IBt,[jBt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":i[8]||(i[8]=t=>l.note_by_seller=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Special request..."},null,512),[[a.nr,l.note_by_seller]])]),(0,s._)("div",RBt,[MBt,(0,s._)("div",NBt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[9]||(i[9]=t=>l.shipping_method=t),onChange:i[10]||(i[10]=t=>e.shipping_method=null),class:(0,st.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},KBt,34),[[a.bM,l.shipping_method]]),BBt]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",QBt,(0,st.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",JBt,[GBt,(0,s._)("button",{disabled:r.value,onClick:o,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),tQt],8,XBt)])])])])]))}};const rQt=eQt;var aQt=rQt,sQt={name:"sourcings",path:"/sourcings",component:Wa,meta:{module:"sourcing"},children:[{name:"sourcings.index",path:"",component:NNt,meta:{module:"sourcing",title:"Sourcing",role:["admin","seller"]}},{name:"sourcings.admin",path:"admin",redirect:{name:"sourcings.index"}},{name:"sourcings.seller",path:"seller",redirect:{name:"sourcings.index"}},{name:"sourcings.new",path:"new",component:aQt,meta:{module:"sourcing",title:"New Sourcing",role:"seller"}},{name:"sourcings.show",path:":id",component:hBt,meta:{module:"sourcing",title:"Sourcing",role:["seller","admin"]}}]};class lQt{async create(t){return await $.getCookie(),L.post("api/settings/create",t)}}var oQt=new lQt;const iQt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},nQt={class:"tw-px-3"},wQt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Settings "),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Cron jobs for invoices. ")])],-1),dQt={class:"tw-mt-5"},cQt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},uQt={class:"tw-col-span-2 md:tw-col-span-1"},pQt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Interval Time",-1),mQt={class:"tw-relative"},gQt=(0,s.uE)('<option value="" disabled>Select an Interval</option><option value="daily">Daily</option><option value="weekly">Weekly</option><option value="monthly">Monthly</option><option value="yearly">Yearly</option>',5),hQt=[gQt],fQt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),bQt={class:"tw-col-span-2 md:tw-col-span-1"},xQt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Cancellation Date Begins",-1),yQt={class:"tw-flex tw-justify-end tw-items-center tw-p-4"},vQt=["disabled"],_Qt=(0,s._)("span",null,"Save",-1);var kQt={__name:"CronJobs",setup(t){const e=(0,xe.iH)(!1),r=(0,xe.iH)(null),l=(0,xe.iH)(""),o=async()=>{e.value=!0,await oQt.create([{name:"e",value:r.value},{name:"factorisation_interval_date",value:l.value}]).then((t=>{console.log(t)}),(t=>{console.log(t)})),e.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",iQt,[(0,s._)("section",nQt,[wQt,(0,s._)("div",dQt,[(0,s._)("div",cQt,[(0,s._)("div",uQt,[pQt,(0,s._)("div",mQt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.value=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},hQt,512),[[a.bM,l.value]]),fQt])]),(0,s._)("div",bQt,[xQt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[1]||(i[1]=t=>r.value=t),type:"datetime-local",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"123-45-678",required:""},null,512),[[a.nr,r.value]])])])]),(0,s._)("div",yQt,[(0,s._)("button",{onClick:o,disabled:e.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(it.t,{size:"small",class:(0,st.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[e.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),_Qt],8,vQt)])])]))}};const CQt=kQt;var DQt=CQt;const SQt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Settings ")],-1),zQt={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"},UQt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},qQt={class:"tw-w-full"},PQt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),LQt={class:"tw-w-full"},AQt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),$Qt={class:"tw-w-full"},WQt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),EQt={class:"tw-w-full"},TQt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),FQt={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},VQt=(0,s._)("span",null,"Update Password: ",-1),OQt={class:"tw-w-full"},IQt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),jQt={class:"tw-w-full"},RQt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),MQt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},NQt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),HQt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function YQt(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[SQt,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",zQt,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",UQt,[(0,s._)("div",null,[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fa.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qQt,[PQt,(0,s.Wm)(nt.hw,{"error-messages":l.formStatus.firstname.message,modelValue:l.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>l.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LQt,[AQt,(0,s.Wm)(nt.hw,{"error-messages":l.formStatus.lastname.message,modelValue:l.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$Qt,[WQt,(0,s.Wm)(nt.hw,{"error-messages":l.formStatus.email.message,modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.email=t),readonly:"",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",EQt,[TQt,(0,s.Wm)(nt.hw,{"error-messages":l.formStatus.phone.message,modelValue:l.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>l.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Va.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",FQt,[VQt,(0,s.Wm)(Rg.G,{modelValue:l.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>l.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),l.updatePassword?((0,s.wg)(),(0,s.j4)(Va.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",OQt,[IQt,(0,s.Wm)(nt.hw,{"error-messages":l.formStatus.password.message,modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),l.updatePassword?((0,s.wg)(),(0,s.j4)(Va.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",jQt,[RQt,(0,s.Wm)(nt.hw,{"error-messages":l.formStatus.confirmPassword.message,modelValue:l.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>l.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",MQt,[(0,s.Wm)(lt.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[NQt])),_:1}),t.$can("update_account")?((0,s.wg)(),(0,s.j4)(lt.T,{key:0,onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[HQt])),_:1},8,["onClick","loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var ZQt={data(){return{serverUrl:w,isFetched:!1,isUserFetched:!1,isLoading:!1,updatePassword:!1,formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:""}},computed:{isFormReady(){return this.isFetched},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,password:this.password}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,rt.updateProfile(this.user,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["firstname"]=Pt(this.firstname),this.formStatus["lastname"]=Pt(this.lastname),this.formStatus["phone"]=Pt(this.phone),this.formStatus["password"]=qt(this.password),this.formStatus["confirmPassword"]=At(this.password,this.confirmPassword);const t=this.formStatus["firstname"].valid,e=this.formStatus["lastname"].valid,r=this.formStatus["phone"].valid;if(this.updatePassword){const a=this.formStatus["password"].valid,s=this.formStatus["confirmPassword"].valid;return t&&e&&a&&s&&r}return t&&e&&r},async getUser(){return rt.profile().then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.isUserFetched=!0}})).catch(this.$handleApiError)}},async mounted(){Promise.allSettled([this.getUser()]).then((()=>this.isFetched=!0),(t=>this.$handleApiError(t)))}};const KQt=(0,p.Z)(ZQt,[["render",YQt]]);var BQt=KQt,QQt={path:"/settings",name:"settings",component:Wa,meta:{module:"settings"},children:[{name:"settings/cronJobs",path:"/settings/cronJobs",component:DQt,meta:{module:"settings",subModule:"settings/cronJobs",title:"Cron Jobs",role:"admin"}},{path:"account",name:"settings.account",component:BQt,meta:{module:"settings",title:"Settings",role:"admin"}}]};const JQt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Page not found")])],-1),GQt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-flex tw-items-center tw-justify-center tw-rounded-md tw-min-h-[500px]"},XQt={class:"tw-flex tw-items-center tw-flex-col"},tJt=(0,s._)("div",{class:"md:tw-text-6xl tw-text-4xl tw-font-black text-primary-color"},"404",-1),eJt={class:"tw-w-fit tw-flex tw-items-center md:tw-text-2xl tw-text-xl mt-md-5 mt-3 tw-gap-2"},rJt=(0,s._)("div",{class:"tw-max-w-[400px] tw-text-center md:tw-text-lg tw-text-sm mt-5"}," The page you requested was not found or you don't have the permission to access it. ",-1);function aJt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[JQt,(0,s._)("div",GQt,[(0,s._)("div",XQt,[tJt,(0,s._)("div",eJt,[(0,s.Wm)(it.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-circle")])),_:1}),(0,s.Uk)(" Oops! Page not found! ")]),rJt])])])}var sJt={};const lJt=(0,p.Z)(sJt,[["render",aJt]]);var oJt=lJt;const iJt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"};function nJt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",iJt,[(0,s._)("div",null,[(0,s.Wm)(lt.T,{onClick:o.sendRequest,loading:l.isLoading,variant:"flat",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("Send Request")])),_:1},8,["onClick","loading"])])])])}const wJt="api/orders/count",dJt="get";var cJt={name:"Orders from Youcan",sheet_id:"QSDfFsqdDSQDfrsqFDSRHTRzer",sheet_name:"Youcan-Orders",auto_fetch:!0},uJt={data(){return{isLoading:!1,test:cJt}},methods:{async sendRequest(){switch(this.isLoading=!0,await $.getCookie(),dJt){case"get":L.get(wJt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"post":L.post(wJt,cJt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"delete":L["delete"](wJt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;default:break}}}};const pJt=(0,p.Z)(uJt,[["render",nJt]]);var mJt=pJt;const gJt=[Yt,czt,gRt,HU,e$,G6,zst,Hot,xdt,Vct,tpt,cyt,__t,iEt,Z$t,sQt,Sn,QQt,{name:"default",path:"/test",component:Wa,children:[{name:"test",path:"",component:mJt,meta:{title:"Test abro m3a rasek",module:"test",gate:"all"}}]},{name:"not-found",path:"/404",component:Wa,meta:{title:"Not Found"},children:[{name:"404",path:"",component:oJt}]},{name:"catch-all",path:"/:pathMatch(.*)",beforeEnter:(t,e,r)=>r({name:"404"}),meta:{title:"Not Found"}}],hJt=(0,h.p7)({history:(0,h.PO)("/"),routes:gJt});hJt.beforeEach(((t,e)=>at(t,e,hJt)));var fJt=hJt,bJt=(r(9773),r(8957));const xJt={colors:{"primary-color":"#FF9F43","secondary-color":"#1B2850","primary-indigo":"#1B2850","primary-orange":"#FF9F43","primary-blue":"#00CFE8","primary-green":"#28C76F"}};var yJt=(0,bJt.Rd)({theme:{defaultTheme:"customTheme",themes:{customTheme:xJt}}});const vJt={install(t){t.config.globalProperties.$can=function(t){const e=this.$store.getters["user/permissions"];return e.includes(t)}}};var _Jt=vJt;const kJt={install(t){t.config.globalProperties.$alert=function(t){this.$store.dispatch("alert/toggleAlert",t)}}};var CJt=kJt,DJt={install(t){t.config.globalProperties.$frontend=t=>n+t,t.config.globalProperties.$backend=t=>w+t;const e={get:(e,r)=>t.config.globalProperties.$store.getters["user/user"][r]};t.config.globalProperties.$user=new Proxy(t.config.globalProperties.$store.getters["user/user"],e)}};const SJt={install(t){t.config.globalProperties.$handleApiError=function(e){const r=e?.response?.data?.code;let a="error",s="Something wrong happened. Try again",l=!0;const o=["VALIDATION_ERROR","NOT_ACTIVE_ERROR","INVALID_CREDENTIALS","PERMISSION_DENIED"];switch(o.includes(r)&&(l=!1),console.log(e),"ERR_NETWORK"==e.code&&(s="Network error. Check your connection"),r){case"NOT_ALLOWED":s="Your are not allowed to this resources";break;case"ERROR":s=e?.response?.data.message;break;case"NOT_AUTHENTICATED":s="Your session expired",setTimeout((()=>{t.config.globalProperties.$store.dispatch("user/logout"),t.config.globalProperties.$router.push("/login")}),2e3);break;case"NOT_FOUND":l=!1,t.config.globalProperties.$router.push({name:"404"});break;case"RELOAD":l=!1,console.log("reload"),location.reload(!0);break;case"HIDE_APP":l=!1,document.getElementById("app").innerHTML="";break;default:break}return l&&t.config.globalProperties.$alert({type:a,title:s}),e}}};var zJt=SJt,UJt=r(7025);const qJt=t=>((0,s.dD)("data-v-ff4afcd0"),t=t(),(0,s.Cn)(),t),PJt={class:"tw-min-h-[500px] tw-flex tw-items-center tw-justify-center tw-bg-white tw-rounded-md tw-border"},LJt=qJt((()=>(0,s._)("div",{class:"tw-w-[40px] tw-h-[40px] tw-animate-spin loading tw-border-4 tw-border-x-transparent tw-border-t-transparent tw-rounded-full"},null,-1))),AJt=[LJt];function $Jt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",PJt,AJt)}var WJt={};const EJt=(0,p.Z)(WJt,[["render",$Jt],["__scopeId","data-v-ff4afcd0"]]);var TJt=EJt;const FJt={class:"tw-flex tw-justify-center tw-items-center"},VJt=(0,s._)("div",{class:"tw-relative tw-w-8 tw-h-8 tw-animate-spin tw-rounded-full tw-bg-gradient-to-r tw-from-purple-400 tw-via-blue-500 tw-to-red-400"},[(0,s._)("div",{class:"tw-absolute tw-top-1/2 tw-left-1/2 tw-transform tw--translate-x-1/2 tw--translate-y-1/2 tw-w-7 tw-h-7 tw-bg-white tw-rounded-full tw-border-2 tw-border-white"})],-1),OJt=[VJt];function IJt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",FJt,OJt)}var jJt={};const RJt=(0,p.Z)(jJt,[["render",IJt]]);var MJt=RJt;const NJt={key:0},HJt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"},YJt={name:"body",class:"tw-z-[50999] tw-bg-white md:tw-min-w-[300px] md:tw-max-w-[800px] tw-flex tw-flex-col md:tw-min-h-[170px] tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5"},ZJt=["innerHTML"],KJt={key:1,class:"tw-text-lg tw-text-gray-700"},BJt={class:"tw-flex tw-gap-3 tw-justify-end mt-5"};function QJt(t,e,r,a,l,o){return r.visible?((0,s.wg)(),(0,s.iD)("div",NJt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",HJt,[(0,s._)("div",YJt,[(0,s._)("div",{class:(0,st.C_)(["tw-font-medium tw-text-lg mb-5 tw-text-start",o.currentType.class])},[(0,s.Wm)(it.t,{size:"small",class:"mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,st.zw)(o.currentType.icon),1)])),_:1}),(0,s._)("span",null,(0,st.zw)(r.title),1)],2),r.body?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tw-text-center tw-text-lg tw-text-gray-700",innerHTML:r.body},null,8,ZJt)):((0,s.wg)(),(0,s.iD)("div",KJt,[(0,s.WI)(t.$slots,"default")])),(0,s.Wm)(ar.C),(0,s._)("div",BJt,[(0,s.Wm)(lt.T,{variant:"flat",color:"grey",onClick:e[0]||(e[0]=t=>o.resolve(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),r.noConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(lt.T,{key:0,loading:r.loading,variant:"flat",color:r.btnColor?r.btnColor:"red",onClick:e[1]||(e[1]=t=>o.resolve(!0))},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","color"]))])]),(0,s._)("div",{onClick:e[2]||(e[2]=t=>o.resolve(!1)),class:(0,st.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var JJt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("resolved",t)}},computed:{currentType(){return this.types[this.type]}}};const GJt=(0,p.Z)(JJt,[["render",QJt]]);var XJt=GJt;const tGt={key:0},eGt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function rGt(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",tGt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:".my-application"},[(0,s._)("div",null,[(0,s._)("div",eGt,[(0,s._)("div",{name:"body",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] tw-overflow-y-auto tw-max-h-screen tw-flex tw-flex-col md:tw-min-h-[170px]"},[(0,s.WI)(t.$slots,"default")]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,st.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var aGt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("cancel",t)}},computed:{currentType(){return this.types[this.type]}}};const sGt=(0,p.Z)(aGt,[["render",rGt]]);var lGt=sGt,oGt=r(2340),iGt=r(5781),nGt=r.n(iGt);const wGt={key:0},dGt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function cGt(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",wGt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",dGt,[(0,s.Wm)(Tt.Z5,null,{default:(0,s.w5)((()=>[o.showContent?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] !tw-overflow-auto !tw-max-h-screen"},[(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)])),_:3}),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,st.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-backdrop-blur-sm tw-bg-black/20 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var uGt={props:{visible:{required:!0,default:!1},closeable:{required:!1,default:!0}},data(){return{showContent:!1}},watch:{visible(t){t?setTimeout((()=>{this.showContent=t}),0):this.showContent=t}},methods:{resolve(t){this.closeable&&this.$emit("cancel",t)}},computed:{},mounted(){this.showContent=this.visible},unmounted(){}};const pGt=(0,p.Z)(uGt,[["render",cGt]]);var mGt=pGt,gGt=r(6088),hGt=(0,a.ri)(g).use(fJt).use(tt).use(yJt).use(_Jt).use(CJt).use(DJt).use(zJt).use(UJt.Z).component("LoadingAnimation",TJt).component("Loading",MJt).component("Popup",XJt).component("PopupFull",lGt).component("VueDatePicker",oGt.Z).component("downloadCsv",nGt()).component("popupNew",mGt).component("icon",gGt.JO).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var l=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,l){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],l=t[d][2];for(var i=!0,n=0;n<a.length;n++)(!1&l||o>=l)&&Object.keys(r.O).every((function(t){return r.O[t](a[n])}))?a.splice(n--,1):(i=!1,l<o&&(o=l));if(i){t.splice(d--,1);var w=s();void 0!==w&&(e=w)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[a,s,l]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,l,o=a[0],i=a[1],n=a[2],w=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(n)var d=n(r)}for(e&&e(a);w<o.length;w++)l=o[w],r.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return r.O(d)},a=self["webpackChunkproduction"]=self["webpackChunkproduction"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(5486)}));a=r.O(a)})();
//# sourceMappingURL=app.cbc25d22.js.map