(function(){var t={6700:function(t,e,r){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function s(t){var e=l(t);return r(e)}function l(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=l,t.exports=s,s.id=6700},5682:function(t,e,r){"use strict";r.d(e,{Z:function(){return hue}});var a=r(9242),s=r(3396),l=r(7718);function o(t,e,r,a,o,i){const w=(0,s.up)("router-view"),n=(0,s.up)("AppProvider");return(0,s.wg)(),(0,s.j4)(l.q,{class:"my-application"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{i18n:t.locales},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1},8,["i18n"])])),_:1})}var i=r(7139);const w="https://codsquad.net/",n="https://api.codsquad.net/",d="1.0.1",c="$",u="cods";var p=r(9641),g={name:"App",data:()=>({theme:"light",version:d,locales:p}),methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions"]),checkVersion(){const t=localStorage.getItem("app_version");t!=this.version&&(localStorage.setItem("app_version",this.version),location.reload(!0))}},mounted(){this.checkVersion(),document.documentElement.style.setProperty("--p-color-scrollbar-thumb-bg-hover","none"),document.documentElement.style.scrollbarColor="auto",document.documentElement.style.scrollbarWidth="auto"}},m=r(89);const h=(0,m.Z)(g,[["render",o],["__scopeId","data-v-6dc71e7d"]]);var f=h,b=r(2483);r(7658);let v={roles:localStorage.getItem("roles")?JSON.parse(localStorage.getItem("roles")):[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):[],isLoggedIn:"true"==localStorage.getItem("isLoggedIn"),permissions:localStorage.getItem("permissions")?JSON.parse(localStorage.getItem("permissions")):[],users:[],agents:[],deliveries:[],fetched:!1,fetchedRoles:!1};var x={name:"user",namespaced:!0,state:v,getters:{fetched:t=>t.fetched,fetchedRoles:t=>t.fetchedRoles,isLoggedIn:t=>t.isLoggedIn,permissions:t=>t.permissions,user:t=>t.user,users:t=>t.users,roles:t=>t.roles,agents:t=>t.agents,deliveries:t=>t.deliveries},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FETCHED_ROLES:(t,e)=>{t.fetchedRoles=e},SET_IS_LOGGED_IN:(t,e)=>{localStorage.setItem("isLoggedIn",e),t.isLoggedIn=e},SET_USER:(t,e)=>{localStorage.setItem("user",JSON.stringify(e)),t.user=e},SET_USERS:(t,e)=>{t.users=e},SET_PERMISSIONS:(t,e)=>{localStorage.setItem("permissions",JSON.stringify(e)),t.permissions=e},SET_ROLES:(t,e)=>{localStorage.setItem("roles",JSON.stringify(e)),t.roles=e},SET_DELIVERIES:(t,e)=>{t.deliveries=e},SET_AGENTS:(t,e)=>{t.agents=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFetchedRoles:({commit:t},e)=>{t("SET_FETCHED_ROLES",e)},setUser:({commit:t},e)=>{t("SET_USER",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)},setAgents:({commit:t},e)=>{t("SET_AGENTS",e)},setDeliveries:({commit:t},e)=>{t("SET_DELIVERIES",e)},setIsLoggedIn:({commit:t},e)=>{t("SET_IS_LOGGED_IN",e)},setPermissions:({commit:t},e)=>{t("SET_PERMISSIONS",e)},setRoles:({commit:t},e)=>{t("SET_ROLES",e)},logout:({commit:t})=>{t("SET_USER",{}),t("SET_IS_LOGGED_IN",!1),t("SET_PERMISSIONS",[]),t("SET_ROLES",[])}}},y={name:"alert",namespaced:!0,state:{active:!1,alert:{type:"success",title:"Toast",body:"Hello body"}},getters:{alert:t=>t},mutations:{TOGGLE_TOAST:(t,e)=>{t.alert=e,t.active=!0,setTimeout((()=>{t.active=!1}),4500)}},actions:{toggleAlert:({commit:t},e)=>{t("TOGGLE_TOAST",e)}}};let _={products:[],fetched:!1};var k={name:"product",namespaced:!0,state:_,getters:{products:t=>t.products,fetched:t=>t.fetched},mutations:{SET_PRODUCTS:(t,e)=>{t.products=e},SET_PRODUCT:(t,e)=>{t.products=t.products.map((t=>t.id===e.id?e:t))},ADD_PRODUCT:(t,e)=>{t.products.push(e)},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setProducts:({commit:t},e)=>{t("SET_PRODUCTS",e)},setProduct:({commit:t},e)=>{t("SET_PRODUCT",e)},addProduct:({commit:t},e)=>{t("ADD_PRODUCT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};r(541);let C={fetched:!1,sales:[],count:0};var D={name:"sale",namespaced:!0,state:C,getters:{sales:t=>t.sales,count:t=>t.count,fetched:t=>t.fetched},mutations:{SET_SALES:(t,e)=>{t.sales=e},SET_COUNT:(t,e)=>{t.count=e},SET_FETCHED:(t,e)=>{t.fetched=e},UPDATE_SALE:(t,e)=>{t.sales=t.sales.map((t=>t.id===e.id?e.sale:t))},ADD_SALE:(t,e)=>{t.sales.unshift(e)},ADD_SALES:(t,e)=>{t.sales=[...e,...t.sales]},UPDATE_CONFIRMATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,console.log("sale updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.affectation=e.affectation,null!=e.affectation?t.delivery="dispatch":t.delivery=null,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,console.log("order updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))},RESET_SALES:(t,e)=>{t.sales=t.sales.map((t=>(e.includes(t.id)&&(t.agente_id=null,t.upsell=null,t.confirmation=null,t.affectation=null,t.note=null,t.note_d=null,t.delivery=null,t.reported_agente_date=null,t.reported_agente_note=null,t.reported_delivery_date=null,t.reported_delivery_note=null),t)))}},actions:{setSales:({commit:t},e)=>{t("SET_SALES",e)},setCount:({commit:t},e)=>{t("SET_COUNT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},update:({commit:t},e)=>{t("UPDATE_SALE",e)},add:({commit:t},e)=>{t("ADD_SALE",e)},addSales:({commit:t},e)=>{t("ADD_SALES",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)},resetSales:({commit:t},e)=>{t("RESET_SALES",e)}}};let S={orders:[],order:null,all_orders:[],fetched:!1};var z={name:"order",namespaced:!0,state:S,getters:{fetched:t=>t.fetched,orders:t=>t.orders,order:t=>t.order,allOrders:t=>t.all_orders},mutations:{SET_ORDERS:(t,e)=>{t.orders=e},ADD_ORDER:(t,e)=>{t.orders.unshift(e),t.all_orders.unshift(e)},SET_FETCHED:(t,e)=>{t.fetched=e},SET_ALL_ORDERS:(t,e)=>{t.all_orders=e},SET_ORDER:(t,e)=>{t.order=e},UPDATE_ORDER:(t,e)=>{t.orders=t.orders.map((t=>t.id===e.id?e.order:t)),t.all_orders=t.all_orders.map((t=>t.id===e.id?e.order:t))},UPDATE_CONFIRMATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))}},actions:{setOrders:({commit:t},e)=>{t("SET_ORDERS",e)},addOrder:({commit:t},e)=>{t("ADD_ORDER",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setAllOrders:({commit:t},e)=>{t("SET_ALL_ORDERS",e)},setOrder:({commit:t},e)=>{t("SET_ORDER",e)},update:({commit:t},e)=>{t("UPDATE_ORDER",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)}}};let U={fetcehd:!1,inventoryList:[],inventoryState:[],inventoryMovements:[]};var q={name:"inventory",namespaced:!0,state:U,getters:{fetched:t=>t.fetched,inventoryList:t=>t.inventoryList,inventoryState:t=>t.inventoryState,inventoryMovements:t=>t.inventoryMovements},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_INVENTORY_LIST:(t,e)=>{t.inventoryList=e},SET_INVENTORY_STATE:(t,e)=>{t.inventoryState=e},SET_INVENTORY_MOVEMENTS:(t,e)=>{t.inventoryMovements=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setInventoryList:({commit:t},e)=>{t("SET_INVENTORY_LIST",e)},setInventoryState:({commit:t},e)=>{t("SET_INVENTORY_STATE",e)},setInventoryMovements:({commit:t},e)=>{t("SET_INVENTORY_MOVEMENTS",e)}}},P=r(6943);const L=P.Z.create({baseURL:n}),W=P.Z.create({baseURL:n});W.defaults.withCredentials=!0,W.defaults.headers={"Content-Type":"multipart/form-data",Accept:"application/json"},L.defaults.withCredentials=!0,L.defaults.headers={"Content-Type":"application/json",Accept:"application/json"};var A=L,$=r(680),E={getCookie(){let t=$.Z.get("XSRF-TOKEN");return t?new Promise((t=>{t()})):A.get("sanctum/csrf-cookie")}};class T{async statistics(t){return await E.getCookie(),A.post("api/v1/agent/statistics",t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/agent/orders"+t,e)}async counts(){return await E.getCookie(),A.get("api/v1/agent/orders/counts")}async update(t,e){return await E.getCookie(),A.post("api/v1/agent/orders/"+t+"/update",e)}async toConfirm(){return await E.getCookie(),A.get("api/orders/toconfirmate")}async getOrder(){return await E.getCookie(),A.get("api/orders/add")}async create(t){return await E.getCookie(),A.post("api/v1/agent/orders/create",t)}}var F=new T;let j={fetched:!1,totalAvailable:0,totalConfirmed:0,totalNotConfirmed:0};var V={name:"agent",namespaced:!0,state:j,getters:{fetched:t=>t.fetched,state:t=>t},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_TOTAL_CONFIRMED:(t,e)=>{t.totalConfirmed=e},SET_TOTAL_NOT_CONFIRMED:(t,e)=>{t.totalNotConfirmed=e},SET_TOTAL_AVAILABLE:(t,e)=>{t.totalAvailable=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setTotalConfirmed:({commit:t},e)=>{t("SET_TOTAL_CONFIRMED",e)},setTotalNotConfirmed:({commit:t},e)=>{t("SET_TOTAL_NOT_CONFIRMED",e)},setTotalAvailable:({commit:t},e)=>{t("SET_TOTAL_AVAILABLE",e)},refreshCounts:t=>{t.commit("SET_FETCHED",!1),console.log(t),F.counts().then((e=>{if("SUCCESS"==e?.data.code){const r=e.data.data;t.commit("SET_TOTAL_CONFIRMED",r.confirmed),t.commit("SET_TOTAL_NOT_CONFIRMED",r.not_confirmed),t.commit("SET_TOTAL_AVAILABLE",r.available),t.commit("SET_FETCHED",!0)}}))}}};const I=localStorage.getItem("cities");let O={fetched:!1,cities:I?JSON.parse(I):[]};var H={name:"city",namespaced:!0,state:O,getters:{cities:t=>t.cities,fetched:t=>t.fetched},mutations:{SET_CITIES:(t,e)=>{localStorage.setItem("cities",JSON.stringify(e)),t.cities=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setCities:({commit:t},e)=>{t("SET_CITIES",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}},M={name:"app",namespaced:!0,state:{notifications:{fetched:!1,all:[],data:[],count:0,highlighted:null},factorisations:{fetched:!1,tobepaid:0},alerts:{fetched:!1,data:[]}},getters:{notifications:t=>t.notifications,factorisations:t=>t.factorisations,alerts:t=>t.alerts},mutations:{SET_DATA:(t,e)=>{t.notifications.data=e},SET_ALERTS_FETCHED:(t,e)=>{t.alerts.fetched=e},SET_ALERTS_DATA:(t,e)=>{t.alerts.data=e},SET_TO_BE_PAID:(t,e)=>{t.factorisations.tobepaid=e},SET_ALL_NOTIFICATIONS:(t,e)=>{t.notifications.all=e},SET_COUNT:(t,e)=>{t.notifications.count=e},SET_HIGHLIGHTED:(t,e)=>{t.notifications.highlighted=e},CHANGE_STATUS:t=>{t.notifications.data=t.notifications.data.map((t=>(t.status="read",t)),t.notifications.count=0)}},actions:{setData({commit:t},e){t("SET_DATA",e)},setAlertsFetched({commit:t},e){t("SET_ALERTS_FETCHED",e)},setAlertsData({commit:t},e){t("SET_ALERTS_DATA",e)},settobepaid({commit:t},e){t("SET_TO_BE_PAID",e)},setAllNotifications({commit:t},e){t("SET_ALL_NOTIFICATIONS",e)},sethighlighted({commit:t},e){t("SET_HIGHLIGHTED",e)},setCount({commit:t},e){t("SET_COUNT",e)},updatestatus({commit:t},e){t("CHANGE_STATUS",e)}}};let R={shops:[]};var N={name:"shop",namespaced:!0,state:R,getters:{shops:t=>t.shops},mutations:{SET_SHOPS:(t,e)=>{t.shops=e}},actions:{setShops:({commit:t},e)=>{t("SET_SHOPS",e)}}};let Y={fetched:!1,notifications:{productStockAlert:[],reportedSale:[],reportedOrderAgente:[],reportedOrderDelivery:[]}};var Z={name:"notification",namespaced:!0,state:Y,getters:{notifications:t=>t.notifications,fetched:t=>t.fetched},mutations:{SET_NOTIFICATIONS:(t,e)=>{t.notifications=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setNotifications:({commit:t},e)=>{t("SET_NOTIFICATIONS",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let K={fetched:!1,warehouses:[]};var B={name:"warehouse",namespaced:!0,state:K,getters:{fetched:t=>t.fetched,warehouses:t=>t.warehouses},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_WAREHOUSES:(t,e)=>{t.warehouses=e},ADD_WAREHOUSE:(t,e)=>{t.warehouses.push(e)},DELETE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.filter((t=>t.id!=e))},UPDATE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setWarehouses:({commit:t},e)=>{t("SET_WAREHOUSES",e)},addWarehouse:({commit:t},e)=>{t("ADD_WAREHOUSE",e)},update:({commit:t},e)=>{t("UPDATE_WAREHOUSE",e)},delete:({commit:t},e)=>{t("DELETE_WAREHOUSE",e)}}};let Q={fetched:!1,factorisations:[]};var J={name:"factorisation",namespaced:!0,state:Q,getters:{fetched:t=>t.fetched,factorisations:t=>t.factorisations},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FACTORISATIONS:(t,e)=>{t.factorisations=e},ADD_FACTORISATION:(t,e)=>{t.factorisations.push(e)},DELETE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.filter((t=>t.id!=e))},UPDATE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFactorisations:({commit:t},e)=>{t("SET_FACTORISATIONS",e)},addFactorisation:({commit:t},e)=>{t("ADD_FACTORISATION",e)},update:({commit:t},e)=>{t("UPDATE_FACTORISATION",e)},delete:({commit:t},e)=>{t("DELETE_FACTORISATION",e)}}};let G={fetched:!1,sheets:[]};var X={name:"sheet",namespaced:!0,state:G,getters:{fetched:t=>t.fetched,sheets:t=>t.sheets},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_SHEETS:(t,e)=>{t.sheets=e},ADD_SHEET:(t,e)=>{t.sheets.push(e)},DELETE_SHEET:(t,e)=>{t.sheets=t.sheets.filter((t=>t.id!=e))},UPDATE_SHEET:(t,e)=>{t.sheets=t.sheets.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setSheets:({commit:t},e)=>{t("SET_SHEETS",e)},addSheet:({commit:t},e)=>{t("ADD_SHEET",e)},update:({commit:t},e)=>{t("UPDATE_SHEET",e)},delete:({commit:t},e)=>{t("DELETE_SHEET",e)}}};let tt={users:[],fetched:!1};var et={name:"online",namespaced:!0,state:tt,getters:{fetched:t=>t.fetched,users:t=>t.users},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_USERS:(t,e)=>{t.users=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)}}};let rt={supply_requests:[]};var at={name:"supply-request",namespaced:!0,state:rt,getters:{supply_requests:t=>t.supply_requests},mutations:{SET_SUPPLY_REQUESTS:(t,e)=>{t.supply_requests=e},ADD_SUPPLY_REQUEST:(t,e)=>{t.supply_requests.unshift(e)},DELETE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.filter((t=>t.id!=e))},UPDATE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.map((t=>t.id==e.id?e:t))}},actions:{setSupplyRequests:({commit:t},e)=>{t("SET_SUPPLY_REQUESTS",e)},addSupplyRequest:({commit:t},e)=>{t("ADD_SUPPLY_REQUEST",e)},deleteSupplyRequest:({commit:t},e)=>{t("DELETE_SUPPLY_REQUEST",e)},updateSupplyRequest:({commit:t},e)=>{t("UPDATE_SUPPLY_REQUEST",e)}}},st=(0,i.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:x,product:k,alert:y,sale:D,order:z,inventory:q,city:H,agent:V,shop:N,notification:Z,warehouse:B,factorisation:J,sheet:X,app:M,online:et,"supply-request":at}});class lt{async login(t){return await E.getCookie(),A.post("api/auth/login",{email:t.email,password:t.password})}async register(t){return await E.getCookie(),A.post("api/users/new",{email:t.email,password:t.password,phone:t.phone,status:t.status,role:t.role,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,city:t?.city,deliverycity:t?.deliveryCities,having_all:t.having_all})}async update(t,e){return await E.getCookie(),A.post("api/users/update/"+t.id,{email:t.email,password:t.password,phone:t.phone,status:t.status,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,role:t.role,city:t?.city,deliverycity:t?.deliveryCities,updatePassword:e,having_all:t.having_all})}async updateProfile(t,e){return await E.getCookie(),A.post("api/users/profile",{password:t.password,phone:t.phone,firstname:t.firstname,lastname:t.lastname,updatePassword:e})}async online(){return await E.getCookie(),A.get("api/user")}async lastAction(){return await E.getCookie(),A.get("api/users/last-action")}async profile(){return await E.getCookie(),A.get("api/users/profile")}async logout(){return await E.getCookie(),A.get("api/auth/logout")}async clear(){return await E.getCookie(),A.get("api/auth/clear")}async permessions(){return await E.getCookie(),A.get("api/permissions")}async permession(){return await E.getCookie(),A.get("api/auth/permission")}async roles(){return await E.getCookie(),A.get("api/auth/roles")}async all(){return await E.getCookie(),A.get("api/users")}async updateStatus({id:t,status:e}){return await E.getCookie(),A.post("api/users/status/"+t,{status:e})}async delete(t){return await E.getCookie(),A["delete"]("api/users/delete/"+t)}async getUser(t){return await E.getCookie(),A.get("api/users/"+t)}async createPermission(t){return await E.getCookie(),A.post("api/permissions/new",{name:t})}async createRole({name:t,permissions:e}){return await E.getCookie(),A.post("api/roles/new",{name:t,permissions:e})}async updateRole(t,{name:e,permissions:r}){return await E.getCookie(),A.post("api/roles/update/"+t,{name:e,permissions:r})}async deleteRole(t){return await E.getCookie(),A["delete"]("api/roles/delete/"+t)}async getRole(t){return await E.getCookie(),A.get("api/roles/"+t)}async agents(){return await E.getCookie(),A.get("api/agents")}async deliveries(){return await E.getCookie(),A.get("api/delevries")}async allDeliveries(){return await E.getCookie(),A.get("api/deliveries")}async allSellers(){return await E.getCookie(),A.get("api/sellers")}async cities(){return await E.getCookie(),A.get("api/cities")}}var ot=new lt;function it(t,e,r){if(document.title=t.meta?.title+" | COD Squad",!st.getters["user/isLoggedIn"])return"/login"==t.path||{name:"login"};if(ot.online().then((t=>{"USER_SHOWED"==t.data.code&&t.data.data.user.email!=st.getters["user/user"]?.email&&(st.dispatch("user/logout"),r.push({name:"login"}))})).catch(hue.$handleApiError),"/login"==t.path)return{name:"404"};const{gate:a}=t.meta,s=st.getters["user/permissions"];return"all"===a||(!!t.meta.role?.includes(st.getters["user/user"].role)||((a||"/404"===t.path)&&!(!s.includes(a)&&"/404"!==t.path)||{name:"404"}))}var wt=r(2268),nt=r(7312),dt=r(3369),ct=r(3289),ut=r(165);const pt={class:"tw-min-h-screen tw-overflow-auto tw-bg-slate-50"},gt={class:"tw-grid tw-h-fit tw-overflow-hidden md:tw-grid-cols-2 tw-grid-cols-1"},mt={class:"py-md-5 py-10 pb-0 tw-flex tw-justify-center md:tw-items-center"},ht={class:"px-md-10 tw-w-full"},ft={class:"tw-w-[270px] tw-h-[60px]"},bt=["src"],vt={class:"mt-md-10 mt-15 pt-5 px-md-5 px-lg-16 tw-w-full d-felx justify-center align-center"},xt={class:"pa-5 py-7 tw-border bg-white tw-rounded-lg tw-mx-auto tw-max-w-[450px]"},yt=(0,s._)("h1",{class:"text-h5 font-weight-medium !tw-text-gray-600"},"Login",-1),_t=(0,s._)("p",{class:"text-body-1 mt-2 !tw-text-gray-500"},"Please login to your account",-1),kt={key:0,class:"text-body-2 mt-2 !tw-text-red-500"},Ct={class:"mt-5"},Dt=(0,s._)("p",{class:"mb-1"},"Email",-1),St=(0,s._)("p",{class:"mb-1"},"Password",-1),zt={class:"mt-5"},Ut=(0,s._)("span",{class:"text-capitalize text-white"},"Login",-1),qt={class:"bg-primary-color tw-min-h-screen tw-hidden md:tw-flex tw-items-center tw-justify-center"},Pt=["src"];function Lt(t,e,r,l,o,i){const w=(0,s.up)("Alert");return(0,s.wg)(),(0,s.iD)("div",pt,[(0,s.Wm)(w),(0,s._)("div",gt,[(0,s._)("div",mt,[(0,s.Wm)(dt.K,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",ht,[(0,s._)("div",ft,[(0,s._)("img",{class:"tw-w-full",src:o.localUrl+"images/logo.png"},null,8,bt)]),(0,s._)("div",vt,[(0,s._)("div",xt,[yt,_t,o.error.active?((0,s.wg)(),(0,s.iD)("p",kt,(0,wt.zw)(o.error.message),1)):(0,s.kq)("",!0),(0,s._)("div",Ct,[(0,s._)("div",null,[Dt,(0,s.Wm)(ut.hw,{name:"email",onKeyup:e[0]||(e[0]=t=>i.resetError("email")),modelValue:o.email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t),error:!o.emailStatus.valid,"error-messages":o.emailStatus.valid?"":o.emailStatus.message,autofocus:"",onBlur:e[2]||(e[2]=t=>o.emailFocus=!1),onFocus:e[3]||(e[3]=t=>o.emailFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:o.emailFocus?o.emailStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-email-outline")])),_:1},8,["color"])])),_:1},8,["modelValue","error","error-messages"])]),(0,s._)("div",null,[St,(0,s.Wm)(ut.hw,{name:"password",onKeyup:(0,a.D2)(i.login,["enter"]),modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),error:!o.passwordStatus.valid,"error-messages":o.passwordStatus.valid?"":o.passwordStatus.message,type:o.showPassword?"text":"password",onBlur:e[6]||(e[6]=t=>o.passwordFocus=!1),onFocus:e[7]||(e[7]=t=>o.passwordFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(ct.t,{onClick:e[4]||(e[4]=t=>o.showPassword=!o.showPassword),class:"tw-relative tw-z-50 tw-cursor-pointer",color:o.passwordFocus?o.passwordStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(o.showPassword?"mdi-eye-off-outline":"mdi-eye-outline"),1)])),_:1},8,["color"])])),_:1},8,["onKeyup","modelValue","error","error-messages","type"])]),(0,s._)("div",zt,[(0,s.Wm)(nt.T,{disabled:o.isLoading||!o.cookiesCleared,loading:o.isLoading||!o.cookiesCleared,onClick:i.login,block:"",size:"large",color:"primary-color",variant:"flat",class:"!tw-text-white disabled:!tw-bg-gray-200"},{default:(0,s.w5)((()=>[Ut])),_:1},8,["disabled","loading","onClick"])])])])])])])),_:1})]),(0,s._)("div",qt,[(0,s._)("img",{src:o.localUrl+"assets/img/login.jpg",class:"tw-w-full tw-h-full tw-object-cover",alt:""},null,8,Pt)])])])}function Wt(t){var e=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;return t?new RegExp(e).test(t)?{valid:!0}:{valid:!1,message:"Email is not valid."}:{valid:!1,message:"Email is required."}}function At(t){return t?t.length<=4||t.length>=16?{valid:!1,message:"Password length must be between 4 and 16."}:{valid:!0}:{valid:!1,message:"This field is required"}}function $t(t,e="This field"){return t?{valid:!0}:{valid:!1,message:`${e} is required`}}function Et(t,e="This field"){return t?isNaN(t)?{valid:!1,message:`${e} must be a valid number`}:{valid:!0}:{valid:!1,message:`${e} is required`}}function Tt(t,e){return t?t!==e?{valid:!1,message:"Passwords doesn't match"}:{valid:!0}:{valid:!1,message:"This field is required."}}function Ft(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one variant to create a product !"}}function jt(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one permission to create a role !"}}var Vt=r(7771),It=r(8952);const Ot={key:0,class:"pa-2 tw-absolute !tw-z-[510000]"},Ht={class:"tw-text-sm"};function Mt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(It.V,null,{default:(0,s.w5)((()=>[o.state.active?((0,s.wg)(),(0,s.iD)("div",Ot,[(0,s.Wm)(Vt.w,{closable:"",density:"compact",variant:"flat",type:o.state.alert.type,position:"fixed",location:"bottom right",class:"ma-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Ht,(0,wt.zw)(o.state.alert.title),1)])),_:1},8,["type"])])):(0,s.kq)("",!0)])),_:1})])}var Rt={computed:{state(){return this.$store.getters["alert/alert"]}}};const Nt=(0,m.Z)(Rt,[["render",Mt]]);var Yt=Nt,Zt={components:{Alert:Yt},data(){return{localUrl:w,isLoading:!1,cookiesCleared:!1,error:{active:!1,message:""},email:"",password:"",emailStatus:{valid:!0,message:""},passwordStatus:{valid:!0,message:""},emailFocus:!1,passwordFocus:!1,showPassword:!1}},methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions","setUser"]),validateForm(){return this.emailStatus=Wt(this.email),this.passwordStatus=At(this.password),this.passwordStatus.valid&&this.emailStatus.valid},login(){this.validateForm()&&(this.isLoading=!0,this.error={active:!1,message:""},ot.login({email:this.email,password:this.password}).then((t=>{if("AUTHENTICATION_SUCCESSFUL"==t.data.code){this.setUser(t.data.data.user),this.setIsLoggedIn(!0);const e=t.data.data.user.permissions;this.setPermissions(e),this.$router.push("/")}})).catch((t=>{this.$handleApiError(t),"INVALID_CREDENTIALS"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"NOT_ACTIVE_ERROR"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"VALIDATION_ERROR"==t.response?.data.code&&(this.emailStatus={valid:!1,message:t.response.data.error["email"][0]},this.passwordStatus={valid:!1,message:t.response.data.error["password"][0]})})).finally((()=>{this.isLoading=!1})),console.log("login..."))},resetError(t){"email"==t&&(this.emailStatus={valid:!0,message:""}),"password"==t&&(this.passwordStatus={valid:!0,message:""})}},mounted(){ot.clear().then((()=>{this.cookiesCleared=!0}))}};const Kt=(0,m.Z)(Zt,[["render",Lt]]);var Bt=Kt,Qt={name:"login",path:"/login",component:Bt,meta:{title:"Login"}},Jt=r(4454),Gt=r(3140);function Xt(t,e,r,a,l,o){const i=(0,s.up)("AppSidebar"),w=(0,s.up)("AppHeader"),n=(0,s.up)("Alert"),d=(0,s.up)("AlertNotification"),c=(0,s.up)("AppAnnonces"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoggedIn?((0,s.wg)(),(0,s.j4)(Jt.s,{key:0,"full-height":!0},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{active:l.drawer},null,8,["active"]),(0,s.Wm)(w,{onToggleSidebar:o.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Wm)(n),(0,s.Wm)(d),(0,s.Wm)(Gt.O,{class:"tw-bg-gray-50 tw-min-h-screen tw-overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(dt.K,{fluid:"",class:(0,wt.C_)(["scanner/code"==t.$route.name?"tw-p-0":"tw-p-2"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c),(0,s.Wm)(u)])),_:1},8,["class"])])),_:1}),l.showScrollUpButton?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.scrollToTop&&o.scrollToTop(...t)),class:"tw-fixed tw-shadow tw-text-sm tw-bottom-5 tw-right-3 tw-w-10 tw-h-10 tw-z-10 tw-rounded-full tw-bg-orange-400 tw-text-white"},[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-transfer-up")])),_:1})])):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])}var te=r(6439),ee=r(9156);const re={class:"tw-flex tw-items-center tw-gap-2"};function ae(t,e,r,l,o,i){const w=(0,s.up)("ToBePaid"),n=(0,s.up)("GlobalNotification"),d=(0,s.up)("HeaderMenu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(te.L,{color:"white",density:"default",elevation:"0",class:"tw-border-b-0 !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-0 !tw-fixed tw-overflow-visible",absolute:!1},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s._)("div",re,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(w,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(n),(0,s.Wm)(d)])])),default:(0,s.w5)((()=>[(0,s.Wm)(ee.g,{variant:"text",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.handleClick()),["stop"]))})])),_:2},[void 0]),1024)])}var se=r(652),le=r(4075),oe=r(8694),ie=r(8793);const we={class:"tw-relative"},ne=(0,s._)("div",{class:"tw-absolute tw-bottom-0 tw-border-2 tw-border-solid tw-border-white tw-right-0 tw-w-3 tw-h-3 tw-rounded-full tw-bg-green-500"},null,-1),de={key:0,class:"!tw-duration-100"},ce={class:"tw-absolute tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[200px] tw-min-h-[50px]"},ue={class:"pa-2 d-flex tw-items-center tw-gap-2 tw-border-b tw-border-b-neutral-100"},pe={class:"d-flex flex-column justify-center"},ge={class:"tw-text-sm tw-text-neutral-800 text-capitalize"},me={class:"tw-text-xs tw-rounded-lg tw-text-green-500 text-capitalize"},he=(0,s._)("span",{class:"text-capitalize tw-text-neutral-700 tw-text-xs"}," Profile ",-1),fe={class:"d-flex tw-items-center tw-gap-2"},be=(0,s._)("span",{class:"text-capitalize tw-text-red-700 tw-text-xs"}," Logout ",-1);function ve(t,e,r,a,l,o){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",we,[(0,s.Wm)(nt.T,{onClick:o.toggleMenu,icon:"","max-width":"35","max-height":"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(se.V,{size:"32"},{default:(0,s.w5)((()=>[(0,s.Wm)(oe.f,{src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),ne])),_:1},8,["onClick"]),(0,s.Wm)(It.Z5,null,{default:(0,s.w5)((()=>[l.isActive?((0,s.wg)(),(0,s.iD)("div",de,[(0,s._)("div",ce,[(0,s._)("div",ue,[(0,s.Wm)(se.V,{size:"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(oe.f,{eager:"",src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),(0,s._)("div",pe,[(0,s._)("div",ge,(0,wt.zw)(o.user.firstname)+" "+(0,wt.zw)(o.user.lastname),1),(0,s._)("div",me,(0,wt.zw)(o.user.role),1)])]),(0,s.Wm)(le.J),(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>o.closeMenu&&o.closeMenu(...t)),class:"d-flex tw-items-center tw-gap-2"},[(0,s.Wm)(nt.T,{block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{class:"mr-2 tw-text-neutral-700"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-account-outline ")])),_:1}),he])),_:1})]),(0,s.Wm)(le.J),(0,s._)("div",fe,[(0,s.Wm)(nt.T,{onClick:o.logout,block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{class:(0,wt.C_)([{"tw-animate-pulse":l.loginOut},"mr-2 tw-text-red-700"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.loginOut?"mdi-power-settings":"mdi-power"),1)])),_:1},8,["class"]),be])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,o.closeMenu]])}var xe={data(){return{localUrl:w,isActive:!1,loginOut:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},logout(){this.loginOut=!0,ot.logout().then((()=>{this.$store.dispatch("user/logout"),this.$router.push("/login")})).finally((()=>{this.loginOut=!1}))}},computed:{user(){return this.$store.getters["user/user"]}}};const ye=(0,m.Z)(xe,[["render",ve]]);var _e=ye,ke=r(4870);class Ce{async AllNotifications(t={}){return await E.getCookie(),A.get("api/app/all",{params:t})}async notifications(){return await E.getCookie(),A.get("api/app/notifications")}async Changestatus(){return await E.getCookie(),A.get("api/app/changestatus")}}var De=new Ce,Se=r(6797),ze=r.n(Se),Ue=r(6562);const qe={class:"tw-relative"},Pe={key:0,class:"!tw-duration-100"},Le={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[350px] tw-min-h-[50px]"},We=(0,s._)("p",{class:"tw-p-2 tw-text-lg"},"Notifications",-1),Ae={key:0},$e={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Ee={key:1},Te={key:0},Fe=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),je=[Fe],Ve={class:"tw-text-sm"},Ie={class:"tw-ml-auto tw-mt-2 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},Oe={class:"tw-flex tw-justify-evenly tw-items-center tw-p-2"};var He={__name:"GlobalNotification",setup(t){const e=(0,i.oR)(),r=(0,ke.iH)(!1),a=(0,ke.iH)(!1),l=()=>{r.value=!r.value},o=()=>{r.value=!1},n=t=>{switch(t.priority){case"low":return"tw-bg-blue-50";case"medium":return"tw-bg-orange-100";case"high":return"tw-bg-red-100";default:return"tw-bg-gray-50"}},d=()=>{De.notifications().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setData",t.data.data),e.dispatch("app/setCount",t.data.count),e.dispatch("app/sethighlighted",t.data.highlighted))})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))},c=()=>{De.Changestatus().then((t=>{"SUCCESS"==t.data.code&&e.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))};(0,s.bv)((()=>{d()}));const u=(0,s.Fl)((()=>e.getters["app/notifications"]));return(t,e)=>{const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",qe,[(0,s.Wm)(nt.T,{onClick:l,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(oe.f,{width:"22",height:"22",src:(0,ke.SU)(w)+"assets/img/icons/notification-bing.svg"},null,8,["src"]),a.value&&u.value.count>0?((0,s.wg)(),(0,s.j4)(Ue.G,{key:0,class:"tw-animate-bounce tw-scale-50",floating:"","offset-y":"20","offset-x":"5",color:"red",bordered:!0,location:"bottom right",content:u.value.count},null,8,["content"])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(It.Z5,null,{default:(0,s.w5)((()=>[r.value?((0,s.wg)(),(0,s.iD)("div",Pe,[(0,s._)("div",Le,[We,a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ae,[(0,s._)("div",$e,[(0,s.Wm)(ct.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),a.value?((0,s.wg)(),(0,s.iD)("div",Ee,[""==u.value.data?((0,s.wg)(),(0,s.iD)("div",Te,je)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value.data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",{class:(0,wt.C_)([n(t),"tw-p-2 tw-border-y tw-flex tw-flex-col tw-border-neutral-100"])},[(0,s.Wm)(i,{to:`/sourcings/${t.action}`},{default:(0,s.w5)((()=>[(0,s._)("p",Ve,(0,wt.zw)(t.message),1)])),_:2},1032,["to"]),(0,s._)("div",Ie,(0,wt.zw)((0,ke.SU)(ze())(t.created_at).fromNow()),1)],2)])))),128)),(0,s._)("div",Oe,[(0,s.Wm)(i,{to:"/notifications"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:e[0]||(e[0]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("View All")])),_:1})])),_:1}),(0,s.Wm)(nt.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:c},{default:(0,s.w5)((()=>[(0,s.Uk)("Mark all as Read")])),_:1})])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,o]])}}};const Me=He;var Re=Me;class Ne{async update(t,e){return await E.getCookie(),A.post("api/factorisations/update/"+t,{factorisation_id:e.factorisation_id,delivery_id:e.delivery_id,price:e.price,commands_number:e.commands_number})}async updateComment(t,e){return await E.getCookie(),A.post("api/factorisations/update/comment/"+t,{comment:e.comment})}async updateMethod(t,e){return await E.getCookie(),A.post("api/v1/factorisation/update/"+t+"/method",{withdrawal_method_id:e})}async updatePaid(t,e){return await E.getCookie(),A.post("api/factorisations/update/payment/"+t,{paid:e})}async updateClose(t,e){return await E.getCookie(),A.post("api/factorisations/update/closing/"+t,{close:e})}async updateFees(t,e){return await E.getCookie(),A.post("api/factorisations/update/fees/"+t,{fees:e})}async uploadImage(t,e){return await E.getCookie(),W.post("api/factorisations/update/"+t+"/attachement",e)}async sumToBePaid(){return await E.getCookie(),A.get("api/v1/factorisation/sum")}async delete(t){return await E.getCookie(),A["delete"]("api/v1/factorisation/delete/"+t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/factorisation"+t,e)}async history(t){return await E.getCookie(),A.get("api/v1/factorisation/"+t+"/history")}}var Ye=new Ne;const Ze={key:0,class:"tw-text-emerald-600 tw-text-sm tw-font-semibold tw-rounded"},Ke={key:1};var Be={__name:"ToBePaid",setup(t){const e=(0,i.oR)(),r=(0,ke.iH)(!1),a=()=>{Ye.sumToBePaid().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("app/settobepaid",t.data.data.totalPrice),console.log(parseFloat(t.data.data.totalPrice).toFixed(2)))})).catch((t=>{console.error("API Error",t)})).finally((()=>{r.value=!0}))};(0,s.bv)((()=>{a()}));const l=(0,s.Fl)((()=>e.getters["app/factorisations"]));return(t,e)=>r.value?((0,s.wg)(),(0,s.iD)("div",Ze,(0,wt.zw)((0,ke.SU)(c))+(0,wt.zw)(parseFloat(l.value.tobepaid).toFixed(2)),1)):((0,s.wg)(),(0,s.iD)("div",Ke,[(0,s.Wm)(ct.t,{size:"medium",class:"tw-animate-spin",color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}};const Qe=Be;var Je=Qe,Ge={emits:["toggleSidebar"],components:{HeaderMenu:_e,GlobalNotification:Re,ToBePaid:Je},data(){return{localUrl:w}},computed:{},methods:{handleClick(){this.$emit("toggleSidebar")}}};const Xe=(0,m.Z)(Ge,[["render",ae]]);var tr=Xe,er=r(9457),rr=r(2329),ar=r(9657);const sr={class:"tw-h-[60px] tw-flex tw-items-center tw-justify-center tw-max-w-[200px]"},lr=["src"];function or(t,e,r,a,l,o){const i=(0,s.up)("SidebarItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(ar.V,{modelValue:l.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>l.drawer=t),location:"left",absolute:!1,class:"!tw-top-0 !tw-fixed"},{default:(0,s.w5)((()=>[(0,s.Wm)(er.l,{class:"tw-py-3"},{default:(0,s.w5)((()=>[(0,s._)("div",sr,[(0,s._)("img",{class:"tw-w-full",src:l.localUrl+"images/logo.png"},null,8,lr)])])),_:1}),(0,s.Wm)(rr.i,{class:"mt-2",nav:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.links,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,link:t},null,8,["link"])))),128))])),_:1})])),_:1},8,["modelValue"])])}const ir=[4,6,7],wr=[{id:1,title:"Dashboard",module:"dashboard",hasChildren:!0,gate:"all",icon:{type:"icon",value:"mdi-chart-box-outline"},children:[{id:1,title:"Overview",subModule:"dashboard/dashboard",gate:"all",to:"/"},{id:2,title:"Finance",subModule:"dashboard/analytics",role:["admin"],to:"/analytics"}]},{id:1,title:"Analytics",module:"analytics",hasChildren:!0,role:["admin"],icon:{type:"icon",value:"mdi-chart-arc"},children:[{id:1,title:"Sellers",subModule:"analytics.admin.sellers",gate:"all",to:"/admin/analytics/sellers"}]},{id:2,module:"sourcing",title:"Sourcing",hasChildren:!0,role:["admin","seller"],icon:{type:"icon",value:"mdi-truck-outline"},children:[{id:1,title:"Request a new product",subModule:"sourcing/new",role:["seller"],to:"/sourcings/new"},{id:2,title:"All Requests",subModule:"sourcing/index",role:["seller","admin"],to:"/sourcings"}]},{id:2,module:"product",title:"Product",hasChildren:!0,gate:"access_to_products",icon:{type:"svg",value:"assets/img/icons/product.svg"},children:[{id:1,title:"Products List",subModule:"product/list",gate:"show_all_products",to:"/products"},{id:2,title:"New Products List",subModule:"product/newlist",gate:"show_all_products",to:"/newproducts"},{id:3,title:"Add Product",subModule:"product/add",gate:"create_product",to:"/products/add"},{id:4,title:"Supply Requests",subModule:"product/seller/request",gate:"access_to_seller_sales",to:"/products/seller/request"},{id:5,title:"Supply Requests",subModule:"product/admin/request",gate:"access_to_sales",to:"/products/admin/request"}]},{id:3,module:"track",title:"Tracking",hasChildren:!0,gate:"none",icon:{type:"icon",value:"mdi-radar"},children:[{id:1,title:"Deliveries",subModule:"track/delivery",gate:"none",to:"/tracking/delivery"}]},{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Sales list",subModule:"sale/list",gate:"show_all_sales",to:"/sales"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]},{id:10,module:"sellersale",title:"Seller Sales",hasChildren:!0,gate:"access_to_seller_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Seller Sales",subModule:"seller/list",gate:"show_seller_sales",to:"/seller/list"}]},{id:5,module:"factorisation",title:"Factorisation",hasChildren:!0,gate:"access_to_factorisations",icon:{type:"icon",value:"mdi-note-multiple"},children:[{id:1,title:"Factorisation list",subModule:"factorisation/list",gate:"show_all_factorisations",to:"/factorisations"}]},{id:20,module:"ads",title:"Ads",hasChildren:!0,gate:"access_to_ads",icon:{type:"icon",value:"mdi-google-ads"},children:[{id:1,title:"Ads list",subModule:"ads/list",gate:"show_all_factorisations",to:"/ads"}]},{id:10,module:"affiliate",title:"Affiliate",hasChildren:!0,gate:"manage_affiliate_products",role:["admin","seller","affiliate-manager"],icon:{type:"icon",value:"mdi-bookshelf"},children:[{id:1,title:"All Products",subModule:"affiliate.admin.list",to:{name:"affiliate.admin.list"}},{id:2,title:"Create new product",subModule:"affiliate.admin.create",role:["admin","affiliate-manager"],gate:"manage_affiliate_products",to:{name:"affiliate.admin.create"}},{id:3,title:"Winning Products",subModule:"affiliate.index",role:["admin","seller","affiliate-manager"],gate:"access_to_affiliate",to:{name:"affiliate.index"}},{id:4,title:"Import list",subModule:"affiliate.import",role:["admin","seller"],gate:"access_to_affiliate",to:{name:"affiliate.import"}},{id:5,title:"My wishlist",subModule:"affiliate.wishlist",role:["admin","seller"],gate:"access_to_affiliate",to:{name:"affiliate.wishlist"}}]},{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Order",subModule:"order/show",gate:"show_all_orders",to:"/order"},{id:2,title:"My Orders",subModule:"order/list",gate:"show_all_orders",to:"/orders"},{id:3,title:"Confirmed Orders",subModule:"order/confirmed",gate:"show_all_orders",to:"/orders/confirmed"}]},{id:7,module:"delivery",title:"Orders",hasChildren:!0,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders List",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries"},{id:2,title:"Orders Delivered",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered"}]},{id:8,module:"inventory",title:"Inventory",hasChildren:!0,gate:"access_to_inventory x",icon:{type:"icon",value:"mdi-warehouse"},children:[{id:1,title:"Inventory State",gate:"show_all_inventory_states",subModule:"inventory/state",to:"/inventories"},{id:2,title:"Inventory Movements",gate:"show_all_inventory_movements",subModule:"inventory/movements",to:"/inventories/movements"},{id:4,title:"Add Movement",gate:"create_inventory_movement",subModule:"inventory/add",to:"/inventories/add"}]},{id:9,module:"shop",title:"Shop",hasChildren:!0,gate:"access_to_shop",icon:{type:"icon",value:"mdi-store"},children:[{id:1,title:"Shop List",gate:"show_all_shops",subModule:"shop/list",to:"/shops"},{id:2,title:"Add Shop",gate:"create_shop",subModule:"shop/add",to:"/shops/add"}]},{id:10,module:"warehouse",title:"Warehouses",hasChildren:!0,gate:"access_to_warehouse",icon:{type:"icon",value:"mdi-home-group"},children:[{id:1,title:"Warehouses list",subModule:"warehouse/list",gate:"show_all_warehouses",to:"/warehouses"}]},{id:11,title:"Users",module:"user",gate:"access_to_users",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/users1.svg"},children:[{id:1,title:"Users List",subModule:"user/list",gate:"show_all_users",to:"/users"},{id:2,title:"Add User",subModule:"user/add",gate:"create_user",to:"/users/add"},{id:3,title:"Roles List",subModule:"user/roles",gate:"show_all_roles",to:"/users/roles"},{id:4,title:"Add Role",subModule:"user/addRole",gate:"create_role",to:"/users/addRole"}]},{id:15,title:"Sheets",module:"sheets",to:"/sheets",gate:"access_to_sheets",hasChildren:!1,icon:{type:"icon",value:"mdi-note-text-outline"}},{id:15,title:"Alerts",module:"alert",role:["admin"],to:"/alerts",icon:{type:"icon",value:"mdi-bell-alert-outline"}},{id:16,title:"Scanner",module:"scanner",to:"/scanner",role:"admin",gate:"stock_management",hasChildren:!1,icon:{type:"icon",value:"mdi-qrcode"}},{id:12,title:"Settings",module:"settings",role:["admin","seller"],hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/settings.svg"},children:[{id:1,title:"Cron Jobs",subModule:"settings/cronJobs",role:"admin",to:"/settings/cronJobs"},{id:2,title:"Account",subModule:"settings/account",role:"admin",to:"/settings/account"},{id:3,title:"Withdrawal methods",subModule:"settings/account",role:["admin","seller"],to:{name:"settings.seller.withdrawal-methods"}}]},{id:13,title:"Orders",module:"followup",to:"/followup",hasChildren:!1,gate:"follow_up_orders",icon:{type:"icon",value:"mdi-package-variant-closed"}}];var nr=r(9234),dr=r(2127);const cr={key:0},ur={class:"d-flex align-center"},pr={class:"tw-rounded-md tw-bg-gray-50"},gr={class:"tw-h-full py-2"},mr={key:1},hr={key:2},fr={key:3};function br(t,e,r,a,l,o){const i=(0,s.up)("SidebarSales"),w=(0,s.up)("SidebarDelivery"),n=(0,s.up)("SidebarAgente");return(0,s.wg)(),(0,s.iD)("div",null,[!t.$can(r.link.gate)&&!r.link.role?.includes(o.user.role)&&"all"!=r.link.gate||l.disabled_links.includes(r.link.id)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cr,[(0,s.Wm)(er.l,{class:(0,wt.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.link.hasChildren?"":r.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",ur,["icon"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,icon:r.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(oe.f,{key:1,src:l.localUrl+r.link.icon.value,"max-width":"18",class:(0,wt.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(dr.V,{class:(0,wt.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,wt.zw)(r.link.title)},null,8,["class","textContent"]),(0,s.Wm)(nr.C),r.link.hasChildren?((0,s.wg)(),(0,s.j4)(ct.t,{key:2,class:(0,wt.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),r.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",pr,[(0,s.Wm)(rr.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(er.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",gr,[(0,s.Wm)(ct.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,wt.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,wt.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])),4==r.link.id?((0,s.wg)(),(0,s.iD)("div",mr,[(0,s.Wm)(i)])):(0,s.kq)("",!0),7==r.link.id?((0,s.wg)(),(0,s.iD)("div",hr,[(0,s.Wm)(w)])):(0,s.kq)("",!0),8==r.link.id?((0,s.wg)(),(0,s.iD)("div",fr,[(0,s.Wm)(n)])):(0,s.kq)("",!0)])}const vr={key:0},xr={class:"d-flex align-center"},yr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},_r={key:1,class:"tw-text-xs"},kr={class:"tw-rounded-md tw-bg-gray-50"},Cr={class:"tw-h-full py-2"};function Dr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",vr,[(0,s.Wm)(er.l,{class:(0,wt.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:l.link.hasChildren?"":l.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",xr,["icon"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,icon:l.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(oe.f,{key:1,src:l.localUrl+l.link.icon.value,"max-width":"18",class:(0,wt.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(dr.V,{class:(0,wt.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,wt.zw)(l.link.title)},null,8,["class","textContent"]),(0,s._)("div",yr,[(l.isLoaded,(0,s.kq)("",!0)),(l.isLoaded,(0,s.wg)(),(0,s.iD)("p",_r,(0,wt.zw)(o.count),1))]),(0,s.Wm)(nr.C),l.link.hasChildren?((0,s.wg)(),(0,s.j4)(ct.t,{key:2,class:(0,wt.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),l.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",kr,[(0,s.Wm)(rr.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(er.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",Cr,[(0,s.Wm)(ct.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,wt.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,wt.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var Sr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:4,title:"New Sales list",subModule:"sale/newlist",gate:"show_all_sales",to:"/sales/new"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},sales(){return this.$store.getters["sale/sales"]},count(){return this.$store.getters["sale/count"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const zr=(0,m.Z)(Sr,[["render",Dr],["__scopeId","data-v-419eeb7c"]]);var Ur=zr;const qr={key:0},Pr={class:"d-flex align-center"},Lr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Wr={key:1,class:"tw-text-xs"};function Ar(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",qr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(er.l,{class:(0,wt.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Pr,[(0,s.Wm)(ct.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(dr.V,{class:(0,wt.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,wt.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(nr.C),(0,s._)("div",Lr,[o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.fetched?((0,s.wg)(),(0,s.iD)("p",Wr,(0,wt.zw)(1==r.id?o.orders.length-o.deliveredOrders.length:o.deliveredOrders.length),1)):(0,s.kq)("",!0)])])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}class $r{async delivery(){return await E.getCookie(),A.get("api/dashboard/delivery")}async agente(){return await E.getCookie(),A.get("api/dashboard/agente")}}var Er=new $r,Tr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:7,module:"delivery",title:"Orders",hasChildren:!1,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries",icon:"mdi-truck"},{id:2,title:"Delivered Orders",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered",icon:"mdi-truck-check"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path},getOrders(){return this.isLoaded=!1,Er.delivery().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("order/setAllOrders",e),this.$store.dispatch("order/setFetched",!0),this.isLoaded=!0}console.log(t)})).catch(this.$handleApiError)}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},orders(){return this.$store.getters["order/allOrders"].filter((t=>"confirmer"==t.confirmation))},deliveredOrders(){return this.orders.filter((t=>"livrer"==t.delivery))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive(),this.$can(this.link.gate)&&this.getOrders()}};const Fr=(0,m.Z)(Tr,[["render",Ar],["__scopeId","data-v-69fa82e9"]]);var jr=Fr;const Vr={key:0},Ir={class:"d-flex align-center"},Or={key:0,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Hr={key:1,class:"tw-text-xs"},Mr={key:1,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Rr={key:1,class:"tw-text-xs"};function Nr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",Vr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(er.l,{class:(0,wt.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Ir,[(0,s.Wm)(ct.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(dr.V,{class:(0,wt.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,wt.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(nr.C),1!=r.id?((0,s.wg)(),(0,s.iD)("div",Or,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Hr,(0,wt.zw)(4==r.id?o.state.totalNotConfirmed:o.state.totalConfirmed),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),1==r.id?((0,s.wg)(),(0,s.iD)("div",Mr,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Rr,(0,wt.zw)(o.state.totalAvailable),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}var Yr={props:[],data(){return{localUrl:w,isActive:!1,isLoaded:!1,link:{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Add Order",subModule:"agent/orders/add",gate:"show_all_orders",to:"/agent/orders/add",icon:"mdi-plus-box"},{id:4,title:"Orders",subModule:"agent/orders",gate:"show_all_orders",to:"/agent/orders",icon:"mdi-package-variant-closed"},{id:5,title:"Confirmed Orders",subModule:"agent/orders/confirmed",gate:"show_all_orders",to:"/agent/orders/confirmed",icon:"mdi-checkbox-marked"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},state(){return this.$store.getters["agent/state"]},orders(){return this.$store.getters["order/allOrders"]},myOrders(){return this.orders.filter((t=>"confirmer"!=t.confirmation))},confirmedOrders(){return this.orders.filter((t=>"confirmer"==t.confirmation))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Zr=(0,m.Z)(Yr,[["render",Nr],["__scopeId","data-v-26146d6f"]]);var Kr=Zr,Br={props:["link"],components:{SidebarSales:Ur,SidebarDelivery:jr,SidebarAgente:Kr},data(){return{localUrl:w,disabled_links:ir,isActive:!1}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to||this.$route.name==t.to?.name},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate||t.role?.includes(this.user.role)))},user(){return this.$store.getters["user/user"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Qr=(0,m.Z)(Br,[["render",br],["__scopeId","data-v-5df4c53a"]]);var Jr=Qr,Gr={components:{SidebarItem:Jr},props:["active"],data(){return{localUrl:w,drawer:!0,links:wr}},computed:{},watch:{active(){this.drawer=!this.drawer}},methods:{},mounted(){this.$vuetify.display.mdAndDown&&(this.drawer=!1)}};const Xr=(0,m.Z)(Gr,[["render",or]]);var ta=Xr;const ea={key:0,class:"tw-space-y-2 tw-mb-5 tw-opacity-100"},ra=["dir"],aa={class:"tw-flex tw-items-start"},sa={class:"tw-p-2"},la={class:"tw-p-2"},oa={class:"tw-text-white tw-font-semibold"},ia={key:0,class:"tw-flex-1"},wa={key:1,class:"tw-pt-2 tw-pr-2"},na=["onClick"];var da={__name:"AppAnnonces",setup(t){const e=(0,s.Fl)((()=>st.getters["app/alerts"])),r=(0,s.Fl)((()=>st.getters["user/user"])),l=(0,ke.iH)([]),o=(0,s.Fl)((()=>e.value.data.filter((t=>!l.value.includes(r.value.id+"*"+t.id))))),i=t=>{l.value.push(r.value.id+"*"+t),localStorage.setItem("closed_alerts",JSON.stringify(l.value))},w=()=>{const t=localStorage.getItem("closed_alerts");null==t?localStorage.setItem("closed_alerts",JSON.stringify([])):l.value=JSON.parse(t)};return w(),(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(a.uT,{class:"tw-duration-500","enter-from-class":"!tw-opacity-0","leave-to-class":"!tw-opacity-0"},{default:(0,s.w5)((()=>[e.value.fetched&&o.value.length?((0,s.wg)(),(0,s.iD)("div",ea,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,dir:t.direction,class:(0,wt.C_)([["danger"==t.variant&&"tw-bg-rose-500","info"==t.variant&&"tw-bg-cyan-500","warning"==t.variant&&"tw-bg-amber-500","success"==t.variant&&"tw-bg-emerald-500"],"tw-h-fit tw-w-full tw-border tw-border-solid"])},[(0,s._)("div",aa,[(0,s._)("div",sa,[(0,s.Wm)(l,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl tw-text-white"})]),(0,s._)("div",la,[(0,s._)("p",oa,(0,wt.zw)(t.content),1)]),t.closeable?((0,s.wg)(),(0,s.iD)("div",ia)):(0,s.kq)("",!0),t.closeable?((0,s.wg)(),(0,s.iD)("div",wa,[(0,s._)("button",{onClick:e=>i(t.id),class:"tw-p-1 hover:tw-bg-white/10 tw-duration-200 tw-rounded-full"},[(0,s.Wm)(l,{icon:"iconamoon:close-duotone",class:"tw-text-white tw-text-lg"})],8,na)])):(0,s.kq)("",!0)])],10,ra)))),128))])):(0,s.kq)("",!0)])),_:1})}}};const ca=da;var ua=ca;class pa{async paginate(t="",e){return await E.getCookie(),A.get("api/alerts"+t,{params:e})}async alerts(){return await E.getCookie(),A.get("api/my-alerts")}async create(t){return await E.getCookie(),A.post("api/alerts",t)}async update(t,e){return await E.getCookie(),A.post("api/alerts/"+t,e)}async get(t){return await E.getCookie(),A.get("api/alerts/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/alerts/"+t)}}var ga=new pa;class ma{async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/products"+t,e)}async create(t){await E.getCookie();const e=new FormData;return e.append("name",t.name),e.append("buying_price",t.buyingPrice),e.append("selling_price",t.sellingPrice),e.append("ref",t.reference),e.append("link_video",t.link_video),e.append("link_store",t.link_store),e.append("transport_mode",t.transport_mode),e.append("expedition_date",t.expedition_date),e.append("country_of_purchase",t.country_of_purchase),e.append("variations",JSON.stringify(t.variants)),e.append("offers",JSON.stringify(t.offers)),e.append("description",t.description),e.append("image",t.image),e.append("deliveries",JSON.stringify(t.selectedDeliveries)),W.post("api/products/new",e)}async update(t,e){await E.getCookie();const r=new FormData;return r.append("name",e.name),r.append("buying_price",e.buyingPrice),r.append("selling_price",e.sellingPrice),r.append("ref",e.reference),r.append("link_video",e.link_video),r.append("link_store",e.link_store),r.append("transport_mode",e.transport_mode),r.append("expedition_date",e.expedition_date),r.append("country_of_purchase",e.country_of_purchase),r.append("variations",JSON.stringify(e.variants)),r.append("offers",JSON.stringify(e.offers)),r.append("description",e.description),r.append("image",e.image),r.append("deliveries",JSON.stringify(e.selectedDeliveries)),W.post("api/products/update/"+t,r)}async updateStatus(t,e){await E.getCookie();const r=new FormData;return r.append("status",e.status),r.append("note",e.note),W.post("api/products/status/update/"+t,r)}async all(){return await E.getCookie(),A.get("api/products")}async allForOrder(t){return await E.getCookie(),A.get("api/products/for-order/"+t)}async getProduct(t){return await E.getCookie(),A.get("api/products/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/products/delete/"+t)}async stockAlert(){return await E.getCookie(),A.get("api/product/stockAlert")}}var ha=new ma;class fa{async all(){return await E.getCookie(),A.get("api/sales")}async delete(t){return await E.getCookie(),A.get("api/sales/delete/"+t)}async update(t,e){return await E.getCookie(),A.post("api/orders/update/"+t,e)}async create(t){return await E.getCookie(),A.post("api/sales/new",t)}async getNewOrders(t){return await E.getCookie(),A.post("api/sales/fresh",{ids:t})}async agenteOrders(){return await E.getCookie(),A.get("api/orders")}async agenteConfirmedOrders(){return await E.getCookie(),A.get("api/orders/confirmer")}async agenteAddOrder(){return await E.getCookie(),A.get("api/orders/add")}async agenteGetOrder(){return await E.getCookie(),A.get("api/orders/toconfirmate")}async agenteUpdateConfirmation(t,e,r={}){return await E.getCookie(),A.post("api/orders/update/confirmation/"+t,{confirmation:e,...r})}async agenteUpdateConfirmationWithNote(t,e,r){return await E.getCookie(),A.post("api/orders/update/confirmationandnote/"+t,{confirmation:e,note:r})}async agenteUpdateUpsell(t,e){return await E.getCookie(),A.post("api/orders/update/upsell/"+t,{upsell:e})}async agenteUpdateAffectaion(t,e){return await E.getCookie(),A.post("api/orders/update/affectation/"+t,{affectation:e})}async agenteUpdateNote(t,e){return await E.getCookie(),A.post("api/orders/update/note/"+t,{note:e})}async deliveryOrders(){return await E.getCookie(),A.get("api/orders/todelivery")}async deliveryDeliveredOrders(){return await E.getCookie(),A.get("api/orders/delivred")}async deliveryUpdateDelivery(t,e,r){return await E.getCookie(),A.post("api/orders/update/delivery/"+t,{delivery:e,...r})}async history(t){return await E.getCookie(),A.get("api/orders/history/show/"+t)}async itemHistory(t){return await E.getCookie(),A.get("api/orders/item/history/show/"+t)}async resetSale(t){return await E.getCookie(),A.post("api/sales/reset",{ids:t})}async scanSale(t){return await E.getCookie(),A.post("api/sales/scan",t)}async availableOrders(){return await E.getCookie(),A.get("api/orders/count")}async warehouseControl(t,e){return await E.getCookie(),A.post("api/warehouse-control",{id:t,target:e.target,scanned:e.scanned})}}var ba=new fa;const va={key:0,class:"tw-w-[400px] tw-fixed tw-top-[70px] !tw-z-[510000] tw-right-[5px]"},xa={class:"tw-flex tw-items-center tw-justify-between tw-text-neutral-400 tw-mt-2"},ya={class:"tw-text-xs"},_a=["disabled"],ka=(0,s._)("div",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap tw-ml-[70%]"},null,-1);var Ca={__name:"AlertNotification",setup(t){const e=(0,ke.iH)(!0),r=(0,i.oR)(),a=(0,ke.iH)(!1),l=async()=>{a.value=!0,await De.Changestatus().then((t=>{"SUCCESS"==t.data.code&&r.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})),e.value=!1,a.value=!1},o=(0,s.Fl)((()=>r.getters["app/notifications"].highlighted));return(t,r)=>((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[o.value&&e.value?((0,s.wg)(),(0,s.iD)("div",va,[(0,s.Wm)(Vt.w,{color:"white",border:"start","border-color":"success",elevation:"2",density:"compact"},{text:(0,s.w5)((()=>[(0,s._)("p",null,(0,wt.zw)(o.value.message),1),(0,s._)("div",xa,[(0,s._)("span",ya,(0,wt.zw)((0,ke.SU)(ze())(o.value.created_at).fromNow()),1),(0,s._)("button",{disabled:a.value,onClick:l,class:"tw-p-0.5 tw-px-4 hover:tw-bg-neutral-100 tw-text-sm"},(0,wt.zw)(a.value?"Closing...":"Close"),9,_a)])])),default:(0,s.w5)((()=>[ka])),_:1})])):(0,s.kq)("",!0)]))}};const Da=Ca;var Sa=Da,za=r(4410),Ua=r.n(za),qa=r(6027),Pa={components:{AppHeader:tr,AppSidebar:ta,Alert:Yt,AlertNotification:Sa,AppAnnonces:ua},data(){return{drawer:!1,subscribed:!1,fetching:null,delay:6e4,showScrollUpButton:!1,firstFetch:!1,echo:null,presenceChannelId:1}},computed:{isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},sales(){return this.$store.getters["sale/sales"]},salesFetched(){return this.$store.getters["sale/fetched"]}},methods:{toggleSidebar(){this.drawer=!this.drawer},checkScroll(){this.showScrollUpButton=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},async getCities(){if(0==this.cities.length||1!=localStorage.getItem("update_cities"))return ot.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e),localStorage.setItem("update_cities",1)}))},getUsers(){ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getSales(){return this.isLoaded=!1,ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)},async fetchNewOrders(){if(this.salesFetched||!this.firstFetch){const t=this.sales.map((t=>t.id));return ba.getNewOrders(t).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders,r=t.data.data.count;this.$store.dispatch("sale/setCount",r),e.length>0&&(this.$store.dispatch("sale/addSales",e),this.$alert({type:"info",title:e.length+" New orders has been added"})),this.firstFetch=!0}}))}},async getAlerts(){return ga.alerts().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.alerts;this.$store.dispatch("app/setAlertsData",e),this.$store.dispatch("app/setAlertsFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)},async subscribe(){Ua().Runtime.createXHR=function(){var t=new XMLHttpRequest;return t.withCredentials=!0,t},window.Pusher=Ua();const t=new qa.ZP({broadcaster:"pusher",key:"96c60637f1b07ace1345",cluster:"eu",channelAuthorization:{endpoint:n+"api/pusher",withCredentials:!0}});this.echo=t;const e=this.presenceChannelId;t.join(`channel.${e}`).here((t=>{this.$store.dispatch("online/setUsers",t),this.$store.dispatch("online/setFetched",!0)})).joining((t=>{const e=this.$store.getters["online/users"],r=e.find((e=>e.id===t.id));r?delete r.left_at:e.push(t),this.$store.dispatch("online/setUsers",e)})).leaving((t=>{let e=this.$store.getters["online/users"];e=e.map((e=>e.id===t.id?{...e,left_at:(new Date).toISOString()}:e)),this.$store.dispatch("online/setUsers",e)}))},unsubscribe(){this.echo.leaveChannel(`channel.${this.presenceChannelId}`)}},watch:{$route(){"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts")}},mounted(){this.getCities(),this.getAlerts(),"admin"==this.user.role&&this.fetchNewOrders(),this.$can("show_all_products")&&this.getProducts(),"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts"),this.getUsers(),this.subscribe(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll),this.unsubscribe()}};const La=(0,m.Z)(Pa,[["render",Xt]]);var Wa=La;const Aa={key:0};function $a(t,e,r,a,l,o){return l.exists?((0,s.wg)(),(0,s.iD)("div",Aa,[((0,s.wg)(),(0,s.j4)((0,s.LL)(o.dashboard)))])):(0,s.kq)("",!0)}var Ea=r(6824),Ta=r(8521);const Fa={key:0},ja={key:1},Va=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Ia={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Oa={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Ha={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},Ma=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),Ra=["disabled"],Na={key:0,class:"tw-flex tw-items-center tw-gap-2"},Ya={key:1},Za=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Ka={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Ba(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable"),n=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fa,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ja,[Va,(0,s._)("div",Ia,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1})]),(0,s._)("div",Oa,[(0,s._)("div",Ha,[Ma,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Na,[(0,s.Wm)(ct.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Ya,[Za,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,Ra)])]),(0,s._)("div",Ka,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Qa=r(4286);const Ja={class:"tw-flex tw-items-center"},Ga={class:"tw-flex tw-flex-col tw-h-full tw-text-neutral-600"},Xa={class:"tw-text-lg tw-font-bold"},ts={class:"tw-text-sm"};function es(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(Qa.C,{class:"tw-rounded-lg tw-border pa-5 py-2",color:"white",height:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",Ja,[(0,s._)("div",{class:(0,wt.C_)([o.bgColor,"pa-3 rounded-circle tw-w-fit tw-mr-3"])},[(0,s.Wm)(ct.t,{color:r.dash.color,size:"large",icon:r.dash.icon},null,8,["color","icon"])],2),(0,s._)("div",Ga,[(0,s._)("p",Xa,(0,wt.zw)(r.dash.value),1),(0,s.Wm)(nr.C),(0,s._)("p",ts,(0,wt.zw)(r.dash.title),1)])])])),_:1})}var rs={props:["dash"],computed:{bgColor(){const t={orange:"tw-bg-orange-500/10",green:"tw-bg-green-500/10",blue:"tw-bg-blue-500/10",pink:"tw-bg-pink-500/10",red:"tw-bg-red-500/10",yellow:"tw-bg-yellow-500/10"};return t[this.dash.color]}}};const as=(0,m.Z)(rs,[["render",es]]);var ss=as;const ls={key:0,class:""},os={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},is=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),ws=[is],ns={key:1,class:"tw-min-h-[50px]"},ds={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},cs={class:"py-2 px-3 tw-rounded tw-border tw-grid tw-grid-cols-12"},us={class:"tw-col-span-12 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},ps={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs"},gs={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},ms=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-red-400"},null,-1),hs={key:1},fs={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},bs=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),vs={key:1,class:"tw-flex tw-items-center tw-gap-2"},xs=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-yellow-400"},null,-1);function ys(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ls,[(0,s._)("div",os,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},ws))),64))])])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",ns,[(0,s._)("div",ds,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",cs,[(0,s._)("div",us,(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),1),(0,s._)("div",ps,[t.last_action?((0,s.wg)(),(0,s.iD)("div",hs,[1==o.isOnline(o.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",fs,[bs,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",vs,[xs,(0,s.Uk)(" "+(0,wt.zw)(o.lastSeen(t.last_action)),1)]))])):((0,s.wg)(),(0,s.iD)("div",gs,[ms,(0,s.Uk)(" Never Connected ")]))])])])))),128))]),(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var _s=r(8777),ks={components:{},data(){return{isLoaded:!1}},computed:{users(){return this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name))}},methods:{getUsers(){ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),console.log(t),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,_s.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const Cs=(0,m.Z)(ks,[["render",ys]]);var Ds=Cs,Ss=r(1489),zs=r(3144),Us=r(9870),qs=r(6161),Ps=r(4722);function Ls(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(Ss._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(zs.d,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>l.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Us.L,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(qs.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Ps.H,{key:t.id,value:t.id,transition:"fade-transition","reverse-transition":"fade-transition"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component),{"filtered-sales":r.filteredSales},null,8,["filtered-sales"]))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const Ws={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},As={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},$s={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Es={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ts={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Fs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},js={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Vs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Is(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ws,[(0,s._)("div",As,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",$s,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Es,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Ts,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Fs,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",js,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Vs,[(0,s.Wm)(i,{dash:o.transferSales},null,8,["dash"])])])])}const Os={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},Hs={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},Ms={class:"tw-text-xl tw-font-bold"},Rs={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},Ns={class:"tw-text-sm"},Ys={class:"rounded-circle tw-w-fit tw-mr-3"};function Zs(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Qa.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",Os,[(0,s._)("div",Hs,[(0,s._)("p",Ms,(0,wt.zw)(isNaN(r.dash.pourcentage)?"0.00%":r.dash.pourcentage)+" "+(0,wt.zw)(r.symbol),1),(0,s._)("span",Rs,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",Ns,(0,wt.zw)(r.dash.title),1)])]),(0,s._)("div",Ys,[(0,s.Wm)(ct.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var Ks={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Bs=(0,m.Z)(Ks,[["render",Zs]]);var Qs=Bs,Js={components:{DashItemTwo:Qs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.sales.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"livrer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.delivery))).length,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"expidier"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-orange",icon:"mdi-truck"}},transferSales(){return{id:8,title:"Transferred",value:this.sales.filter((t=>"transfer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"transfer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"purple-darken-1",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},mounted(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Gs=(0,m.Z)(Js,[["render",Is]]);var Xs=Gs;const tl={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},el={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},rl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},al={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},sl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ll={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ol={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},il={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},wl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function nl(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",tl,[(0,s._)("div",el,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",rl,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",al,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",sl,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",ll,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",ol,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",il,[(0,s.Wm)(i,{dash:o.doubledSales},null,8,["dash"])]),(0,s._)("div",wl,[(0,s.Wm)(i,{dash:o.wrongNumberSales},null,8,["dash"])])])])}var dl={components:{DashItemTwo:Qs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",pourcentage:100,value:this.sales.length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>!t.confirmation)).length/this.sales.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.confirmation)).length/this.sales.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}},doubledSales(){return{id:8,title:"Doubled",pourcentage:(100*this.sales.filter((t=>"double"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"double"==t.confirmation)).length,color:"purple-accent-4",icon:"mdi mdi-selection-multiple"}},wrongNumberSales(){return{id:9,title:"Wrong Number",pourcentage:(100*this.sales.filter((t=>"wrong-number"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"wrong-number"==t.confirmation)).length,color:"purple-lighten-1",icon:"mdi mdi-phone-remove"}}},mounted(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const cl=(0,m.Z)(dl,[["render",nl]]);var ul=cl,pl={components:{DeliveryTab:Xs,ConfirmationTab:ul},props:["filteredSales"],data(){return{tab:1,tabs:[{id:1,name:"Confirmation",component:"ConfirmationTab"},{id:2,name:"Delivery",component:"DeliveryTab"}]}}};const gl=(0,m.Z)(pl,[["render",Ls]]);var ml=gl;const hl={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4 py-5"},fl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},bl={class:"tw-relative"},vl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},xl={class:"tw-relative"},yl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},_l=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agents",-1),kl={class:"tw-relative"},Cl=(0,s._)("option",{value:"all"},"Select",-1),Dl=["value"],Sl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},zl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Deliveries",-1),Ul={class:"tw-relative"},ql=(0,s._)("option",{value:"all"},"Select",-1),Pl=["value"],Ll={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Wl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Cities",-1),Al={class:"tw-relative"},$l=(0,s._)("option",{value:"all"},"Select",-1),El=["value"],Tl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Fl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Products",-1),jl={class:"tw-relative"},Vl=(0,s._)("option",{value:"all"},"Select",-1),Il=["value"],Ol={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Hl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Shops",-1),Ml={class:"tw-relative"},Rl=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Nl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Yl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Sources",-1),Zl={class:"tw-relative"},Kl=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Bl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Ql=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),Jl={class:"tw-relative"},Gl=(0,s._)("option",{value:"all"},"Select",-1),Xl=(0,s._)("option",{value:"oui"},"Oui",-1),to=(0,s._)("option",{value:"non"},"Non",-1),eo=[Gl,Xl,to];function ro(t,e,r,l,o,i){const w=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",hl,[(0,s._)("div",fl,[(0,s._)("div",bl,[(0,s.Wm)(w,{name:"Created Date",filter:o.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>o.dateFilter=t)},null,8,["filter"])])]),(0,s._)("div",vl,[(0,s._)("div",xl,[(0,s.Wm)(w,{name:"Dropped Date",filter:o.droppedAtFilter,"onUpdate:filter":e[1]||(e[1]=t=>o.droppedAtFilter=t)},null,8,["filter"])])]),(0,s._)("div",yl,[_l,(0,s._)("div",kl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.agentFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Cl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,Dl)))),128))],512),[[a.bM,o.agentFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Sl,[zl,(0,s._)("div",Ul,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[ql,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,Pl)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ll,[Wl,(0,s._)("div",Al,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.cityFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[$l,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,El)))),128))],512),[[a.bM,o.cityFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Tl,[Fl,(0,s._)("div",jl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Vl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Il)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ol,[Hl,(0,s._)("div",Ml,[Rl,(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Nl,[Yl,(0,s._)("div",Zl,[Kl,(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Bl,[Ql,(0,s._)("div",Jl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.upsellFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},eo,512),[[a.bM,o.upsellFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0)])}const ao={class:"tw-text-sm tw-text-neutral-600"},so=["onClick"];function lo(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",ao,(0,wt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,so)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var oo=r(1271),io=r(2292),wo=r(1745),no=r(4253),co=r(4819),uo=r(2143),po={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const go=(0,m.Z)(po,[["render",lo]]);var mo=go,ho={components:{DateFilter:mo},props:["filters"],data(){return{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""],isLoaded:!1,dashItems:[{id:1,title:"Total Chiffres d'affaire",value:1200,icon:"mdi-currency-usd",color:"green"},{id:2,title:"Chiffres d'affaire versé",value:"35000 DH",icon:"mdi mdi-credit-card-check-outline",color:"orange"},{id:3,title:"Chiffres d'affaire non versé",value:600,icon:"mdi mdi-credit-card-remove-outline",color:"red"},{id:4,title:"Chiffres d'affaire en caisse",value:543,icon:"mdi mdi-bank",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},watch:{agentFilter(t){this.$emit("update:filters",{...this.filters,agentFilter:t})},deliveryFilter(t){this.$emit("update:filters",{...this.filters,deliveryFilter:t})},productFilter(t){this.$emit("update:filters",{...this.filters,productFilter:t})},cityFilter(t){this.$emit("update:filters",{...this.filters,cityFilter:t})},upsellFilter(t){this.$emit("update:filters",{...this.filters,upsellFilter:t})},dateFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,dateFilter:t})}},droppedAtFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,droppedAtFilter:t})}}},computed:{agents(){return this.$store.getters["user/agents"]},deliveries(){return this.$store.getters["user/deliveries"]},products(){return this.$store.getters["product/products"]},cities(){return this.$store.getters["city/cities"]}},mounted(){ot.deliveries().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setDeliveries",e),this.isLoaded=!0}})).catch(this.$handleApiError),ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.products;console.log(t.data),this.$store.dispatch("product/setProducts",e),this.isLoaded=!0}})).catch(this.$handleApiError),ot.cities().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("city/setCities",e),this.isLoaded=!0}})).catch(this.$handleApiError),ot.agents().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setAgents",e),this.isLoaded=!0}})).catch(this.$handleApiError)}};const fo=(0,m.Z)(ho,[["render",ro]]);var bo=fo;const vo=t=>{if(!t)return 0;const e=t.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return(parseFloat(t.price?t.price:0)+parseFloat(e)).toFixed(2)},xo=t=>t?t.split("api/")[1]:null,yo=t=>JSON.parse(JSON.stringify(t));var _o={components:{DashItem:ss,UsersTable:Ds,TabSwitcher:ml,FilterTabs:bo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],w=this.filters.droppedAtFilter[1];return this.sales.filter((n=>{if("all"!==t&&parseInt(n.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(n.affectation)!=parseInt(e))return!1;if("all"!==s&&n.upsell!=s)return!1;if("all"!==r&&!n.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&n.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(n.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const g=new Date(n.dropped_at),m=g.getDate(),h=g.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&m<t)return!1}if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&m>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=vo(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=vo(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=vo(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const ko=(0,m.Z)(_o,[["render",Ba]]);var Co=ko;const Do=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Dashboard")])],-1),So={key:0},zo={key:1},Uo={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},qo={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},Po={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Lo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Wo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Ao={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},$o={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-5"},Eo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function To(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[Do,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",So,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",zo,[(0,s._)("div",Uo,[(0,s._)("div",qo,[(0,s._)("div",Po,[(0,s.Wm)(w,{dash:o.earningsDash,symbol:"DH",numbers:!1},null,8,["dash"])]),(0,s._)("div",Lo,[(0,s.Wm)(w,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Wo,[(0,s.Wm)(w,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Ao,[(0,s.Wm)(w,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",$o,[(0,s.Wm)(w,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Eo,[(0,s.Wm)(w,{dash:o.canceledSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Fo={components:{DashItemTwo:Qs},data(){return{isLoaded:!0,orders:[],cities:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},totalSales(){return{id:1,title:"Total Orders",value:this.orders.length,pourcentage:100,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.filterByStatus("livrer").length,pourcentage:100*this.filterByStatus("livrer").length/this.orders.length,color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:231,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.filterByStatus("expidier").length,pourcentage:100*this.filterByStatus("expidier").length/this.orders.length,color:"primary-orange",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.filterByStatus("reporter").length,pourcentage:100*this.filterByStatus("reporter").length/this.orders.length,color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.filterByStatus("annuler").length,pourcentage:100*this.filterByStatus("annuler").length/this.orders.length,color:"red-accent-3",icon:"mdi mdi-cancel"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:this.earnings,color:"green-darken-4",icon:"mdi-currency-usd"}},earnings(){return this.orders.reduce(((t,e)=>null==e.factorisations||e.factorisations.paid||e.factorisations.close?t:t+e.factorisations.price),0)}},methods:{filterByStatus(t){return this.orders.filter((e=>e.delivery==t))},getOrders(){this.isLoaded=!1,Er.delivery().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const jo=(0,m.Z)(Fo,[["render",To]]);var Vo=jo;const Io=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Dashboard ")])],-1),Oo={key:0},Ho={key:1},Mo={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ro={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},No={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Yo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Zo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ko={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Bo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Qo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Jo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Go(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[Io,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Oo,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ho,[(0,s._)("div",Mo,[(0,s._)("div",Ro,[(0,s._)("div",No,[(0,s.Wm)(w,{dash:o.earningsDash,symbol:l.currency,numbers:!1},null,8,["dash","symbol"])]),(0,s._)("div",Yo,[(0,s.Wm)(w,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Zo,[(0,s.Wm)(w,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Ko,[(0,s.Wm)(w,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Bo,[(0,s.Wm)(w,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",Qo,[(0,s.Wm)(w,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Jo,[(0,s.Wm)(w,{dash:o.upsellSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Xo={components:{DashItemTwo:Qs},data(){return{currency:c,isLoaded:!0,orders:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},totalSales(){return{id:1,title:"Total",pourcentage:0===this.orders.length?0:100,value:this.orders.filter((t=>"double"!=t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.orders.filter((t=>!t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>!t.confirmation)).length/this.orders.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.orders.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"confirmer"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.orders.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"reporter"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.orders.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"annuler"==t.confirmation)).length/this.orders.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},upsellSales(){return{id:6,title:"Upsell",value:this.orders.filter((t=>"oui"==t.upsell)).length,pourcentage:(100*this.orders.filter((t=>"oui"==t.upsell)).length/this.orders.length).toFixed(2),color:"#2563eb",icon:"mdi mdi-transfer-up"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:.7*this.orders.filter((t=>"oui"==t.upsell&&"livrer"==t.delivery)).length,color:"green-darken-4",icon:"mdi-currency-usd"}},noanswerSales(){return{id:6,title:"No Answer",value:this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.orders.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},methods:{filterByStatus(t){return this.orders.filter((e=>e.confirmation==t))},getOrders(){this.isLoaded=!1,Er.agente().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const ti=(0,m.Z)(Xo,[["render",Go]]);var ei=ti;const ri=(0,s._)("div",{class:"tw-w-full tw-rounded-lg tw-py-5 tw-px-5 tw-flex tw-flex-center tw-justify-center"},[(0,s._)("h1",{class:"tw-text-lg"},"Welcome to Dashboard !")],-1),ai=[ri];function si(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,ai)}var li={components:{},data(){return{dashItems:[{id:1,title:"Orders",value:1200,icon:"mdi-package-variant-closed",color:"orange"},{id:2,title:"Total Sales",value:"35000 DH",icon:"mdi-currency-usd",color:"green"},{id:3,title:"Orders Confirmed",value:600,icon:"mdi-phone-check-outline",color:"blue"},{id:4,title:"Orders Delivered",value:543,icon:"mdi-truck-check-outline",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role}}};const oi=(0,m.Z)(li,[["render",si]]);var ii=oi;const wi={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},ni=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),di=[ni];function ci(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",wi,[l.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},di))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.dashes,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const ui={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},pi={class:"tw-flex tw-justify-between"},gi={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},mi={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},hi={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},fi={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function bi(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ui,[(0,s._)("div",pi,[(0,s._)("div",null,[(0,s._)("div",gi,[(0,s._)("p",mi,(0,wt.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",hi,[(0,s._)("span",fi,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var vi={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const xi=(0,m.Z)(vi,[["render",bi]]);var yi=xi;class _i{async statistics(){return await E.getCookie(),A.post("api/v1/followup/statistics")}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/followup/orders"+t,e)}async update(t,e){return await E.getCookie(),A.post("api/v1/followup/orders/"+t+"/update",e)}async create(t){return await E.getCookie(),A.post("api/v1/followup/orders/create",t)}}var ki=new _i,Ci={components:{DashCard:yi},data(){return{fetching:!0,dashes:[]}},mounted(){ki.statistics().then((t=>{console.log(t.data.data),this.dashes=t.data.data.statistics,this.fetching=!1}))}};const Di=(0,m.Z)(Ci,[["render",ci]]);var Si=Di;const zi={key:0},Ui={key:1},qi=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Pi={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Li={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Wi={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},Ai=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),$i=["disabled"],Ei={key:0,class:"tw-flex tw-items-center tw-gap-2"},Ti={key:1},Fi=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),ji={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Vi(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable"),n=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",zi,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ui,[qi,(0,s._)("div",Pi,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1})]),(0,s._)("div",Li,[(0,s._)("div",Wi,[Ai,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ei,[(0,s.Wm)(ct.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Ti,[Fi,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,$i)])]),(0,s._)("div",ji,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Ii={components:{DashItem:ss,UsersTable:Ds,TabSwitcher:ml,FilterTabs:bo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],w=this.filters.droppedAtFilter[1];return this.sales.filter((n=>{if("all"!==t&&parseInt(n.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(n.affectation)!=parseInt(e))return!1;if("all"!==s&&n.upsell!=s)return!1;if("all"!==r&&!n.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&n.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(n.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const g=new Date(n.dropped_at),m=g.getDate(),h=g.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&m<t)return!1}if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&m>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=vo(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=vo(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=vo(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const Oi=(0,m.Z)(Ii,[["render",Vi]]);var Hi=Oi,Mi={components:{admin:Co,delivery:Vo,agente:ei,default:ii,seller:Hi,"follow-up":Si},data(){return{localUrl:w,exists:!1}},computed:{user(){return this.$store.getters["user/user"]},dashboard(){return["admin","seller","delivery","agente","follow-up"].includes(this.user.role)?this.user.role:"default"}},methods:{check(){switch(this.user.role){case"admin":this.$router.push({name:"dashboards/admin"});break;case"agente":this.$router.push({name:"dashboards/agent"});break;case"seller":this.$router.push({name:"dashboards/seller"});break;default:this.exists=!0;break}}},created(){this.check()}};const Ri=(0,m.Z)(Mi,[["render",$a]]);var Ni=Ri;const Yi={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Zi={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Ki={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Bi={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Qi=["disabled"],Ji=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Gi=(0,s._)("span",null," previous ",-1),Xi=[Ji,Gi],tw=["disabled"],ew=(0,s._)("span",null," Next ",-1),rw=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),aw=[ew,rw];function sw(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Yi,[(0,s._)("div",Zi,[(0,s.Uk)(" Page "),(0,s._)("span",Ki,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",Bi,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Xi,10,Qi),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},aw,10,tw)])])])}var lw={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const ow=(0,m.Z)(lw,[["render",sw]]);var iw=ow;const ww={class:"py-5 tw-min-h-[calc(100dvh-110px)] px-5 tw-border bg-white tw-w-full tw-rounded-md"},nw=(0,s._)("h1",{class:"tw-text-lg tw-pl-1"},"Notifications",-1),dw={key:0},cw={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},uw={key:1,class:"tw-relative tw-h-full tw-flex-col tw-flex tw-overflow-x-auto sm:tw-rounded-lg"},pw={key:0},gw=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),mw=[gw],hw={class:"tw-w-full tw-text-left tw-text-gray-500"},fw={class:"tw-w-fit tw-flex tw-flex-col tw-whitespace-nowrap text-black"},bw={class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},vw=(0,s._)("div",{class:"tw-flex-1 tw-mt-auto"},null,-1);var xw={__name:"NotificationView",setup(t){const e=(0,i.oR)(),r=(0,ke.iH)(!1),a=(0,ke.iH)(null),l=t=>{a.value.page=t,o()},o=async()=>{const t={...a.value,data:null};r.value=!1,await De.AllNotifications(t).then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setAllNotifications",t.data.data),a.value=t.data.data)})).catch((t=>{console.error("API Error",t)})),r.value=!0};(0,s.bv)((()=>{o()}));const w=(0,s.Fl)((()=>e.getters["app/notifications"].all));return(t,e)=>((0,s.wg)(),(0,s.iD)("div",ww,[nw,r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dw,[(0,s._)("div",cw,[(0,s.Wm)(ct.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),r.value?((0,s.wg)(),(0,s.iD)("div",uw,[""==w.value.data?((0,s.wg)(),(0,s.iD)("div",pw,mw)):(0,s.kq)("",!0),(0,s._)("table",hw,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value.data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,scope:"col",class:(0,wt.C_)([{"bg-white":"read"==t.status},"tw-bg-orange-50 tw-py-3 tw-px-1 text-truncate"])},[(0,s._)("div",fw,(0,wt.zw)(t.message),1),(0,s._)("div",bw,(0,wt.zw)((0,ke.SU)(ze())(t.created_at).fromNow()),1)],2)))),128))]),vw,r.value?((0,s.wg)(),(0,s.j4)(iw,{key:1,onPageChange:l,"per-page":a.value.per_page,"last-page":a.value.last_page,from:a.value.from,to:a.value.to,total:a.value.total,"current-page":a.value.current_page},null,8,["per-page","last-page","from","to","total","current-page"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]))}};const yw=xw;var _w=yw,kw={path:"/",name:"home",component:Wa,meta:{module:"dashboard"},children:[{path:"",name:"dashboard",component:Ni,meta:{module:"dashboard",title:"Dashboard",gate:"all"}},{path:"/notifications",name:"notifications",component:_w,meta:{module:"notification",title:"Notifications",gate:"all"}}]};const Cw={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Dw=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your products")],-1),Sw={key:0},zw=(0,s._)("span",{class:"text-white"}," Add Expedition ",-1),Uw={key:0},qw={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Pw={class:"mb-5 tw-flex"},Lw={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Ww={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Aw={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},$w=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Ew={class:"tw-relative"},Tw={class:""};function Fw(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.products.length},[(0,s._)("div",Cw,[Dw,t.$can("create_product")?((0,s.wg)(),(0,s.iD)("div",Sw,[(0,s.Wm)(nt.T,{color:"primary-color",link:"",to:{name:"product/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),zw])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Uw,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",qw,[(0,s._)("div",Pw,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Lw,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Ww,[(0,s._)("div",Aw,[$w,(0,s._)("div",Ew,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Tw,[(0,s.Wm)(n,{columns:o.columns,products:i.filteredProducts},null,8,["columns","products"])])])):(0,s.kq)("",!0)])}const jw={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Vw={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Iw={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Ow=(0,s._)("th",null,null,-1),Hw={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Mw={class:"tw-w-4 tw-p-4"},Rw={class:"tw-flex tw-items-center"},Nw={key:0,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-green-500"},Yw={key:1,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-yellow-500"},Zw={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Kw={class:"tw-px-6 tw-py-4"},Bw={key:0},Qw={class:"tw-px-6 tw-py-4"},Jw={class:"tw-px-6 tw-py-4"},Gw={class:"tw-px-6 tw-py-4"},Xw={class:"tw-px-6 tw-py-4"},tn={class:"tw-px-6 tw-py-4"},en={class:"tw-px-6 tw-py-4"},rn={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},an={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},sn={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},ln=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),on=["value"],wn={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},nn={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},dn={class:"tw-text-white"};function cn(t,e,r,l,o,i){const w=(0,s.up)("ProductActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jw,[(0,s._)("table",Vw,[(0,s._)("thead",Iw,[(0,s._)("tr",null,[Ow,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Hw,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Mw,[(0,s._)("div",Rw,[1==t.status?((0,s.wg)(),(0,s.iD)("span",Nw)):(0,s.kq)("",!0),0==t.status?((0,s.wg)(),(0,s.iD)("span",Yw)):(0,s.kq)("",!0)])]),(0,s._)("th",Zw,(0,wt.zw)(t.id),1),(0,s._)("td",Kw,[t.seller_user?((0,s.wg)(),(0,s.iD)("span",Bw,(0,wt.zw)(t.seller_user.firstname)+" "+(0,wt.zw)(t.seller_user.lastname),1)):(0,s.kq)("",!0)]),(0,s._)("td",Qw,(0,wt.zw)(t.ref),1),(0,s._)("td",Jw,(0,wt.zw)(t.name),1),(0,s._)("td",Gw,(0,wt.zw)(t.buying_price)+" "+(0,wt.zw)(o.currency),1),(0,s._)("td",Xw,(0,wt.zw)(t.selling_price)+" "+(0,wt.zw)(o.currency),1),(0,s._)("td",tn,(0,wt.zw)(i.calculQty(t.variations)),1),(0,s._)("td",en,(0,wt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",rn,[(0,s.Wm)(w,{product:t},null,8,["product"])])])))),128))])])]),(0,s._)("div",an,[(0,s._)("div",sn,[ln,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,on)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",wn,[(0,s._)("div",nn,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.products.length:i.nextRange)+" of "+(0,wt.zw)(r.products.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",dn,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const un={class:"tw-flex tw-items-center tw-gap-1"},pn=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12 2C11.8 2 11.6 2.1 11.4 2.2L3.5 6.6C3.2 6.8 3 7.1 3 7.5V16.5C3 16.9 3.2 17.2 3.5 17.4L11.4 21.8C11.6 21.9 11.8 22 12 22S12.4 21.9 12.6 21.8L13.5 21.3C13.2 20.7 13.1 20 13 19.3V12.6L19 9.2V13C19.7 13 20.4 13.1 21 13.3V7.5C21 7.1 20.8 6.8 20.5 6.6L12.6 2.2C12.4 2.1 12.2 2 12 2M12 4.2L18 7.5L16 8.6L10.1 5.2L12 4.2M8.1 6.3L14 9.8L12 10.9L6 7.5L8.1 6.3M5 9.2L11 12.6V19.3L5 15.9V9.2M21.3 15.8L17.7 19.4L16.1 17.8L15 19L17.8 22L22.6 17.2L21.3 15.8Z",fill:"white"})],-1),gn={key:4};function mn(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("ProductStatusPopup");return(0,s.wg)(),(0,s.iD)("div",un,[t.$can("update_product")&&"admin"==this.user.role?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showStatusPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[pn])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_product")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,to:"/products/update/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(nt.T,{key:2,to:"/products/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.j4)(nt.T,{key:3,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"]),l.showStatusPopup?((0,s.wg)(),(0,s.iD)("div",gn,[(0,s.Wm)(w,{visible:l.showStatusPopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showStatusPopup=t),onCancel:e[3]||(e[3]=t=>l.showStatusPopup=!1),product:r.product},null,8,["visible","product"])])):(0,s.kq)("",!0)])}const hn={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},fn=(0,s._)("h1",{class:"tw-text-lg"},"Update Product Status",-1),bn={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},vn={class:"tw-w-full tw-col-span-6"},xn={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},yn=["disabled"],_n=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),kn={class:"tw-w-full tw-col-span-12"},Cn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),Dn={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Sn=(0,s._)("span",{class:"text-white"}," Cancel ",-1),zn=(0,s._)("span",{class:"text-white"}," Update ",-1);function Un(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",hn,[fn,(0,s._)("div",bn,[(0,s._)("div",vn,[(0,s._)("label",xn,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingStatus,"onUpdate:modelValue":e[0]||(e[0]=t=>o.currentStatus=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,yn),[[a.e8,o.currentStatus]]),_n]),o.isLoadingStatus?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",kn,[Cn,(0,s.wy)((0,s._)("textarea",{"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",512),[[a.nr,o.note]])])]),(0,s._)("div",Dn,[(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Sn])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[zn])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var qn={components:{},props:["product","visible","updated"],data(){return{isLoading:!1,isLoadingStatus:!1,currentStatus:!1,note:""}},computed:{},methods:{update(){this.isLoading=!0;const t={status:this.currentStatus,note:this.note};ha.updateStatus(this.product.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("product/setProduct",t.data.data.product),this.$emit("updated",t.data.data.product),this.$emit("cancel")),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))}},mounted(){this.Product={...this.product},this.currentStatus=1==this.product.status,this.note=this.product.note}};const Pn=(0,m.Z)(qn,[["render",Un]]);var Ln=Pn,Wn={components:{ProductStatusPopup:Ln},props:["rowIndex","product"],name:"productActions",data(){return{showStatusPopup:!1,showPopup:!1,isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,ha["delete"](this.product.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"})),ha.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const An=(0,m.Z)(Wn,[["render",mn]]);var $n=An,En={props:["columns","products"],components:{ProductActions:$n},data(){return{currency:c,allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.products.length/this.paginationLimit)},items(){return this.products.slice(this.prevRange,this.nextRange)}},methods:{calculQty(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Tn=(0,m.Z)(En,[["render",cn]]);var Fn=Tn;const jn=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:16,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:15,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:12,value:"wrong-number",name:"Wrong number",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:13,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:14,value:"double",name:"Double",text:"tw-text-purple-500",textLight:"tw-text-purple-800",bg:"tw-bg-purple-500/10",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"}],Vn=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:2,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"}],In=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:13,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-cyan-500",textLight:"tw-text-cyan-800",bg:"tw-bg-cyan-500/10",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"}],On=[{id:0,value:null,name:"Select",text:"tw-text-neutral-600",bg:"tw-bg-neutral-500/10",ring:"tw-ring-neutral-300"},{id:1,value:"oui",name:"Oui",text:"tw-text-green-500",bg:"tw-bg-green-500/10",ring:"tw-ring-green-300"},{id:2,value:"non",name:"Non",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",ring:"tw-ring-pink-300"}],Hn=[{id:0,value:null,name:"Select",text:"tw-text-gray-500",textLight:"tw-text-gray-800",bg:"tw-bg-gray-500/10",bgLight:"tw-bg-gray-100",ring:"tw-ring-gray-300"},{id:1,value:"dispatch",name:"Dispatched",text:"tw-text-yellow-500",textLight:"tw-text-yellow-800",bg:"tw-bg-yellow-500/10",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:2,value:"expidier",name:"Shipped",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:3,value:"livrer",name:"Delivered",text:"tw-text-green-500",bg:"tw-bg-green-500/10",textLight:"tw-text-green-800",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:4,value:"reporter",name:"Reported",text:"tw-text-orange-500",bg:"tw-bg-orange-500/10",textLight:"tw-text-orange-800",bgLight:"tw-bg-orange-100",ring:"tw-ring-orange-300"},{id:5,value:"refuser",name:"Refused",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",textLight:"tw-text-pink-800",bgLight:"tw-bg-pink-100",ring:"tw-ring-pink-300"},{id:6,value:"annuler",name:"Canceled",text:"tw-text-red-500",bg:"tw-bg-red-500/10",textLight:"tw-text-red-800",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:9,value:"pas-de-reponse",name:"No Answer",text:"tw-text-yellow-500",bg:"tw-bg-yellow-500/10",textLight:"tw-text-yellow-800",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:8,value:"printed",name:"Printed",text:"tw-text-blue-500",bg:"tw-bg-blue-500/10",textLight:"tw-text-blue-800",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:10,value:"retourner",name:"Returned",text:"tw-text-purple-500",bg:"tw-bg-purple-500/10",textLight:"tw-text-purple-800",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:11,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-indigo-500",bg:"tw-bg-indigo-500/10",textLight:"tw-text-indigo-800",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:12,value:"paid",name:"Paid",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:13,value:"transfer",name:"Transferd",text:"tw-text-violet-500",bg:"tw-bg-violet-500/10",textLight:"tw-text-violet-800",bgLight:"tw-bg-violet-100",ring:"tw-ring-violet-300"},{id:14,value:"livrer-et-retourner",name:"Delivered & Return",text:"tw-text-teal-500",bg:"tw-bg-teal-500/10",textLight:"tw-text-teal-800",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:15,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:17,value:"in-warehouse",name:"In Warehouse",text:"tw-text-lime-500",bg:"tw-bg-lime-500/10",ring:"tw-ring-lime-300",textLight:"tw-text-lime-800",bgLight:"tw-bg-lime-100"},{id:18,value:"cleared",name:"Cleared",text:"tw-text-cyan-500",bg:"tw-bg-cyan-500/10",ring:"tw-ring-cyan-300",textLight:"tw-text-cyan-800",bgLight:"tw-bg-cyan-100"}],Mn=[null,"expidier","paid","transfer","dispatch"];var Rn={components:{ProductsTable:Fn},data(){return{localUrl:w,confirmations:jn,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"seller",name:"Seller"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},filteredProducts(){const t=this.date;return this.products.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!(e.ref.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase())||e.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{getProducts(){ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts()}};const Nn=(0,m.Z)(Rn,[["render",Fw]]);var Yn=Nn;const Zn={class:"py-5 !tw-pt-0 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Kn={class:"tw-px-3"},Bn=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},null,-1),Qn={key:0};function Jn(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Zn,[(0,s._)("section",Kn,[Bn,(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Qn,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Gn={class:"tw-flex tw-flex-col"},Xn={class:"tw-overflow-x-auto"},td={class:"tw-inline-block tw-min-w-full tw-align-middle"},ed={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},rd={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},ad={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},sd={scope:"col",class:"rtl:tw-text-right tw-w-7 tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},ld={class:"tw-max-w-[25px]"},od={class:"tw-inline-flex tw-items-center"},id={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},wd=["checked"],nd=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),dd=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),cd={key:0,scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},ud=(0,s._)("span",null,"Seller",-1),pd=[ud],gd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," SKU ",-1),md=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),hd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Pricing ( $ ) ",-1),fd=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-whitespace-nowrap !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Qty ",-1),bd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivered ",-1),vd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Shipped ",-1),xd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Available ",-1),yd={scope:"col",class:"tw-py-3.5 tw-w-5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},_d=(0,s._)("span",null,"Created",-1),kd=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Cd=[_d,kd],Dd=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Actions")],-1),Sd={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},zd={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ud=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),qd=[Ud],Pd={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ld={colspan:"13"},Wd={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Ad=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),$d=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Ed=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Td=[$d,Ed],Fd={class:"tw-mt-6"};function jd(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Gn,[(0,s._)("div",Xn,[(0,s._)("div",td,[(0,s._)("div",ed,[(0,s._)("table",rd,[(0,s._)("thead",ad,[(0,s._)("tr",null,[(0,s._)("th",sd,[(0,s._)("div",ld,[(0,s._)("div",od,[(0,s._)("label",id,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,wd),nd])])])]),dd,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",cd,pd)):(0,s.kq)("",!0),gd,md,hd,fd,bd,vd,xd,(0,s._)("th",yd,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Cd)]),Dd])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Sd,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,l)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:l,index:a,key:r.id,item:r},null,8,["selected","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",zd,qd)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Pd,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Ld,[(0,s._)("div",Wd,[Ad,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Td)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Fd,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Vd={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Id={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Od={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Hd={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Md=["disabled"],Rd=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Nd=(0,s._)("span",null," previous ",-1),Yd=[Rd,Nd],Zd=["disabled"],Kd=(0,s._)("span",null," Next ",-1),Bd=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Qd=[Kd,Bd];function Jd(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Vd,[(0,s._)("div",Id,[(0,s.Uk)(" Page "),(0,s._)("span",Od,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",Hd,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Yd,10,Md),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Qd,10,Zd)])])])}var Gd={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Xd=(0,m.Z)(Gd,[["render",Jd]]);var tc=Xd;const ec={class:"tw-p-2 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},rc={class:"tw-max-w-[25px]"},ac={class:"tw-inline-flex tw-items-center"},sc={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},lc=["checked","id"],oc=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),ic={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},wc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},nc={key:0,class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},dc={key:0},cc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},uc={key:1},pc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},gc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},mc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},hc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fc={class:"tw-flex tw-items-center tw-gap-1"},bc={title:"Buying Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},vc={class:"tw-text-blue-700"},xc={title:"Selling Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},yc={class:"tw-text-green-700"},_c={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kc={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Cc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Dc={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},Sc={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},zc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Uc={class:"tw-flex tw-font-medium tw-text-purple-600 tw-rounded tw-items-center"},qc={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Pc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Lc={class:"tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Wc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-max-w-[100px]"},Ac={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-max-w-[100px] tw-flex tw-items-center tw-gap-2"},$c={class:"tw-px-4 tw-py-1 tw-text-sm tw-whitespace-nowrap"};function Ec(t,e,r,a,l,o){const i=(0,s.up)("router-link"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,wt.C_)(["hover:tw-bg-gray-50",[o.availableQuantity<=0&&"!tw-border !tw-border-red-300 tw-bg-red-50 hover:tw-bg-red-100 "]])},[(0,s._)("td",ec,[(0,s._)("div",rc,[(0,s._)("div",ac,[(0,s._)("label",sc,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,lc),oc])])])]),(0,s._)("td",ic,[(0,s._)("div",null,[(0,s._)("h2",wc,(0,wt.zw)(r.item.id),1)])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",nc,["affiliate"!=r.item.type?((0,s.wg)(),(0,s.iD)("div",dc,[(0,s._)("h2",cc,(0,wt.zw)(r.item.seller_user.firstname)+" "+(0,wt.zw)(r.item.seller_user.lastname),1)])):((0,s.wg)(),(0,s.iD)("div",uc,[(0,s.Wm)(i,{to:{name:"affiliate.show.sellers",params:{id:r.item.id}},class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-underline-offset-2 tw-underline"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.item.imported_count)+" sellers ",1)])),_:1},8,["to"])]))])):(0,s.kq)("",!0),(0,s._)("td",pc,[(0,s._)("div",null,[(0,s._)("h2",{class:(0,wt.C_)([{"!tw-text-emerald-500":r.item.status,"!tw-text-amber-500":!r.item.status},"tw-font-bold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[70px] tw-truncate"])},(0,wt.zw)(r.item.ref),3)])]),(0,s._)("td",gc,[(0,s._)("div",null,[(0,s._)("h2",mc,(0,wt.zw)(r.item.name),1)])]),(0,s._)("td",hc,[(0,s._)("div",fc,[(0,s._)("div",bc,[(0,s._)("span",vc,(0,wt.zw)(r.item.buying_price),1),(0,s.Wm)(ct.t,{class:"tw-text-lg tw-text-blue-400 tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-down-bold")])),_:1})]),(0,s._)("div",xc,[(0,s.Wm)(ct.t,{class:"tw-text-lg tw-mr-1 tw-text-green-400"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-up-bold")])),_:1}),(0,s._)("span",yc,(0,wt.zw)(r.item.selling_price),1)])])]),(0,s._)("td",_c,[(0,s._)("div",null,[(0,s._)("h2",kc,(0,wt.zw)(o.quantityTotal),1)])]),(0,s._)("td",Cc,[(0,s._)("div",Dc,[(0,s._)("h2",Sc,(0,wt.zw)(o.deliveredQuantity),1)])]),(0,s._)("td",zc,[(0,s._)("div",Uc,[(0,s._)("h2",qc,(0,wt.zw)(o.shippedQuantity),1)])]),(0,s._)("td",Pc,[(0,s._)("div",{class:(0,wt.C_)([{"tw-text-red-500 !tw-font-bold":o.availableQuantity<=0},"tw-flex tw-font-medium tw-text-blue-600 tw-rounded tw-items-center"])},[(0,s._)("h2",Lc,(0,wt.zw)(o.availableQuantity),1)],2)]),(0,s._)("td",Wc,[(0,s._)("div",null,[(0,s._)("h2",Ac,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[-]MM[-]YY")),1)])])]),(0,s._)("td",$c,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const Tc=(t,e="success")=>{st.dispatch("alert/toggleAlert",{type:e,title:t})},Fc={key:0,class:"tw-h-full"},jc={class:"tw-flex tw-items-center tw-gap-2"},Vc={key:5},Ic={key:1,class:"tw-h-full"},Oc={class:"tw-flex tw-items-center tw-gap-2"};var Hc={__name:"TableActions",props:["item"],emits:["update"],setup(t,{emit:e}){const r=t,a=(0,ke.Vh)(r,"item"),l=(0,s.f3)("refresh"),o=(0,s.f3)("update"),i=(0,ke.iH)({delete:!1,status:!1}),w=(0,ke.iH)({delete:!1,status:!1}),n=async t=>{if(!t)return i.value.delete=!1,!1;w.value.delete=!0,await ha["delete"](a.value.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(Tc("Product Deleted Successfully"),l())})).catch((t=>{console.log(t),Tc("Something wrong happened","danger")})),w.value.delete=!1,i.value.delete=!1},d=t=>{o({...a.value,status:t.status})};return(t,e)=>{const r=(0,s.up)("icon"),l=(0,s.up)("router-link"),o=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,["normal"==a.value.type?((0,s.wg)(),(0,s.iD)("div",Fc,[(0,s._)("div",jc,[(0,s.kq)("",!0),t.$can("update_product")&&"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>i.value.status=!0),class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-emerald-500/20 hover:tw-bg-emerald-500/10 hover:tw-border-emerald-500/70 tw-duration-300 tw-text-emerald-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(r,{icon:"ci:check-big",class:"tw-text-base tw-text-emerald-500"})])):(0,s.kq)("",!0),t.$can("view_product")&&"affiliate-manager"!=t.$user.role?((0,s.wg)(),(0,s.j4)(l,{key:2,to:"/products/"+a.value.id,class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-sky-500/20 hover:tw-bg-sky-500/10 hover:tw-border-sky-500/70 tw-duration-300 tw-text-sky-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"solar:eye-bold-duotone",class:"tw-text-base tw-text-sky-500"})])),_:1},8,["to"])):(0,s.kq)("",!0),"affiliate-manager"!=t.$user.role?((0,s.wg)(),(0,s.j4)(l,{key:3,title:"Edit",to:"/products/update/"+a.value.id,class:"!tw-bg-white tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 hover:!tw-bg-amber-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")&&"affiliate-manager"!=t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:4,onClick:e[1]||(e[1]=t=>i.value.delete=!0),class:"tw-bg-white tw-px-2 tw-py-1 tw-aspect-square tw-border tw-border-solid tw-border-rose-500/20 hover:tw-bg-rose-500/10 hover:tw-border-rose-500/70 tw-duration-300 tw-text-rose-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1})])):(0,s.kq)("",!0),(0,s.Wm)(o,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:w.value.delete,visible:i.value.delete,onResolved:n},null,8,["loading","visible"]),i.value.status?((0,s.wg)(),(0,s.iD)("div",Vc,[(0,s.Wm)((0,ke.SU)(Ln),{visible:i.value.status,"onUpdate:visible":e[2]||(e[2]=t=>i.value.status=t),onCancel:e[3]||(e[3]=t=>i.value.status=!1),onUpdated:d,product:a.value},null,8,["visible","product"])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"affiliate"==a.value.type&&["admin","affiliate-manager"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",Ic,[(0,s._)("div",Oc,[["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.j4)(l,{key:0,title:"Show",to:{name:"affiliate.admin.show",params:{id:a.value.id}},class:"!tw-bg-white tw-aspect-square tw-cursor-pointer tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-blue-100 hover:tw-border-blue-400 hover:!tw-bg-blue-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"solar:eye-bold-duotone",class:"tw-text-xl tw-text-blue-500"})])),_:1},8,["to"])):(0,s.kq)("",!0),["admin","affiliate-manager"].includes(t.$user.role)?((0,s.wg)(),(0,s.j4)(l,{key:1,title:"Edit",to:{name:"affiliate.admin.edit",params:{id:a.value.id}},class:"!tw-bg-white tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 hover:!tw-bg-amber-100 tw-duration-200"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})])),_:1},8,["to"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)],64)}}};const Mc=Hc;var Rc=Mc,Nc={components:{TableActions:Rc},props:{item:{required:!0},selected:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ze(),currency:c}},computed:{isSelected(){return this.selected.includes(this.item.id)},quantityTotal(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.quantity)),0)},deliveredQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.delivered_quantity)),0)},shippedQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.shipped_quantity)),0)},availableQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.available_quantity)),0)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const Yc=(0,m.Z)(Nc,[["render",Ec]]);var Zc=Yc,Kc={components:{TablePaginationNoNums:tc,TableRow:Zc},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const Bc=(0,m.Z)(Kc,[["render",jd]]);var Qc=Bc;const Jc={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Gc={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Xc=["disabled"],tu=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),eu=[tu],ru=["disabled"],au=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),su=[au],lu={class:"tw-relative"},ou=["value"],iu=(0,s._)("option",{value:5},"5",-1),wu=(0,s._)("option",{value:10},"10",-1),nu=(0,s._)("option",{value:20},"20",-1),du=(0,s._)("option",{value:50},"50",-1),cu=(0,s._)("option",{value:100},"100",-1),uu=(0,s._)("option",{value:250},"250",-1),pu=(0,s._)("option",{value:500},"500",-1),gu=[iu,wu,nu,du,cu,uu,pu],mu=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),hu={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},fu=["value"],bu={class:"tw-overflow-hidden tw-col-span-1"},vu={class:"tw-overflow-hidden tw-col-span-1"},xu={class:"tw-overflow-hidden tw-col-span-1"};function yu(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Jc,[(0,s._)("div",Gc,[(0,s._)("button",{class:(0,wt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,Xc),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,wt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},eu,2),(r.activeStatistics&&r.statistics,(0,s.kq)("",!0)),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},su,8,ru),(0,s.kq)("",!0),(0,s._)("div",lu,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},gu,40,ou),mu])]),(0,s._)("div",hu,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,fu),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",bu,["admin"==this.user.role?((0,s.wg)(),(0,s.j4)(w,{key:0,onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])):(0,s.kq)("",!0)])],2),(0,s._)("div",{class:(0,wt.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",vu,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",xu,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const _u={class:"tw-mb-4"},ku={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Cu={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Du={class:"tw-flex tw-items-center tw-justify-between"},Su={class:"tw-text-xl tw-font-bold tw-text-gray-900"},zu={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function Uu(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",_u,[(0,s._)("div",ku,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Cu,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",Du,[(0,s._)("span",Su,(0,wt.zw)(t.total),1),(0,s._)("span",zu,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var qu={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const Pu=(0,m.Z)(qu,[["render",Uu]]);var Lu=Pu;const Wu={class:"tw-mb-4"},Au={class:"tw-flex tw-items-center tw-gap-2"},$u=["disabled"],Eu=(0,s._)("span",null,"Select Filtered",-1),Tu={class:"tw-flex tw-justify-end"},Fu=["disabled"];function ju(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",Wu,[(0,s._)("div",Au,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Eu],8,$u)]),(0,s._)("div",Tu,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,wt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,Fu)])])}class Vu{async statistics(t){return await E.getCookie(),A.post("api/v1/admin/statistics",t)}async analytics(t){return await E.getCookie(),A.post("api/v1/admin/analytics",t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/admin/orders"+t,e)}async update(t,e){return await E.getCookie(),A.post("api/v1/admin/orders/"+t+"/update",e)}async create(t){return await E.getCookie(),A.post("api/v1/admin/orders/create",t)}async export(t={}){return await E.getCookie(),A.post("api/v1/admin/orders/export",t)}}var Iu=new Vu,Ou={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Iu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const Hu=(0,m.Z)(Ou,[["render",ju]]);var Mu=Hu;const Ru={class:"tw-mb-4"},Nu={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Yu={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Zu=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Ku=(0,s._)("span",null,"Clear",-1),Bu=[Zu,Ku],Qu=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Ju=(0,s._)("span",null,"Filter",-1),Gu=[Qu,Ju];function Xu(t,e,r,a,l,o){(0,s.up)("DateFilter"),(0,s.up)("ProductFilter");const i=(0,s.up)("SellerFilter");return(0,s.wg)(),(0,s.iD)("div",Ru,[(0,s._)("div",Nu,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Yu,[(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Bu),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Gu)])])])}const tp={class:"tw-text-sm tw-text-neutral-600"},ep=["onClick"];function rp(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",tp,(0,wt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,ep)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var ap={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const sp=(0,m.Z)(ap,[["render",rp]]);var lp=sp;const op={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ip=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),wp=["value"],np=(0,s._)("option",{value:"all"},"All",-1),dp=["value"];function cp(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",op,[ip,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[np,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.name),9,dp)))),128))],40,wp)])}var up={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const pp=(0,m.Z)(up,[["render",cp]]);var gp=pp;const mp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),fp=["value"],bp=(0,s._)("option",{value:"all"},"All",-1),vp=["value"];function xp(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",mp,[hp,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[bp,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,vp)))),128))],40,fp)])}var yp={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const _p=(0,m.Z)(yp,[["render",xp]]);var kp=_p,Cp={components:{DateFilter:lp,ProductFilter:gp,SellerFilter:kp},props:{filters:{required:!0,default:{}}},data(){return{dateFilter:["",""]}}};const Dp=(0,m.Z)(Cp,[["render",Xu]]);var Sp=Dp,zp={components:{IndexStatistics:Lu,FiltersWrapper:Sp,IndexExport:Mu},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ze()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const Up=(0,m.Z)(zp,[["render",yu]]);var qp=Up;const Pp={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Lp=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),Wp={class:"tw-bg-white tw-p-4"},Ap={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},$p={class:"tw-col-span-2 md:tw-col-span-1"},Ep=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),Tp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Fp={class:"tw-col-span-2 md:tw-col-span-1"},jp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Vp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ip={class:"tw-col-span-2 md:tw-col-span-1"},Op=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Hp={class:"tw-relative"},Mp=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Rp=["value"],Np=["value"],Yp=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Zp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Kp={class:"tw-col-span-2 md:tw-col-span-1"},Bp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Qp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Jp={class:"tw-col-span-2"},Gp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Xp={class:"tw-relative"},tg=["value"],eg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ag={key:0,class:"md:tw-col-span-1 tw-col-span-2"},sg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),lg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},og={key:1,class:"md:tw-col-span-1 tw-col-span-2"},ig=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),wg={class:"tw-col-span-2"},ng=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),dg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cg={class:"md:tw-col-span-1 tw-col-span-2"},ug={class:"md:tw-col-span-1 tw-col-span-2"},pg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),gg={class:"tw-relative"},mg=["value"],hg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),fg={class:"tw-col-span-2"},bg={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},vg={key:0,class:"tw-text-red-400 tw-text-xs"},xg={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},yg=["disabled"],_g=(0,s._)("span",null,"Create",-1);function kg(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Pp,[Lp,(0,s._)("div",Wp,[(0,s._)("div",Ap,[(0,s._)("div",$p,[Ep,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",Tp,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Fp,[jp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",Vp,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Ip,[Op,(0,s._)("div",Hp,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Mp,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,Rp),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,Np)))),128))],34),[[a.bM,o.itemCopy.city]]),Yp]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",Zp,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Kp,[Bp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Qp,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Jp,[Gp,(0,s._)("div",Xp,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,tg)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),eg]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",rg,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",ag,[sg,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",lg,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",og,[ig,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",wg,[ng,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",dg,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",cg,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",ug,[pg,(0,s._)("div",gg,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,mg)))),128))],512),[[a.bM,o.itemCopy.upsell]]),hg])]),(0,s._)("div",fg,[(0,s._)("label",bg,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",vg," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",xg,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),_g],8,yg)])])])),_:1},8,["visible","onCancel"])])}const Cg=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!Dg(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),Dg=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Sg=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},zg=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Ug=(t,e)=>{t.isLoading=!0,t.errors={},Iu.create(e).then((e=>Sg(t,e.data))).catch((e=>zg(t,e.response.data))).finally((()=>t.isLoading=!1))},qg={key:0},Pg=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Lg={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Wg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Ag=(0,s._)("span",null,"Add Item",-1),$g=[Wg,Ag],Eg={key:1,class:"md:tw-col-span-12 tw-col-span-12"},Tg={class:"tw-max-w-full tw-overflow-auto"},Fg={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},jg={class:"tw-bg-gray-50"},Vg={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Ig={key:0},Og={colspan:"6"},Hg={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Mg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Rg=(0,s._)("span",null,"Add Item",-1),Ng=[Mg,Rg],Yg=(0,s._)("td",{colspan:"4"},null,-1),Zg=(0,s._)("td",null,null,-1),Kg={colspan:"1",class:"tw-p-2"},Bg={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Qg={key:1},Jg={colspan:"6"},Gg={class:"tw-scale-75 tw-p-5"};function Xg(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qg,[Pg,(0,s._)("div",Lg,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},$g)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",Eg,[(0,s._)("div",Tg,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Fg,[(0,s._)("tr",jg,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Vg,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",Ig,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",Og,[(0,s._)("div",Hg,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Ng)])])]),(0,s._)("tr",null,[Yg,Zg,(0,s._)("td",Kg,[(0,s._)("div",Bg,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Qg,[(0,s._)("tr",null,[(0,s._)("td",Jg,[(0,s._)("div",Gg,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const tm=(0,s._)("td",null,null,-1),em={class:"tw-p-2"},rm={class:"tw-relative"},am=["value"],sm=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),lm=["value"],om=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),im={class:"tw-p-2"},wm={key:0,class:"tw-relative"},nm=["value"],dm=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),cm=["value"],um={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},pm=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),gm=[pm],mm={class:"tw-p-2"},hm=["value"],fm={class:"tw-p-2"},bm=["value"],vm={class:"tw-flex tw-justify-center"};function xm(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[tm,(0,s._)("td",null,[(0,s._)("div",em,[(0,s._)("div",rm,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[sm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,lm)))),128))],40,am),om])])]),(0,s._)("td",null,[(0,s._)("div",im,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",wm,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[dm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,cm)))),128))],40,nm)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",um,gm)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",mm,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,hm)])]),(0,s._)("td",null,[(0,s._)("div",fm,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,bm)])]),(0,s._)("td",null,[(0,s._)("div",vm,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var ym={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const _m=(0,m.Z)(ym,[["render",xm]]);var km=_m,Cm={components:{ItemRow:km},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Dm=(0,m.Z)(Cm,[["render",Xg]]);var Sm=Dm;const zm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Um={key:0,class:"tw-relative"},qm=["value","disabled"],Pm=(0,s._)("option",{value:""},"Choose a Delivery",-1),Lm=["value"],Wm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Am={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$m={key:2,class:"tw-relative"},Em={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Tm=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Fm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function jm(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[zm,l.fetched?((0,s.wg)(),(0,s.iD)("div",Um,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,wt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Pm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Lm)))),128))],42,qm),Wm])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Am,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$m,[(0,s._)("div",Em,[(0,s.Wm)(i)]),Tm,Fm]))])}var Vm={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const Im=(0,m.Z)(Vm,[["render",jm]]);var Om=Im,Hm={components:{OrderItems:Sm,OrderAffectation:Om},props:{visible:{required:!0}},data(){return{confirmations:jn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=Cg(this,this.itemCopy);if(!t)return!1;Ug(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const Mm=(0,m.Z)(Hm,[["render",kg]]);var Rm=Mm,Nm={components:{IndexTable:Qc,IndexFilters:qp,CreatePopup:Rm},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,user_id:"all",product_id:"all"}}},methods:{async paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ha.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()},provide(){return{refresh:this.paginateProducts,update:t=>{this.items=this.items.map((e=>e.id==t.id?t:e))}}}};const Ym=(0,m.Z)(Nm,[["render",Jn]]);var Zm=Ym;const Km={class:"py-5 !tw-pt-0 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Bm={class:"tw-px-3"},Qm=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},null,-1),Jm={key:0};function Gm(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Km,[(0,s._)("section",Bm,[Qm,(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Jm,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var Xm={components:{IndexTable:Qc,IndexFilters:qp,CreatePopup:Rm},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,user_id:"all",product_id:"all"}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,is_affiliate:!0};return this.fetching=!0,ha.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()},provide(){return{refresh:this.paginateProducts,update:t=>{this.items=this.items.map((e=>e.id==t.id?t:e))}}}};const th=(0,m.Z)(Xm,[["render",Gm]]);var eh=th;const rh={key:0,class:"tw-p-2 tw-flex tw-items-center tw-gap-2x tw-mb-2"};var ah={__name:"IndexProducts",setup(t){const e=(0,ke.iH)(null),r=(0,ke.iH)("affiliate-manager"==e.value?"affiliate":"normal");return(t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[["admin","affiliate-manager"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",rh,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value="normal"),class:(0,wt.C_)(["normal"==r.value?"!tw-border-orange-500":"tw-border-gray-200","tw-py-1 tw-px-4 tw-border-b-2 tw-border-solid tw-border-gray-200 hover:tw-border-orange-200"])},"Normal",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value="affiliate"),class:(0,wt.C_)(["affiliate"==r.value?"!tw-border-orange-500":"tw-border-gray-200","tw-py-1 tw-px-4 tw-border-b-2 tw-border-solid tw-border-gray-200 hover:tw-border-orange-200"])},"Affiliate",2)])):(0,s.kq)("",!0),(0,s._)("div",null,["normal"==r.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Zm),{key:0})):(0,s.kq)("",!0),"affiliate"==r.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(eh),{key:1})):(0,s.kq)("",!0)])],64))}};const sh=ah;var lh=sh,oh=r(240),ih=r(3104),wh=r(4842);const nh=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Expedition "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new expedition")],-1),dh={key:0},ch={key:1},uh={class:"mb-5"},ph=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),gh={class:"tw-w-full"},mh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),hh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},fh={class:"tw-w-full"},bh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Reference ",-1),vh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xh={class:"tw-w-full"},yh={class:"mb-1 text-body-2 tw-text-zinc-700"},_h={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kh={class:"mb-1 text-body-2 tw-text-zinc-700"},Ch={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Dh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),Sh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zh={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},Uh=(0,s._)("span",null,"Add Variants: ",-1),qh={key:0,class:"tw-h-fit tw-mb-"},Ph=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Lh={class:"tw-relative"},Wh=(0,s._)("option",{value:0},"Select",-1),Ah=["value"],$h={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Eh={key:1},Th={class:"md:tw-col-span-3 tw-col-span-12"},Fh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),jh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vh={class:"md:tw-col-span-3 tw-col-span-12"},Ih=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Oh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Hh={key:2},Mh={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Rh={class:"md:tw-col-span-3 tw-col-span-12"},Nh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Yh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zh={class:"md:tw-col-span-3 tw-col-span-12"},Kh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Bh={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Qh={class:"md:tw-col-span-3 tw-col-span-12"},Jh=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Quantity ",-1),Gh=(0,s._)("div",{class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},null,-1),Xh={class:"md:tw-col-span-3 tw-col-span-12"},tf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),ef={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rf={class:"tw-col-span-12 tw-flex tw-justify-end"},af=["disabled"],sf=(0,s._)("span",{class:"tw-text-white"},"Add",-1),lf={class:""},of={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},wf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Variants ",-1),nf={class:"mb-1 text-body-2 tw-text-zinc-700"},df={key:1,class:"tw-max-w-full tw-overflow-x-auto"},cf={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},uf={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},pf={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},gf={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},mf={class:"tw-px-6 tw-py-2"},hf={class:"tw-px-6 tw-py-2"},ff={class:"tw-px-6 tw-py-2"},bf={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},vf=(0,s._)("h1",{class:"tw-font-medium"},"Image",-1),xf={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},yf={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},_f={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},kf={class:"tw-w-max tw-relative"},Cf=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),Df={class:"md:tw-col-span-6 tw-col-span-12"},Sf={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},zf=(0,s._)("span",null,"No image available",-1),Uf=[zf],qf={class:"mb-5"},Pf=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),Lf={class:"tw-w-full"},Wf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Af={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$f={class:"tw-w-full"},Ef=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Tf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ff={class:"tw-w-full"},jf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),Vf={class:"tw-relative"},If=["error"],Of=(0,s._)("option",{value:"",disabled:""},"Select",-1),Hf=(0,s._)("option",{value:"Sea"},"Sea",-1),Mf=(0,s._)("option",{value:"Air"},"Air",-1),Rf=[Of,Hf,Mf],Nf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Yf={class:"tw-w-full"},Zf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),Kf={class:"tw-relative"},Bf=["error"],Qf=(0,s._)("option",{value:""},"Select",-1),Jf=(0,s._)("option",{value:"China"},"China",-1),Gf=(0,s._)("option",{value:"Dubai"},"Dubai",-1),Xf=(0,s._)("option",{value:"Turky"},"Turky",-1),tb=[Qf,Jf,Gf,Xf],eb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rb={class:"tw-w-full"},ab=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),sb={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},lb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ob={class:"mb-5"},ib=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),wb={key:0,class:"mb-5"},nb=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),db=(0,s._)("h1",{class:"tw-font-medium"},"Deliveries",-1),cb={class:"tw-mt-2"},ub={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},pb=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),gb=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function mb(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("VariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[nh,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dh,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ch,[(0,s._)("div",null,[(0,s._)("div",uh,[ph,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",gh,[mh,(0,s.Wm)(ut.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",hh,(0,wt.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",fh,[bh,(0,s.Wm)(ut.hw,{error:!o.formStatus.reference.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("reference")),"hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",vh,(0,wt.zw)(o.formStatus.reference.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xh,[(0,s._)("div",yh," Buying Price ("+(0,wt.zw)(o.currency)+") ",1),(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",_h,(0,wt.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",kh," Selling Price ("+(0,wt.zw)(o.currency)+") ",1),(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Ch,(0,wt.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Dh,(0,s.Wm)(wh.z,{error:!o.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",Sh,(0,wt.zw)(o.formStatus.description.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",zh,[Uh,(0,s.Wm)(ih.G,{modelValue:o.addVariants,"onUpdate:modelValue":e[10]||(e[10]=t=>o.addVariants=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6",class:"tw-border-l tw-border-r-neutral-700 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",qh,[Ph,(0,s._)("div",Lh,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.warehouse=t),onChange:e[12]||(e[12]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Wh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,Ah)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",$h,(0,wt.zw)(o.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),o.addVariants?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Eh,[(0,s._)("div",Th,[Fh,(0,s.Wm)(ut.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[13]||(e[13]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[14]||(e[14]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",jh,(0,wt.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",Vh,[Ih,(0,s.Wm)(ut.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[15]||(e[15]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[16]||(e[16]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Oh,(0,wt.zw)(o.formStatus.stockAlert.message),1)])])),o.addVariants?((0,s.wg)(),(0,s.iD)("div",Hh,[(0,s._)("div",Mh,[(0,s._)("div",Rh,[Nh,(0,s.Wm)(ut.hw,{error:!o.formStatus.size.valid,onKeyup:e[17]||(e[17]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[18]||(e[18]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Yh,(0,wt.zw)(o.formStatus.size.message),1)]),(0,s._)("div",Zh,[Kh,(0,s.Wm)(ut.hw,{error:!o.formStatus.color.valid,onKeyup:e[19]||(e[19]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[20]||(e[20]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Bh,(0,wt.zw)(o.formStatus.color.message),1)]),(0,s._)("div",Qh,[Jh,(0,s.Wm)(ut.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid&&!1,onKeyup:e[21]||(e[21]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[22]||(e[22]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),Gh]),(0,s._)("div",Xh,[tf,(0,s.Wm)(ut.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[24]||(e[24]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ef,(0,wt.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",rf,[(0,s._)("button",{disabled:!o.quantity,class:(0,wt.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[25]||(e[25]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),sf],10,af)])]),(0,s._)("div",lf,[(0,s._)("div",of,[wf,(0,s._)("div",nf," Quantity Total: "+(0,wt.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,wt.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",df,[(0,s._)("table",cf,[(0,s._)("thead",uf,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","stockAlert","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",pf,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",gf,(0,wt.zw)(t.size),1),(0,s._)("td",mf,(0,wt.zw)(t.color),1),(0,s._)("td",hf,(0,wt.zw)(t.quantity),1),(0,s._)("td",ff,(0,wt.zw)(t.stockAlert),1),(0,s._)("td",bf,[(0,s._)("div",null,[(0,s.Wm)(n,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[vf,(0,s._)("div",xf,[(0,s._)("div",yf,[(0,s._)("label",_f,[(0,s._)("div",kf,[(0,s.Wm)(ct.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),Cf]),(0,s._)("input",{onChange:e[26]||(e[26]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",Df,[(0,s._)("div",Sf,[(0,s._)("img",{class:(0,wt.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",id:"image-preview",alt:"Image Preview"},null,2),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},Uf,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",qf,[Pf,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Lf,[Wf,(0,s.Wm)(ut.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[27]||(e[27]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[28]||(e[28]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Af,(0,wt.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$f,[Ef,(0,s.Wm)(ut.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[29]||(e[29]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[30]||(e[30]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Tf,(0,wt.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ff,[jf,(0,s._)("div",Vf,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.transport_mode.valid,onKeyup:e[31]||(e[31]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[32]||(e[32]=t=>o.product.transport_mode=t)},Rf,40,If),[[a.bM,o.product.transport_mode]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Nf,(0,wt.zw)(o.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Yf,[Zf,(0,s._)("div",Kf,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.country_of_purchase.valid,onKeyup:e[33]||(e[33]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[34]||(e[34]=t=>o.product.country_of_purchase=t)},tb,40,Bf),[[a.bM,o.product.country_of_purchase]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",eb,(0,wt.zw)(o.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",rb,[ab,(0,s._)("div",sb,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[35]||(e[35]=t=>o.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,o.product.expedition_date]])]),(0,s._)("div",lb,(0,wt.zw)(o.formStatus.expedition_date.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",ob,[ib,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[36]||(e[36]=t=>o.offers=t)},null,8,["offers"])])])),_:1})])),_:1})]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",wb,[nb,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[db,(0,s._)("div",cb,[(0,s.Wm)(oh.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[37]||(e[37]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",ub,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[pb])),_:1}),(0,s.Wm)(nt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[gb])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}function hb(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("UpdateProductVariant"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(nt.T,{onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(n,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"])])}const fb={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},bb={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},vb={class:"tw-col-span-12"},xb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),yb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},_b={class:"tw-col-span-12"},kb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Cb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Db={class:"tw-col-span-12"},Sb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),zb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ub={class:"tw-col-span-12"},qb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),Pb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lb={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end"},Wb=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),Ab=[Wb],$b=["disabled"],Eb=(0,s._)("span",{class:"tw-text-white"},"Save",-1),Tb=[Eb];function Fb(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",fb,[(0,s._)("div",bb,[(0,s._)("div",vb,[xb,(0,s.Wm)(ut.hw,{error:!l.formStatus.size.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[1]||(e[1]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",yb,(0,wt.zw)(l.formStatus.size.message),1)]),(0,s._)("div",_b,[kb,(0,s.Wm)(ut.hw,{error:!l.formStatus.color.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[3]||(e[3]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Cb,(0,wt.zw)(l.formStatus.color.message),1)]),(0,s._)("div",Db,[Sb,(0,s.Wm)(ut.hw,{onChange:o.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[5]||(e[5]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",zb,(0,wt.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",Ub,[qb,(0,s.Wm)(ut.hw,{onChange:o.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[6]||(e[6]=t=>o.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[7]||(e[7]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Pb,(0,wt.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Lb,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},Ab),(0,s._)("button",{disabled:!l.quantity,class:(0,wt.C_)([{"tw-bg-orange-500":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[9]||(e[9]=(...t)=>o.updateVariant&&o.updateVariant(...t))},Tb,10,$b)])])])}var jb={props:["variant"],data(){return{size:"",color:"",quantity:0,stockAlert:0,newVariant:null,formStatus:{quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""}}}},methods:{updateVariant(){console.log("updated");const t=this.quantity-this.newVariant.quantity;this.newVariant.size=this.size?this.size.toLocaleUpperCase():"",this.newVariant.color=this.color?this.color.toLocaleUpperCase():"",this.newVariant.quantity=this.quantity,this.newVariant.stockAlert=this.stockAlert,this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(t),this.cancel()},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},cancel(){this.$emit("cancel")},resetError(t){this.formStatus[t]={valid:!0,message:""}}},mounted(){this.size=this.variant.size,this.color=this.variant.color,this.quantity=this.variant.quantity,this.stockAlert=this.variant.stockAlert,this.newVariant=this.variant}};const Vb=(0,m.Z)(jb,[["render",Fb]]);var Ib=Vb,Ob={components:{UpdateProductVariant:Ib},props:["variant"],data(){return{visible:!1,deletePopup:!1}},methods:{cancel(){this.visible=!1},update(t){console.log("from actions: ",t)},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}}};const Hb=(0,m.Z)(Ob,[["render",hb]]);var Mb=Hb;class Rb{async create(t){return await E.getCookie(),A.post("api/warehouses/new",{name:t.name})}async update(t,e){return await E.getCookie(),A.post("api/warehouses/update/"+t,{name:e.name})}async all(){return await E.getCookie(),A.get("api/warehouses")}async getWarehouse(t){return await E.getCookie(),A.get("api/warehouses/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/warehouses/delete/"+t)}}var Nb=new Rb;const Yb=(0,s._)("h1",{class:"tw-font-medium"},"Offers",-1),Zb={class:"tw-grid tw-grid-cols-12 tw-mb-5 tw-mt-3 tw-gap-3"},Kb={class:"md:tw-col-span-3 tw-col-span-12"},Bb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Qb={class:"md:tw-col-span-3 tw-col-span-12"},Jb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),Gb={class:"md:tw-col-span-5 tw-col-span-12"},Xb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),tv={class:"md:tw-col-span-1 tw-col-span-12"},ev=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-transparent"},"Note",-1),rv={class:"tw-mt-2"},av={class:"tw-relative tw-overflow-x-auto tw-shadow sm:tw-rounded"},sv={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},lv=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-24"},"Action")])],-1),ov={class:"tw-px-6 tw-py-4"},iv={class:"tw-px-6 tw-py-4"},wv={class:"tw-px-6 tw-py-4"},nv={class:"tw-max-w-[250px] tw-text-sm"},dv={class:"tw-px-6 tw-py-4"},cv={key:0},uv=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),pv=[uv];function gv(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[Yb,(0,s._)("div",Zb,[(0,s._)("div",Kb,[Bb,(0,s.Wm)(ut.hw,{type:"number","hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[0]||(e[0]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Qb,[Jb,(0,s.Wm)(ut.hw,{type:"number","hide-details":!0,modelValue:l.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Gb,[Xb,(0,s.Wm)(ut.hw,{type:"text","hide-details":!0,modelValue:l.note,"onUpdate:modelValue":e[2]||(e[2]=t=>l.note=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",tv,[ev,(0,s.Wm)(nt.T,{onClick:o.handleAdd,class:"mx-auto !tw-px-0 !tw-py-0","min-height":"40px","min-width":"40",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])]),(0,s._)("div",rv,[(0,s._)("div",av,[(0,s._)("table",sv,[lv,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",ov,(0,wt.zw)(t.quantity),1),(0,s._)("td",iv,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",wv,[(0,s._)("p",nv,(0,wt.zw)(t.note),1)]),(0,s._)("td",dv,[(0,s.Wm)(nt.T,{onClick:e=>o.handleDeleteClicked(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==r.offers.length?((0,s.wg)(),(0,s.iD)("tr",cv,pv)):(0,s.kq)("",!0)])])])]),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this offer?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"])])}var mv={props:["offers"],data(){return{currency:c,deletePopup:!1,toDeleteID:null,quantity:1,price:0,note:""}},methods:{handleDeleteClicked(t){this.toDeleteID=t,this.deletePopup=!0},handleDelete(t){if(this.deletePopup=!1,!t)return!1;this.$emit("update:offers",this.offers.filter((t=>t.id!=this.toDeleteID)))},handleAdd(){const t=this.offers.length>0?this.offers[this.offers.length-1].id:0,e=t+1,r={id:e,quantity:this.quantity,price:this.price,note:this.note};this.$emit("update:offers",[...this.offers,r]),this.quantity=1,this.price=0,this.note=""}}};const hv=(0,m.Z)(mv,[["render",gv]]);var fv=hv,bv={components:{VariantActions:Mb,ProductOffers:fv},data(){return{currency:c,isLoading:!1,isLoaded:!1,addVariants:!1,variantId:1,variants:[],image:"",imageFile:null,color:"",size:"",quantity:0,warehouse:0,stockAlert:0,offers:[],product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},reference:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},warehouse:{valid:!0,message:""},variants:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;if(t.addVariants=this.addVariants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t}))),this.addVariants)t.variants=this.variants;else{const e=[{id:this.variantId,color:null,size:null,quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert}];t.variants=e}ha.create(t).then((t=>{"PRODUCT_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.product={name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},this.offers=[],this.selectedDeliveries=[],this.variants=[],this.$store.dispatch("product/addProduct",t.data.data.product)),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.product.name,"Product name"),this.formStatus.reference=$t(this.product.reference,"Reference"),this.formStatus.buyingPrice=$t(this.product.buyingPrice,"Buying price"),this.formStatus.link_store=$t(this.product.link_store,"Link store"),this.formStatus.link_video=$t(this.product.link_video,"Link video"),this.formStatus.transport_mode=$t(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=$t(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=$t(this.product.country_of_purchase,"Country of purchase"),this.formStatus.quantity=$t(this.quantity,"Quantity"),this.formStatus.sellingPrice=$t(this.product.sellingPrice,"Selling price"),this.formStatus.description=$t(this.product.description,"Description"),this.formStatus.variants=Ft(this.variants),this.addVariants||"admin"!=this.user.role||(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"}),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.reference.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&(!this.addVariants||this.formStatus.variants.valid)&&(!!this.addVariants||this.formStatus.quantity.valid)&&(!!this.addVariants||this.formStatus.warehouse.valid)},addVariant(){if("admin"==this.user.role&&(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"},!this.formStatus.warehouse.valid))return!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.stockAlert=0,this.color="",this.size="",this.quantity=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return this.isLoaded=!1,Nb.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getWarhouses();const t=this.deliveries[1];t&&(this.selectedDeliveries=[t.id])}};const vv=(0,m.Z)(bv,[["render",mb]]);var xv=vv;const yv=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update product informations")],-1),_v={key:0},kv={key:1},Cv={key:0,class:"tw-flex py-3 px-5 tw-border tw-justify-between bg-white tw-w-full tw-rounded-md tw-text-neutral-800 tw-items-center tw-mb-5"},Dv={class:"tw-flex tw-items-center"},Sv={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},zv={class:"tw-w-full tw-flex tw-items-center"},Uv=(0,s._)("div",{class:"text-body-2 tw-text-zinc-700"},"Status Approval :",-1),qv={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Pv=["disabled"],Lv=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Wv={class:"mb-5 px-3"},Av=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),$v={class:"tw-w-full"},Ev=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),Tv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Fv={class:"tw-w-full"},jv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),Vv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Iv={class:"tw-w-full"},Ov={class:"mb-1 text-body-2 tw-text-zinc-700"},Hv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Mv={class:"mb-1 text-body-2 tw-text-zinc-700"},Rv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Nv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),Yv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zv={key:0,class:"tw-h-fit tw-mb-"},Kv=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Bv={class:"tw-relative"},Qv=(0,s._)("option",{value:0},"Select",-1),Jv=["value"],Gv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xv={key:0,class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},tx={class:"md:tw-col-span-3 tw-col-span-12"},ex=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),rx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ax={class:"md:tw-col-span-3 tw-col-span-12"},sx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),lx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ox={class:"md:tw-col-span-3 tw-col-span-12"},ix=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),wx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},nx={class:"md:tw-col-span-3 tw-col-span-12"},dx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),cx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ux={key:1},px={class:"tw-col-span-12 tw-flex tw-justify-end"},gx=["disabled"],mx=(0,s._)("span",{class:"tw-text-white"},"Add",-1),hx={class:""},fx={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},bx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),vx={class:"mb-1 text-body-2 tw-text-zinc-700"},xx={key:1,class:"tw-max-w-full tw-overflow-x-auto"},yx={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},_x={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},kx={key:0,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},Cx=(0,s._)("div",{class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"}," warehouse ",-1),Dx=[Cx],Sx={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},zx={key:0,class:"tw-px-6 tw-py-2 tw-capitalize"},Ux={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},qx={class:"tw-px-6 tw-py-2"},Px={class:"tw-px-6 tw-py-2"},Lx={class:"tw-flex tw-flex-col"},Wx={key:0,class:"tw-text-xs tw-text-green-500"},Ax={class:"tw-px-6 tw-py-2"},$x={key:1,class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},Ex=(0,s._)("h1",null,"Image",-1),Tx={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},Fx={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},jx={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},Vx={class:"tw-w-max tw-relative"},Ix=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),Ox={class:"md:tw-col-span-6 tw-col-span-12"},Hx={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},Mx=["src"],Rx=(0,s._)("span",null,"No image available",-1),Nx=[Rx],Yx={class:"mb-5"},Zx=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),Kx={class:"tw-w-full"},Bx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Qx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jx={class:"tw-w-full"},Gx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Xx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ty={class:"tw-w-full"},ey=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),ry={class:"tw-relative"},ay=["error"],sy=(0,s._)("option",{value:""},"Select",-1),ly=(0,s._)("option",{value:"Sea"},"Sea",-1),oy=(0,s._)("option",{value:"Air"},"Air",-1),iy=[sy,ly,oy],wy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ny={class:"tw-w-full"},dy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),cy={class:"tw-relative"},uy=["error"],py=(0,s._)("option",{value:""},"Select",-1),gy=(0,s._)("option",{value:"China"},"China",-1),my=(0,s._)("option",{value:"Dubai"},"Dubai",-1),hy=(0,s._)("option",{value:"Turky"},"Turky",-1),fy=[py,gy,my,hy],by={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},vy={class:"tw-w-full"},xy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),yy={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},_y={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ky={class:"mb-5"},Cy=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),Dy={class:"mb-5"},Sy=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),zy=(0,s._)("h1",null,"Deliveries",-1),Uy={class:"tw-mt-2"},qy={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Py=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Ly=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Wy(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UpdateVariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[yv,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_v,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",kv,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("div",Cv,[(0,s._)("div",Dv,[(0,s.Uk)(" Product ID: "),(0,s._)("span",Sv,(0,wt.zw)(i.id),1)]),(0,s._)("div",null,[(0,s._)("div",zv,[Uv,(0,s._)("label",qv,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingStatus,"onUpdate:modelValue":e[0]||(e[0]=t=>o.status=t),onChange:e[1]||(e[1]=(...t)=>i.updateApprouved&&i.updateApprouved(...t)),type:"checkbox",class:"tw-sr-only tw-peer"},null,40,Pv),[[a.e8,o.status]]),Lv]),o.isLoadingStatus?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("div",Wv,[Av,(0,s.Wm)(Ea.o,{class:"py-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$v,[Ev,(0,s.Wm)(ut.hw,{error:!o.formStatus.name.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Tv,(0,wt.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Fv,[jv,(0,s.Wm)(ut.hw,{error:!o.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("quantity")),disabled:"","hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Vv,(0,wt.zw)(o.formStatus.quantity.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Iv,[(0,s._)("div",Ov," Buying Price ("+(0,wt.zw)(o.currency)+") ",1),(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Hv,(0,wt.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Mv," Selling Price ("+(0,wt.zw)(o.currency)+") ",1),(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Rv,(0,wt.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Nv,(0,s.Wm)(wh.z,{error:!o.formStatus.description.valid,onKeyup:e[10]||(e[10]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[11]||(e[11]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",Yv,(0,wt.zw)(o.formStatus.description.message),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"12",class:"tw-border-t tw-border-t-neutral-300 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Zv,[Kv,(0,s._)("div",Bv,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.warehouse=t),onChange:e[13]||(e[13]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Qv,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,Jv)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Gv,(0,wt.zw)(o.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),(0,s._)("div",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Xv,[(0,s._)("div",tx,[ex,(0,s.Wm)(ut.hw,{error:!o.formStatus.size.valid,onKeyup:e[14]||(e[14]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[15]||(e[15]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rx,(0,wt.zw)(o.formStatus.size.message),1)]),(0,s._)("div",ax,[sx,(0,s.Wm)(ut.hw,{error:!o.formStatus.color.valid,onKeyup:e[16]||(e[16]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[17]||(e[17]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",lx,(0,wt.zw)(o.formStatus.color.message),1)]),(0,s._)("div",ox,[ix,(0,s.Wm)(ut.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[18]||(e[18]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[19]||(e[19]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",wx,(0,wt.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",nx,[dx,(0,s.Wm)(ut.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[20]||(e[20]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[21]||(e[21]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",cx,(0,wt.zw)(o.formStatus.stockAlert.message),1)])])):(0,s.kq)("",!0),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",ux,[(0,s._)("div",px,[(0,s._)("button",{disabled:!o.quantity,class:(0,wt.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[22]||(e[22]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),mx],10,gx)])])):(0,s.kq)("",!0),(0,s._)("div",hx,[(0,s._)("div",fx,[bx,(0,s._)("div",vx," Quantity Total: "+(0,wt.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,wt.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",xx,[(0,s._)("table",yx,[(0,s._)("thead",_x,[(0,s._)("tr",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("th",kx,Dx)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","Stock Alert","admin"==i.user.role?"actions":""],(t=>((0,s.wg)(),(0,s.iD)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Sx,(0,wt.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",zx,(0,wt.zw)(t.warehouse.name),1)):(0,s.kq)("",!0),(0,s._)("td",Ux,(0,wt.zw)(t.size),1),(0,s._)("td",qx,(0,wt.zw)(t.color),1),(0,s._)("td",Px,[(0,s._)("div",Lx,[(0,s._)("span",null,(0,wt.zw)(t.quantity),1),t.created_at?((0,s.wg)(),(0,s.iD)("span",Wx,(0,wt.zw)(t.available_quantity),1)):(0,s.kq)("",!0)])]),(0,s._)("td",Ax,(0,wt.zw)(t.stockAlert),1),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",$x,[(0,s._)("div",null,[(0,s.Wm)(n,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])):(0,s.kq)("",!0)])))),128))])])]))])])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Ex,(0,s._)("div",Tx,[(0,s._)("div",Fx,[(0,s._)("label",jx,[(0,s._)("div",Vx,[(0,s.Wm)(ct.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),Ix]),(0,s._)("input",{onChange:e[23]||(e[23]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",Ox,[(0,s._)("div",Hx,[(0,s._)("img",{class:(0,wt.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",src:o.serverUrl+"storage/"+o.image,id:"image-preview",alt:"Image Preview"},null,10,Mx),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},Nx,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",Yx,[Zx,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Kx,[Bx,(0,s.Wm)(ut.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[24]||(e[24]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[25]||(e[25]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Qx,(0,wt.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Jx,[Gx,(0,s.Wm)(ut.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[26]||(e[26]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[27]||(e[27]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Xx,(0,wt.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ty,[ey,(0,s._)("div",ry,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.transport_mode.valid,onKeyup:e[28]||(e[28]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[29]||(e[29]=t=>o.product.transport_mode=t)},iy,40,ay),[[a.bM,o.product.transport_mode]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",wy,(0,wt.zw)(o.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ny,[dy,(0,s._)("div",cy,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!o.formStatus.country_of_purchase.valid,onKeyup:e[30]||(e[30]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[31]||(e[31]=t=>o.product.country_of_purchase=t)},fy,40,uy),[[a.bM,o.product.country_of_purchase]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",by,(0,wt.zw)(o.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vy,[xy,(0,s._)("div",yy,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[32]||(e[32]=t=>o.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,o.product.expedition_date]])]),(0,s._)("div",_y,(0,wt.zw)(o.formStatus.expedition_date.message),1)])])),_:1})])),_:1})]),(0,s._)("div",ky,[Cy,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[33]||(e[33]=t=>o.offers=t)},null,8,["offers"])])])),_:1})])),_:1})])]),(0,s._)("div",Dy,[Sy,(0,s.Wm)(Ea.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[zy,(0,s._)("div",Uy,[(0,s.Wm)(oh.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[34]||(e[34]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",qy,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Py])),_:1}),(0,s.Wm)(nt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Ly])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}const Ay={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},$y={class:"tw-w-full"},Ey=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Add quantity",-1),Ty={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end tw-mt-3"},Fy=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),jy=[Fy],Vy=["disabled"],Iy=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Oy=[Iy];function Hy(t,e,r,a,l,o){const i=(0,s.up)("popup"),w=(0,s.up)("UpdateProductVariant"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[r.variant.created_at?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.visibleAdd=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1})):(0,s.kq)("",!0),void 0===r.variant.on_hold||r.variant.available_quantity==r.variant.quantity?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(n,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"]),(0,s.Wm)(n,{visible:l.visibleAdd,onCancel:o.cancelAdd},{default:(0,s.w5)((()=>[(0,s._)("div",Ay,[(0,s._)("div",$y,[Ey,(0,s.Wm)(ut.hw,{"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>l.quantity=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Ty,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.cancelAdd&&o.cancelAdd(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},jy),(0,s._)("button",{disabled:!l.quantity||0==l.quantity,class:(0,wt.C_)([{"!tw-bg-green-500":0!=l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[5]||(e[5]=(...t)=>o.addQuantity&&o.addQuantity(...t))},Oy,10,Vy)])])])),_:1},8,["visible","onCancel"])])}var My={components:{UpdateProductVariant:Ib},props:["variant"],data(){return{visible:!1,visibleAdd:!1,deletePopup:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1},cancelAdd(){this.visibleAdd=!1},update(t){console.log("from actions: ",t)},addQuantity(){this.newVariant.quantity=parseInt(this.newVariant.quantity)+parseInt(this.quantity),this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(this.quantity),this.quantity=1,this.cancelAdd()},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}},mounted(){this.newVariant=this.variant}};const Ry=(0,m.Z)(My,[["render",Hy]]);var Ny=Ry,Yy={components:{UpdateVariantActions:Ny,ProductOffers:fv},data(){return{currency:c,serverUrl:n,isLoading:!1,isLoaded:!1,variantId:1,variants:[],color:"",size:"",quantity:0,stockAlert:0,image:"",imageFile:null,offers:[],isLoadingStatus:!1,status:!1,note:null,warehouse:0,product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},variants:{valid:!0,message:""},warehouse:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},id(){return this.$route.params.id},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;t.variants=this.variants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t,product_id:this.id}))),ha.update(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message}),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},updateApprouved(){this.isLoadingStatus=!0;const t={status:!!this.status,note:this.note};ha.updateStatus(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("product/setProduct",t.data.data.product),this.$emit("cancel")),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingStatus=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},getLastVariantId(t){return Math.max(...t.map((t=>t.id)))+1},validate(){return this.formStatus.name=$t(this.product.name,"Product name"),this.formStatus.buyingPrice=$t(this.product.buyingPrice,"Buying price"),this.formStatus.sellingPrice=$t(this.product.sellingPrice,"Selling price"),this.formStatus.link_store=$t(this.product.link_store,"Link store"),this.formStatus.link_video=$t(this.product.link_video,"Link video"),this.formStatus.transport_mode=$t(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=$t(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=$t(this.product.country_of_purchase,"Country of purchase"),this.formStatus.description=$t(this.product.description,"Description"),this.formStatus.variants=Ft(this.variants),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.sellingPrice&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.description.valid&&this.formStatus.variants.valid},addVariant(){if(0==this.warehouse)return this.$alert({type:"warning",title:"Select warehouse"}),!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,warehouse:this.warehouses.find((t=>t.id==this.warehouse)),stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.color="",this.size="",this.quantity=0,this.stockAlert=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.quantity<=0&&(this.quantity=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return Nb.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),t)),this.$handleApiError)},getProduct(){return ha.getProduct(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{variations:e,buying_price:r,selling_price:a,ref:s,link_video:l,link_store:o,expedition_date:i,transport_mode:w,country_of_purchase:n,name:d,description:c,deliveries:u,image:p,offers:g,status:m}=t.data.data.products;return this.variants=e,this.product.buyingPrice=r,this.product.sellingPrice=a,this.product.name=d,this.product.reference=s,this.product.link_video=l,this.product.link_store=o,this.product.expedition_date=i?i.split(" ")[0]:null,this.product.transport_mode=w,this.product.country_of_purchase=n,this.product.description=c,this.image=p,this.offers=g,this.status=Boolean(m),this.variantId=this.getLastVariantId(e),this.selectedDeliveries=u.map((t=>t.delivery_id)),this.isLoaded=!0,t}}),this.$handleApiError)},getData(){this.isLoaded=!1,Promise.allSettled([this.getWarhouses(),this.getProduct()]).then((t=>{t.every((t=>"fulfilled"==t.status))&&(this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getData()}};const Zy=(0,m.Z)(Yy,[["render",Wy]]);var Ky=Zy;const By={class:"tw-pb-14"},Qy=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Show product informations")],-1),Jy={key:0},Gy={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Xy={class:"tw-grid tw-grid-cols-12 tw-gap-2"},t_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},e_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Name:",-1),r_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},a_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},s_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Reference:",-1),l_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},o_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},i_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Buying Price:",-1),w_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},n_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},d_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Selling Price:",-1),c_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},u_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},p_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Delivered:",-1),g_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},m_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},h_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Sent:",-1),f_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},b_={class:"tw-col-span-12 md:tw-col-span-12 tw-flex tw-gap-2 tw-flex-col tw-flex-wrap"},v_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Description:",-1),x_={class:"tw-text-neutral-800 tw-font-medium"},y_={key:2,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},__={key:3,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},k_={class:"tw-grid tw-grid-cols-12 tw-gap-2"},C_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},D_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Store Link:",-1),S_=["href"],z_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},U_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Video Link:",-1),q_=["href"],P_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},L_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Expidition Date:",-1),W_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},A_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},$_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Transport Mode:",-1),E_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},T_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},F_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Country Of Purchase:",-1),j_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},V_={key:4,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},I_={key:5,class:"tw-border bg-white tw-w-full tw-rounded-md"},O_={key:6,class:"tw-text-neutral-700 tw-font-bold tw-mt-5 tw-mb-1"},H_={key:7,class:"tw-overflow-hidden tw-border bg-white tw-w-full tw-rounded-md"},M_={class:"tw-max-w-full tw-overflow-auto"},R_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},N_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Y_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Z_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},K_={key:0},B_={key:1},Q_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},J_={class:"tw-px-6 tw-py-2"},G_={class:"tw-px-6 tw-py-2"},X_={class:"tw-flex tw-flex-col"},tk={class:"tw-px-6 tw-py-2"},ek={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},rk=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),ak=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),sk=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1),lk={class:"tw-px-6 tw-py-2"},ok={class:"tw-flex tw-flex-col tw-font-medium"},ik=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1);function wk(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ProductTracking");return(0,s.wg)(),(0,s.iD)("div",By,[Qy,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Jy,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Gy,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",Xy,[(0,s._)("div",t_,[e_,(0,s._)("p",r_,(0,wt.zw)(l.product.name),1)]),(0,s._)("div",a_,[s_,(0,s._)("p",l_,(0,wt.zw)(l.product.ref),1)]),(0,s._)("div",o_,[i_,(0,s._)("p",w_,(0,wt.zw)(l.product.buying_price)+" "+(0,wt.zw)(l.currency),1)]),(0,s._)("div",n_,[d_,(0,s._)("p",c_,(0,wt.zw)(l.product.selling_price)+" "+(0,wt.zw)(l.currency),1)]),(0,s._)("div",u_,[p_,(0,s._)("p",g_,(0,wt.zw)(o.qtyTotalDelivered),1)]),(0,s._)("div",m_,[h_,(0,s._)("p",f_,(0,wt.zw)(o.qtyTotalSent),1)]),(0,s._)("div",b_,[v_,(0,s._)("p",x_,(0,wt.zw)(l.product.description),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",y_,"Expidition Infos")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",__,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",k_,[(0,s._)("div",C_,[D_,(0,s._)("a",{target:"_blank",href:l.product.link_store,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,wt.zw)(l.product.link_store),9,S_)]),(0,s._)("div",z_,[U_,(0,s._)("a",{target:"_blank",href:l.product.link_video,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,wt.zw)(l.product.link_video),9,q_)]),(0,s._)("div",P_,[L_,(0,s._)("p",W_,(0,wt.zw)(l.product.expedition_date.split(" ")[0]),1)]),(0,s._)("div",A_,[$_,(0,s._)("p",E_,(0,wt.zw)(l.product.transport_mode),1)]),(0,s._)("div",T_,[F_,(0,s._)("p",j_,(0,wt.zw)(l.product.country_of_purchase),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",V_,"Tracking")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",I_,[(0,s.Wm)(w,{product:l.product},null,8,["product"])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",O_,"Variations")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",H_,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",M_,[(0,s._)("table",R_,[(0,s._)("thead",N_,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","size","color","qty","Stock Alert"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Y_,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",Z_,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",K_,(0,wt.zw)(t.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",B_,(0,wt.zw)(e+1),1)):(0,s.kq)("",!0)]),(0,s._)("th",Q_,(0,wt.zw)(t.size),1),(0,s._)("td",J_,(0,wt.zw)(t.color),1),(0,s._)("td",G_,[(0,s._)("div",X_,[(0,s._)("span",null,"Initial: "+(0,wt.zw)(t.quantity),1)])]),(0,s._)("td",tk,(0,wt.zw)(t.stockAlert),1)])))),128)),(0,s._)("tr",ek,[rk,ak,sk,(0,s._)("td",lk,[(0,s._)("div",ok,[(0,s._)("span",null,"Total: "+(0,wt.zw)(o.qtyTotal),1)])]),ik])])])])])])])):(0,s.kq)("",!0)])}const nk={class:"tw-flex tw-items-ce tw-gap-1 tw-border-b tw-border-solid tw-border-neutral-200"},dk=["onClick"];function ck(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingTable");return(0,s.wg)(),(0,s.j4)(Ss._,{flat:"",class:"tw-p-1"},{default:(0,s.w5)((()=>[(0,s._)("div",nk,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,onClick:e=>l.tab=t.id,class:(0,wt.C_)(["tw-px-4 tw-py-2 tw-rounded-t hover:tw-border-orange-500/50 tw-duration-300 tw-border tw-border-solid tw-border-neutral-200 tw-text-neutral-500 tw-border-b-0",{"tw-bg-orange-500 !tw-text-white tw-border-transparent":t.id==l.tab}])},(0,wt.zw)(t.name),11,dk)))),128))]),(0,s.kq)("",!0),(0,s.Wm)(qs.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(Ps.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{product:r.product,source:t.source},null,8,["product","source"])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const uk={class:"tw-mt-5"},pk={class:"tw-max-w-full tw-overflow-auto"},gk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},mk={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},hk={key:0},fk={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},bk={key:1},vk={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"};function xk(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingRow");return(0,s.wg)(),(0,s.iD)("div",uk,[(0,s._)("div",pk,[(0,s._)("table",gk,[(0,s._)("thead",mk,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",hk,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","name","quantity","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",fk,(0,wt.zw)(t),1)],2))),64))])):(0,s.kq)("",!0),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",bk,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","quantity","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",vk,(0,wt.zw)(t),1)],2))),64))])):(0,s.kq)("",!0)]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{item:t,index:e+1,key:t.id,source:r.source},null,8,["item","index","source"])))),128))])])])])}const yk={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},_k={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},kk={class:"tw-flex tw-items-start tw-h-full"},Ck={key:0},Dk={key:1},Sk={key:0,scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},zk={class:"tw-px-6 tw-py-2"},Uk={key:0},qk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Pk={key:0,class:"tw-h-fit tw-py-2"},Lk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Wk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Ak=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),$k={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Ek=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Tk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Fk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),jk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Vk={key:1},Ik={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Ok={key:0,class:"tw-h-fit tw-py-2"},Hk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Mk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Rk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),Nk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Yk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Zk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Kk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Bk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Qk={class:"tw-px-6 tw-py-2 tw-space-x-3"};function Jk(t,e,r,a,l,o){const i=(0,s.up)("ShowProductVariantActions");return(0,s.wg)(),(0,s.iD)("tr",yk,[(0,s._)("th",_k,[(0,s._)("div",kk,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",Ck,(0,wt.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",Dk,(0,wt.zw)(r.index),1)):(0,s.kq)("",!0)])]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("th",Sk,(0,wt.zw)(r.item.name),1)):(0,s.kq)("",!0),(0,s._)("td",zk,["warehouses"==r.source?((0,s.wg)(),(0,s.iD)("div",Uk,[(0,s._)("div",qk,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,wt.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(It.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",Pk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Lk,(0,s._)("td",Wk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[Ak,(0,s._)("td",$k,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[Ek,(0,s._)("td",Tk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Fk,(0,s._)("td",jk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0),"deliveries"==r.source?((0,s.wg)(),(0,s.iD)("div",Vk,[(0,s._)("div",Ik,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,wt.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(It.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",Ok,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Hk,(0,s._)("td",Mk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[Rk,(0,s._)("td",Nk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[Yk,(0,s._)("td",Zk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Kk,(0,s._)("td",Bk,(0,wt.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("td",Qk,[(0,s._)("div",null,[(0,s.Wm)(i,{type:r.source,source:r.item},null,8,["type","source"])])])])}function Gk(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetails");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue-lighten-2",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})])),_:1}),(0,s.Wm)(i,{visible:l.visible,onCancel:o.cancel,type:r.type,source:r.source},null,8,["visible","onCancel","type","source"])])}const Xk={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},tC={class:"tw-p-5"},eC={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},rC=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},"SIZE"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"},"COLOR"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1);function aC(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetailsRow"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Xk,[(0,s.Wm)(nt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",tC,[(0,s._)("table",eC,[rC,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.source.product_variations,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{index:e,key:t.id,item:t,type:r.type},null,8,["index","item","type"])))),128))])]),(0,s.kq)("",!0)])])])),_:1},8,["visible","onCancel"])])}const sC={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},lC={class:"tw-w-4 tw-px-2 tw-py-1"},oC={key:0},iC={key:1},wC={class:"tw-w-4 tw-px-2 tw-py-1"},nC={class:"tw-w-4 tw-px-2 tw-py-1"},dC={class:"tw-w-4 tw-px-2 tw-py-1"},cC={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},uC={key:0,class:"tw-h-fit tw-py-2"},pC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),gC={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},mC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),hC={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},fC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),bC={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},vC=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),xC={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"};function yC(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",sC,[(0,s._)("td",lC,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",oC,(0,wt.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",iC,(0,wt.zw)(r.index+1),1)):(0,s.kq)("",!0)]),(0,s._)("td",wC,(0,wt.zw)(r.item.size),1),(0,s._)("td",nC,(0,wt.zw)(r.item.color),1),(0,s._)("td",dC,[(0,s._)("div",null,[(0,s._)("div",cC,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null," Total: "+(0,wt.zw)(r.item.on_hand_quantity),1),(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(It.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",uC,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[pC,(0,s._)("td",gC,(0,wt.zw)(r.item.movements_total_confirmed_quantity),1)]),(0,s._)("tr",null,[mC,(0,s._)("td",hC,(0,wt.zw)(r.item.movements_total_not_confirmed_quantity),1)]),(0,s._)("tr",null,[fC,(0,s._)("td",bC,(0,wt.zw)(r.item.total_shipped_quantity),1)]),(0,s._)("tr",null,[vC,(0,s._)("td",xC,(0,wt.zw)(r.item.total_delivered_quantity),1)])])])])):(0,s.kq)("",!0)])),_:1})])])])}var _C={props:["type","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}}};const kC=(0,m.Z)(_C,[["render",yC]]);var CC=kC,DC={props:["visible","source","type"],components:{ProductVariantDetailsRow:CC},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const SC=(0,m.Z)(DC,[["render",aC]]);var zC=SC,UC={props:["product","source","type"],components:{ProductVariantDetails:zC},data(){return{visible:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1}},mounted(){console.log(this.source)}};const qC=(0,m.Z)(UC,[["render",Gk]]);var PC=qC,LC={components:{ShowProductVariantActions:PC},props:["source","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{get_total_quantity(t,e="on_hand_quantity"){let r=0;return t.forEach((t=>{r+=t[e]})),r}}};const WC=(0,m.Z)(LC,[["render",Jk]]);var AC=WC,$C={props:["product","source"],components:{ProductTrackingRow:AC},computed:{user(){return this.$store.getters["user/user"]},items(){return this.product.tracking[this.source]}},methods:{},mounted(){}};const EC=(0,m.Z)($C,[["render",xk]]);var TC=EC,FC={components:{ProductTrackingTable:TC},props:["product"],data(){return{tab:1,tabs:[{id:1,name:"Deliveries",source:"deliveries"},{id:2,name:"Warehouses",source:"warehouses"}]}}};const jC=(0,m.Z)(FC,[["render",ck]]);var VC=jC,IC={components:{ProductTracking:VC},data(){return{currency:c,isLoading:!1,isLoaded:!1,variantId:1,variants:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""}}},computed:{user(){return this.$store.getters["user/user"]},qtyTotalDelivered(){let t=0;return this.product.tracking.deliveries.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),t},qtyTotalSent(){let t=0;return this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.movements_total_confirmed_quantity,t+=e.movements_total_not_confirmed_quantity}))})),t},qtyTotal(){if(this.isLoaded){let t=0;return this.product.variations.forEach((e=>{t+=e.quantity})),t}return 0}},methods:{getProduct(){const t=this.$route.params.id;ha.getProduct(t).then((t=>{"SUCCESS"==t.data.code&&(this.product=t.data.data.products,this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getProduct()}};const OC=(0,m.Z)(IC,[["render",wk]]);var HC=OC;class MC{async paginate(t="",e){return await E.getCookie(),A.post("api/supply-requests"+t,e)}async create(t){return await E.getCookie(),A.post("api/supply-requests/new",t)}async update(t,e){return await E.getCookie(),A.post("api/supply-requests/"+t,e)}async delete(t){return await E.getCookie(),A["delete"]("api/supply-requests/"+t)}}var RC=new MC;const NC={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},YC=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),ZC={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},KC=["disabled"],BC=["disabled"];var QC={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=(0,ke.iH)(!1),l=t,o=(0,i.oR)(),w=async()=>{a.value=!0,await RC["delete"](l.item.id).then((t=>{"SUCCESS"==t.data.code&&(o.dispatch("supply-request/deleteSupplyRequest",l.item.id),Tc("Deleted Successfully"),n())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),Tc(e,"error"),n()})),a.value=!1},n=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:l.visible,onCancel:n,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",NC,[YC,(0,s._)("div",ZC,[(0,s._)("button",{onClick:n,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,KC),(0,s._)("button",{onClick:w,disabled:a.value,type:"button",class:(0,wt.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,wt.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,BC)])])])),_:1},8,["visible","closeable"])])}}};const JC=QC;var GC=JC;const XC=[{name:"Pending",value:"pending",style:"tw-text-yellow-600 tw-bg-yellow-100",text:"tw-text-yellow-600"},{name:"Accepted",value:"accepted",style:"tw-text-emerald-600 tw-bg-emerald-100",text:"tw-text-emerald-600"},{name:"Refused",value:"refused",style:"tw-text-red-600 tw-bg-red-100",text:"tw-text-red-600"}],tD={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},eD={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},rD=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),aD={class:"tw-p-5 tw-space-y-4"},sD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),lD={class:"tw-font-semibold tw-mt-1"},oD={class:"tw-flex tw-items-center"},iD={key:0,class:"tw-flex-1"},wD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),nD={class:"tw-font-semibold tw-mt-1"},dD={class:"tw-text-blue-500"},cD={class:"tw-text-green-500"},uD={class:"tw-flex-1"},pD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),gD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),mD={class:"tw-font-semibold tw-mt-1"},hD={key:0},fD=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),bD={class:"tw-font-semibold tw-mt-1"};var vD={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=t,l=(0,ke.Vh)(a,"item"),o=(0,s.Fl)((()=>XC.find((t=>t.value==l.value.status)))),i=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:a.visible,onCancel:i},{default:(0,s.w5)((()=>[(0,s._)("div",tD,[(0,s._)("div",eD,[rD,(0,s._)("div",aD,[(0,s._)("div",null,[sD,(0,s._)("p",lD,(0,wt.zw)(l.value.product.name),1)]),(0,s._)("div",oD,[l.value.product_variation.color||l.value.product_variation.size?((0,s.wg)(),(0,s.iD)("div",iD,[wD,(0,s._)("p",nD,[(0,s._)("span",dD,(0,wt.zw)(l.value.product_variation.color),1),(0,s.Uk)(),(0,s._)("span",cD,(0,wt.zw)(l.value.product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",uD,[pD,(0,s._)("p",{class:(0,wt.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[o.value.style]])},(0,wt.zw)(o.value.name),3)])]),(0,s._)("div",null,[gD,(0,s._)("p",mD,(0,wt.zw)(l.value.note),1)]),l.value.admin_note?((0,s.wg)(),(0,s.iD)("div",hD,[fD,(0,s._)("p",bD,(0,wt.zw)(l.value.admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:i,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const xD=vD;var yD=xD;const _D={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var kD={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,ke.qj)({delete:!1,show:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",_D,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,ke.SU)(yD),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[1]||(a[1]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,ke.SU)(GC),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[3]||(a[3]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const CD=kD;var DD=CD;const SD={class:"tw-px-4 tw-py-2"},zD={class:"tw-px-4 tw-py-2 tw-truncate"},UD={class:"tw-max-w-[200px] tw-truncate"},qD={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},PD={class:"tw-text-blue-500"},LD={class:"tw-text-green-500"},WD={class:"tw-px-4 tw-py-2 tw-truncate"},AD={class:"tw-max-w-[200px] tw-truncate"},$D={class:"tw-px-4 tw-py-2 tw-truncate"},ED={class:"tw-px-4 tw-py-2"},TD={class:"tw-text-sm tw-whitespace-nowrap"};var FD={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,ke.Vh)(e,"item"),a=(0,s.Fl)((()=>XC.find((t=>t.value==r.value.status))));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",SD,(0,wt.zw)(r.value.id),1),(0,s._)("td",zD,[(0,s._)("p",UD,(0,wt.zw)(r.value.product.name),1)]),(0,s._)("td",qD,[(0,s._)("p",null,[(0,s._)("span",PD,(0,wt.zw)(r.value.product_variation.color),1),(0,s.Uk)(),(0,s._)("span",LD,(0,wt.zw)(r.value.product_variation.size),1)])]),(0,s._)("td",WD,[(0,s._)("p",AD,(0,wt.zw)(r.value.quantity),1)]),(0,s._)("td",$D,[(0,s._)("p",{class:(0,wt.C_)(["tw-max-w-[200px] tw-w-fit tw-truncate tw-px-2 tw-py-1 tw-rounded tw-font-semibold tw-text-xs tw-uppercase",[a.value.style]])},(0,wt.zw)(r.value.status),3)]),(0,s._)("td",ED,[(0,s._)("p",TD,(0,wt.zw)((0,ke.SU)(ze())(r.value.created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,ke.SU)(DD),{item:r.value},null,8,["item"])])]))}};const jD=FD;var VD=jD;const ID={class:""},OD={class:"tw-overflow-x-auto tw-bg-white"},HD={class:"tw-inline-block tw-min-w-full tw-align-middle"},MD={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},RD={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},ND=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),YD={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},ZD={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},KD=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),BD=[KD],QD={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},JD={colspan:"11"},GD={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},XD=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),tS=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),eS=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),rS=[tS,eS],aS={class:"tw-mt-6"};var sS={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=e,a=t,l=(0,ke.Vh)(a,"options"),o=(0,ke.Vh)(a,"data"),i=(0,ke.Vh)(a,"loading"),w=t=>{r("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",ID,[(0,s._)("div",OD,[(0,s._)("div",HD,[(0,s._)("div",MD,[(0,s._)("table",RD,[ND,!i.value&&o.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",YD,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(VD),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),i.value||0!=o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",ZD,BD)),i.value?((0,s.wg)(),(0,s.iD)("tbody",QD,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",JD,[(0,s._)("div",GD,[XD,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},rS))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",aS,[(0,s.Wm)((0,ke.SU)(iw),{from:l.value.from,to:l.value.to,"last-page":l.value.last_page,"per-page":l.value.per_page,total:l.value.total,"current-page":l.value.current_page,onPageChange:w},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const lS=sS;var oS=lS;const iS={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},wS={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},nS=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),dS={class:"tw-p-5 tw-space-y-4"},cS={class:""},uS={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},pS={key:0,class:"tw-text-xs tw-text-gray-400"},gS={class:"tw-relative"},mS=["disabled"],hS=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),fS=["value"],bS=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),vS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xS={key:0},yS={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},_S={key:0,class:"tw-text-xs tw-text-gray-400"},kS={class:"tw-relative"},CS=["disabled"],DS=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),SS=["value"],zS=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),US={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),PS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},LS=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Message",-1),WS={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},AS={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},$S=["disabled"],ES=(0,s._)("span",null,"Add",-1);var TS={__name:"SupplyRequestAdd",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,i.oR)(),w=(0,ke.iH)(!1),n=(0,ke.qj)({request:{product_id:"no-value-selected",product_variation_id:"no-value-selected",quantity:0,note:""},errors:{}}),d=(0,s.Fl)((()=>o.getters["product/products"])),c=(0,s.Fl)((()=>o.getters["product/fetched"])),u=(0,s.Fl)((()=>"no-value-selected"==n.request.product_id?[]:d.value.find((t=>t.id==n.request.product_id)).variations));(0,s.YP)((()=>n.request.product_id),(()=>{1!=u.value.length?n.request.product_variation_id="no-value-selected":n.request.product_variation_id=u.value[0].id}));const p=()=>{r("update:visible",!1)},g=async()=>{w.value=!0,await RC.create(n.request).then((t=>{"SUCCESS"==t.data.code&&(Tc("Request has been added"),o.dispatch("supply-request/addSupplyRequest",t.data.supply_request),p())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)n.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&Tc("Something went wrong","error")})),w.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(r,{visible:l.visible,onCancel:p},{default:(0,s.w5)((()=>[(0,s._)("div",iS,[(0,s._)("div",wS,[nS,(0,s._)("div",dS,[(0,s._)("div",cS,[(0,s._)("label",uS,[(0,s.Uk)("Product "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",pS," loading..."))]),(0,s._)("div",gS,[(0,s.wy)((0,s._)("select",{disabled:!c.value,onChange:e[0]||(e[0]=t=>n.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>n.request.product_id=t),class:(0,wt.C_)([[n.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[hS,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.name]),value:t.id,key:t.id},(0,wt.zw)(t.name),11,fS)))),128))],42,mS),[[a.bM,n.request.product_id]]),bS]),n.errors.product_id?((0,s.wg)(),(0,s.iD)("label",vS,(0,wt.zw)(n.errors.product_id),1)):(0,s.kq)("",!0)]),u.value.length>1?((0,s.wg)(),(0,s.iD)("div",xS,[(0,s._)("label",yS,[(0,s.Uk)("Variation "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",_S," loading..."))]),(0,s._)("div",kS,[(0,s.wy)((0,s._)("select",{disabled:!c.value||"no-value-selected"==n.request.product_id,onChange:e[2]||(e[2]=t=>n.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>n.request.product_variation_id=t),class:(0,wt.C_)([[n.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[DS,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.name]),value:t.id,key:t.id},(0,wt.zw)(t.size)+" "+(0,wt.zw)(t.size&&t.color?"|":"")+" "+(0,wt.zw)(t.color),11,SS)))),128))],42,CS),[[a.bM,n.request.product_variation_id]]),zS]),n.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",US,(0,wt.zw)(n.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[qS,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>n.request.quantity=t),onInput:e[5]||(e[5]=t=>n.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,34),[[a.nr,n.request.quantity]]),n.errors.quantity?((0,s.wg)(),(0,s.iD)("label",PS,(0,wt.zw)(n.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[LS,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[6]||(e[6]=t=>n.request.note=t),onInput:e[7]||(e[7]=t=>n.errors.note=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for your request",rows:"2",required:""},null,34),[[a.nr,n.request.note]]),n.errors.note?((0,s.wg)(),(0,s.iD)("label",WS,(0,wt.zw)(n.errors.note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",AS,[(0,s._)("button",{onClick:p,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:g,disabled:w.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[w.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ES],8,$S)])])])])),_:1},8,["visible"])}}};const FS=TS;var jS=FS;const VS={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},IS={class:"mb-5 tw-flex tw-w-full tw-justify-between"},OS=(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ",-1),HS=(0,s._)("span",null,"Create",-1),MS=[HS],RS=(0,s._)("div",{class:"tw-mt-5"},null,-1);var NS={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,ke.qj)({create:!1}),a=(0,ke.qj)({}),l=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),o=(0,ke.iH)(!0),w=async()=>{o.value=!0,await RC.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(a,t.data.data.supply_requests))})),o.value=!1},n=t=>{console.log(t)};return w(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",VS,[(0,s._)("div",IS,[OS,(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.create=!0),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-orange-100 tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},MS),r.create?((0,s.wg)(),(0,s.j4)((0,ke.SU)(jS),{key:0,visible:r.create,"onUpdate:visible":e[1]||(e[1]=t=>r.create=t)},null,8,["visible"])):(0,s.kq)("",!0)])]),RS,(0,s.Wm)((0,ke.SU)(oS),{onPageChange:n,data:l.value,loading:o.value,options:a},null,8,["data","loading","options"])]))}};const YS=NS;var ZS=YS;const KS={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},BS=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),QS={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},JS=["disabled"],GS=["disabled"];var XS={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=(0,ke.iH)(!1),l=t,o=(0,i.oR)(),w=async()=>{a.value=!0,await RC["delete"](l.item.id).then((t=>{"SUCCESS"==t.data.code&&(o.dispatch("supply-request/deleteSupplyRequest",l.item.id),Tc("Deleted Successfully"),n())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),Tc(e,"error"),n()})),a.value=!1},n=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:l.visible,onCancel:n,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",KS,[BS,(0,s._)("div",QS,[(0,s._)("button",{onClick:n,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,JS),(0,s._)("button",{onClick:w,disabled:a.value,type:"button",class:(0,wt.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,wt.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,GS)])])])),_:1},8,["visible","closeable"])])}}};const tz=XS;var ez=tz;const rz={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},az={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},sz=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),lz={class:"tw-p-5 tw-space-y-4"},oz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),iz={class:"tw-font-semibold tw-mt-1"},wz={class:"tw-flex tw-items-center"},nz={key:0,class:"tw-flex-1"},dz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),cz={class:"tw-font-semibold tw-mt-1"},uz={class:"tw-text-blue-500"},pz={class:"tw-text-green-500"},gz={class:"tw-flex-1"},mz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),hz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),fz={class:"tw-font-semibold tw-mt-1"},bz={key:0},vz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),xz={class:"tw-font-semibold tw-mt-1"};var yz={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,a=t,l=(0,ke.Vh)(a,"item"),o=(0,s.Fl)((()=>XC.find((t=>t.value==l.value.status)))),i=()=>{r("update:visible",!1)};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:a.visible,onCancel:i},{default:(0,s.w5)((()=>[(0,s._)("div",rz,[(0,s._)("div",az,[sz,(0,s._)("div",lz,[(0,s._)("div",null,[oz,(0,s._)("p",iz,(0,wt.zw)(l.value.product.name),1)]),(0,s._)("div",wz,[l.value.product_variation.color||l.value.product_variation.size?((0,s.wg)(),(0,s.iD)("div",nz,[dz,(0,s._)("p",cz,[(0,s._)("span",uz,(0,wt.zw)(l.value.product_variation.color),1),(0,s.Uk)(),(0,s._)("span",pz,(0,wt.zw)(l.value.product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",gz,[mz,(0,s._)("p",{class:(0,wt.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[o.value.style]])},(0,wt.zw)(o.value.name),3)])]),(0,s._)("div",null,[hz,(0,s._)("p",fz,(0,wt.zw)(l.value.note),1)]),l.value.admin_note?((0,s.wg)(),(0,s.iD)("div",bz,[vz,(0,s._)("p",xz,(0,wt.zw)(l.value.admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:i,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const _z=yz;var kz=_z;const Cz={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},Dz={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},Sz=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),zz={class:"tw-p-5 tw-space-y-4"},Uz={class:""},qz={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Pz={key:0,class:"tw-text-xs tw-text-gray-400"},Lz={class:"tw-relative"},Wz=["disabled"],Az=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),$z=["value"],Ez=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Tz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Fz={key:0},jz={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Vz={key:0,class:"tw-text-xs tw-text-gray-400"},Iz={class:"tw-relative"},Oz=["disabled"],Hz=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),Mz=["value"],Rz=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Nz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Yz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),Zz=["disabled"],Kz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},Bz={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Qz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's Message",-1),Jz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Gz=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leave note for seller",-1),Xz={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},tU={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},eU=["disabled"],rU=(0,s._)("span",null,"Save",-1);var aU={__name:"SupplyRequestTableActionsEdit",props:["visible","item"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,i.oR)(),w=(0,ke.iH)(!1),n=(0,ke.qj)({request:JSON.parse(JSON.stringify(l.item)),errors:{}}),d=(0,s.Fl)((()=>o.getters["product/products"])),c=(0,s.Fl)((()=>o.getters["product/fetched"])),u=(0,s.Fl)((()=>"no-value-selected"==n.request.product_id?[]:d.value.find((t=>t.id==n.request.product_id)).variations));(0,s.YP)((()=>n.request.product_id),(()=>{1!=u.value.length?n.request.product_variation_id="no-value-selected":n.request.product_variation_id=u.value[0].id}));const p=()=>{r("update:visible",!1)},g=async()=>{w.value=!0,await RC.update(l.item.id,n.request).then((t=>{"SUCCESS"==t.data.code&&(Tc("Request has been updated"),o.dispatch("supply-request/updateSupplyRequest",t.data.supply_request),p())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)n.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&Tc("Something went wrong","error")})),w.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(r,{visible:l.visible,onCancel:p},{default:(0,s.w5)((()=>[(0,s._)("div",Cz,[(0,s._)("div",Dz,[Sz,(0,s._)("div",zz,[(0,s._)("div",Uz,[(0,s._)("label",qz,[(0,s.Uk)("Product "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",Pz," loading..."))]),(0,s._)("div",Lz,[(0,s.wy)((0,s._)("select",{disabled:!c.value||!0,onChange:e[0]||(e[0]=t=>n.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>n.request.product_id=t),class:(0,wt.C_)([[n.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Az,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.name]),value:t.id,key:t.id},(0,wt.zw)(t.name),11,$z)))),128))],42,Wz),[[a.bM,n.request.product_id]]),Ez]),n.errors.product_id?((0,s.wg)(),(0,s.iD)("label",Tz,(0,wt.zw)(n.errors.product_id),1)):(0,s.kq)("",!0)]),u.value.length>1?((0,s.wg)(),(0,s.iD)("div",Fz,[(0,s._)("label",jz,[(0,s.Uk)("Variation "),c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",Vz," loading..."))]),(0,s._)("div",Iz,[(0,s.wy)((0,s._)("select",{disabled:!c.value||"no-value-selected"==n.request.product_id||!0,onChange:e[2]||(e[2]=t=>n.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>n.request.product_variation_id=t),class:(0,wt.C_)([[n.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Hz,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.name]),value:t.id,key:t.id},(0,wt.zw)(t.size)+" "+(0,wt.zw)(t.size&&t.color?"|":"")+" "+(0,wt.zw)(t.color),11,Mz)))),128))],42,Oz),[[a.bM,n.request.product_variation_id]]),Rz]),n.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",Nz,(0,wt.zw)(n.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[Yz,(0,s.wy)((0,s._)("input",{disabled:"accepted"==n.request.status,"onUpdate:modelValue":e[4]||(e[4]=t=>n.request.quantity=t),onInput:e[5]||(e[5]=t=>n.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,42,Zz),[[a.nr,n.request.quantity]]),"accepted"==n.request.status?((0,s.wg)(),(0,s.iD)("label",Kz,(0,wt.zw)("cannot edit, request has already been accepted"))):(0,s.kq)("",!0),n.errors.quantity?((0,s.wg)(),(0,s.iD)("label",Bz,(0,wt.zw)(n.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[Qz,(0,s.wy)((0,s._)("textarea",{disabled:"","onUpdate:modelValue":e[6]||(e[6]=t=>n.request.note=t),onInput:e[7]||(e[7]=t=>n.errors.note=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Seller's note here",rows:"2",required:""},null,34),[[a.nr,n.request.note]]),n.errors.note?((0,s.wg)(),(0,s.iD)("label",Jz,(0,wt.zw)(n.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[Gz,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>n.request.admin_note=t),onInput:e[9]||(e[9]=t=>n.errors.admin_note=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[n.errors.admin_note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for the seller",rows:"2",required:""},null,34),[[a.nr,n.request.admin_note]]),n.errors.admin_note?((0,s.wg)(),(0,s.iD)("label",Xz,(0,wt.zw)(n.errors.admin_note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",tU,[(0,s._)("button",{onClick:p,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:g,disabled:w.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[w.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),rU],8,eU)])])])])),_:1},8,["visible"])}}};const sU=aU;var lU=sU;const oU={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var iU={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,ke.qj)({delete:!1,show:!1,edit:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",oU,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.edit=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-amber-500/20 hover:tw-bg-amber-600 tw-bg-amber-500 hover:tw-border-amber-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil")])),_:1})]),r.edit?((0,s.wg)(),(0,s.j4)((0,ke.SU)(lU),{key:0,item:e.item,visible:r.edit,"onUpdate:visible":a[1]||(a[1]=t=>r.edit=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,ke.SU)(kz),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[3]||(a[3]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[4]||(a[4]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,ke.SU)(ez),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[5]||(a[5]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const wU=iU;var nU=wU;const dU={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},cU={class:"tw-relative tw-inline-block tw-text-left"},uU=["disabled"],pU={key:0,class:"tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},gU=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),mU=[gU],hU={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},fU={class:"tw-w-full tw-max-w-[200px] tw-mx-auto tw-p-2"},bU={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},vU=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-2"}," Select a status ",-1),xU={class:"tw-bg-white tw-divide-y"},yU=["onClick"];var _U={__name:"SupplyRequestStatus",props:["item"],setup(t){const e=t,r=(0,ke.iH)(!1),a=(0,ke.iH)(!1),l=(0,ke.qj)({}),o=(0,i.oR)(),w=(0,ke.iH)(XC[0]),n=()=>{r.value&&(r.value=!1)},d=async t=>{a.value=!0,await RC.update(e.item.id,{...e.item,status:t.value}).then((e=>{"SUCCESS"==e.data.code&&(Tc("Updated successfully"),o.dispatch("supply-request/updateSupplyRequest",e.data.supply_request),w.value=t)})),a.value=!1};return w.value=XC.find((t=>t.value==e.item.status)),(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",dU,[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",cU,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),type:"button",disabled:a.value,class:(0,wt.C_)([[w.value.style,a.value&&"!tw-bg-gray-50 !tw-text-gray-200 tw-cursor-not-allowed hover:!tw-shadow-none"],"tw-inline-flex tw-relative tw-w-[120px] tw-truncate tw-justify-center tw-items-center tw-gap-x-1.5 tw-rounded-md tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm"]),id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[(0,s._)("p",{class:(0,wt.C_)([[w.value.style,a.value&&"tw-invisible"],"tw-w-full tw-mx-auto tw-text-center tw-truncate tw-text-gray-500 tw-px-2"])},(0,wt.zw)(w.value.name),3),a.value?((0,s.wg)(),(0,s.iD)("svg",pU,mU)):(0,s.kq)("",!0)],10,uU),l.status?((0,s.wg)(),(0,s.iD)("p",hU,(0,wt.zw)(l.status),1)):(0,s.kq)("",!0)]),(0,s.Wm)(o,{visible:r.value,onCancel:e[1]||(e[1]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",fU,[(0,s._)("div",bU,[vU,(0,s._)("div",xU,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(XC).filter((t=>t.value!=w.value.value)),(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>d(t),key:t.value,class:(0,wt.C_)([[t.text],"hover:tw-bg-gray-100 tw-border-solid tw-justify-start tw-items-center tw-w-full tw-text-start tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm"]),role:"menuitem"},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],10,yU)))),128))])])])])),_:1},8,["visible"])])),[[ie.L,n]])])}}};const kU=_U;var CU=kU;const DU={class:"tw-px-4 tw-py-2"},SU={class:"tw-px-4 tw-py-2 tw-truncate"},zU={class:"tw-max-w-[200px] tw-truncate"},UU={class:"tw-px-4 tw-py-2 tw-truncate"},qU={class:"tw-max-w-[200px] tw-truncate"},PU={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},LU={class:"tw-flex tw-items-center tw-gap-2 tw-text-sm"},WU={key:0,class:"tw-px-1 tw-rounded-md tw-bg-orange-500 tw-text-white"},AU={key:1,class:"tw-px-1 tw-rounded-md tw-bg-green-500 tw-text-white"},$U={class:"tw-px-4 tw-py-2 tw-truncate"},EU={class:"tw-max-w-[200px] tw-truncate"},TU={class:"tw-px-4 tw-py-2 tw-truncate"},FU={class:"tw-px-4 tw-py-2"},jU={class:"tw-text-sm tw-whitespace-nowrap"};var VU={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,ke.Vh)(e,"item");return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",DU,(0,wt.zw)(r.value.id),1),(0,s._)("td",SU,[(0,s._)("p",zU,(0,wt.zw)(r.value.seller.firstname)+" "+(0,wt.zw)(r.value.seller.lastname),1)]),(0,s._)("td",UU,[(0,s._)("p",qU,(0,wt.zw)(r.value.product.name),1)]),(0,s._)("td",PU,[(0,s._)("div",LU,[r.value.product_variation.color?((0,s.wg)(),(0,s.iD)("div",WU,(0,wt.zw)(r.value.product_variation.color),1)):(0,s.kq)("",!0),r.value.product_variation.size?((0,s.wg)(),(0,s.iD)("div",AU,(0,wt.zw)(r.value.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("td",$U,[(0,s._)("p",EU,(0,wt.zw)(r.value.quantity),1)]),(0,s._)("td",TU,[(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(CU),{item:r.value},null,8,["item"])])]),(0,s._)("td",FU,[(0,s._)("p",jU,(0,wt.zw)((0,ke.SU)(ze())(r.value.created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,ke.SU)(nU),{item:r.value},null,8,["item"])])]))}};const IU=VU;var OU=IU;const HU={class:""},MU={class:"tw-overflow-x-auto tw-bg-white"},RU={class:"tw-inline-block tw-min-w-full tw-align-middle"},NU={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},YU={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},ZU=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[50px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),KU={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},BU={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},QU=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),JU=[QU],GU={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},XU={colspan:"11"},tq={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},eq=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),rq=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),aq=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),sq=[rq,aq],lq={class:"tw-mt-6"};var oq={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=e,a=t,l=(0,ke.Vh)(a,"options"),o=(0,ke.Vh)(a,"data"),i=(0,ke.Vh)(a,"loading"),w=t=>{r("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",HU,[(0,s._)("div",MU,[(0,s._)("div",RU,[(0,s._)("div",NU,[(0,s._)("table",YU,[ZU,!i.value&&o.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",KU,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(OU),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),i.value||0!=o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",BU,JU)),i.value?((0,s.wg)(),(0,s.iD)("tbody",GU,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",XU,[(0,s._)("div",tq,[eq,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},sq))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",lq,[(0,s.Wm)((0,ke.SU)(iw),{from:l.value.from,to:l.value.to,"last-page":l.value.last_page,"per-page":l.value.per_page,total:l.value.total,"current-page":l.value.current_page,onPageChange:w},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const iq=oq;var wq=iq;const nq={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},dq=(0,s._)("div",{class:"mb-5 tw-flex tw-w-full tw-justify-between"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ")],-1),cq=(0,s._)("div",{class:"tw-mt-5"},null,-1);var uq={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,ke.qj)({}),a=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),l=(0,ke.iH)(!0),o=async()=>{l.value=!0,await RC.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(r,t.data.data.supply_requests))})),l.value=!1},w=t=>{console.log(t)};return o(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",nq,[dq,cq,(0,s.Wm)((0,ke.SU)(wq),{onPageChange:w,data:a.value,loading:l.value,options:r},null,8,["data","loading","options"])]))}};const pq=uq;var gq=pq,mq={name:"products",path:"/products",component:Wa,meta:{module:"product"},children:[{name:"product/list",path:"",component:Yn,meta:{module:"product",subModule:"product/list",title:"Products List",gate:"show_all_products"}},{name:"product/newlist",path:"/newproducts",component:lh,meta:{module:"product",subModule:"product/newlist",title:"Products List",gate:"show_all_products"}},{name:"product/add",path:"add",component:xv,meta:{module:"product",subModule:"product/add",title:"Add Product",gate:"create_product"}},{name:"product/seller/request",path:"seller/request",component:ZS,meta:{module:"product",subModule:"product/seller/request",title:"Supply Request",gate:"access_to_seller_sales"}},{name:"product/admin/request",path:"admin/request",component:gq,meta:{module:"product",subModule:"product/admin/request",title:"Supply Request",gate:"access_to_sales"}},{name:"product/update",path:"update/:id",component:Ky,meta:{module:"product",subModule:"product/update",title:"Update Product",gate:"update_product"}},{name:"product/show",path:":id",component:HC,meta:{module:"product",subModule:"product/show",title:"Product Informations",gate:"view_product"}}]};const hq={class:"mb-5 tw-flex tw-justify-between tw-items-center"},fq=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Users List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all users")],-1),bq={key:0},vq=(0,s._)("span",{class:"text-white"}," Add User ",-1),xq={key:0},yq={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_q={class:"mb-5 tw-flex"},kq={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Cq={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Dq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Sq=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Role",-1),zq={class:"tw-relative"},Uq=["value"],qq={class:""};function Pq(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.users.length},[(0,s._)("div",hq,[fq,t.$can("create_user")?((0,s.wg)(),(0,s.iD)("div",bq,[(0,s.Wm)(nt.T,{color:"primary-color",link:"",to:{name:"user/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),vq])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xq,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",yq,[(0,s._)("div",_q,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",kq,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Cq,[(0,s._)("div",Dq,[Sq,(0,s._)("div",zq,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.role=t),class:"tw-w-full focus:tw-border-orange-400 tw-capitalize tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.roles,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t},(0,wt.zw)(t),9,Uq)))),128))],512),[[a.bM,o.role]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),(0,s._)("div",qq,[(0,s.Wm)(n,{users:i.filteredUsers,columns:o.columns},null,8,["users","columns"])])])):(0,s.kq)("",!0)])}const Lq={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Wq={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Aq={class:"tw-text-xs tw-text-gray-700 tw- tw-bg-gray-50"},$q=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Eq={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Tq=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Fq={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},jq={class:"tw-px-6 tw-py-4"},Vq={class:"tw-px-6 tw-py-4"},Iq={class:"tw-px-6 tw-py-4"},Oq={class:"tw-px-6 tw-py-4"},Hq={class:"tw-px-6 tw-py-4"},Mq={key:0,class:"tw-text-red-500"},Rq={key:1},Nq={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},Yq=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),Zq={key:1,class:"tw-text-neutral-700"},Kq={class:"tw-px-6 tw-py-4"},Bq={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Qq={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Jq={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Gq=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Xq=["value"],tP={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},eP={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},rP={class:"tw-text-white"};function aP(t,e,r,l,o,i){const w=(0,s.up)("RoleName"),n=(0,s.up)("UserStatus"),d=(0,s.up)("UserActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Lq,[(0,s._)("table",Wq,[(0,s._)("thead",Aq,[(0,s._)("tr",null,[$q,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Eq,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Tq,(0,s._)("th",Fq,(0,wt.zw)(e.id),1),(0,s._)("td",jq,(0,wt.zw)(e.firstname)+" "+(0,wt.zw)(e.lastname),1),(0,s._)("td",Vq,[(0,s.Wm)(w,{role:e.role_name},null,8,["role"])]),(0,s._)("td",Iq,(0,wt.zw)(e.email),1),(0,s._)("td",Oq,(0,wt.zw)(e.phone),1),(0,s._)("td",Hq,[e.last_action?((0,s.wg)(),(0,s.iD)("div",Rq,[1==i.isOnline(i.lastSeen(e.last_action))?((0,s.wg)(),(0,s.iD)("div",Nq,[Yq,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",Zq,(0,wt.zw)(i.lastSeen(e.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",Mq," Never Connected "))]),(0,s._)("td",Kq,[t.$can("update_user_status")?((0,s.wg)(),(0,s.j4)(n,{key:0,user:e},null,8,["user"])):(0,s.kq)("",!0)]),(0,s._)("td",Bq,[(0,s.Wm)(d,{user:e},null,8,["user"])])])))),128))])])]),(0,s._)("div",Qq,[(0,s._)("div",Jq,[Gq,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,Xq)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",tP,[(0,s._)("div",eP,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.users.length:i.nextRange)+" of "+(0,wt.zw)(r.users.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",rP,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function sP(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[t.$can("update_user")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,to:"/users/update/"+r.user.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_user")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_user")&&"admin"!==r.user.role_name?((0,s.wg)(),(0,s.j4)(nt.T,{key:2,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this user?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var lP={props:["rowIndex","user"],name:"userActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,ot["delete"](this.user.id).then((t=>{"USER_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"User Deleted Successfully"})),ot.all().then((t=>{"SHOW_ALL_USERS"==t.data.code&&this.$store.dispatch("user/setUsers",t.data.data.users)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const oP=(0,m.Z)(lP,[["render",sP]]);var iP=oP;const wP={key:0,class:"tw-flex tw-items-center"};function nP(t,e,r,a,l,o){return"admin"!==r.user.role_name?((0,s.wg)(),(0,s.iD)("div",wP,[(0,s.Wm)(ih.G,{disabled:l.isLoading,loading:l.isLoading,onChange:o.handleChange,color:"primary-color",flat:!0,modelValue:l.checked,"onUpdate:modelValue":e[0]||(e[0]=t=>l.checked=t),density:"compact","hide-details":!0},null,8,["disabled","loading","onChange","modelValue"])])):(0,s.kq)("",!0)}var dP={props:["rowIndex","prop","user"],data(){return{isLoading:!1,checked:!1}},watch:{},methods:{handleChange(){const t={id:this.user.id,status:this.checked?"true":"false"};this.isLoading=!0,ot.updateStatus(t).then((t=>{"STATUS_USER_UPDATED"==t.data.code&&(this.$alert({type:"success",title:"Status updated"}),this.setUpdatedUser(this.user.id,this.checked))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},setUpdatedUser(t,e){let r=localStorage.getItem("updatedUsers"),a={};r?(a=JSON.parse(r),a[t]=e):a[t]=e,localStorage.setItem("updatedUsers",JSON.stringify(a))},getUpdatedUsers(){let t=localStorage.getItem("updatedUsers");if(!t)return{};let e=JSON.parse(t);return e}},mounted(){const t=this.getUpdatedUsers();Object.keys(t).includes(`${this.user.id}`)?this.checked=1==t[this.model.id]:this.checked=1==this.user.status}};const cP=(0,m.Z)(dP,[["render",nP]]);var uP=cP;const pP={class:"tw-flex tw-items-center tw-h-full"};function gP(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",pP,[(0,s._)("div",{class:(0,wt.C_)([o.current.bg,"tw-px-2 tw-py-1 tw-rounded-lg"])},[(0,s._)("div",{class:(0,wt.C_)([o.current.text,"tw-text-sm tw-uppercase"])},(0,wt.zw)(r.role),3)],2)])}var mP={props:["role"],data(){return{variants:{default:{bg:"tw-bg-neutral-500/10",text:"tw-text-neutral-500"},admin:{bg:"tw-bg-pink-500/10",text:"tw-text-pink-500"},agente:{bg:"tw-bg-green-500/10",text:"tw-text-green-500"},delivery:{bg:"tw-bg-blue-500/10",text:"tw-text-blue-500"}}}},computed:{current(){return["admin","delivery","agente"].includes(this.role)?this.variants[this.role]:this.variants["default"]}}};const hP=(0,m.Z)(mP,[["render",gP]]);var fP=hP,bP={props:["columns","users"],components:{UserActions:iP,UserStatus:uP,RoleName:fP},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.users.length/this.paginationLimit)},items(){return this.users.slice(this.prevRange,this.nextRange)}},methods:{lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,_s.x)(e)},isOnline(t){let e=["Just Now","one minute ago","2 minutes ago","3 minutes ago"];return e.includes(t)}}};const vP=(0,m.Z)(bP,[["render",aP]]);var xP=vP,yP={components:{UsersTable:xP},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,role:"All",search:"",columns:[{prop:"id",name:"#"},{prop:"fullname",name:"Name"},{prop:"role_name",name:"Role"},{prop:"email",name:"Email"},{prop:"phone",name:"Phone Number"},{prop:"last_seen",name:"Last Seen"},{prop:"status",name:"Active"},{name:"Acions",prop:"users"}]}},computed:{fetched(){return this.$store.getters["user/fetched"]},users(){return this.$store.getters["user/users"]},roles(){let t=new Set(["All",...this.users.map((t=>t.role_name))]);return t},filteredUsers(){const t=this.role,e=this.search;return this.users.filter((r=>("all"===t.toLocaleLowerCase()||t.toLocaleLowerCase()===r.role_name)&&!!(r.firstname.toLowerCase().includes(e.toLowerCase())||r.lastname.toLowerCase().includes(e.toLowerCase())||r.role_name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase())||r.phone.toLowerCase().includes(e.toLowerCase()))))}},methods:{getRoles(){ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},getUsers(){ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)}},mounted(){localStorage.removeItem("updatedUsers"),this.fetched||this.getUsers()}};const _P=(0,m.Z)(yP,[["render",Pq]]);var kP=_P,CP=r(988);const DP=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new user")],-1),SP={key:0},zP={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},UP={class:"tw-w-full"},qP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),PP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},LP={class:"tw-w-full"},WP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),AP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$P={class:"tw-w-full"},EP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),TP={class:"tw-w-full"},FP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),jP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},VP={class:"tw-w-full"},IP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),OP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},HP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),MP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),RP=["value"],NP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),YP=["value"],ZP=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),KP=(0,s._)("span",{class:"text-white"},"Add",-1),BP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),QP={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},JP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),GP={class:"tw-w-full"},XP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),tL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},eL={class:"tw-w-full"},rL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),aL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),lL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},oL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),iL=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function wL(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[DP,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",SP,[(0,s.Wm)(w)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",zP,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",UP,[qP,(0,s.Wm)(ut.hw,{error:!o.formStatus.firstname.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:o.user.firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.user.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",PP,(0,wt.zw)(o.formStatus.firstname.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LP,[WP,(0,s.Wm)(ut.hw,{error:!o.formStatus.lastname.valid,"hide-details":!0,onKeyup:e[2]||(e[2]=t=>i.resetError("lastname")),modelValue:o.user.lastname,"onUpdate:modelValue":e[3]||(e[3]=t=>o.user.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",AP,(0,wt.zw)(o.formStatus.lastname.message),1)])])),_:1}),i.isSeller?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$P,[EP,(0,s.Wm)(ut.hw,{"hide-details":!0,modelValue:o.user.username,"onUpdate:modelValue":e[4]||(e[4]=t=>o.user.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",TP,[FP,(0,s.Wm)(ut.hw,{error:!o.formStatus.email.valid,"hide-details":!0,onKeyup:e[5]||(e[5]=t=>i.resetError("email")),modelValue:o.user.email,"onUpdate:modelValue":e[6]||(e[6]=t=>o.user.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",jP,(0,wt.zw)(o.formStatus.email.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",VP,[IP,(0,s.Wm)(ut.hw,{error:!o.formStatus.phone.valid,"hide-details":!0,onKeyup:e[7]||(e[7]=t=>i.resetError("phone")),modelValue:o.user.phone,"onUpdate:modelValue":e[8]||(e[8]=t=>o.user.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",OP,(0,wt.zw)(o.formStatus.phone.message),1)])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(ih.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),HP,(0,s._)("div",null,[(0,s.Wm)(CP.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:2,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[MP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,RP)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:3,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[NP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,YP)))),128))],512),[[a.bM,o.deliveryCity]]),ZP,(0,s.Wm)(ut.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(nt.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[KP])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[BP,(0,s.Wm)(oh.r,{class:"text-capitalize",items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[14]||(e[14]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["items","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",QP,[JP,(0,s.Wm)(ih.G,{modelValue:o.user.status,"onUpdate:modelValue":e[15]||(e[15]=t=>o.user.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",GP,[XP,(0,s.Wm)(ut.hw,{error:!o.formStatus.password.valid,"hide-details":!0,onKeyup:e[16]||(e[16]=t=>i.resetError("password")),modelValue:o.user.password,"onUpdate:modelValue":e[17]||(e[17]=t=>o.user.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",tL,(0,wt.zw)(o.formStatus.password.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",eL,[rL,(0,s.Wm)(ut.hw,{error:!o.formStatus.confirmPassword.valid,"hide-details":!0,onKeyup:e[18]||(e[18]=t=>i.resetError("confirmPassword")),modelValue:o.user.confirmPassword,"onUpdate:modelValue":e[19]||(e[19]=t=>o.user.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",aL,(0,wt.zw)(o.formStatus.confirmPassword.message),1)])])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[sL,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,wt.zw)(i.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,wt.zw)(t.fee)+" "+(0,wt.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(ct.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",lL,[(0,s.Wm)(nt.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[oL])),_:1}),(0,s.Wm)(nt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[iL])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var nL={data(){return{localUrl:w,currency:c,isFormReady:!1,isLoading:!1,city:1,isMultipleProducts:!1,isHavingAllProducts:!1,id:1,deliveryCity:1,deliveryCityFee:0,deliveryCities:[],product:0,selectedProducts:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},user:{firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},role:3}},computed:{roles(){return this.$store.getters["user/roles"]},rolesFetched(){return this.$store.getters["user/fetchedRoles"]},cities(){return this.$store.getters["city/cities"]},citiesFetched(){return this.$store.getters["city/fetched"]},products(){return this.$store.getters["product/products"]},productsFethched(){return this.$store.getters["product/fetched"]},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},isSeller(){return 4===this.role},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{},methods:{removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.id,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.id+=1,this.deliveryCity=1,this.deliveryCityFee=0},create(){if(!this.validate())return!1;this.isLoading=!0;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};ot.register(t).then((t=>{"USER_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.user={firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},this.role=3,this.product_id=null,this.deliveryCities=[],this.id=1)})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){this.formStatus.email=Wt(this.user.email),this.formStatus.firstname=$t(this.user.firstname),this.formStatus.lastname=$t(this.user.lastname),this.formStatus.phone=$t(this.user.phone),this.formStatus.password=At(this.user.password),this.formStatus.confirmPassword=Tt(this.user.password,this.user.confirmPassword);const t=this.formStatus.email.valid,e=this.formStatus.firstname.valid,r=this.formStatus.lastname.valid,a=this.formStatus.phone.valid,s=this.formStatus.password.valid,l=this.formStatus.confirmPassword.valid;return t&&e&&r&&s&&l&&a},getRoles(){return this.rolesFetched?new Promise((t=>t())):ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)},async getCities(){return this.citiesFetched?new Promise((t=>t())):ot.cities().then((t=>{this.$store.dispatch("city/cities",t.data.data),this.$store.dispatch("city/setFetched",!0)}))},async getProducts(){return this.productsFethched?new Promise((t=>t())):ha.all().then((t=>{this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0)}),(t=>this.$handleApiError(t)))}},mounted(){Promise.allSettled([this.getRoles(),this.getCities(),this.getProducts()]).then((t=>{console.log(t),this.isFormReady=!0}),(t=>this.$handleApiError(t)))}};const dL=(0,m.Z)(nL,[["render",wL]]);var cL=dL;const uL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update user informations")],-1),pL={key:0},gL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},mL={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},hL={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},fL={class:"tw-w-full"},bL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),vL={class:"tw-w-full"},xL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),yL={class:"tw-w-full"},_L=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),kL={class:"tw-w-full"},CL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),DL={class:"tw-w-full"},SL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),zL={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},UL=(0,s._)("span",null,"Update Password: ",-1),qL={class:"tw-w-full"},PL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),LL={class:"tw-w-full"},WL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),AL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),$L={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},EL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),TL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),FL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),jL=["value"],VL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),IL=["value"],OL=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),HL=(0,s._)("span",{class:"text-white"},"Add",-1),ML=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),RL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},NL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),YL=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function ZL(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[uL,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",pL,[(0,s.Wm)(w)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",gL,[(0,s._)("div",mL,[(0,s.Uk)(" User ID: "),(0,s._)("span",hL,(0,wt.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",fL,[bL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.firstname.message,modelValue:o.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>o.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vL,[xL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.lastname.message,modelValue:o.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",yL,[_L,(0,s.Wm)(ut.hw,{modelValue:o.username,"onUpdate:modelValue":e[2]||(e[2]=t=>o.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",kL,[CL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.email.message,modelValue:o.email,"onUpdate:modelValue":e[3]||(e[3]=t=>o.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",DL,[SL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.phone.message,modelValue:o.phone,"onUpdate:modelValue":e[4]||(e[4]=t=>o.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",zL,[UL,(0,s.Wm)(ih.G,{modelValue:o.updatePassword,"onUpdate:modelValue":e[5]||(e[5]=t=>o.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),o.updatePassword?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qL,[PL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.password.message,modelValue:o.password,"onUpdate:modelValue":e[6]||(e[6]=t=>o.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),o.updatePassword?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LL,[WL,(0,s.Wm)(ut.hw,{"error-messages":o.formStatus.confirmPassword.message,modelValue:o.confirmPassword,"onUpdate:modelValue":e[7]||(e[7]=t=>o.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[AL,(0,s.Wm)(oh.r,{class:"text-capitalize","error-messages":o.formStatus.role,items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[8]||(e[8]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","items","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$L,[EL,(0,s.Wm)(ih.G,{modelValue:o.status,"onUpdate:modelValue":e[9]||(e[9]=t=>o.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(ih.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),TL,(0,s._)("div",null,[(0,s.Wm)(CP.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[11]||(e[11]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[FL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,jL)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[VL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,IL)))),128))],512),[[a.bM,o.deliveryCity]]),OL,(0,s.Wm)(ut.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[14]||(e[14]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(nt.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[HL])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ML,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,wt.zw)(o.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,wt.zw)(t.fee)+" "+(0,wt.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(ct.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",RL,[(0,s.Wm)(nt.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[NL])),_:1}),(0,s.Wm)(nt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[YL])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var KL={data(){return{serverUrl:n,currency:c,isFetched:!1,isRolesFetched:!1,isUserFetched:!1,isProductsFetched:!1,isLoading:!1,updatePassword:!1,autoId:1,cities:[],deliveryCity:1,deliveryCityFee:0,city:1,deliveryCities:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",username:"",role:"",user_image:null,status:!1,product:null,products:[],selectedProducts:[],isMultipleProducts:!1,isHavingAllProducts:!1}},computed:{roles(){return this.$store.getters["user/roles"]},isFormReady(){return this.isFetched},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,username:this.username,phone:this.phone,email:this.email,password:this.password,product_id:this.product,deliveryCities:this.deliveryCities,city:this.city,role:this.role,status:this.status?1:0}},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{role(t){console.log("changed"),2===t&&0===this.products.length&&(this.isProductsFetched=!1)}},methods:{update(){if(!this.validate())return!1;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};this.isLoading=!0,ot.update(t,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["email"]=Wt(this.email),this.formStatus["firstname"]=$t(this.firstname),this.formStatus["lastname"]=$t(this.lastname),this.formStatus["phone"]=$t(this.phone),this.formStatus["password"]=At(this.password),this.formStatus["confirmPassword"]=Tt(this.password,this.confirmPassword);const t=this.formStatus["email"].valid,e=this.formStatus["firstname"].valid,r=this.formStatus["lastname"].valid,a=this.formStatus["phone"].valid;if(this.updatePassword){const s=this.formStatus["password"].valid,l=this.formStatus["confirmPassword"].valid;return t&&e&&r&&s&&l&&a}return t&&e&&r&&a},removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.autoId,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.autoId+=1,this.deliveryCity=1,this.deliveryCityFee=0},async getRoles(){await ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isRolesFetched=!0}})).catch(this.$handleApiError)},async getUser(){return ot.getUser(this.$route.params.id).then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;if(this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.username=e.username,this.email=e.email,this.phone=e.phone,this.role=e.role,2==e.role&&(this.isHavingAllProducts=1==e.having_all,this.selectedProducts=e?.product),this.user_image=e.photo,this.status=1==e.status,this.isUserFetched=!0,3==e.role){console.log("this is delivery"),this.city=e?.city?.id;let t=0;this.deliveryCities=e.deliveryPlaces.map((e=>(parseInt(e.id)>=t&&(t=parseInt(e.id)+1),{id:e.id,city_id:e.city_id,fee:e.fee}))),this.autoId=t}}})).catch(this.$handleApiError)},async getProducts(){return ha.all().then((t=>{this.products=t.data.data.products,this.products.length>0?this.product=this.user.product_id:this.product=null,this.isProductsFetched=!0}),(t=>this.$handleApiError(t)))},async getCities(){return ot.cities().then((t=>{console.log(t.data),this.cities=t.data.data}))}},async mounted(){0==this.roles.length?await this.getRoles():this.isRolesFetched=!0,Promise.allSettled([this.getRoles(),this.getProducts(),this.getCities(),this.getUser()]).then((()=>{this.selectedProducts.length==this.products.length&&(this.product=0,this.isMultipleProducts=!1),this.isFetched=!0}),(t=>this.$handleApiError(t)))}};const BL=(0,m.Z)(KL,[["render",ZL]]);var QL=BL;const JL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add New Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new Role")],-1),GL={key:0},XL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},tW={class:"md:tw-w-1/2 tw-w-full"},eW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role Name",-1),rW={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},aW={class:"mb-3 text-body-2 tw-text-zinc-700"},sW={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},lW={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},oW=["onClick"],iW={key:0},wW={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},nW=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),dW=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function cW(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[JL,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",GL,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",XL,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",tW,[eW,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rW,(0,wt.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",aW,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",sW,(0,wt.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",lW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,wt.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},[(0,s._)("span",null,(0,wt.zw)(t),1)],10,oW)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",iW,(0,wt.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",wW,[(0,s.Wm)(nt.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[nW])),_:1}),(0,s.Wm)(nt.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[dW])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var uW={data(){return{localUrl:w,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0,ot.createRole({name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_ADDED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles(),this.name="",this.selectedPermissions=[])})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.name,"Name"),this.formStatus.permissions=jt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRoles(){ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},async getPermissions(){return await ot.permessions().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.permissions;this.permissions=e.map((t=>t.name)),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getPermissions(),this.isFormReady=!0}};const pW=(0,m.Z)(uW,[["render",cW]]);var gW=pW;const mW={class:"mb-5 tw-flex tw-justify-between tw-items-center"},hW=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Roles List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all Roles")],-1),fW={class:"tw-flex tw-items-center tw-gap-2"},bW={key:0},vW=(0,s._)("span",{class:"text-white"}," Role ",-1),xW={key:0},yW={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_W={class:"mb-5 tw-flex"},kW={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},CW={class:""};function DW(t,e,r,l,o,i){const w=(0,s.up)("CreatePermission"),n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("RolesTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.roles.length},[(0,s._)("div",mW,[hW,(0,s._)("div",fW,[(0,s.Wm)(w,{visible:o.visible,"onUpdate:visible":e[0]||(e[0]=t=>o.visible=t)},null,8,["visible"]),t.$can("create_role")?((0,s.wg)(),(0,s.iD)("div",bW,[(0,s.Wm)(nt.T,{color:"primary-color",link:"",to:{name:"user/addRole"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),vW])),_:1})])):(0,s.kq)("",!0)])]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xW,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",yW,[(0,s._)("div",_W,[(0,s.Wm)(nt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",kW,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",CW,[(0,s.Wm)(d,{roles:i.filteredRoles,columns:o.columns},null,8,["roles","columns"])])])):(0,s.kq)("",!0)])}const SW={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},zW={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},UW={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},qW=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),PW={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},LW=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),WW={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},AW={class:"tw-px-6 tw-py-4 tw-uppercase"},$W={class:"tw-px-6 tw-py-4"},EW={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},TW={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},FW={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},jW=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),VW=["value"],IW={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},OW={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},HW={class:"tw-text-white"};function MW(t,e,r,l,o,i){const w=(0,s.up)("RolePermissions"),n=(0,s.up)("RoleActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",SW,[(0,s._)("table",zW,[(0,s._)("thead",UW,[(0,s._)("tr",null,[qW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",PW,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[LW,(0,s._)("th",WW,(0,wt.zw)(t.id),1),(0,s._)("td",AW,(0,wt.zw)(t.name),1),(0,s._)("td",$W,[(0,s.Wm)(w,{role:t},null,8,["role"])]),(0,s._)("td",EW,[(0,s.Wm)(n,{role:t},null,8,["role"])])])))),128))])])]),(0,s._)("div",TW,[(0,s._)("div",FW,[jW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,VW)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",IW,[(0,s._)("div",OW,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.roles.length:i.nextRange)+" of "+(0,wt.zw)(r.roles.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",HW,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const RW={key:0},NW={class:"tw-flex tw-flex-wrap tw-gap-2"};function YW(t,e,r,a,l,o){const i=(0,s.up)("popup");return["admin","agente","delivery"].includes(r.role.name)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",RW,[t.$can("update_role")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,to:"/users/roles/update/"+r.role.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_role")&&"admin"!==r.role.name?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopupDelete=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this Role?</p> You won't be able to revert this!",loading:l.isLoadingDelete,visible:l.showPopupDelete,onResolved:o.handleResolvedDelete},null,8,["loading","visible","onResolved"]),(0,s.Wm)(i,{noConfirm:!0,type:"info",title:"Permissions",loading:l.isLoadingShow,visible:l.showPopupShow,onResolved:o.handleResolvedShow},{default:(0,s.w5)((()=>[(0,s._)("div",NW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer",key:t},(0,wt.zw)(t),1)))),128))])])),_:1},8,["loading","visible","onResolved"])]))}var ZW={props:["rowIndex","prop","role"],name:"roleActions",data(){return{showPopupDelete:!1,showPopupShow:!1,isLoadingDelete:!1,isLoadingShow:!1,permissions:["create_user","delete_user","update_user","show_user"]}},methods:{handleResolvedDelete(t){t?(this.isLoadingDelete=!0,ot.deleteRole(this.role.id).then((t=>{"ROLE_DELETED"==t.data.code&&(this.isLoadingDelete=!1,this.$alert({type:"success",title:"Role Deleted Successfully"})),ot.roles().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("user/setRoles",t.data.data.roles)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoadingDelete=!1,this.showPopupDelete=!1}))):this.showPopupDelete=!1},handleResolvedShow(t){t?console.log(t):this.showPopupShow=!1}}};const KW=(0,m.Z)(ZW,[["render",YW]]);var BW=KW;const QW={class:"tw-h-100 tw-flex tw-items-center tw-max-w-[750px] tw-flex-wrap tw-gap-2"},JW=["title"];function GW(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",QW,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-0 tw-px-2 tw-text-xs tw-h-5 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg",title:t.description,key:t.name},(0,wt.zw)(t.name),9,JW)))),128))])}var XW={props:["role"],name:"rolePermissions",data(){return{}},computed:{permissions(){return this.role.permissions.map((t=>t))}}};const tA=(0,m.Z)(XW,[["render",GW]]);var eA=tA,rA={props:["columns","roles"],components:{RoleActions:BW,RolePermissions:eA},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.roles.length/this.paginationLimit)},items(){return this.roles.slice(this.prevRange,this.nextRange)}},methods:{}};const aA=(0,m.Z)(rA,[["render",MW]]);var sA=aA;const lA=(0,s._)("span",{class:"text-white"}," Permission ",-1),oA={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},iA={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},wA=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Add permission ",-1),nA={class:"tw-p-5"},dA={class:""},cA=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),uA={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pA={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},gA=["disabled"],mA=["disabled"],hA=(0,s._)("span",null,"Add",-1);var fA={__name:"CreatePermission",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,ke.iH)(!1),i=(0,ke.iH)({}),w=(0,ke.iH)({name:""}),n=t=>{r("update:visible",t)},d=async()=>{if(!w.value.name)return i.value.name="Name is required",!1;i.value.name="",o.value=!0,await ot.createPermission(w.value.name).then((t=>{if("SUCCESS"==t.data.code){const e=st.getters["user/permissions"];e.push(t.data.permission.name),Tc("Permission added successfully"),n(!1)}})).catch((t=>{Tc("Something went wrong!","danger"),console.log(t)})),o.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>n(!0)),color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),lA])),_:1}),(0,s.Wm)(r,{visible:l.visible},{default:(0,s.w5)((()=>[(0,s._)("div",oA,[(0,s._)("div",iA,[wA,(0,s._)("div",nA,[(0,s._)("div",dA,[cA,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>w.value.name=t),onInput:e[2]||(e[2]=t=>i.value.name=null),type:"text",class:(0,wt.C_)([[i.value.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter permission name",required:""},null,34),[[a.nr,w.value.name]]),i.value.name?((0,s.wg)(),(0,s.iD)("label",uA,(0,wt.zw)(i.value.name),1)):(0,s.kq)("",!0)])]),(0,s._)("div",pA,[(0,s._)("button",{onClick:e[3]||(e[3]=t=>n(!1)),disabled:o.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,gA),(0,s._)("button",{onClick:d,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),hA],8,mA)])])])])),_:1},8,["visible"])])}}};const bA=fA;var vA=bA,xA={components:{RolesTable:sA,CreatePermission:vA},data(){return{localUrl:w,visible:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Role Name"},{prop:"permissions",name:"Permissions"},{name:"Acions",prop:"roles"}]}},computed:{roles(){return this.$store.getters["user/roles"]},fetched(){return this.$store.getters["user/fetchedRoles"]},filteredRoles(){return this.roles.filter((t=>{const e=t.permissions.map((t=>t.name));return!!(""===this.search||t.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())||e.includes(this.search.toLocaleLowerCase())||e.some((t=>t.toLowerCase().includes(this.search.toLocaleLowerCase()))))}))}},methods:{getRoles(){return ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)}},mounted(){this.rolesFetched||this.getRoles()}};const yA=(0,m.Z)(xA,[["render",DW]]);var _A=yA;const kA=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update existing role")],-1),CA={key:0},DA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},SA={class:"md:tw-w-1/2 tw-w-full"},zA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Role Name ",-1),UA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qA={class:"mb-3 text-body-2 tw-text-zinc-700"},PA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},LA={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},WA=["onClick"],AA={key:0},$A={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},EA=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),TA=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function FA(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[kA,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",CA,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",DA,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",SA,[zA,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",UA,(0,wt.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",qA,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",PA,(0,wt.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",LA,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,wt.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},(0,wt.zw)(t),11,WA)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",AA,(0,wt.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",$A,[(0,s.Wm)(nt.T,{link:"",to:"/users/roles",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[EA])),_:1}),(0,s.Wm)(nt.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[TA])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var jA={data(){return{localUrl:w,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,ot.updateRole(this.$route.params.id,{name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_UPDATED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles())})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},addPermissions(t){return t},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.name,"Name"),this.formStatus.permissions=jt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRole(){ot.getRole(this.$route.params.id).then((t=>{this.name=t.data.data.role,this.selectedPermissions=[...t.data.data.permission],this.isFormReady=!0}))},getRoles(){ot.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getRole(),this.permissions=this.$store.getters["user/permissions"]}};const VA=(0,m.Z)(jA,[["render",FA]]);var IA=VA,OA={name:"users",path:"/users",component:Wa,meta:{module:"user"},children:[{name:"user/list",path:"",component:kP,meta:{module:"user",subModule:"user/list",title:"Users List",gate:"show_all_users"}},{name:"user/add",path:"add",component:cL,meta:{module:"user",subModule:"user/add",title:"Add User",gate:"create_user"}},{name:"user/update",path:"update/:id",component:QL,meta:{module:"user",subModule:"user/update",title:"Update User",gate:"update_user"}},{name:"user/addRole",path:"addRole",component:gW,meta:{module:"user",subModule:"user/addRole",title:"Add Role",gate:"create_role"}},{name:"user/roles",path:"roles",component:_A,meta:{module:"user",subModule:"user/roles",title:"Roles List",gate:"show_all_roles"}},{name:"user/updateRole",path:"roles/update/:id",component:IA,meta:{module:"user",subModule:"user/updateRole",title:"Update Role",gate:"view_role"}}]};const HA={class:"mb-5 tw-flex tw-justify-between tw-items-center"},MA=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Sales List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your sales")],-1),RA={key:0},NA=(0,s._)("span",{class:"text-white"}," Add Sale ",-1),YA={key:0},ZA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},KA={class:"mb-5 tw-flex"},BA={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},QA={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},JA={class:""};function GA(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("SalesAnalytics"),d=(0,s.up)("IndexFilter"),c=(0,s.up)("SalesTable"),u=(0,s.up)("AddSale"),p=(0,s.up)("NewAddSale");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",HA,[MA,t.$can("create_sale")&&i.fetched?((0,s.wg)(),(0,s.iD)("div",RA,[(0,s.Wm)(nt.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),NA])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",YA,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",ZA,[(0,s.Wm)(n,{sales:i.sales},null,8,["sales"]),(0,s._)("div",KA,[(0,s.Wm)(nt.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",BA,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by client, phone..."},null,512),[[a.nr,o.search]])]),(0,s._)("div",QA,[(0,s.Wm)(ct.t,{class:"tw-text-gray-500",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pound")])),_:1}),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.searchId=t),type:"number",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search By ID"},null,512),[[a.nr,o.searchId]])]),(0,s.Wm)(nr.C),(0,s.Wm)(nt.T,{onClick:i.handleReset,icon:"",rounded:"lg",variant:"flat",size:"small",disabled:o.isButtonDisabled,loading:o.isLoadingReset,color:"red",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",icon:"mdi-restart-alert",size:"xx-large"})])),_:1},8,["onClick","disabled","loading"]),(0,s.Wm)(nt.T,{onClick:i.getSales,icon:"",rounded:"lg",variant:"flat",size:"small",color:"blue",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",icon:"mdi-autorenew",size:"xx-large"})])),_:1},8,["onClick"])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[1000px] !tw-overflow-visible":o.showFilters}])},[(0,s.Wm)(d,{sales:i.sales,search:o.search,"search-id":o.searchId,filtered:o.filteredSales,"onUpdate:filtered":e[4]||(e[4]=t=>o.filteredSales=t),selected:i.selectedSales},null,8,["sales","search","search-id","filtered","selected"])],2),(0,s._)("div",JA,[((0,s.wg)(),(0,s.j4)(c,{onSelected:i.handleSelected,"selected-reset":o.selected,key:o.filteredSales.length,sales:o.filteredSales},null,8,["onSelected","selected-reset","sales"]))]),(0,s.Wm)(u,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:!1}),(0,s.Wm)(p,{onCancel:e[6]||(e[6]=t=>o.showPopup=!1),visible:o.showPopup,"onUpdate:visible":e[7]||(e[7]=t=>o.showPopup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const XA={class:"tw-grid tw-grid-cols-12 tw-mb-5"},t$={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-items-center"},e$=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),r$=["value"],a$={class:"tw-relative tw-pb-5 tw-overflow-x-auto tw-min-h-[400px] tw-overflow-y-visible sm:tw-rounded-lg"},s$={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},l$={scope:"col",class:"tw-p-4"},o$={class:"tw-flex tw-items-center"},i$=(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox",-1),w$={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},n$={class:"tw-w-4 tw-p-4 tw-relative"},d$={class:"tw-flex tw-items-center"},c$=["onChange","checked"],u$=(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox",-1),p$={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},g$={class:"tw-px-6 tw-py-4 tw-relative"},m$={key:0},h$={class:"tw-px-6 tw-py-4"},f$=["title"],b$={class:"tw-px-6 tw-py-4 tw-relative"},v$={class:"tw-pb-2"},x$={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},y$={key:0},_$={key:1},k$={class:"tw-absolute tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-text-xs"},C$={key:0,class:"tw-bg-emerald-500/10 tw-text-emerald-500 tw-px-2 tw-rounded-t"},D$={key:1,class:"tw-bg-blue-500/10 tw-text-blue-500 tw-px-2 tw-rounded-t"},S$={class:"tw-px-6 tw-py-4"},z$={class:"tw-px-6 tw-py-4 tw-relative"},U$={class:"tw-flex tw-items-center tw-justify-center"},q$={class:"tw-flex tw-gap-1"},P$={key:0},L$={class:"tw-px-6 tw-py-4"},W$={class:"tw-px-6 tw-py-4 tw-relative"},A$={class:"tw-flex tw-items-center tw-justify-center"},$$={class:"tw-flex tw-gap-1"},E$={key:0},T$={class:"tw-px-6 tw-py-4"},F$={class:"tw-px-6 tw-py-4"},j$={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},V$={class:"tw-col-span-12 md:tw-col-span-12 d-flex tw-justify-end tw-flex-wrap align-center"},I$={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},O$={class:"tw-flex tw-flex-wrap tw-gap-2"},H$={class:"tw-text-white"};function M$(t,e,r,l,o,i){const w=(0,s.up)("SaleConfirmation"),n=(0,s.up)("SaleAffectation"),d=(0,s.up)("SaleDelivery"),c=(0,s.up)("SaleActions");return(0,s.wg)(),(0,s.iD)("div",{key:i.items.length},[(0,s._)("div",XA,[(0,s._)("div",t$,[e$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,r$)))),128))],512),[[a.bM,o.paginationLimit]])])]),(0,s._)("div",a$,[((0,s.wg)(),(0,s.iD)("table",{key:i.reportedForToday.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",s$,[(0,s._)("tr",null,[(0,s._)("th",l$,[(0,s._)("div",o$,[(0,s.wy)((0,s._)("input",{onClick:e[1]||(e[1]=(...t)=>i.handleSelectAll&&i.handleSelectAll(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>o.isAllSelected=t),id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,512),[[a.e8,o.isAllSelected]]),i$])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,wt.C_)([["city"==t&&"!tw-max-w-[150px]"],"tw-px-6 tw-py-3 tw-truncate"]),scope:"col"},[(0,s._)("div",w$,(0,wt.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:(0,wt.C_)([[[t.confirmation,t.delivery].includes("reporter")&&"tw-relative",i.isReportedToday(t)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[(0,s._)("td",n$,[(0,s._)("div",d$,[(0,s._)("input",{onChange:e=>i.handleSelect(e,t.id),checked:i.isSelected(t.id),id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,40,c$),u$])]),(0,s._)("td",p$,(0,wt.zw)(t.id),1),(0,s._)("td",g$,[(0,s.Uk)((0,wt.zw)(t?.created_at?.split("T")[0])+" ",1),"reporter"==t.confirmation||"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[i.isReportedToday(t)?((0,s.wg)(),(0,s.iD)("span",m$," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",h$,[(0,s._)("div",{title:t.city,class:"!tw-max-w-[200px] tw-truncate"},(0,wt.zw)(t.city),9,f$)]),(0,s._)("td",b$,[(0,s._)("div",v$,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",x$,(0,wt.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,wt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",y$,"| "+(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",_$,"| "+(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",k$,[t.counts_from_warehouse?((0,s.wg)(),(0,s.iD)("p",C$," warehouse ")):(0,s.kq)("",!0),t.counts_from_warehouse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",D$," delivery "))])])]),(0,s._)("td",S$,(0,wt.zw)(t.fullname),1),(0,s._)("td",z$,[(0,s._)("div",U$,[((0,s.wg)(),(0,s.j4)(w,{class:(0,wt.C_)("reporter"==t.confirmation&&"tw-mb-1"),sale:t,id:t.id,confirmation:t.confirmation,key:t.confirmation},null,8,["class","sale","id","confirmation"])),"reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",q$,["reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("span",P$,[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,wt.zw)(t?.reported_agente_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",L$,["confirmer"==t.confirmation?((0,s.wg)(),(0,s.j4)(n,{sale:t,affectation:t.affectation,id:t.id,key:t.affectation},null,8,["sale","affectation","id"])):(0,s.kq)("",!0)]),(0,s._)("td",W$,[(0,s._)("div",A$,[((0,s.wg)(),(0,s.j4)(d,{class:(0,wt.C_)("reporter"==t.delivery&&"tw-mb-1"),sale:t,id:t.id,key:t.delivery,delivery:t.delivery},null,8,["class","sale","id","delivery"])),"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",$$,["reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("span",E$,[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,wt.zw)(t.reported_delivery_date),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",T$,(0,wt.zw)(i.getPrice(t)),1),(0,s._)("td",F$,[((0,s.wg)(),(0,s.j4)(c,{id:t.id,key:t.delivery,sale:t},null,8,["id","sale"]))])],2)))),128))])]))]),(0,s._)("div",j$,[(0,s._)("div",V$,[(0,s._)("div",I$,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.sales.length:i.nextRange)+" of "+(0,wt.zw)(r.sales.length)+" items ",1),(0,s._)("div",O$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",H$,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const R$={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},N$=["onClick"],Y$={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Z$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),K$={class:"tw-flex tw-justify-end tw-mt-2"};function B$(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("SaleConfirmationReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,wt.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,wt.zw)(i.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",R$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,wt.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,wt.zw)(t.name),3)],8,N$)))),128))])],2),(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",Y$,[Z$,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",K$,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(n,{order:r.sale,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])),[[ie.L,i.close]])}const Q$={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},J$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),G$=(0,s._)("br",null,null,-1),X$=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),tE={class:"tw-flex tw-justify-end tw-mt-2"};function eE(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Q$,[J$,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),G$,X$,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",tE,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var rE={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.isLoading=!0,ba.agenteUpdateConfirmation(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const aE=(0,m.Z)(rE,[["render",eE]]);var sE=aE,lE={props:["confirmation","id","sale"],components:{SaleConfirmationReporting:sE},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",noteReporter:"",selectedId:0,allOptions:jn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleClick(){this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))},handleClickReporter(){this.showPopupReporter=!1},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ba.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},async updateOrderWithNote(){return this.isLoading=!0,ba.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("sale/updateConfirmation",{id:t,confirmation:e})},updateConfirmationNote(t,e,r){this.$store.dispatch("sale/updateConfirmationWithNote",{id:t,confirmation:e,note:r})}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const oE=(0,m.Z)(lE,[["render",B$]]);var iE=oE;const wE={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},nE=["onClick"],dE={class:"tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100"},cE={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function uE(t,e,r,a,l,o){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:"tw-whitespace-nowrap focus:tw-ring-4 tw-ring-neutral-200 tw-bg-neutral-600/10 tw-text-neutral-800 focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center",type:"button"},[(0,s.Uk)((0,wt.zw)(o.selected.firstname)+" "+(0,wt.zw)(o.selected.lastname)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",wE,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",dE,(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),1)],8,nE)))),128))])],2)])),[[ie.L,o.close]]):((0,s.wg)(),(0,s.iD)("div",cE,[(0,s.Wm)(ct.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var pE={props:["affectation","id","sale"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,old:null}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},fetched(){return this.$store.getters["user/fetched"]},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.sale.items.some((e=>e.product_id==t.product_id))))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(this.old=this.affectation,t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},updateOrder(){ba.agenteUpdateAffectaion(this.id,this.selectedId).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateAffectation(this.id,this.selected.id),this.isLoading=!1)}),(t=>{this.$handleApiError(t),this.isLoading=!1,this.selectedId=this.old}))},updateAffectation(t,e){this.$store.dispatch("sale/updateAffectation",{id:t,affectation:e})}},mounted(){this.selectedId=this.affectation}};const gE=(0,m.Z)(pE,[["render",uE]]);var mE=gE;const hE={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},fE=["onClick"];function bE(t,e,r,a,l,o){const i=(0,s.up)("SaleDeliveryReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,wt.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,wt.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",hE,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,wt.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,wt.zw)(t.name),3)],8,fE)))),128))])],2),(0,s.Wm)(i,{order:r.sale,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])),[[ie.L,o.close]])}const vE={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},xE=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),yE=(0,s._)("br",null,null,-1),_E=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),kE={class:"tw-flex tw-justify-end tw-mt-2"};function CE(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",vE,[xE,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),yE,_E,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",kE,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var DE={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ba.deliveryUpdateDelivery(t.id,"reporter",t).then((()=>{this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const SE=(0,m.Z)(DE,[["render",CE]]);var zE=SE,UE={props:["delivery","id","sale"],components:{SaleDeliveryReporting:zE},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Hn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){return t.id!==this.selectedId&&("reporter"!==t.value?(this.selectedId=t.id,this.updateOrder(),this.close(),!0):void("reporter"==t.value&&(this.showPopupReporter=!0,this.close())))},async updateOrder(){return this.isLoading=!0,ba.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("sale/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const qE=(0,m.Z)(UE,[["render",bE]]);var PE=qE;const LE={key:0};function WE(t,e,r,a,l,o){const i=(0,s.up)("SaleHistory"),w=(0,s.up)("popup-full"),n=(0,s.up)("UpdateSale");return r.sale?((0,s.wg)(),(0,s.iD)("div",LE,[(0,s.Wm)(nt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.sale.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"]),t.$can("update_sale")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(t.$can("view_sale"),(0,s.kq)("",!0)),(t.$can("delete_sale"),(0,s.kq)("",!0)),(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=t=>l.showHistoryPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"teal",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-ascending-outline")])),_:1})])),_:1}),(0,s.Wm)(w,{visible:l.showHistoryPopup,onCancel:e[4]||(e[4]=t=>l.showHistoryPopup=!1)},{default:(0,s.w5)((()=>[l.showHistoryPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[3]||(e[3]=t=>l.showHistoryPopup=!1),sale:r.sale},null,8,["sale"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(n,{visible:l.showUpdatePopup,"onUpdate:visible":e[5]||(e[5]=t=>l.showUpdatePopup=t),order:r.sale},null,8,["visible","order"])])):(0,s.kq)("",!0)}var AE=r(7103),$E=r(795),EE=r(2773);const TE={class:"md:tw-w-[50%] tw-max-h-full tw-relative tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},FE={key:0,class:"tw-w-full tw-h-full"},jE={key:1,class:"tw-p-5"},VE={class:"d-flextw-flex-col justify-space-between flex-grow-1"},IE={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},OE={class:"tw-text-sm tw-capitalize tw-text-neutral-600"},HE={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},ME={class:"d-flextw-flex-col justify-space-between flex-grow-1"},RE={class:"tw-flex tw-flex-col tw-my-2"},NE=(0,s._)("div",null," New Order Created ",-1),YE={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"};function ZE(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",TE,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",FE,[(0,s.Wm)(i,{class:"text-primary-color"})])),(0,s.Wm)(nt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",jE,[(0,s.Wm)($E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(EE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",VE,[(0,s._)("div",IE,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",OE,(0,wt.zw)(t.users.firstname)+" "+(0,wt.zw)(t.users.lastname),1),(0,s._)("div",HE,[(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(EE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",ME,[(0,s._)("div",RE,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),NE]),(0,s._)("div",YE,[(0,s._)("span",null,(0,wt.zw)(r.sale.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(r.sale.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)])}var KE={props:["sale"],data(){return{isLoaded:!1,allEvents:[]}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("cancel")},getHistory(){this.isLoaded=!1,ba.history(this.sale.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const BE=(0,m.Z)(KE,[["render",ZE]]);var QE=BE;const JE={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},GE={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},XE=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),tT={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},eT={class:"md:tw-col-span-6 tw-col-span-12"},rT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),aT={class:"md:tw-col-span-6 tw-col-span-12"},sT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),lT={class:"md:tw-col-span-6 tw-col-span-12"},oT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),iT=["value"],wT=["value"],nT={class:"md:tw-col-span-6 tw-col-span-12"},dT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),cT={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},uT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),pT={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},gT={class:"tw-col-span-12"},mT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),hT={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},fT={class:"tw-col-span-12 md:tw-col-span-4"},bT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),vT={class:"tw-col-span-12 md:tw-col-span-8"},xT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),yT={class:"md:tw-col-span-6 tw-col-span-12"},_T=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),kT={class:"md:tw-col-span-6 tw-col-span-12"},CT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),DT=["value"],ST={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},zT={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},UT={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},qT=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),PT={class:"tw-flex tw-flex-col tw-justify-center"},LT=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),WT={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},AT={key:2,class:"md:tw-col-span-12 tw-col-span-12"},$T={class:"tw-max-w-full tw-overflow-auto"},ET={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},TT={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},FT={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},jT=["src"],VT={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},IT=["onUpdate:modelValue"],OT=(0,s._)("option",{value:0},"Select",-1),HT=["value"],MT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},RT=["disabled","onUpdate:modelValue"],NT=(0,s._)("option",{value:0},"Select",-1),YT=["value"],ZT={key:0},KT={key:1},BT={key:2},QT={key:3},JT=["value"],GT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},XT={class:"md:tw-col-span-6 tw-col-span-12"},tF=["onUpdate:modelValue"],eF={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},rF={key:0},aF={key:1,class:"md:tw-col-span-6 tw-col-span-12"},sF=["onUpdate:modelValue"],lF={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},oF={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},iF=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),wF={class:"md:tw-col-span-12 tw-col-span-12"},nF={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},dF=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),cF={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},uF=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),pF={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},gF=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),mF={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},hF=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),fF={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},bF={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},vF=(0,s._)("span",{class:"text-white"}," Cancel ",-1),xF=(0,s._)("span",{class:"text-white"}," Update ",-1);function yF(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",JE,[(0,s.Wm)(w)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",GE,[XE,(0,s._)("div",tT,[(0,s._)("div",eT,[rT,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",aT,[sT,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",lT,[oT,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,wt.zw)(o.sale.city),9,iT),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,wT)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",nT,[dT,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",cT,[uT,(0,s.Wm)(n,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",pT,[(0,s._)("div",gT,[mT,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",hT,[(0,s._)("div",fT,[bT,(0,s._)("div",null,(0,wt.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",vT,[xT,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",yT,[_T,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",kT,[CT,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,wt.zw)(t.name),9,DT)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",ST,[(0,s._)("div",zT,[(0,s._)("label",UT,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),qT]),(0,s._)("label",PT,[(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),LT,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",WT," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",AT,[(0,s._)("div",$T,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",ET,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",TT,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",FT,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,jT)):(0,s.kq)("",!0)])])),(0,s._)("th",VT,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[OT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,HT)))),128))],8,IT),[[a.bM,t.product.id]])])])]),(0,s._)("th",MT,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[NT,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",KT,(0,wt.zw)(t.size)+" / "+(0,wt.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",BT,(0,wt.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",QT,(0,wt.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",ZT,"-"))],8,YT)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,JT))],8,RT)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",GT,[(0,s._)("div",XT,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,tF),[[a.nr,t.quantity]])])]),(0,s._)("th",eF,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",rF," - ")):((0,s.wg)(),(0,s.iD)("div",aF,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,sF),[[a.nr,t.price]])]))])]),(0,s._)("th",lF,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",oF,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),iF])),_:1},8,["onClick"])])]),(0,s._)("div",wF,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",nF,[dF,(0,s._)("div",cF,[uF,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",pF,[gF,(0,s._)("div",mF,[hF,(0,s._)("div",fF,(0,wt.zw)(o.currency)+" "+(0,wt.zw)(i.total_price),1)])])]),(0,s._)("div",bF,[(0,s.Wm)(nt.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[vF])),_:1},8,["onClick"]),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[xF])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const _F={class:"tw-relative"},kF=["value"],CF={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},DF=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),SF={class:"tw-flex tw-justify-end tw-mt-2"};function zF(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("AddOrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px] tw-w-full"},[(0,s._)("div",null,[(0,s._)("div",_F,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.confirmationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text,!t.value&&"!tw-text-gray-700"]),key:t.id,value:t.value},(0,wt.zw)(t.name),11,kF)))),128))],512),[[a.bM,i.confirmationValue]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",CF,[DF,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",SF,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(n,{order:r.order,onConfirm:i.handleReportedDate,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","onConfirm","visible"])])),[[ie.L,i.close]])}const UF={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},qF=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),PF=(0,s._)("br",null,null,-1),LF=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),WF={class:"tw-flex tw-justify-end tw-mt-2"};function AF(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",UF,[qF,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),PF,LF,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",WF,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var $F={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.$emit("confirm",{reported_agente_date:this.realDate,reported_agente_note:this.note}),this.isLoading=!0},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}}};const EF=(0,m.Z)($F,[["render",AF]]);var TF=EF,FF={props:["confirmation","id","order"],components:{AddOrderReporting:TF},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:jn,reported_agente_date:null,reported_agente_note:"",showPopupReporter:!1}},watch:{},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},confirmationValue:{get(){return this.confirmation},set(t){switch(t){case"reporter":this.showPopupReporter=!0;break;case"confirmer":this.showPopup=!0;break;default:this.$emit("update:confirmation",t);break}}},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleReportedDate(t){this.reported_agente_date=t.reported_agente_date,this.reported_agente_note=t.reported_agente_note,this.$emit("update:confirmation","reporter"),this.$emit("reported",t),this.showPopupReporter=!1},handleClick(){this.showPopup=!1,this.$emit("update:confirmation","confirmer"),this.$emit("confirmed",this.note)},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ba.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t)))},async updateOrderWithNote(){return this.isLoading=!0,ba.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationWithNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("order/updateConfirmation",{id:t,confirmation:e}),this.$emit("update",e)},updateConfirmationWithNote(t,e,r){this.$store.dispatch("order/updateConfirmationWithNote",{id:t,confirmation:e,note:r}),this.$emit("update",e)}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const jF=(0,m.Z)(FF,[["render",zF]]);var VF=jF;const IF={class:"tw-relative"},OF=["disabled"],HF=["value"],MF={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function RF(t,e,r,l,o,i){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("div",null,[(0,s._)("div",IF,[(0,s.wy)((0,s._)("select",{disabled:"confirmer"!=r.confirmation,"onUpdate:modelValue":e[0]||(e[0]=t=>i.affectationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.firstname+" "+t.lastname),9,HF)))),128))],8,OF),[[a.bM,i.affectationValue]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),[[ie.L,i.close]]):((0,s.wg)(),(0,s.iD)("div",MF,[(0,s.Wm)(ct.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var NF={props:["affectation","id","order","confirmation","items","productIds"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,fetched:!1}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},order_items(){return this.items},affectationValue:{get(){return this.affectation},set(t){this.$emit("update:affectation",t)}},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.productIds.includes(t.product_id)))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},getUsers(){this.fetched=!1,ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0),this.fetched=!0}})).catch(this.$handleApiError)}},mounted(){this.selectedId=this.affectation,this.getUsers()}};const YF=(0,m.Z)(NF,[["render",RF]]);var ZF=YF;const KF=(0,s._)("h1",{class:"tw-mb-2 tw-font-medium"},"Offers",-1),BF={class:"tw-relative tw-overflow-x-auto tw-border-b sm:tw-rounded"},QF={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},JF=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),GF={class:"tw-px-6 tw-py-4"},XF={class:"tw-px-6 tw-py-4"},tj={class:"tw-px-6 tw-py-4"},ej={class:"tw-px-6 tw-py-4"},rj={class:"tw-max-w-[250px] tw-text-sm"},aj={key:0},sj=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),lj=[sj];function oj(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[KF,(0,s._)("div",null,[(0,s._)("div",BF,[(0,s._)("table",QF,[JF,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",GF,(0,wt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",XF,(0,wt.zw)(t.quantity),1),(0,s._)("td",tj,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",ej,[(0,s._)("p",rj,(0,wt.zw)(t.note),1)])])))),128)),0==o.offers.length?((0,s.wg)(),(0,s.iD)("tr",aj,lj)):(0,s.kq)("",!0)])])])])])}var ij={props:["productIds"],data(){return{currency:c}},computed:{products(){return this.$store.getters["product/products"]},offers(){return this.products.filter((t=>this.productIds.includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}}};const wj=(0,m.Z)(ij,[["render",oj]]);var nj=wj,dj={components:{AddOrderConfirmation:VF,AddOrderAffectation:ZF,ProductOffers:nj},props:["visible","order"],data(){return{upsells:On,serverUrl:n,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!1}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,order_id:this.order.id,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},update(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={id:this.sale.id,fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};"confirmer"!=t.confirmation&&(t.affectation=null,t.delivery=null),this.isLoading=!0,ba.update(t.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"Order updated"}),this.$store.dispatch("sale/update",{id:t.id,sale:e.data.data.sale}),this.$emit("update:visible",!1),this.$emit("updateOrder",e.data.data.sale))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.sale={...this.order},this.items=[...this.order.items],this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.sale={...this.order},this.items=[...this.order.items]}};const cj=(0,m.Z)(dj,[["render",yF]]);var uj=cj,pj={props:["sale"],name:"saleActions",components:{SaleHistory:QE,UpdateSale:uj},data(){return{showPopup:!1,showUpdatePopup:!1,showHistoryPopup:!1,isLoading:!1}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{}};const gj=(0,m.Z)(pj,[["render",WE]]);var mj=gj,hj={props:{sales:{required:!0},selectedReset:{required:!1,default:[]}},components:{SaleConfirmation:iE,SaleAffectation:mE,SaleDelivery:PE,SaleActions:mj},data(){return{allowedLimit:[5,10,20,50,100,300,500],currentPage:1,paginationLimit:50,todayDate:null,selected:[],isAllSelected:!1,columns:["id","date","city","products","client","confirmation","affectation","delivery","price","actions"]}},watch:{selectedReset(t){this.selected=t,0==this.selected.length&&(this.isAllSelected=!1)},paginationLimit(){this.currentPage=1},selected(t){this.$emit("selected",t)}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sales.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.sales.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.sales.filter(this.isReportedToday)}},methods:{getPrice(t){return vo(t)},isReportedToday(t){return this.isConfirmationReportedToday(t)||this.isDeliveryReportedToday(t)},isDeliveryReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date?.split("T")[0]==this.todayDate},isConfirmationReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date?.split("T")[0]==this.todayDate},handleSelect(t,e){t.target.checked?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!=e))},isSelected(t){return this.selected.includes(t)},handleSelectAll(t){t.target.checked?this.selected=[...this.items.map((t=>t.id))]:this.selected=[]}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const fj=(0,m.Z)(hj,[["render",M$]]);var bj=fj;const vj={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},xj={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},yj=(0,s._)("h1",{class:"tw-text-lg"},"Create Order",-1),_j={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},kj={class:"md:tw-col-span-6 tw-col-span-12"},Cj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),Dj={class:"md:tw-col-span-6 tw-col-span-12"},Sj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),zj={class:"md:tw-col-span-6 tw-col-span-12"},Uj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),qj=["value"],Pj={class:"md:tw-col-span-6 tw-col-span-12"},Lj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),Wj={class:"md:tw-col-span-12 tw-col-span-12"},Aj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),$j={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},Ej=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse",-1),Tj=(0,s._)("option",{value:0}," Select ",-1),Fj=["value"],jj={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},Vj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),Ij=(0,s._)("option",{value:0}," Select ",-1),Oj=["value"],Hj={class:"md:tw-col-span-6 tw-col-span-12"},Mj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variations",-1),Rj=(0,s._)("option",{value:0}," Select ",-1),Nj=["value"],Yj={class:"md:tw-col-span-6 tw-col-span-12"},Zj=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Kj={class:"md:tw-col-span-6 tw-col-span-12"},Bj={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Qj={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},Jj=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Gj={class:"tw-flex tw-flex-col tw-justify-center"},Xj={class:"md:tw-col-span-6 tw-col-span-12"},tV={key:0,class:"md:tw-col-span-12 tw-col-span-12"},eV={class:"tw-max-w-full tw-overflow-auto"},rV={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},aV={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},sV={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},lV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},oV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},iV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},wV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},nV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},dV={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},cV=(0,s._)("span",{class:"text-white"}," Cancel ",-1),uV=(0,s._)("span",{class:"text-white"}," Save ",-1);function pV(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[12]||(e[12]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vj,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",xj,[yj,(0,s._)("div",_j,[(0,s._)("div",kj,[Cj,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",Dj,[Sj,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",zj,[Uj,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,qj)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",Pj,[Lj,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",Wj,[Aj,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>o.sale.price=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])]),(0,s._)("div",$j,[Ej,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.warehouse_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Tj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Fj)))),128))],512),[[a.bM,o.warehouse_id]])]),(0,s._)("div",jj,[Vj,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.product_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Ij,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Oj)))),128))],512),[[a.bM,o.product_id]])]),(0,s._)("div",Hj,[Mj,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.product_variation_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Rj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.size)+" / "+(0,wt.zw)(t.color),9,Nj)))),128))],512),[[a.bM,o.product_variation_id]])]),(0,s._)("div",Yj,[Zj,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>o.quantity=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.quantity]])]),(0,s._)("div",Kj,[(0,s._)("div",Bj,[(0,s._)("label",Qj,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),Jj]),(0,s._)("label",Gj,[(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),(0,s._)("div",Xj,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-block tw-ml-auto tw-py-1 tw-px-4 tw-rounded tw-bg-emerald-500 tw-text-white"}," Add ")]),o.items.length?((0,s.wg)(),(0,s.iD)("div",tV,[(0,s._)("div",eV,[(0,s._)("table",rV,[(0,s._)("thead",aV,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","warehouse","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",sV,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",lV,(0,wt.zw)(t.product.name),1),(0,s._)("th",oV,(0,wt.zw)(t.product_variation.size)+" / "+(0,wt.zw)(t.product_variation.color),1),(0,s._)("th",iV,(0,wt.zw)(t.quantity),1),(0,s._)("th",wV,(0,wt.zw)(t.product_variation.warehouse.name),1),(0,s._)("th",nV,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])):(0,s.kq)("",!0)]),(0,s._)("div",dV,[(0,s.Wm)(nt.T,{onClick:e[11]||(e[11]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[cV])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[uV])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var gV={props:["visible"],data(){return{isLoading:!1,isLoaded:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],sale:{fullname:"",phone:"",city:"",adresse:"",price:0,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0}},computed:{products(){return this.$store.getters["product/products"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return 0==this.warehouse_id?[]:this.products.filter((t=>t.variations.some((t=>t.warehouse_id==this.warehouse_id))))},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,orderItems:this.items,counts_from_warehouse:!0};ba.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sale created successfully"}),this.$store.dispatch("sale/add",t.data.data.sale))}),this.$handleApiError).finally((()=>this.isLoading=!1))},deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},addItem(){if([this.warehouse_id,this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:0};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.item_id+=1},getProducts(){ha.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}},mounted(){this.getProducts(),this.sale.city=this.cities[0].name||1}};const mV=(0,m.Z)(gV,[["render",pV]]);var hV=mV;const fV={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},bV={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},vV=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),xV={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},yV={class:"md:tw-col-span-6 tw-col-span-12"},_V=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),kV={class:"md:tw-col-span-6 tw-col-span-12"},CV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),DV={class:"md:tw-col-span-6 tw-col-span-12"},SV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),zV=["value"],UV=["value"],qV={class:"md:tw-col-span-6 tw-col-span-12"},PV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),LV={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},WV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),AV={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},$V={class:"tw-col-span-12"},EV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),TV={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},FV={class:"tw-col-span-12 md:tw-col-span-4"},jV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),VV={class:"tw-col-span-12 md:tw-col-span-8"},IV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),OV={class:"md:tw-col-span-6 tw-col-span-12"},HV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),MV={class:"md:tw-col-span-6 tw-col-span-12"},RV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),NV=["value"],YV={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},ZV={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},KV={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},BV=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),QV={class:"tw-flex tw-flex-col tw-justify-center"},JV=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),GV={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},XV={key:2,class:"md:tw-col-span-12 tw-col-span-12"},tI={class:"tw-max-w-full tw-overflow-auto"},eI={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},rI={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},aI={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},sI=["src"],lI={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},oI=["onUpdate:modelValue"],iI=(0,s._)("option",{value:0},"Select",-1),wI=["value"],nI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},dI=["disabled","onUpdate:modelValue"],cI=(0,s._)("option",{value:0},"Select",-1),uI=["value"],pI={key:0},gI={key:1},mI={key:2},hI={key:3},fI=["value"],bI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},vI={class:"md:tw-col-span-6 tw-col-span-12"},xI=["onUpdate:modelValue"],yI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},_I={key:0},kI={key:1,class:"md:tw-col-span-6 tw-col-span-12"},CI=["onUpdate:modelValue"],DI={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},SI={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},zI=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),UI={class:"md:tw-col-span-12 tw-col-span-12"},qI={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},PI=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),LI={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},WI=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),AI={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},$I=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),EI={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},TI=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),FI={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},jI={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},VI=(0,s._)("span",{class:"text-white"}," Cancel ",-1),II=(0,s._)("span",{class:"text-white"}," Create ",-1);function OI(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fV,[(0,s.Wm)(w)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",bV,[vV,(0,s._)("div",xV,[(0,s._)("div",yV,[_V,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",kV,[CV,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",DV,[SV,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,wt.zw)(o.sale.city),9,zV),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,UV)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",qV,[PV,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",LV,[WV,(0,s.Wm)(n,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",AV,[(0,s._)("div",$V,[EV,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",TV,[(0,s._)("div",FV,[jV,(0,s._)("div",null,(0,wt.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",VV,[IV,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",OV,[HV,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",MV,[RV,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,wt.zw)(t.name),9,NV)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",YV,[(0,s._)("div",ZV,[(0,s._)("label",KV,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),BV]),(0,s._)("label",QV,[(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,wt.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),JV,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",GV," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",XV,[(0,s._)("div",tI,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",eI,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",rI,(0,wt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",aI,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,sI)):(0,s.kq)("",!0)])])),(0,s._)("th",lI,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[iI,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,wI)))),128))],8,oI),[[a.bM,t.product.id]])])])]),(0,s._)("th",nI,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[cI,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",gI,(0,wt.zw)(t.size)+" / "+(0,wt.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",mI,(0,wt.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",hI,(0,wt.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",pI,"-"))],8,uI)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,fI))],8,dI)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",bI,[(0,s._)("div",vI,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,xI),[[a.nr,t.quantity]])])]),(0,s._)("th",yI,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",_I," - ")):((0,s.wg)(),(0,s.iD)("div",kI,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,CI),[[a.nr,t.price]])]))])]),(0,s._)("th",DI,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",SI,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),zI])),_:1},8,["onClick"])])]),(0,s._)("div",UI,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",qI,[PI,(0,s._)("div",LI,[WI,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",AI,[$I,(0,s._)("div",EI,[TI,(0,s._)("div",FI,(0,wt.zw)(o.currency)+" "+(0,wt.zw)(i.total_price),1)])])]),(0,s._)("div",jI,[(0,s.Wm)(nt.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[VI])),_:1},8,["onClick"]),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[II])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var HI={components:{AddOrderConfirmation:VF,AddOrderAffectation:ZF,ProductOffers:nj},props:["visible","order"],data(){return{upsells:On,serverUrl:n,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},create(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};this.isLoading=!0,ba.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"New Order Added"}),this.$store.dispatch("sale/add",t.data.data.sale),this.$emit("update:visible",!1))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){}};const MI=(0,m.Z)(HI,[["render",OI]]);var RI=MI;const NI={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},YI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ZI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},KI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},BI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},QI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},JI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},GI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},XI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"};function tO(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),w=(0,s.up)("UpsellFilter"),n=(0,s.up)("ConfirmationFilter"),d=(0,s.up)("AffectationFilter"),c=(0,s.up)("AgenteFilter"),u=(0,s.up)("DeliveryFilter"),p=(0,s.up)("ProductFilter"),g=(0,s.up)("ExcelExport");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",NI,[(0,s._)("div",YI,[(0,s.Wm)(i,{filter:l.config.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>l.config.dateFilter=t)},null,8,["filter"])]),(0,s._)("div",ZI,[(0,s.Wm)(w,{filter:l.config.upsellFilter,"onUpdate:filter":e[1]||(e[1]=t=>l.config.upsellFilter=t)},null,8,["filter"])]),(0,s._)("div",KI,[(0,s.Wm)(n,{filter:l.config.confirmationFilter,"onUpdate:filter":e[2]||(e[2]=t=>l.config.confirmationFilter=t)},null,8,["filter"])]),(0,s._)("div",BI,[(0,s.Wm)(d,{filter:l.config.affectationFilter,"onUpdate:filter":e[3]||(e[3]=t=>l.config.affectationFilter=t)},null,8,["filter"])]),(0,s._)("div",QI,[(0,s.Wm)(c,{filter:l.config.agenteFilter,"onUpdate:filter":e[4]||(e[4]=t=>l.config.agenteFilter=t)},null,8,["filter"])]),(0,s._)("div",JI,[(0,s.Wm)(u,{filter:l.config.deliveryFilter,"onUpdate:filter":e[5]||(e[5]=t=>l.config.deliveryFilter=t)},null,8,["filter"])]),(0,s._)("div",GI,[(0,s.Wm)(p,{filter:l.config.productFilter,"onUpdate:filter":e[6]||(e[6]=t=>l.config.productFilter=t)},null,8,["filter"])]),(0,s._)("div",XI,[(0,s.Wm)(g,{selected:r.selected,filtered:r.filtered,sales:r.sales},null,8,["selected","filtered","sales"])])])])}const eO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),rO=["onClick"];function aO(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[eO,(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,rO)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var sO={data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const lO=(0,m.Z)(sO,[["render",aO]]);var oO=lO;const iO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),wO={class:"tw-relative"},nO=(0,s._)("option",{value:"all"},"Select",-1),dO=(0,s._)("option",{value:"oui"},"Oui",-1),cO=(0,s._)("option",{value:"non"},"Non",-1),uO=[nO,dO,cO];function pO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[iO,(0,s._)("div",wO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},uO,512),[[a.bM,o.value]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var gO={data(){return{value:"all"}},watch:{value(t){this.$emit("update:filter",t)}}};const mO=(0,m.Z)(gO,[["render",pO]]);var hO=mO;const fO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),bO={class:"tw-relative"},vO=["value"];function xO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[fO,(0,s._)("div",bO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value?t.value:"all",key:t.id},(0,wt.zw)(t.value?t.name:"Select"),9,vO)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var yO={props:["filter"],data(){return{deliveryFilter:"all",deliveryStatus:Hn}},watch:{deliveryFilter(t){this.$emit("update:filter",t)}}};const _O=(0,m.Z)(yO,[["render",xO]]);var kO=_O;const CO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Confirmation",-1),DO={class:"tw-relative"},SO=(0,s._)("option",{value:"all"}," Select ",-1),zO=["value"];function UO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[CO,(0,s._)("div",DO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.confirmationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[SO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value},(0,wt.zw)(t.name),9,zO)))),128))],512),[[a.bM,o.confirmationFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var qO={props:["filter"],data(){return{confirmationFilter:"all",confirmations:jn}},watch:{confirmationFilter(t){this.$emit("update:filter",t)}}};const PO=(0,m.Z)(qO,[["render",UO]]);var LO=PO;const WO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Affecté",-1),AO={class:"tw-relative"},$O=(0,s._)("option",{value:"all"},"Select",-1),EO=(0,s._)("option",{value:null},"Without delivery",-1),TO=["value"];function FO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[WO,(0,s._)("div",AO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.affectationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[$O,EO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,TO)))),128))],512),[[a.bM,o.affectationFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var jO={props:["filter"],data(){return{affectationFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))}},watch:{affectationFilter(t){this.$emit("update:filter",t)}}};const VO=(0,m.Z)(jO,[["render",FO]]);var IO=VO;const OO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agente",-1),HO={class:"tw-relative"},MO=(0,s._)("option",{value:"all"},"Select",-1),RO=(0,s._)("option",{value:null},"Without agente",-1),NO=["value"];function YO(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[OO,(0,s._)("div",HO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.agenteFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[MO,RO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agentes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,NO)))),128))],512),[[a.bM,o.agenteFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var ZO={props:["filter"],data(){return{agenteFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},agentes(){return this.users.filter((t=>2==t.role.id))}},watch:{agenteFilter(t){this.$emit("update:filter",t)}}};const KO=(0,m.Z)(ZO,[["render",YO]]);var BO=KO;const QO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Product",-1),JO={key:0},GO={key:1,class:"tw-relative"},XO=(0,s._)("option",{value:"all"},"Select",-1),tH=["value"];function eH(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[QO,i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",JO,[(0,s._)("div",null,[(0,s.Wm)(ct.t,{class:"tw-text-orange-500 tw-animate-spin tw-text-lg tw-"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),i.fetched?((0,s.wg)(),(0,s.iD)("div",GO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[XO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,tH)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])):(0,s.kq)("",!0)])}var rH={props:["filter"],data(){return{productFilter:"all"}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},watch:{productFilter(t){this.$emit("update:filter",t)}},methods:{getProducts(){ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts(),console.log(this.products)}};const aH=(0,m.Z)(rH,[["render",eH]]);var sH=aH;function lH(t,e,r,{confirmationFilter:a,affectationFilter:s,upsellFilter:l,deliveryFilter:o,agenteFilter:i,dateFilter:w,productFilter:n}){const d=w[0],c=w[1];return t.filter((t=>{const w=new Date(t.created_at);if(""!=r&&r!=t.id)return!1;if("all"!==a&&t.confirmation!==a)return!1;if("all"!==s&&t.affectation!=s)return!1;if("all"!==l&&t.upsell!=l)return!1;if("all"!==o&&t.delivery!=o)return!1;if("all"!==i&&t.agente_id!=i)return!1;const u=((t,e)=>{for(const r in t)if(!["created_at","updated_at","sheets_id","reported_agente_note","reported_agente_note","reported_agente_date","reported_delivery_note","reported_delivery_date"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(t,e);if(!u)return!1;if("all"!==n&&!t.items.some((t=>t.product_id==n)))return!1;const p=w.getDate(),g=w.getMonth(),m=w.getFullYear();if(d){const t=d.getDate(),e=d.getMonth(),r=d.getFullYear();if(m<r||m===r&&g<e||m===r&&g===e&&p<t)return!1}if(c){const t=c.getDate(),e=c.getMonth(),r=c.getFullYear();if(m>r||m===r&&g>e||m===r&&g===e&&p>t)return!1}return!0}))}function oH(t){return{id:1,title:"New",value:t.filter((t=>!t.confirmation||"new"==t.confirmation)).length,pourcentage:(100*t.filter((t=>!t.confirmation||"new"==t.confirmation)).length/t.length).toFixed(2),color:"primary-green",icon:"mdi mdi-new-box"}}function iH(t){return{id:3,title:"Confirmed",value:t.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*t.filter((t=>"confirmer"==t.confirmation)).length/t.length).toFixed(2),color:"deep-purple-accent-2",icon:"mdi-phone-check"}}function wH(t){return{id:4,title:"Delivered",value:t.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*t.filter((t=>"livrer"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi-account-check-outline"}}function nH(t){return{id:5,title:"Shipped",value:t.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*t.filter((t=>"expidier"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red",icon:"mdi-truck"}}const dH=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Export",-1),cH={class:"tw-relative tw-flex tw-items-center tw-gap-2 tw-justify-between"},uH={class:"tw-relative tw-w-full"},pH=(0,s._)("option",{value:"all"},"All Sales",-1),gH=(0,s._)("option",{value:"selected"},"Selected Sales",-1),mH=(0,s._)("option",{value:"filtered"},"Filtered Sales",-1),hH=[pH,gH,mH];function fH(t,e,r,l,o,i){const w=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",null,[dH,(0,s._)("div",cH,[(0,s._)("div",uH,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.selection=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},hH,512),[[a.bM,o.selection]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s.Wm)(w,{delimiter:";",data:i.toImport},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.T,{onClick:i.handleImport,icon:"",rounded:"lg",variant:"flat",size:"x-small",color:"green",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",icon:"mdi-download",size:"x-large"})])),_:1},8,["onClick"])])),_:1},8,["data"])])])}var bH={props:["selected","filtered","sales"],data(){return{selection:"all"}},computed:{toImport(){const t=this.data.map((t=>({...t}))),e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));return a.map((t=>(delete t["items"],t)))},data(){switch(this.selection){case"selected":return this.selected;case"filtered":return this.filtered;default:return this.sales}}},methods:{handleImport(){0==this.data.length&&this.$alert({title:"No Data To Export",type:"warning"})}}};const vH=(0,m.Z)(bH,[["render",fH]]);var xH=vH,yH={components:{DateFilter:oO,UpsellFilter:hO,DeliveryFilter:kO,ConfirmationFilter:LO,AffectationFilter:IO,AgenteFilter:BO,ProductFilter:sH,ExcelExport:xH},props:["sales","filtered","search","searchId","selected"],data(){return{config:{confirmationFilter:"all",affectationFilter:"all",upsellFilter:"all",deliveryFilter:"all",agenteFilter:"all",productFilter:"all",dateFilter:[null,null]}}},computed:{results(){return lH(this.sales,this.search,this.searchId,this.config)}},watch:{results(t){this.$emit("update:filtered",t)}},mounted(){this.$emit("update:filtered",this.sales)}};const _H=(0,m.Z)(yH,[["render",tO]]);var kH=_H;const CH={class:"mb-5 tw-border-b tw-border-solid tw-pb-5 tw-border-neutral-200"},DH={class:"tw-grid tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2"},SH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},zH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},UH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},qH={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-4"};function PH(t,e,r,a,l,o){const i=(0,s.up)("DashItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",CH,[(0,s._)("div",DH,[(0,s._)("div",SH,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",zH,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",UH,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",qH,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])])])])])}const LH={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},WH={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},AH={class:"tw-text-xl tw-font-bold"},$H={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},EH={class:"tw-text-sm"},TH={class:"rounded-circle tw-w-fit tw-mr-3"};function FH(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Qa.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",LH,[(0,s._)("div",WH,[(0,s._)("p",AH,(0,wt.zw)(isNaN(r.dash.pourcentage)?"0.00":r.dash.pourcentage)+" "+(0,wt.zw)(r.symbol),1),(0,s._)("span",$H,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",EH,(0,wt.zw)(r.dash.title),1)])]),(0,s._)("div",TH,[(0,s.Wm)(ct.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var jH={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const VH=(0,m.Z)(jH,[["render",FH]]);var IH=VH,OH={components:{DashItem:IH},props:["sales"],computed:{newSales(){return oH(this.sales)},confirmedSales(){return iH(this.sales)},deliveredSales(){return wH(this.sales)},shippedSales(){return nH(this.sales)}}};const HH=(0,m.Z)(OH,[["render",PH]]);var MH=HH,RH={components:{SalesTable:bj,AddSale:hV,SalesAnalytics:MH,IndexFilter:kH,NewAddSale:RI},data(){return{localUrl:w,isLoaded:!1,isLoadingReset:!1,showFilters:!1,isButtonDisabled:!0,filteredSales:[],search:"",searchId:"",selected:[],showPopup:!1}},computed:{fetched(){return this.$store.getters["sale/fetched"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))},agentes(){return this.users.filter((t=>2==t.role.id))},sales(){return this.$store.getters["sale/sales"]},cities(){return this.$store.getters["city/cities"]},selectedSales(){return this.sales.filter((t=>this.selected.includes(t.id)))}},methods:{handleSelected(t){this.selected=t,this.selected.length>0?this.isButtonDisabled=!1:this.isButtonDisabled=!0},async getDeliveries(){await ot.deliveries().then((t=>{this.$store.dispatch("user/setDeliveries",t.data.data)}),this.$handleApiError)},async getUsers(){await ot.all().then((t=>{this.$store.dispatch("user/setUsers",t.data.data.users)}),this.$handleApiError)},getSales(){return ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getCities(){if(0==this.cities.length)return ot.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e)}))},handleReset(){this.isLoadingReset=!0,0!=this.selected.length&&ba.resetSale(this.selected).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("sale/resetSales",this.selected),this.selected=[])})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingReset=!1))}},async mounted(){0==this.deliveries.length&&(await this.getDeliveries(),this.getUsers()),this.fetched&&(this.isLoaded=!0),this.fetched&&(this.getProducts(),this.getCities())}};const NH=(0,m.Z)(RH,[["render",GA]]);var YH=NH;const ZH={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},KH={class:"tw-px-3"},BH={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},QH={class:"tw-flex tw-items-center tw-gap-x-3"},JH=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),GH={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},XH=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all orders. ",-1),tM={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},eM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),rM=(0,s._)("span",null,"Create",-1),aM=[eM,rM],sM={class:"tw-overflow-hidden tw-col-span-1"},lM={key:0};function oM(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",ZH,[(0,s._)("section",KH,[(0,s._)("div",BH,[(0,s._)("div",null,[(0,s._)("div",QH,[JH,(0,s._)("span",GH,(0,wt.zw)(l.totalOrders)+" order",1)]),XH]),(0,s._)("div",tM,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},aM)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),"search-by-field":l.searchByField,"onUpdate:searchByField":e[2]||(e[2]=t=>l.searchByField=t),filters:l.filters,"onUpdate:filters":e[3]||(e[3]=t=>l.filters=t),onFilter:e[4]||(e[4]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",sM,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[6]||(e[6]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",lM,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const iM={class:"tw-flex tw-flex-col"},wM={class:"tw-overflow-x-auto"},nM={class:"tw-inline-block tw-min-w-full tw-align-middle"},dM={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},cM={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},uM={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},pM={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},gM={class:"tw-max-w-[25px]"},mM={class:"tw-inline-flex tw-items-center"},hM={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},fM=["checked"],bM=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),vM=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),xM={scope:"col",class:"tw-py-3.5 tw-px-2 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},yM=(0,s._)("span",null,"Created",-1),_M=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),kM=[yM,_M],CM={key:0,scope:"col",class:"tw-py-3.5 tw-px-2 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},DM=(0,s._)("span",null,"Updated",-1),SM=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),zM=[DM,SM],UM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller ",-1),qM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),PM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),LM=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),WM=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),AM=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),$M=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),EM=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),TM=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),FM={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},jM={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},VM=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),IM=[VM],OM={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},HM={colspan:"11"},MM={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},RM=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),NM=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),YM=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),ZM=[NM,YM],KM={class:"tw-mt-6"};function BM(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",iM,[(0,s._)("div",wM,[(0,s._)("div",nM,[(0,s._)("div",dM,[(0,s._)("table",cM,[(0,s._)("thead",uM,[(0,s._)("tr",null,[(0,s._)("th",pM,[(0,s._)("div",gM,[(0,s._)("div",mM,[(0,s._)("label",hM,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,fM),bM])])])]),vM,(0,s._)("th",xM,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},kM)]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",CM,[(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("sortOrder",{name:"updated_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},zM)])):(0,s.kq)("",!0),UM,qM,PM,LM,WM,AM,$M,EM,TM])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",FM,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,w)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[3]||(e[3]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),all:w,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",jM,IM)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",OM,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",HM,[(0,s._)("div",MM,[RM,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},ZM)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",KM,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[5]||(e[5]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const QM={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},JM={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},GM={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},XM={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},tR=["disabled"],eR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),rR=(0,s._)("span",null," previous ",-1),aR=[eR,rR],sR=["disabled"],lR=(0,s._)("span",null," Next ",-1),oR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),iR=[lR,oR];function wR(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",QM,[(0,s._)("div",JM,[(0,s.Uk)(" Page "),(0,s._)("span",GM,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",XM,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},aR,10,tR),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},iR,10,sR)])])])}var nR={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const dR=(0,m.Z)(nR,[["render",wR]]);var cR=dR;const uR={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},pR={class:"tw-max-w-[25px]"},gR={class:"tw-inline-flex tw-items-center"},mR={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},hR=["checked","id"],fR=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),bR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},vR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},xR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},yR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},_R={key:0,class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},CR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},DR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},SR={key:0},zR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},UR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},qR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},PR={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},LR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},WR={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},AR={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$R={class:"tw-space-y-1"},ER={class:"tw-font-bold tw-text-green-500"},TR={class:"tw-block tw-max-w-[150px] tw-truncate"},FR={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},jR={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},VR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},IR={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},OR={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},HR={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function MR(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,wt.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300",r.item.is_paid_by_delivery&&r.item.is_delivered&&" tw-bg-emerald-50 tw-bg-gradient-to-r tw-via-white tw-from-emerald-200/50 tw-to-white",r.item.is_canceled&&" tw-bg-rose-50 tw-bg-gradient-to-r tw-via-white tw-from-rose-200/50 tw-to-white",r.item.is_paid_to_seller&&" tw-bg-cyan-50 tw-bg-gradient-to-r tw-via-white tw-from-cyan-200/50 tw-to-white"]])},[(0,s._)("td",uR,[(0,s._)("div",pR,[(0,s._)("div",gR,[(0,s._)("label",mR,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,hR),fR])])])]),(0,s._)("td",bR,[(0,s._)("div",null,[(0,s._)("h2",vR,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",xR,[(0,s._)("div",null,[(0,s._)("h2",yR,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("HH[:]mm[:]ss")),1)])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",_R,[(0,s._)("div",null,[(0,s._)("h2",kR,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.updated_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.updated_at).format("HH[:]mm[:]ss")),1)])])])):(0,s.kq)("",!0),(0,s._)("td",CR,[(0,s._)("div",null,[(0,s._)("h2",DR,[r.item.seller_user?((0,s.wg)(),(0,s.iD)("span",SR,(0,wt.zw)(r.item.seller_user.username),1)):(0,s.kq)("",!0)])])]),(0,s._)("td",zR,[(0,s._)("div",null,[(0,s._)("h2",UR,(0,wt.zw)(r.item.fullname),1)])]),(0,s._)("td",qR,[(0,s._)("div",null,[(0,s._)("h2",PR,(0,wt.zw)(r.item.city),1)])]),(0,s._)("td",LR,[(0,s._)("div",null,[(0,s._)("h2",WR,(0,wt.zw)(r.item.phone),1)])]),(0,s._)("td",AR,[(0,s._)("div",null,[(0,s._)("ul",$R,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",ER,(0,wt.zw)(t.quantity)+" x ",1),(0,s._)("span",TR,(0,wt.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",FR,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",jR,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",VR,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3)])]),(0,s._)("td",IR,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",OR,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",HR,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const RR={class:"tw-h-full"},NR={class:"tw-flex tw-items-center tw-gap-2"},YR=["href"],ZR={key:0},KR={key:1},BR={key:2};function QR(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),w=(0,s.up)("HistoryPopup"),n=(0,s.up)("HistoryItemPopup");return(0,s.wg)(),(0,s.iD)("div",RR,[(0,s._)("div",NR,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,YR),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>l.historyItem=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-yellow-500/20 hover:tw-bg-yellow-500/10 hover:tw-border-yellow-500/70 tw-duration-300 tw-text-yellow-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-alphabetical-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",ZR,[(0,s.Wm)(i,{onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[4]||(e[4]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",KR,[(0,s.Wm)(w,{visible:l.history,"onUpdate:visible":e[5]||(e[5]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.historyItem?((0,s.wg)(),(0,s.iD)("div",BR,[(0,s.Wm)(n,{visible:l.historyItem,"onUpdate:visible":e[6]||(e[6]=t=>l.historyItem=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const JR={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},GR=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),XR={class:"tw-bg-white tw-p-4"},tN={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},eN={class:"tw-col-span-2 md:tw-col-span-1"},rN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),aN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},sN={class:"tw-col-span-2 md:tw-col-span-1"},lN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),oN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},iN={class:"tw-col-span-2 md:tw-col-span-1"},wN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),nN={class:"tw-relative"},dN=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),cN=["value"],uN=["value"],pN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),gN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mN={class:"tw-col-span-2 md:tw-col-span-1"},hN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),fN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bN={class:"tw-col-span-2"},vN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),xN={class:"tw-relative"},yN=["value"],_N=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),kN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},CN={key:0,class:"md:tw-col-span-1 tw-col-span-2"},DN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),SN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zN={key:1,class:"md:tw-col-span-1 tw-col-span-2"},UN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),qN={class:"tw-col-span-2"},PN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),LN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},WN={class:"md:tw-col-span-1 tw-col-span-2"},AN={class:"tw-col-span-1"},$N=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),EN={class:"tw-relative"},TN=["value"],FN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),jN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},VN={key:2,class:"tw-col-span-1"},IN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),ON={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},HN={class:"md:tw-col-span-1 tw-col-span-2"},MN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),RN={class:"tw-relative"},NN=["value"],YN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ZN={class:"tw-col-span-2"},KN={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},BN={key:0,class:"tw-text-red-400 tw-text-xs"},QN={key:3,class:"tw-col-span-2"},JN={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},GN=["disabled"],XN=(0,s._)("span",null,"Update",-1);function tY(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",JR,[GR,(0,s._)("div",XR,[(0,s._)("div",tN,[(0,s._)("div",eN,[rN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",aN,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",sN,[lN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",oN,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",iN,[wN,(0,s._)("div",nN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[dN,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,cN),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,uN)))),128))],34),[[a.bM,o.itemCopy.city]]),pN]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",gN,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",mN,[hN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",fN,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",bN,[vN,(0,s._)("div",xN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,yN)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),_N]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",kN,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",CN,[DN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",SN,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",zN,[UN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",qN,[PN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",LN,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",WN,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",AN,[$N,(0,s._)("div",EN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.delivery=t),onChange:e[18]||(e[18]=t=>o.errors.delivery=null),class:(0,wt.C_)([[o.errors.delivery&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,TN)))),128))],34),[[a.bM,o.itemCopy.delivery]]),FN]),o.errors.delivery?((0,s.wg)(),(0,s.iD)("label",jN,(0,wt.zw)(o.errors.delivery),1)):(0,s.kq)("",!0)]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",VN,[IN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.parent_id=t),onInput:e[20]||(e[20]=t=>o.errors.parent_id=null),type:"text",class:(0,wt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",ON,(0,wt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",HN,[MN,(0,s._)("div",RN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[21]||(e[21]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,NN)))),128))],512),[[a.bM,o.itemCopy.upsell]]),YN])]),(0,s._)("div",ZN,[(0,s._)("label",KN,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",BN," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[22]||(e[22]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",QN,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",JN,[(0,s._)("button",{onClick:e[23]||(e[23]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[24]||(e[24]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),XN],8,GN)])])])),_:1},8,["visible","onCancel"])])}const eY=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.parent_id||"refund"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!rY(t,e.items):(t.errors.parent_id="Add Parent id !",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),rY=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},aY=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},sY=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},lY=(t,e)=>{t.isLoading=!0,t.errors={},Iu.update(e.id,e).then((e=>aY(t,e.data))).catch((e=>sY(t,e.response.data))).finally((()=>t.isLoading=!1))},oY={key:0},iY=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),wY={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},nY=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),dY=(0,s._)("span",null,"Add Item",-1),cY=[nY,dY],uY={key:1,class:"md:tw-col-span-12 tw-col-span-12"},pY={class:"tw-max-w-full tw-overflow-auto"},gY={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},mY={class:"tw-bg-gray-50"},hY={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},fY={key:0},bY={colspan:"6"},vY={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},xY=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),yY=(0,s._)("span",null,"Add Item",-1),_Y=[xY,yY],kY=(0,s._)("td",{colspan:"4"},null,-1),CY={colspan:"1",class:"tw-p-2"},DY={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},SY={key:1},zY={colspan:"5"},UY={class:"tw-scale-75 tw-p-5"};function qY(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",oY,[iY,(0,s._)("div",wY,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},cY)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",uY,[(0,s._)("div",pY,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",gY,[(0,s._)("tr",mY,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",hY,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",fY,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",bY,[(0,s._)("div",vY,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},_Y)])])]),(0,s._)("tr",null,[kY,(0,s._)("td",CY,[(0,s._)("div",DY,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",SY,[(0,s._)("tr",null,[(0,s._)("td",zY,[(0,s._)("div",UY,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const PY={class:"tw-p-2"},LY={class:"tw-p-2"},WY={key:0,class:"tw-relative"},AY=["value"],$Y=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),EY=["value"],TY={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},FY=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),jY=[FY],VY={class:"tw-p-2"},IY=["value"],OY={class:"tw-p-2"},HY=["value"],MY={class:"tw-flex tw-justify-center"};function RY(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("div",PY,[((0,s.wg)(),(0,s.j4)(i,{"append-to-body":"",reduce:t=>t.id,key:r.item.id,"onOption:selected":e[0]||(e[0]=t=>o.handleProductChange(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Product",modelValue:o.product,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),options:o.allProducts,label:"name"},null,8,["reduce","modelValue","options"])),(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",LY,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",WY,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[3]||(e[3]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[$Y,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,EY)))),128))],40,AY)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",TY,jY)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",VY,[(0,s._)("input",{onInput:e[4]||(e[4]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,IY)])]),(0,s._)("td",null,[(0,s._)("div",OY,[(0,s._)("input",{onInput:e[5]||(e[5]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,HY)])]),(0,s._)("td",null,[(0,s._)("div",MY,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var NY=r(3636),YY={components:{"vue-select":NY.Z},props:{item:{required:!0},products:{required:!0}},computed:{allProducts(){return[{id:0,name:"Choose Product"},...this.products]},product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t,e){const r=1===e?parseInt(t.target.value):t.id;if(!r)return!1;const a=this.products.find((t=>t.id==r)),s={...this.item,product_id:r,product:a,product_ref:a.ref,product_variation_id:a.variations.length>0?a.variations[0].id:null,product_variation:a.variations.length>0?a.variations[0]:null};this.$emit("update",s)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const ZY=(0,m.Z)(YY,[["render",RY]]);var KY=ZY,BY={components:{ItemRow:KY},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const QY=(0,m.Z)(BY,[["render",qY]]);var JY=QY;const GY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),XY={key:0,class:"tw-relative"},tZ=["value","disabled"],eZ=(0,s._)("option",{value:""},"Choose a Delivery",-1),rZ=["value"],aZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),sZ={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lZ={key:2,class:"tw-relative"},oZ={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},iZ=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),wZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function nZ(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[GY,l.fetched?((0,s.wg)(),(0,s.iD)("div",XY,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,wt.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[eZ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,rZ)))),128))],42,tZ),aZ])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",sZ,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",lZ,[(0,s._)("div",oZ,[(0,s.Wm)(i)]),iZ,wZ]))])}var dZ={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const cZ=(0,m.Z)(dZ,[["render",nZ]]);var uZ=cZ;const pZ={key:0},gZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),mZ={class:"md:tw-col-span-12 tw-col-span-12"},hZ={class:"tw-max-w-full tw-overflow-auto"},fZ={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},bZ=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),vZ={class:"tw-px-3 tw-py-2"},xZ={class:"tw-px-3 tw-py-2"},yZ={class:"tw-px-3 tw-py-2"},_Z={class:"tw-px-3 tw-py-2"},kZ={class:"tw-max-w-[250px] tw-text-sm"};function CZ(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",pZ,[gZ,(0,s._)("div",mZ,[(0,s._)("div",hZ,[(0,s._)("table",fZ,[bZ,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",vZ,(0,wt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",xZ,(0,wt.zw)(t.quantity),1),(0,s._)("td",yZ,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",_Z,[(0,s._)("p",kZ,(0,wt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var DZ={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const SZ=(0,m.Z)(DZ,[["render",CZ]]);var zZ=SZ,UZ={components:{OrderItems:JY,OrderAffectation:uZ,ProductOffersTable:zZ},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:jn,deliveryStatus:Hn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=eY(this,this.itemCopy);if(!t)return!1;lY(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const qZ=(0,m.Z)(UZ,[["render",tY]]);var PZ=qZ;const LZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},WZ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),AZ={class:"tw-bg-white tw-p-4"},$Z={key:0},EZ={key:1,class:"tw-p-5"},TZ={class:"d-flex tw-flex-col justify-space-between flex-grow-1"},FZ={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},jZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},VZ={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},IZ={class:"d-flextw-flex-col justify-space-between flex-grow-1"},OZ={class:"tw-flex tw-flex-col tw-my-2"},HZ=(0,s._)("div",null,"New Order Created",-1),MZ={class:"tw-flex tw-flex-col"},RZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},NZ={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},YZ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function ZZ(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",LZ,[WZ,(0,s._)("div",AZ,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$Z,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",EZ,[(0,s.Wm)($E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(EE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",TZ,[(0,s._)("div",FZ,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.type in l.keys?l.keys[t.type]:t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(!t.historique&&["affectation","delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",jZ,[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,wt.zw)(t.users.firstname)+" "+(0,wt.zw)(t.users.lastname),1)]),(0,s._)("div",VZ,[(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(EE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",IZ,[(0,s._)("div",OZ,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),HZ]),(0,s._)("div",MZ,[(0,s._)("div",RZ,[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,wt.zw)(r.item.created_by.firstname)+" "+(0,wt.zw)(r.item.created_by.lastname),1)]),(0,s._)("div",NZ,[(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",YZ,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var KZ={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1,keys:{in_warehouse:"Warehouse State"}}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ba.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const BZ=(0,m.Z)(KZ,[["render",ZZ]]);var QZ=BZ;const JZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},GZ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Item History ",-1),XZ={class:"tw-bg-white tw-p-4"},tK={key:0},eK={key:1,class:"tw-p-5"},rK={class:"d-flextw-flex-col justify-space-between flex-grow-1"},aK={key:0,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},sK={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},lK={key:2,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},oK={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},iK={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},wK={class:"d-flextw-flex-col justify-space-between flex-grow-1"},nK={class:"tw-flex tw-flex-col tw-my-2"},dK=(0,s._)("div",null,"No Changes Happend Yet",-1),cK={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},uK={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function pK(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",JZ,[GZ,(0,s._)("div",XZ,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",tK,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",eK,[(0,s.Wm)($E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(EE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",rK,[t.old_product.id!=t.new_product.id?((0,s.wg)(),(0,s.iD)("div",aK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"purple",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Product ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.old_product.name),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.new_product.name),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_quantity!=t.new_quantity?((0,s.wg)(),(0,s.iD)("div",sK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"blue",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Quantity ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.old_quantity),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.new_quantity),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_price!=t.new_price?((0,s.wg)(),(0,s.iD)("div",lK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"#118C4F",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Price ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.old_price),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.new_price),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",oK,[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,wt.zw)(t.users.firstname)+" "+(0,wt.zw)(t.users.lastname),1)]),(0,s._)("div",iK,[(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(EE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",wK,[(0,s._)("div",nK,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),dK]),(0,s._)("div",cK,[(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",uK,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var gK={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getItemHistory(){this.isLoaded=!1,ba.itemHistory(this.item.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={old_product:"red",old_price:"green",old_quantity:"blue"};return["old_product","old_price","old_quantity"].includes(t)?e[t]:"primary-color"}},mounted(){this.getItemHistory()}};const mK=(0,m.Z)(gK,[["render",pK]]);var hK=mK,fK={components:{UpdatePopup:PZ,HistoryPopup:QZ,HistoryItemPopup:hK},props:{item:{required:!0}},data(){return{update:!1,history:!1,historyItem:!1,isLoading:!1}},methods:{handle(){}}};const bK=(0,m.Z)(fK,[["render",QR]]);var vK=bK;const xK={key:0},yK={key:0,class:"tw-relative tw-inline-block tw-text-left"},_K={key:0},kK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),CK=[kK],DK={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},SK={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},zK=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),UK=[zK],qK={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},PK={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},LK={class:"tw-py-1",role:"none"},WK=["onClick"],AK={key:1},$K={class:"tw-p-2 tw-scale-75"};function EK(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",xK,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",yK,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",_K,CK)):(0,s.kq)("",!0),(0,s._)("p",DK,(0,wt.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",SK,UK)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",qK,(0,wt.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(It.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",PK,[(0,s._)("div",LK,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],8,WK)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",AK,[(0,s._)("div",$K,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var TK={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};lY(this,e,!1)}}};const FK=(0,m.Z)(TK,[["render",EK]]);var jK=FK,VK={components:{TableActions:vK,TableRowAffectation:jK},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ze()}},computed:{confirmation(){return jn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Hn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const IK=(0,m.Z)(VK,[["render",MR]]);var OK=IK,HK={components:{TablePaginationNoNums:cR,TableRow:OK},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const MK=(0,m.Z)(HK,[["render",BM]]);var RK=MK;const NK={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},YK={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},ZK=["disabled"],KK=["disabled"],BK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),QK=[BK],JK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),GK=[JK],XK=["disabled"],tB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),eB=[tB],rB=["disabled"],aB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),sB=[aB],lB=["disabled"],oB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),iB=[oB],wB={class:"tw-relative"},nB=["value"],dB=(0,s._)("option",{value:5},"5",-1),cB=(0,s._)("option",{value:10},"10",-1),uB=(0,s._)("option",{value:20},"20",-1),pB=(0,s._)("option",{value:50},"50",-1),gB=(0,s._)("option",{value:100},"100",-1),mB=(0,s._)("option",{value:250},"250",-1),hB=(0,s._)("option",{value:500},"500",-1),fB=[dB,cB,uB,pB,gB,mB,hB],bB=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),vB={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},xB=["value"],yB=(0,s._)("option",{value:"all"},"All",-1),_B=(0,s._)("option",{value:"id"},"ID",-1),kB=[yB,_B],CB=["value"],DB={class:"tw-overflow-hidden tw-col-span-1"},SB={class:"tw-overflow-hidden tw-col-span-1"},zB={class:"tw-overflow-hidden tw-col-span-1"};function UB(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",NK,[(0,s._)("div",YK,[(0,s._)("button",{class:(0,wt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,ZK),(0,s._)("button",{title:"Orders Created Today",class:(0,wt.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,KK),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,wt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},QK,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,wt.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},GK,2)):(0,s.kq)("",!0),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[4]||(e[4]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,wt.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},eB,10,XK),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},sB,8,rB),(0,s._)("button",{title:"Show Export Options",onClick:e[6]||(e[6]=t=>o.showExport=!o.showExport),class:(0,wt.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},iB,10,lB),(0,s._)("div",wB,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},fB,40,nB),bB])]),(0,s._)("div",vB,[(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},kB,40,xB),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[9]||(e[9]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[10]||(e[10]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,CB),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",DB,[(0,s.Wm)(w,{onClear:e[12]||(e[12]=e=>t.$emit("clear")),onFilter:e[13]||(e[13]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[14]||(e[14]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,wt.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",SB,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",zB,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const qB={class:"tw-mb-4"},PB={class:"tw-grid tw-grid-cols-12 tw-gap-4"},LB={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},WB={class:"tw-flex tw-items-center tw-justify-between"},AB={class:"tw-text-xl tw-font-bold tw-text-gray-900"},$B={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function EB(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",qB,[(0,s._)("div",PB,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",LB,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",WB,[(0,s._)("span",AB,(0,wt.zw)(t.total),1),(0,s._)("span",$B,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var TB={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const FB=(0,m.Z)(TB,[["render",EB]]);var jB=FB;const VB={class:"tw-mb-4"},IB={class:"tw-flex tw-items-center tw-gap-2"},OB=["disabled"],HB=(0,s._)("span",null,"Select Filtered",-1),MB={class:"tw-flex tw-justify-end"},RB=["disabled"];function NB(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",VB,[(0,s._)("div",IB,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),HB],8,OB)]),(0,s._)("div",MB,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,wt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,RB)])])}var YB={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Iu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const ZB=(0,m.Z)(YB,[["render",NB]]);var KB=ZB;const BB={class:"tw-mb-4"},QB={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},JB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},GB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),XB=["value"],tQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},eQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),rQ=["value"],aQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),lQ=["value"],oQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},iQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),wQ=["value"],nQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),cQ=["value"],uQ=(0,s._)("option",{value:"all",selected:""},"All",-1),pQ=["value"],gQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},mQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),hQ=["value"],fQ=(0,s._)("option",{value:"all",selected:""},"All",-1),bQ=["value"],vQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),yQ=["value"],_Q=(0,s._)("option",{value:"all",selected:""},"All",-1),kQ=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),CQ=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),DQ=[_Q,kQ,CQ],SQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Warehouse state",-1),UQ=["value"],qQ=(0,s._)("option",{value:"all",selected:""},"All",-1),PQ=(0,s._)("option",{value:"in",selected:""},"In",-1),LQ=(0,s._)("option",{value:"out",selected:""},"Out",-1),WQ=[qQ,PQ,LQ],AQ={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},$Q=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),EQ=(0,s._)("span",null,"Clear",-1),TQ=[$Q,EQ],FQ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),jQ=(0,s._)("span",null,"Filter",-1),VQ=[FQ,jQ];function IQ(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),w=(0,s.up)("AgentFilter"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",BB,[(0,s._)("div",QB,[(0,s.kq)("",!0),(0,s._)("div",JB,[GB,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,XB)]),(0,s._)("div",tQ,[eQ,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,rQ)]),(0,s._)("div",aQ,[sQ,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,lQ)]),(0,s._)("div",oQ,[iQ,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,wQ)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",nQ,[dQ,(0,s._)("select",{value:r.filters.confirmation,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[uQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,wt.zw)(t.name),11,pQ)))),128))],40,cQ)]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",gQ,[mQ,(0,s._)("select",{onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[fQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,wt.zw)(t.name),11,bQ)))),128))],40,hQ)]),(0,s._)("div",vQ,[xQ,(0,s._)("select",{value:r.filters.upsell,onChange:e[11]||(e[11]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},DQ,40,yQ)]),(0,s._)("div",SQ,[zQ,(0,s._)("select",{value:r.filters.in_warehouse,onChange:e[12]||(e[12]=e=>t.$emit("update",{...r.filters,in_warehouse:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},WQ,40,UQ)]),(0,s._)("div",AQ,[(0,s._)("button",{onClick:e[13]||(e[13]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},TQ),(0,s._)("button",{onClick:e[14]||(e[14]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},VQ)])])])}const OQ={class:"tw-text-sm tw-text-neutral-600"},HQ=["onClick"];function MQ(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",OQ,(0,wt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,HQ)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var RQ={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const NQ=(0,m.Z)(RQ,[["render",MQ]]);var YQ=NQ;const ZQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},KQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),BQ=["value"],QQ=(0,s._)("option",{value:"all"},"All",-1),JQ=(0,s._)("option",{value:""},"No Delivery",-1),GQ=["value"];function XQ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",ZQ,[KQ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[QQ,JQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,GQ)))),128))],40,BQ)])}var tJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const eJ=(0,m.Z)(tJ,[["render",XQ]]);var rJ=eJ;const aJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),lJ=["value"],oJ=(0,s._)("option",{value:"all"},"All",-1),iJ=(0,s._)("option",{value:""},"No Agent",-1),wJ=["value"];function nJ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",aJ,[sJ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[oJ,iJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,wJ)))),128))],40,lJ)])}var dJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const cJ=(0,m.Z)(dJ,[["render",nJ]]);var uJ=cJ;const pJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),mJ=["value"],hJ=(0,s._)("option",{value:"all"},"All",-1),fJ=["value"];function bJ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",pJ,[gJ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[hJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,fJ)))),128))],40,mJ)])}var vJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const xJ=(0,m.Z)(vJ,[["render",bJ]]);var yJ=xJ;const _J={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function CJ(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",_J,[kJ,(0,s.Wm)(i,{"append-to-body":"",dense:"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var DJ={components:{"vue-select":NY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const SJ=(0,m.Z)(DJ,[["render",CJ]]);var zJ=SJ,UJ={components:{DateFilter:YQ,AffectationFilter:rJ,AgentFilter:uJ,ProductFilter:zJ,SellerFilter:yJ},props:{filters:{required:!0,default:{}}},data(){return{confirmations:jn,deliveries:Hn,dateFilter:["",""]}}};const qJ=(0,m.Z)(UJ,[["render",IQ]]);var PJ=qJ,LJ={components:{IndexStatistics:jB,FiltersWrapper:PJ,IndexExport:KB},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ze()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const WJ=(0,m.Z)(LJ,[["render",UB]]);var AJ=WJ;const $J={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},EJ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),TJ={class:"tw-bg-white tw-p-4"},FJ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},jJ={class:"tw-col-span-2 md:tw-col-span-1"},VJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),IJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},OJ={class:"tw-col-span-2 md:tw-col-span-1"},HJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),MJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},RJ={class:"tw-col-span-2 md:tw-col-span-1"},NJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),YJ={class:"tw-relative"},ZJ=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),KJ=["value"],BJ=["value"],QJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),JJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},GJ={class:"tw-col-span-2 md:tw-col-span-1"},XJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),tG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},eG={class:"tw-col-span-2"},rG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),aG={class:"tw-relative"},sG=["value"],lG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),oG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},iG={key:0,class:"md:tw-col-span-1 tw-col-span-2"},wG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),nG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dG={key:1,class:"md:tw-col-span-1 tw-col-span-2"},cG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),uG={class:"tw-col-span-2"},pG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),gG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mG={class:"md:tw-col-span-1 tw-col-span-2"},hG={key:2,class:"tw-col-span-1"},fG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),bG={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},vG={class:"md:tw-col-span-1 tw-col-span-2"},xG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),yG={class:"tw-relative"},_G=["value"],kG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),CG={class:"tw-col-span-2"},DG={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},SG={key:0,class:"tw-text-red-400 tw-text-xs"},zG={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},UG=["disabled"],qG=(0,s._)("span",null,"Create",-1);function PG(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",$J,[EJ,(0,s._)("div",TJ,[(0,s._)("div",FJ,[(0,s._)("div",jJ,[VJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",IJ,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",OJ,[HJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",MJ,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",RJ,[NJ,(0,s._)("div",YJ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[ZJ,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,KJ),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,BJ)))),128))],34),[[a.bM,o.itemCopy.city]]),QJ]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",JJ,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",GJ,[XJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",tG,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",eG,[rG,(0,s._)("div",aG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,sG)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),lG]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",oG,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",iG,[wG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",nG,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",dG,[cG,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",uG,[pG,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",gG,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",mG,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",hG,[fG,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,wt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",bG,(0,wt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",vG,[xG,(0,s._)("div",yG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,_G)))),128))],512),[[a.bM,o.itemCopy.upsell]]),kG])]),(0,s._)("div",CG,[(0,s._)("label",DG,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",SG," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",zG,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),qG],8,UG)])])])),_:1},8,["visible","onCancel"])])}const LG=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},WG=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},AG=(t,e)=>{t.isLoading=!0,t.errors={},Iu.create(e).then((e=>LG(t,e.data))).catch((e=>WG(t,e.response.data))).finally((()=>t.isLoading=!1))};var $G={components:{OrderItems:JY,OrderAffectation:uZ},props:{visible:{required:!0}},data(){return{confirmations:jn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=eY(this,this.itemCopy);if(!t)return!1;AG(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const EG=(0,m.Z)($G,[["render",PG]]);var TG=EG;const FG={class:"tw-mb-4"},jG={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},VG={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},IG={class:"tw-flex tw-items-center tw-gap-2"},OG={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},HG=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),MG={class:"tw-flex tw-items-center tw-gap-2"},RG=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),NG=(0,s._)("span",null," Clear Selection ",-1),YG=[RG,NG],ZG=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),KG=(0,s._)("span",null," Actions ",-1),BG=[ZG,KG],QG={key:0};function JG(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",FG,[(0,s._)("div",jG,[(0,s._)("div",VG,[(0,s._)("div",IG,[(0,s._)("div",OG,(0,wt.zw)(r.selected.length),1),HG]),(0,s._)("div",MG,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},YG),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},BG)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",QG,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const GG={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},XG={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},tX=(0,s._)("span",null,"Quick Actions",-1),eX={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},rX={class:"tw-bg-white tw-p-4"},aX={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},sX={class:"tw-col-span-2 md:tw-col-span-1"},lX={key:0,class:"tw-col-span-2 md:tw-col-span-1"},oX={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},iX=(0,s._)("span",null,"Apply",-1);function wX(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",GG,[(0,s._)("div",XG,[tX,(0,s._)("span",eX,(0,wt.zw)(r.selected.length),1)]),(0,s._)("div",rX,[(0,s._)("div",aX,[(0,s._)("div",sX,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",lX,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",oX,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),iX])])])])),_:1},8,["visible","closeable","onCancel"])])}const nX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),dX={class:"tw-relative"},cX=["value"],uX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function pX(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[nX,(0,s._)("div",dX,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,cX)))),128))],512),[[a.bM,i.vaction]]),uX]),(0,s.kq)("",!0)])}var gX={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const mX=(0,m.Z)(gX,[["render",pX]]);var hX=mX;const fX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),bX={class:"tw-relative"},vX=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),xX=["value"],yX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function _X(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[fX,(0,s._)("div",bX,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[vX,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,xX)))),128))],512),[[a.bM,i.vvalue]]),yX]),(0,s.kq)("",!0)])}var kX={props:{value:{required:!0}},data(){return{statuses:Hn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const CX=(0,m.Z)(kX,[["render",_X]]);var DX=CX;class SX{async execute(t){return await E.getCookie(),A.post("api/v1/bulk/execute",t)}}var zX=new SX,UX=(t,e)=>{t.isLoading=!0,zX.execute(e).then((e=>qX(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const qX=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var PX={components:{BulkSelectAction:hX,BulkDeliveryAction:DX},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};UX(this,t)}}};const LX=(0,m.Z)(PX,[["render",wX]]);var WX=LX,AX={components:{BulkPopup:WX},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const $X=(0,m.Z)(AX,[["render",JG]]);var EX=$X,TX={components:{IndexTable:RK,IndexFilters:AJ,CreatePopup:TG,BulkActions:EX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,Iu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(t){this.sort_order="asc"==this.sort_order?"desc":"asc",this.sort_by=t.name,this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const FX=(0,m.Z)(TX,[["render",oM]]);var jX=FX;const VX={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},IX={class:"tw-px-3"},OX={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},HX={class:"tw-flex tw-items-center tw-gap-x-3"},MX=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Dispatched Orders ",-1),RX={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},NX=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of dispatched orders. ",-1),YX={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},ZX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),KX=(0,s._)("span",null,"Create",-1),BX=[ZX,KX],QX={class:"tw-overflow-hidden tw-col-span-1"},JX={key:0};function GX(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",VX,[(0,s._)("section",IX,[(0,s._)("div",OX,[(0,s._)("div",null,[(0,s._)("div",HX,[MX,(0,s._)("span",RX,(0,wt.zw)(l.totalOrders)+" order",1)]),NX]),(0,s._)("div",YX,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},BX)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",QX,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",JX,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var XX={components:{IndexTable:RK,IndexFilters:AJ,CreatePopup:TG,BulkActions:EX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Iu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const t0=(0,m.Z)(XX,[["render",GX]]);var e0=t0;const r0={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},a0={class:"tw-px-3"},s0={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},l0={class:"tw-flex tw-items-center tw-gap-x-3"},o0=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Shipped Orders ",-1),i0={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},w0=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of shipped orders. ",-1),n0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},d0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),c0=(0,s._)("span",null,"Create",-1),u0=[d0,c0],p0={class:"tw-overflow-hidden tw-col-span-1"},g0={key:0};function m0(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",r0,[(0,s._)("section",a0,[(0,s._)("div",s0,[(0,s._)("div",null,[(0,s._)("div",l0,[o0,(0,s._)("span",i0,(0,wt.zw)(l.totalOrders)+" order",1)]),w0]),(0,s._)("div",n0,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},u0)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",p0,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",g0,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var h0={components:{IndexTable:RK,IndexFilters:AJ,CreatePopup:TG,BulkActions:EX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Iu.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const f0=(0,m.Z)(h0,[["render",m0]]);var b0=f0;const v0={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},x0={class:"tw-px-3"},y0={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},_0={class:"tw-flex tw-items-center tw-gap-x-3"},k0=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),C0={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},D0=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),S0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},z0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),U0=(0,s._)("span",null,"Create",-1),q0=[z0,U0],P0={class:"tw-overflow-hidden tw-col-span-1"},L0={key:0};function W0(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("BulkActions"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",v0,[(0,s._)("section",x0,[(0,s._)("div",y0,[(0,s._)("div",null,[(0,s._)("div",_0,[k0,(0,s._)("span",C0,(0,wt.zw)(l.totalOrders)+" order",1)]),D0]),(0,s._)("div",S0,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},q0)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",P0,[(0,s.Wm)(w,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",L0,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const A0={class:"tw-flex tw-flex-col"},$0={class:"tw-overflow-x-auto"},E0={class:"tw-inline-block tw-min-w-full tw-align-middle"},T0={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},F0={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},j0={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},V0={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},I0={class:"tw-max-w-[25px]"},O0={class:"tw-inline-flex tw-items-center"},H0={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},M0=["checked"],R0=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),N0=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Y0={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Z0=(0,s._)("span",null,"Created",-1),K0=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),B0=[Z0,K0],Q0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),J0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),G0=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),X0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),t1=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),e1=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),r1=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),a1=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),s1={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},l1={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},o1=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),i1=[o1],w1={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},n1={colspan:"11"},d1={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},c1=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),u1=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),p1=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),g1=[u1,p1],m1={class:"tw-mt-6"};function h1(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",A0,[(0,s._)("div",$0,[(0,s._)("div",E0,[(0,s._)("div",T0,[(0,s._)("table",F0,[(0,s._)("thead",j0,[(0,s._)("tr",null,[(0,s._)("th",V0,[(0,s._)("div",I0,[(0,s._)("div",O0,[(0,s._)("label",H0,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,M0),R0])])])]),N0,(0,s._)("th",Y0,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},B0)]),Q0,J0,G0,X0,t1,e1,r1,a1])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",s1,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,w)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:w,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",l1,i1)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",w1,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",n1,[(0,s._)("div",d1,[c1,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},g1)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",m1,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const f1={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},b1={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},v1={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},x1={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},y1=["disabled"],_1=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),k1=(0,s._)("span",null," previous ",-1),C1=[_1,k1],D1=["disabled"],S1=(0,s._)("span",null," Next ",-1),z1=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),U1=[S1,z1];function q1(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",f1,[(0,s._)("div",b1,[(0,s.Uk)(" Page "),(0,s._)("span",v1,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",x1,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},C1,10,y1),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},U1,10,D1)])])])}var P1={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const L1=(0,m.Z)(P1,[["render",q1]]);var W1=L1;const A1={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$1={class:"tw-max-w-[25px]"},E1={class:"tw-inline-flex tw-items-center"},T1={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},F1=["checked","id"],j1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),V1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},I1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},O1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},H1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},M1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},R1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},N1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Y1={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Z1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},K1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},B1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Q1={class:"tw-space-y-1"},J1={class:"tw-font-bold tw-text-green-500"},G1={class:"tw-block tw-max-w-[150px] tw-truncate"},X1={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},t2={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},e2={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},r2={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},a2={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},s2={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function l2(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,wt.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",A1,[(0,s._)("div",$1,[(0,s._)("div",E1,[(0,s._)("label",T1,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,F1),j1])])])]),(0,s._)("td",V1,[(0,s._)("div",null,[(0,s._)("h2",I1,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",O1,[(0,s._)("div",null,[(0,s._)("h2",H1,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",M1,[(0,s._)("div",null,[(0,s._)("h2",R1,(0,wt.zw)(r.item.fullname),1)])]),(0,s._)("td",N1,[(0,s._)("div",null,[(0,s._)("h2",Y1,(0,wt.zw)(r.item.city),1)])]),(0,s._)("td",Z1,[(0,s._)("div",null,[(0,s._)("h2",K1,(0,wt.zw)(r.item.phone),1)])]),(0,s._)("td",B1,[(0,s._)("div",null,[(0,s._)("ul",Q1,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",J1,(0,wt.zw)(t.quantity)+" x ",1),(0,s._)("span",G1,(0,wt.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",X1,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",t2,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",e2,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3)])]),(0,s._)("td",r2,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",a2,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",s2,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const o2={class:"tw-h-full"},i2={class:"tw-flex tw-items-center tw-gap-2"},w2=["href"],n2={key:0};function d2(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",o2,[(0,s._)("div",i2,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,w2),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",n2,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[2]||(e[2]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const c2={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},u2=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),p2={class:"tw-bg-white tw-p-4"},g2={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},m2={class:"tw-col-span-2 md:tw-col-span-1"},h2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),f2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},b2={class:"tw-col-span-2 md:tw-col-span-1"},v2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),x2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},y2={class:"tw-col-span-2 md:tw-col-span-1"},_2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),k2={class:"tw-relative"},C2=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),D2=["value"],S2=["value"],z2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),U2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},q2={class:"tw-col-span-2 md:tw-col-span-1"},P2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),L2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},W2={class:"tw-col-span-2"},A2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),$2={class:"tw-relative"},E2=["value"],T2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),F2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},j2={key:0,class:"md:tw-col-span-1 tw-col-span-2"},V2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),I2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},O2={key:1,class:"md:tw-col-span-1 tw-col-span-2"},H2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),M2={class:"tw-col-span-2"},R2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),N2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Y2={class:"md:tw-col-span-1 tw-col-span-2"},Z2={class:"md:tw-col-span-1 tw-col-span-2"},K2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),B2={class:"tw-relative"},Q2=["value"],J2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),G2={class:"tw-col-span-2"},X2={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},t5={key:0,class:"tw-text-red-400 tw-text-xs"},e5={key:3,class:"tw-col-span-2"},r5={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},a5=["disabled"],s5=(0,s._)("span",null,"Update",-1);function l5(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",c2,[u2,(0,s._)("div",p2,[(0,s._)("div",g2,[(0,s._)("div",m2,[h2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",f2,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",b2,[v2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",x2,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",y2,[_2,(0,s._)("div",k2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[C2,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,D2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,S2)))),128))],34),[[a.bM,o.itemCopy.city]]),z2]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",U2,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",q2,[P2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",L2,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",W2,[A2,(0,s._)("div",$2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,wt.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,E2)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),T2]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",F2,(0,wt.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",j2,[V2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,wt.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",I2,(0,wt.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",O2,[H2,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",M2,[R2,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",N2,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",Y2,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",Z2,[K2,(0,s._)("div",B2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,Q2)))),128))],512),[[a.bM,o.itemCopy.upsell]]),J2])]),(0,s._)("div",G2,[(0,s._)("label",X2,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",t5," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",e5,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",r5,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),s5],8,a5)])])])),_:1},8,["visible","onCancel"])])}const o5=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!i5(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),i5=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},w5=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},n5=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},d5=(t,e)=>{t.isLoading=!0,t.errors={},Iu.update(e.id,e).then((e=>w5(t,e.data))).catch((e=>n5(t,e.response.data))).finally((()=>t.isLoading=!1))},c5={key:0},u5=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),p5={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},g5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),m5=(0,s._)("span",null,"Add Item",-1),h5=[g5,m5],f5={key:1,class:"md:tw-col-span-12 tw-col-span-12"},b5={class:"tw-max-w-full tw-overflow-auto"},v5={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},x5={class:"tw-bg-gray-50"},y5={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},_5={key:0},k5={colspan:"6"},C5={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},D5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),S5=(0,s._)("span",null,"Add Item",-1),z5=[D5,S5],U5=(0,s._)("td",{colspan:"4"},null,-1),q5=(0,s._)("td",null,null,-1),P5={colspan:"1",class:"tw-p-2"},L5={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},W5={key:1},A5={colspan:"6"},$5={class:"tw-scale-75 tw-p-5"};function E5(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",c5,[u5,(0,s._)("div",p5,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},h5)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",f5,[(0,s._)("div",b5,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",v5,[(0,s._)("tr",x5,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",y5,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",_5,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",k5,[(0,s._)("div",C5,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},z5)])])]),(0,s._)("tr",null,[U5,q5,(0,s._)("td",P5,[(0,s._)("div",L5,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",W5,[(0,s._)("tr",null,[(0,s._)("td",A5,[(0,s._)("div",$5,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const T5=(0,s._)("td",null,null,-1),F5={class:"tw-p-2"},j5={class:"tw-relative"},V5=["value"],I5=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),O5=["value"],H5=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),M5={class:"tw-p-2"},R5={key:0,class:"tw-relative"},N5=["value"],Y5=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),Z5=["value"],K5={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},B5=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),Q5=[B5],J5={class:"tw-p-2"},G5=["value"],X5={class:"tw-p-2"},t4=["value"],e4={class:"tw-flex tw-justify-center"};function r4(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[T5,(0,s._)("td",null,[(0,s._)("div",F5,[(0,s._)("div",j5,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[I5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,O5)))),128))],40,V5),H5])])]),(0,s._)("td",null,[(0,s._)("div",M5,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",R5,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Y5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,Z5)))),128))],40,N5)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",K5,Q5)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",J5,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,G5)])]),(0,s._)("td",null,[(0,s._)("div",X5,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,t4)])]),(0,s._)("td",null,[(0,s._)("div",e4,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var a4={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const s4=(0,m.Z)(a4,[["render",r4]]);var l4=s4,o4={components:{ItemRow:l4},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const i4=(0,m.Z)(o4,[["render",E5]]);var w4=i4;const n4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),d4={key:0,class:"tw-relative"},c4=["value","disabled"],u4=(0,s._)("option",{value:""},"Choose a Delivery",-1),p4=["value"],g4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),m4={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},h4={key:2,class:"tw-relative"},f4={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},b4=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),v4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function x4(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[n4,l.fetched?((0,s.wg)(),(0,s.iD)("div",d4,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,wt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[u4,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,p4)))),128))],42,c4),g4])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",m4,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",h4,[(0,s._)("div",f4,[(0,s.Wm)(i)]),b4,v4]))])}var y4={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const _4=(0,m.Z)(y4,[["render",x4]]);var k4=_4;const C4={key:0},D4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),S4={class:"md:tw-col-span-12 tw-col-span-12"},z4={class:"tw-max-w-full tw-overflow-auto"},U4={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},q4=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),P4={class:"tw-px-3 tw-py-2"},L4={class:"tw-px-3 tw-py-2"},W4={class:"tw-px-3 tw-py-2"},A4={class:"tw-px-3 tw-py-2"},$4={class:"tw-max-w-[250px] tw-text-sm"};function E4(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",C4,[D4,(0,s._)("div",S4,[(0,s._)("div",z4,[(0,s._)("table",U4,[q4,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",P4,(0,wt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",L4,(0,wt.zw)(t.quantity),1),(0,s._)("td",W4,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",A4,[(0,s._)("p",$4,(0,wt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var T4={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const F4=(0,m.Z)(T4,[["render",E4]]);var j4=F4,V4={components:{OrderItems:w4,OrderAffectation:k4,ProductOffersTable:j4},props:{visible:{required:!0},item:{required:!0}},data(){return{followup_confirmations:In,deliveryStatus:Hn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=o5(this,this.itemCopy);if(!t)return!1;d5(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const I4=(0,m.Z)(V4,[["render",l5]]);var O4=I4,H4={components:{UpdatePopup:O4},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const M4=(0,m.Z)(H4,[["render",d2]]);var R4=M4;const N4={key:0},Y4={key:0,class:"tw-relative tw-inline-block tw-text-left"},Z4={key:0},K4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),B4=[K4],Q4={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},J4={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},G4=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),X4=[G4],t3={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},e3={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},r3={class:"tw-py-1",role:"none"},a3=["onClick"],s3={key:1},l3={class:"tw-p-2 tw-scale-75"};function o3(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",N4,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",Y4,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",Z4,B4)):(0,s.kq)("",!0),(0,s._)("p",Q4,(0,wt.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",J4,X4)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",t3,(0,wt.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(It.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",e3,[(0,s._)("div",r3,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],8,a3)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",s3,[(0,s._)("div",l3,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var i3={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};d5(this,e,!1)}}};const w3=(0,m.Z)(i3,[["render",o3]]);var n3=w3,d3={components:{TableActions:R4,TableRowAffectation:n3},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ze()}},computed:{confirmation(){return jn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Hn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const c3=(0,m.Z)(d3,[["render",l2]]);var u3=c3,p3={components:{TablePaginationNoNums:W1,TableRow:u3},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const g3=(0,m.Z)(p3,[["render",h1]]);var m3=g3;const h3={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},f3={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},b3=["disabled"],v3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),x3=[v3],y3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),_3=[y3],k3=["disabled"],C3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),D3=[C3],S3={class:"tw-relative"},z3=["value"],U3=(0,s._)("option",{value:5},"5",-1),q3=(0,s._)("option",{value:10},"10",-1),P3=(0,s._)("option",{value:20},"20",-1),L3=(0,s._)("option",{value:50},"50",-1),W3=(0,s._)("option",{value:100},"100",-1),A3=(0,s._)("option",{value:250},"250",-1),$3=(0,s._)("option",{value:500},"500",-1),E3=[U3,q3,P3,L3,W3,A3,$3],T3=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),F3={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},j3=["value"],V3={class:"tw-overflow-hidden tw-col-span-1"},I3={class:"tw-overflow-hidden tw-col-span-1"};function O3(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=((0,s.up)("IndexExport"),(0,s.up)("IndexStatistics"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",h3,[(0,s._)("div",f3,[(0,s._)("button",{class:(0,wt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,b3),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,wt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},x3,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:1,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,wt.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},_3,2)):(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},D3,8,k3),(0,s.kq)("",!0),(0,s._)("div",S3,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},E3,40,z3),T3])]),(0,s._)("div",F3,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,j3),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",V3,[(0,s.Wm)(w,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s.kq)("",!0),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",I3,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const H3={class:"tw-mb-4"},M3={class:"tw-grid tw-grid-cols-12 tw-gap-4"},R3={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},N3={class:"tw-flex tw-items-center tw-justify-between"},Y3={class:"tw-text-xl tw-font-bold tw-text-gray-900"},Z3={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function K3(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",H3,[(0,s._)("div",M3,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",R3,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",N3,[(0,s._)("span",Y3,(0,wt.zw)(t.total),1),(0,s._)("span",Z3,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var B3={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const Q3=(0,m.Z)(B3,[["render",K3]]);var J3=Q3;const G3={class:"tw-mb-4"},X3={class:"tw-flex tw-items-center tw-gap-2"},t8=["disabled"],e8=(0,s._)("span",null,"Select Filtered",-1),r8={class:"tw-flex tw-justify-end"},a8=["disabled"];function s8(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",G3,[(0,s._)("div",X3,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),e8],8,t8)]),(0,s._)("div",r8,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,wt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,a8)])])}var l8={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Iu["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const o8=(0,m.Z)(l8,[["render",s8]]);var i8=o8;const w8={class:"tw-mb-4"},n8={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},d8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},c8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),u8=["value"],p8=(0,s._)("option",{value:"all",selected:""},"All",-1),g8=["value"],m8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},h8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),f8=["value"],b8=(0,s._)("option",{value:"all",selected:""},"All",-1),v8=["value"],x8={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},y8=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),_8=(0,s._)("span",null,"Clear",-1),k8=[y8,_8],C8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),D8=(0,s._)("span",null,"Filter",-1),S8=[C8,D8];function z8(t,e,r,a,l,o){(0,s.up)("ProductFilter"),(0,s.up)("AgentFilter");const i=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",w8,[(0,s._)("div",n8,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",d8,[c8,(0,s._)("select",{value:r.filters.followup_confirmation,onChange:e[6]||(e[6]=e=>t.$emit("update",{...r.filters,followup_confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[p8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,wt.zw)(t.name),11,g8)))),128))],40,u8)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",m8,[h8,(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[b8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,wt.zw)(t.name),11,v8)))),128))],40,f8)]),(0,s.kq)("",!0),(0,s._)("div",x8,[(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},k8),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},S8)])])])}const U8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},q8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),P8=["value"],L8=(0,s._)("option",{value:"all"},"All",-1),W8=(0,s._)("option",{value:""},"No Delivery",-1),A8=["value"];function $8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",U8,[q8,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[L8,W8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,A8)))),128))],40,P8)])}var E8={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const T8=(0,m.Z)(E8,[["render",$8]]);var F8=T8;const j8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},V8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),I8=["value"],O8=(0,s._)("option",{value:"all"},"All",-1),H8=(0,s._)("option",{value:""},"No Agent",-1),M8=["value"];function R8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",j8,[V8,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[O8,H8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,M8)))),128))],40,I8)])}var N8={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Y8=(0,m.Z)(N8,[["render",R8]]);var Z8=Y8;const K8={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},B8=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),Q8=["value"],J8=(0,s._)("option",{value:"all"},"All",-1),G8=["value"];function X8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",K8,[B8,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[J8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.name),9,G8)))),128))],40,Q8)])}var t6={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const e6=(0,m.Z)(t6,[["render",X8]]);var r6=e6,a6={components:{AffectationFilter:F8,AgentFilter:Z8,ProductFilter:r6},props:{filters:{required:!0,default:{}}},data(){return{followup_confirmations:In,deliveries:Hn,dateFilter:["",""]}}};const s6=(0,m.Z)(a6,[["render",z8]]);var l6=s6,o6={components:{IndexStatistics:J3,FiltersWrapper:l6,IndexExport:i8},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ze()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const i6=(0,m.Z)(o6,[["render",O3]]);var w6=i6;const n6={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},d6=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),c6={class:"tw-bg-white tw-p-4"},u6={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},p6={class:"tw-col-span-2 md:tw-col-span-1"},g6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),m6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},h6={class:"tw-col-span-2 md:tw-col-span-1"},f6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),b6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},v6={class:"tw-col-span-2 md:tw-col-span-1"},x6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),y6={class:"tw-relative"},_6=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),k6=["value"],C6=["value"],D6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),S6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},z6={class:"tw-col-span-2 md:tw-col-span-1"},U6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),q6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},P6={class:"tw-col-span-2"},L6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),W6={class:"tw-relative"},A6=["value"],$6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),E6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T6={key:0,class:"md:tw-col-span-1 tw-col-span-2"},F6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),j6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},V6={key:1,class:"md:tw-col-span-1 tw-col-span-2"},I6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),O6={class:"tw-col-span-2"},H6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),M6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},R6={class:"md:tw-col-span-1 tw-col-span-2"},N6={class:"md:tw-col-span-1 tw-col-span-2"},Y6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Z6={class:"tw-relative"},K6=["value"],B6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Q6={class:"tw-col-span-2"},J6={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},G6={key:0,class:"tw-text-red-400 tw-text-xs"},X6={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},t7=["disabled"],e7=(0,s._)("span",null,"Create",-1);function r7(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",n6,[d6,(0,s._)("div",c6,[(0,s._)("div",u6,[(0,s._)("div",p6,[g6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",m6,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",h6,[f6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",b6,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",v6,[x6,(0,s._)("div",y6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[_6,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,k6),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,C6)))),128))],34),[[a.bM,o.itemCopy.city]]),D6]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",S6,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",z6,[U6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",q6,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",P6,[L6,(0,s._)("div",W6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,wt.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,A6)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),$6]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",E6,(0,wt.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",T6,[F6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,wt.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",j6,(0,wt.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",V6,[I6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",O6,[H6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",M6,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",R6,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",N6,[Y6,(0,s._)("div",Z6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,K6)))),128))],512),[[a.bM,o.itemCopy.upsell]]),B6])]),(0,s._)("div",Q6,[(0,s._)("label",J6,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",G6," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",X6,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),e7],8,t7)])])])),_:1},8,["visible","onCancel"])])}const a7=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},s7=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},l7=(t,e)=>{t.isLoading=!0,t.errors={},ki.create(e).then((e=>a7(t,e.data))).catch((e=>s7(t,e.response.data))).finally((()=>t.isLoading=!1))};var o7={components:{OrderItems:w4,OrderAffectation:k4},props:{visible:{required:!0}},data(){return{followup_confirmations:In,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=o5(this,this.itemCopy);if(!t)return!1;l7(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:"confirmer",upsell:null,items:[]},this.getProducts()}};const i7=(0,m.Z)(o7,[["render",r7]]);var w7=i7,n7={components:{IndexTable:m3,IndexFilters:w6,CreatePopup:w7,BulkActions:EX},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ki.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const d7=(0,m.Z)(n7,[["render",W0]]);var c7=d7,u7={name:"sales",path:"/sales",component:Wa,meta:{module:"sale"},children:[{name:"sale/list",path:"",component:YH,meta:{module:"sale",subModule:"sale/list",title:"Sales List",gate:"show_all_sales"}},{name:"sale/newlist",path:"new",component:jX,meta:{module:"sale",subModule:"sale/newlist",title:"Sales List",gate:"show_all_sales"}},{name:"sale/expidation",path:"expidation",component:e0,meta:{module:"sale",subModule:"sale/expidation",title:"Expidation",gate:"show_all_expidations"}},{name:"sale/shipping",path:"shipping",component:b0,meta:{module:"sale",subModule:"sale/shipping",title:"Shipping",gate:"show_all_expidations"}},{name:"sale/followup",path:"followup",component:c7,meta:{module:"followup",subModule:"sale/followup",title:"Follow Up",gate:"show_all_expidations"}}]};const p7={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},g7={class:"tw-px-3"},m7={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},h7={class:"tw-flex tw-items-center tw-gap-x-3"},f7=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),b7={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},v7=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"List of all orders.",-1),x7={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},y7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),_7=(0,s._)("span",null,"Create",-1),k7=[y7,_7],C7={key:0};function D7(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",p7,[(0,s._)("section",g7,[(0,s._)("div",m7,[(0,s._)("div",null,[(0,s._)("div",h7,[f7,(0,s._)("span",b7,(0,wt.zw)(l.totalOrders)+" order",1)]),v7]),(0,s._)("div",x7,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},k7)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",C7,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const S7={class:"tw-flex tw-flex-col"},z7={class:"tw-overflow-x-auto"},U7={class:"tw-inline-block tw-min-w-full tw-align-middle"},q7={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},P7={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},L7={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},W7=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),A7={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},$7=(0,s._)("span",null,"Created",-1),E7=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),T7=[$7,E7],F7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),j7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),V7=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Products ",-1),I7=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),O7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),H7=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),M7={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},R7={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},N7=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),Y7=[N7],Z7={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},K7={colspan:"8"},B7={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Q7=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),J7=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),G7=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),X7=[J7,G7],t9={class:"tw-mt-6"};function e9(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",S7,[(0,s._)("div",z7,[(0,s._)("div",U7,[(0,s._)("div",q7,[(0,s._)("table",P7,[(0,s._)("thead",L7,[(0,s._)("tr",null,[W7,(0,s._)("th",A7,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},T7)]),F7,j7,V7,I7,O7,H7])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",M7,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",R7,Y7)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Z7,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",K7,[(0,s._)("div",B7,[Q7,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},X7)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",t9,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const r9={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},a9={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},s9={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},l9={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},o9=["disabled"],i9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),w9=(0,s._)("span",null," previous ",-1),n9=[i9,w9],d9=["disabled"],c9=(0,s._)("span",null," Next ",-1),u9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),p9=[c9,u9];function g9(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",r9,[(0,s._)("div",a9,[(0,s.Uk)(" Page "),(0,s._)("span",s9,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",l9,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},n9,10,o9),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},p9,10,d9)])])])}var m9={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const h9=(0,m.Z)(m9,[["render",g9]]);var f9=h9;const b9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},v9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},x9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},y9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},_9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},k9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},C9={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},D9={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},S9={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},z9={class:"tw-space-y-1"},U9={class:"tw-font-bold tw-text-green-500"},q9={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},P9={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},L9={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},W9={class:"tw-px-12 tw-py-2 tw-text-sm tw-whitespace-nowrap"},A9=(0,s._)("div",{class:"tw-w-1.5 tw-h-1.5 tw-rounded-full tw-bg-emerald-500"},null,-1),$9={key:1},E9={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function T9(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",b9,[(0,s._)("div",null,[(0,s._)("h2",v9,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",x9,[(0,s._)("div",null,[(0,s._)("h2",y9,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",_9,[(0,s._)("div",null,[(0,s._)("h2",k9,(0,wt.zw)(r.item.fullname),1)])]),(0,s._)("td",C9,[(0,s._)("div",null,[(0,s._)("h2",D9,(0,wt.zw)(r.item.phone),1)])]),(0,s._)("td",S9,[(0,s._)("div",null,[(0,s._)("ul",z9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",U9,(0,wt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,wt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",q9,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",P9,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",L9,[(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3)]),(0,s._)("td",W9,[r.item.delivery_fullname?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([["tw-text-emerald-800","tw-bg-emerald-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-pl-1.5 tw-py-0.5 tw-rounded tw-w-fit tw-flex tw-items-center tw-gap-2"])},[A9,(0,s._)("span",null,(0,wt.zw)(r.item.delivery_fullname),1)])):((0,s.wg)(),(0,s.iD)("div",$9,[(0,s._)("span",{class:(0,wt.C_)([["tw-text-gray-800","tw-bg-gray-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},"No Delivery")]))]),(0,s._)("td",E9,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const F9={class:"tw-h-full"},j9={class:"tw-flex tw-items-center tw-gap-2"},V9=["href"],I9={key:0};function O9(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",F9,[(0,s._)("div",j9,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,V9),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",I9,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const H9={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},M9=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),R9={class:"tw-bg-white tw-p-4"},N9={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},Y9={class:"tw-col-span-2 md:tw-col-span-1"},Z9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),K9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},B9={class:"tw-col-span-2 md:tw-col-span-1"},Q9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),J9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},G9={class:"tw-col-span-2 md:tw-col-span-1"},X9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),ttt={class:"tw-relative"},ett=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),rtt=["value"],att=["value"],stt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ltt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ott={class:"tw-col-span-2 md:tw-col-span-1"},itt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),wtt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ntt={class:"tw-col-span-2"},dtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),ctt={class:"tw-relative"},utt=["value"],ptt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),gtt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mtt={key:0,class:"md:tw-col-span-1 tw-col-span-2"},htt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),ftt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},btt={key:1,class:"md:tw-col-span-1 tw-col-span-2"},vtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),xtt={class:"tw-col-span-2"},ytt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),_tt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ktt={class:"md:tw-col-span-1 tw-col-span-2"},Ctt={key:2,class:"tw-col-span-1"},Dtt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),Stt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ztt={class:"md:tw-col-span-1 tw-col-span-2"},Utt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),qtt={class:"tw-relative"},Ptt=["value"],Ltt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Wtt={class:"tw-col-span-2"},Att={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},$tt={key:0,class:"tw-text-red-400 tw-text-xs"},Ett={key:3,class:"tw-col-span-2"},Ttt={class:"tw-grid lg:tw-grid-cols-2 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},Ftt={class:"tw-space-y-2 tw-px-5"},jtt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-youtube tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Video Link")],-1),Vtt=["href"],Itt={class:"tw-space-y-2 tw-px-5"},Ott=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-store tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Store Link")],-1),Htt=["href"],Mtt={key:4,class:"tw-col-span-2"},Rtt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Ntt=["disabled"],Ytt=(0,s._)("span",null,"Update",-1);function Ztt(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",H9,[M9,(0,s._)("div",R9,[(0,s._)("div",N9,[(0,s._)("div",Y9,[Z9,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",K9,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",B9,[Q9,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",J9,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",G9,[X9,(0,s._)("div",ttt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[ett,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,rtt),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,att)))),128))],34),[[a.bM,o.itemCopy.city]]),stt]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",ltt,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",ott,[itt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",wtt,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",ntt,[dtt,(0,s._)("div",ctt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,utt)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),ptt]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",gtt,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",mtt,[htt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",ftt,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",btt,[vtt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",xtt,[ytt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",_tt,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",ktt,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Ctt,[Dtt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,wt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",Stt,(0,wt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",ztt,[Utt,(0,s._)("div",qtt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,Ptt)))),128))],512),[[a.bM,o.itemCopy.upsell]]),Ltt])]),(0,s._)("div",Wtt,[(0,s._)("label",Att,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",$tt," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{action:"update",order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",Ett,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",Ttt,[(0,s._)("div",Ftt,[jtt,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.video},(0,wt.zw)(i.truncateText(t.video,30)),9,Vtt)]),(0,s._)("div",Itt,[Ott,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.store},(0,wt.zw)(i.truncateText(t.store,30)),9,Htt)])])])))),128))])):(0,s.kq)("",!0),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",Mtt,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",Rtt,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Ytt],8,Ntt)])])])),_:1},8,["visible","onCancel"])])}const Ktt=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.parent_id||"refund"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!Btt(t,e.items):(t.errors.parent_id="Add Parent id !",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),Btt=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Qtt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={},t.$store.dispatch("agent/refreshCounts")},Jtt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Gtt=(t,e)=>{t.isLoading=!0,t.errors={},F.update(e.id,e).then((e=>Qtt(t,e.data))).catch((e=>Jtt(t,e.response.data))).finally((()=>t.isLoading=!1))},Xtt={key:0},tet=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),eet={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},ret=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),aet=(0,s._)("span",null,"Add Item",-1),set=[ret,aet],oet={key:1,class:"md:tw-col-span-12 tw-col-span-12"},iet={class:"tw-max-w-full tw-overflow-auto"},wet={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},net={class:"tw-bg-gray-50"},det={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},cet={key:0},uet={colspan:"5"},pet={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},get=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),met=(0,s._)("span",null,"Add Item",-1),het=[get,met],fet=(0,s._)("td",{colspan:"4"},null,-1),bet={colspan:"1",class:"tw-p-2"},vet={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},xet={key:1},yet={colspan:"6"},_et={class:"tw-scale-75 tw-p-5"};function ket(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Xtt,[tet,(0,s._)("div",eet,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},set)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",oet,[(0,s._)("div",iet,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",wet,[(0,s._)("tr",net,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",det,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",cet,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,action:r.action,item:t,order:r.order,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["action","item","order","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",uet,[(0,s._)("div",pet,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},het)])])]),(0,s._)("tr",null,[fet,(0,s._)("td",bet,[(0,s._)("div",vet,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",xet,[(0,s._)("tr",null,[(0,s._)("td",yet,[(0,s._)("div",_et,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const Cet={class:"tw-p-2"},Det={class:"tw-p-2"},zet={key:0,class:"tw-relative"},Uet=["value"],qet=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),Pet=["value"],Let={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},Wet=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),Aet=[Wet],$et={class:"tw-p-2"},Eet=["value"],Tet={class:"tw-p-2"},Fet=["value"],jet={class:"tw-flex tw-justify-center"};function Vet(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("div",Cet,[((0,s.wg)(),(0,s.j4)(i,{"append-to-body":"",reduce:t=>t.id,key:r.item.id,"onOption:selected":e[0]||(e[0]=t=>o.handleProductChange(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Product",modelValue:o.product,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),options:o.allProducts,label:"name"},null,8,["reduce","modelValue","options"])),(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",Det,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",zet,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[3]||(e[3]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[qet,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,Pet)))),128))],40,Uet)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",Let,Aet)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",$et,[(0,s._)("input",{onInput:e[4]||(e[4]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Eet)])]),(0,s._)("td",null,[(0,s._)("div",Tet,[(0,s._)("input",{onInput:e[5]||(e[5]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Fet)])]),(0,s._)("td",null,[(0,s._)("div",jet,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var Iet={components:{"vue-select":NY.Z},props:{item:{required:!0},products:{required:!0},order:{required:!1},action:{required:!0}},computed:{allProducts(){return[{id:0,name:"Choose Product"},...this.products]},product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))},productsForUpdate(){return this.products.filter((t=>t.user_id==this.order.user_id))},productsForCreate(){if(!this.order.items.length)return this.products;const t=this.order.items[0];return t.product_id?this.products.filter((e=>e.user_id==t.product.user_id)):this.products},filteredProducts(){return"update"==this.action?this.productsForUpdate:this.productsForCreate}},methods:{handleProductChange(t,e){const r=1===e?parseInt(t.target.value):t.id;if(!r)return!1;const a=this.products.find((t=>t.id==r));console.log(a.variations.length>0?a.variations[0].id:null);const s={...this.item,product_id:r,product:a,product_ref:a.ref,product_variation_id:a.variations.length>0?a.variations[0].id:null,product_variation:a.variations.length>0?a.variations[0]:null};if(this.$emit("update",s),console.log(this.order),this.order.items.length){const t=this.order.items[0];console.log(t)}},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const Oet=(0,m.Z)(Iet,[["render",Vet]]);var Het=Oet,Met={components:{ItemRow:Het},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0},action:{required:!1,default:"update"}},data(){return{currency:c}},computed:{price(){return vo(this.order)},filteredProducts(){return this.products.filter((t=>t.user_id==this.order.user_id))}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Ret=(0,m.Z)(Met,[["render",ket]]);var Net=Ret;const Yet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Zet={key:0,class:"tw-relative"},Ket=["value","disabled"],Bet=(0,s._)("option",{value:""},"Choose a Delivery",-1),Qet=["value"],Jet=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Get={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Xet={key:2,class:"tw-relative"},trt={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},ert=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),rrt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function art(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[Yet,l.fetched?((0,s.wg)(),(0,s.iD)("div",Zet,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,wt.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Bet,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Qet)))),128))],42,Ket),Jet])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Get,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Xet,[(0,s._)("div",trt,[(0,s.Wm)(i)]),ert,rrt]))])}var srt={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const lrt=(0,m.Z)(srt,[["render",art]]);var ort=lrt;const irt={key:0},wrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),nrt={class:"md:tw-col-span-12 tw-col-span-12"},drt={class:"tw-max-w-full tw-overflow-auto"},crt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},urt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),prt={class:"tw-px-3 tw-py-2"},grt={class:"tw-px-3 tw-py-2"},mrt={class:"tw-px-3 tw-py-2"},hrt={class:"tw-px-3 tw-py-2"},frt={class:"tw-max-w-[250px] tw-text-sm"};function brt(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",irt,[wrt,(0,s._)("div",nrt,[(0,s._)("div",drt,[(0,s._)("table",crt,[urt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",prt,(0,wt.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",grt,(0,wt.zw)(t.quantity),1),(0,s._)("td",mrt,(0,wt.zw)(t.price)+" "+(0,wt.zw)(l.currency),1),(0,s._)("td",hrt,[(0,s._)("p",frt,(0,wt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var vrt={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const xrt=(0,m.Z)(vrt,[["render",brt]]);var yrt=xrt,_rt={components:{OrderItems:Net,OrderAffectation:ort,ProductOffersTable:yrt},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:jn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,product:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,parent_id:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=Ktt(this,this.itemCopy);if(!t)return!1;Gtt(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder(this.itemCopy.user_id).then((t=>{if("SUCCESS"==t.data.code){this.products=t.data.data.products;const e=this.itemCopy.items.map((t=>t.product_id));this.product=this.products.filter((t=>e.includes(t.id)))}else this.products=[];this.products_fetched=!0})).catch(this.$handleApiError)},truncateText(t,e){return t.length>e?t.slice(0,e)+"...":t}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const krt=(0,m.Z)(_rt,[["render",Ztt]]);var Crt=krt,Drt={components:{UpdatePopup:Crt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const Srt=(0,m.Z)(Drt,[["render",O9]]);var zrt=Srt,Urt={components:{TableActions:zrt},props:{item:{required:!0}},data(){return{moment:ze()}},computed:{confirmation(){return jn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Hn.find((t=>t.value==this.item.delivery))}},methods:{}};const qrt=(0,m.Z)(Urt,[["render",T9]]);var Prt=qrt,Lrt={components:{TablePaginationNoNums:f9,TableRow:Prt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const Wrt=(0,m.Z)(Lrt,[["render",e9]]);var Art=Wrt;const $rt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Ert=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),Trt={class:"tw-bg-white tw-p-4"},Frt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},jrt={class:"tw-col-span-2 md:tw-col-span-1"},Vrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),Irt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ort={class:"tw-col-span-2 md:tw-col-span-1"},Hrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Mrt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Rrt={class:"tw-col-span-2 md:tw-col-span-1"},Nrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Yrt={class:"tw-relative"},Zrt=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Krt=["value"],Brt=["value"],Qrt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Jrt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Grt={class:"tw-col-span-2 md:tw-col-span-1"},Xrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),tat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},eat={class:"tw-col-span-2"},rat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),aat={class:"tw-relative"},sat=["value"],lat=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),oat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},iat={key:0,class:"md:tw-col-span-1 tw-col-span-2"},wat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),nat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dat={key:1,class:"md:tw-col-span-1 tw-col-span-2"},cat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),uat={class:"tw-col-span-2"},pat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),gat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mat={class:"md:tw-col-span-1 tw-col-span-2"},hat={key:2,class:"tw-col-span-1"},fat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Parent id",-1),bat={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},vat={class:"md:tw-col-span-1 tw-col-span-2"},xat=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),yat={class:"tw-relative"},_at=["value"],kat=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Cat={class:"tw-col-span-2"},Dat={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Sat={key:0,class:"tw-text-red-400 tw-text-xs"},zat={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Uat=["disabled"],qat=(0,s._)("span",null,"Create",-1);function Pat(t,e,r,l,o,i){const w=(0,s.up)("OrderAffectation"),n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",$rt,[Ert,(0,s._)("div",Trt,[(0,s._)("div",Frt,[(0,s._)("div",jrt,[Vrt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",Irt,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Ort,[Hrt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",Mrt,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Rrt,[Nrt,(0,s._)("div",Yrt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Zrt,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,Krt),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,Brt)))),128))],34),[[a.bM,o.itemCopy.city]]),Qrt]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",Jrt,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Grt,[Xrt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",tat,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",eat,[rat,(0,s._)("div",aat,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,wt.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,wt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,wt.zw)(t.name),11,sat)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),lat]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",oat,(0,wt.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",iat,[wat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,wt.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",nat,(0,wt.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",dat,[cat,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",uat,[pat,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",gat,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",mat,[(0,s.Wm)(w,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),"refund"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",hat,[fat,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.parent_id=t),onInput:e[18]||(e[18]=t=>o.errors.parent_id=null),type:"text",class:(0,wt.C_)([[o.errors.parent_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"123",required:""},null,34),[[a.nr,o.itemCopy.parent_id]]),o.errors.parent_id?((0,s.wg)(),(0,s.iD)("label",bat,(0,wt.zw)(o.errors.parent_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",vat,[xat,(0,s._)("div",yat,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,_at)))),128))],512),[[a.bM,o.itemCopy.upsell]]),kat])]),(0,s._)("div",Cat,[(0,s._)("label",Dat,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",Sat," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{action:"create",order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",zat,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),qat],8,Uat)])])])),_:1},8,["visible","onCancel"])])}const Lat=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},Wat=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Aat=(t,e)=>{t.isLoading=!0,t.errors={},F.create(e).then((e=>Lat(t,e.data))).catch((e=>Wat(t,e.response.data))).finally((()=>t.isLoading=!1))};var $at={components:{OrderItems:Net,OrderAffectation:ort},props:{visible:{required:!0}},data(){return{confirmations:Vn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,parent_id:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=Ktt(this,this.itemCopy);if(!t)return!1;Aat(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?(this.products=t.data.data.products,console.log(this.products)):this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const Eat=(0,m.Z)($at,[["render",Pat]]);var Tat=Eat;const Fat={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},jat={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Vat=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),Iat=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),Oat=[Iat],Hat=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),Mat=[Hat],Rat=["disabled"],Nat=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),Yat=[Nat],Zat={class:"tw-relative"},Kat=["value"],Bat=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),Qat=[Bat],Jat=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Gat={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},Xat=["value"],tst={class:"tw-overflow-hidden tw-col-span-1"},est={class:"tw-overflow-hidden tw-col-span-1"};function rst(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Fat,[(0,s._)("div",jat,[Vat,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Oat),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Mat)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Yat,8,Rat),(0,s._)("div",Zat,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Qat,40,Kat),Jat])]),(0,s._)("div",Gat,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,Xat),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",tst,[(0,s.Wm)(w,{onFilter:e[7]||(e[7]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",est,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const ast={class:"tw-mb-4"},sst={class:"tw-grid tw-grid-cols-12 tw-gap-4"},lst={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},ost={class:"tw-flex tw-items-center tw-justify-between"},ist={class:"tw-text-xl tw-font-bold tw-text-gray-900"},wst={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function nst(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",ast,[(0,s._)("div",sst,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",lst,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",ost,[(0,s._)("span",ist,(0,wt.zw)(t.total),1),(0,s._)("span",wst,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var dst={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const cst=(0,m.Z)(dst,[["render",nst]]);var ust=cst;const pst={class:"tw-mb-4"},gst={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},mst={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},hst=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created",-1),fst=["value"],bst={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},vst=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),xst=["value"],yst=(0,s._)("option",{value:"all",selected:""},"All",-1),_st=["value"],kst=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})]),(0,s._)("span",null,"Filter")],-1),Cst=[kst];function Dst(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",pst,[(0,s._)("div",gst,[(0,s._)("div",mst,[hst,(0,s._)("input",{value:r.filters.created_at,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_at:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,fst)]),(0,s._)("div",bst,[vst,(0,s._)("select",{value:r.filters.confirmation,onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[yst,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.name),9,_st)))),128))],40,xst)]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",{onClick:e[3]||(e[3]=e=>t.$emit("filter")),class:"tw-col-span-12 tw-flex tw-justify-end"},Cst)])])}var Sst={props:{filters:{required:!0,default:{}}},data(){return{confirmations:jn,deliveryStatus:Hn,deliveries:[{id:1,value:"annuler",name:"Cancelled"},{id:2,value:"pas-de-reponse",name:"No Answer"}]}}};const zst=(0,m.Z)(Sst,[["render",Dst]]);var Ust=zst,qst={components:{IndexStatistics:ust,FiltersWrapper:Ust},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const Pst=(0,m.Z)(qst,[["render",rst]]);var Lst=Pst,Wst={components:{IndexTable:Art,IndexFilters:Lst,CreatePopup:Tat},data(){return{fetching:!0,items:[],statistics:null,create_popup:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",delivery:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,F.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Ast=(0,m.Z)(Wst,[["render",D7]]);var $st=Ast;const Est={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Tst={class:"tw-px-3 tw-h-fit"},Fst={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},jst=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"New Orders")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"take responsibility for new orders.")],-1),Vst={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},Ist=["disabled"],Ost=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Hst=(0,s._)("span",null,"Get Order",-1),Mst=[Ost,Hst],Rst={key:0,class:"tw-p-5"},Nst={key:1,class:"tw-mt-5 tw-space-y-5"},Yst={class:"tw-flex tw-items-center tw-justify-end"},Zst={key:2},Kst=(0,s._)("div",{class:"tw-p-5 tw-border tw-border-solid tw-shadow-sm tw-mt-5 tw-text-center tw-font-medium tw-text-xl tw-text-gray-600 tw-bg-gray-100 tw-w-full tw-rounded-lg"}," No Orders ",-1),Bst=[Kst];function Qst(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",Est,[(0,s._)("section",Tst,[(0,s._)("div",Fst,[jst,(0,s._)("div",Vst,[(0,s._)("button",{disabled:l.fetching,onClick:e[0]||(e[0]=(...t)=>o.getOrder&&o.getOrder(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Mst,8,Ist)])]),l.fetching?((0,s.wg)(),(0,s.iD)("div",Rst,[(0,s.Wm)(i)])):(0,s.kq)("",!0),!l.fetching&&l.order_exists?((0,s.wg)(),(0,s.iD)("div",Nst,[(0,s.Wm)(w,{order:l.order,onUpdate:e[1]||(e[1]=t=>l.order=t)},null,8,["order"]),l.doubles.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.doubles,(t=>((0,s.wg)(),(0,s.j4)(w,{double:!0,key:t.id,order:t,onUpdate:e[2]||(e[2]=t=>l.doubles=l.doubles.map((e=>e.id==t.id?t:e)))},null,8,["order"])))),128)):(0,s.kq)("",!0),(0,s._)("div",Yst,[(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.save&&o.save(...t)),type:"button",class:"tw-px-5 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-orange-500 hover:tw-bg-orange-600 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-orange-100 tw-rounded-lg tw-text-center dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 dark:focus:tw-ring-orange-800"}," Save ")])])):(0,s.kq)("",!0),l.fetching||l.order_exists?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Zst,Bst))])])}const Jst=t=>{t.fetching=!0,F.toConfirm().then((e=>{const r=e.data;if("NO_ORDER"===r.code)return t.order_exists=!1,!1;"SUCCESS"==r.code&&r.data.orders.length>0&&(t.order=r.data.orders[0],t.order_exists=!0),t.doubles=1==r.data.double?r.data.double_orders.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},Gst=t=>null==t.order.confirmation?(t.$alert({title:"Confirmation Not Changed",type:"warning"}),!1):t.doubles.some((t=>null==t.confirmation))?(t.$alert({title:"Double Order Confirmation Not Changed",type:"warning"}),!1):(t.order_exists=!1,t.order=null,t.doubles=[],void t.$alert({title:"Your changes has been saved !",type:"success"})),Xst=t=>{let e=t.order;if(null!=e&&null==e.confirmation)return t.$alert({type:"warning",title:"Order Not Confirmed"}),!1;t.fetching=!0,F.getOrder().then((e=>{let r=e.data;if("ORDER_NOT_CONFIRMED"==r.code){t.$alert({type:"warning",title:"Order Not Confirmed"});let r=e.data.orders[0];return t.order=JSON.parse(JSON.stringify(r)),t.order_exists=!0,!1}if("SUCCESS"==r.code&&!e.data.orders?.id){let e=r.data.orders;t.order=JSON.parse(JSON.stringify(e)),t.order_exists=!0}if("NO_ORDERS"===r.code)return t.order_exists=!1,!1;t.doubles=1==r.data.double?r.data.double_orders?.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},tlt={class:"tw-bg-gray-50 tw-border tw-shadow-sm tw-rounded-lg tw-relative"},elt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"white","fill-rule":"evenodd",d:"M21.455 5.416a.75.75 0 0 1-.096.943l-9.193 9.192a.75.75 0 0 1-.34.195l-3.829 1a.75.75 0 0 1-.915-.915l1-3.828a.778.778 0 0 1 .161-.312L17.47 2.47a.75.75 0 0 1 1.06 0l2.829 2.828a.756.756 0 0 1 .096.118Zm-1.687.412L18 4.061l-8.518 8.518l-.625 2.393l2.393-.625l8.518-8.519Z","clip-rule":"evenodd"}),(0,s._)("path",{fill:"white",d:"M19.641 17.16a44.4 44.4 0 0 0 .261-7.04a.403.403 0 0 1 .117-.3l.984-.984a.198.198 0 0 1 .338.127a45.91 45.91 0 0 1-.21 8.372c-.236 2.022-1.86 3.607-3.873 3.832a47.77 47.77 0 0 1-10.516 0c-2.012-.225-3.637-1.81-3.873-3.832a45.922 45.922 0 0 1 0-10.67c.236-2.022 1.86-3.607 3.873-3.832a47.75 47.75 0 0 1 7.989-.213a.2.2 0 0 1 .128.34l-.993.992a.402.402 0 0 1-.297.117a46.164 46.164 0 0 0-6.66.255a2.89 2.89 0 0 0-2.55 2.516a44.421 44.421 0 0 0 0 10.32a2.89 2.89 0 0 0 2.55 2.516c3.355.375 6.827.375 10.183 0a2.89 2.89 0 0 0 2.55-2.516Z"})],-1),rlt={class:"tw-p-5 tw-flex tw-items-center tw-gap-2"},alt={class:"tw-text-xl tw-font-bold tw-text-gray-600"},slt=(0,s._)("span",{class:"tw-text-sm tw-text-gray-500"},null,-1),llt={key:0,class:"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded tw-bg-purple-100 tw-text-purple-600"},olt={class:"tw-grid lg:tw-grid-cols-4 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},ilt={class:"tw-space-y-2 tw-px-5"},wlt=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke-linecap="round" stroke-width="1.5"><path d="M7 18v-1a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v1"></path><path stroke-linejoin="round" d="M12 12a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"></path><path stroke-linejoin="round" d="M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6Z"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">Client Name</span></div>',1),nlt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},dlt={class:"tw-space-y-2 tw-px-5"},clt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{class:"tw-stroke-orange-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.118 14.702L14 15.5c-2.782-1.396-4.5-3-5.5-5.5l.77-4.13L7.815 2H4.064c-1.128 0-2.016.932-1.847 2.047c.42 2.783 1.66 7.83 5.283 11.453c3.805 3.805 9.286 5.456 12.302 6.113c1.165.253 2.198-.655 2.198-1.848v-3.584l-3.882-1.479Z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Phone Number")],-1),ult={class:"tw-flex tw-items-center tw-gap-2"},plt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},glt={class:"tw-space-y-2 tw-px-5"},mlt=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path d="M3.75 18a.75.75 0 0 0-1.5 0h1.5Zm-1.5-4a.75.75 0 0 0 1.5 0h-1.5ZM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08v1.5ZM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094h1.5ZM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066v-1.5ZM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294h1.5Zm0 10v-4h-1.5v4h1.5Zm0-8v-2h-1.5v2h1.5Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 22v-6c0-1.886 0-2.828.586-3.414C8.172 12 9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525c-.356-.514-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707C4.586 4.5 5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293C10 5.086 10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">City</span></div>',1),hlt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},flt={class:"tw-space-y-2 tw-px-5"},blt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[(0,s._)("path",{fill:"#f97316",d:"m19.799 5.165l-2.375-1.83a1.997 1.997 0 0 0-.521-.237A2.035 2.035 0 0 0 16.336 3H9.5l.801 5h6.035c.164 0 .369-.037.566-.098s.387-.145.521-.236l2.375-1.832c.135-.091.202-.212.202-.334s-.067-.243-.201-.335zM8.5 1h-1a.5.5 0 0 0-.5.5V5H3.664c-.166 0-.37.037-.567.099c-.198.06-.387.143-.521.236L.201 7.165C.066 7.256 0 7.378 0 7.5c0 .121.066.242.201.335l2.375 1.832c.134.091.323.175.521.235c.197.061.401.098.567.098H7v8.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-17a.5.5 0 0 0-.5-.5z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Address")],-1),vlt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},xlt={class:"tw-p-5 tw-py-3 tw-w-full tw-border-t tw-border-solid tw-mt-3"},ylt={class:""},_lt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 2048 2048"},[(0,s._)("path",{fill:"#f97316",d:"M1024 1000v959l-64 32l-832-415V536l832-416l832 416v744h-128V680l-640 320zm-64-736L719 384l621 314l245-122l-625-312zm-64 1552v-816L256 680v816l640 320zM335 576l625 312l238-118l-622-314l-241 120zm1073 1216v-128h640v128h-640zm0-384h640v128h-640v-128zm-256 640v-128h128v128h-128zm0-512v-128h128v128h-128zm0 256v-128h128v128h-128zm-128 24h1h-1zm384 232v-128h640v128h-640z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Product")],-1),klt={class:"tw-p-3 tw-pl-10 tw-space-y-2"},Clt={class:"tw-font-bold tw-text-green-500"},Dlt={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},Slt={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},zlt={class:"tw-font-[cairo] tw-mt-2 tw-flex tw-items-center tw-justify-end tw-gap-1 tw-text-2xl tw-text-green-400 tw-font-bold"},Ult={key:0};function qlt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",tlt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),type:"button",class:"tw-px-5 tw-absolute tw-right-3 tw-top-3 tw-z-10 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-green-400 hover:tw-bg-green-500 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-green-100 tw-rounded-lg tw-text-center dark:tw-bg-green-600 dark:hover:tw-bg-green-700 dark:focus:tw-ring-green-800"},[elt,(0,s.Uk)(" Edit ")]),(0,s._)("div",rlt,[(0,s._)("span",alt,[slt,(0,s.Uk)(" ID: "+(0,wt.zw)(r.order.id),1)]),(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3),r.double?((0,s.wg)(),(0,s.iD)("span",llt,"Maybe double")):(0,s.kq)("",!0)]),(0,s._)("div",olt,[(0,s._)("div",ilt,[wlt,(0,s._)("span",nlt,(0,wt.zw)(r.order.fullname),1)]),(0,s._)("div",dlt,[clt,(0,s._)("div",ult,[(0,s._)("span",plt,(0,wt.zw)(r.order.phone),1),(0,s.Wm)(nt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"text",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])]),(0,s._)("div",glt,[mlt,(0,s._)("span",hlt,(0,wt.zw)(r.order.city),1)]),(0,s._)("div",flt,[blt,(0,s._)("span",vlt,(0,wt.zw)(r.order.adresse),1)])]),(0,s._)("div",xlt,[(0,s._)("div",ylt,[_lt,(0,s._)("ul",klt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",Clt,(0,wt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,wt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",Dlt,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",Slt,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128)),(0,s._)("li",zlt,[(0,s._)("span",null,(0,wt.zw)(l.currency),1),(0,s._)("span",null,(0,wt.zw)(o.price),1)])])])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",Ult,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.order},null,8,["visible","item"])])):(0,s.kq)("",!0)])}var Plt={components:{UpdatePopup:Crt},props:{order:{required:!0},double:{required:!1}},data(){return{currency:c,popup:!1}},computed:{price(){return vo(this.order)},confirmation(){return jn.find((t=>t.value==this.order.confirmation))}}};const Llt=(0,m.Z)(Plt,[["render",qlt]]);var Wlt=Llt,Alt={components:{OrderCard:Wlt},data(){return{fetching:!0,order_exists:!1,doubles:[],order:null}},methods:{toConfirm(){Jst(this)},getOrder(){Xst(this)},save(){Gst(this)}},mounted(){this.toConfirm()}};const $lt=(0,m.Z)(Alt,[["render",Qst]]);var Elt=$lt;const Tlt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Flt={class:"tw-px-3"},jlt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Vlt={class:"tw-flex tw-items-center tw-gap-x-3"},Ilt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),Olt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Hlt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Show all confirmed orders.",-1);function Mlt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",Tlt,[(0,s._)("section",Flt,[(0,s._)("div",jlt,[(0,s._)("div",null,[(0,s._)("div",Vlt,[Ilt,(0,s._)("span",Olt,(0,wt.zw)(l.totalOrders)+" order",1)]),Hlt]),(0,s.kq)("",!0)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}var Rlt={components:{IndexTable:Art,IndexFilters:Lst},data(){return{fetching:!0,items:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,confirmation:"confirmer"};return this.fetching=!0,F.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Nlt=(0,m.Z)(Rlt,[["render",Mlt]]);var Ylt=Nlt,Zlt={name:"orders",path:"/agent/orders",component:Wa,meta:{module:"order"},children:[{name:"order/list",path:"",component:$st,meta:{module:"order",subModule:"order/list",title:"Orders List",gate:"show_all_orders"}},{name:"order/show",path:"add",component:Elt,meta:{module:"order",subModule:"order/show",title:"Current Order",gate:"show_all_orders"}},{name:"order/confirmed",path:"confirmed",component:Ylt,meta:{module:"order",subModule:"order/confirmed",title:"Confirmed Orders",gate:"show_all_orders"}}]};const Klt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Orders")])],-1),Blt={key:0},Qlt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Jlt={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-5"},Glt={key:1},Xlt={class:"tw-min-h-[400px] tw-flex tw-flex-col tw-justify-center tw-items-center"},tot=(0,s._)("p",{class:"tw-font-medium tw-text-neutral-400 tw-text-lg tw-mb-n3"},"No Confirmed orders for now.",-1),eot=["src"];function rot(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),w=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",null,[Klt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Blt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Qlt,[o.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Jlt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.filteredOrders,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tw-col-span-12 md:tw-col-span-4"},[((0,s.wg)(),(0,s.j4)(w,{order:t,key:t.id},null,8,["order"]))])))),128))])):((0,s.wg)(),(0,s.iD)("div",Glt,[(0,s._)("div",Xlt,[tot,(0,s._)("img",{src:l.localUrl+"images/delivery.jpg",class:"tw-mt-0 tw-mx-auto tw-max-w-[600px] tw-w-full",alt:""},null,8,eot)])]))])):(0,s.kq)("",!0)])}var aot=r(9875),sot=r(1888),lot=r(1334);const oot={class:"tw-text-sm tw-text-orange-500x tw-bg-orange-500x/10 tw-underline tw-underline-offset-2 tw-px-1 tw-w-fit tw-rounded"},iot={class:"tw-w-full tw-whitespace-normal"},wot=(0,s._)("div",{class:"tw-border-b tw-mb-1 tw-border-dashed"},null,-1),not={class:"tw-flex tw-items-center"},dot={key:0},cot={key:1},uot={class:"tw-min-w-fit tw-w-[25px] tw-h-[25px] tw-flex tw-items-center tw-justify-center tw-text-md tw-font-bold tw-p-1 tw-rounded tw-text-orange-400 tw-bg-orange-400/10"},pot=(0,s._)("span",{class:"tw-text-sm"},"x",-1),got={key:0},mot={key:0,class:"tw-px-5 tw-py-2 tw-mt-2 tw-border-neutral-200 tw-border-t tw-border-dashed"},hot=(0,s._)("p",{class:"tw-text-md tw-font-bold tw-text-pink-500"},"NOTE",-1),fot={class:"tw-flex tw-items-center tw-text-gray-500"},bot={class:"tw-flex tw-items-center tw-text-gray-500"};function vot(t,e,r,a,l,o){const i=(0,s.up)("OrderCardDelivery");return(0,s.wg)(),(0,s.j4)(Ss._,{class:(0,wt.C_)(["tw-mx-auto tw-relative tw-border-dashed !tw-shadow-lg !tw-shadow-gray-100/70",[!!r.order.note&&"tw-border-pink-00","livrer"==r.order.delivery&&"tw-border-emerald-400"]]),flat:"",border:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,wt.C_)(["tw-absolute tw-top-0 tw-right-0 tw-py-1 tw-px-2 tw-rounded-bl tw-text-xs",[o.delivery?.bg,o.delivery?.text]])},(0,wt.zw)(r.order.delivery),3),(0,s.Wm)(aot._,null,{title:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("p",oot,(0,wt.zw)(r.order.city),1),(0,s._)("p",iot,(0,wt.zw)(r.order.adresse),1)]),wot])),_:1}),(0,s.Wm)(sot.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,{align:"center","no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",class:"tw-flex tw-items-center tw-flex-wrap tw-text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-account",size:"small",class:"tw-mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,wt.zw)(r.order.fullname)+" ",1),r.order.note?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,icon:"mdi-note-outline",size:"small",class:"tw-ml-2 tw-text-sm !tw-text-pink-500"})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Ta.D,{cols:"12",class:"tw-text-gray-500 tw-space-y-1 tw-mt-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-3",key:t.id},[(0,s._)("div",not,[(0,s._)("span",null,[(0,s.Uk)((0,wt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",dot,"| "+(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",cot,"| "+(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s._)("p",uot,[pot,(0,s.Uk)(" "+(0,wt.zw)(t.quantity),1)])])])))),128))])),_:1}),(0,s.Wm)(Ta.D,{class:"text-h4 tw-my-3",cols:"12"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(o.getPrice(r.order)),1)])),_:1})])),_:1})])),_:1}),(0,s.kq)("",!0),(0,s.Wm)(It.Fx,null,{default:(0,s.w5)((()=>[t.expand?((0,s.wg)(),(0,s.iD)("div",got,[r.order.note?((0,s.wg)(),(0,s.iD)("div",mot,[hot,(0,s._)("p",null,(0,wt.zw)(r.order.note),1)])):(0,s.kq)("",!0),(0,s.Wm)(rr.i,{class:"bg-transparent tw-space-y-2 !tw-px-5 tw-py-3 tw-border-neutral-200 tw-border-dashed tw-border-t tw-mt-5"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",fot,[(0,s.Wm)(ct.t,{icon:"mdi-phone",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,wt.zw)(r.order.phone),1)])]),(0,s._)("div",null,[(0,s._)("div",bot,[(0,s.Wm)(ct.t,{icon:"mdi-calendar",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,wt.zw)(r.order.created_at?.split("T")[0].split("-").reverse().join(".")),1)])])])),_:1})])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(le.J),(0,s.Wm)(lot.h,{class:"tw-flex tw-justify-end tw-gap-2 tw-flex-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(nt.T,{class:"tw-capitalize tw-mx-auto tw-bg-orange-500/5 tw-text-orange-500",rounded:"lg",density:"comfortable",icon:"",variant:"flat",onClick:e[0]||(e[0]=e=>t.expand=!t.expand)},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.expand?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1}),(0,s.Wm)(nr.C),r.order.phone?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-capitalize tw-bg-green-500/5 tw-text-green-500 tw-border tw-border-green-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),r.order.phone?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,link:"",target:"_blank",href:"tel:"+r.order.phone,class:"tw-capitalize tw-bg-blue-500/5 tw-text-blue-500 tw-border tw-border-blue-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-phone")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),(0,s.Wm)(nt.T,{onClick:e[1]||(e[1]=e=>t.confirmPopup=!0),class:"tw-capitalize tw-bg-emerald-500 tw-text-white tw-border tw-border-emerald-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])),_:1})])),_:1}),((0,s.wg)(),(0,s.j4)(i,{delivery:r.order.delivery,order:r.order,key:r.order,visible:t.confirmPopup,onCancel:e[2]||(e[2]=e=>t.confirmPopup=!1)},null,8,["delivery","order","visible"]))])),_:1},8,["class"])}const xot={class:"md:tw-w-[80%] tw-overflow-hidden tw-w-[95%] tw-max-w-[550px] tw-mx-auto tw-my-3 tw-min-h-[200px] tw-bg-white tw-rounded-lg tw-shadow-lg"},yot={class:"tw-px-5 tw-pt-5"},_ot=(0,s._)("h1",{class:"tw-font-bold tw-text-gray-600"},"Select Status",-1),kot={class:"tw-mt-3 tw-flex tw-gap-3 tw-flex-wrap"},Cot=["disabled","onClick"],Dot={class:"tw-mt-5 tw-px-5 tw-py-3 tw-bg-gray-50 tw-border-t tw-flex tw-gap-2 tw-justify-end"},Sot=(0,s._)("span",{class:"!tw-text-gray-500"},"Cancel",-1),zot=(0,s._)("span",{class:"!tw-text-white"},"Confirm",-1);function Uot(t,e,r,a,l,o){const i=(0,s.up)("popup-full"),w=(0,s.up)("OrderReporting");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:o.cancel,visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",xot,[(0,s._)("div",yot,[_ot,(0,s._)("div",kot,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(e=>((0,s.wg)(),(0,s.iD)("button",{disabled:o.isDisabled(e),onClick:t=>o.handleChange(e),key:e.value,class:(0,wt.C_)([[o.isDisabled(e)&&"tw-saturate-0",e.text,e.bg,e.id==t.delivery&&[e.ring,"tw-ring"]],"tw-px-4 tw-py-2 tw-rounded"])},(0,wt.zw)(e.name),11,Cot)))),128))])]),(0,s._)("div",Dot,[(0,s.Wm)(nt.T,{onClick:o.cancel,class:"!tw-capitalize",color:"grey-lighten-3",flat:""},{default:(0,s.w5)((()=>[Sot])),_:1},8,["onClick"]),(0,s.Wm)(nt.T,{onClick:o.handleConfirm,loading:t.isLoading,class:"!tw-capitalize",color:"primary-color",flat:""},{default:(0,s.w5)((()=>[zot])),_:1},8,["onClick","loading"])])])])),_:1},8,["onCancel","visible"]),(0,s.Wm)(w,{onOrderReported:o.cancel,order:r.order,visible:t.showPopupReporter,onCancel:e[0]||(e[0]=e=>t.showPopupReporter=!1)},null,8,["onOrderReported","order","visible"])])}const qot={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Pot=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Lot=(0,s._)("br",null,null,-1),Wot=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),Aot={class:"tw-flex tw-justify-end tw-mt-2"};function $ot(t,e,r,l,o,i){const w=(0,s.up)("VueDatePicker"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",qot,[Pot,(0,s.Wm)(w,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),Lot,Wot,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",Aot,[(0,s.Wm)(nt.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Eot={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ba.deliveryUpdateDelivery(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$emit("orderReported"),this.$store.dispatch("order/update",{id:t.id,order:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){console.log(this.order)}};const Tot=(0,m.Z)(Eot,[["render",$ot]]);var Fot=Tot,jot={props:["visible","order"],components:{OrderReporting:Fot},data:()=>({status:Hn,disabled:Mn,delivery:2,isLoading:!1,note:"",showPopupReporter:!1}),computed:{deliveryStatus(){return this.status.filter((t=>!!t.value))},selected(){return this.status.find((t=>t.id==this.delivery))}},watch:{order:{handler(t){this.delivery=this.getDeliveryId(t.delivery)},deep:!0,immediate:!0}},methods:{cancel(){this.getCurrentStatus(),this.$emit("cancel")},isDisabled(t){return this.disabled.includes(t.value)},handleChange(t){if(this.isDisabled(t))return!1;this.delivery=t.id},handleConfirm(){const t=this.selected;if(t.value===this.order.delivery)return this.cancel(),!1;"reporter"!=t.value&&this.updateOrder().then((()=>{this.cancel()})),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ba.deliveryUpdateDelivery(this.order.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.order.id,this.selected.value),this.isLoading=!1,this.cancel())}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})},getDeliveryId(t){return this.status.find((e=>e.value==t)).id||0},getCurrentStatus(){this.delivery=this.getDeliveryId(this.order.delivery)}},mounted(){this.getCurrentStatus()}};const Vot=(0,m.Z)(jot,[["render",Uot]]);var Iot=Vot,Oot={components:{OrderCardDelivery:Iot},props:["order"],data:()=>({deliveryStatus:Hn,expand:!1,confirmPopup:!1,labels:[{name:"Telephone",field:"phone",icon:"mdi-phone"},{name:"Date",field:"created_at",icon:"mdi-calendar"}]}),computed:{delivery(){return this.getDeliveryStatus(this.order.delivery)}},methods:{getDeliveryStatus(t){return this.deliveryStatus.find((e=>e.value==t))||this.deliveryStatus[0]},getPrice(t){return vo(t)}}};const Hot=(0,m.Z)(Oot,[["render",vot]]);var Mot=Hot,Rot={components:{OrderCard:Mot},data(){return{localUrl:w,deliveryStatus:Hn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"].filter((t=>"livrer"!=t.delivery))},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ba.deliveryOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Not=(0,m.Z)(Rot,[["render",rot]]);var Yot=Not;const Zot=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Delivered Orders"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Delivered orders list")])],-1),Kot={key:0},Bot={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Qot={class:"mb-5 tw-flex"},Jot={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Got={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Xot={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},tit=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),eit={class:"tw-relative"},rit=["value"],ait={key:0,class:""},sit={key:1},lit=(0,s._)("p",null,"No orders for now",-1),oit=[lit];function iit(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("OrdersTable");return(0,s.wg)(),(0,s.iD)("div",null,[Zot,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Kot,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Bot,[(0,s._)("div",Qot,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Jot,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Got,[(0,s._)("div",Xot,[tit,(0,s._)("div",eit,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value?t.value:"all"},(0,wt.zw)(t.name),9,rit)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ct.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),i.orders.length>0?((0,s.wg)(),(0,s.iD)("div",ait,[(0,s.Wm)(n,{orders:i.filteredOrders},null,8,["orders"])])):((0,s.wg)(),(0,s.iD)("div",sit,oit))])):(0,s.kq)("",!0)])}const wit={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},nit={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},dit={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},cit=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),uit={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},pit={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},git={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},mit=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),hit=["value"],fit={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},bit={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},vit={class:"tw-text-white"};function xit(t,e,r,l,o,i){const w=(0,s.up)("OrderRow");return(0,s.wg)(),(0,s.iD)("div",{key:r.orders.length},[(0,s._)("div",wit,[(0,s._)("table",nit,[(0,s._)("thead",dit,[(0,s._)("tr",null,[cit,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",uit,(0,wt.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.j4)(w,{key:t.id,order:t},null,8,["order"])))),128))])])]),(0,s._)("div",pit,[(0,s._)("div",git,[mit,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,hit)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",fit,[(0,s._)("div",bit,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.orders.length:i.nextRange)+" of "+(0,wt.zw)(r.orders.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",vit,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const yit=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),_it={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},kit={class:"tw-px-6 tw-py-4 tw-relative"},Cit={key:0},Dit={class:"tw-px-6 tw-py-4"},Sit={class:"tw-px-6 tw-py-4"},zit={class:"tw-px-6 tw-py-4"},Uit={class:"tw-px-6 tw-py-4"},qit={class:"tw-pb-2"},Pit={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},Lit={key:0},Wit={key:1},Ait={class:"tw-px-6 tw-py-4 tw-relative"},$it={class:"tw-flex tw-items-center tw-justify-center"},Eit={class:"tw-flex tw-gap-1"},Tit={key:0},Fit={class:"tw-px-6 tw-py-4"},jit={class:"tw-px-6 tw-py-4"},Vit={class:"tw-px-6 tw-py-4"},Iit={class:"tw-max-w-[300px] tw-min-w-[150px] tw-whitespace-normal"},Oit={class:"tw-px-6 tw-py-4"};function Hit(t,e,r,a,l,o){const i=(0,s.up)("OrderDelivery"),w=(0,s.up)("OrderActions");return(0,s.wg)(),(0,s.iD)("tr",{key:r.order.id,class:(0,wt.C_)([["reporter"==r.order.delivery&&"tw-relative",o.isReportedToday(r.order)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[yit,(0,s._)("th",_it,(0,wt.zw)(r.order.id),1),(0,s._)("td",kit,[(0,s.Uk)((0,wt.zw)(r.order?.created_at?.split("T")[0])+" ",1),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[o.isReportedToday(r.order)?((0,s.wg)(),(0,s.iD)("span",Cit," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",Dit,(0,wt.zw)(r.order.fullname),1),(0,s._)("td",Sit,(0,wt.zw)(r.order.adresse),1),(0,s._)("td",zit,(0,wt.zw)(r.order.phone),1),(0,s._)("td",Uit,[(0,s._)("div",qit,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",Pit,(0,wt.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,wt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Lit,"| "+(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",Wit,"| "+(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",Ait,[(0,s._)("div",$it,[((0,s.wg)(),(0,s.j4)(i,{class:(0,wt.C_)("reporter"==r.order.delivery&&"tw-mb-1"),order:r.order,id:r.order.id,key:r.order.delivery,delivery:r.order.delivery},null,8,["class","order","id","delivery"])),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",Eit,["reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("span",Tit,[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,wt.zw)(r.order?.reported_delivery_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",Fit,(0,wt.zw)(o.getPrice(r.order)),1),(0,s._)("td",jit,(0,wt.zw)(r.order.city),1),(0,s._)("td",Vit,[(0,s._)("div",Iit,(0,wt.zw)(r.order.note),1)]),(0,s._)("td",Oit,[((0,s.wg)(),(0,s.j4)(w,{key:r.order.id,order:r.order},null,8,["order"]))])],2)}const Mit={key:0,class:"focus:tw-ring-4 tw-min-w-fit focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between tw-bg-green-500/10 tw-text-green-500"},Rit={key:1},Nit={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},Yit=["onClick"];function Zit(t,e,r,a,l,o){const i=(0,s.up)("OrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},["livrer"==r.delivery?((0,s.wg)(),(0,s.iD)("div",Mit,(0,wt.zw)(o.selected.name),1)):(0,s.kq)("",!0),"livrer"!=r.delivery?((0,s.wg)(),(0,s.iD)("div",Rit,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,wt.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,wt.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ct.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ct.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,wt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Nit,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>!l.disabled.includes(t.value)&&o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,wt.C_)(["tw-block tw-px-4 tw-py-2",[l.disabled.includes(t.value)?"tw-text-neutral-400/80 tw-bg-neutral-400/10":[t.text,t.bg]]])},(0,wt.zw)(t.name),3)],8,Yit)))),128))])],2),(0,s.Wm)(i,{order:r.order,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])):(0,s.kq)("",!0)])),[[ie.L,o.close]])}var Kit={props:["delivery","id","order"],components:{OrderReporting:Fot},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Hn,disabled:Mn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;"reporter"!=t.value&&(this.selectedId=t.id,this.updateOrder(),this.close()),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ba.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const Bit=(0,m.Z)(Kit,[["render",Zit]]);var Qit=Bit;const Jit={key:0};function Git(t,e,r,a,l,o){return l.newOrder?((0,s.wg)(),(0,s.iD)("div",Jit,[(0,s.Wm)(nt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])):(0,s.kq)("",!0)}var Xit={props:["order"],name:"orderActions",data(){return{newOrder:null}},computed:{},methods:{},mounted(){this.newOrder={...this.order}}};const twt=(0,m.Z)(Xit,[["render",Git]]);var ewt=twt,rwt={props:["order","showNote"],components:{OrderDelivery:Qit,OrderActions:ewt},data(){return{showPopup:!1,isLoading:!1,todayDate:null}},methods:{handleClick(){this.showPopup=!0},isReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date==this.todayDate},getPrice(t){return vo(t)}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const awt=(0,m.Z)(rwt,[["render",Hit]]);var swt=awt,lwt={props:["orders"],components:{OrderRow:swt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,todayDate:null,columns:["#","Date","Client","Address","Phone","Product","Delivery","Price","City","Note","Actions"]}},computed:{deliveries(){return this.$store.getters["user/deliveries"]},prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.orders.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.orders.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.orders.filter(this.isReportedToday)}},methods:{isReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date==this.todayDate}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const owt=(0,m.Z)(lwt,[["render",xit]]);var iwt=owt,wwt={components:{OrdersTable:iwt},data(){return{localUrl:w,deliveryStatus:Hn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"]},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ba.deliveryDeliveredOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const nwt=(0,m.Z)(wwt,[["render",iit]]);var dwt=nwt,cwt={name:"deliveries",path:"/deliveries",component:Wa,meta:{module:"delivery"},children:[{name:"delivery/list",path:"",component:Yot,meta:{module:"delivery",subModule:"delivery/list",title:"Orders List",gate:"all"}},{name:"delivery/delivered",path:"/delivered",component:dwt,meta:{module:"delivery",subModule:"delivery/delivered",title:"Delivered Orders List",gate:"all"}}]};const uwt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Inventory State List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),pwt={key:0},gwt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},mwt={class:"mb-5 tw-flex"},hwt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},fwt={key:0,class:""};function bwt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("InventoryStateTable");return(0,s.wg)(),(0,s.iD)("div",null,[uwt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",pwt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",gwt,[(0,s._)("div",mwt,[(0,s.Wm)(nt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",hwt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryState.length>0?((0,s.wg)(),(0,s.iD)("div",fwt,[(0,s.Wm)(n,{columns:o.columns,states:i.filteredInventoryState},null,8,["columns","states"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}class vwt{async inventoryStates(){return await E.getCookie(),A.get("api/inventorystates")}async inventoryMovements(){return await E.getCookie(),A.get("api/inventorymovements")}async getMovement(t){return await E.getCookie(),A.get("api/inventorymovements/"+t)}async inventoryMovementCreate({product_id:t,delivery_id:e,variants:r}){return await E.getCookie(),A.post("api/inventorymovements/new",{product_id:t,delivery_id:e,variations:r})}async inventoryMovementUpdate(t,{product_id:e,delivery_id:r,variants:a,quantity:s}){return await E.getCookie(),A.post("api/inventorymovements/update/"+t,{product_id:e,delivery_id:r,variants:a,quantity:s})}async deliveryUpdateMovement(t,e,r){return await E.getCookie(),A.post("api/delivery/inventorymovements/update/"+t,{is_received:e,note:r})}async delete(t){return await E.getCookie(),A["delete"]("api/inventorymovements/delete/"+t)}}var xwt=new vwt;const ywt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},_wt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},kwt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Cwt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Dwt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Swt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),zwt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Uwt={class:"tw-px-6 tw-py-4 tw-underline tw-underline-offset-1 tw-font-medium"},qwt={class:"tw-px-6 tw-py-4"},Pwt={class:"tw-px-6 tw-py-4"},Lwt={class:"tw-px-6 tw-py-4 tw-font-bold tw-text-green-500"},Wwt={class:"tw-px-6 tw-py-4"},Awt={class:"tw-px-6 tw-py-4"},$wt=(0,s._)("br",null,null,-1),Ewt={class:"tw-px-6 tw-py-4"},Twt={class:"mt-5 tw-flex tw-justify-between"},Fwt={class:"d-flex align-center"},jwt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700"},"Show per page: ",-1),Vwt={class:"d-flex align-center"},Iwt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Owt={class:"tw-text-white"};function Hwt(t,e,r,a,l,o){const i=(0,s.up)("router-link"),w=(0,s.up)("InventoryStateActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ywt,[(0,s._)("table",_wt,[(0,s._)("thead",kwt,[(0,s._)("tr",null,[Cwt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Dwt,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Swt,(0,s._)("th",zwt,(0,wt.zw)(t.id),1),(0,s._)("td",Uwt,[(0,s.Wm)(i,{to:"products/"+t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.name),1)])),_:2},1032,["to"])]),(0,s._)("td",qwt,(0,wt.zw)(t.buying_price)+" DH ",1),(0,s._)("td",Pwt,(0,wt.zw)(t.selling_price)+" DH ",1),(0,s._)("td",Lwt,(0,wt.zw)(o.availableQuantity(t)),1),(0,s._)("td",Wwt,(0,wt.zw)(t.total_quantity),1),(0,s._)("td",Awt,[(0,s.Uk)((0,wt.zw)(t.updated_at?.split("T")[0])+" ",1),$wt,(0,s.Uk)(" "+(0,wt.zw)(t.updated_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Ewt,[(0,s.Wm)(w,{state:t},null,8,["state"])])])))),128))])])]),(0,s._)("div",Twt,[(0,s._)("div",Fwt,[jwt,(0,s.Wm)(oh.r,{"hide-details":!0,modelValue:l.paginationLimit,"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),items:l.allowedLimit,variant:"outlined",density:"compact",color:"primary-color"},null,8,["modelValue","items"])]),(0,s._)("div",Vwt,[(0,s._)("div",Iwt,(0,wt.zw)(o.prevRange+1)+" - "+(0,wt.zw)(l.currentPage==o.pageCount?r.states.length:o.nextRange)+" of "+(0,wt.zw)(r.states.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Owt,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function Mwt(t,e,r,a,l,o){const i=(0,s.up)("InventoryStateDetails"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.state.id,class:"tw-flex tw-items-center"},[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>l.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1}),(0,s.Wm)(w,{visible:l.detailsPopup,onCancel:e[2]||(e[2]=t=>l.detailsPopup=!1)},{default:(0,s.w5)((()=>[l.detailsPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[1]||(e[1]=t=>l.detailsPopup=!1),state:r.state},null,8,["state"])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const Rwt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Nwt={class:"tw-p-5"},Ywt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Zwt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Kwt={class:"tw-w-4 tw-p-4"},Bwt={class:"tw-w-4 tw-p-4"},Qwt={class:"tw-w-4 tw-p-4"},Jwt={class:"tw-w-4 tw-p-4"},Gwt={class:"tw-flex tw-items-center tw-gap-1"},Xwt={class:"tw-text-green-500"},tnt={key:0},ent={class:"tw-text-red-400"},rnt=(0,s.uE)('<div class="tw-flex tw-gap-3 mt-5"><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-green-500"></div><span>Available</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-neutral-700"></div><span>Initial</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-red-400"></div><span>Not Received</span></div></div>',1);function ant(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Rwt,[(0,s.Wm)(nt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Nwt,[(0,s._)("table",Ywt,[Zwt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Kwt,(0,wt.zw)(t.id),1),(0,s._)("td",Bwt,(0,wt.zw)(t.size),1),(0,s._)("td",Qwt,(0,wt.zw)(t.color),1),(0,s._)("td",Jwt,[(0,s._)("div",Gwt,[(0,s._)("span",Xwt,(0,wt.zw)(t.available_quantity),1),(0,s._)("span",null,"/ "+(0,wt.zw)(t.quantity),1),t.on_hold>0?((0,s.wg)(),(0,s.iD)("span",tnt,[(0,s.Uk)(" / "),(0,s._)("span",ent,(0,wt.zw)(t.on_hold),1)])):(0,s.kq)("",!0)])])])))),128))])]),rnt])])}var snt={props:["state"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){console.log(this.state)}};const lnt=(0,m.Z)(snt,[["render",ant]]);var ont=lnt,int={props:["rowIndex","state"],components:{InventoryStateDetails:ont},name:"inventoryStateActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{},mounted(){}};const wnt=(0,m.Z)(int,[["render",Mwt]]);var nnt=wnt,dnt={props:["columns","states"],components:{InventoryStateActions:nnt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.states.length/this.paginationLimit)},items(){return this.states.slice(this.prevRange,this.nextRange)}},methods:{availableQuantity(t){let e=0;return t.variations.forEach((t=>{e+=t.available_quantity})),e}}};const cnt=(0,m.Z)(dnt,[["render",Hwt]]);var unt=cnt,pnt={components:{InventoryStateTable:unt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"product_name",name:"Product Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"available",name:"Available"},{prop:"quantity",name:"Quantity"},{prop:"updated_at",name:"Updated At"},{prop:"actions",name:"Actions"}]}},computed:{inventoryState(){return this.$store.getters["inventory/inventoryState"]},filteredInventoryState(){return this.inventoryState.filter((t=>!!(t.ref.toLowerCase().includes(this.search.toLowerCase())||t.name.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{async getInventoryStates(){await xwt.inventoryStates().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryState",e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryStates()}};const gnt=(0,m.Z)(pnt,[["render",bwt]]);var mnt=gnt;const hnt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Add Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create New Movement")],-1),fnt={key:0},bnt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},vnt={class:"tw-w-full"},xnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),ynt={class:"tw-relative"},_nt=["disabled"],knt=["value"],Cnt={class:"tw-w-full"},Dnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product Name",-1),Snt={class:"tw-relative"},znt=["disabled"],Unt=["value"],qnt={class:"tw-w-full"},Pnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),Lnt={class:"tw-relative"},Wnt=["value"],Ant={class:"tw-w-full"},$nt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Ent={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Tnt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),Fnt={class:"tw-max-w-full"},jnt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Vnt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Int={class:"tw-w-4 tw-p-4"},Ont={class:"tw-w-4 tw-p-4"},Hnt={class:"tw-w-4 tw-p-4"},Mnt={class:"tw-w-4 tw-p-4"},Rnt={class:"tw-w-4 tw-p-4"},Nnt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Ynt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Znt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Knt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Bnt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[hnt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fnt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",bnt,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vnt,[xnt,(0,s._)("div",ynt,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length,"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname+" "+t.lastname),9,knt)))),128))],8,_nt),[[a.bM,o.delivery]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Cnt,[Dnt,(0,s._)("div",Snt,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length>0,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,Unt)))),128))],8,znt),[[a.bM,o.product]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qnt,[Pnt,(0,s._)("div",Lnt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.color+" - "+t.size+"  ("+t.available_quantity+" items)"),9,Wnt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Ant,[$nt,(0,s._)("div",null,[(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",Ent,[(0,s.Wm)(nt.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Tnt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Fnt,[(0,s._)("table",jnt,[Vnt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Int,(0,wt.zw)(t.id),1),(0,s._)("td",Ont,(0,wt.zw)(t.size),1),(0,s._)("td",Hnt,(0,wt.zw)(t.color),1),(0,s._)("td",Mnt,(0,wt.zw)(t.quantity),1),(0,s._)("td",Rnt,[(0,s._)("div",Nnt,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Ynt,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Znt])),_:1}),(0,s.Wm)(nt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Knt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Qnt={data(){return{isLoading:!1,isLoaded:!1,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.available_quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.available_quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},create(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,xwt.inventoryMovementCreate({product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.selectedVariations=[],this.getData()),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await ot.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return xwt.inventoryStates().then((t=>{if("SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;if(this.$store.dispatch("product/setProducts",e),e.length>0){const t=e[0];this.product=t.id,this.variations.length>0&&(this.variation=this.variations[0].id)}else this.product=null}}),(t=>{this.$handleApiError(t)}))},getData(){this.isLoaded=!1,Promise.allSettled([this.getProducts(),this.getDeliveries()]).then((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const Jnt=(0,m.Z)(Qnt,[["render",Bnt]]);var Gnt=Jnt;const Xnt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Edit an existing Movement")],-1),tdt={key:0},edt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},rdt={class:"tw-w-full"},adt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),sdt={class:"tw-relative"},ldt=["value"],odt={class:"tw-w-full"},idt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),wdt={class:"tw-relative"},ndt=["value"],ddt={class:"tw-w-full"},cdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),udt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},pdt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),gdt={class:"tw-max-w-full"},mdt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},hdt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),fdt={class:"tw-w-4 tw-p-4"},bdt={class:"tw-w-4 tw-p-4"},vdt={class:"tw-w-4 tw-p-4"},xdt={class:"tw-w-4 tw-p-4"},ydt={class:"tw-w-4 tw-p-4"},_dt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},kdt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Cdt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Ddt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Sdt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Xnt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",tdt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",edt,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",rdt,[adt,(0,s._)("div",sdt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.firstname+" "+t.lastname),9,ldt)))),128))],512),[[a.bM,o.delivery]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",odt,[idt,(0,s._)("div",wdt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.color+" / "+t.size+" / "+t.quantity),9,ndt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(ct.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",ddt,[cdt,(0,s._)("div",null,[(0,s.Wm)(ut.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[2]||(e[2]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",udt,[(0,s.Wm)(nt.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[pdt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Ta.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",gdt,[(0,s._)("table",mdt,[hdt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",fdt,(0,wt.zw)(t.id),1),(0,s._)("td",bdt,(0,wt.zw)(t.size),1),(0,s._)("td",vdt,(0,wt.zw)(t.color),1),(0,s._)("td",xdt,(0,wt.zw)(t.quantity),1),(0,s._)("td",ydt,[(0,s._)("div",_dt,[(0,s.Wm)(nt.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",kdt,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Cdt])),_:1}),(0,s.Wm)(nt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Ddt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var zdt={data(){return{isLoading:!1,isLoaded:!1,movement:null,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},id(){return this.$route.params.id},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},update(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,xwt.inventoryMovementUpdate(this.id,{product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await ot.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return ha.all().then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.products;this.$store.dispatch("product/setProducts",e),e.length>0?this.product=e[0].id:this.product=null}}),(t=>{this.$handleApiError(t)}))},getMovement(){return xwt.getMovement(this.id).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.movement;this.product=e.product.id,this.delivery=e.delivery.id,this.selectedVariations=e.inventory_movement_variations;let r=0;this.selectedVariations.forEach((t=>{r+=t.quantity})),this.quantity_total=r}}),(t=>{this.$handleApiError(t)}))}},mounted(){Promise.allSettled([this.getProducts(),this.getDeliveries(),this.getMovement()]).then((()=>{this.isLoaded=!0}))}};const Udt=(0,m.Z)(zdt,[["render",Sdt]]);var qdt=Udt;const Pdt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Inventory State List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),Ldt={key:0},Wdt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Adt={class:"mb-5 tw-flex"},$dt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Edt={key:0,class:""};function Tdt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("InventoryMovementsTable");return(0,s.wg)(),(0,s.iD)("div",null,[Pdt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ldt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Wdt,[(0,s._)("div",Adt,[(0,s.Wm)(nt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",$dt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryMovements.length>0?((0,s.wg)(),(0,s.iD)("div",Edt,[(0,s.Wm)(n,{columns:o.columns,movements:i.inventoryMovements},null,8,["columns","movements"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}const Fdt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},jdt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Vdt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Idt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Odt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Hdt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Mdt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Rdt={class:"tw-px-6 tw-py-4"},Ndt=(0,s._)("br",null,null,-1),Ydt={class:"tw-px-6 tw-py-4"},Zdt={class:"tw-px-6 tw-py-4"},Kdt={class:"tw-px-6 tw-py-4"},Bdt={class:"tw-px-6 tw-py-4"},Qdt={class:"tw-px-6 tw-py-4"},Jdt={class:"tw-w-[200px] !tw-whitespace-normal"},Gdt={class:"tw-px-6 tw-py-4"},Xdt={class:"tw-px-6 tw-py-4"},tct={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},ect={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},rct=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),act=["value"],sct={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},lct={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},oct={class:"tw-text-white"};function ict(t,e,r,l,o,i){const w=(0,s.up)("router-link"),n=(0,s.up)("InventoryMovementsActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Fdt,[(0,s._)("table",jdt,[(0,s._)("thead",Vdt,[(0,s._)("tr",null,[Idt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Odt,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movements,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Hdt,(0,s._)("th",Mdt,(0,wt.zw)(t.id),1),(0,s._)("td",Rdt,[(0,s.Uk)((0,wt.zw)(t.created_at?.split("T")[0])+" ",1),Ndt,(0,s.Uk)(" "+(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Ydt,(0,wt.zw)(t.delivery.firstname+" "+t.delivery.lastname),1),(0,s._)("td",Zdt,[(0,s.Wm)(w,{to:"products/"+t.product.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.product.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Kdt,(0,wt.zw)(i.quantityTotal(t.inventory_movement_variations)),1),(0,s._)("td",Bdt,[(0,s._)("div",{class:(0,wt.C_)([[t.is_received?"tw-text-green-500 tw-bg-green-500/10":"tw-text-red-500 tw-bg-red-500/10"],"tw-flex tw-justify-center tw-py-1 tw-rounded-lg tw-items-center"])},[(0,s._)("span",null,(0,wt.zw)(t.is_received?"Yes":"No"),1)],2)]),(0,s._)("td",Qdt,[(0,s._)("div",Jdt,(0,wt.zw)(t.note?t.note:"-"),1)]),(0,s._)("td",Gdt,(0,wt.zw)(t.delivery.city?.name),1),(0,s._)("td",Xdt,[(0,s.Wm)(n,{movement:t},null,8,["movement"])])])))),128))])])]),(0,s._)("div",tct,[(0,s._)("div",ect,[rct,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,act)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",sct,[(0,s._)("div",lct,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.movements.length:i.nextRange)+" of "+(0,wt.zw)(r.movements.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",oct,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const wct={class:"md:tw-w-[50%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},nct=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-blue-500"},"Confirmation",-1),dct={class:"mt-3"},cct=(0,s._)("h2",{class:"mb-2"},"Received",-1),uct={class:"tw-mt-3"},pct=(0,s._)("h2",{class:"tw-text-md mb-1"},"Add note",-1),gct={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},mct=(0,s._)("span",{class:"text-white"}," Cancel ",-1),hct=(0,s._)("span",{class:"text-white"}," Update ",-1);function fct(t,e,r,l,o,i){const w=(0,s.up)("popup-full"),n=(0,s.up)("MovementDetails"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",{key:r.movement.id,class:"tw-flex tw-items-center"},[["delivery","admin"].includes(i.user.role)?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>o.confirmPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-checkbox-marked-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.kq)("",!0),(t.$can("view_inventory_movement"),(0,s.wg)(),(0,s.j4)(nt.T,{key:2,onClick:e[1]||(e[1]=t=>o.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})),t.$can("delete_inventory_movement")?((0,s.wg)(),(0,s.j4)(nt.T,{key:3,onClick:e[2]||(e[2]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("confirmation_inventory_movement")?((0,s.wg)(),(0,s.j4)(w,{key:4,visible:o.confirmPopup,onCancel:e[6]||(e[6]=t=>o.confirmPopup=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",wct,[nct,(0,s._)("div",dct,[cct,(0,s.Wm)(ih.G,{density:"compact","hide-details":!0,modelValue:o.isConfirmed,"onUpdate:modelValue":e[3]||(e[3]=t=>o.isConfirmed=t),color:"blue"},null,8,["modelValue"])]),(0,s._)("div",uct,[pct,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n\r\n              ",512),[[a.nr,o.note]])]),(0,s._)("div",gct,[(0,s.Wm)(nt.T,{onClick:e[5]||(e[5]=t=>o.confirmPopup=!1),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[mct])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.updateMovement,color:"blue",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[hct])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])):(0,s.kq)("",!0),(0,s.Wm)(w,{visible:o.detailsPopup,onCancel:e[8]||(e[8]=t=>o.detailsPopup=!1)},{default:(0,s.w5)((()=>[o.detailsPopup?((0,s.wg)(),(0,s.j4)(n,{key:0,onCancel:e[7]||(e[7]=t=>o.detailsPopup=!1),movement:r.movement},null,8,["movement"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this movement?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const bct={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},vct={class:"tw-p-5"},xct={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},yct=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),_ct={class:"tw-w-4 tw-p-4"},kct={class:"tw-w-4 tw-p-4"},Cct={class:"tw-w-4 tw-p-4"},Dct={class:"tw-w-4 tw-p-4"};function Sct(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",bct,[(0,s.Wm)(nt.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",vct,[(0,s._)("table",xct,[yct,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movement.inventory_movement_variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",_ct,(0,wt.zw)(t.id),1),(0,s._)("td",kct,(0,wt.zw)(t.product_variation.size),1),(0,s._)("td",Cct,(0,wt.zw)(t.product_variation.color),1),(0,s._)("td",Dct,(0,wt.zw)(t.quantity),1)])))),128))])])])])}var zct={props:["movement"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const Uct=(0,m.Z)(zct,[["render",Sct]]);var qct=Uct,Pct={props:["rowIndex","movement"],components:{MovementDetails:qct},name:"inventoryActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,xwt["delete"](this.movement.id).then((t=>{"SUCCESS"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Inventory Movement Deleted Successfully"})),this.getMovements()})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1},updateMovement(){this.isLoading=!0,xwt.deliveryUpdateMovement(this.movement.id,this.isConfirmed?1:0,this.note).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:"Inventory Movement Updated Successfully"}),this.getMovements())}),this.$handleApiError).finally((()=>{this.isLoading=!1,this.confirmPopup=!1}))},getMovements(){xwt.inventoryMovements().then((t=>{if("SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e)}})).catch(this.$handleApiError)}},mounted(){this.note=this.movement.note,this.isConfirmed=1==this.movement.is_received}};const Lct=(0,m.Z)(Pct,[["render",fct]]);var Wct=Lct,Act={props:["columns","movements"],components:{InventoryMovementsActions:Wct},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.movements.length/this.paginationLimit)},items(){return this.movements.slice(this.prevRange,this.nextRange)}},methods:{quantityTotal(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const $ct=(0,m.Z)(Act,[["render",ict]]);var Ect=$ct,Tct={components:{InventoryMovementsTable:Ect},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"created_at",name:"Date"},{prop:"delivery",name:"Delivery"},{prop:"product",name:"Product"},{prop:"quantity",name:"Quantity"},{prop:"received",name:"Received"},{prop:"note",name:"Note"},{prop:"city",name:"City"},{prop:"actions",name:"Actions"}]}},computed:{inventoryMovements(){return this.$store.getters["inventory/inventoryMovements"]},filteredInventoryState(){return this.inventoryMovements.filter((()=>!0))}},methods:{async getInventoryMovements(){await xwt.inventoryMovements().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e),console.log(e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryMovements()}};const Fct=(0,m.Z)(Tct,[["render",Tdt]]);var jct=Fct,Vct={name:"inventory/list",path:"/inventories",component:Wa,meta:{module:"inventory"},children:[{name:"inventory/state",path:"",component:mnt,meta:{module:"inventory",subModule:"inventory/list",title:"Inventory State",gate:"show_all_inventory_states"}},{name:"inventory/movememnts",path:"movements",component:jct,meta:{module:"inventory",subModule:"inventory/movements",title:"Inventory Movements",gate:"show_all_inventory_movements"}},{name:"inventory/add",path:"add",component:Gnt,meta:{module:"inventory",subModule:"inventory/add",title:"Add Inventory Movement",gate:"create_inventory_movement"}},{name:"inventory/update",path:"update/:id",component:qdt,meta:{module:"inventory",subModule:"inventory/update",title:"Update Inventory Movement",gate:"update_inventory_movement"}}]},Ict=r(3012);const Oct={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},Hct={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},Mct=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Scan the QR code ",-1),Rct={class:"tw-p-5"},Nct={class:"tw-rounded tw-overflow-hidden tw-ring tw-ring-orange-400"},Yct={key:1,class:"error"},Zct={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"};var Kct={__name:"ScanPopUp",props:["visible"],emits:["update:visible","detect"],setup(t,{emit:e}){const r=new Audio(w+"assets/bip.mp3"),a=e,l=t,o=t=>{a("update:visible",t)};function i(t,e){for(const r of t){const[t,...a]=r.cornerPoints;e.strokeStyle="red",e.beginPath(),e.moveTo(t.x,t.y);for(const{x:r,y:s}of a)e.lineTo(r,s);e.lineTo(t.x,t.y),e.closePath(),e.stroke()}}function n(t,e){for(const r of t){const{boundingBox:{x:t,y:a,width:s,height:l}}=r;e.lineWidth=2,e.strokeStyle="#007bff",e.strokeRect(t,a,s,l)}}function d(t,e){for(const r of t){const{boundingBox:t,rawValue:a}=r,s=t.x+t.width/2,l=t.y+t.height/2,o=Math.max(12,50*t.width/e.canvas.width);e.font=`bold ${o}px sans-serif`,e.textAlign="center",e.lineWidth=3,e.strokeStyle="#35495e",e.strokeText(r.rawValue,s,l),e.fillStyle="#5cb984",e.fillText(a,s,l)}}const c=[{text:"nothing (default)",value:void 0},{text:"outline",value:i},{text:"centered text",value:d},{text:"bounding box",value:n}],u=(0,ke.iH)(c[1]),p=(0,ke.iH)(null),g=(0,ke.iH)([]);(0,s.bv)((async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){if(g.value=(await navigator.mediaDevices.enumerateDevices()).filter((({kind:t})=>"videoinput"===t)),g.value.length>0){const t=g.value.find((({label:t})=>t.toLowerCase().includes("back")||t.toLowerCase().includes("rear")));p.value=t||g.value[0]}}else console.error("MediaDevices API not supported")}));const m=(0,ke.iH)("");function h(t){const e=t.map((t=>t.rawValue)).join(", ");console.log("Detected Code: "),console.log(e),a("detect",e),o(!1),r.play(),m.value=e}const f=(0,ke.iH)({qr_code:!0}),b=(0,s.Fl)((()=>Object.keys(f.value||{}).filter((t=>f.value&&f.value[t])))),v=(0,ke.iH)("");function x(t){"NotAllowedError"===t.name?v.value+="you need to grant camera access permission":"NotFoundError"===t.name?v.value+="no camera on this device":"NotSupportedError"===t.name?v.value+="secure context required (HTTPS, localhost)":"NotReadableError"===t.name?v.value+="is the camera already in use?":"OverconstrainedError"===t.name?v.value+="installed cameras are not suitable":"StreamApiNotSupportedError"===t.name?v.value+="Stream API is not supported in this browser":"InsecureContextError"===t.name?v.value+="Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":v.value+=t.message}return(t,e)=>{const r=(0,s.up)("icon"),a=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o(!0)),class:"tw-fixed tw-bottom-5 tw-shadow tw-shadow-orange-300 tw-right-5 tw-flex tw-items-center tw-justify-center tw-w-[60px] tw-h-[60px] tw-gap-2 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-border-orange-300 tw-rounded-md tw-mb-2 tw-z-20"},[(0,s.Wm)(r,{icon:"iconamoon:scanner-light",class:"lg:tw-text-3xl tw-text-2xl"})]),(0,s.Wm)(a,{visible:l.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Oct,[(0,s._)("div",Hct,[Mct,(0,s._)("div",Rct,[(0,s._)("div",Nct,[null!==p.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Ict.vG),{key:0,constraints:{deviceId:p.value.deviceId},track:u.value.value,formats:b.value,"facing-mode":"environment",onError:x,onDetect:h},null,8,["constraints","track","formats"])):((0,s.wg)(),(0,s.iD)("p",Yct," No cameras on this device "))])]),(0,s._)("div",Zct,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o(!1)),disabled:!1,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])])),_:1},8,["visible"])])}}};const Bct=Kct;var Qct=Bct;const Jct=t=>((0,s.dD)("data-v-3fcb733e"),t=t(),(0,s.Cn)(),t),Gct={class:"!tw-w-[25px] !tw-h-[25px] tw-relative"},Xct=Jct((()=>(0,s._)("div",{class:"check-container tw-scale-[0.2] tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2"},[(0,s._)("div",{class:"check-background"},[(0,s._)("svg",{viewBox:"0 0 65 51",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M7 25L27.3077 44L58.5 7",stroke:"white","stroke-width":"13","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1))),tut=[Xct];function eut(t,e){return(0,s.wg)(),(0,s.iD)("div",Gct,tut)}const rut={},aut=(0,m.Z)(rut,[["render",eut],["__scopeId","data-v-3fcb733e"]]);var sut=aut;const lut={class:"tw-translate-y-0 tw-opacity-100 tw-w-full tw-p-2 tw-min-h-[60px] tw-bg-white tw-duration-300 tw-rounded tw-shadow-md"},out={class:"tw-flex tw-justify-between tw-items-center"},iut={class:"tw-space-y-4"},wut={class:"tw-flex tw-items-center tw-gap-4"},nut={class:"tw-flex tw-items-center tw-gap-2"},dut={style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},cut={key:0,class:"tw-flex tw-items-center tw-gap-0.5 tw-bg-blue-100 tw-p-1 tw-rounded"},uut=(0,s._)("span",{style:{"line-height":"10px"},class:"tw-text-xs tw-capitalize tw-font-medium tw-text-blue-600"},"Double Scan",-1),put=[uut],gut={class:"tw-flex tw-items-center tw-gap-5"},mut={key:0,class:"tw-flex tw-items-center"},hut=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse"},null,-1),fut=(0,s._)("div",{class:"tw-w-[70px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),but=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-5"},null,-1),vut=(0,s._)("div",{class:"tw-w-[100px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),xut=[hut,fut,but,vut],yut={key:1,class:"tw-flex tw-items-center tw-gap-2"},_ut={key:0,style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},kut={key:2,class:"tw-flex tw-items-center tw-gap-2"},Cut={key:0,style:{"line-height":"16px"},class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-max-w-[120px] tw-truncate"},Dut={key:3,class:"tw-w-fit tw-px-2 tw-bg-rose-100 tw-text-rose-500 tw-text-sm tw-uppercase tw-h-[25px] tw-rounded-md tw-flex tw-items-center tw-justify-center"},Sut={class:"tw-h-full tw-space-y-2 tw-flex-col tw-flex tw-items-end tw-justify-between"},zut={key:0,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},Uut={class:"tw-text-blue-500 tw-text-sm"},qut={key:1,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},Put={class:"tw-text-amber-500 tw-text-sm"};var Lut={__name:"OrderRow",props:["order"],emits:["update"],setup(t,{emit:e}){const r=t,a=e,l=()=>{const t=r.order.scanned.replace(/[^0-9]/g,"");ba.warehouseControl(t,{target:r.order.target,scanned:r.order.scanned}).then((t=>{if("SUCCESS"==t.data.code){const e={...r.order,...t.data.order,loading:!1,check:!0};a("update",r.order.scan_id,e)}else a("update",r.order.scan_id,{...r.order,loading:!1,check:!1})}),(t=>{a("update",r.order.scan_id,{...r.order,loading:!1,check:!1}),console.log(t)}))};return l(),(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",lut,[(0,s._)("div",out,[(0,s._)("div",iut,[(0,s._)("div",wut,[(0,s._)("div",nut,[(0,s.Wm)(a,{icon:"solar:qr-code-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),(0,s._)("span",dut,(0,wt.zw)(r.order.scanned),1)]),r.order.already_scanned?((0,s.wg)(),(0,s.iD)("div",cut,put)):(0,s.kq)("",!0)]),(0,s._)("div",gut,[r.order.loading?((0,s.wg)(),(0,s.iD)("div",mut,xut)):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",yut,[(0,s.Wm)(a,{icon:"solar:hashtag-square-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.id?((0,s.wg)(),(0,s.iD)("span",_ut,(0,wt.zw)(r.order.id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",kut,[(0,s.Wm)(a,{icon:"solar:user-id-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.fullname?((0,s.wg)(),(0,s.iD)("span",Cut,(0,wt.zw)(r.order.fullname),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Dut,"Not Found"))])]),(0,s._)("div",Sut,[(0,s._)("div",null,[!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.j4)((0,ke.SU)(sut),{key:0})):(0,s.kq)("",!0),r.order.loading?((0,s.wg)(),(0,s.j4)(a,{key:1,class:"tw-text-lg tw-text-orange-400 tw-animate-spin",icon:"mingcute:loading-line"})):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(a,{key:2,class:"tw-text-2xl tw-text-rose-500",icon:"material-symbols-light:error-outline"}))]),(0,s._)("div",null,["in"==r.order.target?((0,s.wg)(),(0,s.iD)("div",zut,[(0,s.Wm)(a,{icon:"lets-icons:sign-in-squre-duotone",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",Uut,(0,wt.zw)(r.order.target),1)])):(0,s.kq)("",!0),"out"==r.order.target?((0,s.wg)(),(0,s.iD)("div",qut,[(0,s.Wm)(a,{icon:"lets-icons:sign-out-squre-duotone",class:"tw-text-xl tw-text-amber-500"}),(0,s._)("span",Put,(0,wt.zw)(r.order.target),1)])):(0,s.kq)("",!0)])])])])}}};const Wut=Lut;var Aut=Wut;const $ut={class:"lg:tw-p-6"},Eut={class:"tw-p-5 lg:tw-border tw-min-h-[calc(100vh-135px)] tw-flex tw-flex-col tw-bg-white tw-w-full lg:tw-rounded-md tw-mb-5"},Tut={class:"tw-grid tw-grid-cols-12 tw-h-full tw-flex-1 tw-gap-5"},Fut={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},jut=(0,s._)("h1",{class:"tw-text-lg"},"Target",-1),Vut={class:"tw-grid tw-grid-cols-2 tw-gap-5 tw-mt-2"},Iut={class:"tw-grid tw-px-2 tw-grid-cols-12 tw-justify-center tw-mt-10"},Out=(0,s._)("p",{class:"tw-text-xl tw-font-semibold tw-py-4"},"Scan the order reference ID.",-1),Hut={class:"tw-grid tw-grid-cols-8 tw-mt-16 col-span-12 tw-gap-2 tw-w-full tw-max-w-[23rem]"},Mut={id:"success-message",class:"tw-inline-flex tw-items-center"},Rut=(0,s._)("div",{class:"tw-grid tw-grid-cols-8 tw-py-5 tw-gap-2 tw-w-full tw-max-w-[23rem]"},[(0,s._)("button",{class:"tw-col-span-8 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",{id:"success-message",class:"tw-inline-flex tw-items-center"}," Confirm ")])],-1),Nut={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},Yut={class:"tw-min-h-[600px] tw-flex-1 tw-w-full tw-bg-gray-100 tw-rounded-md tw-p-2 tw-space-y-2 tw-shadow-inner"};var Zut={__name:"ScannerView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)([]),l=(0,ke.iH)(""),o=(0,ke.iH)("in"),i=(0,s.Fl)((()=>{if(""==l.value)return!1;const t=l.value.replace(/[^a-zA-Z]/g,"").toLocaleLowerCase(),e=l.value.replace(/[^0-9]/g,"");return t!=u||!e})),w=t=>{l.value=t,g()},n=()=>{var t=document.getElementById("code");t.select(),navigator.clipboard.writeText(t.value)},d=(t,e)=>{r.value=r.value.map((r=>r.scan_id==t?e:r))},c=t=>r.value.some((e=>e.scanned==t)),p=()=>{const t=Date.now().toString(36),e=Math.random().toString(36).substr(2,5);return t+e},g=()=>{const t={scan_id:p(),scanned:l.value,loading:!0,check:!1,target:o.value};if(""==l.value)return Tc("Reference ID is not valid","warning"),!1;c(l.value)&&(t.already_scanned=!0),i.value||""==l.value||(r.value.unshift(t),l.value="")};return(t,c)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",$ut,[(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(Qct),{visible:e.value,"onUpdate:visible":c[0]||(c[0]=t=>e.value=t),onDetect:w},null,8,["visible"])]),(0,s._)("div",Eut,[(0,s._)("div",Tut,[(0,s._)("div",Fut,[(0,s._)("div",null,[jut,(0,s._)("div",Vut,[(0,s._)("button",{onClick:c[1]||(c[1]=t=>o.value="in"),class:(0,wt.C_)([["in"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-plus",class:(0,wt.C_)(["tw-text-2xl",["in"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,wt.C_)(["in"==o.value?"tw-text-white":"tw-text-neutral-500"])},"IN",2)],2),(0,s._)("button",{onClick:c[2]||(c[2]=t=>o.value="out"),class:(0,wt.C_)([["out"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-minus",class:(0,wt.C_)(["tw-text-2xl",["out"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,wt.C_)(["out"==o.value?"tw-text-white":"tw-text-neutral-500"])},"OUT",2)],2)])]),(0,s._)("div",Iut,[(0,s._)("form",{onSubmit:(0,a.iM)(g,["prevent"]),class:"lg:tw-col-span-12 tw-col-span-12 tw-flex tw-flex-col tw-items-center tw-justify-center"},[Out,(0,s._)("div",{onClick:c[3]||(c[3]=t=>e.value=!0),class:(0,wt.C_)([[i.value&&"tw-border-rose-400 tw-ring tw-ring-rose-400"],"tw-relative hover:tw-scale-110 tw-duration-300 tw-cursor-pointer tw-h-[150px] tw-w-[150px] tw-border-2 tw-rounded-3xl tw-mt-10 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(u,{class:"tw-w-[150px] tw-h-[150px] tw-border-2 tw-rounded-3xl",icon:"fluent:scan-dash-28-regular"}),(0,s._)("div",{class:(0,wt.C_)([[i.value&&"!tw-opacity-100"],"tw-opacity-0 tw-absolute tw-top-1/2 tw-left-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-w-full tw-h-[30px] tw-bg-rose-500 tw-flex tw-items-center tw-justify-center tw-font-medium tw-text-sm tw-text-white"])}," ID NOT VALID ",2)],2),(0,s.kq)("",!0),(0,s._)("div",Hut,[(0,s.wy)((0,s._)("input",{placeholder:"Reference ID",id:"code",type:"text","onUpdate:modelValue":c[4]||(c[4]=t=>l.value=t),class:"tw-bg-gray-50 border tw-col-span-6 tw-rounded-lg tw-outline-none focus:tw-ring-gray-500 focus:tw-border-gray-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-gray-400 dark:tw-focus:tw-ring-blue-500 dark:focus:tw-border-blue-500"},null,512),[[a.nr,l.value]]),(0,s._)("button",{type:"button",onClick:n,class:"tw-col-span-2 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",Mut,[(0,s.Wm)(u,{icon:"mdi:content-copy"})])])]),Rut],32)])]),(0,s._)("div",Nut,[(0,s._)("div",Yut,[(0,s.Wm)(a.W3,{"enter-from-class":"tw-translate-y-[10px] tw-opacity-0"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(Aut),{onUpdate:d,order:t,key:t.scan_id},null,8,["order"])))),128))])),_:1})])])])])])}}};const Kut=Zut;var But=Kut,Qut={name:"scanner",path:"/scanner",component:Wa,meta:{module:"qrcode"},children:[{name:"scanner/code",path:"",component:But,meta:{module:"scaanner",subModule:"scaanner/code",title:"Scanner",role:"admin",gate:"stock_management"}}]};const Jut={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Gut=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Shop List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your shops")],-1),Xut={key:0},tpt=(0,s._)("span",{class:"text-white"}," Add Shop ",-1),ept={key:0},rpt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},apt={class:"mb-5 tw-flex"},spt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},lpt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},opt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ipt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),wpt={class:"tw-relative"},npt={class:""};function dpt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ShopsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.shops.length},[(0,s._)("div",Jut,[Gut,t.$can("create_shop")?((0,s.wg)(),(0,s.iD)("div",Xut,[(0,s.Wm)(nt.T,{color:"primary-color",link:"",to:{name:"shop/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),tpt])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ept,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",rpt,[(0,s._)("div",apt,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",spt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",lpt,[(0,s._)("div",opt,[ipt,(0,s._)("div",wpt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",npt,[(0,s.Wm)(n,{columns:o.columns,shops:i.filteredShops},null,8,["columns","shops"])])])):(0,s.kq)("",!0)])}class cpt{async create(t){return await E.getCookie(),A.post("api/shops/new",{name:t.name})}async update(t,e){return await E.getCookie(),A.post("api/shops/update/"+t,{name:e.name})}async all(){return await E.getCookie(),A.get("api/shops")}async getShop(t){return await E.getCookie(),A.get("api/shops/"+t)}async delete(t){return await E.getCookie(),A["delete"]("api/shops/delete/"+t)}}var upt=new cpt;const ppt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},gpt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},mpt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},hpt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),fpt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},bpt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),vpt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},xpt={class:"tw-px-6 tw-py-4"},ypt={class:"tw-px-6 tw-py-4"},_pt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},kpt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Cpt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Dpt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Spt=["value"],zpt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Upt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},qpt={class:"tw-text-white"};function Ppt(t,e,r,l,o,i){const w=(0,s.up)("ShopActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ppt,[(0,s._)("table",gpt,[(0,s._)("thead",mpt,[(0,s._)("tr",null,[hpt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",fpt,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shops,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[bpt,(0,s._)("th",vpt,(0,wt.zw)(t.id),1),(0,s._)("td",xpt,(0,wt.zw)(t.name),1),(0,s._)("td",ypt,(0,wt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",_pt,[(0,s.Wm)(w,{shop:t},null,8,["shop"])])])))),128))])])]),(0,s._)("div",kpt,[(0,s._)("div",Cpt,[Dpt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,Spt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",zpt,[(0,s._)("div",Upt,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.shops.length:i.nextRange)+" of "+(0,wt.zw)(r.shops.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",qpt,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Lpt={class:"tw-flex tw-items-center tw-gap-1"};function Wpt(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Lpt,[t.$can("update_shop")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,to:"/shops/update/"+r.shop.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_shop")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this shop?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var Apt={props:["rowIndex","shop"],name:"shopActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,upt["delete"](this.shop.id).then((t=>{"SHOP_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Shop Deleted Successfully"})),upt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const $pt=(0,m.Z)(Apt,[["render",Wpt]]);var Ept=$pt,Tpt={props:["columns","shops"],components:{ShopActions:Ept},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.shops.length/this.paginationLimit)},items(){return this.shops.slice(this.prevRange,this.nextRange)}},methods:{}};const Fpt=(0,m.Z)(Tpt,[["render",Ppt]]);var jpt=Fpt,Vpt={components:{ShopsTable:jpt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{shops(){return this.$store.getters["shop/shops"]},filteredShops(){const t=this.date;return this.shops.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){upt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Ipt=(0,m.Z)(Vpt,[["render",dpt]]);var Opt=Ipt;const Hpt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Shop "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new shop")],-1),Mpt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Rpt={class:"tw-w-full"},Npt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Shop Name ",-1),Ypt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zpt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Kpt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Bpt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Qpt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[Hpt,(0,s._)("div",Mpt,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Rpt,[Npt,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ypt,(0,wt.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Zpt,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Kpt])),_:1}),(0,s.Wm)(nt.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Bpt])),_:1},8,["onClick","loading"])])])])}var Jpt={components:{},data(){return{isLoading:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;upt.create(t).then((t=>{"SHOP_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.shop={name:""}),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.shop.name,"Shop name"),this.formStatus.name.valid}}};const Gpt=(0,m.Z)(Jpt,[["render",Qpt]]);var Xpt=Gpt;const tgt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Shop"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update shop informations")],-1),egt={key:0},rgt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},agt={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},sgt={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},lgt={class:"tw-w-full"},ogt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Shop Name",-1),igt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},wgt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},ngt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),dgt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function cgt(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[tgt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",egt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",rgt,[(0,s._)("div",agt,[(0,s.Uk)(" Shop ID: "),(0,s._)("span",sgt,(0,wt.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",lgt,[ogt,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",igt,(0,wt.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",wgt,[(0,s.Wm)(nt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[ngt])),_:1}),(0,s.Wm)(nt.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[dgt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var ugt={components:{},data(){return{isLoading:!1,isLoaded:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{id(){return this.$route.params.id}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;upt.update(this.$route.params.id,t).then((t=>{"SHOP_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"SHOP_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.shop.name,"Shop name"),this.formStatus.name.valid}},mounted(){upt.getShop(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{name:e}=t.data.data.shops;this.shop.name=e,this.isLoaded=!0}}),this.$handleApiError)}};const pgt=(0,m.Z)(ugt,[["render",cgt]]);var ggt=pgt,mgt={name:"shops",path:"/shops",component:Wa,meta:{module:"shop"},children:[{name:"shop/list",path:"",component:Opt,meta:{module:"shop",subModule:"shop/list",title:"Shop List",gate:"show_all_sales"}},{name:"shop/add",path:"add",component:Xpt,meta:{module:"shop",subModule:"shop/add",title:"Shop Add",gate:"create_shop"}},{name:"shop/update",path:"update/:id",component:ggt,meta:{module:"shop",subModule:"shop/update",title:"Update Shop",gate:"update_shop"}}]};const hgt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},fgt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Warehouse List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your warehouses")],-1),bgt={key:0},vgt=(0,s._)("span",{class:"text-white"}," Add Warehouse ",-1),xgt={key:0},ygt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_gt={class:"mb-5 tw-flex"},kgt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Cgt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Dgt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Sgt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),zgt={class:"tw-relative"},Ugt={class:""};function qgt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("WarehousesTable"),d=(0,s.up)("AddWarehouse");return(0,s.wg)(),(0,s.iD)("div",{key:i.warehouses.length},[(0,s._)("div",hgt,[fgt,t.$can("create_warehouse")?((0,s.wg)(),(0,s.iD)("div",bgt,[(0,s.Wm)(nt.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),vgt])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xgt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ygt,[(0,s._)("div",_gt,[(0,s.Wm)(nt.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",kgt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Cgt,[(0,s._)("div",Dgt,[Sgt,(0,s._)("div",zgt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Ugt,[(0,s.Wm)(n,{columns:o.columns,warehouses:i.filteredWarehouses},null,8,["columns","warehouses"])]),(0,s.Wm)(d,{onCancel:e[4]||(e[4]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const Pgt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Lgt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Wgt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Agt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),$gt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Egt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Tgt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Fgt={class:"tw-px-6 tw-py-4"},jgt={class:"tw-px-6 tw-py-4"},Vgt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Igt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Ogt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Hgt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Mgt=["value"],Rgt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Ngt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Ygt={class:"tw-text-white"};function Zgt(t,e,r,l,o,i){const w=(0,s.up)("WarehouseActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Pgt,[(0,s._)("table",Lgt,[(0,s._)("thead",Wgt,[(0,s._)("tr",null,[Agt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",$gt,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.warehouses,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Egt,(0,s._)("th",Tgt,(0,wt.zw)(t.id),1),(0,s._)("td",Fgt,(0,wt.zw)(t.name),1),(0,s._)("td",jgt,(0,wt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Vgt,[(0,s.Wm)(w,{warehouse:t},null,8,["warehouse"])])])))),128))])])]),(0,s._)("div",Igt,[(0,s._)("div",Ogt,[Hgt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,Mgt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Rgt,[(0,s._)("div",Ngt,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.warehouses.length:i.nextRange)+" of "+(0,wt.zw)(r.warehouses.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Ygt,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Kgt={class:"tw-flex tw-items-center tw-gap-1"};function Bgt(t,e,r,a,l,o){const i=(0,s.up)("UpdateWarehouse"),w=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Kgt,[t.$can("update_warehouse")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_warehouse")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[2]||(e[2]=t=>l.showUpdatePopup=!1),key:r.warehouse.id,warehouse:r.warehouse},null,8,["visible","warehouse"])),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this warehouse?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const Qgt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Jgt=(0,s._)("h1",{class:"tw-text-lg"},"Update Warehouse",-1),Ggt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Xgt={class:"tw-w-full tw-col-span-12"},tmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),emt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rmt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},amt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),smt=(0,s._)("span",{class:"text-white"}," Update ",-1);function lmt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Qgt,[Jgt,(0,s._)("div",Ggt,[(0,s._)("div",Xgt,[tmt,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.Warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",emt,(0,wt.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",rmt,[(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[amt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[smt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var omt={components:{},props:["warehouse","visible"],data(){return{isLoading:!1,isLoaded:!1,Warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Nb.update(this.warehouse.id,this.Warehouse).then((t=>{"WAREHOUSE_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("warehouse/update",this.Warehouse),this.$emit("cancel")),"WAREHOUSE_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.Warehouse.name,"Warehouse name"),this.formStatus.name.valid}},mounted(){this.Warehouse={...this.warehouse}}};const imt=(0,m.Z)(omt,[["render",lmt]]);var wmt=imt,nmt={components:{UpdateWarehouse:wmt},props:["rowIndex","warehouse"],name:"warehouseActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Nb["delete"](this.warehouse.id).then((t=>{"WAREHOUSE_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Warehouse Deleted Successfully"}),this.$store.dispatch("warehouse/delete",this.warehouse.id))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const dmt=(0,m.Z)(nmt,[["render",Bgt]]);var cmt=dmt,umt={props:["columns","warehouses"],components:{WarehouseActions:cmt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.warehouses.length/this.paginationLimit)},items(){return this.warehouses.slice(this.prevRange,this.nextRange)}},methods:{}};const pmt=(0,m.Z)(umt,[["render",Zgt]]);var gmt=pmt;const mmt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},hmt=(0,s._)("h1",{class:"tw-text-lg"},"Create Warehouse",-1),fmt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},bmt={class:"tw-w-full tw-col-span-12"},vmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),xmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ymt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},_mt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),kmt=(0,s._)("span",{class:"text-white"}," Create ",-1);function Cmt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",mmt,[hmt,(0,s._)("div",fmt,[(0,s._)("div",bmt,[vmt,(0,s.Wm)(ut.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",xmt,(0,wt.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",ymt,[(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[_mt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[kmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Dmt={props:["visible"],components:{},data(){return{isLoading:!1,warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.warehouse;Nb.create(t).then((t=>{if("WAREHOUSE_CREATED"==t.data.code){this.$alert({type:"success",title:t.data.message});const e=t.data.data.warehouse;this.$store.dispatch("warehouse/addWarehouse",e),this.$emit("cancel"),this.warehouse={name:""}}"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=$t(this.warehouse.name,"Warehouse name"),this.formStatus.name.valid}}};const Smt=(0,m.Z)(Dmt,[["render",Cmt]]);var zmt=Smt,Umt={components:{WarehousesTable:gmt,AddWarehouse:zmt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{warehouses(){return this.$store.getters["warehouse/warehouses"]},filteredWarehouses(){const t=this.date;return this.warehouses.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){Nb.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const qmt=(0,m.Z)(Umt,[["render",qgt]]);var Pmt=qmt,Lmt={name:"warehouses",path:"/warehouses",component:Wa,meta:{module:"warehouse"},children:[{name:"warehouse/list",path:"",component:Pmt,meta:{module:"warehouse",subModule:"warehouse/list",title:"Warehouse List",gate:"show_all_warehouses"}}]};const Wmt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Factorisation List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your factorisations")])],-1),Amt={key:0},$mt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Emt={class:"mb-5 tw-flex"},Tmt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Fmt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},jmt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Vmt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Imt={class:"tw-relative"},Omt={class:""};function Hmt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("FactorisationsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.factorisations.length},[Wmt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Amt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",$mt,[(0,s._)("div",Emt,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Tmt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Fmt,[(0,s._)("div",jmt,[Vmt,(0,s._)("div",Imt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Omt,[(0,s.Wm)(n,{columns:i.columns,factorisations:i.filteredFactorisations},null,8,["columns","factorisations"])])])):(0,s.kq)("",!0)])}const Mmt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Rmt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Nmt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Ymt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Zmt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Kmt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Bmt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Qmt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),Jmt=["value"],Gmt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Xmt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},tht={class:"tw-text-white"};function eht(t,e,r,l,o,i){const w=(0,s.up)("FactorisationRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Mmt,[(0,s._)("table",Rmt,[(0,s._)("thead",Nmt,[(0,s._)("tr",null,[Ymt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Zmt,(0,wt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.factorisations,(t=>((0,s.wg)(),(0,s.j4)(w,{factorisation:t,key:t.id},null,8,["factorisation"])))),128))])])]),(0,s._)("div",Kmt,[(0,s._)("div",Bmt,[Qmt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,Jmt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Gmt,[(0,s._)("div",Xmt,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.factorisations.length:i.nextRange)+" of "+(0,wt.zw)(r.factorisations.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",tht,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const rht={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},aht=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),sht={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},lht={class:"tw-px-6 tw-py-4"},oht={key:0,class:"tw-px-6 tw-py-4"},iht={key:0},wht={key:1},nht={class:"tw-px-6 tw-py-4"},dht={key:0},cht={key:1},uht={class:"tw-px-6 tw-py-4"},pht={class:"tw-px-6 tw-py-4"},ght=(0,s._)("td",{class:"tw-px-6 tw-py-4"},[(0,s._)("div",null," Payment Method ")],-1),mht={class:"tw-px-6 tw-py-4"},hht={class:"tw-px-6 tw-py-4"},fht={key:1,class:"tw-px-6 tw-py-4"},bht={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},vht={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},xht=["disabled"],yht=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),_ht={key:2,class:"tw-px-6 tw-py-4"},kht={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Cht={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Dht=["disabled"],Sht=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),zht={class:"tw-px-6 tw-py-4"},Uht={key:3,class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function qht(t,e,r,l,o,i){const w=(0,s.up)("FactorisationActions");return(0,s.wg)(),(0,s.iD)("tr",rht,[aht,(0,s._)("th",sht,(0,wt.zw)(r.factorisation.id),1),(0,s._)("td",lht,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>i.download(r.factorisation.id))},(0,wt.zw)(r.factorisation.factorisation_id),1)]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",oht,[r.factorisation.delivery?((0,s.wg)(),(0,s.iD)("span",iht,(0,wt.zw)(i.deliveryName),1)):((0,s.wg)(),(0,s.iD)("span",wht,"-"))])):(0,s.kq)("",!0),(0,s._)("td",nht,[r.factorisation.seller?((0,s.wg)(),(0,s.iD)("span",dht,(0,wt.zw)(i.sellerName),1)):((0,s.wg)(),(0,s.iD)("span",cht,"-"))]),(0,s._)("td",uht,(0,wt.zw)(r.factorisation.commands_number),1),(0,s._)("td",pht,(0,wt.zw)(r.factorisation.price),1),ght,(0,s._)("td",mht,(0,wt.zw)(r.factorisation.close_at?.split("T")[0]),1),(0,s._)("td",hht,(0,wt.zw)(r.factorisation.paid_at?.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",fht,[(0,s._)("div",bht,[(0,s._)("label",vht,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[1]||(e[1]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,xht),[[a.e8,i.close]]),yht]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",_ht,[(0,s._)("div",kht,[(0,s._)("label",Cht,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[2]||(e[2]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Dht),[[a.e8,i.paid]]),Sht]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",zht,(0,wt.zw)(r.factorisation.created_at.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Uht,[(0,s.Wm)(w,{factorisation:r.factorisation},null,8,["factorisation"])])):(0,s.kq)("",!0)])}const Pht={class:"tw-flex tw-items-center tw-gap-1"};function Lht(t,e,r,a,l,o){const i=(0,s.up)("UpdateFactorisation"),w=(0,s.up)("UpdateComment"),n=(0,s.up)("UpdateFees"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Pht,[t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdateCommentPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[1]||(e[1]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_factorisation")?((0,s.wg)(),(0,s.j4)(nt.T,{key:2,onClick:e[2]||(e[2]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")&&"seller"==this.factorisation.type?((0,s.wg)(),(0,s.j4)(nt.T,{key:3,onClick:e[3]||(e[3]=t=>l.showUpdateFeesPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-format-list-text")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[4]||(e[4]=t=>l.showUpdatePopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(w,{visible:l.showUpdateCommentPopup,onCancel:e[5]||(e[5]=t=>l.showUpdateCommentPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(n,{visible:l.showUpdateFeesPopup,onCancel:e[6]||(e[6]=t=>l.showUpdateFeesPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this factorisation?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const Wht={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Aht=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),$ht={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Eht={class:"tw-w-full tw-col-span-6"},Tht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Fht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},jht={class:"tw-w-full tw-col-span-6"},Vht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Iht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Oht={class:"tw-w-full tw-col-span-6"},Hht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Mht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Rht={class:"tw-w-full tw-col-span-6"},Nht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Yht={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zht={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Kht=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Bht=(0,s._)("span",{class:"text-white"}," Update ",-1);function Qht(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[9]||(e[9]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Wht,[Aht,(0,s._)("div",$ht,[(0,s._)("div",Eht,[Tht,(0,s.Wm)(ut.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.Factorisation.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Factorisation.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Fht,(0,wt.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",jht,[Vht,(0,s.Wm)(ut.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Iht,(0,wt.zw)(l.formStatus.delivery_id.message),1)]),(0,s._)("div",Oht,[Hht,(0,s.Wm)(ut.hw,{error:!l.formStatus.price.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("price")),"hide-details":!0,modelValue:l.Factorisation.price,"onUpdate:modelValue":e[5]||(e[5]=t=>l.Factorisation.price=t),disabled:!0,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Mht,(0,wt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",Rht,[Nht,(0,s.Wm)(ut.hw,{error:!l.formStatus.commands_number.valid,disabled:!0,onKeyup:e[6]||(e[6]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:l.Factorisation.commands_number,"onUpdate:modelValue":e[7]||(e[7]=t=>l.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Yht,(0,wt.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",Zht,[(0,s.Wm)(nt.T,{onClick:e[8]||(e[8]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Kht])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Bht])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Jht={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{factorisation_id:"",delivery_id:0,price:0,commands_number:0,note:""},formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.Factorisation.delivery.firstname+" "+this.Factorisation.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ye.update(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=$t(this.Factorisation.factorisation_id,"Factorisation Code"),this.formStatus.price=Et(this.Factorisation.price,"Factorisation Price"),this.formStatus.commands_number=Et(this.Factorisation.commands_number,"Factorisation Nb Commands"),this.formStatus.factorisation_id.valid&&this.formStatus.price.valid&&this.formStatus.commands_number.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Ght=(0,m.Z)(Jht,[["render",Qht]]);var Xht=Ght;const tft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},eft=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),rft={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},aft={class:"tw-w-full tw-col-span-6"},sft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),lft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},oft={class:"tw-w-full tw-col-span-6"},ift=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),wft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},nft={class:"tw-w-full tw-col-span-12"},dft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),cft=["error"],uft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},pft={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},gft=(0,s._)("span",{class:"text-white"}," Cancel ",-1),mft=(0,s._)("span",{class:"text-white"}," Update ",-1);function hft(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[7]||(e[7]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",tft,[eft,(0,s._)("div",rft,[(0,s._)("div",aft,[sft,(0,s.Wm)(ut.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.Factorisation.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Factorisation.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",lft,(0,wt.zw)(o.formStatus.price.message),1)]),(0,s._)("div",oft,[ift,(0,s.Wm)(ut.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.Factorisation.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",wft,(0,wt.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",nft,[dft,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.Factorisation.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n            ",40,cft),[[a.nr,o.Factorisation.comment]]),(0,s._)("div",uft,(0,wt.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",pft,[(0,s.Wm)(nt.T,{onClick:e[6]||(e[6]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[gft])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[mft])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var fft={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ye.updateComment(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=$t(this.Factorisation.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){this.Factorisation={...this.factorisation}}};const bft=(0,m.Z)(fft,[["render",hft]]);var vft=bft;const xft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},yft=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),_ft={class:"tw-w-full tw-col-span-6"},kft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),Cft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Dft={class:"tw-w-full tw-col-span-6"},Sft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),zft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Uft={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},qft=["onClick"],Pft=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),Lft={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},Wft=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Aft={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},$ft=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Eft=(0,s._)("span",{class:"text-white"}," Update ",-1);function Tft(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",xft,[yft,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",_ft,[kft,(0,s.Wm)(ut.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",Cft,(0,wt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",Dft,[Sft,(0,s.Wm)(ut.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",zft,(0,wt.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",Uft,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),Pft],8,qft)])])])))),128)),(0,s._)("div",Lft,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Wft])]),(0,s._)("div",Aft,[(0,s.Wm)(nt.T,{onClick:e[3]||(e[3]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[$ft])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Eft])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Fft={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Ye.updateFees(this.factorisation.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.Factorisation={...this.factorisation},this.fees=JSON.parse(JSON.stringify(this.factorisation.fees))}};const jft=(0,m.Z)(Fft,[["render",Tft]]);var Vft=jft,Ift={components:{UpdateFactorisation:Xht,UpdateComment:vft,UpdateFees:Vft},props:["rowIndex","factorisation"],name:"factorisationActions",data(){return{showPopup:!1,isLoading:!1,showUpdateCommentPopup:!1,showUpdateFeesPopup:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Ye["delete"](this.factorisation.id).then((t=>{"FACTORISATION_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Factorisation Deleted Successfully"}),this.$store.dispatch("factorisation/delete",this.factorisation.id)),"DELETE_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Oft=(0,m.Z)(Ift,[["render",Lht]]);var Hft=Oft,Mft={props:["factorisation"],components:{FactorisationActions:Hft},data(){return{isLoadingPaid:!1,isLoadingClose:!1}},computed:{deliveryName:{get(){return this.factorisation.delivery.firstname+" "+this.factorisation.delivery.lastname},set(t){console.log(t)}},sellerName:{get(){return this.factorisation.seller.firstname+" "+this.factorisation.seller.lastname},set(t){console.log(t)}},paid:{get(){return 1==this.factorisation.paid},set(t){this.updatePaid(t)}},close:{get(){return 1==this.factorisation.close},set(t){this.updateClose(t)}},user(){return this.$store.getters["user/user"]}},methods:{updatePaid(t){this.isLoadingPaid=!0,Ye.updatePaid(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))},updateClose(t){this.isLoadingClose=!0,Ye.updateClose(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))},download(t){const e=n+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const Rft=(0,m.Z)(Mft,[["render",qht]]);var Nft=Rft,Yft={props:["columns","factorisations"],components:{FactorisationRow:Nft},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.factorisations.length/this.paginationLimit)},items(){return this.factorisations.slice(this.prevRange,this.nextRange)}},methods:{}};const Zft=(0,m.Z)(Yft,[["render",eht]]);var Kft=Zft,Bft={components:{FactorisationsTable:Kft},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,userColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"payment_method",name:"Payment Method"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"created_at",name:"Created at"}],adminColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"delivery_id",name:"Delivery"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"close",name:"Close"},{prop:"paid",name:"Paid"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{user(){return this.$store.getters["user/user"]},columns(){return"admin"==this.user.role?this.adminColumns:this.userColumns},factorisations(){return this.$store.getters["factorisation/factorisations"]},filteredFactorisations(){const t=this.date;return this.factorisations.filter((e=>!t||e?.created_at.split("T")[0]===t))}},mounted(){Ye.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("factorisation/setFactorisations",t.data.data.factorisations)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Qft=(0,m.Z)(Bft,[["render",Hmt]]);var Jft=Qft;const Gft={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Xft={class:"tw-px-3"},tbt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},ebt={class:"tw-flex tw-items-center tw-gap-x-3"},rbt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Factorisation",-1),abt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},sbt={key:0};function lbt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",Gft,[(0,s._)("section",Xft,[(0,s._)("div",tbt,[(0,s._)("div",null,[(0,s._)("div",ebt,[rbt,(0,s._)("span",abt,(0,wt.zw)(l.totalOrders),1)])])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,"per-page":l.per_page,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","per-page","loading"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,"withdrawal-methods":l.withdrawal_methods,"is-withdrawal-methods-fetched":l.is_withdrawal_methods_fetched,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","withdrawal-methods","is-withdrawal-methods-fetched","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",sbt)):(0,s.kq)("",!0)])}const obt={class:"tw-flex tw-flex-col tw-mt-5"},ibt={class:"tw-overflow-x-auto"},wbt={class:"tw-inline-block tw-min-w-full tw-align-middle"},nbt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},dbt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},cbt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},ubt=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-w-fit tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID ",-1),pbt={key:1,scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},gbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Orders ",-1),mbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),hbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Payment Method ",-1),fbt={key:2,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},bbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Closed At ",-1),vbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-8 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid At ",-1),xbt={key:3,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},ybt={key:4,scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},_bt={key:6,scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},kbt=(0,s._)("span",{class:"tw-sr-only"},"Actions",-1),Cbt=[kbt],Dbt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Sbt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},zbt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Factorisation was found ! ")])],-1),Ubt=[zbt],qbt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Pbt={colspan:"11"},Lbt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Wbt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Abt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),$bt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Ebt=[Abt,$bt],Tbt={class:"tw-mt-6"};function Fbt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",obt,[(0,s._)("div",ibt,[(0,s._)("div",wbt,[(0,s._)("div",nbt,[(0,s._)("table",dbt,[(0,s._)("thead",cbt,[(0,s._)("tr",null,[(0,s.kq)("",!0),ubt,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",pbt," User ")):(0,s.kq)("",!0),gbt,mbt,hbt,"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",fbt," Status ")):(0,s.kq)("",!0),bbt,vbt,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",xbt," Close ")):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",ybt," Paid ")):(0,s.kq)("",!0),(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",_bt,Cbt)):(0,s.kq)("",!0)])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Dbt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(a=>((0,s.wg)(),(0,s.j4)(i,{"withdrawal-methods":r.withdrawalMethods,"is-withdrawal-methods-fetched":r.isWithdrawalMethodsFetched,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:a.id,item:a},null,8,["withdrawal-methods","is-withdrawal-methods-fetched","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Sbt,Ubt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",qbt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Pbt,[(0,s._)("div",Lbt,[Wbt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Ebt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Tbt,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const jbt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Vbt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Ibt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Obt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Hbt=["disabled"],Mbt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Rbt=(0,s._)("span",null," previous ",-1),Nbt=[Mbt,Rbt],Ybt=["disabled"],Zbt=(0,s._)("span",null," Next ",-1),Kbt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Bbt=[Zbt,Kbt];function Qbt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jbt,[(0,s._)("div",Vbt,[(0,s.Uk)(" Page "),(0,s._)("span",Ibt,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",Obt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Nbt,10,Hbt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Bbt,10,Ybt)])])])}var Jbt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Gbt=(0,m.Z)(Jbt,[["render",Qbt]]);var Xbt=Gbt;const tvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-w-fit"},evt={key:1,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},rvt={key:0,class:"tw-flex tw-items-center tw-gap-2"},avt=(0,s._)("div",{title:"Delivery",class:"tw-text-sm tw-w-[24px] tw-rounded tw-aspect-square tw-bg-cyan-100 tw-text-cyan-500 tw-flex tw-items-center tw-justify-center"}," D ",-1),svt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},lvt={key:1,class:"tw-flex tw-items-center tw-gap-2"},ovt=(0,s._)("div",{title:"Seller",class:"tw-text-sm tw-w-[24px] tw-rounded tw-aspect-square tw-bg-orange-100 tw-text-orange-500 tw-flex tw-items-center tw-justify-center"}," S ",-1),ivt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},wvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nvt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-text-center tw-font-[cairo]"},dvt={key:0},cvt={key:1},uvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},pvt={class:"tw-text-emerald-500 tw-text-end tw-font-semibold darkx:tw-text-white tw-font-[cairo]"},gvt={key:0},mvt={key:1},hvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fvt={key:0},bvt={key:0},vvt={key:1},xvt={key:2,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},yvt={key:0,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-blue-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},_vt={key:1,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-yellow-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},kvt={key:2,class:"tw-px-4 tw-py-1 tw-rounded tw-bg-emerald-100 tw-text-neutral-800 tw-text-sm tw-w-fit"},Cvt={class:"tw-px-8 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Dvt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Svt={key:0},zvt={key:0},Uvt={key:1},qvt={class:"tw-px-8 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Pvt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Lvt={key:0},Wvt={key:0},Avt={key:1},$vt={key:3,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Evt={key:4,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Tvt={key:0},Fvt={key:6,class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function jvt(t,e,r,a,l,o){const i=(0,s.up)("PdfFactorisation"),w=(0,s.up)("WithdrawalMethodSeller"),n=(0,s.up)("WithdrawalMethodAdmin"),d=(0,s.up)("CloseFactorisation"),c=(0,s.up)("PaidFactorisation"),u=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",tvt,[(0,s._)("div",null,[(0,s.Wm)(i,{item:r.item},null,8,["item"])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",evt,["delivery"==r.item.type?((0,s.wg)(),(0,s.iD)("div",rvt,[avt,(0,s._)("h2",svt,(0,wt.zw)(r.item.delivery.firstname)+" "+(0,wt.zw)(r.item.delivery.lastname),1)])):(0,s.kq)("",!0),"seller"==r.item.type?((0,s.wg)(),(0,s.iD)("div",lvt,[ovt,(0,s._)("h2",ivt,(0,wt.zw)(r.item.seller.firstname)+" "+(0,wt.zw)(r.item.seller.lastname),1)])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("td",wvt,[(0,s._)("div",null,[(0,s._)("h2",nvt,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",dvt,(0,wt.zw)(r.item.seller_order_count),1)):((0,s.wg)(),(0,s.iD)("span",cvt,(0,wt.zw)(r.item.delivery_order_count),1))])])]),(0,s._)("td",uvt,[(0,s._)("div",null,[(0,s._)("h2",pvt,[(0,s.Uk)((0,wt.zw)(l.currency)+" ",1),"seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",gvt,(0,wt.zw)(r.item.seller_order_price),1)):((0,s.wg)(),(0,s.iD)("span",mvt,(0,wt.zw)(r.item.delivery_order_price),1))])])]),(0,s._)("td",hvt,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("div",fvt,["seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",bvt,[(0,s.Wm)(w,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),factorisation:r.item,"withdrawal-methods":r.withdrawalMethods,"is-withdrawal-methods-fetched":r.isWithdrawalMethodsFetched},null,8,["factorisation","withdrawal-methods","is-withdrawal-methods-fetched"])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",vvt,[(0,s.Wm)(n,{factorisation:r.item,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["factorisation"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",xvt,[(0,s._)("div",null,[r.item.close||r.item.paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yvt," Active ")),r.item.close&&!r.item.paid?((0,s.wg)(),(0,s.iD)("div",_vt," Prending ")):(0,s.kq)("",!0),r.item.close&&r.item.paid?((0,s.wg)(),(0,s.iD)("div",kvt," Paid ")):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",Cvt,[(0,s._)("div",null,[(0,s._)("h2",Dvt,[r.item.close_at?((0,s.wg)(),(0,s.iD)("span",Svt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.close_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",zvt,(0,wt.zw)(l.moment(r.item.close_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",Uvt," - "))])])]),(0,s._)("td",qvt,[(0,s._)("div",null,[(0,s._)("h2",Pvt,[r.item.paid_at?((0,s.wg)(),(0,s.iD)("span",Lvt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.paid_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",Wvt,(0,wt.zw)(l.moment(r.item.paid_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",Avt," - "))])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",$vt,[(0,s._)("div",null,[((0,s.wg)(),(0,s.j4)(d,{item:r.item,key:r.item.id,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["item"]))])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Evt,[r.item.close?((0,s.wg)(),(0,s.iD)("div",Tvt,[((0,s.wg)(),(0,s.j4)(c,{item:r.item,key:r.item.id,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e))},null,8,["item"]))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Fvt,[(0,s._)("div",null,[(0,s.Wm)(u,{onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])):(0,s.kq)("",!0)])}const Vvt={class:"tw-h-full"},Ivt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-end tw-relative"},Ovt={key:0,class:"tw-absolute tw-right-0 tw-z-10"},Hvt={class:"tw-absolute tw-top-1/2 -tw-translate-y-1/2 tw-right-10 tw-bg-white tw-border tw-border-solid tw-p-2 tw-rounded tw-flex tw-items-center tw-gap-2"},Mvt=["href"],Rvt={key:0},Nvt={key:1},Yvt={key:2},Zvt={key:3};function Kvt(t,e,r,l,o,i){const w=(0,s.up)("icon"),n=(0,s.up)("TableActionsUploadImage"),d=(0,s.up)("CommentFactorisation"),c=(0,s.up)("UpdateFactorisation"),u=(0,s.up)("UpdateFees"),p=(0,s.up)("FactorisationHistory");return(0,s.wg)(),(0,s.iD)("div",Vvt,[(0,s._)("div",Ivt,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-x-[10px]  tw-opacity-0","leave-to-class":"tw-translate-x-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[o.visible?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",Ovt,[(0,s._)("div",Hvt,["admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show history",onClick:e[0]||(e[0]=t=>o.HistoryPopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-teal-100 hover:tw-border-teal-400 tw-bg-teal-50/10 hover:tw-bg-teal-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"uim:history",class:"tw-text-xl tw-text-teal-500"})])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("a",{key:1,title:"Download Excel File",target:"_blank",href:o.serverUrl+"api/export/factorisations/"+r.item.factorisation_id,class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-green-100 hover:tw-border-green-400 tw-bg-green-50/10 hover:tw-bg-green-200 tw-duration-200"},[(0,s.Wm)(w,{icon:"vscode-icons:file-type-excel",class:"tw-text-xl"})],8,Mvt)):(0,s.kq)("",!0),(t.$user.role,(0,s.kq)("",!0)),(t.$user.role,(0,s.kq)("",!0)),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:4,title:"Delete",onClick:e[3]||(e[3]=t=>o.DeletePopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-rose-100 hover:tw-border-rose-400 tw-bg-rose-50/10 hover:tw-bg-rose-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"solar:trash-bin-trash-bold-duotone",class:"tw-text-xl tw-text-rose-500"})])):(0,s.kq)("",!0)])])),[[ie.L,()=>o.visible=!1]]):(0,s.kq)("",!0)])),_:1}),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Add fees",onClick:e[4]||(e[4]=t=>o.FeesPopup=!0),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-emerald-100 hover:tw-border-emerald-400 tw-bg-emerald-50/10 hover:tw-bg-emerald-100 tw-duration-200"},[(0,s.Wm)(w,{icon:"solar:bill-list-bold-duotone",class:"tw-text-xl tw-text-emerald-500"})])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(n,{title:"Upload image",onUpdate:e[5]||(e[5]=e=>t.$emit("update",e)),key:r.item.id,item:r.item},null,8,["item"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[6]||(e[6]=t=>o.visible=!o.visible),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-gray-100 hover:tw-border-gray-400 tw-bg-gray-50/10 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(w,{icon:o.visible?"iconamoon:close-duotone":"solar:menu-dots-bold",class:"tw-text-xl tw-text-gray-500"},null,8,["icon"])])):(0,s.kq)("",!0),(0,s.kq)("",!0)]),o.CommentPopup?((0,s.wg)(),(0,s.iD)("div",Rvt,[((0,s.wg)(),(0,s.j4)(d,{onUpdate:e[11]||(e[11]=e=>t.$emit("update",e)),visible:o.CommentPopup,"onUpdate:visible":e[12]||(e[12]=t=>o.CommentPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.popup?((0,s.wg)(),(0,s.iD)("div",Nvt,[((0,s.wg)(),(0,s.j4)(c,{onUpdate:e[13]||(e[13]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[14]||(e[14]=t=>o.popup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.FeesPopup?((0,s.wg)(),(0,s.iD)("div",Yvt,[((0,s.wg)(),(0,s.j4)(u,{onUpdate:e[15]||(e[15]=e=>t.$emit("update",e)),visible:o.FeesPopup,"onUpdate:visible":e[16]||(e[16]=t=>o.FeesPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.HistoryPopup?((0,s.wg)(),(0,s.iD)("div",Zvt,[(0,s.Wm)(p,{visible:o.HistoryPopup,"onUpdate:visible":e[17]||(e[17]=t=>o.HistoryPopup=t),factorisation:r.item},null,8,["visible","factorisation"])])):(0,s.kq)("",!0)])}const Bvt={key:0},Qvt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Jvt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Gvt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Xvt={class:"tw-w-full tw-col-span-6"},txt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),ext={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rxt={class:"tw-w-full tw-col-span-6"},axt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),sxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},lxt={class:"tw-w-full tw-col-span-12"},oxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),ixt=["error"],wxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},nxt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},dxt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),cxt=(0,s._)("span",{class:"text-white"}," Update ",-1);function uxt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return o.itemCopy?((0,s.wg)(),(0,s.iD)("div",Bvt,[(0,s.Wm)(w,{onCancel:e[7]||(e[7]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Qvt,[Jvt,(0,s._)("div",Gvt,[(0,s._)("div",Xvt,[txt,(0,s.Wm)(ut.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.itemCopy.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.itemCopy.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ext,(0,wt.zw)(o.formStatus.price.message),1)]),(0,s._)("div",rxt,[axt,(0,s.Wm)(ut.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.itemCopy.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.itemCopy.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",sxt,(0,wt.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",lxt,[oxt,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.itemCopy.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",40,ixt),[[a.nr,o.itemCopy.comment]]),(0,s._)("div",wxt,(0,wt.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",nxt,[(0,s.Wm)(nt.T,{onClick:e[6]||(e[6]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[dxt])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[cxt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var pxt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ye.updateComment(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=$t(this.itemCopy.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const gxt=(0,m.Z)(pxt,[["render",uxt]]);var mxt=gxt;const hxt={key:0},fxt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},bxt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),vxt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},xxt={class:"tw-w-full tw-col-span-6"},yxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),_xt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kxt={class:"tw-w-full tw-col-span-6"},Cxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Dxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Sxt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},zxt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Uxt=(0,s._)("span",{class:"text-white"}," Update ",-1);function qxt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",hxt,[(0,s.Wm)(i,{onCancel:e[5]||(e[5]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",fxt,[bxt,(0,s._)("div",vxt,[(0,s._)("div",xxt,[yxt,(0,s.Wm)(ut.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.itemCopy.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.itemCopy.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",_xt,(0,wt.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",kxt,[Cxt,(0,s.Wm)(ut.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Dxt,(0,wt.zw)(l.formStatus.delivery_id.message),1)])]),(0,s._)("div",Sxt,[(0,s.Wm)(nt.T,{onClick:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[zxt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Uxt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Pxt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.itemCopy.delivery.firstname+" "+this.itemCopy.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ye.update(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=$t(this.itemCopy.factorisation_id,"Factorisation Code"),this.formStatus.factorisation_id.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const Lxt=(0,m.Z)(Pxt,[["render",qxt]]);var Wxt=Lxt;const Axt={key:0},$xt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Ext=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),Txt={class:"tw-w-full tw-col-span-6"},Fxt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),jxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vxt={class:"tw-w-full tw-col-span-6"},Ixt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),Oxt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Hxt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},Mxt=["onClick"],Rxt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),Nxt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},Yxt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Zxt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Kxt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Bxt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Qxt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",Axt,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",$xt,[Ext,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",Txt,[Fxt,(0,s.Wm)(ut.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",jxt,(0,wt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",Vxt,[Ixt,(0,s.Wm)(ut.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",Oxt,(0,wt.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",Hxt,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),Rxt],8,Mxt)])])])))),128)),(0,s._)("div",Nxt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ct.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Yxt])]),(0,s._)("div",Zxt,[(0,s.Wm)(nt.T,{onClick:e[3]||(e[3]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Kxt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Bxt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Jxt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Ye.updateFees(this.itemCopy.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$emit("update",this.itemCopy),this.$emit("update:visible",!1)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.fees=this.itemCopy.fees??[]}};const Gxt=(0,m.Z)(Jxt,[["render",Qxt]]);var Xxt=Gxt;const tyt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-3 tw-h-3 tw-bg-neutral-100 tw-rounded-full -tw-left-1.5 tw-translate-y-1.5 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),eyt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},ryt={class:"tw-text-gray-500 tw-flex tw-items-center tw-gap-2 tw-mb-2"},ayt={class:"tw-text-black tw-font-semibold tw-capitalize"},syt={class:"tw-uppercase tw-text-xs"},lyt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600 tw-w-full"},oyt={key:0,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},iyt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},wyt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},nyt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},dyt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},cyt={key:1,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},uyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},pyt={class:"tw-font-semibold tw-text-emerald-600 dark:tw-text-emerald-500 hover:tw-underline"},gyt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-cyan-100 dark:tw-text-cyan-500"},myt={key:2,class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},hyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},fyt={class:"tw-font-semibold tw-text-emerald-600 dark:tw-text-emerald-500 hover:tw-underline"},byt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-cyan-100 dark:tw-text-cyan-500"};var vyt={__name:"FactorisationHistoryForFee",props:["history"],setup(t){const e=["event","factorisation_fee:factorisation_id","factorisation_fee:id"],r=t,a=(0,ke.Vh)(r,"history"),l=(0,ke.iH)(a.value.fields.find((t=>"event"==t.field))),o=(0,ke.iH)(a.value.fields.find((t=>"factorisation_fee:fee"==t.field)));console.log(a.value),console.log(o.value);const i={"factorisation_fee:feeprice":"Amount"},w={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}};return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[tyt,(0,s._)("div",eyt,[(0,s._)("p",ryt,[(0,s._)("span",ayt,(0,wt.zw)(a.value.action_by),1),(0,s._)("span",syt,"*"+(0,wt.zw)(l.value.new_value)+" FEE*",1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:r[0]||(r[0]=t=>a.value.isHovering=!0),onMouseleave:r[1]||(r[1]=t=>a.value.isHovering=!1)},(0,wt.zw)(a.value.isHovering?(0,ke.SU)(ze())(a.value.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ke.SU)(ze())(a.value.created_at).fromNow()),33)]),(0,s._)("div",lyt,["updated"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",oyt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value.fields.filter((t=>!e.includes(t.field))),(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[[].includes(t.field)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",iyt,[(0,s.Uk)("Changed "),(0,s._)("span",wyt,(0,wt.zw)(i[t.field]??t.field),1),(0,s.Uk)(" from "),(0,s._)("span",nyt,(0,wt.zw)(t.field in w?w[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",dyt,(0,wt.zw)(t.field in w?w[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])):(0,s.kq)("",!0),"created"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",cyt,[(0,s._)("div",uyt,[(0,s.Uk)("Added "),(0,s._)("span",pyt,(0,wt.zw)(a.value.fields.find((t=>"factorisation_fee:feeprice"==t.field))?.new_value)+(0,wt.zw)((0,ke.SU)(c)),1),(0,s.Uk)(" fee for "),(0,s._)("span",gyt,(0,wt.zw)(a.value.fields.find((t=>"factorisation_fee:feename"==t.field))?.new_value),1)])])):(0,s.kq)("",!0),"deleted"==l.value.new_value?((0,s.wg)(),(0,s.iD)("div",myt,[(0,s._)("div",hyt,[(0,s.Uk)("Deleted "),(0,s._)("span",fyt,(0,wt.zw)(o.value.new_value.feeprice)+(0,wt.zw)((0,ke.SU)(c)),1),(0,s.Uk)(" fee for "),(0,s._)("span",byt,(0,wt.zw)(o.value.new_value.feename),1)])])):(0,s.kq)("",!0)])]))}};const xyt=vyt;var yyt=xyt;const _yt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},kyt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},Cyt=(0,s._)("span",null,"History",-1),Dyt={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},Syt={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},zyt={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},Uyt={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},qyt={key:1},Pyt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-3 tw-h-3 tw-bg-neutral-100 tw-rounded-full -tw-left-1.5 tw-translate-y-1.5 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),Lyt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},Wyt={class:"tw-text-gray-500"},Ayt={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},$yt=["onMouseenter","onMouseleave"],Eyt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600 tw-w-full"},Tyt={class:"tw-flex tw-flex-col tw-gap-4 tw-w-full"},Fyt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},jyt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},Vyt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},Iyt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},Oyt={key:1,class:"tw-w-full"},Hyt=(0,s._)("div",{class:"tw-items-center tw-justify-between sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300 tw-mb-2"},"Uploaded:")],-1),Myt={class:"tw-mx-auto tw-rounded tw-bg-gray-100 tw-overflow-hidden tw-flex tw-items-center tw-justify-center tw-border tw-border-solid tw-border-neutral-200 tw-relative"},Ryt=["src"],Nyt={class:"tw-absolute tw-bottom-4 tw-right-4 tw-flex tw-items-center tw-gap-2"},Yyt=["href"],Zyt=(0,s._)("span",null,"View",-1),Kyt={key:2,class:"tw-w-full"},Byt={class:"tw-items-center tw-justify-between sm:tw-flex"},Qyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},Jyt={key:3,class:"tw-w-full"},Gyt={class:"tw-items-center tw-justify-between sm:tw-flex"},Xyt={class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},t_t={key:4,class:"tw-w-full tw-order-[10]"},e_t={class:"tw-items-center tw-justify-between sm:tw-flex"},r_t={class:"tw-text-sm tw-font-normal tw-text-gray-500 tw-mb-3 dark:tw-text-gray-300"},a_t={class:"tw-flex tw-flex-col"},s_t={class:"tw-border-b-0 tw-border tw-border-solid tw-border-neutral-200 tw-bg-neutral-800 tw-text-white tw-grid tw-grid-cols-12 tw-divide-x"},l_t=(0,s._)("div",{class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},"ID",-1),o_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-xs"},"CONFIRMATION",-1),i_t=(0,s._)("div",{class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},"DELIVERY",-1),w_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-xs"},"DELIVERED AT",-1),n_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-xs"},d_t={class:"tw-border tw-border-solid tw-border-neutral-200 tw-grid tw-grid-cols-12 tw-divide-x"},c_t={class:"tw-col-span-2 tw-py-1 tw-px-2 tw-font-bold"},u_t={class:"tw-col-span-3 tw-py-1 tw-px-2"},p_t={class:"tw-col-span-2 tw-py-1 tw-px-2"},g_t={class:"tw-col-span-3 tw-py-1 tw-px-2 tw-text-center"},m_t={class:"tw-col-span-2 tw-py-1 tw-px-2 tw-font-medium tw-text-end"},h_t={class:"tw-text-black tw-grid tw-grid-cols-12"},f_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),b_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"SHIPPING FEES",-1),v_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},x_t={class:"tw-text-black tw-grid tw-grid-cols-12"},y_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),__t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"COD FEES",-1),k_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},C_t={class:"tw-text-black tw-grid tw-grid-cols-12"},D_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),S_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-sm tw-text-end"},"OTHER FEES",-1),z_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-border tw-border-solid tw-border-t-0 tw-border-neutral-200 tw-text-end"},U_t={class:"tw-text-black tw-grid tw-grid-cols-12"},q_t=(0,s._)("div",{class:"tw-col-span-7 tw-py-0.5 tw-px-2"},null,-1),P_t=(0,s._)("div",{class:"tw-col-span-3 tw-py-0.5 tw-px-2 tw-text-end tw-font-bold tw-text-lg tw-text-emerald-600"},"TOTAL",-1),L_t={class:"tw-col-span-2 tw-py-0.5 tw-px-2 tw-text-lg tw-font-bold tw-text-emerald-600 tw-text-end"},W_t={key:5,class:"tw-w-full"},A_t={class:"tw-items-center tw-justify-between sm:tw-flex"},$_t=(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300 tw-mb-3"},"Withdrawal Details:",-1),E_t={key:0,class:"tw-flex tw-items-center tw-gap-2"},T_t=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),F_t={key:1,class:"tw-flex tw-items-center tw-gap-2"},j_t=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),V_t={key:0,class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var I_t={__name:"FactorisationHistory",props:["visible","factorisation"],emits:["update:visible"],setup(t,{emit:e}){const r=["commands_number","type","price","paid_at","amount_paid","close_at","total_cod_fees","total_shipping_fees","total_other_fees","commands_number","price"],a=(0,s.Fl)((()=>jn.reduce(((t,e)=>(t[e.value]=e.name,t)),{}))),l=(0,s.Fl)((()=>Hn.reduce(((t,e)=>(t[e.value]=e.name,t)),{}))),o={user_id:"Seller ID",factorisation_id:"ID",delivery_id:"Delivery ID",close:"Close",paid:"Paid",commands_number:"Order's number",type:"Type",price:"Amount",close_at:"Closed at",paid_at:"Paid at",comment:"Comment",note:"Note",withdrawal_method_id:"Withdrawal Method ID",attachement_image:"Attachement",orders:"Orders",withdrawal_method_details:"Withdrawal Details"},i={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}},w=t,n=e,d=(0,ke.Vh)(w,"visible"),u=(0,ke.Vh)(w,"factorisation"),p=(0,ke.iH)(!0),g=(0,ke.iH)([!0]),m=async()=>{p.value=!0,await Ye.history(u.value.id).then((t=>{"SUCCESS"==t.data.code&&(g.value=t.data.data.history.filter((t=>t.fields.every((t=>!["commands_number","price"].includes(t.field))))),g.value.reverse())})),p.value=!1};return m(),(t,e)=>{const w=(0,s.up)("icon"),u=(0,s.up)("loading"),m=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(m,{visible:d.value,onCancel:e[1]||(e[1]=t=>n("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",_yt,[(0,s._)("div",kyt,[Cyt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>n("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(w,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),p.value?((0,s.wg)(),(0,s.iD)("div",Dyt,[(0,s.Wm)(u)])):(0,s.kq)("",!0),p.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Syt,[g.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",zyt,"There is no history for this invoice yet.")),g.value.length?((0,s.wg)(),(0,s.iD)("ol",Uyt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.value,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id,class:"tw-mb-10 tw-mx-6"},[e.fields.some((t=>t.field.includes("factorisation_fee:")))?((0,s.wg)(),(0,s.j4)((0,ke.SU)(yyt),{key:0,history:e},null,8,["history"])):((0,s.wg)(),(0,s.iD)("div",qyt,[Pyt,(0,s._)("div",Lyt,[(0,s._)("p",Wyt,[(0,s._)("span",Ayt,(0,wt.zw)(e.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:t=>e.isHovering=!0,onMouseleave:t=>e.isHovering=!1},(0,wt.zw)(e.isHovering?(0,ke.SU)(ze())(e.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ke.SU)(ze())(e.created_at).fromNow()),41,$yt)]),(0,s._)("div",Eyt,[(0,s._)("div",Tyt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.fields.filter((t=>!r.includes(t.field))),(r=>((0,s.wg)(),(0,s.iD)(s.HY,{key:r.field},[["attachement_image","withdrawal_method_details","orders","paid","close"].includes(r.field)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fyt,[(0,s.Uk)("Changed "),(0,s._)("span",jyt,(0,wt.zw)(o[r.field]??r.field),1),(0,s.Uk)(" from "),(0,s._)("span",Vyt,(0,wt.zw)(r.field in i?i[r.field][r.old_value]:r.old_value),1),(0,s.Uk)("to "),(0,s._)("span",Iyt,(0,wt.zw)(r.field in i?i[r.field][r.new_value]:r.new_value),1)])),"attachement_image"==r.field&&r.new_value?((0,s.wg)(),(0,s.iD)("div",Oyt,[Hyt,(0,s._)("div",Myt,[(0,s._)("img",{class:"tw-w-full tw-h-auto tw-max-w-[300px] tw-max-h-[300px] tw-object-contain",src:t.$backend(r.new_value.startsWith("/")?r.new_value.substring(1):r.new_value)},null,8,Ryt),(0,s._)("div",Nyt,[(0,s._)("a",{target:"_blank",href:t.$backend(r.new_value.startsWith("/")?r.new_value.substring(1):r.new_value),class:"tw-px-2 tw-py-1 tw-flex tw-items-center tw-gap-2 tw-rounded tw-bg-green-500 tw-text-white"},[(0,s.Wm)(w,{icon:"carbon:view-filled",class:"tw-text-white tw-text-2xl"}),Zyt],8,Yyt)])])])):(0,s.kq)("",!0),"paid"==r.field?((0,s.wg)(),(0,s.iD)("div",Kyt,[(0,s._)("div",Byt,[(0,s._)("div",Qyt,[(0,s.Uk)("Marked this invoice as "),(0,s._)("span",{class:(0,wt.C_)([[r.new_value?"tw-text-green-600 tw-bg-green-50":"tw-text-amber-600 tw-bg-amber-50"],"tw-px-2 tw-py-0.5"])},(0,wt.zw)(r.new_value?"PAID":"UNPAID"),3)])])])):(0,s.kq)("",!0),"close"==r.field?((0,s.wg)(),(0,s.iD)("div",Jyt,[(0,s._)("div",Gyt,[(0,s._)("div",Xyt,[(0,s.Uk)("Marked this invoice as "),(0,s._)("span",{class:(0,wt.C_)([[r.new_value?"tw-text-rose-600 tw-bg-rose-50":"tw-text-green-600 tw-bg-green-50"],"tw-px-2 tw-py-0.5"])},(0,wt.zw)(r.new_value?"CLOSED":"OPEN"),3)])])])):(0,s.kq)("",!0),"orders"==r.field?((0,s.wg)(),(0,s.iD)("div",t_t,[(0,s._)("div",e_t,[(0,s._)("div",r_t,"Orders: ("+(0,wt.zw)(r.new_value.length)+")",1),(0,s.kq)("",!0)]),(0,s._)("div",a_t,[(0,s._)("div",s_t,[l_t,o_t,i_t,w_t,(0,s._)("div",n_t,"PRICE ("+(0,wt.zw)((0,ke.SU)(c))+")",1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.new_value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:""},[(0,s._)("div",d_t,[(0,s._)("div",c_t,(0,wt.zw)(t.id),1),(0,s._)("div",u_t,(0,wt.zw)(a.value[t.confirmation]??null),1),(0,s._)("div",p_t,(0,wt.zw)(l.value[t.delivery]),1),(0,s._)("div",g_t,(0,wt.zw)(t.delivery_date?.split("T")[0]??t.delivery_date),1),(0,s._)("div",m_t,(0,wt.zw)(t.price),1)])])))),128)),(0,s._)("div",h_t,[f_t,b_t,(0,s._)("div",v_t,(0,wt.zw)(e.fields.find((t=>"total_shipping_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",x_t,[y_t,__t,(0,s._)("div",k_t,(0,wt.zw)(e.fields.find((t=>"total_cod_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",C_t,[D_t,S_t,(0,s._)("div",z_t,(0,wt.zw)(e.fields.find((t=>"total_other_fees"==t.field))?.new_value??0),1)]),(0,s._)("div",U_t,[q_t,P_t,(0,s._)("div",L_t,(0,wt.zw)((0,ke.SU)(c))+(0,wt.zw)(e.fields.find((t=>"amount_paid"==t.field))?.new_value??0),1)])])])):(0,s.kq)("",!0),"withdrawal_method_details"==r.field?((0,s.wg)(),(0,s.iD)("div",W_t,[(0,s._)("div",A_t,[$_t,"bank_transfer"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",E_t,[(0,s.Wm)(w,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),T_t])):(0,s.kq)("",!0),"binance"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",F_t,[(0,s.Wm)(w,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),j_t])):(0,s.kq)("",!0)]),"binance"==r.new_value.type?((0,s.wg)(),(0,s.iD)("div",V_t,(0,wt.zw)(r.new_value.metadata.binance_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)))),128))])])]))])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const O_t=I_t;var H_t=O_t;const M_t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},R_t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},N_t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Upload image ",-1),Y_t={class:"tw-p-5"},Z_t=["id"],K_t={class:"tw-text-center tw-flex tw-items-center tw-justify-center tw-flex-col tw-gap-5"},B_t=(0,s._)("p",null,"Click to upload",-1),Q_t={key:0,class:"tw-absolute tw-h-full tw-w-full tw-left-0 tw-top-0 tw-bg-white tw-flex tw-items-center tw-justify-center"},J_t=["src"],G_t={key:1,class:"tw-absolute tw-h-full tw-w-full tw-left-0 tw-top-0 tw-bg-white tw-flex tw-items-center tw-justify-center"},X_t=["src"],tkt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},ekt=["disabled"],rkt=["disabled"],akt=(0,s._)("span",null,"Save",-1);var skt={__name:"TableActionsUploadImage",props:["item"],emits:["update"],setup(t,{emit:e}){const r=(0,ke.iH)(!1),a=(0,ke.iH)(!1),l=(0,ke.iH)(null),o=t,i=e,w=(0,ke.iH)(""),n=async()=>{if(!l.value)return Tc("Add image to update","warning"),!1;a.value=!0;try{const t=new FormData;t.append("image",l.value);const e=await Ye.uploadImage(o.item.id,t);if(console.log(e.data),"SUCCESS"==e.data.code){const t={...o.item,attachement_image:e.data.factorisation.attachement_image};i("update",t),Tc("Image attachement updated"),r.value=!1}}catch(t){console.error("Error uploading image:",t)}a.value=!1},d=()=>{document.getElementById("invoice-image-"+o.item.id).click()},c=t=>{t.target.files.length<=0||(l.value=t.target.files[0],w.value=URL.createObjectURL(l.value))};return(t,e)=>{const l=(0,s.up)("icon"),i=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),class:"tw-aspect-square tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-fuchsia-100 hover:tw-border-fuchsia-400 tw-bg-fuchsia-50/10 hover:tw-bg-fuchsia-100 tw-duration-200"},[(0,s.Wm)(l,{icon:"uim:image-v",class:"tw-text-xl tw-text-fuchsia-500"})]),(0,s.Wm)(i,{visible:r.value,onCancel:e[2]||(e[2]=t=>r.value=!1),closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",M_t,[(0,s._)("div",R_t,[N_t,(0,s._)("div",Y_t,[(0,s._)("input",{onChange:c,ref:"image-field",type:"file",name:"image",id:"invoice-image-"+o.item.id,class:"tw-invisible"},null,40,Z_t),(0,s._)("div",{role:"button",onClick:d,class:"tw-relative tw-min-h-[350px] tw-w-full tw-cursor-pointer tw-border tw-border-dashed hover:tw-border-orange-400 tw-duration-200 tw-rounded tw-flex tw-overflow-hidden tw-items-center tw-justify-center"},[(0,s._)("div",K_t,[(0,s.Wm)(l,{icon:"ep:upload-filled",class:"tw-text-7xl tw-text-neutral-500"}),B_t,o.item.attachement_image&&!w.value?((0,s.wg)(),(0,s.iD)("div",Q_t,[(0,s._)("img",{class:"tw-w-full tw-h-full tw-object-contain",src:t.$backend(o.item.attachement_image.startsWith("/")?o.item.attachement_image.substring(1):o.item.attachement_image)},null,8,J_t)])):(0,s.kq)("",!0),w.value?((0,s.wg)(),(0,s.iD)("div",G_t,[(0,s._)("img",{class:"tw-w-full tw-h-full tw-object-contain",src:w.value},null,8,X_t)])):(0,s.kq)("",!0),(0,s.kq)("",!0)])])]),(0,s._)("div",tkt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),disabled:a.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,ekt),(0,s._)("button",{disabled:a.value,onClick:n,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[a.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),akt],8,rkt)])])])])),_:1},8,["visible","closeable"])])}}};const lkt=skt;var okt=lkt,ikt={components:{CommentFactorisation:mxt,UpdateFactorisation:Wxt,UpdateFees:Xxt,TableActionsUploadImage:okt,FactorisationHistory:H_t},props:{item:{required:!0}},data(){return{CommentPopup:!1,HistoryPopup:!1,popup:!1,DeletePopup:!1,FeesPopup:!1,isLoading:!1,visible:!1,serverUrl:n}},computed:{},methods:{}};const wkt=(0,m.Z)(ikt,[["render",Kvt]]);var nkt=wkt;const dkt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},ckt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},ukt=["disabled"],pkt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function gkt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",dkt,[(0,s._)("label",ckt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[0]||(e[0]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,ukt),[[a.e8,i.close]]),pkt]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var mkt={props:{item:{required:!0}},data(){return{isLoadingClose:!1}},computed:{close:{get(){return this.item.close},set(t){this.updateClose(t)}}},methods:{updateClose(t){this.isLoadingClose=!0,Ye.updateClose(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))}}};const hkt=(0,m.Z)(mkt,[["render",gkt]]);var fkt=hkt;const bkt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},vkt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},xkt=["disabled"],ykt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function _kt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",bkt,[(0,s._)("label",vkt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[0]||(e[0]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,xkt),[[a.e8,i.paid]]),ykt]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var kkt={props:{item:{required:!0}},data(){return{isLoadingPaid:!1}},computed:{paid:{get(){return this.item.paid},set(t){this.updatePaid(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Ye.updatePaid(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))}}};const Ckt=(0,m.Z)(kkt,[["render",_kt]]);var Dkt=Ckt;const Skt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},zkt={class:"tw-text-gray-700"},Ukt=["href"];function qkt(t,e,r,a,l,o){const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("h2",Skt,[(0,s._)("span",zkt,(0,wt.zw)(r.item.factorisation_id),1),(0,s._)("button",{class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-shadowx tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5",onClick:e[0]||(e[0]=t=>o.download(r.item.id))},[(0,s.Wm)(i,{icon:"ci:arrow-down-sm",class:"tw-text-xl"})]),r.item.close&&r.item.paid&!!r.item.attachement_image?((0,s.wg)(),(0,s.iD)("a",{key:0,target:"_blank",href:t.$backend(r.item.attachement_image.startsWith("/")?r.item.attachement_image.substring(1):r.item.attachement_image),class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-border-cyan-200 tw-shadowx tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5"},[(0,s.Wm)(i,{icon:"uim:image-v",class:"tw-text-xl tw-text-cyan-400"})],8,Ukt)):(0,s.kq)("",!0)])}var Pkt={props:{item:{required:!0}},methods:{download(t){const e=n+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const Lkt=(0,m.Z)(Pkt,[["render",qkt]]);var Wkt=Lkt;const Akt={class:"tw-px-4"},$kt=["disabled"],Ekt={key:0,class:"tw-flex tw-items-center tw-gap-2"},Tkt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Not Specified",-1),Fkt=[Tkt],jkt={key:0,class:"tw-flex tw-items-center tw-gap-2"},Vkt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),Ikt={key:1,class:"tw-flex tw-items-center tw-gap-2"},Okt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),Hkt={key:2,class:"tw-h-full tw-w-[28px] tw-aspect-square tw-border tw-border-solid tw-shadow tw-flex tw-items-center tw-text-gray-500 hover:tw-text-gray-7 tw-duration-200 tw-justify-center hover:tw-bg-gray-100 tw-rounded tw-p-0.5"},Mkt={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},Rkt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},Nkt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Switch payment method ",-1),Ykt={key:0,class:"tw-p-5 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5"},Zkt=["onClick"],Kkt={key:0,class:"tw-"},Bkt={class:"tw-flex tw-items-center tw-gap-3"},Qkt=(0,s._)("h1",{class:"tw-text-lg tw-font-bold"},"Bank Transfer",-1),Jkt={key:1},Gkt={class:"tw-flex tw-items-center tw-gap-3"},Xkt=(0,s._)("h1",{class:"tw-text-lg tw-font-bold"},"Binance",-1),tCt={key:1,class:"tw-p-5 tw-text-center"},eCt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},rCt=["disabled"],aCt=["disabled"],sCt=(0,s._)("span",null,"Save",-1);var lCt={__name:"WithdrawalMethodSeller",props:["factorisation","withdrawalMethods","isWithdrawalMethodsFetched"],emits:["update"],setup(t,{emit:e}){const r=(0,ke.iH)(!1),a=(0,ke.iH)(!1),l=e,o=t,i=(0,ke.iH)(null),w=(0,ke.Vh)(o,"factorisation"),n=(0,ke.Vh)(o,"withdrawalMethods"),d=(0,ke.Vh)(o,"isWithdrawalMethodsFetched");i.value=w.value.withdrawal_method_id;const c=async()=>{w.value.withdrawal_method_id!=i.value&&(r.value=!0,await Ye.updateMethod(w.value.id,i.value).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.factorisation;l("update",e),Tc("Withdrawal method has been updated"),a.value=!1}}),(t=>{Tc("NOT_ALLOWED"==t?.response?.data?.code?t?.response?.data?.message:"Something went wrong!","error")})),r.value=!1)},u=t=>{i.value=t.id};return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("router-link"),p=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",Akt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>w.value.paid?"":a.value=!a.value),disabled:w.value.paid,class:"tw-rounded tw-flex tw-justify-between tw-items-center tw-gap-2 tw-overflow-hidden"},[w.value.withdrawal_method?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["bank_transfer"==w.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",jkt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),Vkt])):(0,s.kq)("",!0),"binance"==w.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",Ikt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),Okt])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("div",Ekt,Fkt)),w.value.paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Hkt,[(0,s.Wm)(l,{icon:"uil:exchange",class:"tw-text-xl"})]))],8,$kt),(0,s.Wm)(p,{visible:a.value,closeable:!1,onCancel:e[2]||(e[2]=t=>a.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",Mkt,[(0,s._)("div",Rkt,[Nkt,d.value&&n.value.length?((0,s.wg)(),(0,s.iD)("div",Ykt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.value,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>u(t),key:t.id,class:(0,wt.C_)([i.value==t.id&&["!tw-border-orange-300 tw-ring tw-ring-orange-300"],"tw-border tw-flex tw-items-center tw-justify-center tw-border-solid tw-rounded tw-shadow tw-bg-white tw-p-5"])},["bank_transfer"==t.type?((0,s.wg)(),(0,s.iD)("div",Kkt,[(0,s._)("div",Bkt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-3xl tw-text-gray-600"}),Qkt])])):(0,s.kq)("",!0),"binance"==t.type?((0,s.wg)(),(0,s.iD)("div",Jkt,[(0,s._)("div",Gkt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-3xl tw-text-[#F3BA2F]"}),Xkt])])):(0,s.kq)("",!0)],10,Zkt)))),128))])):((0,s.wg)(),(0,s.iD)("div",tCt,[(0,s._)("p",null,[(0,s.Uk)("You haven't added any withdrawal method yet. Click "),(0,s.Wm)(o,{to:{name:"settings.seller.withdrawal-methods"},class:"tw-text-orange-500 hover:tw-underline"},{default:(0,s.w5)((()=>[(0,s.Uk)("here")])),_:1}),(0,s.Uk)(" to add a withdrawal method and manage your funds")])])),(0,s._)("div",eCt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>a.value=!1),disabled:r.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,rCt),(0,s._)("button",{disabled:r.value,onClick:c,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),sCt],8,aCt)])])])])),_:1},8,["visible"])])}}};const oCt=lCt;var iCt=oCt;const wCt={class:"tw-px-4 tw-mx-auto"},nCt={key:0,class:"tw-flex tw-items-center tw-gap-2"},dCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Not Specified",-1),cCt=[dCt],uCt={key:0,class:"tw-flex tw-items-center tw-gap-2"},pCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Bank Transfer",-1),gCt={key:1,class:"tw-flex tw-items-center tw-gap-2"},mCt=(0,s._)("h1",{class:"tw-text-sm tw-font-bold"},"Binance",-1),hCt={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},fCt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},bCt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Withdrawal method details ",-1),vCt={key:0,class:"tw-p-5 tw-space-y-4"},xCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Bank Name",-1),yCt=["value"],_Ct=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Account Holder Name",-1),kCt=["value"],CCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"RIB",-1),DCt=["value"],SCt={key:1,class:"tw-p-5 tw-space-y-4"},zCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Binance ID",-1),UCt=["value"],qCt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"};var PCt={__name:"WithdrawalMethodAdmin",props:["factorisation"],setup(t){const e=(0,ke.iH)(!1),r=t,a=(0,ke.Vh)(r,"factorisation");(0,s.f3)("withdrawal_methods"),(0,s.f3)("is_withdrawal_methods_fetched");return(t,r)=>{const l=(0,s.up)("icon"),o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",wCt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>e.value=!e.value),class:"tw-mx-auto tw-rounded tw-flex tw-justify-between tw-items-center tw-gap-2 tw-overflow-hidden tw-border tw-border-solid tw-p-2 tw-py-1 tw-duration-200 hover:tw-shadow-sm tw-shadow-black/10"},[a.value.withdrawal_method?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["bank_transfer"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",uCt,[(0,s.Wm)(l,{icon:"ph:bank-duotone",class:"tw-text-xl tw-text-gray-600"}),pCt])):(0,s.kq)("",!0),"binance"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",gCt,[(0,s.Wm)(l,{icon:"simple-icons:binance",class:"tw-text-xl tw-text-[#F3BA2F]"}),mCt])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("div",nCt,cCt))]),a.value.withdrawal_method?((0,s.wg)(),(0,s.j4)(o,{key:0,visible:e.value,closeable:!1,onCancel:r[2]||(r[2]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",hCt,[(0,s._)("div",fCt,[bCt,"bank_transfer"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",vCt,[(0,s._)("div",null,[xCt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.bank_name,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,yCt)]),(0,s._)("div",null,[_Ct,(0,s._)("input",{value:a.value.withdrawal_method.metadata.account_holder_name,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,kCt)]),(0,s._)("div",null,[CCt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.rib,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,DCt)])])):(0,s.kq)("",!0),"binance"==a.value.withdrawal_method.type?((0,s.wg)(),(0,s.iD)("div",SCt,[(0,s._)("div",null,[zCt,(0,s._)("input",{value:a.value.withdrawal_method.metadata.binance_id,type:"text",readonly:"",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",required:""},null,8,UCt)])])):(0,s.kq)("",!0),(0,s._)("div",qCt,[(0,s._)("button",{onClick:r[1]||(r[1]=t=>e.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])):(0,s.kq)("",!0)])}}};const LCt=PCt;var WCt=LCt,ACt={components:{TableActions:nkt,CloseFactorisation:fkt,PaidFactorisation:Dkt,PdfFactorisation:Wkt,WithdrawalMethodSeller:iCt,WithdrawalMethodAdmin:WCt},props:{item:{required:!0},withdrawalMethods:{required:!0},isWithdrawalMethodsFetched:{required:!0}},data(){return{moment:ze(),currency:c}},computed:{},methods:{}};const $Ct=(0,m.Z)(ACt,[["render",jvt]]);var ECt=$Ct,TCt={components:{TablePaginationNoNums:Xbt,TableRow:ECt},props:{items:{default:[]},withdrawalMethods:{required:!0},isWithdrawalMethodsFetched:{required:!0},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const FCt=(0,m.Z)(TCt,[["render",Fbt]]);var jCt=FCt;const VCt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},ICt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},OCt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),HCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),MCt=[HCt],RCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),NCt=[RCt],YCt=["disabled"],ZCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),KCt=[ZCt],BCt={class:"tw-relative"},QCt=["value"],JCt=(0,s._)("option",{value:5},"5",-1),GCt=(0,s._)("option",{value:10},"10",-1),XCt=(0,s._)("option",{value:20},"20",-1),tDt=(0,s._)("option",{value:50},"50",-1),eDt=(0,s._)("option",{value:100},"100",-1),rDt=(0,s._)("option",{value:250},"250",-1),aDt=(0,s._)("option",{value:500},"500",-1),sDt=[JCt,GCt,XCt,tDt,eDt,rDt,aDt],lDt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),oDt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},iDt=["value"],wDt={class:"tw-overflow-hidden tw-col-span-1"},nDt=(0,s._)("div",{class:"tw-overflow-hidden tw-col-span-1"},null,-1),dDt=[nDt];function cDt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",VCt,[(0,s._)("div",ICt,[OCt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},MCt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},NCt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},KCt,8,YCt),(0,s._)("div",BCt,[(0,s._)("select",{onChange:e[3]||(e[3]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},sDt,40,QCt),lDt])]),(0,s._)("div",oDt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,iDt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",wDt,[(0,s.Wm)(w,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},dDt,2)):(0,s.kq)("",!0)])}const uDt={class:"tw-mb-4"},pDt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},gDt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},mDt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),hDt=(0,s._)("span",null,"Clear",-1),fDt=[mDt,hDt],bDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),vDt=(0,s._)("span",null,"Filter",-1),xDt=[bDt,vDt];function yDt(t,e,r,a,l,o){const i=(0,s.up)("SellerFilter"),w=(0,s.up)("CloseFilter"),n=(0,s.up)("PaidFilter");return(0,s.wg)(),(0,s.iD)("div",uDt,[(0,s._)("div",pDt,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,filters:r.filters,onUpdate:e[0]||(e[0]=e=>t.$emit("update",e))},null,8,["filters"])):(0,s.kq)("",!0),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",gDt,[(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},fDt),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},xDt)])])])}const _Dt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),CDt=["value"],DDt=(0,s._)("option",{value:"all"},"All",-1),SDt=["value"];function zDt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",_Dt,[kDt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[DDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,SDt)))),128))],40,CDt)])}var UDt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const qDt=(0,m.Z)(UDt,[["render",zDt]]);var PDt=qDt;const LDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},WDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Close",-1),ADt=["value"],$Dt=(0,s._)("option",{value:"all"},"All",-1),EDt=["value"];function TDt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",LDt,[WDt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,close:e.target.value})),value:r.filters.close,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[$Dt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.close,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,wt.zw)(t.title),9,EDt)))),128))],40,ADt)])}var FDt={props:{filters:{required:!0}},data(){return{close:[{id:1,title:"Close",value:1},{id:2,title:"Not Close",value:0}]}}};const jDt=(0,m.Z)(FDt,[["render",TDt]]);var VDt=jDt;const IDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ODt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Paid",-1),HDt=["value"],MDt=(0,s._)("option",{value:"all"},"All",-1),RDt=["value"];function NDt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",IDt,[ODt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,paid:e.target.value})),value:r.filters.paid,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[MDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.paid,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,wt.zw)(t.title),9,RDt)))),128))],40,HDt)])}var YDt={props:{filters:{required:!0}},data(){return{paid:[{id:1,title:"Paid",value:1},{id:2,title:"Not Paid",value:0}]}}};const ZDt=(0,m.Z)(YDt,[["render",NDt]]);var KDt=ZDt,BDt={components:{SellerFilter:PDt,CloseFilter:VDt,PaidFilter:KDt},props:{filters:{required:!0,default:{}}},data(){return{}}};const QDt=(0,m.Z)(BDt,[["render",yDt]]);var JDt=QDt,GDt={components:{FiltersWrapper:JDt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value),console.log(t.target.value)}},data(){return{showFilters:!1,showStatistics:!1}}};const XDt=(0,m.Z)(GDt,[["render",cDt]]);var tSt=XDt;class eSt{async all(){return await E.getCookie(),A.get("api/withdrawal-methods")}async update(t,e){return await E.getCookie(),A.post("api/withdrawal-methods/"+t,e)}async setup(t){return await E.getCookie(),A.post("api/withdrawal-methods/setup",t)}}var rSt=new eSt,aSt={components:{IndexTable:jCt,IndexFilters:tSt},data(){return{fetching:!0,create_popup:!1,items:[],withdrawal_methods:[],is_withdrawal_methods_fetched:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{user_id:"all",close:"all",paid:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Ye.paginate(t,e).then((({data:t})=>{const e=t.data.factorisation;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={user_id:"all",close:"all",paid:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){t&&(this.items=this.items.map((e=>e.id==t.id?t:e))),console.log("Item: ",t)},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},async getWithdrawalMethods(){return this.is_withdrawal_methods_fetched=!1,await rSt.all().then((t=>{"SUCCESS"==t.data.code&&(this.withdrawal_methods=t.data.withdrawal_methods,this.is_withdrawal_methods_fetched=!0,console.log(this.withdrawal_methods))}),(t=>{console.log(t)}))}},computed:{user(){return this.$store.getters["user/user"]}},provide(){return{withdrawal_methods:this.withdrawal_methods,is_withdrawal_methods_fetched:this.is_withdrawal_methods_fetched}},mounted(){this.paginateOrders(),"seller"==this.user.role&&this.getWithdrawalMethods()}};const sSt=(0,m.Z)(aSt,[["render",lbt]]);var lSt=sSt,oSt={name:"factorisations",path:"/factorisations",component:Wa,meta:{module:"factorisation"},children:[{name:"factorisation/list",path:"",component:Jft,meta:{module:"factorisation",subModule:"factorisation/list",title:"Factorisations List",gate:"show_all_factorisations"}},{name:"factorisation/list",path:"",component:lSt,meta:{module:"factorisation",subModule:"factorisation/list",title:"New Factorisations List",gate:"show_all_factorisations"}}]};const iSt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},wSt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Google Sheets"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your google sheets")],-1),nSt=(0,s._)("span",{class:"text-white"}," Add Sheet ",-1),dSt={key:0},cSt={key:1,class:"py-5 px-5 tw-mb-5 tw-border bg-white tw-w-full tw-rounded-md"},uSt={class:"tw-flex tw-items-center tw-gap-2"},pSt=(0,s._)("h1",null,"Application's email",-1),gSt={class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-py-2 tw-px-2 tw-text-sm tw-mt-2 tw-text-gray-700"},mSt=(0,s._)("p",{class:"tw-mt-1 tw-text-xs tw-text-gray-400"}," Use this email to give access to Google Sheets ",-1),hSt={key:2,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},fSt={class:"mb-5 tw-flex"},bSt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},vSt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},xSt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ySt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),_St={class:"tw-relative"},kSt={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},CSt={class:""};function DSt(t,e,r,l,o,i){const w=(0,s.up)("LoadingAnimation"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("SheetsTable"),c=(0,s.up)("AddSheet");return(0,s.wg)(),(0,s.iD)("div",{key:i.sheets.length},[(0,s._)("div",iSt,[wSt,(0,s._)("div",null,[t.$can("create_sheet")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{icon:"mdi-plus",class:"mr-2 text-white"}),nSt])),_:1})):(0,s.kq)("",!0)])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dSt,[(0,s.Wm)(w)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",cSt,[(0,s._)("div",uSt,[pSt,(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.copy&&i.copy(...t)),class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-w-[30px] tw-h-[30px] tw-text-gray-500 hover:tw-text-gray-700 tw-duration-300 tw-border-solid hover:tw-border-gray-400"},[(0,s.Wm)(ct.t,{class:"tw-text-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-content-copy")])),_:1})])]),(0,s._)("div",gSt,(0,wt.zw)(o.email),1),mSt])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",hSt,[(0,s._)("div",fSt,[(0,s.Wm)(nt.T,{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",bSt,[(0,s.Wm)(oe.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,wt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",vSt,[(0,s._)("div",xSt,[ySt,(0,s._)("div",_St,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",kSt,[(0,s.Wm)(n,{filters:o.filters,onUpdate:i.updateFilters},null,8,["filters","onUpdate"])])):(0,s.kq)("",!0),(0,s._)("div",CSt,[(0,s.Wm)(d,{sheets:i.sheets},null,8,["sheets"])]),(0,s.Wm)(c,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const SSt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},zSt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},USt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},qSt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),PSt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},LSt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},WSt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},ASt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),$St=["value"],ESt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},TSt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},FSt={class:"tw-text-white"};function jSt(t,e,r,l,o,i){const w=(0,s.up)("SheetRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",SSt,[(0,s._)("table",zSt,[(0,s._)("thead",USt,[(0,s._)("tr",null,[qSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",PSt,(0,wt.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sheets,(t=>((0,s.wg)(),(0,s.j4)(w,{sheet:t,key:t.id},null,8,["sheet"])))),128))])])]),(0,s._)("div",LSt,[(0,s._)("div",WSt,[ASt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,wt.zw)(t),9,$St)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",ESt,[(0,s._)("div",TSt,(0,wt.zw)(i.prevRange+1)+" - "+(0,wt.zw)(o.currentPage==i.pageCount?r.sheets.length:i.nextRange)+" of "+(0,wt.zw)(r.sheets.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(nt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",FSt,(0,wt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const VSt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},ISt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),OSt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},HSt={class:"tw-px-6 tw-py-4"},MSt={class:"tw-px-6 tw-py-4"},RSt={class:"tw-px-6 tw-py-4"},NSt={class:"tw-px-6 tw-py-4"},YSt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},ZSt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},KSt=["disabled"],BSt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),QSt={class:"tw-px-6 tw-py-4"},JSt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function GSt(t,e,r,l,o,i){const w=(0,s.up)("SheetActions");return(0,s.wg)(),(0,s.iD)("tr",VSt,[ISt,(0,s._)("th",OSt,(0,wt.zw)(r.sheet.id),1),(0,s._)("td",HSt,[(0,s._)("div",null,[(0,s._)("span",{class:(0,wt.C_)(["tw-inline-block tw-w-[8px] tw-h-[8px] tw-rounded-full tw-mr-1",[1==r.sheet.active&&1==r.sheet.auto_fetch?"tw-bg-emerald-500":"tw-bg-red-500"]])},null,2),(0,s.Uk)(" "+(0,wt.zw)(r.sheet.name),1)])]),(0,s._)("td",MSt,[(0,s._)("div",null,(0,wt.zw)(r.sheet.username),1)]),(0,s._)("td",RSt,[(0,s._)("div",null,(0,wt.zw)(r.sheet.sheet_name),1)]),(0,s._)("td",NSt,[(0,s._)("div",YSt,[(0,s._)("label",ZSt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>i.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,KSt),[[a.e8,i.autoFetch]]),BSt]),o.isLoadingAuto?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",QSt,(0,wt.zw)(r.sheet.created_at.split("T")[0]),1),(0,s._)("td",JSt,[(0,s.Wm)(w,{sheet:r.sheet},null,8,["sheet"])])])}const XSt={key:0};function tzt(t,e,r,a,l,o){const i=(0,s.up)("UpdateSheet"),w=(0,s.up)("SheetOrders"),n=(0,s.up)("popup");return r.sheet?((0,s.wg)(),(0,s.iD)("div",XSt,[t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:o.sync,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{class:(0,wt.C_)([l.isLoadingSheet&&"tw-animate-spin"]),color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1},8,["class"])])),_:1},8,["onClick"])):(0,s.kq)("",!0),t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(nt.T,{key:1,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_sheet")?((0,s.wg)(),(0,s.j4)(nt.T,{key:2,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ct.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{visible:l.showUpdatePopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showUpdatePopup=t),sheet:r.sheet,onCancel:e[3]||(e[3]=t=>l.showUpdatePopup=!1)},null,8,["visible","sheet"]),(0,s.Wm)(w,{visible:l.showSheetPopup,"onUpdate:visible":e[4]||(e[4]=t=>l.showSheetPopup=t),sheet:r.sheet,orders:l.orders,onCancel:e[5]||(e[5]=t=>l.showSheetPopup=!1)},null,8,["visible","sheet","orders"]),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this sale?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleDelete},null,8,["loading","visible","onResolved"])])):(0,s.kq)("",!0)}const ezt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},rzt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),azt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},szt={class:"md:tw-col-span-6 tw-col-span-12"},lzt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),ozt={class:"md:tw-col-span-6 tw-col-span-12"},izt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),wzt={class:"md:tw-col-span-12 tw-col-span-12"},nzt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),dzt={class:"md:tw-col-span-6 tw-col-span-12"},czt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),uzt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},pzt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),gzt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},mzt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),hzt=(0,s._)("span",{class:"text-white"}," Save ",-1);function fzt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",ezt,[rzt,(0,s._)("div",azt,[(0,s._)("div",szt,[lzt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.newSheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.name]])]),(0,s._)("div",ozt,[izt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.newSheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_name]])]),(0,s._)("div",wzt,[nzt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.newSheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_id]])]),(0,s._)("div",dzt,[czt,(0,s._)("label",uzt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.newSheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.newSheet.auto_fetch]]),pzt])])]),(0,s._)("div",gzt,[(0,s.Wm)(nt.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[mzt])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[hzt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}class bzt{async all(t){return await E.getCookie(),A.get("api/sheets",{params:t})}async create(t){await E.getCookie();const e={name:t.name,sheet_id:t.sheet_id,sheet_name:t.sheet_name,auto_fetch:t.auto_fetch};return A.post("api/sheets",e)}async update(t,e){await E.getCookie();const r={name:e.name,sheet_id:e.sheet_id,sheet_name:e.sheet_name,auto_fetch:e.auto_fetch};return A.post("api/sheets/"+t,r)}async delete(t){return await E.getCookie(),A["delete"]("api/sheets/"+t)}async updateAutoFetch(t,e){return await E.getCookie(),A.post("api/sheets/"+t+"/auto-fetch",{autoFetch:e})}async sync(t){return await E.getCookie(),A.get("api/sync/"+t)}async sync_all(){return await E.getCookie(),A.get("api/sync")}async auto(){return await E.getCookie(),A.post("api/sync")}async saveOrders(t){return await E.getCookie(),A.get("api/sync/"+t+"/save")}}var vzt=new bzt,xzt={props:["visible","sheet"],data(){return{isLoading:!1,newSheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},watch:{visible(t){t&&(this.newSheet={...this.sheet,auto_fetch:1==this.sheet.auto_fetch})}},computed:{isFormValid(){return!!this.newSheet.name&&!!this.newSheet.sheet_id&&!!this.newSheet.sheet_name}},methods:{update(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.newSheet;vzt.update(this.sheet.id,t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet updated successfully"}),this.$store.dispatch("sheet/update",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const yzt=(0,m.Z)(xzt,[["render",fzt]]);var _zt=yzt;const kzt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Czt={key:0},Dzt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},Szt=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-neutral-700"},"Sheet's New Orders",-1),zzt={class:"tw-bg-emerald-500 tw-text-white tw-px-1 tw-text-sm tw-rounded"},Uzt={class:"tw-relative tw-overflow-x-auto"},qzt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-border tw-rounded"},Pzt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50 tw-rounded-t tw-overflow-hidden"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Fullname"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"SKU"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Qty"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Price")])],-1),Lzt={class:"tw-px-6 tw-py-2"},Wzt={class:"tw-px-6 tw-py-2"},Azt={class:"tw-px-6 tw-py-2"},$zt={class:"tw-px-6 tw-py-2"},Ezt={class:"tw-px-6 tw-py-2"},Tzt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},Fzt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),jzt=(0,s._)("span",{class:"text-white"}," Save Orders",-1);function Vzt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[1]||(e[1]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",kzt,[r.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Czt,[(0,s._)("div",Dzt,[Szt,(0,s._)("div",zzt,(0,wt.zw)(r.orders.length),1)]),(0,s._)("div",null,[(0,s._)("div",Uzt,[(0,s._)("table",qzt,[Pzt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b"},[(0,s._)("td",Lzt,(0,wt.zw)(t["Full name"]),1),(0,s._)("td",Wzt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Product name"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},"- "+(0,wt.zw)(t),1)))),128))])]),(0,s._)("td",Azt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["SKU"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,wt.zw)(t),1)))),128))])]),(0,s._)("td",$zt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Total quantity"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,wt.zw)(t),1)))),128))])]),(0,s._)("td",Ezt,(0,wt.zw)(t["Total charge"]),1)])))),128))])])])]),(0,s._)("div",Tzt,[(0,s.Wm)(nt.T,{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Fzt])),_:1}),(0,s.Wm)(nt.T,{loading:l.isLoading,onClick:o.save,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[jzt])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])])}var Izt={props:["visible","sheet","orders"],data(){return{isLoading:!1}},computed:{sales(){return this.$store.getters["sale/sales"]}},methods:{save(){this.isLoading=!0,vzt.saveOrders(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:t.data.data.orders.length+" Order has been added",type:"success"}),this.$store.dispatch("sale/setSales",[...t.data.data.orders,...this.sales]),this.$emit("cancel"))}),(t=>{this.$handleApiError(t),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this sheet",type:"warning"})})).finally((()=>{this.isLoading=!1}))}}};const Ozt=(0,m.Z)(Izt,[["render",Vzt]]);var Hzt=Ozt,Mzt={props:["sheet"],name:"sheetActions",components:{UpdateSheet:_zt,SheetOrders:Hzt},data(){return{showPopup:!1,showUpdatePopup:!1,showSheetPopup:!1,isLoading:!1,isLoadingSheet:!1,orders:[]}},computed:{},methods:{handleDelete(t){if(console.log(t),!t)return this.showPopup=!1,!1;this.delete()},delete(){this.isLoading=!0,vzt["delete"](this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:"Deleted successfully",type:"success"}),this.$store.dispatch("sheet/delete",this.sheet.id),this.showPopup=!1)}),this.$handleApiError).finally((()=>{this.isLoading=!1}))},sync(){this.isLoadingSheet=!0,vzt.sync(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(0==t.data.data.orders.length?this.$alert({title:"0 Orders found",type:"info"}):(this.orders=t.data.data.orders,this.showSheetPopup=!0),console.log(t.data.data.sheet),this.$store.dispatch("sheet/update",t.data.data.sheet)),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log(t),this.$store.dispatch("sheet/update",t.response.data.data.sheet),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this Google Sheet",type:"error"})})).finally((()=>{this.isLoadingSheet=!1}))}},mounted(){}};const Rzt=(0,m.Z)(Mzt,[["render",tzt]]);var Nzt=Rzt,Yzt={props:["sheet"],components:{SheetActions:Nzt},data(){return{isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.sheet.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,vzt.updateAutoFetch(this.sheet.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("sheet/update",e.data.data.sheet))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const Zzt=(0,m.Z)(Yzt,[["render",GSt]]);var Kzt=Zzt,Bzt={props:["sheets"],components:{SheetRow:Kzt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,columns:["id","name","username","sheet name","auto fetch","created","actions"]}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sheets.length/this.paginationLimit)},items(){return this.sheets.slice(this.prevRange,this.nextRange)}},methods:{}};const Qzt=(0,m.Z)(Bzt,[["render",jSt]]);var Jzt=Qzt;const Gzt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Xzt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),tUt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},eUt={class:"md:tw-col-span-6 tw-col-span-12"},rUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),aUt={class:"md:tw-col-span-6 tw-col-span-12"},sUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),lUt={class:"md:tw-col-span-12 tw-col-span-12"},oUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),iUt={class:"md:tw-col-span-6 tw-col-span-12"},wUt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),nUt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},dUt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),cUt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},uUt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),pUt=(0,s._)("span",{class:"text-white"}," Save ",-1);function gUt(t,e,r,l,o,i){const w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Gzt,[Xzt,(0,s._)("div",tUt,[(0,s._)("div",eUt,[rUt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.name]])]),(0,s._)("div",aUt,[sUt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_name]])]),(0,s._)("div",lUt,[oUt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.sheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_id]])]),(0,s._)("div",iUt,[wUt,(0,s._)("label",nUt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.sheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sheet.auto_fetch]]),dUt])])]),(0,s._)("div",cUt,[(0,s.Wm)(nt.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[uUt])),_:1}),(0,s.Wm)(nt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[pUt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var mUt={props:["visible"],data(){return{isLoading:!1,sheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},computed:{isFormValid(){return!!this.sheet.name&&!!this.sheet.sheet_id&&!!this.sheet.sheet_name}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.sheet;vzt.create(t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet created successfully"}),this.$store.dispatch("sheet/addSheet",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const hUt=(0,m.Z)(mUt,[["render",gUt]]);var fUt=hUt;const bUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vUt=(0,s._)("label",{for:"seller",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),xUt=["value"],yUt=(0,s._)("option",{value:"all"},"All",-1),_Ut=["value"];function kUt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",bUt,[vUt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[yUt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,_Ut)))),128))],40,xUt)])}var CUt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const DUt=(0,m.Z)(CUt,[["render",kUt]]);var SUt=DUt,zUt={components:{SheetsTable:Jzt,AddSheet:fUt,SellerFilter:SUt},data(){return{localUrl:w,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,email:"new-service-account@testing-379416.iam.gserviceaccount.com",filters:{user_id:"all"}}},computed:{sheets(){return this.$store.getters["sheet/sheets"]},user(){return this.$store.getters["user/user"]}},methods:{updateFilters(t){this.filters=t,this.getSheets()},getSheets(){return this.isLoaded=!1,vzt.all(this.filters).then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("sheet/setSheets",t.data.data.sheets),t)),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},copy(){navigator.clipboard.writeText(this.email),this.$alert({title:"Email Copied !",type:"success"})}},mounted(){this.getSheets()}};const UUt=(0,m.Z)(zUt,[["render",DSt]]);var qUt=UUt,PUt={name:"sheets",path:"/sheets",component:Wa,meta:{module:"sheet"},children:[{name:"sheet/list",path:"",component:qUt,meta:{module:"sheet",subModule:"sheet/list",title:"Google Sheets List",gate:"show_all_sheets"}}]};const LUt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},WUt={class:"tw-px-3"},AUt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},$Ut={class:"tw-flex tw-items-center tw-gap-x-3"},EUt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),TUt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},FUt=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),jUt=[FUt],VUt={key:0};function IUt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",LUt,[(0,s._)("section",WUt,[(0,s._)("div",AUt,[(0,s._)("div",null,[(0,s._)("div",$Ut,[EUt,(0,s._)("span",TUt,(0,wt.zw)(l.totalOrders)+" order",1)])]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},jUt)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",VUt,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class OUt{async create(t){return await E.getCookie(),A.post("api/ads/new",t)}async update(t,e){return await E.getCookie(),A.post("api/ads/update/"+t,e)}async delete(t){return await E.getCookie(),A["delete"]("api/ads/delete/"+t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/ads"+t,e)}}var HUt=new OUt;const MUt={class:"tw-flex tw-flex-col"},RUt={class:"tw-overflow-x-auto"},NUt={class:"tw-inline-block tw-min-w-full tw-align-middle"},YUt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},ZUt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},KUt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},BUt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),QUt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},JUt=(0,s._)("span",null,"Created",-1),GUt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),XUt=[JUt,GUt],tqt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},eqt=(0,s._)("span",null,"Ads For",-1),rqt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),aqt=[eqt,rqt],sqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Marketer ",-1),lqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),oqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),iqt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Leads ",-1),wqt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),nqt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),dqt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},cqt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},uqt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),pqt=[uqt],gqt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},mqt={colspan:"8"},hqt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},fqt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),bqt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),vqt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),xqt=[bqt,vqt],yqt={class:"tw-mt-6"};function _qt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",MUt,[(0,s._)("div",RUt,[(0,s._)("div",NUt,[(0,s._)("div",YUt,[(0,s._)("table",ZUt,[(0,s._)("thead",KUt,[(0,s._)("tr",null,[BUt,(0,s._)("th",QUt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},XUt)]),(0,s._)("th",tqt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},aqt)]),sqt,lqt,oqt,iqt,wqt,nqt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",dqt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",cqt,pqt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",gqt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",mqt,[(0,s._)("div",hqt,[fqt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},xqt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",yqt,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const kqt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Cqt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Dqt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Sqt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},zqt=["disabled"],Uqt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),qqt=(0,s._)("span",null," previous ",-1),Pqt=[Uqt,qqt],Lqt=["disabled"],Wqt=(0,s._)("span",null," Next ",-1),Aqt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),$qt=[Wqt,Aqt];function Eqt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",kqt,[(0,s._)("div",Cqt,[(0,s.Uk)(" Page "),(0,s._)("span",Dqt,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",Sqt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Pqt,10,zqt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},$qt,10,Lqt)])])])}var Tqt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Fqt=(0,m.Z)(Tqt,[["render",Eqt]]);var jqt=Fqt;const Vqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Iqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Oqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Hqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Mqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Rqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Nqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Yqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Zqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Kqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Bqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Qqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Jqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Gqt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Xqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},tPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},ePt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function rPt(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",Vqt,[(0,s._)("div",null,[(0,s._)("h2",Iqt,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",Oqt,[(0,s._)("div",null,[(0,s._)("h2",Hqt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Mqt,[(0,s._)("div",null,[(0,s._)("h2",Rqt,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Nqt,[(0,s._)("div",null,[(0,s._)("h2",Yqt,(0,wt.zw)(r.item.marketers.firstname)+" "+(0,wt.zw)(r.item.marketers.lastname),1)])]),(0,s._)("td",Zqt,[(0,s._)("div",null,[(0,s._)("h2",Kqt,(0,wt.zw)(r.item.source),1)])]),(0,s._)("td",Bqt,[(0,s._)("div",null,[(0,s._)("h2",Qqt,(0,wt.zw)(r.item.amount),1)])]),(0,s._)("td",Jqt,[(0,s._)("div",null,[(0,s._)("h2",Gqt,(0,wt.zw)(r.item.leads),1)])]),(0,s._)("td",Xqt,[(0,s._)("div",null,[(0,s._)("h2",tPt,(0,wt.zw)(r.item.products.name),1)])]),(0,s._)("td",ePt,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const aPt={class:"tw-h-full"},sPt={class:"tw-flex tw-items-center tw-gap-2"},lPt={key:0};function oPt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",aPt,[(0,s._)("div",sPt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",lPt,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const iPt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},wPt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),nPt={class:"tw-bg-white tw-p-4"},dPt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},cPt={class:"tw-col-span-2 md:tw-col-span-1"},uPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),pPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gPt={class:"tw-col-span-2 md:tw-col-span-1"},mPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),hPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fPt={class:"tw-col-span-2 md:tw-col-span-1"},bPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),vPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xPt={class:"tw-col-span-2 md:tw-col-span-1"},yPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),_Pt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),kPt=["value"],CPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DPt={class:"tw-col-span-2 md:tw-col-span-1"},SPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),zPt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),UPt=["value"],qPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},PPt={class:"md:tw-col-span-1 tw-col-span-2"},LPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),WPt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},APt={class:"tw-col-span-2"},$Pt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),EPt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},TPt=["disabled"],FPt=(0,s._)("span",null,"Update",-1);function jPt(t,e,r,l,o,i){const w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",iPt,[wPt,(0,s._)("div",nPt,[(0,s._)("div",dPt,[(0,s._)("div",cPt,[uPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.source=t),onInput:e[1]||(e[1]=t=>o.errors.source=null),type:"text",class:(0,wt.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",pPt,(0,wt.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",gPt,[mPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,wt.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",hPt,(0,wt.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",fPt,[bPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,wt.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",vPt,(0,wt.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",xPt,[yPt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>o.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>o.items.product_id=t),class:(0,wt.C_)([[o.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[_Pt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,kPt)))),128))],34),[[a.bM,o.items.product_id]]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",CPt,(0,wt.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",DPt,[SPt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.marketer_id=t),class:(0,wt.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[zPt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,UPt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",qPt,(0,wt.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",PPt,[LPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.items.ads_at=t),onInput:e[11]||(e[11]=t=>o.errors.ads_at=null),class:(0,wt.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",WPt,(0,wt.zw)(o.errors.ads_at),1)]),(0,s._)("div",APt,[$Pt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",EPt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),FPt],8,TPt)])])])),_:1},8,["visible","onCancel"])])}const VPt=(t,e)=>e.source?!e.product_id||parseInt(e.product_id)<=0?(t.errors.product_id="Product is required",!1):!e.amount||parseInt(e.amount)<=0?(t.errors.amount="Amount is required",!1):!!e.ads_at||(t.errors.ads_at="Add Ads Date !",!1):(t.errors.source="Source Name is required",!1),IPt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},OPt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},HPt=(t,e)=>{t.isLoading=!0,t.errors={},HUt.update(e.id,e).then((e=>IPt(t,e.data))).catch((e=>OPt(t,e.response.data))).finally((()=>t.isLoading=!1))};var MPt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,source:null,amount:null,ads_at:null}}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=VPt(this,this.items);if(!t)return!1;HPt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts(),this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const RPt=(0,m.Z)(MPt,[["render",jPt]]);var NPt=RPt,YPt={components:{UpdatePopup:NPt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const ZPt=(0,m.Z)(YPt,[["render",oPt]]);var KPt=ZPt,BPt={components:{TableActions:KPt},props:{item:{required:!0}},data(){return{moment:ze()}},computed:{},methods:{}};const QPt=(0,m.Z)(BPt,[["render",rPt]]);var JPt=QPt,GPt={components:{TablePaginationNoNums:jqt,TableRow:JPt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const XPt=(0,m.Z)(GPt,[["render",_qt]]);var tLt=XPt;const eLt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},rLt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},aLt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),sLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),lLt=[sLt],oLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),iLt=[oLt],wLt=["disabled"],nLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),dLt=[nLt],cLt={class:"tw-relative"},uLt=["value"],pLt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),gLt=[pLt],mLt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),hLt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},fLt=["value"],bLt={class:"tw-overflow-hidden tw-col-span-1"},vLt={class:"tw-overflow-hidden tw-col-span-1"};function xLt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",eLt,[(0,s._)("div",rLt,[aLt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},lLt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},iLt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},dLt,8,wLt),(0,s._)("div",cLt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},gLt,40,uLt),mLt])]),(0,s._)("div",hLt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,fLt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",bLt,[(0,s.Wm)(w,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",vLt,[(0,s.Wm)(n,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const yLt={class:"tw-mb-4"},_Lt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},kLt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},CLt={class:"tw-flex tw-items-center tw-justify-between"},DLt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},SLt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function zLt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",yLt,[(0,s._)("div",_Lt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",kLt,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",CLt,[(0,s._)("span",DLt,(0,wt.zw)(t.total),1),(0,s._)("span",SLt,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var ULt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return In.find((e=>e.value==t))}}};const qLt=(0,m.Z)(ULt,[["render",zLt]]);var PLt=qLt;const LLt={class:"tw-mb-4"},WLt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},ALt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$Lt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),ELt=["value"],TLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},FLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),jLt=["value"],VLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ILt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads From",-1),OLt=["value"],HLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},MLt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads To",-1),RLt=["value"],NLt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},YLt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),ZLt=(0,s._)("span",null,"Clear",-1),KLt=[YLt,ZLt],BLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),QLt=(0,s._)("span",null,"Filter",-1),JLt=[BLt,QLt];function GLt(t,e,r,a,l,o){const i=(0,s.up)("MarketerFilter"),w=(0,s.up)("ProductFilter"),n=(0,s.up)("SourceFilter");return(0,s.wg)(),(0,s.iD)("div",LLt,[(0,s._)("div",WLt,[(0,s._)("div",ALt,[$Lt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,ELt)]),(0,s._)("div",TLt,[FLt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,jLt)]),(0,s._)("div",VLt,[ILt,(0,s._)("input",{value:r.filters.ads_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,ads_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,OLt)]),(0,s._)("div",HLt,[MLt,(0,s._)("input",{value:r.filters.ads_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,ads_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,RLt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",NLt,[(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},KLt),(0,s._)("button",{onClick:e[8]||(e[8]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},JLt)])])])}const XLt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),eWt=["value"],rWt=(0,s._)("option",{value:"all"},"All",-1),aWt=["value"];function sWt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",XLt,[tWt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[rWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,aWt)))),128))],40,eWt)])}var lWt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const oWt=(0,m.Z)(lWt,[["render",sWt]]);var iWt=oWt;const wWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function dWt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",wWt,[nWt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var cWt={components:{"vue-select":NY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const uWt=(0,m.Z)(cWt,[["render",dWt]]);var pWt=uWt;const gWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},mWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Source",-1),hWt=["value"],fWt=(0,s._)("option",{value:"all"},"All",-1),bWt=["value"];function vWt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",gWt,[mWt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,source:e.target.value})),value:r.filters.source,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[fWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t,class:"tw-capitalize"},(0,wt.zw)(t),9,bWt)))),128))],40,hWt)])}var xWt={props:{filters:{required:!0}},data(){return{sources:["facebook","instagram","tiktok"]}}};const yWt=(0,m.Z)(xWt,[["render",vWt]]);var _Wt=yWt,kWt={components:{MarketerFilter:iWt,ProductFilter:pWt,SourceFilter:_Wt},props:{filters:{required:!0,default:{}}},data(){return{}}};const CWt=(0,m.Z)(kWt,[["render",GLt]]);var DWt=CWt,SWt={components:{IndexStatistics:PLt,FiltersWrapper:DWt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const zWt=(0,m.Z)(SWt,[["render",xLt]]);var UWt=zWt;const qWt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},PWt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),LWt={class:"tw-bg-white tw-p-4"},WWt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},AWt={class:"tw-col-span-2 md:tw-col-span-1"},$Wt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),EWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},TWt={class:"tw-col-span-2 md:tw-col-span-1"},FWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),jWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},VWt={class:"tw-col-span-2 md:tw-col-span-1"},IWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),OWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},HWt={class:"tw-col-span-2 md:tw-col-span-1"},MWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),RWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},NWt={class:"tw-col-span-2 md:tw-col-span-1"},YWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),ZWt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),KWt=["value"],BWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},QWt={class:"md:tw-col-span-1 tw-col-span-2"},JWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),GWt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},XWt={class:"tw-col-span-2"},tAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),eAt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},rAt=["disabled"],aAt=(0,s._)("span",null,"Create",-1);function sAt(t,e,r,l,o,i){const w=(0,s.up)("vue-select"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",qWt,[PWt,(0,s._)("div",LWt,[(0,s._)("div",WWt,[(0,s._)("div",AWt,[$Wt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.source=t),onInput:e[1]||(e[1]=t=>o.errors.source=null),type:"text",class:(0,wt.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",EWt,(0,wt.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",TWt,[FWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,wt.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",jWt,(0,wt.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",VWt,[IWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,wt.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",OWt,(0,wt.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",HWt,[MWt,(0,s.Wm)(w,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[6]||(e[6]=t=>{o.items.product_id=t.id,o.errors.product_id=null}),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"Choose Product","v-model":i.product,options:i.allProducts,label:"name"},null,8,["reduce","v-model","options"]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",RWt,(0,wt.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",NWt,[YWt,(0,s.wy)((0,s._)("select",{onChange:e[7]||(e[7]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[8]||(e[8]=t=>o.items.marketer_id=t),class:(0,wt.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[ZWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,KWt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",BWt,(0,wt.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",QWt,[JWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.ads_at=t),onInput:e[10]||(e[10]=t=>o.errors.ads_at=null),class:(0,wt.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",GWt,(0,wt.zw)(o.errors.ads_at),1)]),(0,s._)("div",XWt,[tAt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.items.note=t),onInput:e[12]||(e[12]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",eAt,[(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),aAt],8,rAt)])])])),_:1},8,["visible","onCancel"])])}const lAt=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},oAt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},iAt=(t,e)=>{t.isLoading=!0,t.errors={},HUt.create(e).then((e=>lAt(t,e.data))).catch((e=>oAt(t,e.response.data))).finally((()=>t.isLoading=!1))};var wAt={components:{"vue-select":NY.Z},props:{visible:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,marketer_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,marketer_id:null,source:null,leads:null,amount:null,ads_at:null}}},computed:{cities(){return this.$store.getters["city/cities"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]},product(){return this.$store.getters["product/products"]},allProducts(){return[...this.product]}},methods:{Test(){console.log("check")},handleCreate(){const t=VPt(this,this.items);if(!t)return!1;iAt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){console.log(this.marketers),this.getProducts()}};const nAt=(0,m.Z)(wAt,[["render",sAt]]);var dAt=nAt,cAt={components:{IndexTable:tLt,IndexFilters:UWt,CreatePopup:dAt},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,HUt.paginate(t,e).then((({data:t})=>{const e=t.data.ads;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const uAt=(0,m.Z)(cAt,[["render",IUt]]);var pAt=uAt,gAt={name:"ads",path:"/ads",component:Wa,meta:{module:"ads"},children:[{name:"ads/list",path:"",component:pAt,meta:{module:"ads",subModule:"ads/list",title:"Ads List",gate:"show_all_ads"}}]};const mAt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},hAt={class:"tw-px-3"},fAt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},bAt={class:"tw-flex tw-items-center tw-gap-x-3"},vAt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),xAt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},yAt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"These orders have needs to reconfirmed.",-1),_At={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"};function kAt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=((0,s.up)("BulkActions"),(0,s.up)("IndexTable"));return(0,s.wg)(),(0,s.iD)("div",mAt,[(0,s._)("section",hAt,[(0,s._)("div",fAt,[(0,s._)("div",null,[(0,s._)("div",bAt,[vAt,(0,s._)("span",xAt,(0,wt.zw)(l.totalOrders)+" order",1)]),yAt]),(0,s._)("div",_At,[(0,s.kq)("",!0)])]),(0,s.Wm)(i,{"search-by-field":l.searchByField,"onUpdate:searchByField":e[0]||(e[0]=t=>l.searchByField=t),search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":"","per-page":l.per_page},null,8,["search-by-field","search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,wt.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s.kq)("",!0)],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}class CAt{async statistics(t){return await E.getCookie(),A.post("api/v1/seller/statistics",t)}async paginate(t="/",e){return await E.getCookie(),A.post("api/v1/seller/orders"+t,e)}async update(t,e){return await E.getCookie(),A.post("api/v1/seller/orders/"+t+"/update",e)}async export(t={}){return await E.getCookie(),A.post("api/v1/seller/orders/export",t)}}var DAt=new CAt;const SAt={class:"tw-flex tw-flex-col"},zAt={class:"tw-overflow-x-auto"},UAt={class:"tw-inline-block tw-min-w-full tw-align-middle"},qAt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},PAt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},LAt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},WAt={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},AAt={class:"tw-max-w-[25px]"},$At={class:"tw-inline-flex tw-items-center"},EAt={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},TAt=["checked"],FAt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),jAt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),VAt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},IAt=(0,s._)("span",null,"Created",-1),OAt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),HAt=[IAt,OAt],MAt=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),RAt=(0,s._)("th",{scope:"col",class:"tw-px-6 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),NAt=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),YAt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),ZAt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),KAt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),BAt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},QAt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},JAt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),GAt=[JAt],XAt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},t$t={colspan:"9"},e$t={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},r$t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),a$t=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),s$t=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),l$t=[a$t,s$t],o$t={class:"tw-mt-6"};function i$t(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",SAt,[(0,s._)("div",zAt,[(0,s._)("div",UAt,[(0,s._)("div",qAt,[(0,s._)("table",PAt,[(0,s._)("thead",LAt,[(0,s._)("tr",null,[(0,s._)("th",WAt,[(0,s._)("div",AAt,[(0,s._)("div",$At,[(0,s._)("label",EAt,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,TAt),FAt])])])]),jAt,(0,s._)("th",VAt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},HAt)]),MAt,RAt,NAt,YAt,ZAt,KAt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",BAt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["selected","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",QAt,GAt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",XAt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",t$t,[(0,s._)("div",e$t,[r$t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},l$t)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",o$t,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const w$t={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},n$t={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},d$t={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},c$t={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},u$t=["disabled"],p$t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),g$t=(0,s._)("span",null," previous ",-1),m$t=[p$t,g$t],h$t=["disabled"],f$t=(0,s._)("span",null," Next ",-1),b$t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),v$t=[f$t,b$t];function x$t(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",w$t,[(0,s._)("div",n$t,[(0,s.Uk)(" Page "),(0,s._)("span",d$t,(0,wt.zw)(r.currentPage)+" of "+(0,wt.zw)(r.lastPage),1)]),(0,s._)("div",c$t,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,wt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},m$t,10,u$t),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,wt.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},v$t,10,h$t)])])])}var y$t={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const _$t=(0,m.Z)(y$t,[["render",x$t]]);var k$t=_$t;const C$t={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},D$t={class:"tw-max-w-[25px]"},S$t={class:"tw-inline-flex tw-items-center"},z$t={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},U$t=["checked","id"],q$t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),P$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},L$t={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},W$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},A$t={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},$$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},E$t={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},T$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},F$t={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},j$t={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},V$t={class:"tw-space-y-1"},I$t={class:"tw-font-bold tw-text-green-500"},O$t={class:"tw-block tw-max-w-[150px] tw-truncate"},H$t={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},M$t={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},R$t={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},N$t={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Y$t={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function Z$t(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",C$t,[(0,s._)("div",D$t,[(0,s._)("div",S$t,[(0,s._)("label",z$t,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,U$t),q$t])])])]),(0,s._)("td",P$t,[(0,s._)("div",null,[(0,s._)("h2",L$t,(0,wt.zw)(r.item.id),1)])]),(0,s._)("td",W$t,[(0,s._)("div",null,[(0,s._)("h2",A$t,[(0,s._)("p",null,(0,wt.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",$$t,[(0,s._)("div",null,[(0,s._)("h2",E$t,(0,wt.zw)(r.item.fullname),1)])]),(0,s._)("td",T$t,[(0,s._)("div",null,[(0,s._)("h2",F$t,(0,wt.zw)(r.item.phone),1)])]),(0,s._)("td",j$t,[(0,s._)("div",null,[(0,s._)("ul",V$t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",I$t,(0,wt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",O$t,(0,wt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",H$t,(0,wt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",M$t,(0,wt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",R$t,[(0,s._)("span",{class:(0,wt.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.confirmation.name),3)]),(0,s._)("td",N$t,[(0,s._)("span",{class:(0,wt.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,wt.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)]),(0,s._)("td",Y$t,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const K$t={class:"tw-h-full"},B$t={class:"tw-flex tw-items-center tw-gap-2"},Q$t={key:0},J$t={key:1};function G$t(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),w=(0,s.up)("HistoryPopup");return(0,s.wg)(),(0,s.iD)("div",K$t,[(0,s._)("div",B$t,[(0,s.kq)("",!0),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",Q$t,[(0,s.Wm)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[3]||(e[3]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",J$t,[(0,s.Wm)(w,{visible:l.history,"onUpdate:visible":e[4]||(e[4]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const X$t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},tEt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),eEt={class:"tw-bg-white tw-p-4"},rEt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},aEt={class:"tw-col-span-2 md:tw-col-span-1"},sEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),lEt=["readonly"],oEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},iEt={class:"tw-col-span-2 md:tw-col-span-1"},wEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),nEt=["readonly"],dEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cEt={class:"tw-col-span-2 md:tw-col-span-1"},uEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),pEt={class:"tw-relative"},gEt=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),mEt=["value"],hEt=["value"],fEt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),bEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},vEt={class:"tw-col-span-2 md:tw-col-span-1"},xEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),yEt=["readonly"],_Et={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},kEt={key:3,class:"tw-col-span-2"},CEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),DEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},SEt={class:"tw-col-span-2"},zEt={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},UEt={key:0,class:"tw-text-red-400 tw-text-xs"},qEt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},PEt=["disabled"],LEt=(0,s._)("span",null,"Update",-1);function WEt(t,e,r,l,o,i){(0,s.up)("OrderAffectation");const w=(0,s.up)("OrderItems"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",X$t,[tEt,(0,s._)("div",eEt,[(0,s._)("div",rEt,[(0,s._)("div",aEt,[sEt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,wt.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,42,lEt),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",oEt,(0,wt.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",iEt,[wEt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,class:(0,wt.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,42,nEt),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",dEt,(0,wt.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",cEt,[uEt,(0,s._)("div",pEt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),readonly:"",onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,wt.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[gEt,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,wt.zw)(o.itemCopy.city),9,mEt),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,wt.zw)(t.name),9,hEt)))),128))],34),[[a.bM,o.itemCopy.city]]),fEt]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",bEt,(0,wt.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",vEt,[xEt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),readonly:o.itemCopy.affectation||o.itemCopy.confirmation,onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,wt.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,42,yEt),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",_Et,(0,wt.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s.kq)("",!0),(o.itemCopy.confirmation,(0,s.kq)("",!0)),(o.itemCopy.confirmation,(0,s.kq)("",!0)),["change","refund"].includes(o.itemCopy.confirmation)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",kEt,[CEt,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,wt.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",DEt,(0,wt.zw)(o.errors.note),1)):(0,s.kq)("",!0)])),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",SEt,[(0,s._)("label",zEt,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",UEt," # "+(0,wt.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",qEt,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),o.itemCopy.affectation||o.itemCopy.confirmation?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),LEt],8,PEt))])])])),_:1},8,["visible","onCancel"])])}const AEt=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!$Et(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),$Et=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},EEt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},TEt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},FEt=(t,e)=>{t.isLoading=!0,t.errors={},ki.update(e.id,e).then((e=>EEt(t,e.data))).catch((e=>TEt(t,e.response.data))).finally((()=>t.isLoading=!1))},jEt={key:0,class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},VEt={key:1,class:"md:tw-col-span-12 tw-col-span-12"},IEt={class:"tw-max-w-full tw-overflow-auto"},OEt={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},HEt={class:"tw-bg-gray-50"},MEt={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},REt={key:0},NEt=(0,s._)("td",{colspan:"3"},null,-1),YEt=(0,s._)("td",null,[(0,s._)("div",{class:"tw-p-2"},[(0,s._)("p",null,"Total: ")])],-1),ZEt={colspan:"2",class:"tw-p-2"},KEt={class:"tw-p-2 tw-py-1 tw-text-sm tw-text-green-500 tw-w-24 tw-font-medium tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},BEt={colspan:"6"},QEt={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},JEt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),GEt=(0,s._)("span",null,"Add Item",-1),XEt=[JEt,GEt],tTt={key:1},eTt={colspan:"6"},rTt={class:"tw-scale-75 tw-p-5"};function aTt(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),w=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",jEt," No Order items ")),r.items.length?((0,s.wg)(),(0,s.iD)("div",VEt,[(0,s._)("div",IEt,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",OEt,[(0,s._)("tr",HEt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,wt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",MEt,(0,wt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",REt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,order:r.order,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["order","item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[NEt,YEt,(0,s._)("td",ZEt,[(0,s._)("div",KEt,[(0,s._)("p",null,(0,wt.zw)(l.currency)+" "+(0,wt.zw)(o.price),1)])])]),(0,s._)("tr",null,[(0,s._)("td",BEt,[(0,s._)("div",QEt,[r.order.affectation||r.order.confirmation?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},XEt))])])])])):((0,s.wg)(),(0,s.iD)("tbody",tTt,[(0,s._)("tr",null,[(0,s._)("td",eTt,[(0,s._)("div",rTt,[(0,s.Wm)(w)])])])]))]))])])):(0,s.kq)("",!0)])}const sTt=(0,s._)("td",null,null,-1),lTt={class:"tw-p-2"},oTt={class:"tw-relative"},iTt=["readonly","value"],wTt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),nTt=["value"],dTt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),cTt={class:"tw-p-2"},uTt={key:0,class:"tw-relative"},pTt=["readonly","value"],gTt=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),mTt=["value"],hTt={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},fTt=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),bTt=[fTt],vTt={class:"tw-p-2"},xTt=["value","readonly"],yTt={class:"tw-p-2"},_Tt=["value","readonly"],kTt={class:"tw-flex tw-justify-center"};function CTt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[sTt,(0,s._)("td",null,[(0,s._)("div",lTt,[(0,s._)("div",oTt,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),readonly:r.order.affectation||r.order.confirmation,value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[wTt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.name),9,nTt)))),128))],40,iTt),dTt])])]),(0,s._)("td",null,[(0,s._)("div",cTt,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",uTt,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,readonly:r.order.affectation||r.order.confirmation,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[gTt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,wt.zw)(t.color)+" "+(0,wt.zw)(t.size),9,mTt)))),128))],40,pTt)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",hTt,bTt)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",vTt,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,readonly:r.order.affectation||r.order.confirmation,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,xTt)])]),(0,s._)("td",null,[(0,s._)("div",yTt,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,readonly:r.order.affectation||r.order.confirmation,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,_Tt)])]),(0,s._)("td",null,[(0,s._)("div",kTt,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var DTt={props:{item:{required:!0},products:{required:!0},order:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const STt=(0,m.Z)(DTt,[["render",CTt]]);var zTt=STt,UTt={components:{ItemRow:zTt},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0,default:!1},order:{required:!0}},data(){return{currency:c}},computed:{price(){return vo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1]:1,e=t?t.id+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const qTt=(0,m.Z)(UTt,[["render",aTt]]);var PTt=qTt;const LTt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),WTt={key:0,class:"tw-relative"},ATt=["value","disabled"],$Tt=(0,s._)("option",{value:""},"Choose a Delivery",-1),ETt=["value"],TTt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),FTt={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},jTt={key:2,class:"tw-relative"},VTt={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},ITt=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),OTt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function HTt(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[LTt,l.fetched?((0,s.wg)(),(0,s.iD)("div",WTt,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,wt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[$Tt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,ETt)))),128))],42,ATt),TTt])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",FTt,(0,wt.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",jTt,[(0,s._)("div",VTt,[(0,s.Wm)(i)]),ITt,OTt]))])}var MTt={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const RTt=(0,m.Z)(MTt,[["render",HTt]]);var NTt=RTt,YTt={components:{OrderItems:PTt,OrderAffectation:NTt},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:jn,upsells:On,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=AEt(this,this.itemCopy);if(!t)return!1;this.itemCopy.note=this.item.note,FEt(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const ZTt=(0,m.Z)(YTt,[["render",WEt]]);var KTt=ZTt;const BTt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},QTt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),JTt={class:"tw-bg-white tw-p-4"},GTt={key:0},XTt={key:1,class:"tw-p-5"},tFt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},eFt={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},rFt=(0,s._)("div",{class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},null,-1),aFt={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},sFt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},lFt={class:"tw-flex tw-flex-col tw-my-2"},oFt=(0,s._)("div",null,"New Order Created",-1),iFt={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},wFt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function nFt(t,e,r,a,l,o){const i=(0,s.up)("loading"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",BTt,[QTt,(0,s._)("div",JTt,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",GTt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",XTt,[(0,s.Wm)($E.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(EE.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",tFt,[(0,s._)("div",eFt,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ct.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AE.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(!t.historique&&["delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),rFt,(0,s._)("div",aFt,[(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(EE.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",sFt,[(0,s._)("div",lFt,[(0,s.Wm)(AE.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),oFt]),(0,s._)("div",iFt,[(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,wt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",wFt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var dFt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){const t=[...this.allEvents].reverse();return t.filter((t=>"affectation"!==t.type&&"responsibility"!==t.type))}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ba.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple"};return["confirmation","delivery","upsell"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const cFt=(0,m.Z)(dFt,[["render",nFt]]);var uFt=cFt,pFt={components:{UpdatePopup:KTt,HistoryPopup:uFt},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const gFt=(0,m.Z)(pFt,[["render",G$t]]);var mFt=gFt,hFt={components:{TableActions:mFt},props:{item:{required:!0},selected:{required:!0}},data(){return{moment:ze()}},computed:{confirmation(){return jn.find((t=>t.value==this.item.confirmation))},deliveryState(){return Hn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}}};const fFt=(0,m.Z)(hFt,[["render",Z$t]]);var bFt=fFt,vFt={components:{TablePaginationNoNums:k$t,TableRow:bFt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const xFt=(0,m.Z)(vFt,[["render",i$t]]);var yFt=xFt;const _Ft={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},kFt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},CFt=["disabled"],DFt=["disabled"],SFt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),zFt=[SFt],UFt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),qFt=[UFt],PFt=["disabled"],LFt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),WFt=[LFt],AFt=["disabled"],$Ft=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),EFt=[$Ft],TFt={class:"tw-relative"},FFt=["value"],jFt=(0,s._)("option",{value:5},"5",-1),VFt=(0,s._)("option",{value:10},"10",-1),IFt=(0,s._)("option",{value:20},"20",-1),OFt=(0,s._)("option",{value:50},"50",-1),HFt=(0,s._)("option",{value:100},"100",-1),MFt=(0,s._)("option",{value:200},"200",-1),RFt=[jFt,VFt,IFt,OFt,HFt,MFt],NFt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),YFt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},ZFt=["value"],KFt=(0,s._)("option",{value:"all"},"All",-1),BFt=(0,s._)("option",{value:"id"},"ID",-1),QFt=[KFt,BFt],JFt=["value"],GFt={class:"tw-overflow-hidden tw-col-span-1"},XFt={class:"tw-overflow-hidden tw-col-span-1"},tjt={class:"tw-overflow-hidden tw-col-span-1"};function ejt(t,e,r,l,o,i){const w=(0,s.up)("FiltersWrapper"),n=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",_Ft,[(0,s._)("div",kFt,[(0,s._)("button",{class:(0,wt.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,CFt),(0,s._)("button",{class:(0,wt.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,DFt),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,wt.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},zFt,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,wt.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},qFt,2)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},WFt,8,PFt),(0,s._)("button",{onClick:e[5]||(e[5]=t=>o.showExport=!o.showExport),class:(0,wt.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},EFt,10,AFt),(0,s._)("div",TFt,[(0,s._)("select",{onChange:e[6]||(e[6]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},RFt,40,FFt),NFt])]),(0,s._)("div",YFt,[(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},QFt,40,ZFt),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,JFt),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,wt.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",GFt,[(0,s.Wm)(w,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,wt.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",XFt,[(0,s.Wm)(n,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,wt.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",tjt,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const rjt={class:"tw-mb-4"},ajt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},sjt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},ljt={class:"tw-flex tw-items-center tw-justify-between"},ojt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},ijt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function wjt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",rjt,[(0,s._)("div",ajt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",sjt,[(0,s._)("p",{class:(0,wt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,wt.zw)(t.name),3),(0,s._)("div",ljt,[(0,s._)("span",ojt,(0,wt.zw)(t.total),1),(0,s._)("span",ijt,(0,wt.zw)(t.percent)+"%",1)])])])))),128))])])}var njt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return jn.find((e=>e.value==t))}}};const djt=(0,m.Z)(njt,[["render",wjt]]);var cjt=djt;const ujt={class:"tw-mb-4"},pjt={class:"tw-flex tw-items-center tw-gap-2"},gjt=["disabled"],mjt=(0,s._)("span",null,"Select Filtered",-1),hjt={class:"tw-flex tw-justify-end"},fjt=["disabled"];function bjt(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",ujt,[(0,s._)("div",pjt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),mjt],8,gjt)]),(0,s._)("div",hjt,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,wt.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,fjt)])])}var vjt={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,DAt["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const xjt=(0,m.Z)(vjt,[["render",bjt]]);var yjt=xjt;const _jt={class:"tw-mb-4"},kjt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Cjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Djt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),Sjt=["value"],zjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Ujt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),qjt=["value"],Pjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Ljt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),Wjt=["value"],Ajt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$jt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),Ejt=["value"],Tjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Fjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),jjt=["value"],Vjt=(0,s._)("option",{value:"all",selected:""},"All",-1),Ijt=["value"],Ojt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Hjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),Mjt=["value"],Rjt=(0,s._)("option",{value:"all",selected:""},"All",-1),Njt=["value"],Yjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Zjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Kjt=["value"],Bjt=(0,s._)("option",{value:"all",selected:""},"All",-1),Qjt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),Jjt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),Gjt=[Bjt,Qjt,Jjt],Xjt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},tVt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),eVt=(0,s._)("span",null,"Clear",-1),rVt=[tVt,eVt],aVt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),sVt=(0,s._)("span",null,"Filter",-1),lVt=[aVt,sVt];function oVt(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",_jt,[(0,s._)("div",kjt,[(0,s.kq)("",!0),(0,s._)("div",Cjt,[Djt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Sjt)]),(0,s._)("div",zjt,[Ujt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,qjt)]),(0,s._)("div",Pjt,[Ljt,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Wjt)]),(0,s._)("div",Ajt,[$jt,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Ejt)]),(0,s._)("div",Tjt,[Fjt,(0,s._)("select",{value:r.filters.confirmation,onChange:e[5]||(e[5]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Vjt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,Ijt)))),128))],40,jjt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Ojt,[Hjt,(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Rjt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,Njt)))),128))],40,Mjt)]),(0,s._)("div",Yjt,[Zjt,(0,s._)("select",{value:r.filters.upsell,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},Gjt,40,Kjt)]),(0,s._)("div",Xjt,[(0,s._)("button",{onClick:e[9]||(e[9]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},rVt),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},lVt)])])])}const iVt={class:"tw-text-sm tw-text-neutral-600"},wVt=["onClick"];function nVt(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",iVt,(0,wt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,wt.zw)(t),9,wVt)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var dVt={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,oo.Z)(new Date,1),(0,oo.Z)(new Date,1)]},{label:"This month",range:[(0,io.Z)(new Date),(0,wo.Z)(new Date)]},{label:"Last month",range:[(0,io.Z)((0,no.Z)(new Date,1)),(0,wo.Z)((0,no.Z)(new Date,1))]},{label:"This year",range:[(0,co.Z)(new Date),(0,uo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const cVt=(0,m.Z)(dVt,[["render",nVt]]);var uVt=cVt;const pVt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gVt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function mVt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",pVt,[gVt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full custom-vue-select",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var hVt={components:{"vue-select":NY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const fVt=(0,m.Z)(hVt,[["render",mVt]]);var bVt=fVt,vVt={components:{DateFilter:uVt,ProductFilter:bVt},props:{filters:{required:!0,default:{}}},data(){return{confirmations:jn,deliveries:Hn,dateFilter:["",""]}}};const xVt=(0,m.Z)(vVt,[["render",oVt]]);var yVt=xVt,_Vt={components:{IndexStatistics:cjt,FiltersWrapper:yVt,IndexExport:yjt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ze()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const kVt=(0,m.Z)(_Vt,[["render",ejt]]);var CVt=kVt;const DVt={class:"tw-mb-4"},SVt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},zVt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},UVt={class:"tw-flex tw-items-center tw-gap-2"},qVt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},PVt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),LVt={class:"tw-flex tw-items-center tw-gap-2"},WVt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),AVt=(0,s._)("span",null," Clear Selection ",-1),$Vt=[WVt,AVt],EVt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),TVt=(0,s._)("span",null," Actions ",-1),FVt=[EVt,TVt],jVt={key:0};function VVt(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",DVt,[(0,s._)("div",SVt,[(0,s._)("div",zVt,[(0,s._)("div",UVt,[(0,s._)("div",qVt,(0,wt.zw)(r.selected.length),1),PVt]),(0,s._)("div",LVt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},$Vt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},FVt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",jVt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const IVt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},OVt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},HVt=(0,s._)("span",null,"Quick Actions",-1),MVt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},RVt={class:"tw-bg-white tw-p-4"},NVt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},YVt={class:"tw-col-span-2 md:tw-col-span-1"},ZVt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},KVt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},BVt=(0,s._)("span",null,"Apply",-1);function QVt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",IVt,[(0,s._)("div",OVt,[HVt,(0,s._)("span",MVt,(0,wt.zw)(r.selected.length),1)]),(0,s._)("div",RVt,[(0,s._)("div",NVt,[(0,s._)("div",YVt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",ZVt,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",KVt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),BVt])])])])),_:1},8,["visible","closeable","onCancel"])])}const JVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),GVt={class:"tw-relative"},XVt=["value"],tIt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function eIt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[JVt,(0,s._)("div",GVt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,XVt)))),128))],512),[[a.bM,i.vaction]]),tIt]),(0,s.kq)("",!0)])}var rIt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const aIt=(0,m.Z)(rIt,[["render",eIt]]);var sIt=aIt;const lIt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),oIt={class:"tw-relative"},iIt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),wIt=["value"],nIt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function dIt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[lIt,(0,s._)("div",oIt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[iIt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,wIt)))),128))],512),[[a.bM,i.vvalue]]),nIt]),(0,s.kq)("",!0)])}var cIt={props:{value:{required:!0}},data(){return{statuses:Hn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const uIt=(0,m.Z)(cIt,[["render",dIt]]);var pIt=uIt,gIt=(t,e)=>{t.isLoading=!0,zX.execute(e).then((e=>mIt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const mIt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var hIt={components:{BulkSelectAction:sIt,BulkDeliveryAction:pIt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};gIt(this,t)}}};const fIt=(0,m.Z)(hIt,[["render",QVt]]);var bIt=fIt,vIt={components:{BulkPopup:bIt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const xIt=(0,m.Z)(vIt,[["render",VVt]]);var yIt=xIt,_It={components:{IndexTable:yFt,IndexFilters:CVt,BulkActions:yIt},data(){return{fetching:!0,items:[],selected:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,DAt.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"},this.handlePageChange(1)},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){console.log(t),this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},handleBulkUpdate(){this.selected=[],this.paginateOrders()}},mounted(){this.paginateOrders()}};const kIt=(0,m.Z)(_It,[["render",kAt]]);var CIt=kIt,DIt={name:"seller",path:"/seller/list",component:Wa,meta:{module:"seller"},children:[{name:"seller/list",path:"",component:CIt,meta:{module:"sellersale",subModule:"seller/list",title:"Seller List",gate:"show_seller_sales"}}]};const SIt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},zIt={class:"tw-px-3"},UIt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},qIt={class:"tw-flex tw-items-center tw-gap-x-3"},PIt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),LIt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},WIt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),AIt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},$It=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),EIt=(0,s._)("span",null,"Create",-1),TIt=[$It,EIt],FIt={key:1};function jIt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=((0,s.up)("BulkActions"),(0,s.up)("IndexTable")),n=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",SIt,[(0,s._)("section",zIt,[(0,s._)("div",UIt,[(0,s._)("div",null,[(0,s._)("div",qIt,[PIt,(0,s._)("span",LIt,(0,wt.zw)(l.totalOrders)+" order",1)]),WIt]),(0,s._)("div",AIt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},TIt)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",FIt,[(0,s.Wm)(n,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const VIt={class:"tw-mb-4"},IIt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},OIt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},HIt={class:"tw-flex tw-items-center tw-gap-2"},MIt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},RIt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),NIt={class:"tw-flex tw-items-center tw-gap-2"},YIt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),ZIt=(0,s._)("span",null," Clear Selection ",-1),KIt=[YIt,ZIt],BIt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),QIt=(0,s._)("span",null," Actions ",-1),JIt=[BIt,QIt],GIt={key:0};function XIt(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",VIt,[(0,s._)("div",IIt,[(0,s._)("div",OIt,[(0,s._)("div",HIt,[(0,s._)("div",MIt,(0,wt.zw)(r.selected.length),1),RIt]),(0,s._)("div",NIt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},KIt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},JIt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",GIt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const tOt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},eOt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},rOt=(0,s._)("span",null,"Quick Actions",-1),aOt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},sOt={class:"tw-bg-white tw-p-4"},lOt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},oOt={class:"tw-col-span-2 md:tw-col-span-1"},iOt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},wOt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},nOt=(0,s._)("span",null,"Apply",-1);function dOt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),w=(0,s.up)("BulkDeliveryAction"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",tOt,[(0,s._)("div",eOt,[rOt,(0,s._)("span",aOt,(0,wt.zw)(r.selected.length),1)]),(0,s._)("div",sOt,[(0,s._)("div",lOt,[(0,s._)("div",oOt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",iOt,[(0,s.Wm)(w,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",wOt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),nOt])])])])),_:1},8,["visible","closeable","onCancel"])])}const cOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),uOt={class:"tw-relative"},pOt=["value"],gOt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function mOt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[cOt,(0,s._)("div",uOt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,wt.zw)(t.name),9,pOt)))),128))],512),[[a.bM,i.vaction]]),gOt]),(0,s.kq)("",!0)])}var hOt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const fOt=(0,m.Z)(hOt,[["render",mOt]]);var bOt=fOt;const vOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),xOt={class:"tw-relative"},yOt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),_Ot=["value"],kOt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function COt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[vOt,(0,s._)("div",xOt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[yOt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([t.text]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,_Ot)))),128))],512),[[a.bM,i.vvalue]]),kOt]),(0,s.kq)("",!0)])}var DOt={props:{value:{required:!0}},data(){return{statuses:Hn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const SOt=(0,m.Z)(DOt,[["render",COt]]);var zOt=SOt,UOt=(t,e)=>{t.isLoading=!0,zX.execute(e).then((e=>qOt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const qOt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var POt={components:{BulkSelectAction:bOt,BulkDeliveryAction:zOt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};UOt(this,t)}}};const LOt=(0,m.Z)(POt,[["render",dOt]]);var WOt=LOt,AOt={components:{BulkPopup:WOt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const $Ot=(0,m.Z)(AOt,[["render",XIt]]);var EOt=$Ot,TOt={components:{IndexTable:m3,IndexFilters:w6,CreatePopup:w7,BulkActions:EOt},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ki.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=xo(t.first_page_url),this.lase_page_url=xo(t.last_page_url),this.next_page_url=xo(t.next_page_url),this.prev_page_url=xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,ot.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const FOt=(0,m.Z)(TOt,[["render",jIt]]);var jOt=FOt,VOt={path:"/followup",name:"followup",component:Wa,meta:{module:"dashboard"},children:[{name:"followup/index",path:"",component:jOt,meta:{module:"followup",title:"Follow Up Orders",gate:"follow_up_orders"}}]};const IOt={class:"tw-pb-40"},OOt={class:"tw-space-y-3"};function HOt(t,e,r,a,l,o){const i=(0,s.up)("RealTimeOnlineUsers"),w=(0,s.up)("OnlineUsers"),n=(0,s.up)("IndexFilters"),d=(0,s.up)("IndexRevenue"),c=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",IOt,[(0,s._)("div",OOt,[(0,s.Wm)(i),(0,s.Wm)(w),(0,s.Wm)(n,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(d,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(c,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const MOt={class:"tw-bg-white tw-p-5"},ROt={class:"tw-flex tw-items-center tw-justify-between"},NOt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Users",-1),YOt={class:"tw-relative tw-flex tw-items-center"},ZOt=(0,s._)("span",{class:"tw-text-xs tw-absolute tw-right-0 tw-top-0 -tw-translate-y-full tw-whitespace-nowrap"},"Show All",-1),KOt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-scale-75"},BOt=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none peer-focus:tw-ring-4 peer-focus:tw-ring-orange-200 dark:peer-focus:tw-ring-orange-500 tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600 peer-checked:tw-bg-orange-500"},null,-1),QOt={key:0,class:""},JOt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},GOt=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),XOt=[GOt],tHt={key:1,class:"tw-min-h-[50px]"},eHt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},rHt={class:"py-2 px-3 tw-rounded tw-bg-white tw-shadow-sm tw-grid tw-grid-cols-12 tw-relative tw-overflow-hidden"},aHt={class:"tw-col-span-12 tw-flex tw-items-center tw-gap-2 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},sHt={key:0,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-red-400 tw-absolute tw-top-0 tw-right-0"},lHt={key:1,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-green-500 tw-absolute tw-top-0 tw-right-0"},oHt={key:2,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-yellow-400 tw-absolute tw-top-0 tw-right-0"},iHt={class:"tw-font-bold"},wHt={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs tw-mt-1"},nHt={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},dHt={key:1},cHt={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},uHt={key:1,class:"tw-flex tw-items-center tw-gap-2"};function pHt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",MOt,[(0,s._)("div",ROt,[NOt,(0,s._)("div",YOt,[ZOt,(0,s._)("label",KOt,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>o.showAll=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.showAll]]),BOt])])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",QOt,[(0,s._)("div",JOt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},XOt))),64))])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",tHt,[(0,s._)("div",eHt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",rHt,[(0,s._)("div",aHt,[t.last_action?1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",lHt)):((0,s.wg)(),(0,s.iD)("div",oHt)):((0,s.wg)(),(0,s.iD)("div",sHt)),(0,s._)("span",iHt,(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),1)]),(0,s._)("div",wHt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",dHt,[1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",cHt," Online ")):((0,s.wg)(),(0,s.iD)("div",uHt,(0,wt.zw)(i.lastSeen(t.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",nHt," Never Connected "))])])])))),128))])])):(0,s.kq)("",!0)])}var gHt={components:{},data(){return{isLoaded:!1,showAll:!1}},computed:{users(){return this.showAll?this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?ze()(t.last_action).isAfter(e.last_action)?-1:1:-1)):this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?ze()(t.last_action).isAfter(e.last_action)?-1:1:-1)).slice(0,8)}},methods:{getUsers(){ot.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,_s.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const mHt=(0,m.Z)(gHt,[["render",pHt]]);var hHt=mHt;const fHt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[700px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},bHt={class:"tw-py-2 tw-px-4 tw-text-lg tw-flex tw-items-center tw-justify-between tw-border-b tw-border-solid tw-font-medium dark:tw-text-neutral-400 tw-text-neutral-500 tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},vHt=(0,s._)("span",null,"Users",-1),xHt={class:"tw-bg-white tw-p-4"},yHt={key:0,class:"tw-mt-5"},_Ht=(0,s._)("div",{class:"tw-p-4 tw-bg-gray-100 tw-rounded"},null,-1),kHt=(0,s._)("div",{class:"tw-p-4 tw-bg-gray-100 tw-mt-2 tw-rounded"},null,-1),CHt=(0,s._)("div",{class:"tw-p-4 tw-bg-gray-100 tw-mt-2 tw-rounded"},null,-1),DHt=(0,s._)("div",{class:"tw-p-4 tw-bg-gray-100 tw-mt-2 tw-rounded"},null,-1),SHt=[_Ht,kHt,CHt,DHt],zHt={key:1,class:"tw-w-full tw-mt-5"},UHt={class:"tw-w-full tw-border tw-border-solid tw-border-gray-200 tw-rounded"},qHt=(0,s._)("thead",{class:"tw-bg-gray-100 tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-p-2 tw-text-xs tw-w-[70px] tw-text-start"},"ID"),(0,s._)("th",{class:"tw-p-2 tw-text-xs tw-text-start"},"NAME"),(0,s._)("th",{class:"tw-p-2 tw-text-xs tw-w-[150px] tw-text-start"},"LAST ACTION")])],-1),PHt={class:"tw-p-2"},LHt={class:"tw-p-2"},WHt={class:"tw-p-2 tw-font-semibold tw-"},AHt={key:0},$Ht={key:1};var EHt={__name:"UsersLastAction",setup(t){const e=(0,ke.iH)(""),r=(0,ke.iH)(!1),l=(0,ke.iH)([]),o=async()=>{r.value=!0,await ot.lastAction().then((t=>{"SUCCESS"==t.data.code&&(l.value=t.data.users)})),r.value=!1};return o(),(t,o)=>{const i=(0,s.up)("icon"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:!0,onCancel:o[2]||(o[2]=e=>t.$emit("cancel"))},{default:(0,s.w5)((()=>[(0,s._)("div",fHt,[(0,s._)("div",bHt,[vHt,(0,s._)("button",{onClick:o[0]||(o[0]=e=>t.$emit("cancel")),class:"tw-flex tw-items-center tw-justify-center tw-p-1 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(i,{icon:"ic:round-close",class:"tw-text-lg tw-text-gray-700"})])]),(0,s._)("div",xHt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>e.value=t),type:"text",placeholder:"Search",class:"tw-bg-white tw-outline-none tw-px-4 tw-py-2 tw-w-[250px] tw-rounded tw-border tw-border-solid tw-border-gray-200"},null,512),[[a.nr,e.value]]),r.value?((0,s.wg)(),(0,s.iD)("div",yHt,SHt)):((0,s.wg)(),(0,s.iD)("div",zHt,[(0,s._)("table",UHt,[qHt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value.filter((e=>e.id!=t.$user.id)).filter((t=>t.firstname.toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||t.lastname.toLocaleLowerCase().includes(e.value.toLocaleLowerCase()))),(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"hover:tw-bg-gray-100 tw-duration-200"},[(0,s._)("td",PHt,(0,wt.zw)(t.id),1),(0,s._)("td",LHt,[(0,s._)("p",null,(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),1)]),(0,s._)("td",WHt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",AHt,(0,wt.zw)((0,ke.SU)(ze())(t.last_action).fromNow()),1)):(0,s.kq)("",!0),t.last_action?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$Ht," - "))])])))),128))])])]))])])])),_:1})])}}};const THt=EHt;var FHt=THt;const jHt={class:"tw-bg-white tw-p-4 tw-rounded tw-border tw-border-solid tw-border-gray-200"},VHt={class:"tw-flex tw-items-center tw-justify-between"},IHt=(0,s._)("h1",{class:"tw-font-semibold"},"Online (test)",-1),OHt={class:"tw-flex tw-items-center tw-gap-2"},HHt={key:0},MHt={key:0,class:"tw-flex tw-gap-2 tw-flex-wrap tw-mt-4"},RHt={class:"tw-flex tw-items-center tw-gap-2"},NHt={class:"tw-flex tw-items-center tw-gap-1 tw-font-bold"},YHt={key:0,class:"tw-uppercasex tw-font-semibold tw-text-xs tw-px-4"},ZHt={key:1,class:"tw-uppercasex tw-font-semibold tw-text-xs tw-px-4"},KHt={key:1,class:"tw-mt-4 tw-flex tw-items-center tw-justify-center tw-p-4 tw-bg-gray-100 tw-rounded"},BHt=(0,s._)("p",null,"All users are offline now",-1),QHt=[BHt];var JHt={__name:"RealTimeOnlineUsers",setup(t){const e=(0,ke.iH)({users:!0,lastAction:!1}),r=(0,i.oR)(),a=(0,s.Fl)((()=>{const t=r.getters["online/users"],e=t.filter((t=>!t.left_at)),a=t.filter((t=>t.left_at)).sort(((t,e)=>new Date(t.left_at)-new Date(e.left_at)));return[...e,...a].filter((t=>t.id!==r.getters["user/user"]?.id))}));return setTimeout((()=>{console.log("online: ",r.getters["online/users"])}),2e3),(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",jHt,[(0,s._)("div",VHt,[IHt,(0,s._)("div",OHt,[(0,s._)("div",null,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>e.value.lastAction=!0),class:"tw-flex tw-items-center tw-justify-center tw-p-1 tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(l,{icon:"ph:user-list",class:"tw-text-lg tw-text-gray-700"})]),e.value.lastAction?((0,s.wg)(),(0,s.j4)((0,ke.SU)(FHt),{key:0,onCancel:r[1]||(r[1]=t=>e.value.lastAction=!1)})):(0,s.kq)("",!0)]),(0,s._)("button",{onClick:r[2]||(r[2]=t=>e.value.users=!e.value.users),class:"tw-flex tw-items-center tw-justify-center tw-p-1 tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"},[(0,s.Wm)(l,{icon:e.value.users?"ion:chevron-up-outline":"ion:chevron-down-outline",class:"tw-text-lg tw-text-gray-700"},null,8,["icon"])])])]),e.value.users?((0,s.wg)(),(0,s.iD)("div",HHt,[a.value.length?((0,s.wg)(),(0,s.iD)("div",MHt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("div",{class:(0,wt.C_)([[t.left_at?"tw-border-t-gray-200":"tw-border-t-emerald-500"],"tw-p-1 tw-px-2 tw-border tw-border-solid tw-border-gray-200 tw-border-t-4 tw-rounded tw-shadow-sm tw-shadow-gray-100"])},[(0,s._)("div",RHt,[(0,s._)("div",{class:(0,wt.C_)([[t.left_at?"tw-bg-gray-200":"tw-bg-emerald-500"],"tw-w-1.5 tw-h-1.5 tw-rounded-full"])},null,2),(0,s._)("div",NHt,[(0,s._)("span",null,(0,wt.zw)(t.firstname),1),(0,s._)("span",null,(0,wt.zw)(t.lastname),1)])]),t.left_at?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",YHt,"Online")),t.left_at?((0,s.wg)(),(0,s.iD)("p",ZHt,(0,wt.zw)((0,ke.SU)(ze())(t.left_at).fromNow()),1)):(0,s.kq)("",!0)],2)])))),128))])):((0,s.wg)(),(0,s.iD)("div",KHt,QHt))])):(0,s.kq)("",!0)])}}};const GHt=JHt;var XHt=GHt;const tMt={class:"tw-bg-white"},eMt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},rMt={class:"tw-p-5"};function aMt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),w=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",tMt,[(0,s._)("div",eMt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,wt.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,wt.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",rMt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(w,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const sMt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},lMt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),oMt=[lMt],iMt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function wMt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",sMt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},oMt))),64))])):((0,s.wg)(),(0,s.iD)("div",iMt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const nMt={class:"tw-flex tw-justify-between"},dMt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},cMt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},uMt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},pMt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function gMt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,wt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",nMt,[(0,s._)("div",null,[(0,s._)("div",dMt,[(0,s._)("p",cMt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",uMt,[(0,s._)("span",pMt,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var mMt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const hMt=(0,m.Z)(mMt,[["render",gMt]]);var fMt=hMt,bMt={components:{DashboardCard:fMt},props:{statistics:{required:!0},fetching:{required:!0}}};const vMt=(0,m.Z)(bMt,[["render",wMt]]);var xMt=vMt;const yMt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},_Mt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),kMt=[_Mt],CMt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function DMt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",yMt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},kMt))),64))])):((0,s.wg)(),(0,s.iD)("div",CMt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var SMt={components:{DashboardCard:fMt},props:{statistics:{required:!0},fetching:{required:!0}}};const zMt=(0,m.Z)(SMt,[["render",DMt]]);var UMt=zMt,qMt={components:{ConfirmationTab:xMt,DeliveryTab:UMt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const PMt=(0,m.Z)(qMt,[["render",aMt]]);var LMt=PMt;const WMt={class:"tw-bg-white tw-p-5"},AMt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),$Mt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},EMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},TMt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),FMt=(0,s._)("option",{value:"all",selected:""},"All",-1),jMt=["value"],VMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},IMt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),OMt=(0,s._)("option",{value:"all",selected:""},"All",-1),HMt=["value"],MMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},RMt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),NMt=(0,s._)("option",{value:"all",selected:""},"All",-1),YMt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),ZMt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),KMt=[NMt,YMt,ZMt],BMt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},QMt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),JMt=(0,s._)("span",null,"Clear",-1),GMt=[QMt,JMt],XMt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),tRt=(0,s._)("span",null,"Filter",-1),eRt=[XMt,tRt];function rRt(t,e,r,l,o,i){const w=(0,s.up)("DateFilter"),n=(0,s.up)("AgentFilter"),d=(0,s.up)("SellerFilter"),c=(0,s.up)("AffectationFilter"),u=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",WMt,[AMt,(0,s._)("div",$Mt,[(0,s.Wm)(w,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.delivered_from,"onUpdate:from":e[4]||(e[4]=t=>o.filters.delivered_from=t),to:o.filters.delivered_to,"onUpdate:to":e[5]||(e[5]=t=>o.filters.delivered_to=t),label:"Delivered"},null,8,["from","to"]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[6]||(e[6]=t=>o.filters=t)},null,8,["filters"]),(0,s.Wm)(d,{filters:o.filters,onUpdate:e[7]||(e[7]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",EMt,[TMt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[FMt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,jMt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s.Wm)(c,{filters:o.filters,onUpdate:e[9]||(e[9]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",VMt,[IMt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[OMt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,HMt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(u,{filters:o.filters,onUpdate:e[11]||(e[11]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",MMt,[RMt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},KMt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",BMt,[(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},GMt),(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},eRt)])])])}const aRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),lRt=["value"],oRt=(0,s._)("option",{value:"all"},"All",-1),iRt=(0,s._)("option",{value:""},"No Delivery",-1),wRt=["value"];function nRt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",aRt,[sRt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[oRt,iRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,wRt)))),128))],40,lRt)])}var dRt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const cRt=(0,m.Z)(dRt,[["render",nRt]]);var uRt=cRt;const pRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),mRt=["value"],hRt=(0,s._)("option",{value:"all"},"All",-1),fRt=(0,s._)("option",{value:""},"No Agent",-1),bRt=["value"];function vRt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",pRt,[gRt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[hRt,fRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,bRt)))),128))],40,mRt)])}var xRt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const yRt=(0,m.Z)(xRt,[["render",vRt]]);var _Rt=yRt;const kRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},CRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),DRt=["value"],SRt=(0,s._)("option",{value:"all"},"All",-1),zRt=["value"];function URt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",kRt,[CRt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[SRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,zRt)))),128))],40,DRt)])}var qRt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const PRt=(0,m.Z)(qRt,[["render",URt]]);var LRt=PRt;const WRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ARt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function $Rt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",WRt,[ARt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"]),(0,s.kq)("",!0)])}var ERt={components:{"vue-select":NY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return"all"!=this.filters.user_id?this.$store.getters["product/products"]?.filter((t=>t.user_id==this.filters.user_id)):this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const TRt=(0,m.Z)(ERt,[["render",$Rt]]);var FRt=TRt;const jRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},VRt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},IRt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),ORt=[IRt],HRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},MRt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},RRt=["value"],NRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YRt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},ZRt=["value"];function KRt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",jRt,[(0,s._)("label",VRt,(0,wt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},ORt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",HRt,[(0,s._)("label",MRt,(0,wt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,RRt)]),(0,s._)("div",NRt,[(0,s._)("label",YRt,(0,wt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,ZRt)])],64)):(0,s.kq)("",!0)],64)}var BRt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ze()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ze()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ze()().startOf("month").format("YYYY-MM-DD"),a=ze()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ze()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ze()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const QRt=(0,m.Z)(BRt,[["render",KRt]]);var JRt=QRt,GRt={components:{AffectationFilter:uRt,AgentFilter:_Rt,ProductFilter:FRt,DateFilter:JRt,SellerFilter:LRt},props:{},data(){return{confirmations:jn,deliveries:Hn,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const XRt=(0,m.Z)(GRt,[["render",rRt]]);var tNt=XRt;const eNt={key:0},rNt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function aNt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",eNt,[(0,s._)("div",rNt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const sNt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},lNt={class:"tw-flex tw-justify-between"},oNt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},iNt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},wNt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},nNt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function dNt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",sNt,[(0,s._)("div",lNt,[(0,s._)("div",null,[(0,s._)("div",oNt,[(0,s._)("p",iNt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",wNt,[(0,s._)("span",nNt,(0,wt.zw)(o.format(r.value)),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var cNt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const uNt=(0,m.Z)(cNt,[["render",dNt]]);var pNt=uNt,gNt={components:{RevenueCard:pNt},props:{statistics:{required:!0},fetching:{required:!0}}};const mNt=(0,m.Z)(gNt,[["render",aNt]]);var hNt=mNt,fNt={components:{OnlineUsers:hHt,IndexStatistics:LMt,IndexFilters:tNt,IndexRevenue:hNt,RealTimeOnlineUsers:XHt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Iu.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const bNt=(0,m.Z)(fNt,[["render",HOt]]);var vNt=bNt;const xNt={class:"tw-pb-40"},yNt={class:"tw-space-y-3"};function _Nt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexRevenue"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",xNt,[(0,s._)("div",yNt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const kNt={class:"tw-bg-white"},CNt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},DNt={class:"tw-p-5"};function SNt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),w=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",kNt,[(0,s._)("div",CNt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,wt.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,wt.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",DNt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(w,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const zNt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},UNt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),qNt=[UNt],PNt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function LNt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",zNt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},qNt))),64))])):((0,s.wg)(),(0,s.iD)("div",PNt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const WNt={class:"tw-flex tw-justify-between"},ANt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},$Nt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},ENt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},TNt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function FNt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,wt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",WNt,[(0,s._)("div",null,[(0,s._)("div",ANt,[(0,s._)("p",$Nt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",ENt,[(0,s._)("span",TNt,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var jNt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const VNt=(0,m.Z)(jNt,[["render",FNt]]);var INt=VNt,ONt={components:{DashboardCard:INt},props:{statistics:{required:!0},fetching:{required:!0}}};const HNt=(0,m.Z)(ONt,[["render",LNt]]);var MNt=HNt;const RNt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},NNt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),YNt=[NNt],ZNt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function KNt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",RNt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},YNt))),64))])):((0,s.wg)(),(0,s.iD)("div",ZNt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var BNt={components:{DashboardCard:INt},props:{statistics:{required:!0},fetching:{required:!0}}};const QNt=(0,m.Z)(BNt,[["render",KNt]]);var JNt=QNt,GNt={components:{ConfirmationTab:MNt,DeliveryTab:JNt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const XNt=(0,m.Z)(GNt,[["render",SNt]]);var tYt=XNt;const eYt={class:"tw-bg-white tw-p-5"},rYt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),aYt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},sYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},lYt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),oYt=(0,s._)("option",{value:"all",selected:""},"All",-1),iYt=["value"],wYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nYt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),dYt=(0,s._)("option",{value:"all",selected:""},"All",-1),cYt=["value"],uYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pYt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),gYt=(0,s._)("option",{value:"all",selected:""},"All",-1),mYt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),hYt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),fYt=[gYt,mYt,hYt],bYt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},vYt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),xYt=(0,s._)("span",null,"Clear",-1),yYt=[vYt,xYt],_Yt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),kYt=(0,s._)("span",null,"Filter",-1),CYt=[_Yt,kYt];function DYt(t,e,r,l,o,i){const w=(0,s.up)("DateFilter"),n=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",eYt,[rYt,(0,s._)("div",aYt,[(0,s.Wm)(w,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(w,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",sYt,[lYt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[oYt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,iYt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s._)("div",wYt,[nYt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[dYt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,wt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,wt.zw)(t.name),11,cYt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[6]||(e[6]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",uYt,[pYt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},fYt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",bYt,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},yYt),(0,s._)("button",{onClick:e[9]||(e[9]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},CYt)])])])}const SYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zYt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function UYt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",SYt,[zYt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var qYt={components:{"vue-select":NY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const PYt=(0,m.Z)(qYt,[["render",UYt]]);var LYt=PYt;const WYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},AYt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},$Yt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),EYt=[$Yt],TYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},FYt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},jYt=["value"],VYt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},IYt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},OYt=["value"];function HYt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",WYt,[(0,s._)("label",AYt,(0,wt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},EYt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",TYt,[(0,s._)("label",FYt,(0,wt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,jYt)]),(0,s._)("div",VYt,[(0,s._)("label",IYt,(0,wt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,OYt)])],64)):(0,s.kq)("",!0)],64)}var MYt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ze()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ze()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ze()().startOf("month").format("YYYY-MM-DD"),a=ze()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ze()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ze()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const RYt=(0,m.Z)(MYt,[["render",HYt]]);var NYt=RYt,YYt={components:{ProductFilter:LYt,DateFilter:NYt},props:{},data(){return{confirmations:jn,deliveries:Hn,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const ZYt=(0,m.Z)(YYt,[["render",DYt]]);var KYt=ZYt;const BYt={key:0},QYt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function JYt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",BYt,[(0,s._)("div",QYt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const GYt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},XYt={class:"tw-flex tw-justify-between"},tZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},eZt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},rZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},aZt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function sZt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",GYt,[(0,s._)("div",XYt,[(0,s._)("div",null,[(0,s._)("div",tZt,[(0,s._)("p",eZt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",rZt,[(0,s._)("span",aZt,(0,wt.zw)(r.value)+"$ ",1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var lZt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const oZt=(0,m.Z)(lZt,[["render",sZt]]);var iZt=oZt,wZt={components:{RevenueCard:iZt},props:{statistics:{required:!0},fetching:{required:!0}}};const nZt=(0,m.Z)(wZt,[["render",JYt]]);var dZt=nZt,cZt={components:{IndexStatistics:tYt,IndexFilters:KYt,IndexRevenue:dZt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,DAt.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"seller"!=this.user.role&&this.$router.push({name:"404"})}};const uZt=(0,m.Z)(cZt,[["render",_Nt]]);var pZt=uZt;const gZt={class:"tw-pb-40"},mZt={class:"tw-space-y-3"};function hZt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexAnalytics");return(0,s.wg)(),(0,s.iD)("div",gZt,[(0,s._)("div",mZt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{analytics:l.analytics,fetching:l.fetching},null,8,["analytics","fetching"])])])}const fZt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},bZt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),vZt=[bZt],xZt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function yZt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return r.fetching?((0,s.wg)(),(0,s.iD)("div",fZt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},vZt))),64))])):((0,s.wg)(),(0,s.iD)("div",xZt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.analytics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))}const _Zt={class:"tw-flex tw-justify-between"},kZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},CZt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},DZt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},SZt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function zZt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,wt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",_Zt,[(0,s._)("div",null,[(0,s._)("div",kZt,[(0,s._)("p",CZt,(0,wt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",DZt,[(0,s._)("span",SZt,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var UZt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const qZt=(0,m.Z)(UZt,[["render",zZt]]);var PZt=qZt,LZt={components:{DashboardCard:PZt},props:{analytics:{required:!0},fetching:{required:!0}}};const WZt=(0,m.Z)(LZt,[["render",yZt]]);var AZt=WZt;const $Zt={class:"tw-bg-white tw-p-5"},EZt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),TZt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},FZt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},jZt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),VZt=(0,s._)("span",null,"Clear",-1),IZt=[jZt,VZt],OZt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),HZt=(0,s._)("span",null,"Filter",-1),MZt=[OZt,HZt];function RZt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),w=(0,s.up)("SellerFilter"),n=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",$Zt,[EZt,(0,s._)("div",TZt,[(0,s.Wm)(i,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(i,{from:l.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(w,{filters:l.filters,onUpdate:e[4]||(e[4]=t=>l.filters=t)},null,8,["filters"]),(0,s.Wm)(n,{filters:l.filters,onUpdate:e[5]||(e[5]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",FZt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},IZt),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},MZt)])])])}const NZt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YZt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),ZZt=["value"],KZt=(0,s._)("option",{value:"all"},"All",-1),BZt=["value"];function QZt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",NZt,[YZt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[KZt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,BZt)))),128))],40,ZZt)])}var JZt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const GZt=(0,m.Z)(JZt,[["render",QZt]]);var XZt=GZt;const tKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},eKt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function rKt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",tKt,[eKt,(0,s.Wm)(i,{"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var aKt={components:{"vue-select":NY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const sKt=(0,m.Z)(aKt,[["render",rKt]]);var lKt=sKt;const oKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},iKt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},wKt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),nKt=[wKt],dKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},cKt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},uKt=["value"],pKt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gKt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},mKt=["value"];function hKt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",oKt,[(0,s._)("label",iKt,(0,wt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},nKt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",dKt,[(0,s._)("label",cKt,(0,wt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,uKt)]),(0,s._)("div",pKt,[(0,s._)("label",gKt,(0,wt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,mKt)])],64)):(0,s.kq)("",!0)],64)}var fKt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ze()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ze()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ze()().startOf("month").format("YYYY-MM-DD"),a=ze()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ze()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ze()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const bKt=(0,m.Z)(fKt,[["render",hKt]]);var vKt=bKt,xKt={components:{SellerFilter:XZt,ProductFilter:lKt,DateFilter:vKt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,user_id:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const yKt=(0,m.Z)(xKt,[["render",RZt]]);var _Kt=yKt,kKt={components:{IndexAnalytics:AZt,IndexFilters:_Kt},data(){return{filters:null,analytics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Iu.analytics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.analytics=t.data.data.analytics.analytics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const CKt=(0,m.Z)(kKt,[["render",hZt]]);var DKt=CKt;function SKt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])}const zKt={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1 tw-py-2"},UKt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),qKt=[UKt];function PKt(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",zKt,[r.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},qKt))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(r.statistics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])}const LKt={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},WKt={class:"tw-flex tw-justify-between"},AKt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},$Kt={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},EKt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},TKt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function FKt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",LKt,[(0,s._)("div",WKt,[(0,s._)("div",null,[(0,s._)("div",AKt,[(0,s._)("p",$Kt,(0,wt.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,wt.j5)({background:r.color})},(0,wt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",EKt,[(0,s._)("span",TKt,(0,wt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,wt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ct.t,{style:(0,wt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var jKt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const VKt=(0,m.Z)(jKt,[["render",FKt]]);var IKt=VKt,OKt={components:{DashCard:IKt},props:{statistics:{required:!0},fetching:{required:!0}}};const HKt=(0,m.Z)(OKt,[["render",PKt]]);var MKt=HKt;const RKt={class:"tw-bg-white tw-p-5"},NKt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),YKt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},ZKt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},KKt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),BKt=(0,s._)("span",null,"Clear",-1),QKt=[KKt,BKt],JKt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),GKt=(0,s._)("span",null,"Filter",-1),XKt=[JKt,GKt];function tBt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",RKt,[NKt,(0,s._)("div",YKt,[(0,s.Wm)(i,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",ZKt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},QKt),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},XKt)])])])}const eBt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rBt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},aBt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),sBt=[aBt],lBt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oBt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},iBt=["value"],wBt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nBt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},dBt=["value"];function cBt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",eBt,[(0,s._)("label",rBt,(0,wt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},sBt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",lBt,[(0,s._)("label",oBt,(0,wt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,iBt)]),(0,s._)("div",wBt,[(0,s._)("label",nBt,(0,wt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,dBt)])],64)):(0,s.kq)("",!0)],64)}var uBt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ze()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ze()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ze()().startOf("month").format("YYYY-MM-DD"),a=ze()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ze()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ze()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const pBt=(0,m.Z)(uBt,[["render",cBt]]);var gBt=pBt,mBt={components:{DateFilter:gBt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const hBt=(0,m.Z)(mBt,[["render",tBt]]);var fBt=hBt,bBt={components:{IndexStatistics:MKt,IndexFilters:fBt},data(){return{filters:null,statistics:null,fetching:!0}},methods:{handleFilter(){this.fetching=!0,F.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}}};const vBt=(0,m.Z)(bBt,[["render",SKt]]);var xBt=vBt,yBt={name:"dashboards",path:"/dashboards",component:Wa,meta:{module:"dashboards",gate:"all"},children:[{name:"dashboards/admin",path:"admin",component:vNt,meta:{module:"dashboards",subModule:"dashboards/admin",title:"Dashboard",gate:"all"}},{name:"dashboards/seller",path:"seller",component:pZt,meta:{module:"dashboards",subModule:"dashboards/seller",title:"Dashboard",gate:"all"}},{name:"dashboards/analytics",path:"/analytics",component:DKt,meta:{module:"dashboards",subModule:"dashboards/analytics",title:"Dashboard Analytics",gate:"show_all_ads"}},{name:"dashboards/agent",path:"agent",component:xBt,meta:{module:"dashboards",subModule:"dashboards/agent",title:"Dashboard",gate:"all"}}]};class _Bt{async paginate(t="",e){return await E.getCookie(),A.get("api/sourcings"+t,{params:e})}async create(t){return await E.getCookie(),A.post("api/sourcings/new",t)}async update(t,e){return await E.getCookie(),A.post("api/sourcings/"+t,e)}async get(t){return await E.getCookie(),A.get("api/sourcings/"+t)}async history(t){return await E.getCookie(),A.get("api/sourcings/"+t+"/history")}async delete(t){return await E.getCookie(),A["delete"]("api/sourcings/"+t)}}var kBt=new _Bt;const CBt=[{name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-600 tw-font-medium"},{name:"Quoting",value:"quoting",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"},{name:"Confirmed",value:"confirmed",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"}],DBt=[{step:1,name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{step:2,name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-500 tw-font-medium"},{step:3,name:"Packing",value:"packing",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{step:4,name:"Shipped",value:"shipped",class:"tw-text-white tw-bg-violet-500 tw-font-medium"},{step:5,name:"Delivered",value:"delivered",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"},{step:0,name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"}],SBt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zBt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Quotation",-1),UBt=(0,s._)("option",{value:"all"},"All",-1),qBt=["value"];var PBt={__name:"FilterByQuotation",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",SBt,[zBt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ke.SU)(e).setFilter("quotation_status",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[UBt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(CBt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,wt.zw)(t.name),9,qBt)))),128))],32)]))}};const LBt=PBt;var WBt=LBt;const ABt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$Bt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Sourcing",-1),EBt=(0,s._)("option",{value:"all"},"All",-1),TBt=["value"];var FBt={__name:"FilterBySourcing",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",ABt,[$Bt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ke.SU)(e).setFilter("sourcing_status",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[EBt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(DBt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,wt.zw)(t.name),9,TBt)))),128))],32)]))}};const jBt=FBt;var VBt=jBt;const IBt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},OBt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),HBt=(0,s._)("option",{value:"all"},"All",-1),MBt=["value"];var RBt={__name:"FilterBySeller",setup(t){const e=(0,s.f3)("options"),r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/fetched"])),l=(0,s.Fl)((()=>r.getters["user/users"])),o=(0,s.Fl)((()=>a.value?l.value.filter((t=>"seller"==t.role.name)):[]));return(t,r)=>((0,s.wg)(),(0,s.iD)("div",IBt,[OBt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,ke.SU)(e).setFilter("user_id",t.target.value)),value:"all",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[HBt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,wt.zw)(t.firstname)+" "+(0,wt.zw)(t.lastname),9,MBt)))),128))],32)]))}};const NBt=RBt;var YBt=NBt;const ZBt={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-4"},KBt={key:0,class:"md:tw-col-span-4 tw-col-span-12"},BBt={key:1,class:"md:tw-col-span-4 tw-col-span-12"},QBt={key:2,class:"md:tw-col-span-4 tw-col-span-12"},JBt={class:"tw-col-span-12 tw-flex tw-justify-end"},GBt=(0,s._)("span",null,"Filter",-1),XBt=[GBt];var tQt={__name:"FilterOption",setup(t){const e=(0,s.f3)("options");(0,ke.Vh)(e,"options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ZBt,[["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",KBt,[(0,s.Wm)((0,ke.SU)(YBt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",BBt,[(0,s.Wm)((0,ke.SU)(WBt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",QBt,[(0,s.Wm)((0,ke.SU)(VBt))])):(0,s.kq)("",!0),(0,s._)("div",JBt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>(0,ke.SU)(e).getData()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},XBt)])])]))}};const eQt=tQt;var rQt=eQt;const aQt={class:"tw-relative tw-h-[40px] tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},sQt=["value"],lQt=["value"],oQt=["value"];var iQt={__name:"SearchOption",emits:["update:search-by-field","update:search","filter"],setup(t,{emit:e}){const r=e,l=(0,ke.iH)([{field:"all",name:"All"},{field:"id",name:"ID"}]),o=(0,ke.iH)("all"),i=(0,ke.iH)(""),w=t=>{r("update:search-by-field",t.target.value)},n=t=>{r("update:search",t.target.value)},d=()=>{r("filter")};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",aQt,[(0,s._)("select",{onChange:w,value:o.value,class:"tw-block tw-h-[40px] !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.field,key:t.field},(0,wt.zw)(t.name),9,lQt)))),128))],40,sQt),(0,s._)("input",{type:"text",placeholder:"Search",value:i.value,onInput:n,onKeyup:(0,a.D2)(d,["enter"]),class:"tw-block tw-h-[40px] tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,oQt),(0,s._)("button",{onClick:d,class:"tw-absolute tw-h-[40px] tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ct.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])]))}};const wQt=iQt;var nQt=wQt;const dQt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between tw-flex-wrap"},cQt={class:"tw-inline-flex tw-flex-wrap tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},uQt={class:"tw-relative tw-h-[40px]"},pQt=["value"],gQt={class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},mQt={key:0},hQt={class:"tw-overflow-hidden tw-col-span-1"};var fQt={__name:"IndexOptions",setup(t){const e=(0,ke.qj)({filters:!1}),r=(0,s.f3)("options"),a=t=>{r.setOptions({...r.options,per_page:parseInt(t)}),r.getData()};return(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",dQt,[(0,s._)("div",cQt,[(0,s._)("button",{class:(0,wt.C_)([["!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:!0}," View all "),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Filters",class:(0,wt.C_)([[e.filters&&"!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),onClick:r[0]||(r[0]=t=>e.filters=!e.filters)},[(0,s.Wm)(l,{icon:"mi:filter",class:"tw-text-2xl"})],2)):(0,s.kq)("",!0),(0,s._)("div",uQt,[(0,s._)("select",{value:10,onChange:r[1]||(r[1]=t=>a(t.target.value)),class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)([5,10,20,50,100,250,500],(t=>(0,s._)("option",{value:t,key:t},(0,wt.zw)(t),9,pQt))),64))],32),(0,s._)("div",gQt,[(0,s.Wm)(l,{icon:"mdi:chevron-down",class:"tw-text-xl"})])])]),(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(nQt))])]),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",mQt,[(0,s._)("div",{class:(0,wt.C_)([[e.filters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",hQt,[(0,s.Wm)((0,ke.SU)(rQt))])],2)])):(0,s.kq)("",!0)])}}};const bQt=fQt;var vQt=bQt;const xQt={class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},yQt=["colspan"],_Qt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},kQt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),CQt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),DQt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),SQt=[CQt,DQt];var zQt={__name:"TableLoading",props:{columns:{type:Number,required:!1,default:10},rows:{type:Number,required:!1,default:10}},setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("tbody",xQt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:e.rows},[(0,s._)("div",_Qt,[kQt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.columns,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},SQt)))),128))])],8,yQt)])]))}};const UQt=zQt;var qQt=UQt;const PQt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},LQt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},WQt=(0,s._)("span",null,"Sourcing History",-1),AQt={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},$Qt={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},EQt={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},TQt={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},FQt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-6 tw-h-6 tw-bg-neutral-100 tw-rounded-full -tw-left-3 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),jQt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},VQt={class:"tw-text-gray-500"},IQt={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},OQt=["onMouseenter","onMouseleave"],HQt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600"},MQt={class:"tw-flex tw-flex-col tw-gap-4"},RQt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},NQt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},YQt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},ZQt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},KQt={key:1,class:"tw-w-full"},BQt=(0,s._)("div",{class:"tw-items-center tw-justify-between tw-mb-3 sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},"Added a note:")],-1),QQt={class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var JQt={__name:"TableActionsHistory",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r={product_name:"Product name",product_url:"Product URL",video_url:"Video URL",is_paid:"Paid",paid_at:"Paid at",estimated_quantity:"Estimated Quantity",destination_country:"Destination Country",note_by_seller:"Note by seller",note_by_admin:"Note by admin",shipping_method:"Shipping Method",quotation_status:"Quotation Status",sourcing_status:"Sourcing Status",cost_per_unit:"Unit Price",total_cost:"Total Cost",additional_fees:"Additional Fees"},a={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},is_paid:{1:"YES",0:"NO"}},l=t,o=e,i=(0,ke.Vh)(l,"visible"),w=(0,ke.Vh)(l,"sourcing"),n=(0,ke.iH)(!0),d=(0,ke.iH)([!0]),c=async()=>{n.value=!0,await kBt.history(w.value.id).then((t=>{"SUCCESS"==t.data.code&&(d.value=t.data.history,d.value.reverse())})),n.value=!1};return c(),(t,e)=>{const l=(0,s.up)("icon"),w=(0,s.up)("loading"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(c,{visible:i.value,onCancel:e[1]||(e[1]=t=>o("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",PQt,[(0,s._)("div",LQt,[WQt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(l,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),n.value?((0,s.wg)(),(0,s.iD)("div",AQt,[(0,s.Wm)(w)])):(0,s.kq)("",!0),n.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$Qt,[d.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",EQt,"There is no history for this sourcing yet.")),d.value.length?((0,s.wg)(),(0,s.iD)("ol",TQt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-mb-10 tw-mx-6"},[FQt,(0,s._)("div",jQt,[(0,s._)("p",VQt,[(0,s.Uk)(" by "),(0,s._)("span",IQt,(0,wt.zw)(t.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:e=>t.isHovering=!0,onMouseleave:e=>t.isHovering=!1},(0,wt.zw)(t.isHovering?(0,ke.SU)(ze())(t.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,ke.SU)(ze())(t.created_at).fromNow()),41,OQt)]),(0,s._)("div",HQt,[(0,s._)("div",MQt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.fields,(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[["note_by_seller","note_by_admin"].includes(t.field)?((0,s.wg)(),(0,s.iD)("div",KQt,[BQt,(0,s._)("div",QQt,(0,wt.zw)(t.new_value),1)])):((0,s.wg)(),(0,s.iD)("div",RQt,[(0,s.Uk)("Changed "),(0,s._)("span",NQt,(0,wt.zw)(r[t.field]),1),(0,s.Uk)(" from "),(0,s._)("span",YQt,(0,wt.zw)(t.field in a?a[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",ZQt,(0,wt.zw)(t.field in a?a[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])])])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const GQt=JQt;var XQt=GQt;const tJt={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"};var eJt={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,ke.qj)({history:!1}),a=(0,ke.Vh)(e,"item");return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",tJt,["seller"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:0,to:{name:"sourcings.show",params:{id:a.value.id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-blue-300 tw-text-blue-500 tw-duration-200 hover:tw-bg-blue-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"solar:eye-bold"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:1,to:{name:"sourcings.show",params:{id:a.value.id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-emerald-300 tw-text-emerald-500 tw-duration-200 hover:tw-bg-emerald-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"clarity:edit-solid"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[0]||(e[0]=t=>r.history=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-purple-300 tw-text-purple-500 tw-duration-200 hover:tw-bg-purple-500 hover:tw-text-white"},[(0,s.Wm)(l,{icon:"iconamoon:history"})])):(0,s.kq)("",!0)]),"admin"==t.$user.role&&r.history?((0,s.wg)(),(0,s.j4)((0,ke.SU)(XQt),{key:0,visible:r.history,"onUpdate:visible":e[1]||(e[1]=t=>r.history=t),sourcing:a.value},null,8,["visible","sourcing"])):(0,s.kq)("",!0)])}}};const rJt=eJt;var aJt=rJt;const sJt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lJt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},oJt={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},iJt={class:"tw-w-[100px] tw-truncate"},wJt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nJt={class:"tw-w-[200px] tw-truncate"},dJt={class:"tw-px-4 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cJt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uJt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},pJt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},gJt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},mJt={key:0,class:"tw-flex tw-items-center tw-justify-center tw-gap-2"},hJt={key:1,class:"tw-flex tw-items-center tw-justify-center tw-gap-2"},fJt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},bJt={class:"tw-px-4"},vJt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},xJt={class:"tw-px-4"},yJt=["admin"];var _Jt={__name:"TableRow",props:{item:{type:Object,required:!0}},setup(t){const e=(0,i.oR)(),r=(0,s.Fl)((()=>e.getters["user/user"])),a=t,l=(0,ke.Vh)(a,"item"),o=(0,ke.iH)(CBt.find((t=>t.value==l.value.quotation_status))),w=(0,ke.iH)(DBt.find((t=>t.value==l.value.sourcing_status)));return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",sJt,(0,wt.zw)(l.value.id),1),(0,s._)("td",lJt,(0,wt.zw)((0,ke.SU)(ze())(l.value.created_at).format("YYYY-MM-DD HH:mm:ss")),1),"admin"==r.value.role?((0,s.wg)(),(0,s.iD)("td",oJt,[(0,s._)("p",iJt,(0,wt.zw)(l.value.seller_name),1)])):(0,s.kq)("",!0),(0,s._)("td",wJt,[(0,s._)("p",nJt,(0,wt.zw)(l.value.product_name),1)]),(0,s._)("td",dJt,[(0,s._)("p",{class:(0,wt.C_)({"tw-text-xs tw-text-center  tw-py-1 tw-font-medium tw-rounded tw-bg-blue-100 darkx:tw-bg-gray-800 darkx:tw-text-orange-400":"ocean-freight"===l.value.shipping_method,"tw-text-xs tw-text-center tw-py-1 tw-font-medium tw-bg-yellow-100  tw-rounded":"air-freight"===l.value.shipping_method})},(0,wt.zw)("air-freight"===l.value.shipping_method?"By Air":"ocean-freight"===l.value.shipping_method?"By Ocean":l.value.shipping_method),3)]),(0,s._)("td",cJt,(0,wt.zw)((0,ke.SU)(c))+(0,wt.zw)(l.value.total_cost),1),(0,s._)("td",uJt,(0,wt.zw)(l.value.estimated_quantity),1),(0,s._)("td",pJt,(0,wt.zw)(l.value.destination_country),1),(0,s._)("td",gJt,[(0,s._)("div",null,[l.value.is_paid?((0,s.wg)(),(0,s.iD)("div",mJt,[(0,s.Wm)(a,{icon:"mingcute:check-2-fill",class:"tw-text-xl tw-text-emerald-500"})])):((0,s.wg)(),(0,s.iD)("div",hJt,[(0,s.Wm)(a,{icon:"mdi:clock-time-two-outline",class:"tw-text-xl tw-text-yellow-500"})]))])]),(0,s._)("td",fJt,[(0,s._)("div",bJt,[(0,s._)("div",{class:(0,wt.C_)([o.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,wt.zw)(o.value.name),3)])]),(0,s._)("td",vJt,[(0,s._)("div",xJt,[(0,s._)("div",{class:(0,wt.C_)([w.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,wt.zw)(w.value.name),3)])]),(0,s._)("td",{admin:r.value},[(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(aJt),{item:l.value},null,8,["item"])])],8,yJt)])}}};const kJt=_Jt;var CJt=kJt;const DJt={class:"tw-overflow-x-auto"},SJt={class:"tw-inline-block tw-min-w-full tw-align-middle"},zJt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},UJt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},qJt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},PJt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},LJt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},WJt=["colspan"],AJt=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No request was found ! ",-1),$Jt=[AJt];var EJt={__name:"IndexTable",props:{loading:{required:!0,type:Boolean},sourcings:{required:!0,type:Array}},setup(t){const e=(0,i.oR)(),r=(0,s.Fl)((()=>e.getters["user/user"])),a=t,l=(0,ke.Vh)(a,"loading"),o=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"seller",name:"Seller",class:"tw-max-w-[150px] tw-truncate"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"total_cost",name:"Total Price",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"paid",name:"Paid",class:"tw-w-[80px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],w=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"total_cost",name:"Total Price",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"paid",name:"Paid",class:"tw-w-[80px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],n=(0,ke.iH)("admin"==r.value.role?o:w),d=(0,ke.Vh)(a,"sourcings");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",DJt,[(0,s._)("div",SJt,[(0,s._)("div",zJt,[(0,s._)("table",UJt,[(0,s._)("thead",qJt,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.field,class:(0,wt.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],2)))),128))])]),l.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(qQt),{key:1,columns:n.value.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[d.value.length?((0,s.wg)(),(0,s.iD)("tbody",PJt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(CJt),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),d.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",LJt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:n.value.length},$Jt,8,WJt)])]))],64))])])])])]))}};const TJt=EJt;var FJt=TJt;const jJt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},VJt={class:"tw-px-3"},IJt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},OJt={class:"tw-flex tw-items-center tw-gap-x-3"},HJt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Requested Products ",-1),MJt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},RJt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all requested products. ",-1),NJt={key:0},YJt=(0,s._)("span",null,"Request new product",-1),ZJt={class:"tw-mt-5"};var KJt={__name:"IndexSourcingView",setup(t){const e=(0,ke.iH)([]),r=(0,ke.qj)({total:0,current_page:1,last_page:1,from:1,to:1,per_page:10,sort_by:"created_at",sort_order:"desc",filters:{}}),a=(0,ke.iH)(!1),l=async()=>{a.value=!0,await kBt.paginate("",r).then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.sourcings.data,r.total=t.data.sourcings.total,r.current_page=t.data.sourcings.current_page,r.last_page=t.data.sourcings.last_page,r.from=t.data.sourcings.from,r.to=t.data.sourcings.to,r.per_page=t.data.sourcings.per_page,r.page=r.current_page)})),a.value=!1},o=t=>{r.current_page=t,r.page=t,l()};return(0,s.JJ)("options",{options:r,getData:l,setOptions:t=>Object.assign(r,t),setFilter:(t,e)=>r.filters[t]=e}),l(),(t,l)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",jJt,[(0,s._)("section",VJt,[(0,s._)("div",IJt,[(0,s._)("div",null,[(0,s._)("div",OJt,[HJt,(0,s._)("span",MJt,(0,wt.zw)(r.total)+" request",1)]),RJt]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",NJt,[(0,s.Wm)(i,{to:{name:"sourcings.new"},class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},{default:(0,s.w5)((()=>[YJt])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(vQt))]),(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(FJt),{loading:a.value,sourcings:e.value},null,8,["loading","sourcings"])]),(0,s._)("div",ZJt,[(0,s.Wm)((0,ke.SU)(iw),{total:r.total,"current-page":r.current_page,"last-page":r.last_page,from:r.from,to:r.to,"per-page":r.per_page,onPageChange:o},null,8,["total","current-page","last-page","from","to","per-page"])])])])}}};const BJt=KJt;var QJt=BJt;const JJt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},GJt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),XJt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),tGt={class:"tw-p-5"},eGt={class:"tw-grid tw-grid-cols-5"},rGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},aGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),sGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},lGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),oGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},iGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),wGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},nGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),dGt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},cGt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var uGt={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=(0,b.yj)(),r=t,a=(0,ke.Vh)(r,"sourcing"),l=(0,s.Fl)((()=>CBt.find((t=>t.value==a.value.quotation_status)))),o=(0,s.Fl)((()=>DBt.find((t=>t.value==a.value.sourcing_status))));return(t,r)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",JJt,[(0,s._)("p",null,[GJt,(0,s.Uk)(" "+(0,wt.zw)((0,ke.SU)(e).params.id),1)]),(0,s._)("p",null,[XJt,(0,s.Uk)(" "+(0,wt.zw)((0,ke.SU)(ze())(a.value.created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",tGt,[(0,s._)("div",eGt,[(0,s._)("div",rGt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),aGt]),(0,s._)("div",sGt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=2&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=2&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),lGt]),(0,s._)("div",oGt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=3&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=3&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),iGt]),(0,s._)("div",wGt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=4&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=4&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),nGt]),(0,s._)("div",dGt,[(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=5&&"confirmed"==l.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[o.value.step>=5&&"confirmed"==l.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(i,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),cGt])])])])}}};const pGt=uGt;var gGt=pGt;const mGt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},hGt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Cancel product sourcing ",-1),fGt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to cancel with this sourcing ? ")],-1),bGt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},vGt=["disabled"],xGt=(0,s._)("span",null,"Confirm",-1);var yGt={__name:"SourcingRequestCancel",props:["sourcing"],setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)(!1),a=t,l=(0,ke.Vh)(a,"sourcing"),o=(0,s.f3)("sourcing"),i=async()=>{console.log(a),r.value=!0,await kBt.update(l.value.id,{...l.value,quotation_status:"cancelled"}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Tc("Quotation has been cancelled"))})),e.value=!1,r.value=!1};return(t,a)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>e.value=!0),class:"tw-py-2 tw-px-7 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s.Wm)(l,{visible:e.value,onCancel:a[2]||(a[2]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",mGt,[hGt,fGt,(0,s._)("div",bGt,[(0,s._)("button",{onClick:a[1]||(a[1]=t=>e.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),xGt],8,vGt)])])])),_:1},8,["visible"])])}}};const _Gt=yGt;var kGt=_Gt;const CGt={class:"tw-p-5"},DGt={class:"tw-space-y-4"},SGt={class:"tw-flex tw-items-center tw-justify-between"},zGt=(0,s._)("span",null,"Destination Country:",-1),UGt={class:"tw-font-black tw-text-neutral-800, tw-capitalize"},qGt={class:"tw-flex tw-items-center tw-justify-between"},PGt=(0,s._)("span",null,"Shipping Method:",-1),LGt={key:0,class:"tw-font-black tw-text-neutral-800"},WGt={key:1,class:"tw-font-black tw-text-neutral-800"},AGt={class:"tw-flex tw-items-center tw-justify-between"},$Gt=(0,s._)("span",null,"Quantity:",-1),EGt={class:"tw-font-black tw-text-neutral-800"},TGt={class:"tw-flex tw-items-center tw-justify-between"},FGt=(0,s._)("span",null,"Unit Price:",-1),jGt={class:"tw-font-black tw-text-neutral-800"},VGt={class:"tw-flex tw-items-center tw-justify-between tw-"},IGt=(0,s._)("span",null,"Additional Fees:",-1),OGt={class:"tw-font-black tw-text-neutral-800"},HGt=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),MGt={class:"tw-flex tw-items-center tw-justify-between"},RGt=(0,s._)("span",null,"Total:",-1),NGt={class:"tw-font-black tw-text-neutral-800"},YGt={key:0,class:"tw-space-y-2 mt-5"},ZGt=(0,s._)("span",null,"Confirm",-1),KGt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},BGt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Confirm product sourcing ",-1),QGt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to proceed with this action ? ")],-1),JGt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},GGt=["disabled"],XGt=(0,s._)("span",null,"Confirm",-1);var tXt={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)(!1),a=t,l=(0,ke.Vh)(a,"sourcing"),o=(0,s.f3)("sourcing"),i=async()=>{r.value=!0,await kBt.update(l.value.id,{...l.value,quotation_status:"confirmed"}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Tc("Quotation has been accepted"))})),e.value=!1,r.value=!1};return(t,a)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",CGt,[(0,s._)("div",null,[(0,s._)("ul",DGt,[(0,s._)("li",SGt,[zGt,(0,s._)("span",UGt,(0,wt.zw)(l.value.destination_country),1)]),(0,s._)("li",qGt,[PGt,"air-freight"==l.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",LGt,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==l.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",WGt,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",AGt,[$Gt,(0,s._)("span",EGt,(0,wt.zw)(l.value.estimated_quantity),1)]),(0,s._)("li",TGt,[FGt,(0,s._)("span",jGt,(0,wt.zw)(l.value.cost_per_unit)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),(0,s._)("li",VGt,[IGt,(0,s._)("span",OGt,(0,wt.zw)(l.value.additional_fees)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),HGt,(0,s._)("li",MGt,[RGt,(0,s._)("span",NGt,(0,wt.zw)(parseFloat(l.value.total_cost).toFixed(2))+" "+(0,wt.zw)((0,ke.SU)(c)),1)])])]),"quoting"==l.value.quotation_status||["quoting","pending"].includes(l.value.quotation_status)?((0,s.wg)(),(0,s.iD)("div",YGt,["quoting"==l.value.quotation_status?((0,s.wg)(),(0,s.iD)("button",{key:0,disabled:!1,onClick:a[0]||(a[0]=t=>e.value=!0),class:"tw-py-2 tw-px-7 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),ZGt])):(0,s.kq)("",!0),["quoting","pending"].includes(l.value.quotation_status)?((0,s.wg)(),(0,s.j4)((0,ke.SU)(kGt),{key:1,sourcing:l.value},null,8,["sourcing"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"quoting"==l.value.quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:1,visible:e.value,onCancel:a[2]||(a[2]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",KGt,[BGt,QGt,(0,s._)("div",JGt,[(0,s._)("button",{onClick:a[1]||(a[1]=t=>e.value=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),XGt],8,GGt)])])])),_:1},8,["visible"])):(0,s.kq)("",!0)])}}};const eXt=tXt;var rXt=eXt;const aXt={class:"tw-w-full"},sXt={class:"tw-w-full"},lXt=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Product details "),(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Quantity ")])],-1),oXt={class:"tw-pt-2"},iXt={class:"tw-whitespace-normal tw-max-w-[500px] tw-truncate"},wXt=["href"],nXt={class:"tw-pt-2"};var dXt={__name:"SourcingRequestProductDetails",props:["sourcing"],setup(t){const e=t,r=(0,ke.Vh)(e,"sourcing");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",aXt,[(0,s._)("table",sXt,[lXt,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",oXt,[(0,s._)("p",iXt,[(0,s._)("a",{href:r.value.product_url,class:"tw-text-blue-500 tw-cursor-pointer hover:tw-underline"},(0,wt.zw)(r.value.product_name),9,wXt)])]),(0,s._)("td",nXt,(0,wt.zw)(r.value.estimated_quantity),1)])])])]))}};const cXt=dXt;var uXt=cXt;const pXt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},gXt={class:"tw-px-3"},mXt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},hXt={class:"tw-flex tw-items-center tw-gap-x-5"},fXt={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},bXt={class:"tw-flex tw-items-center tw-gap-2"},vXt={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},xXt={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},yXt={class:"tw-space-y-4 lg:tw-col-span-8"},_Xt={key:0,class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},kXt={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},CXt=(0,s._)("span",null,[(0,s.Uk)("Note from "),(0,s._)("span",{class:"tw-font-bold"},"Admin")],-1),DXt={class:"tw-p-2 tw-border tw-border-t-0 tw-bg-white tw-border-blue-200 tw-rounded-b-md"},SXt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},zXt={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},UXt={class:"lg:tw-col-span-4"},qXt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var PXt={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=(0,b.yj)(),r=(0,s.Fl)((()=>CBt.find((t=>t.value==o.value.quotation_status)))),a=(0,s.Fl)((()=>DBt.find((t=>t.value==o.value.sourcing_status)))),l=t,o=(0,ke.Vh)(l,"sourcing");(0,ke.Vh)(l,"loading");return(t,l)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",pXt,[(0,s._)("section",gXt,[(0,s._)("div",mXt,[(0,s._)("div",null,[(0,s._)("div",hXt,[(0,s._)("h2",fXt," Quotation: #"+(0,wt.zw)((0,ke.SU)(e).params.id),1),(0,s._)("div",bXt,[(0,s._)("div",{class:(0,wt.C_)([r.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,wt.zw)(r.value.name),3),(0,s._)("div",{class:(0,wt.C_)([a.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,wt.zw)(a.value.name),3)])]),(0,s._)("p",vXt,(0,wt.zw)((0,ke.SU)(ze())(o.value.created_at).format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",xXt,[(0,s._)("div",yXt,[o.value.note_by_admin?((0,s.wg)(),(0,s.iD)("div",_Xt,[(0,s._)("div",kXt,[(0,s.Wm)(i,{icon:"ph:info-fill",class:"tw-text-xl tw-text-blue-500"}),CXt]),(0,s._)("div",DXt,[(0,s._)("h1",null,(0,wt.zw)(o.value.note_by_admin),1)])])):(0,s.kq)("",!0),(0,s._)("div",SXt,[(0,s.Wm)((0,ke.SU)(gGt),{sourcing:o.value},null,8,["sourcing"])]),(0,s._)("div",zXt,[(0,s.Wm)((0,ke.SU)(uXt),{sourcing:o.value},null,8,["sourcing"])])]),(0,s._)("div",UXt,[(0,s._)("div",qXt,[(0,s.Wm)((0,ke.SU)(rXt),{sourcing:o.value},null,8,["sourcing"])])])])])}}};const LXt=PXt;var WXt=LXt;const AXt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},$Xt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),EXt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),TXt={class:"tw-p-3 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-border-b tw-border-solid tw-border-neutral-200"},FXt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},jXt={class:"tw-relative tw-z-40"},VXt=["disabled","value"],IXt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),OXt={key:0,class:""},HXt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},MXt={class:"tw-space-y-1 tw-py-1"},RXt=["onClick"],NXt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},YXt={class:"tw-relative tw-z-30"},ZXt=["disabled","value"],KXt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),BXt={key:0,class:""},QXt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},JXt={class:"tw-space-y-1 tw-py-1"},GXt=["onClick"],XXt={class:"tw-p-5"},t0t={class:"tw-grid tw-grid-cols-5"},e0t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},r0t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),a0t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},s0t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),l0t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},o0t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),i0t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},w0t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),n0t={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},d0t=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var c0t={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=(0,b.yj)(),r=t,l=(0,ke.Vh)(r,"sourcing"),o=(0,s.f3)("sourcing"),i=(0,ke.qj)({quotation_status:!1,sourcing_status:!1}),w=(0,ke.qj)({quotation_status:!1,sourcing_status:!1}),n=(0,s.Fl)((()=>CBt.find((t=>t.value==l.value.quotation_status)))),d=(0,s.Fl)((()=>DBt.find((t=>t.value==l.value.sourcing_status)))),c=async(t,e)=>{if(i[t]=!1,l.value[t]==e.value)return!1;w[t]=!0,await kBt.update(l.value.id,{...l.value,[t]:e.value}).then((t=>{"SUCCESS"==t.data.code&&o.updateSourcing(t.data.sourcing)})),w[t]=!1};return(t,r)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",AXt,[(0,s._)("p",null,[$Xt,(0,s.Uk)(" "+(0,wt.zw)((0,ke.SU)(e).params.id),1)]),(0,s._)("p",null,[EXt,(0,s.Uk)(" "+(0,wt.zw)((0,ke.SU)(ze())(l.value.created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",TXt,[(0,s._)("div",null,[(0,s._)("label",FXt,[(0,s.Uk)(" Quotation Status "),w.quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",jXt,[(0,s._)("input",{class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-text-start tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:w.quotation_status,onClick:r[0]||(r[0]=t=>i.quotation_status=!i.quotation_status),type:"button",value:n.value.name,readonly:"",required:""},null,8,VXt),IXt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.quotation_status?((0,s.wg)(),(0,s.iD)("div",OXt,[(0,s._)("div",HXt,[(0,s._)("div",MXt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(CBt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("quotation_status",t),class:(0,wt.C_)(["tw-w-full tw-p-2",[t.class]])},(0,wt.zw)(t.name),11,RXt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,()=>i.quotation_status=!1]]),(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("label",NXt,[(0,s.Uk)(" Sourcing Status "),w.sourcing_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",YXt,[(0,s._)("input",{class:(0,wt.C_)([[!1],"tw-bg-gray-50 tw-border tw-text-start tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:w.sourcing_status,onClick:r[1]||(r[1]=t=>i.sourcing_status=!i.sourcing_status),type:"button",value:d.value.name,readonly:"",required:""},null,8,ZXt),KXt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.sourcing_status?((0,s.wg)(),(0,s.iD)("div",BXt,[(0,s._)("div",QXt,[(0,s._)("div",JXt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(DBt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("sourcing_status",t),class:(0,wt.C_)(["tw-w-full tw-p-2",[t.class]])},(0,wt.zw)(t.name),11,GXt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[ie.L,()=>i.sourcing_status=!1]]),(0,s.kq)("",!0)])]),(0,s._)("div",XXt,[(0,s._)("div",t0t,[(0,s._)("div",e0t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),r0t]),(0,s._)("div",a0t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=2&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=2&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),s0t]),(0,s._)("div",l0t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=3&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=3&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),o0t]),(0,s._)("div",i0t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=4&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=4&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),w0t]),(0,s._)("div",n0t,[(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=5&&"confirmed"==n.value.value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,wt.C_)([[d.value.step>=5&&"confirmed"==n.value.value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),d0t])])])])}}};const u0t=c0t;var p0t=u0t;const g0t={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},m0t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},h0t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Quotation ",-1),f0t={class:"tw-p-5 tw-space-y-4"},b0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),v0t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),x0t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),y0t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),_0t=[v0t,x0t,y0t],k0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},C0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),D0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},S0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Unit Price for Admin",-1),z0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},U0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Unit Price for Seller",-1),q0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},P0t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Additional Fees",-1),L0t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},W0t=(0,s._)("div",{class:"tw-border-b tw-border-solid tw-border-neutral-300 tw-my-2"},null,-1),A0t={class:"tw-flex tw-items-center tw-justify-between"},$0t=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Total",-1),E0t={class:"tw-text-lg tw-font-bold"},T0t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},F0t=["disabled"],j0t=(0,s._)("span",null,"Send quotation",-1);var V0t={__name:"SourcingRequestPricingEdit",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=e,l=t,o=(0,s.f3)("sourcing"),i=(0,ke.iH)(!1),w=(0,ke.qj)({sourcing:{},errors:{}}),n=(0,s.Fl)((()=>(w.sourcing.estimated_quantity??0)*(w.sourcing.cost_per_unit??0)+(w.sourcing.additional_fees??0))),d=()=>{r("update:visible",!1)},u=async()=>{i.value=!0;const t="pending"==w.sourcing.quotation_status?"quoting":w.sourcing.quotation_status;await kBt.update(w.sourcing.id,{...w.sourcing,total_cost:n.value,quotation_status:t}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Tc("Quotation sent"),d())}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)w.errors[e]=t?.response?.data?.errors[e][0]})),i.value=!1};return(0,s.YP)((()=>l.visible),(()=>{w.sourcing=yo(l.sourcing)})),(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(r,{visible:l.visible,onCancel:d},{default:(0,s.w5)((()=>[(0,s._)("div",g0t,[(0,s._)("div",m0t,[h0t,(0,s._)("div",f0t,[(0,s._)("div",null,[b0t,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>w.sourcing.shipping_method=t),onInput:e[1]||(e[1]=t=>w.errors.shipping_method=null),class:(0,wt.C_)([[w.errors.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},_0t,34),[[a.bM,w.sourcing.shipping_method,void 0,{number:!0}]]),w.errors.shipping_method?((0,s.wg)(),(0,s.iD)("label",k0t,(0,wt.zw)(w.errors.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[C0t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.sourcing.estimated_quantity=t),onInput:e[3]||(e[3]=t=>w.errors.estimated_quantity=null),type:"number",min:"0",max:"10000",class:(0,wt.C_)([[w.errors.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter the quantity",required:""},null,34),[[a.nr,w.sourcing.estimated_quantity,void 0,{number:!0}]]),w.errors.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",D0t,(0,wt.zw)(w.errors.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[S0t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>w.sourcing.buying_price=t),onInput:e[5]||(e[5]=t=>w.errors.buying_price=null),type:"number",class:(0,wt.C_)([[w.errors.buying_price&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter buying price",required:""},null,34),[[a.nr,w.sourcing.buying_price,void 0,{number:!0}]]),w.errors.buying_price?((0,s.wg)(),(0,s.iD)("label",z0t,(0,wt.zw)(w.errors.buying_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[U0t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>w.sourcing.cost_per_unit=t),onInput:e[7]||(e[7]=t=>w.errors.cost_per_unit=null),type:"number",class:(0,wt.C_)([[w.errors.cost_per_unit&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a unit price for the quotation",required:""},null,34),[[a.nr,w.sourcing.cost_per_unit,void 0,{number:!0}]]),w.errors.cost_per_unit?((0,s.wg)(),(0,s.iD)("label",q0t,(0,wt.zw)(w.errors.cost_per_unit),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[P0t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>w.sourcing.additional_fees=t),onInput:e[9]||(e[9]=t=>w.errors.additional_fees=null),type:"number",class:(0,wt.C_)([[w.errors.additional_fees&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a additional fees for the sourcing",required:""},null,34),[[a.nr,w.sourcing.additional_fees,void 0,{number:!0}]]),w.errors.additional_fees?((0,s.wg)(),(0,s.iD)("label",L0t,(0,wt.zw)(w.errors.additional_fees),1)):(0,s.kq)("",!0)]),W0t,(0,s._)("div",A0t,[$0t,(0,s._)("span",E0t,(0,wt.zw)(n.value.toFixed(2))+" "+(0,wt.zw)((0,ke.SU)(c)),1)])]),(0,s._)("div",T0t,[(0,s._)("button",{onClick:d,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:u,disabled:i.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),j0t],8,F0t)])])])])),_:1},8,["visible"])}}};const I0t=V0t;var O0t=I0t;const H0t={class:"tw-flex tw-items-center tw-justify-between tw-p-2 tw-border-b tw-border-solid tw-border-gray-200"},M0t=(0,s._)("span",null,"Paid",-1),R0t=["disabled"],N0t={class:"tw-p-5"},Y0t={class:"tw-space-y-4"},Z0t={class:"tw-flex tw-items-center tw-justify-between"},K0t=(0,s._)("span",null,"Destination Country:",-1),B0t={class:"tw-font-black tw-text-neutral-800 tw-capitalize"},Q0t={class:"tw-flex tw-items-center tw-justify-between"},J0t=(0,s._)("span",null,"Shipping Method:",-1),G0t={key:0,class:"tw-font-black tw-text-neutral-800"},X0t={key:1,class:"tw-font-black tw-text-neutral-800"},t1t={class:"tw-flex tw-items-center tw-justify-between"},e1t=(0,s._)("span",null,"Quantity:",-1),r1t={class:"tw-font-black tw-text-neutral-800"},a1t={class:"tw-flex tw-items-center tw-justify-between"},s1t=(0,s._)("span",null,"Unit Price for admin:",-1),l1t={class:"tw-font-black tw-text-neutral-800"},o1t={class:"tw-flex tw-items-center tw-justify-between"},i1t=(0,s._)("span",null,"Unit Price for seller:",-1),w1t={class:"tw-font-black tw-text-neutral-800"},n1t={class:"tw-flex tw-items-center tw-justify-between tw-"},d1t=(0,s._)("span",null,"Additional Fees:",-1),c1t={class:"tw-font-black tw-text-neutral-800"},u1t=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),p1t={class:"tw-flex tw-items-center tw-justify-between"},g1t=(0,s._)("span",null,"Total:",-1),m1t={class:"tw-font-black tw-text-neutral-800"},h1t={class:"tw-space-y-2 tw-px-5 tw-pb-5"},f1t=(0,s._)("span",null,"Edit",-1);var b1t={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=t,r=(0,ke.Vh)(e,"sourcing"),a=(0,s.f3)("sourcing"),l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=(0,ke.iH)(!1);l.value=1==e.sourcing.is_paid;const w=async()=>{i.value=!0,l.value=!l.value;const t=(new Date).toISOString().slice(0,19).replace("T"," ");await kBt.update(r.value.id,{...e.sourcing,is_paid:l.value?1:0,paid_at:l.value?t:null}).then((t=>{"SUCCESS"==t.data.code&&(a.updateSourcing(t.data.sourcing),l.value=t.data.sourcing.is_paid)}),(t=>{console.log(t),l.value=1==e.sourcing.is_paid})),i.value=!1};return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",H0t,[M0t,(0,s._)("button",{disabled:i.value,onClick:w,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,wt.C_)([[l.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[(0,s.Wm)(a,{class:(0,wt.C_)([[!l.value&&!i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-yellow-500"]),icon:"mdi:clock-time-two-outline"},null,8,["class"]),(0,s.Wm)(a,{class:(0,wt.C_)([[l.value&&!i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-emerald-500"]),icon:"mingcute:check-2-fill"},null,8,["class"]),(0,s.Wm)(a,{class:(0,wt.C_)([[i.value&&"!tw-opacity-100"],"tw-absolute tw-opacity-0 tw-duration-200 tw-text-lg tw-text-orange-500"]),icon:"eos-icons:three-dots-loading"},null,8,["class"])],2)],8,R0t)]),(0,s._)("div",N0t,[(0,s._)("ul",Y0t,[(0,s._)("li",Z0t,[K0t,(0,s._)("span",B0t,(0,wt.zw)(r.value.destination_country),1)]),(0,s._)("li",Q0t,[J0t,"air-freight"==r.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",G0t,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==r.value.shipping_method?((0,s.wg)(),(0,s.iD)("span",X0t,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",t1t,[e1t,(0,s._)("span",r1t,(0,wt.zw)(r.value.estimated_quantity),1)]),(0,s._)("li",a1t,[s1t,(0,s._)("span",l1t,(0,wt.zw)(r.value.buying_price)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),(0,s._)("li",o1t,[i1t,(0,s._)("span",w1t,(0,wt.zw)(r.value.cost_per_unit)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),(0,s._)("li",n1t,[d1t,(0,s._)("span",c1t,(0,wt.zw)(r.value.additional_fees)+" "+(0,wt.zw)((0,ke.SU)(c)),1)]),u1t,(0,s._)("li",p1t,[g1t,(0,s._)("span",m1t,(0,wt.zw)(r.value.total_cost)+" "+(0,wt.zw)((0,ke.SU)(c)),1)])])]),(0,s._)("div",h1t,[(0,s._)("button",{disabled:!1,onClick:e[0]||(e[0]=t=>o.value=!0),class:"tw-py-2 tw-px-7 tw-gap-2 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),(0,s.Wm)(a,{icon:"clarity:edit-solid",class:"tw-text-lg tw-text-white"}),f1t]),(0,s.kq)("",!0)]),(0,s.Wm)((0,ke.SU)(O0t),{sourcing:r.value,visible:o.value,"onUpdate:visible":e[1]||(e[1]=t=>o.value=t)},null,8,["sourcing","visible"])])}}};const v1t=b1t;var x1t=v1t;const y1t={class:"tw-p-5"},_1t={class:"tw-grid tw-grid-cols-12 tw-gap-5"},k1t={class:"md:tw-col-span-6 tw-col-span-12"},C1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),D1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},S1t={class:"md:tw-col-span-6 tw-col-span-12"},z1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),U1t={class:"tw-relative"},q1t=["href"],P1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},L1t={class:"md:tw-col-span-6 tw-col-span-12"},W1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),A1t={class:"tw-relative"},$1t=["href"],E1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T1t={class:"md:tw-col-span-6 tw-col-span-12"},F1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),j1t={class:"tw-relative"},V1t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),I1t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),O1t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),H1t=[V1t,I1t,O1t],M1t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),R1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},N1t={class:"md:tw-col-span-6 tw-col-span-12"},Y1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),Z1t={class:"tw-relative"},K1t=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),B1t=[K1t],Q1t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),J1t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},G1t={class:"tw-col-span-12"},X1t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's note",-1),t2t={class:"tw-col-span-12"},e2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Admin's note",-1),r2t={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-pt-4 tw-gap-3"},a2t=["disabled"],s2t=(0,s._)("span",null,"Update",-1);var l2t={__name:"SourcingRequestDetails",props:["sourcing"],setup(t){const e=(0,ke.qj)({}),r=t,l=(0,ke.iH)(!1),o=(0,s.f3)("sourcing"),i=(0,ke.qj)({sourcing:{}}),w=async()=>{l.value=!0,await kBt.update(i.sourcing.id,i.sourcing).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Tc("Updated success"))}),(t=>{if(422==t?.response?.status)for(let r in t?.response?.data?.errors)e[r]=t?.response?.data?.errors[r][0]})),l.value=!1};return(0,s.YP)((()=>r.sourcing),(()=>{i.sourcing=yo(r.sourcing)}),{deep:!0}),i.sourcing=yo(r.sourcing),(t,r)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",y1t,[(0,s._)("div",_1t,[(0,s._)("div",k1t,[C1t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>i.sourcing.product_name=t),onInput:r[1]||(r[1]=t=>e.product_name=null),class:(0,wt.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,i.sourcing.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",D1t,(0,wt.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",S1t,[z1t,(0,s._)("div",U1t,[(0,s._)("a",{href:i.sourcing.product_url,target:"_blank",class:"tw-p-1 tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2"},[(0,s.Wm)(o,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500 hover:tw-text-orange-400 tw-duration-200"})],8,q1t),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>i.sourcing.product_url=t),onInput:r[3]||(r[3]=t=>e.product_url=null),class:(0,wt.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.product_url]])]),e.product_url?((0,s.wg)(),(0,s.iD)("label",P1t,(0,wt.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",L1t,[W1t,(0,s._)("div",A1t,[(0,s._)("a",{href:i.sourcing.video_url,target:"_blank",class:"tw-p-1 tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2"},[(0,s.Wm)(o,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500 hover:tw-text-orange-400 tw-duration-200"})],8,$1t),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[4]||(r[4]=t=>i.sourcing.video_url=t),onInput:r[5]||(r[5]=t=>e.video_url=null),class:(0,wt.C_)([[e.video_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.video_url]])]),e.video_url?((0,s.wg)(),(0,s.iD)("label",E1t,(0,wt.zw)(e.video_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",T1t,[F1t,(0,s._)("div",j1t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":r[6]||(r[6]=t=>i.sourcing.shipping_method=t),onChange:r[7]||(r[7]=t=>e.shipping_method=null),class:(0,wt.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},H1t,34),[[a.bM,i.sourcing.shipping_method]]),M1t]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",R1t,(0,wt.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",N1t,[Y1t,(0,s._)("div",Z1t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":r[8]||(r[8]=t=>i.sourcing.destination_country=t),onChange:r[9]||(r[9]=t=>e.destination_country=null),class:(0,wt.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},B1t,34),[[a.bM,i.sourcing.destination_country]]),Q1t]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",J1t,(0,wt.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",G1t,[X1t,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":r[10]||(r[10]=t=>i.sourcing.note_by_seller=t),rows:"2",class:"tw-bg-gray-50 tw-borderx tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"There is no note"},null,512),[[a.nr,i.sourcing.note_by_seller]])]),(0,s._)("div",t2t,[e2t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":r[11]||(r[11]=t=>i.sourcing.note_by_admin=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Leave a note for seller"},null,512),[[a.nr,i.sourcing.note_by_admin]])]),(0,s._)("div",r2t,[(0,s._)("button",{disabled:l.value,onClick:w,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),s2t],8,a2t)])])])}}};const o2t=l2t;var i2t=o2t;const w2t={class:"tw-relative"},n2t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},d2t={class:"tw-px-3"},c2t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},u2t={class:"tw-flex tw-items-center tw-gap-x-5"},p2t={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},g2t={class:"tw-flex tw-items-center tw-gap-2"},m2t={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},h2t={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},f2t={class:"tw-space-y-4 lg:tw-col-span-8"},b2t={class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},v2t={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},x2t={class:"tw-font-bold"},y2t={key:0,class:"tw-w-full tw-overflow-hidden"},_2t={class:"tw-p-2 tw-border tw-border-t-0 tw-border-blue-200 tw-rounded-b-md"},k2t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},C2t={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},D2t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},S2t={class:"lg:tw-col-span-4"},z2t={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var U2t={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=(0,b.yj)(),r=t,a=(0,ke.Vh)(r,"sourcing"),l=((0,ke.Vh)(r,"loading"),(0,s.Fl)((()=>CBt.find((t=>t.value==a.value.quotation_status))))),o=(0,s.Fl)((()=>DBt.find((t=>t.value==a.value.sourcing_status))));return(t,r)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",w2t,[(0,s._)("div",n2t,[(0,s._)("section",d2t,[(0,s._)("div",c2t,[(0,s._)("div",null,[(0,s._)("div",u2t,[(0,s._)("h2",p2t," Quotation: #"+(0,wt.zw)((0,ke.SU)(e).params.id),1),(0,s._)("div",g2t,[(0,s._)("div",{class:(0,wt.C_)([l.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,wt.zw)(l.value.name),3),(0,s._)("div",{class:(0,wt.C_)([o.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,wt.zw)(o.value.name),3)])]),(0,s._)("p",m2t,(0,wt.zw)((0,ke.SU)(ze())("2023-09-08T17:45:06.000000Z").format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",h2t,[(0,s._)("div",f2t,[(0,s._)("div",b2t,[(0,s._)("div",v2t,[(0,s.Wm)(i,{icon:"solar:user-bold",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",null,[(0,s._)("span",x2t,(0,wt.zw)(a.value.seller.firstname)+" "+(0,wt.zw)(a.value.seller.lastname),1)])]),a.value.note_by_seller?((0,s.wg)(),(0,s.iD)("div",y2t,[(0,s._)("div",_2t,[(0,s._)("h1",null,(0,wt.zw)(a.value.note_by_seller),1)])])):(0,s.kq)("",!0)]),(0,s._)("div",k2t,[(0,s.Wm)((0,ke.SU)(p0t),{sourcing:a.value},null,8,["sourcing"])]),(0,s._)("div",C2t,[(0,s.Wm)((0,ke.SU)(uXt),{sourcing:a.value},null,8,["sourcing"])]),(0,s._)("div",D2t,[(0,s.Wm)((0,ke.SU)(i2t),{sourcing:a.value},null,8,["sourcing"])])]),(0,s._)("div",S2t,[(0,s._)("div",z2t,[(0,s.Wm)((0,ke.SU)(x1t),{sourcing:a.value},null,8,["sourcing"])])])])])}}};const q2t=U2t;var P2t=q2t;const L2t={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"};var W2t={__name:"ShowSourcingView",setup(t){const e=(0,i.oR)(),r=(0,b.yj)(),a=(0,b.tv)(),l=r.params.id,o=(0,ke.iH)(!0),w=(0,ke.iH)(null),n=e.getters["user/user"],d=async()=>{o.value=!0,await kBt.get(l).then((t=>{"SUCCESS"==t.data.code&&(w.value=t.data.sourcing),"NOT_FOUND"==t.data.code&&a.push({name:"404"})})),o.value=!1},c=t=>{w.value=t};return(0,s.JJ)("sourcing",{updateSourcing:c}),d(),(t,e)=>{const r=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.value?((0,s.wg)(),(0,s.iD)("div",L2t,[(0,s.Wm)(r)])):(0,s.kq)("",!0),o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["seller"==(0,ke.SU)(n).role?((0,s.wg)(),(0,s.j4)((0,ke.SU)(WXt),{key:0,sourcing:w.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0),"admin"==(0,ke.SU)(n).role?((0,s.wg)(),(0,s.j4)((0,ke.SU)(P2t),{key:1,sourcing:w.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0)],64))],64)}}};const A2t=W2t;var $2t=A2t;const E2t={class:"tw-p-5 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},T2t={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-12 tw-gap-5 tw-mt-5"},F2t={class:"tw-hidden tw-col-span-4 tw-py-16 md:tw-flex tw-items-center tw-justify-center"},j2t=["src"],V2t={class:"tw-col-span-8"},I2t=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-2xl tw-font-semibold"},"We Source For You"),(0,s._)("p",{class:"tw-text-lg tw-mt-2"},"Let our professional sourcing team take care all of your sourcing.")],-1),O2t={class:"tw-grid tw-grid-cols-12 tw-mt-10 tw-gap-5"},H2t={class:"md:tw-col-span-6 tw-col-span-12"},M2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),R2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},N2t={class:"md:tw-col-span-6 tw-col-span-12"},Y2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),Z2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},K2t={class:"md:tw-col-span-6 tw-col-span-12"},B2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),Q2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},J2t={class:"md:tw-col-span-6 tw-col-span-12"},G2t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),X2t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},t5t={class:"tw-col-span-12"},e5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),r5t={class:"md:tw-col-span-6 tw-col-span-12"},a5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),s5t={class:"tw-relative"},l5t=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),o5t=[l5t],i5t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),w5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},n5t={class:"md:tw-col-span-6 tw-col-span-12"},d5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),c5t={class:"tw-relative"},u5t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),p5t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),g5t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),m5t=[u5t,p5t,g5t],h5t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),f5t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},b5t={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-py-4 tw-gap-3"},v5t=(0,s._)("button",{class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",-1),x5t=["disabled"],y5t=(0,s._)("span",null,"Request the product",-1);var _5t={__name:"CreateSourcingView",setup(t){const e=(0,ke.qj)({}),r=(0,ke.iH)(!1),l=(0,ke.qj)({destination_country:"lebanon",shipping_method:"not-selected"}),o=async()=>{r.value=!0,await kBt.create(l).then((t=>{"SUCCESS"==t.data.code&&(Tc("Your request has been added"),Object.keys(l).forEach((t=>l[t]=null)),l.destination_country="lebanon",l.shipping_method="not-selected")}),(t=>{if(422==t.response.status)for(let r in t.response.data.errors)e[r]=t.response.data.errors[r][0]})),r.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",E2t,[(0,s._)("div",T2t,[(0,s._)("div",F2t,[(0,s._)("img",{src:t.$frontend("images/delivering.svg"),class:"tw-w-full"},null,8,j2t)]),(0,s._)("div",V2t,[I2t,(0,s._)("div",O2t,[(0,s._)("div",H2t,[M2t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.product_name=t),onInput:i[1]||(i[1]=t=>e.product_name=null),class:(0,wt.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,l.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",R2t,(0,wt.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",N2t,[Y2t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[2]||(i[2]=t=>l.estimated_quantity=t),onInput:i[3]||(i[3]=t=>e.estimated_quantity=null),class:(0,wt.C_)([[e.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"number",placeholder:"Estimated quantity",required:""},null,34),[[a.nr,l.estimated_quantity]]),e.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",Z2t,(0,wt.zw)(e.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",K2t,[B2t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[4]||(i[4]=t=>l.product_url=t),onInput:i[5]||(i[5]=t=>e.product_url=null),class:(0,wt.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.product_url]]),e.product_url?((0,s.wg)(),(0,s.iD)("label",Q2t,(0,wt.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",J2t,[G2t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[6]||(i[6]=t=>l.video_url=t),onInput:i[7]||(i[7]=t=>e.video_url=null),class:(0,wt.C_)([[e.video_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.video_url]]),e.video_url?((0,s.wg)(),(0,s.iD)("label",X2t,(0,wt.zw)(e.video_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",t5t,[e5t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":i[8]||(i[8]=t=>l.note_by_seller=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Special request..."},null,512),[[a.nr,l.note_by_seller]])]),(0,s._)("div",r5t,[a5t,(0,s._)("div",s5t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[9]||(i[9]=t=>l.destination_country=t),onChange:i[10]||(i[10]=t=>e.destination_country=null),class:(0,wt.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},o5t,34),[[a.bM,l.destination_country]]),i5t]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",w5t,(0,wt.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",n5t,[d5t,(0,s._)("div",c5t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[11]||(i[11]=t=>l.shipping_method=t),onChange:i[12]||(i[12]=t=>e.shipping_method=null),class:(0,wt.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},m5t,34),[[a.bM,l.shipping_method]]),h5t]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",f5t,(0,wt.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",b5t,[v5t,(0,s._)("button",{disabled:r.value,onClick:o,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),y5t],8,x5t)])])])])]))}};const k5t=_5t;var C5t=k5t,D5t={name:"sourcings",path:"/sourcings",component:Wa,meta:{module:"sourcing"},children:[{name:"sourcings.index",path:"",component:QJt,meta:{module:"sourcing",title:"Sourcing",role:["admin","seller"]}},{name:"sourcings.admin",path:"admin",redirect:{name:"sourcings.index"}},{name:"sourcings.seller",path:"seller",redirect:{name:"sourcings.index"}},{name:"sourcings.new",path:"new",component:C5t,meta:{module:"sourcing",title:"New Sourcing",role:"seller"}},{name:"sourcings.show",path:":id",component:$2t,meta:{module:"sourcing",title:"Sourcing",role:["seller","admin"]}}]};class S5t{async create(t){return await E.getCookie(),A.post("api/settings/create",t)}}var z5t=new S5t;const U5t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},q5t={class:"tw-px-3"},P5t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Settings "),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Cron jobs for invoices. ")])],-1),L5t={class:"tw-mt-5"},W5t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},A5t={class:"tw-col-span-2 md:tw-col-span-1"},$5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Interval Time",-1),E5t={class:"tw-relative"},T5t=(0,s.uE)('<option value="" disabled>Select an Interval</option><option value="daily">Daily</option><option value="weekly">Weekly</option><option value="monthly">Monthly</option><option value="yearly">Yearly</option>',5),F5t=[T5t],j5t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),V5t={class:"tw-col-span-2 md:tw-col-span-1"},I5t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Cancellation Date Begins",-1),O5t={class:"tw-flex tw-justify-end tw-items-center tw-p-4"},H5t=["disabled"],M5t=(0,s._)("span",null,"Save",-1);var R5t={__name:"CronJobs",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)(null),l=(0,ke.iH)(""),o=async()=>{e.value=!0,await z5t.create([{name:"e",value:r.value},{name:"factorisation_interval_date",value:l.value}]).then((t=>{console.log(t)}),(t=>{console.log(t)})),e.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",U5t,[(0,s._)("section",q5t,[P5t,(0,s._)("div",L5t,[(0,s._)("div",W5t,[(0,s._)("div",A5t,[$5t,(0,s._)("div",E5t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.value=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},F5t,512),[[a.bM,l.value]]),j5t])]),(0,s._)("div",V5t,[I5t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[1]||(i[1]=t=>r.value=t),type:"datetime-local",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"123-45-678",required:""},null,512),[[a.nr,r.value]])])])]),(0,s._)("div",O5t,[(0,s._)("button",{onClick:o,disabled:e.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[e.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),M5t],8,H5t)])])]))}};const N5t=R5t;var Y5t=N5t;const Z5t=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Settings ")],-1),K5t={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"},B5t={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Q5t={class:"tw-w-full"},J5t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),G5t={class:"tw-w-full"},X5t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),t4t={class:"tw-w-full"},e4t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),r4t={class:"tw-w-full"},a4t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),s4t={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},l4t=(0,s._)("span",null,"Update Password: ",-1),o4t={class:"tw-w-full"},i4t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),w4t={class:"tw-w-full"},n4t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),d4t={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},c4t=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),u4t=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function p4t(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[Z5t,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",K5t,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",B5t,[(0,s._)("div",null,[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ea.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Q5t,[J5t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.firstname.message,modelValue:l.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>l.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",G5t,[X5t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.lastname.message,modelValue:l.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",t4t,[e4t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.email.message,modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.email=t),readonly:"",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",r4t,[a4t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.phone.message,modelValue:l.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>l.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Ta.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",s4t,[l4t,(0,s.Wm)(ih.G,{modelValue:l.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>l.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),l.updatePassword?((0,s.wg)(),(0,s.j4)(Ta.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",o4t,[i4t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.password.message,modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),l.updatePassword?((0,s.wg)(),(0,s.j4)(Ta.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",w4t,[n4t,(0,s.Wm)(ut.hw,{"error-messages":l.formStatus.confirmPassword.message,modelValue:l.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>l.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",d4t,[(0,s.Wm)(nt.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[c4t])),_:1}),t.$can("update_account")?((0,s.wg)(),(0,s.j4)(nt.T,{key:0,onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[u4t])),_:1},8,["onClick","loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var g4t={data(){return{serverUrl:n,isFetched:!1,isUserFetched:!1,isLoading:!1,updatePassword:!1,formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:""}},computed:{isFormReady(){return this.isFetched},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,password:this.password}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,ot.updateProfile(this.user,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["firstname"]=$t(this.firstname),this.formStatus["lastname"]=$t(this.lastname),this.formStatus["phone"]=$t(this.phone),this.formStatus["password"]=At(this.password),this.formStatus["confirmPassword"]=Tt(this.password,this.confirmPassword);const t=this.formStatus["firstname"].valid,e=this.formStatus["lastname"].valid,r=this.formStatus["phone"].valid;if(this.updatePassword){const a=this.formStatus["password"].valid,s=this.formStatus["confirmPassword"].valid;return t&&e&&a&&s&&r}return t&&e&&r},async getUser(){return ot.profile().then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.isUserFetched=!0}})).catch(this.$handleApiError)}},async mounted(){Promise.allSettled([this.getUser()]).then((()=>this.isFetched=!0),(t=>this.$handleApiError(t)))}};const m4t=(0,m.Z)(g4t,[["render",p4t]]);var h4t=m4t;const f4t={class:"tw-border tw-border-solid tw-shadow-sm tw-rounded tw-p-5"},b4t={class:"tw-flex tw-items-center tw-gap-2"},v4t={class:"tw-flex tw-items-center tw-gap-2"},x4t=(0,s._)("h1",{class:"tw-text-xl tw-font-bold"},"Bank Transfer",-1),y4t={key:0,class:"tw-flex tw-items-center tw-gap-1 tw-bg-teal-100 tw-rounded tw-pr-2 tw-pl-1 tw-py-0.5"},_4t=(0,s._)("span",{class:"tw-text-teal-500 tw-text-sm tw-capitalize"},"Preferred",-1),k4t=(0,s._)("p",{class:"tw-text-gray-500 tw-mt-2"},"Withdraw funds directly to your bank account.",-1),C4t={class:"tw-flex tw-justify-end tw-gap-2 tw-mt-2"},D4t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Setup",-1),S4t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Modify",-1),z4t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},U4t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},q4t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Bank Details ",-1),P4t={class:"tw-p-5 tw-space-y-4"},L4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Bank Name",-1),W4t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},A4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Account Holder Name",-1),$4t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},E4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"RIB",-1),T4t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},F4t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Set as Preferred",-1),j4t=["disabled"],V4t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},I4t=["disabled"],O4t=["disabled"],H4t=(0,s._)("span",null,"Save",-1);var M4t={__name:"BankTransferMethod",props:["withdrawalMethods"],emits:["update"],setup(t,{emit:e}){const r=(0,ke.iH)(!1),l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=t,w=e,n=(0,ke.iH)({rib:"",account_holder_name:"",bank_name:""}),d=(0,ke.iH)({}),c=(0,ke.iH)(!1),u=(0,ke.iH)({}),p=()=>{u.value=i.withdrawalMethods.find((t=>"bank_transfer"==t.type)),u.value&&(o.value=!0,c.value=1==u.value.is_preferred,console.log(c.value),console.log(1==u.value.is_preferred),n.value={...u.value.metadata})};p();const g=async()=>{if(!h())return!1;const t={type:"bank_transfer",metadata:n.value,is_preferred:c.value};l.value=!0,await rSt.update(u.value.id,t).then((t=>{"SUCCESS"==t.data.code&&(w("update",t.data.withdrawal_methods),Tc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Tc("Something went wrong","danger")})),l.value=!1},m=async()=>{if(!h())return!1;const t={type:"bank_transfer",metadata:n.value,is_preferred:c.value};l.value=!0,await rSt.setup(t).then((t=>{"SUCCESS"==t.data.code&&(w("update",t.data.withdrawal_methods),Tc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Tc("Something went wrong","danger")})),l.value=!1},h=()=>{let t=!0;return n.value.rib||(t=!1,d.value.rib="RIB is required"),n.value.account_holder_name||(t=!1,d.value.account_holder_name="Account holder's name is required"),n.value.bank_name||(t=!1,d.value.bank_name="Bank's name is required"),t};return(t,e)=>{const i=(0,s.up)("icon"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",f4t,[(0,s._)("div",b4t,[(0,s._)("div",v4t,[(0,s.Wm)(i,{icon:"ph:bank-duotone",class:"tw-text-3xl tw-text-gray-600"}),x4t]),u.value&&1==u.value.is_preferred?((0,s.wg)(),(0,s.iD)("div",y4t,[(0,s.Wm)(i,{icon:"uil:check",class:"tw-text-xl tw-text-teal-500"}),_4t])):(0,s.kq)("",!0)]),k4t,(0,s._)("div",C4t,[(o.value,(0,s.kq)("",!0)),(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[o.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)(i,{icon:"lets-icons:edit-duotone-line",class:"tw-text-gray-500 tw-text-2xl"}),S4t],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(i,{icon:"ph:gear-six-duotone",class:"tw-text-gray-500 tw-text-2xl"}),D4t],64))])]),(0,s.Wm)(w,{visible:r.value,onCancel:e[10]||(e[10]=t=>r.value=!1),closeable:!1},{default:(0,s.w5)((()=>[(0,s._)("div",z4t,[(0,s._)("div",U4t,[q4t,(0,s._)("div",P4t,[(0,s._)("div",null,[L4t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.value.bank_name=t),onInput:e[2]||(e[2]=t=>d.value.bank_name=null),type:"text",class:(0,wt.C_)([[d.value.bank_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter bank name",required:""},null,34),[[a.nr,n.value.bank_name]]),d.value.bank_name?((0,s.wg)(),(0,s.iD)("label",W4t,(0,wt.zw)(d.value.bank_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[A4t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>n.value.account_holder_name=t),onInput:e[4]||(e[4]=t=>d.value.account_holder_name=null),type:"text",class:(0,wt.C_)([[d.value.account_holder_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter account holder's name",required:""},null,34),[[a.nr,n.value.account_holder_name]]),d.value.account_holder_name?((0,s.wg)(),(0,s.iD)("label",$4t,(0,wt.zw)(d.value.account_holder_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[E4t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>n.value.rib=t),onInput:e[6]||(e[6]=t=>d.value.rib=null),type:"text",class:(0,wt.C_)([[d.value.rib&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter your bank account RIB",required:""},null,34),[[a.nr,n.value.rib]]),d.value.rib?((0,s.wg)(),(0,s.iD)("label",T4t,(0,wt.zw)(d.value.rib),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[F4t,(0,s._)("button",{onClick:e[7]||(e[7]=t=>c.value=!c.value),disabled:l.value,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,wt.C_)([[c.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[c.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-yellow-500",icon:"iconamoon:close-duotone"})),c.value?((0,s.wg)(),(0,s.j4)(i,{key:1,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-emerald-500",icon:"mingcute:check-2-fill"})):(0,s.kq)("",!0)],2)],8,j4t)])]),(0,s._)("div",V4t,[(0,s._)("button",{onClick:e[8]||(e[8]=t=>r.value=!1),disabled:l.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,I4t),(0,s._)("button",{disabled:l.value,onClick:e[9]||(e[9]=()=>o.value?g():m()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),H4t],8,O4t)])])])])),_:1},8,["visible"])])}}};const R4t=M4t;var N4t=R4t;const Y4t={class:"tw-border tw-border-solid tw-shadow-sm tw-min-h-[400px]x tw-rounded tw-p-5"},Z4t={class:"tw-flex tw-items-center tw-gap-2"},K4t={class:"tw-flex tw-items-center tw-gap-2"},B4t=(0,s._)("h1",{class:"tw-text-xl tw-font-bold"},"Binance",-1),Q4t={key:0,class:"tw-flex tw-items-center tw-gap-1 tw-bg-teal-100 tw-rounded tw-pr-2 tw-pl-1 tw-py-0.5"},J4t=(0,s._)("span",{class:"tw-text-teal-500 tw-text-sm tw-capitalize"},"Preferred",-1),G4t=(0,s._)("p",{class:"tw-text-gray-500 tw-mt-2"},"Withdraw funds using Binance account",-1),X4t={class:"tw-flex tw-justify-end tw-gap-2 tw-mt-2"},t3t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Setup",-1),e3t=(0,s._)("span",{class:"tw-text-gray-800 tw-font-semibold"},"Modify",-1),r3t={class:"tw-w-full tw-max-w-[700px] tw-mx-auto tw-p-2"},a3t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},s3t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Binance account details ",-1),l3t={class:"tw-p-5 tw-space-y-4"},o3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Binance ID",-1),i3t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},w3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Set as Preferred",-1),n3t=["disabled"],d3t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},c3t=["disabled"],u3t=["disabled"],p3t=(0,s._)("span",null,"Save",-1);var g3t={__name:"BinanceMethod",props:["withdrawalMethods"],emits:["update"],setup(t,{emit:e}){const r=(0,ke.iH)(!1),l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=t,w=(0,ke.iH)({binance_id:""}),n=e,d=(0,ke.iH)(!1),c=(0,ke.iH)({}),u=(0,ke.iH)({}),p=()=>{u.value=i.withdrawalMethods.find((t=>"binance"==t.type)),u.value&&(o.value=!0,d.value=1==u.value.is_preferred,w.value={...u.value.metadata})};p();const g=async()=>{if(!h())return!1;const t={type:"binance",metadata:w.value,is_preferred:d.value};l.value=!0,await rSt.update(u.value.id,t).then((t=>{"SUCCESS"==t.data.code&&(n("update",t.data.withdrawal_methods),Tc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Tc("Something went wrong","danger")})),l.value=!1},m=async()=>{if(!h())return!1;const t={type:"binance",metadata:w.value,is_preferred:d.value};l.value=!0,await rSt.setup(t).then((t=>{"SUCCESS"==t.data.code&&(n("update",t.data.withdrawal_methods),Tc("Method updated successfully!"),r.value=!1)}),(t=>{console.log(t),Tc("Something went wrong","danger")})),l.value=!1},h=()=>{let t=!0;return w.value.binance_id||(t=!1,c.value.binance_id="Binance ID is required"),t};return(t,e)=>{const i=(0,s.up)("icon"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",Y4t,[(0,s._)("div",Z4t,[(0,s._)("div",K4t,[(0,s.Wm)(i,{icon:"simple-icons:binance",class:"tw-text-3xl tw-text-[#F3BA2F]"}),B4t]),u.value&&1==u.value.is_preferred?((0,s.wg)(),(0,s.iD)("div",Q4t,[(0,s.Wm)(i,{icon:"uil:check",class:"tw-text-xl tw-text-teal-500"}),J4t])):(0,s.kq)("",!0)]),G4t,(0,s._)("div",X4t,[(o.value,(0,s.kq)("",!0)),o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[(0,s.Wm)(i,{icon:"ph:gear-six-duotone",class:"tw-text-gray-500 tw-text-2xl"}),t3t])),o.value?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[1]||(e[1]=t=>r.value=!0),class:"tw-py-2 tw-px-4 tw-flex tw-items-center tw-gap-2 tw-rounded tw-text-sm tw-bg-gray-100 tw-border tw-border-solid tw-border-tansparent hover:tw-border-gray-300 dark:tw-border-neutral-900 dark:hover:tw-border-gray-300 hover:tw-bg-gray-200/50 dark:hover:tw-bg-gray-200/50 tw-duration-300 tw-text-gray-800"},[(0,s.Wm)(i,{icon:"lets-icons:edit-duotone-line",class:"tw-text-gray-500 tw-text-2xl"}),e3t])):(0,s.kq)("",!0)]),(0,s.Wm)(n,{visible:r.value,onCancel:e[7]||(e[7]=t=>r.value=!1),closeable:!1},{default:(0,s.w5)((()=>[(0,s._)("div",r3t,[(0,s._)("div",a3t,[s3t,(0,s._)("div",l3t,[(0,s._)("div",null,[o3t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.value.binance_id=t),onInput:e[3]||(e[3]=t=>c.value.binance_id=null),type:"text",class:(0,wt.C_)([[c.value.binance_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter your Binance account ID",required:""},null,34),[[a.nr,w.value.binance_id]]),c.value.binance_id?((0,s.wg)(),(0,s.iD)("label",i3t,(0,wt.zw)(c.value.binance_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[w3t,(0,s._)("button",{onClick:e[4]||(e[4]=t=>d.value=!d.value),disabled:l.value,class:"tw-w-[56px] tw-rounded-md tw-bg-gray-100 tw-p-[3px]"},[(0,s._)("span",{class:(0,wt.C_)([[d.value&&"tw-translate-x-full"],"tw-h-[25px] tw-w-[25px] tw-duration-200 tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded tw-flex tw-items-center tw-justify-center tw-relative"])},[d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-yellow-500",icon:"iconamoon:close-duotone"})),d.value?((0,s.wg)(),(0,s.j4)(i,{key:1,class:"tw-absolute tw-duration-200 tw-text-lg tw-text-emerald-500",icon:"mingcute:check-2-fill"})):(0,s.kq)("",!0)],2)],8,n3t)])]),(0,s._)("div",d3t,[(0,s._)("button",{onClick:e[5]||(e[5]=t=>r.value=!1),disabled:l.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ",8,c3t),(0,s._)("button",{disabled:l.value,onClick:e[6]||(e[6]=()=>o.value?g():m()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),p3t],8,u3t)])])])])),_:1},8,["visible"])])}}};const m3t=g3t;var h3t=m3t;const f3t={class:"tw-px-3"},b3t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Withdrawal Methods ")])],-1),v3t={class:"tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-mt-5"};var x3t={__name:"WithdrawalMethodsView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)({}),a=(0,ke.iH)(0),l=async()=>{e.value=!0,await rSt.all().then((t=>{"SUCCESS"==t.data.code&&(r.value=t.data.withdrawal_methods),console.log(t)}),(t=>{console.log(t)})),e.value=!1};l();const o=t=>{r.value=t,a.value++};return(t,l)=>((0,s.wg)(),(0,s.iD)("div",{key:a.value,class:"py-5 px-2 tw-border tw-bg-white tw-min-h-[calc(100dvh-85px)] tw-w-full tw-rounded-md tw-mb-5"},[(0,s._)("section",f3t,[b3t,(0,s._)("div",v3t,[e.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(2,(t=>(0,s._)("div",{key:t,class:"tw-h-[155px] tw-w-full tw-rounded tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-100 tw-animate-pulse tw-shadow-sm"}))),64)):(0,s.kq)("",!0),e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)((0,ke.SU)(N4t),{"withdrawal-methods":r.value,onUpdate:o},null,8,["withdrawal-methods"]),(0,s.Wm)((0,ke.SU)(h3t),{"withdrawal-methods":r.value,onUpdate:o},null,8,["withdrawal-methods"])],64))])])]))}};const y3t=x3t;var _3t=y3t,k3t={path:"/settings",name:"settings",component:Wa,meta:{module:"settings"},children:[{name:"settings/cronJobs",path:"/settings/cronJobs",component:Y5t,meta:{module:"settings",subModule:"settings/cronJobs",title:"Cron Jobs",role:"admin"}},{path:"account",name:"settings.account",component:h4t,meta:{module:"settings",title:"Settings",role:"admin"}},{path:"withdrawal-methods",name:"settings.seller.withdrawal-methods",component:_3t,meta:{module:"settings",title:"Settings",role:["seller"]}}]};const C3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Role",-1);var D3t={__name:"RoleSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=e,a=(0,s.Fl)((()=>st.getters["user/roles"])),l=(0,ke.iH)(null),o=(0,ke.iH)(!1),i=(0,ke.iH)([{id:null,name:"Choose Role"},...a.value.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]),w=t=>{i.value=[{id:null,name:"Choose Role"},...t.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]},n=async()=>{if(st.getters["user/fetchedRoles"])return!1;o.value=!0,await ot.roles().then((t=>{"SUCCESS"==t.data.code&&(st.dispatch("user/setRoles",t.data.data.roles),st.dispatch("user/setFetchedRoles",!0),w(a.value))})),o.value=!1},d=t=>{console.log(t),r("update:target",t.name)};return n(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[C3t,(0,s.Wm)((0,ke.SU)(NY.Z),{"append-to-body":"",loading:o.value,reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>d(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Role",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),options:i.value,label:"name"},{"open-indicator":(0,s.w5)((({attributes:t})=>[(0,s.Wm)(r,(0,s.dG)({icon:"octicon:chevron-down-24"},t,{class:"tw-text-xl"}),null,16)])),_:1},8,["loading","reduce","modelValue","options"])])}}};const S3t=D3t;var z3t=S3t;const U3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"User",-1);var q3t={__name:"UserSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=e,a=(0,s.Fl)((()=>st.getters["user/users"])),l=(0,ke.iH)(null),o=(0,ke.iH)([{id:null,name:"Choose User"},...a.value.map((t=>({id:t.id,name:t.firstname+" "+t.lastname})))]),i=t=>{r("update:target",t.id)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[U3t,(0,s.Wm)((0,ke.SU)(NY.Z),{"append-to-body":"",class:"tw-min-w-[200px]",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>i(t)),clearable:!1,placeholder:"Choose User",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),options:o.value,label:"name"},null,8,["reduce","modelValue","options"])]))}};const P3t=q3t;var L3t=P3t;const W3t=(0,s._)("span",null,"Make announcement",-1),A3t=[W3t],$3t={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},E3t={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},T3t=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Make Announcement ",-1),F3t={class:"tw-p-5 tw-space-y-4"},j3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Variant",-1),V3t={class:"tw-grid tw-grid-cols-4 tw-gap-2"},I3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Type",-1),O3t={class:"tw-grid tw-grid-cols-3 tw-gap-2"},H3t={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},M3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Closeable",-1),R3t={class:"tw-grid tw-grid-cols-2 tw-gap-2"},N3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Direction",-1),Y3t={class:"tw-grid tw-grid-cols-2 tw-gap-2"},Z3t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Content",-1),K3t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},B3t={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},Q3t=["disabled"],J3t=["disabled"],G3t=(0,s._)("span",null,"Send",-1);var X3t={__name:"AddAlertForm",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)(!1),l=(0,s.f3)("alerts"),o=(0,ke.iH)({variant:"success",type:"global",target:null,content:"",closeable:!0,direction:"rtl"});(0,s.YP)((()=>o.value.target),(t=>{console.log("Target has been updated: ",t)})),(0,s.YP)((()=>o.value.type),(()=>{o.value.target=null}));const i=(0,ke.iH)({}),w=async()=>(i.value.content="",i.value.target="","global"==o.value.type||o.value.target?""==o.value.content?(i.value.content="The content can't be empty.",!1):(r.value=!0,await ga.create(o.value).then((t=>{console.log(t),"SUCCESS"==t.data.code&&(e.value=!1,l.data.value.unshift(t.data.alert),Tc("Sent successfully"))})).catch((t=>{console.log(t)})),void(r.value=!1)):(i.value.target="The target cannot be empty.",!1));return(t,l)=>{const n=(0,s.up)("icon"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:l[0]||(l[0]=t=>e.value=!0),role:"button",class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},A3t),(0,s.Wm)(d,{visible:e.value,onCancel:l[17]||(l[17]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",$3t,[(0,s._)("div",E3t,[T3t,(0,s._)("div",F3t,[(0,s._)("div",null,[j3t,(0,s._)("div",V3t,[(0,s._)("button",{onClick:l[1]||(l[1]=t=>o.value.variant="success"),class:(0,wt.C_)([["success"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-emerald-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[2]||(l[2]=t=>o.value.variant="info"),class:(0,wt.C_)([["info"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-cyan-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[3]||(l[3]=t=>o.value.variant="danger"),class:(0,wt.C_)([["danger"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-rose-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[4]||(l[4]=t=>o.value.variant="warning"),class:(0,wt.C_)([["warning"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-amber-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(n,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2)])]),(0,s._)("div",null,[I3t,(0,s._)("div",O3t,[(0,s._)("button",{onClick:l[5]||(l[5]=t=>o.value.type="global"),class:(0,wt.C_)([["global"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Global ",2),(0,s._)("button",{onClick:l[6]||(l[6]=t=>o.value.type="role"),class:(0,wt.C_)([["role"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Role ",2),(0,s._)("button",{onClick:l[7]||(l[7]=t=>o.value.type="user"),class:(0,wt.C_)([["user"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," User ",2)])]),(0,s.wy)((0,s._)("div",null,["role"==o.value.type?((0,s.wg)(),(0,s.j4)((0,ke.SU)(z3t),{key:0,target:o.value.target,"onUpdate:target":l[8]||(l[8]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),"user"==o.value.type?((0,s.wg)(),(0,s.j4)((0,ke.SU)(L3t),{key:1,target:o.value.target,"onUpdate:target":l[9]||(l[9]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),i.value.target?((0,s.wg)(),(0,s.iD)("label",H3t,(0,wt.zw)(i.value.target),1)):(0,s.kq)("",!0)],512),[[a.F8,"global"!=o.value.type]]),(0,s._)("div",null,[M3t,(0,s._)("div",R3t,[(0,s._)("button",{onClick:l[10]||(l[10]=t=>o.value.closeable=!0),class:(0,wt.C_)([[1==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Yes ",2),(0,s._)("button",{onClick:l[11]||(l[11]=t=>o.value.closeable=!1),class:(0,wt.C_)([[0==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," No ",2)])]),(0,s._)("div",null,[N3t,(0,s._)("div",Y3t,[(0,s._)("button",{onClick:l[12]||(l[12]=t=>o.value.direction="rtl"),class:(0,wt.C_)([["rtl"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Right To Left ",2),(0,s._)("button",{onClick:l[13]||(l[13]=t=>o.value.direction="ltr"),class:(0,wt.C_)([["ltr"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Left To Right ",2)])]),(0,s._)("div",null,[Z3t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":l[14]||(l[14]=t=>o.value.content=t),onInput:l[15]||(l[15]=t=>i.value.content=null),class:(0,wt.C_)([[i.value.content&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Announcement content"},null,34),[[a.nr,o.value.content]]),i.value.content?((0,s.wg)(),(0,s.iD)("label",K3t,(0,wt.zw)(i.value.content),1)):(0,s.kq)("",!0)])]),(0,s._)("div",B3t,[(0,s._)("button",{onClick:l[16]||(l[16]=t=>e.value=!1),disabled:r.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,Q3t),(0,s._)("button",{onClick:w,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),G3t],8,J3t)])])])])),_:1},8,["visible"])])}}};const t8t=X3t;var e8t=t8t;const r8t={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"},a8t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},s8t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Delete Announcement ",-1),l8t=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to delete this announcement ? ")],-1),o8t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},i8t=["disabled"],w8t=(0,s._)("span",null,"Confirm",-1);var n8t={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,ke.Vh)(e,"item"),a=(0,s.f3)("alerts"),l=(0,ke.iH)({delete:!1}),o=(0,ke.iH)({delete:!1}),i=async()=>{o.value.delete=!0,await ga["delete"](r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Deleted successfully."),l.value.delete=!1,a.data.value=a.data.value.filter((t=>t.id!=r.value.id)))})),o.value.delete=!1};return(t,e)=>{const r=(0,s.up)("icon"),a=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",r8t,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value.delete=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-rose-300 tw-text-rose-500 tw-duration-200 hover:tw-bg-rose-500 hover:tw-text-white"},[(0,s.Wm)(r,{icon:"fluent:delete-28-filled"})])]),(0,s.Wm)(a,{visible:l.value.delete,onCancel:e[2]||(e[2]=t=>l.value.delete=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",a8t,[s8t,l8t,(0,s._)("div",o8t,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.value.delete=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:o.value.delete,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.delete&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),w8t],8,i8t)])])])),_:1},8,["visible"])])}}};const d8t=n8t;var c8t=d8t;const u8t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},p8t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},g8t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},m8t={class:"tw-w-[70px] tw-truncate"},h8t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},f8t={class:"tw-w-[80px] tw-truncate"},b8t={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},v8t={class:"tw-w-[100px] tw-truncate"},x8t={class:"tw-p-2"};var y8t={__name:"TableRow",props:["item"],setup(t){return(e,r)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",u8t,(0,wt.zw)(t.item.id),1),(0,s._)("td",p8t,(0,wt.zw)((0,ke.SU)(ze())(t.item.created_at).format("YYYY-MM-DD HH:mm:ss")),1),(0,s._)("td",g8t,[(0,s._)("p",m8t,(0,wt.zw)(t.item.type),1)]),(0,s._)("td",h8t,[(0,s._)("p",f8t,(0,wt.zw)(t.item.to),1)]),(0,s._)("td",b8t,[(0,s._)("p",v8t,(0,wt.zw)(t.item.content),1)]),(0,s._)("td",null,[(0,s._)("div",x8t,[(0,s.Wm)((0,ke.SU)(c8t),{item:t.item},null,8,["item"])])])]))}};const _8t=y8t;var k8t=_8t;const C8t={class:"tw-overflow-x-auto"},D8t={class:"tw-inline-block tw-min-w-full tw-align-middle"},S8t={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},z8t={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},U8t={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},q8t={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},P8t={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},L8t=["colspan"],W8t=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No alert was found ! ",-1),A8t=[W8t];var $8t={__name:"AlertsTable",props:["loading","data"],setup(t){const e=t,r=(0,ke.Vh)(e,"loading"),a=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Added at",class:"tw-w-[100px]"},{field:"type",name:"Type",class:"tw-w-[70px] tw-truncate"},{field:"to",name:"To",class:"tw-w-[70px] tw-truncate"},{field:"content",name:"Content",class:"tw-max-w-[150px] tw-truncate"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],l=(0,ke.Vh)(e,"data");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",C8t,[(0,s._)("div",D8t,[(0,s._)("div",S8t,[(0,s._)("table",z8t,[(0,s._)("thead",U8t,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(a,(t=>(0,s._)("th",{key:t.field,class:(0,wt.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,wt.zw)(t.name),1)],2))),64))])]),r.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(qQt),{key:1,columns:a.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[l.value.length?((0,s.wg)(),(0,s.iD)("tbody",q8t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(k8t),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),l.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",P8t,[(0,s._)("tr",null,[(0,s._)("td",{colspan:a.length},A8t,8,L8t)])]))],64))])])])])]))}};const E8t=$8t;var T8t=E8t;const F8t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},j8t={class:"tw-px-3"},V8t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},I8t=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Manage Alerts ")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Create and manage announcements. ")],-1),O8t={class:"tw-mt-5"};var H8t={__name:"IndexView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)({}),a=(0,ke.iH)({}),l=async()=>{e.value=!0,await ga.paginate("",a.value).then((t=>{const{data:e,...s}=t.data.alerts;r.value=e,a.value=s}),(t=>{console.log(t)})),e.value=!1};return l(),(0,s.JJ)("alerts",{data:r}),(t,a)=>((0,s.wg)(),(0,s.iD)("div",F8t,[(0,s._)("section",j8t,[(0,s._)("div",V8t,[I8t,(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(e8t))])]),(0,s._)("div",O8t,[(0,s.Wm)((0,ke.SU)(T8t),{data:r.value,loading:e.value},null,8,["data","loading"])])])]))}};const M8t=H8t;var R8t=M8t,N8t={name:"alerts",path:"/alerts",component:Wa,meta:{module:"alerts"},children:[{name:"alert/list",path:"",component:R8t,meta:{module:"alert",subModule:"alert/list",title:"Alerts List",role:["admin"]}}]};class Y8t{async paginate(t="",e){return await E.getCookie(),A.get("api/affiliate/products"+t,{params:e})}async imported(t="",e){return await E.getCookie(),A.get("api/affiliate/products/imported"+t,{params:e})}async wishlisted(t="",e){return await E.getCookie(),A.get("api/affiliate/products/wishlisted"+t,{params:e})}async get(t){return await E.getCookie(),A.get("api/affiliate/products/"+t)}async details(t){return await E.getCookie(),A.get("api/affiliate/products/"+t+"/details")}async edit(t){return await E.getCookie(),A.get("api/affiliate/products/"+t+"/edit")}async create(t){return await E.getCookie(),A.post("api/affiliate/products",t)}async update(t,e){return await E.getCookie(),A.post("api/affiliate/products/"+t,e)}async setOffers(t,e){return await E.getCookie(),A.post("api/affiliate/products/"+t+"/offers",e)}async getOffers(t){return await E.getCookie(),A.get("api/affiliate/products/"+t+"/offers")}async addImport(t){return await E.getCookie(),A.post("api/affiliate/import",{product_id:t})}async removeImport(t){return await E.getCookie(),A.post("api/affiliate/unimport",{product_id:t})}async addWishlist(t){return await E.getCookie(),A.post("api/affiliate/wishlist",{product_id:t})}async removeWishlist(t){return await E.getCookie(),A.post("api/affiliate/unwishlist",{product_id:t})}}var Z8t=new Y8t;const K8t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},B8t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Manage Offers ",-1),Q8t={key:0,class:"tw-p-2 tw-bg-white"},J8t={class:"tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-p-2 tw-grid tw-grid-cols-2 tw-gap-2"},G8t={class:"tw-col-span-2"},X8t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Store URL",-1),t6t={class:"tw-col-span-2"},e6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Video URL",-1),r6t={key:1,class:"tw-p-2 tw-bg-white"},a6t={key:0,class:"tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-p-5 tw-text-center"},s6t=(0,s._)("p",{class:"tw-text-gray-500 tw-text-lg"},"Loading...",-1),l6t=[s6t],o6t={key:2,class:"tw-p-2 tw-bg-white"},i6t={key:0,class:"tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-p-5 tw-text-center"},w6t=(0,s._)("p",{class:"tw-text-gray-500 tw-text-lg"},"No offers yet",-1),n6t=[w6t],d6t={key:1,class:"tw-flex tw-flex-col tw-gap-2"},c6t=(0,s._)("h1",{class:"tw-mb-2 tw-text-base tw-font-semibold tw-px-2"},"Offers",-1),u6t={class:"tw-col-span-2 md:tw-col-span-1"},p6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),g6t=["onUpdate:modelValue"],m6t={class:"tw-col-span-2 md:tw-col-span-1"},h6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Price",-1),f6t=["onUpdate:modelValue"],b6t={class:"tw-col-span-2"},v6t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),x6t=["onUpdate:modelValue"],y6t={class:"tw-col-span-2 tw-flex tw-items-center tw-justify-end"},_6t=["onClick","disabled"],k6t=(0,s._)("span",null,"Delete",-1),C6t=[k6t],D6t={class:"tw-flex tw-items-center tw-justify-center tw-mt-4"},S6t=(0,s._)("p",{class:""},"Add offer",-1),z6t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},U6t=["disabled"],q6t=(0,s._)("span",null,"Save",-1);var P6t={__name:"ProductOffers",props:["product","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=e,o=(0,ke.iH)([]),i=(0,ke.iH)(null),w=(0,ke.iH)(null),n=(0,ke.iH)(!1),d=(0,ke.iH)(!1),c=()=>{const t={id:Date.now(),product_id:r.product.id,quantity:"",price:"",note:""};o.value.push(t)},u=async()=>{let t=!0;if(o.value.forEach((e=>{e.price&&e.quantity||(t=!1)})),!t)return Tc("The offers are not valid. check price and quantity","warning"),!1;n.value=!0,await Z8t.setOffers(r.product.id,{offers:o.value,store_url:i.value,video_url:w.value}).then((t=>{"SUCCESS"==t.data.code&&(Tc("Offers has been updated"),l("update:visible",!1))})),n.value=!1},p=t=>{console.log("deleting...",t),o.value=o.value.filter((e=>e.id!=t))},g=async()=>{d.value=!0,await Z8t.getOffers(r.product.id).then((t=>{"SUCCESS"==t.data.code&&(o.value=t.data.offers,w.value=t.data.video_url,i.value=t.data.store_url)})),d.value=!1};return g(),(t,e)=>{const g=(0,s.up)("icon"),m=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(m,{visible:r.visible,closeable:!n.value,onCancel:e[3]||(e[3]=t=>l("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",K8t,[B8t,d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Q8t,[(0,s._)("div",J8t,[(0,s._)("div",G8t,[X8t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Store URL",required:""},null,512),[[a.nr,i.value]])]),(0,s._)("div",t6t,[e6t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>w.value=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Video URL",required:""},null,512),[[a.nr,w.value]])])])])),d.value?((0,s.wg)(),(0,s.iD)("div",r6t,[o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",a6t,l6t))])):(0,s.kq)("",!0),d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",o6t,[o.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",i6t,n6t)),o.value.length?((0,s.wg)(),(0,s.iD)("div",d6t,[c6t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.value,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-2 tw-gap-2 tw-border tw-border-solid tw-p-2 tw-rounded-xlx tw-shadow-sm tw-bg-white tw-border-gray-200",key:t},[(0,s._)("div",u6t,[p6t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"0",required:""},null,8,g6t),[[a.nr,t.quantity]])]),(0,s._)("div",m6t,[h6t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"0",required:""},null,8,f6t),[[a.nr,t.price]])]),(0,s._)("div",b6t,[v6t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e=>t.note=e,class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Note",required:""},null,8,x6t),[[a.nr,t.note]])]),(0,s._)("div",y6t,[(0,s._)("button",{onClick:e=>p(t.id),disabled:n.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},C6t,8,_6t)])])))),128))])):(0,s.kq)("",!0),(0,s._)("div",D6t,[(0,s._)("button",{onClick:c,class:"tw-flex tw-items-center tw-bg-orange-400 tw-text-white tw-gap-2 tw-px-4 tw-py-2 hover:tw-bg-orange-600 tw-duration-200 tw-rounded tw-border tw-border-transparent tw-border-solid hover:tw-border-orange-200"},[(0,s.Wm)(g,{icon:"uil:plus",class:"tw-text-sm"}),S6t])])])),(0,s._)("div",z6t,[(0,s._)("button",{onClick:e[2]||(e[2]=t=>l("update:visible",!1)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:u,disabled:n.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[n.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),q6t],8,U6t)])])])),_:1},8,["visible","closeable"])}}};const L6t=P6t;var W6t=L6t;const A6t={key:0,class:"tw-w-full tw-mt-10 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-2"},$6t=["disabled"],E6t={key:2},T6t={key:3},F6t={key:2},j6t={key:3},V6t={class:"tw-flex tw-justify-end tw-gap-2 tw-p-2"},I6t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},O6t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Import ",-1),H6t={class:"tw-p-4 tw-bg-white"},M6t={key:0,class:"tw-text-lg tw-font-medium"},R6t={key:1,class:"tw-text-lg tw-font-medium"},N6t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Y6t=["disabled"],Z6t=["disabled"],K6t=(0,s._)("span",null,"Confirm",-1),B6t=["disabled"],Q6t=(0,s._)("span",null,"Remove",-1);var J6t={__name:"ProductCardActions",props:{product:{required:!1},isCard:{type:Boolean,default:!0}},setup(t){const e=t,r=(0,ke.Vh)(e,"product"),a=(0,ke.iH)(r.value.wishlisted),l=(0,ke.iH)(r.value.imported),o=(0,ke.iH)({wishlist:!1,import:!1}),i=(0,ke.iH)({wishlist:!1,import:!1,offers:!1}),w=async()=>{o.value.wishlist=!0,a.value?await Z8t.removeWishlist(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Removed from wishlist"),i.value.wishlist=!1,a.value=!1)}),(t=>{console.log(t),Tc("Something wrong happend","danger")})):await Z8t.addWishlist(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Added to wishlist"),i.value.wishlist=!1,a.value=!0),"ALREADY_WISHLISTED"==t.data.code&&(Tc("Already in wishlist"),i.value.wishlist=!1,a.value=!0)}),(t=>{console.log(t),Tc("Something wrong happend","danger")})),o.value.wishlist=!1},n=()=>{i.value.import=!0},d=()=>{i.value.offers=!0},c=async()=>{o.value.import=!0,l.value?await Z8t.removeImport(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Removed from imported"),i.value.import=!1,l.value=!1),"ORDERS_EXISTS"==t.data.code&&(Tc("Product cannot be removed from import list because it has orders","info"),i.value.import=!1)}),(t=>{console.log(t),Tc("Something wrong happend","danger")})):await Z8t.addImport(r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Tc("Imported successfully"),i.value.import=!1,l.value=!0),"ORDERS_EXISTS"==t.data.code&&(Tc("Product cannot be removed from import list because it has orders","info"),i.value.import=!1),"ALREADY_IMPORTED"==t.data.code&&(Tc("Already imported"),i.value.import=!1,l.value=!0)}),(t=>{console.log(t),Tc("Something wrong happend","danger")})),o.value.import=!1};return(t,r)=>{const u=(0,s.up)("icon"),p=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.isCard?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",A6t,[(0,s._)("button",{onClick:n,disabled:o.value.import,class:(0,wt.C_)([[l.value&&"!tw-bg-gray-100 tw-text-emerald-500"],"tw-px-2 tw-flex tw-items-center tw-justify-center tw-gap-4 tw-bg-emerald-500 tw-text-white tw-rounded tw-py-3 hover:tw-saturate-150x tw-duration-200 tw-border-2 tw-border-solid tw-border-white hover:tw-border-emerald-200 tw-text-lg"])},[o.value.import?((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"charm:plus",class:"tw-text-3xl"})),l.value?((0,s.wg)(),(0,s.j4)(u,{key:1,icon:"uis:check",class:"tw-text-3xl tw-text-emerald-500"})):(0,s.kq)("",!0)],64)),l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",E6t,"Add to import list")),l.value?((0,s.wg)(),(0,s.iD)("span",T6t,"Imported")):(0,s.kq)("",!0)],10,$6t),(0,s._)("button",{onClick:w,class:"tw-px-2 tw-flex tw-items-center tw-justify-center tw-gap-4 tw-bg-rose-500/10 tw-text-rose-500 tw-text-whitxe tw-rounded tw-py-3 hover:tw-saturate-150x tw-duration-200 tw-border-2 tw-border-solid tw-border-white hover:tw-border-rose-200 tw-text-lg"},[o.value.wishlist?((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-rose-500"})):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"ph:heart-light",class:"tw-text-3xl tw-text-rose-500"})),a.value?((0,s.wg)(),(0,s.j4)(u,{key:1,icon:"ph:heart-fill",class:"tw-text-3xl tw-text-rose-500"})):(0,s.kq)("",!0)],64)),a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",F6t,"Add to wishlist")),a.value?((0,s.wg)(),(0,s.iD)("span",j6t,"Wishlisted")):(0,s.kq)("",!0)])])),e.isCard?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,wt.C_)([[(o.value.import||o.value.wishlist)&&"!tw-translate-y-0"],"tw-absolute tw-top-0 tw-left-0 tw-z-20 tw-w-full tw-h-[60px] tw-bg-gradient-to-b tw-from-black/40 tw-to-transparent -tw-translate-y-full group-hover:tw-translate-y-0 tw-duration-200"])},[(0,s._)("div",V6t,[(0,s._)("button",{onClick:n,class:"tw-px-2 tw-aspect-square tw-bg-emerald-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[!o.value.import&&l.value?((0,s.wg)(),(0,s.j4)(u,{key:0,icon:"gravity-ui:check",class:"tw-text-2xl tw-text-white"})):(0,s.kq)("",!0),o.value.import||l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(u,{key:1,icon:"charm:plus",class:"tw-text-2xl tw-text-white"})),o.value.import?((0,s.wg)(),(0,s.j4)(u,{key:2,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):(0,s.kq)("",!0)]),(0,s._)("button",{onClick:w,class:"tw-px-2 tw-aspect-square tw-bg-rose-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[o.value.wishlist?((0,s.wg)(),(0,s.j4)(u,{key:1,icon:"line-md:loading-twotone-loop",class:"tw-text-2xl tw-text-white"})):((0,s.wg)(),(0,s.j4)(u,{key:0,icon:a.value?"ph:heart-fill":"ph:heart-light",class:"tw-text-2xl tw-text-white"},null,8,["icon"]))]),l.value?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:d,class:"tw-px-2 tw-aspect-square tw-bg-amber-500 tw-rounded tw-flex tw-items-center tw-gap-2 tw-justify-between tw-h-[40px]"},[(0,s.Wm)(u,{icon:"ic:outline-local-offer",class:"tw-text-2xl tw-text-white"})])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0),(0,s.Wm)(p,{visible:i.value.import,closeable:!o.value.import,onCancel:r[1]||(r[1]=t=>i.value.import=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",I6t,[O6t,(0,s._)("div",H6t,[l.value?((0,s.wg)(),(0,s.iD)("p",R6t," Are you sure you want to remove from import list ? ")):((0,s.wg)(),(0,s.iD)("p",M6t," Are you sure you want to import with this product ? "))]),(0,s._)("div",N6t,[(0,s._)("button",{disabled:o.value.import,onClick:r[0]||(r[0]=t=>i.value.import=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,Y6t),l.value?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:c,disabled:o.value.import,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 tw-border-rose-800 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.import&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Q6t],8,B6t)):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:c,disabled:o.value.import,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.import&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),K6t],8,Z6t))])])])),_:1},8,["visible","closeable"]),i.value.offers?((0,s.wg)(),(0,s.j4)(W6t,{key:2,visible:i.value.offers,"onUpdate:visible":r[2]||(r[2]=t=>i.value.offers=t),product:e.product},null,8,["visible","product"])):(0,s.kq)("",!0)],64)}}};const G6t=J6t;var X6t=G6t;const t7t={class:"tw-relative tw-rounded tw-overflow-hidden tw-group tw-border tw-border-solid tw-shadow-sm tw-bg-white"},e7t=["src"],r7t=(0,s._)("div",{class:"tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-gray-200 tw-animate-pulse"},null,-1),a7t={class:"tw-absolute tw-bottom-2 tw-right-2 tw-min-w-[80px] tw-min-h-[40px] tw-p-2 tw-gap-2 tw-rounded tw-py-0 tw-flex tw-items-center tw-justify-center tw-bg-white tw-shadow tw-shadow-orange-400 tw-z-10"},s7t={class:"tw-text-lg tw-font-semibold"},l7t={class:"tw-flex tw-items-center tw-gap-2 tw-absolute tw-bottom-2 tw-left-2 tw-z-20"},o7t={key:0,title:"TikTok videos exists",class:"tw-border tw-border-solid tw-bg-white tw-border-gray-200 tw-p-1 tw-rounded tw-flex tw-items-center tw-gap-2"},i7t={key:1,title:"Facebook videos exists",class:"tw-border tw-border-solid tw-bg-white tw-border-gray-200 tw-p-1 tw-rounded tw-flex tw-items-center tw-gap-2"},w7t={class:"tw-p-4 tw-pb-2 tw-min-h-[20px]"},n7t={class:"tw-relative"},d7t={class:"tw-flex tw-items-center tw-justify-between"};var c7t={__name:"ProductCard",props:["product"],setup(t){const e=t,r=(0,ke.Vh)(e,"product");return(t,e)=>{const a=(0,s.up)("icon"),l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",t7t,[(0,s.Wm)((0,ke.SU)(X6t),{product:r.value},null,8,["product"]),(0,s.Wm)(l,{to:{name:"affiliate.show",params:{id:r.value.id}},class:"tw-h-[400px] tw-block tw-aspect-square tw-w-full tw-overflow-hidden tw-relative tw-border-b tw-border-solid tw-border-gray-200"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:r.value.thumbnail,class:"tw-w-full tw-h-full tw-aspect-square tw-object-cover group-hover:tw-scale-105 tw-duration-200 tw-relative tw-z-10"},null,8,e7t),r7t,(0,s._)("div",a7t,[(0,s.Wm)(a,{icon:"hugeicons:sale-tag-02",class:"tw-text-2xl tw-text-orange-500"}),(0,s._)("span",s7t,(0,wt.zw)((0,ke.SU)(c))+(0,wt.zw)(r.value.selling_price),1)]),(0,s._)("div",l7t,[r.value.media.tiktok_ads?((0,s.wg)(),(0,s.iD)("div",o7t,[(0,s.Wm)(a,{icon:"logos:tiktok-icon",class:"tw-text-lg"})])):(0,s.kq)("",!0),r.value.media.facebook_ads?((0,s.wg)(),(0,s.iD)("div",i7t,[(0,s.Wm)(a,{icon:"basil:facebook-solid",class:"tw-text-lg tw-text-sky-600"})])):(0,s.kq)("",!0)])])),_:1},8,["to"]),(0,s._)("div",w7t,[(0,s._)("div",n7t,[(0,s.Wm)(l,{to:{name:"affiliate.show",params:{id:r.value.id}},class:"tw-text-lg tw-font-medium tw-max-w-full tw-truncate tw-block"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(r.value.name),1)])),_:1},8,["to"]),(0,s._)("div",d7t,[((0,s.wg)(),(0,s.iD)("p",{key:r.value.category,class:"tw-text-sm tw-text-orange-500 tw-rounded tw-w-fit tw-my-1"},(0,wt.zw)(r.value.category),1))]),(0,s.kq)("",!0)])]),(0,s.kq)("",!0)])}}};const u7t=c7t;var p7t=u7t;const g7t=(0,s._)("div",{class:"tw-px-5 tw-py-2"},[(0,s._)("div",null,[(0,s._)("button",{class:"tw-py-2 tw-border-b-2 tw-border-solid tw-border-orange-500"},"All Products")])],-1),m7t={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},h7t={class:"tw-px-3"},f7t={class:"tw-mt-5x tw-flexx tw-items-centerx"},b7t={key:0},v7t={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},x7t={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},y7t={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},_7t=["src"],k7t=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),C7t={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},D7t=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),S7t={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var z7t={__name:"ProductResearchView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)([]),a=async()=>{e.value=!0,await Z8t.paginate().then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[g7t,(0,s._)("div",m7t,[(0,s._)("section",h7t,[(0,s.kq)("",!0),(0,s._)("div",f7t,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",b7t,[r.value.length?((0,s.wg)(),(0,s.iD)("div",v7t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(p7t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",x7t,[(0,s._)("div",y7t,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,_7t),k7t])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",C7t,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[D7t,(0,s._)("div",S7t,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const U7t=z7t;var q7t=U7t;const P7t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},L7t=(0,s.uE)('<section class="tw-px-3"><div class="tw-flex tw-items-center tw-justify-between tw-flex-wrap"><div><div class="tw-flex tw-items-center tw-gap-x-3"><h2 class="tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"> Products </h2><span class="tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded darkx:tw-bg-gray-800 darkx:tw-text-orange-400">0 products</span></div><p class="tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"> List of affiliate products. </p></div></div></section>',1),W7t=[L7t];function A7t(t,e){return(0,s.wg)(),(0,s.iD)("div",P7t,W7t)}const $7t={},E7t=(0,m.Z)($7t,[["render",A7t]]);var T7t=E7t,F7t=r(7200),j7t=r(6835),V7t=r(6414),I7t=r(3798),O7t=r(4018);const H7t={class:"tw-flex tw-items-center tw-gap-2 tw-p-1 tw-border tw-border-solid tw-border-gray-200 tw-rounded-t tw-border-b-0 tw-bg-gray-100 tw-overflow-auto"},M7t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1),R7t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1),N7t=(0,s._)("div",{class:"tw-border-l tw-h-4 tw-border-solid tw-border-gray-400"},null,-1);var Y7t={__name:"EditorToolbar",props:["editor"],setup(t){const e=t,r=(0,ke.Vh)(e,"editor");return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",H7t,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value?.chain().focus().toggleBold().run()),class:(0,wt.C_)([[r.value?.isActive("bold")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-bold-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value?.chain().focus().toggleItalic().run()),class:(0,wt.C_)([[r.value?.isActive("italic")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-italic-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[2]||(e[2]=t=>r.value?.chain().focus().toggleUnderline().run()),class:(0,wt.C_)([[r.value?.isActive("underline")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-underline-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[3]||(e[3]=t=>r.value?.chain().focus().toggleStrike().run()),class:(0,wt.C_)([[r.value?.isActive("strike")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"solar:text-cross-bold",class:"tw-text-sm"})],2),M7t,(0,s._)("button",{onClick:e[4]||(e[4]=t=>r.value?.chain().focus().toggleHeading({level:1}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:1})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-one-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>r.value?.chain().focus().toggleHeading({level:2}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:2})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-two-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[6]||(e[6]=t=>r.value?.chain().focus().toggleHeading({level:3}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:3})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-three-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[7]||(e[7]=t=>r.value?.chain().focus().toggleHeading({level:4}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:4})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-four-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[8]||(e[8]=t=>r.value?.chain().focus().toggleHeading({level:5}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:5})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-five-bold",class:"tw-text-sm"})],2),(0,s._)("button",{onClick:e[9]||(e[9]=t=>r.value?.chain().focus().toggleHeading({level:6}).run()),class:(0,wt.C_)([[r.value?.isActive("heading",{level:6})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-h-six-bold",class:"tw-text-sm"})],2),R7t,(0,s._)("button",{onClick:e[10]||(e[10]=t=>r.value?.chain().focus().setTextAlign("left").run()),class:(0,wt.C_)([[r.value?.isActive({textAlign:"left"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-left-bold",class:""})],2),(0,s._)("button",{onClick:e[11]||(e[11]=t=>r.value?.chain().focus().setTextAlign("center").run()),class:(0,wt.C_)([[r.value?.isActive({textAlign:"center"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-center-bold",class:""})],2),(0,s._)("button",{onClick:e[12]||(e[12]=t=>r.value?.chain().focus().setTextAlign("right").run()),class:(0,wt.C_)([[r.value?.isActive({textAlign:"right"})&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:text-align-right-bold",class:""})],2),N7t,(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{onClick:e[14]||(e[14]=t=>r.value?.chain().focus().toggleBulletList().run()),class:(0,wt.C_)([[r.value?.isActive("bulletList")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"fluent:text-bullet-list-ltr-20-filled",class:""})],2),(0,s._)("button",{onClick:e[15]||(e[15]=t=>r.value?.chain().focus().toggleOrderedList().run()),class:(0,wt.C_)([[r.value?.isActive("orderedList")&&"tw-bg-orange-500 tw-border-orange-200 !tw-text-white"],"tw-rounded tw-w-8 tw-h-8 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-text-gray-500 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(a,{icon:"ph:list-numbers-light",class:""})],2)])}}};const Z7t=Y7t;var K7t=Z7t,B7t={__name:"TiptapEditor",props:{modelValue:{required:!0},editable:{required:!1,default:!0}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,a=e;console.log(r.modelValue);const l=(0,F7t.jE)({editable:r.editable,content:r.modelValue,extensions:[V7t.Z,j7t.Z,O7t.ZP,I7t.Z.configure({types:["heading","paragraph"]})],editorProps:{attributes:{class:r.editable?"tw-outline-none tw-border tw-border-solid tw-border-gray-200 tw-min-h-[250px] tw-p-5 tw-rounded-b":"tw-outline-none"}},onUpdate({editor:t}){a("update:modelValue",t.getHTML())}});return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[r.editable?((0,s.wg)(),(0,s.j4)((0,ke.SU)(K7t),{key:0,editor:(0,ke.SU)(l)},null,8,["editor"])):(0,s.kq)("",!0),(0,s.Wm)((0,ke.SU)(F7t.kg),{editor:(0,ke.SU)(l),class:"tw-w-full tw-min-h-[300px] tw-outline-none no-tailwind"},null,8,["editor"])]))}};const Q7t=B7t;var J7t=Q7t;class G7t{async create(t){return await E.getCookie(),A.post("api/categories",t)}async all(){return await E.getCookie(),A.get("api/categories")}}var X7t=new G7t;const t9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Category",-1),e9t={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-1"},r9t={class:"tw-flex-1"},a9t={class:"tw-relative"},s9t=["disabled"],l9t=(0,s._)("option",{value:"",selected:""},"Choose category",-1),o9t=["value"],i9t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},w9t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Add category ",-1),n9t={class:"tw-p-5 tw-bg-white"},d9t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},c9t={class:"tw-col-span-2 md:tw-col-span-2"},u9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),p9t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},g9t={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},m9t=["disabled"],h9t=(0,s._)("span",null,"Create",-1);var f9t={__name:"CategoryField",setup(t){const e=(0,s.f3)("product"),r=(0,ke.iH)(!1),l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=(0,ke.iH)({type:"products"}),w=(0,ke.iH)([]),n=(0,ke.iH)({}),d=async()=>{if(n.value={},!i.value.name)return n.value.name="Name is required",!1;l.value=!0,await X7t.create(i.value).then((t=>{"SUCCESS"==t.data.code&&(w.value.unshift(t.data.category),Tc("New category has been added"),c())}),(t=>{console.log(t)})),l.value=!1},c=()=>{i.value={type:"products"},r.value=!1},u=async()=>{o.value=!1,await X7t.all().then((t=>{"SUCCESS"==t.data.code&&(w.value=t.data.categories,o.value=!0)}),(t=>{console.log(t)}))};return o.value||u(),(t,u)=>{const p=(0,s.up)("icon"),g=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[t9t,(0,s._)("div",e9t,[(0,s._)("div",r9t,[(0,s._)("div",a9t,[(0,s.wy)((0,s._)("select",{disabled:!o.value,"onUpdate:modelValue":u[0]||(u[0]=t=>(0,ke.SU)(e).category_id=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"},[l9t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t},(0,wt.zw)(t.name),9,o9t)))),128))],8,s9t),[[a.bM,(0,ke.SU)(e).category_id]])])]),(0,s._)("button",{onClick:u[1]||(u[1]=t=>r.value=!r.value),class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(p,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.Wm)(g,{visible:r.value,closeable:!0,onCancel:u[4]||(u[4]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",i9t,[w9t,(0,s._)("div",n9t,[(0,s._)("div",d9t,[(0,s._)("div",c9t,[u9t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":u[2]||(u[2]=t=>i.value.name=t),onInput:u[3]||(u[3]=t=>n.value.name=null),type:"text",class:(0,wt.C_)([[n.value.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Name",required:""},null,34),[[a.nr,i.value.name]]),n.value.name?((0,s.wg)(),(0,s.iD)("label",p9t,(0,wt.zw)(n.value.name),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",g9t,[(0,s._)("button",{onClick:c,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),h9t],8,m9t)])])])),_:1},8,["visible"])])}}};const b9t=f9t;var v9t=b9t;const x9t={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-10"},y9t={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},_9t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Basic Informations")],-1),k9t={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},C9t={class:"tw-col-span-2"},D9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),S9t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},z9t={class:"tw-col-span-2"},U9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"SKU",-1),q9t=["disabled"],P9t={key:0,class:"tw-block tw-mb-1 tw-mt-1 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},L9t={key:1,class:"tw-block tw-mb-1 tw-mt-1 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},W9t={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},A9t={class:"tw-col-span-2"},$9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Buying Price",-1),E9t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T9t={class:"tw-col-span-2"},F9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Selling Price",-1),j9t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},V9t={class:"tw-col-span-2"},I9t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Description",-1),O9t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},H9t={class:"md:tw-col-span-5 tw-col-span-12 tw-w-full tw-rounded-md tw-flex tw-flex-col tw-gap-5 tw-h-fit"},M9t={class:"tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-overflow-hidden tw-h-fit"},R9t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Visibility")],-1),N9t={class:"tw-p-5"},Y9t={class:"tw-flex tw-items-center tw-gap-5"},Z9t=(0,s._)("span",null,"Visible",-1),K9t=(0,s._)("span",null,"Hidden",-1),B9t={class:"md:tw-col-span-5 tw-col-span-12"},Q9t={class:"tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-h-fit tw-overflow-hidden"},J9t=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Category")],-1),G9t={class:"tw-p-5 tw-space-y-4"},X9t={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-rounded-md tw-flex tw-flex-col tw-gap-2 tw-overflow-hidden tw-h-fit"},tte=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Rates")],-1),ete={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},rte={class:"tw-col-span-2 md:tw-col-span-1"},ate=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Confirmation",-1),ste={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lte={class:"tw-col-span-2 md:tw-col-span-1"},ote=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Delivery",-1),ite={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"};var wte={__name:"MainDetailsTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.f3)("errors"),l=(0,s.f3)("isUpdate");return(t,o)=>((0,s.wg)(),(0,s.iD)("div",x9t,[(0,s._)("div",y9t,[_9t,(0,s._)("div",k9t,[(0,s._)("div",C9t,[D9t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>(0,ke.SU)(e).name=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter product name...",required:""},null,512),[[a.nr,(0,ke.SU)(e).name]]),(0,ke.SU)(r).name?((0,s.wg)(),(0,s.iD)("label",S9t,(0,wt.zw)((0,ke.SU)(r).name),1)):(0,s.kq)("",!0)]),(0,s._)("div",z9t,[U9t,(0,s.wy)((0,s._)("input",{disabled:(0,ke.SU)(l),type:"text","onUpdate:modelValue":o[1]||(o[1]=t=>(0,ke.SU)(e).sku=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter product SKU...",required:""},null,8,q9t),[[a.nr,(0,ke.SU)(e).sku]]),(0,ke.SU)(l)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("label",P9t,"SKU should be unique for all products")),(0,ke.SU)(l)?((0,s.wg)(),(0,s.iD)("label",L9t,"SKU cannot be updated")):(0,s.kq)("",!0),(0,ke.SU)(r).sku?((0,s.wg)(),(0,s.iD)("label",W9t,(0,wt.zw)((0,ke.SU)(r).sku),1)):(0,s.kq)("",!0)]),(0,s._)("div",A9t,[$9t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[2]||(o[2]=t=>(0,ke.SU)(e).buying_price=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Buying price...",required:""},null,512),[[a.nr,(0,ke.SU)(e).buying_price]]),(0,ke.SU)(r).buying_price?((0,s.wg)(),(0,s.iD)("label",E9t,(0,wt.zw)((0,ke.SU)(r).buying_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",T9t,[F9t,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=t=>(0,ke.SU)(e).selling_price=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Selling price...",required:""},null,512),[[a.nr,(0,ke.SU)(e).selling_price]]),(0,ke.SU)(r).selling_price?((0,s.wg)(),(0,s.iD)("label",j9t,(0,wt.zw)((0,ke.SU)(r).selling_price),1)):(0,s.kq)("",!0)]),(0,s._)("div",V9t,[I9t,(0,s.Wm)(J7t,{modelValue:(0,ke.SU)(e).description,"onUpdate:modelValue":o[4]||(o[4]=t=>(0,ke.SU)(e).description=t)},null,8,["modelValue"]),(0,ke.SU)(r).description?((0,s.wg)(),(0,s.iD)("label",O9t,(0,wt.zw)((0,ke.SU)(r).description),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",H9t,[(0,s._)("div",M9t,[R9t,(0,s._)("div",N9t,[(0,s._)("div",Y9t,[(0,s._)("button",{onClick:o[5]||(o[5]=t=>(0,ke.SU)(e).status=!(0,ke.SU)(e).status),class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:(0,wt.C_)([[(0,ke.SU)(e).status&&"tw-bg-gray-700"],"tw-w-5 tw-h-5 tw-rounded-md tw-order tw-border-2 tw-border-solid tw-border-gray-600 tw-duration-200"])},null,2),Z9t]),(0,s._)("button",{onClick:o[6]||(o[6]=t=>(0,ke.SU)(e).status=!(0,ke.SU)(e).status),class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:(0,wt.C_)([[!(0,ke.SU)(e).status&&"tw-bg-gray-700"],"tw-w-5 tw-h-5 tw-rounded-md tw-order tw-border-2 tw-border-solid tw-border-gray-600 tw-duration-200"])},null,2),K9t])])])]),(0,s._)("div",B9t,[(0,s._)("div",Q9t,[J9t,(0,s._)("div",G9t,[(0,s.Wm)(v9t),(0,s.kq)("",!0)])])]),(0,s._)("div",X9t,[(0,s._)("div",null,[tte,(0,s._)("div",ete,[(0,s._)("div",rte,[ate,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[7]||(o[7]=t=>(0,ke.SU)(e).confirmation_rate=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Confirmation rate %",required:""},null,512),[[a.nr,(0,ke.SU)(e).confirmation_rate]]),(0,ke.SU)(r).confirmation_rate?((0,s.wg)(),(0,s.iD)("label",ste,(0,wt.zw)((0,ke.SU)(r).confirmation_rate),1)):(0,s.kq)("",!0)]),(0,s._)("div",lte,[ote,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":o[8]||(o[8]=t=>(0,ke.SU)(e).delivery_rate=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Delivery rate %",required:""},null,512),[[a.nr,(0,ke.SU)(e).delivery_rate]]),(0,ke.SU)(r).delivery_rate?((0,s.wg)(),(0,s.iD)("label",ite,(0,wt.zw)((0,ke.SU)(r).delivery_rate),1)):(0,s.kq)("",!0)])])])])])]))}};const nte=wte;var dte=nte;const cte={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},ute=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Add variation ",-1),pte={class:"tw-p-5 tw-bg-white"},gte={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},mte={class:"tw-col-span-2 md:tw-col-span-2"},hte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),fte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bte={class:"tw-col-span-2 md:tw-col-span-2"},vte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Color",-1),xte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},yte={class:"tw-col-span-2 md:tw-col-span-2"},_te=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Size",-1),kte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Cte={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Dte=["disabled"],Ste=(0,s._)("span",null,"Create",-1);var zte={__name:"ProductVariationAdd",emits:["create"],setup(t,{emit:e}){const r=e,l=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=(0,ke.iH)({}),w=(0,ke.iH)({}),n=()=>{if(!i.value.quantity)return Tc("Quantity is required","error"),!1;i.value.id=Date.now(),r("create",i.value),d()},d=()=>{i.value={},l.value=!1};return(t,e)=>{const r=(0,s.up)("icon"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value=!l.value),class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-aspect-square tw-rounded"},[(0,s.Wm)(r,{icon:"jam:plus",class:"tw"})]),(0,s.Wm)(c,{visible:l.value,closeable:!0,onCancel:e[7]||(e[7]=t=>l.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",cte,[ute,(0,s._)("div",pte,[(0,s._)("div",gte,[(0,s._)("div",mte,[hte,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.value.quantity=t),onInput:e[2]||(e[2]=t=>w.value.quantity=null),type:"number",class:(0,wt.C_)([[w.value.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"0",required:""},null,34),[[a.nr,i.value.quantity]]),w.value.quantity?((0,s.wg)(),(0,s.iD)("label",fte,(0,wt.zw)(w.value.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",bte,[vte,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.value.color=t),onInput:e[4]||(e[4]=t=>w.value.color=null),type:"text",class:(0,wt.C_)([[w.value.color&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"White, Black...",required:""},null,34),[[a.nr,i.value.color]]),w.value.color?((0,s.wg)(),(0,s.iD)("label",xte,(0,wt.zw)(w.value.color),1)):(0,s.kq)("",!0)]),(0,s._)("div",yte,[_te,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>i.value.size=t),onInput:e[6]||(e[6]=t=>w.value.size=null),type:"text",class:(0,wt.C_)([[w.value.size&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Small, Large...",required:""},null,34),[[a.nr,i.value.size]]),w.value.size?((0,s.wg)(),(0,s.iD)("label",kte,(0,wt.zw)(w.value.size),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",Cte,[(0,s._)("button",{onClick:d,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:n,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Ste],8,Dte)])])])),_:1},8,["visible"])])}}};const Ute=zte;var qte=Ute;const Pte={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Lte=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-gray-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Update variation ",-1),Wte={class:"tw-p-5 tw-bg-white"},Ate={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},$te={class:"tw-col-span-2 md:tw-col-span-2"},Ete=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),Tte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Fte={class:"tw-col-span-2 md:tw-col-span-2"},jte=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Color",-1),Vte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ite={class:"tw-col-span-2 md:tw-col-span-2"},Ote=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Size",-1),Hte={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Mte={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Rte=["disabled"],Nte=(0,s._)("span",null,"Create",-1);var Yte={__name:"ProductVariationUpdate",props:["variation"],emits:["update","cancel"],setup(t,{emit:e}){const r=t,l=e,o=(0,ke.iH)(!0),i=(0,ke.iH)(!1),w=(0,ke.iH)({...r.variation}),n=(0,ke.iH)({}),d=()=>{if(!w.value.quantity)return Tc("Quantity is required","error"),!1;l("update",w.value),c()},c=()=>{w.value=r.variation,o.value=!1,l("cancel")};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,{visible:o.value,closeable:!0,onCancel:e[6]||(e[6]=t=>o.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",Pte,[Lte,(0,s._)("div",Wte,[(0,s._)("div",Ate,[(0,s._)("div",$te,[Ete,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>w.value.quantity=t),onInput:e[1]||(e[1]=t=>n.value.quantity=null),type:"number",class:(0,wt.C_)([[n.value.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"0",required:""},null,34),[[a.nr,w.value.quantity]]),n.value.quantity?((0,s.wg)(),(0,s.iD)("label",Tte,(0,wt.zw)(n.value.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",Fte,[jte,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.value.color=t),onInput:e[3]||(e[3]=t=>n.value.color=null),type:"text",class:(0,wt.C_)([[n.value.color&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"White, Black...",required:""},null,34),[[a.nr,w.value.color]]),n.value.color?((0,s.wg)(),(0,s.iD)("label",Vte,(0,wt.zw)(n.value.color),1)):(0,s.kq)("",!0)]),(0,s._)("div",Ite,[Ote,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>w.value.size=t),onInput:e[5]||(e[5]=t=>n.value.size=null),type:"text",class:(0,wt.C_)([[n.value.size&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Small, Large...",required:""},null,34),[[a.nr,w.value.size]]),n.value.size?((0,s.wg)(),(0,s.iD)("label",Hte,(0,wt.zw)(n.value.size),1)):(0,s.kq)("",!0)])])]),(0,s._)("div",Mte,[(0,s._)("button",{onClick:c,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:i.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ct.t,{size:"small",class:(0,wt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Nte],8,Rte)])])])),_:1},8,["visible"])])}}};const Zte=Yte;var Kte=Zte;const Bte={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},Qte={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},Jte={class:"tw-p-2 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100"},Gte={class:"tw-p-1 tw-bg-white tw-border-y tw-border-solid tw-border-gray-100 tw-flex tw-items-center tw-justify-center tw-gap-2"},Xte={title:"Delete variation",class:"tw-aspect-square tw-scale-90 tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-rose-100 hover:tw-border-rose-400 tw-bg-rose-50/10 hover:tw-bg-rose-100 tw-duration-200"};var tee={__name:"ProductVariation",props:["variation"],emits:["update"],setup(t,{emit:e}){const r=t,a=e,l=(0,ke.iH)(!1),o=(0,ke.Vh)(r,"variation");return(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",{key:o.value,class:"tw-grid tw-grid-cols-4 tw-divide-x tw-text-center"},[(0,s._)("div",Bte,(0,wt.zw)(o.value.quantity),1),(0,s._)("div",Qte,(0,wt.zw)(o.value.color),1),(0,s._)("div",Jte,(0,wt.zw)(o.value.size),1),(0,s._)("div",Gte,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value=!0),title:"Delete variation",class:"tw-aspect-square tw-scale-90 tw-p-0.5 tw-w-[32px] tw-flex tw-items-center tw-justify-center tw-rounded tw-border tw-border-solid tw-border-amber-100 hover:tw-border-amber-400 tw-bg-amber-50/10 hover:tw-bg-amber-100 tw-duration-200"},[(0,s.Wm)(r,{icon:"lets-icons:edit-duotone",class:"tw-text-xl tw-text-amber-500"})]),(0,s._)("button",Xte,[(0,s.Wm)(r,{icon:"solar:trash-bin-trash-bold-duotone",class:"tw-text-xl tw-text-rose-500"})])]),l.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Kte),{key:0,variation:o.value,onUpdate:e[1]||(e[1]=t=>a("update",t))},null,8,["variation"])):(0,s.kq)("",!0)])}}};const eee=tee;var ree=eee;const aee={class:"tw-grid tw-grid-cols-12 tw-gap-5"},see={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},lee=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Variations")],-1),oee={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},iee={class:"tw-col-span-2 tw-flex tw-items-center tw-justify-between tw-mb-2"},wee=(0,s._)("p",null,"Does the product have variations ?",-1),nee=(0,s.uE)('<div class="tw-col-span-1"><label class="tw-block tw-text-sm tw-mb-2 tw-font-medium tw-text-gray-900 dark:tw-text-white"> Warehouse</label><div class="tw-relative"><select value="lebanon" class="tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"><option value="a" disabled>Choose warehouse</option><option value="lebanon">Lebanon</option></select></div></div>',1),dee={key:0,class:"tw-col-span-1"},cee=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Initial quantity",-1),uee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pee={key:0,class:"tw-col-span-2 tw-mt-5"},gee={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},mee=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Variations list",-1),hee={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fee={key:2,class:"tw-p-5 tw-bg-gray-100 tw-text-center"},bee=(0,s._)("p",null,"No variations added yet",-1),vee=[bee],xee={key:3,class:"tw-p-2 tw-bg-gray-100 tw-"},yee=(0,s._)("div",{class:"tw-grid tw-grid-cols-4 tw-mb-1 tw-text-center"},[(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Quantity"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Color"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Size"),(0,s._)("div",{class:"tw-p-2 tw-bg-gray-800 tw-text-white tw-rounded tw-border tw-border-dashed"},"Actions")],-1),_ee=(0,s.uE)('<div class="md:tw-col-span-5 tw-col-span-12 tw-h-fit"><div class="tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"><div class="tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"><h1 class="tw-font-semibold tw-text-white">Deliveries</h1></div><div class="tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"><div class="tw-col-span-2"><label class="tw-block tw-text-sm tw-mb-2 tw-font-medium tw-text-gray-900 dark:tw-text-white"> Can be delivered by</label><div class="tw-relative"><select value="road-runner" class="tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"><option value="a" disabled>Choose deliveries</option><option value="road-runner">Road Runner</option></select></div></div></div></div></div>',1);var kee={__name:"ProductStockTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.f3)("errors"),l=t=>{e.value.variations.unshift(t)},o=t=>{e.value.variations=e.value.variations.map((e=>e.id==t.id?t:e))};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",aee,[(0,s._)("div",see,[lee,(0,s._)("div",oee,[(0,s._)("div",iee,[wee,(0,s._)("button",{onClick:i[0]||(i[0]=t=>(0,ke.SU)(e).has_variations=!(0,ke.SU)(e).has_variations),class:"tw-p-1 tw-h-[35px] tw-w-[90px] tw-bg-gray-50 tw-border tw-border-solid tw-border-gray-200 tw-rounded"},[(0,s._)("div",{class:(0,wt.C_)([[(0,ke.SU)(e).has_variations?"tw-translate-x-full":""],"tw-w-[40px] tw-duration-200 tw-h-full tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded-sm tw-uppercase tw-text-center tw-font-medium tw-text-sm tw-flex tw-items-center tw-justify-center"])},(0,wt.zw)((0,ke.SU)(e).has_variations?"Yes":"No"),3)])]),nee,(0,ke.SU)(e).has_variations?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dee,[cee,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":i[1]||(i[1]=t=>(0,ke.SU)(e).initial_quantity=t),class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"0",required:""},null,512),[[a.nr,(0,ke.SU)(e).initial_quantity]]),(0,ke.SU)(r).initial_quantity?((0,s.wg)(),(0,s.iD)("label",uee,(0,wt.zw)((0,ke.SU)(r).initial_quantity),1)):(0,s.kq)("",!0)])),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]"},{default:(0,s.w5)((()=>[(0,ke.SU)(e).has_variations?((0,s.wg)(),(0,s.iD)("div",pee,[(0,s._)("div",gee,[mee,(0,s.Wm)((0,ke.SU)(qte),{onCreate:l})]),(0,ke.SU)(r).variations?((0,s.wg)(),(0,s.iD)("label",hee,(0,wt.zw)((0,ke.SU)(r).variations),1)):(0,s.kq)("",!0),Object.keys((0,ke.SU)(r)).find((t=>t.startsWith("variations.")))?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(Object.keys((0,ke.SU)(r)).filter((t=>t.startsWith("variations."))),(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(r)[t],(t=>((0,s.wg)(),(0,s.iD)("label",{key:t,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},(0,wt.zw)(t),1)))),128))])))),128)):(0,s.kq)("",!0),(0,ke.SU)(e).variations.length?((0,s.wg)(),(0,s.iD)("div",xee,[yee,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(e).variations,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(ree),{key:t,variation:t,onUpdate:o},null,8,["variation"])))),128))])):((0,s.wg)(),(0,s.iD)("div",fee,vee))])):(0,s.kq)("",!0)])),_:1})])]),_ee]))}};const Cee=kee;var Dee=Cee;class See{async store(t,e,r){return await E.getCookie(),W.post("api/temporary-file",{file:t,collection_name:e},r)}}var zee=new See;const Uee={class:"tw-aspect-square tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},qee={class:"tw-w-full tw-bg-gray-50"},Pee=["src"],Lee={class:"tw-text-sm tw-text-white tw-truncate"},Wee={class:"tw-relative"},Aee={key:0,class:"tw-absolute tw-h-full tw-flex tw-items-center tw-justify-center tw-w-full tw-bg-neutral-900/80 tw-backdrop-blur tw-border tw-border-gray-700 tw-border-solid tw-roundedx tw-top-0 tw-right-0"},$ee={class:"tw-max-w-2/3 tw-p-5 tw-flex tw-flex-col tw-gap-4"},Eee=(0,s._)("span",{class:"tw-text-lg"},"Delete",-1);var Tee={__name:"ImageCard",props:["file"],emits:["show-preview","update","delete"],setup(t,{emit:e}){const r=t,l=e,o=(0,ke.Vh)(r,"file"),i=(0,ke.iH)(!1),w=(0,ke.iH)(0),n={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(i.value=!1)}},d=async()=>(i.value=!0,zee.store(o.value.file,o.value.collection_name,n).then((t=>{if(t.data.uuid){const e={...o.value,uuid:t.data.uuid};l("update",o.value,e),console.log(e)}}),(t=>{console.log(t)})));return o.value.uuid||!o.value.is_new||i.value||d(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Uee,[(0,s._)("div",qee,[i.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,wt.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("img",{onClick:e[0]||(e[0]=t=>l("show-preview")),src:o.value.url,class:"tw-w-full tw-h-full tw-object-contain group-hover:tw-scale-105 tw-duration-200"},null,8,Pee),(0,s._)("div",{class:(0,wt.C_)([[o.value.showOptions&&"!tw-hidden"],"tw-p-2 tw-flex tw-items-center tw-justify-between group-hover:tw-translate-y-0 tw-absolute tw-bottom-0 tw-translate-y-full tw-duration-200 tw-w-full tw-h-fit tw-backdrop-blur-sm tw-bg-black/50 tw-left-0"])},[(0,s._)("p",Lee,(0,wt.zw)(o.value.name),1),(0,s._)("div",Wee,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"tabler:dots",class:"tw-text-3xl tw-text-white"})])])],2)]),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0","leave-to-class":"tw-opacity-0",mode:"out-in"},{default:(0,s.w5)((()=>[o.value.showOptions?((0,s.wg)(),(0,s.iD)("div",Aee,[(0,s._)("div",$ee,[(0,s._)("button",{onClick:e[2]||(e[2]=t=>l("delete")),class:"tw-flex tw-items-center tw-gap-2 tw-text-red-300 hover:tw-text-red-500 tw-duration-200"},[(0,s.Wm)(r,{icon:"mdi:trash-can-empty",class:"tw-text-xl"}),Eee])]),(0,s._)("button",{onClick:e[3]||(e[3]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})])])):(0,s.kq)("",!0)])),_:1})])])}}};const Fee=Tee;var jee=Fee;const Vee={class:"tw-aspect-square tw-group tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},Iee={class:"tw-w-full tw-h-full tw-bg-gray-50"},Oee=["controls","src"],Hee={class:"tw-text-sm tw-text-white tw-truncate"},Mee={class:"tw-relative"},Ree={key:0,class:"tw-absolute tw-h-full tw-flex tw-items-center tw-justify-center tw-w-full tw-bg-neutral-900/80 tw-backdrop-blur tw-border tw-border-gray-700 tw-border-solid tw-roundedx tw-top-0 tw-right-0"},Nee={class:"tw-max-w-2/3 tw-p-5 tw-flex tw-flex-col tw-gap-4"},Yee=(0,s._)("span",{class:"tw-text-lg"},"Delete",-1);var Zee={__name:"VideoCard",props:["file"],emits:["show-preview","update","delete"],setup(t,{emit:e}){const r=t,l=e,o=(0,ke.Vh)(r,"file"),i=(0,ke.iH)(null),w=(0,ke.iH)(0),n=(0,ke.iH)(!1),d=(0,ke.iH)(null),c=()=>{l("show-preview")},u={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(n.value=!1)}},p=async()=>(n.value=!0,zee.store(o.value.file,o.value.collection_name,u).then((t=>{if(t.data.uuid){const e={...o.value,uuid:t.data.uuid};l("update",o.value,e),console.log(e)}}),(t=>{console.log(t)})));return o.value.uuid||!o.value.is_new||n.value||p(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Vee,[(0,s._)("div",Iee,[n.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,wt.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("video",{ref_key:"video",ref:i,controls:d.value,preload:"false",src:o.value.url,class:"tw-w-full tw-h-full tw-object-contain tw-duration-200"},null,8,Oee),d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:c,class:"tw-absolute tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center group-hover:tw-scale-110 tw-duration-200 tw-bottom-1/2 tw-right-1/2 tw-translate-x-1/2 tw-translate-y-1/2 tw-p-5"},[(0,s.Wm)(r,{icon:"solar:play-circle-bold",class:"tw-text-7xl tw-drop-shadow-md tw-text-white"})])),(0,s._)("div",{class:(0,wt.C_)([[o.value.showOptions&&"!tw-hidden"],"tw-p-2 tw-flex tw-items-center tw-justify-between group-hover:tw-translate-y-0 tw-absolute tw-bottom-0 tw-translate-y-full tw-duration-200 tw-w-full tw-h-fit tw-backdrop-blur-sm tw-bg-black/50 tw-left-0"])},[(0,s._)("p",Hee,(0,wt.zw)(o.value.name),1),(0,s._)("div",Mee,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"tabler:dots",class:"tw-text-3xl tw-text-white"})])])],2)]),(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0","leave-to-class":"tw-opacity-0",mode:"out-in"},{default:(0,s.w5)((()=>[o.value.showOptions?((0,s.wg)(),(0,s.iD)("div",Ree,[(0,s._)("div",Nee,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l("delete")),class:"tw-flex tw-items-center tw-gap-2 tw-text-red-300 hover:tw-text-red-500 tw-duration-200"},[(0,s.Wm)(r,{icon:"mdi:trash-can-empty",class:"tw-text-xl"}),Yee])]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.value.showOptions=!o.value.showOptions),class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(r,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})])])):(0,s.kq)("",!0)])),_:1})])])}}};const Kee=Zee;var Bee=Kee;const Qee={key:0},Jee={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function Gee(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",Qee,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",Jee,[(0,s.Wm)(It.Z5,null,{default:(0,s.w5)((()=>[o.showContent?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] !tw-overflow-auto !tw-max-h-screen"},[(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)])),_:3}),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,wt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-backdrop-blur-sm tw-bg-black/20 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var Xee={props:{visible:{required:!0,default:!1},closeable:{required:!1,default:!0}},data(){return{showContent:!1}},watch:{visible(t){t?setTimeout((()=>{this.showContent=t}),0):this.showContent=t}},methods:{resolve(t){this.closeable&&this.$emit("cancel",t)}},computed:{},mounted(){this.showContent=this.visible},unmounted(){}};const tre=(0,m.Z)(Xee,[["render",Gee]]);var ere=tre;const rre={class:"tw-p-4"},are={key:0,class:"tw-mb-4"},sre={class:"tw-flex tw-justify-between tw-items-center"},lre=["disabled"],ore=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-6 tw-w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),ire=[ore],wre=["src","alt"],nre=["src"],dre={key:2},cre=["disabled"],ure=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-6 tw-w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),pre=[ure];var gre={__name:"MediaPreview",props:{files:{type:Array,required:!0},index:{type:Number,default:0},visible:{type:Boolean,default:!1}},emits:["update:visible","update:index"],setup(t,{emit:e}){const r=t,a=e,l=()=>{r.index>0&&a("update:index",r.index-1)},o=()=>{r.index<r.files.length-1&&a("update:index",r.index+1)},i=()=>{a("update:visible",!1)};return(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(ere,{"z-index":"100000",visible:r.visible,closeable:!0,onCancel:i},{default:(0,s.w5)((()=>[(0,s._)("button",{onClick:i,class:"hover:tw-bg-black/10 tw-rounded tw-absolute tw-top-2 tw-right-2 tw-duration-200 tw-p-1"},[(0,s.Wm)(a,{icon:"jam:close",class:"tw-text-3xl tw-text-white"})]),(0,s._)("div",rre,[r.files.length>0?((0,s.wg)(),(0,s.iD)("div",are,[(0,s._)("div",sre,[(0,s._)("button",{onClick:l,disabled:0===r.index,class:"tw-px-2 tw-py-1 tw-rounded tw-bg-gray-200 tw-text-gray-700 tw-disabled:opacity-50"},ire,8,lre),(0,s._)("div",null,[r.files[r.index].type.startsWith("image/")?((0,s.wg)(),(0,s.iD)("img",{key:0,src:r.files[r.index].url,alt:r.files[r.index].name,class:"tw-max-w-full tw-h-auto tw-max-h-[calc(100vh-200px)]"},null,8,wre)):r.files[r.index].type.startsWith("video/")?((0,s.wg)(),(0,s.iD)("video",{key:1,src:r.files[r.index].url,controls:"",class:"tw-max-w-full tw-h-auto tw-max-h-[calc(100vh-200px)]"},null,8,nre)):((0,s.wg)(),(0,s.iD)("div",dre,(0,wt.zw)(r.files[r.index].name)+" ("+(0,wt.zw)(r.files[r.index].type)+") ",1))]),(0,s._)("button",{onClick:o,disabled:r.index===r.files.length-1,class:"tw-px-2 tw-py-1 tw-rounded tw-bg-gray-200 tw-text-gray-700 tw-disabled:opacity-50"},pre,8,cre)])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])}}};const mre=gre;var hre=mre;const fre={class:"tw-fixed tw-bottom-4 tw-right-3 tw-z-[1000]"},bre=["multiple"],vre={class:"tw-px-5 tw-mt-5 tw-flex tw-items-center tw-gap-5 tw-justify-between"},xre={class:"tw-text-lg tw-font-medium tw-pl-5 tw-py-1 tw-border-l-2 tw-border-solid tw-border-orange-400"},yre=(0,s._)("span",null,"Upload",-1),_re={class:"tw-p-5"},kre={key:0,class:"tw-p-4 tw-bg-gray-100 tw-rounded tw-text-center tw-border tw-border-solid"},Cre=(0,s._)("p",{class:"tw-font-medium tw-text-lg tw-text-gray-600"}," No media has been added yet ",-1),Dre=[Cre],Sre={key:1,class:"tw-grid md:tw-grid-cols-4 lg:tw-grid-cols-4 xl:tw-grid-cols-6 tw-grid-cols-1 tw-gap-4"};var zre={__name:"MediaCollection",props:{label:{type:String,default:"Media"},collection:{type:String,default:"normal"},multiple:{type:Boolean,default:!0}},setup(t){const e=t,r=(0,s.f3)("product"),a=(0,ke.iH)(null),l=(0,ke.iH)(!1),o=(0,ke.iH)(0),i=(0,s.Fl)((()=>r.value.media.filter((t=>t.collection_name==e.collection)))),w=t=>{r.value.media=r.value.media.filter((e=>e.id!=t.id))},n=t=>{const a=t.target.files;for(const s of a){const t=s.type.startsWith("image/")?"image":s.type.startsWith("video/")?"video":"other";if("other"==t)return Tc("Only images and videos are supported","warning"),!1;const a=new FileReader;a.onload=()=>{r.value.media.push({id:Date.now(),name:s.name,url:a.result,file:s,type:s.type,category:t,is_new:!0,collection_name:e.collection})},a.readAsDataURL(s)}},d=t=>{o.value=t,l.value=!0},c=(t,e)=>{const a=r.value.media.indexOf(t);r.value.media[a]=e};return(t,r)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",fre,[(0,s._)("input",{ref_key:"imageFilePicker",ref:a,type:"file",name:"image-input",onChange:n,multiple:e.multiple,class:"tw-invisible tw-absolute tw-pointer-events-none"},null,40,bre)])])),(0,s.Wm)(hre,{files:i.value,visible:l.value,"onUpdate:visible":r[0]||(r[0]=t=>l.value=t),index:o.value,"onUpdate:index":r[1]||(r[1]=t=>o.value=t)},null,8,["files","visible","index"]),(0,s._)("div",vre,[(0,s._)("h1",xre,(0,wt.zw)(e.label),1),e.multiple||!e.multiple&&!i.value.length?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[2]||(r[2]=t=>a.value.click()),class:"tw-bg-gray-200 tw-flex tw-items-center tw-gap-2 tw-pr-6 tw-pl-4 tw-py-1 tw-rounded tw-text-gray-700 tw-border tw-border-solid tw-duration-200 hover:tw-border-gray-700"},[(0,s.Wm)(u,{icon:"mynaui:upload",class:"tw-text-xl"}),yre])):(0,s.kq)("",!0)]),(0,s._)("div",_re,[i.value.length?((0,s.wg)(),(0,s.iD)("div",Sre,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.id},["image"==t.category?((0,s.wg)(),(0,s.j4)((0,ke.SU)(jee),{key:0,file:t,onUpdate:c,onShowPreview:t=>d(e),onDelete:e=>w(t)},null,8,["file","onShowPreview","onDelete"])):(0,s.kq)("",!0),"video"==t.category?((0,s.wg)(),(0,s.j4)((0,ke.SU)(Bee),{key:1,file:t,onUpdate:c,onShowPreview:t=>d(e),onDelete:e=>w(t)},null,8,["file","onShowPreview","onDelete"])):(0,s.kq)("",!0)],64)))),128))])):((0,s.wg)(),(0,s.iD)("div",kre,Dre))])],64)}}};const Ure=zre;var qre=Ure,Pre={__name:"MediaTab",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)((0,ke.SU)(qre),{label:"Thumbnail",collection:"thumbnail",multiple:!1}),(0,s.Wm)((0,ke.SU)(qre),{label:"Images & Videos",collection:"normal"}),(0,s.Wm)((0,ke.SU)(qre),{label:"Facebook ADS",collection:"facebook_ads"}),(0,s.Wm)((0,ke.SU)(qre),{label:"TikTok ADS",collection:"tiktok_ads"})]))}};const Lre=Pre;var Wre=Lre;const Are={class:"tw-grid tw-grid-cols-12 tw-gap-5"},$re={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},Ere=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Landing pages")],-1),Tre={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},Fre={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-2"},jre={class:"tw-flex-1"},Vre=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Add Landing Page Link",-1),Ire={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-2"},Ore={class:"tw-p-5"},Hre={key:0,class:"tw-bg-gray-100 tw-p-5 tw-rounded tw-text-center"},Mre={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-flex-wrap"},Rre=["href"],Nre={class:"tw-text-sm"},Yre={class:"tw-flex tw-items-center tw-gap-2"},Zre=["href"],Kre=["onClick"],Bre=(0,s._)("div",{class:"md:tw-col-span-5"},null,-1),Qre={class:"md:tw-col-span-7 tw-col-span-12 tw-border tw-border-gray-400 tw-bg-white tw-w-full tw-overflow-hidden tw-rounded-md"},Jre=(0,s._)("div",{class:"tw-bg-gray-700 tw-border-b tw-border-solid tw-p-2"},[(0,s._)("h1",{class:"tw-font-semibold tw-text-white"},"Video links")],-1),Gre={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-p-5"},Xre={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-2"},tae={class:"tw-flex-1"},eae=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Add Video Link",-1),rae={class:"tw-flex tw-items-center tw-h-[42px] tw-gap-2"},aae={class:"tw-p-5"},sae={key:0,class:"tw-bg-gray-100 tw-p-5 tw-rounded tw-text-center"},lae={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-flex-wrap"},oae=["href"],iae={class:"tw-text-sm"},wae={class:"tw-flex tw-items-center tw-gap-2"},nae=["href"],dae=["onClick"];var cae={__name:"MetadataTab",setup(t){const e=(0,s.f3)("product"),r=((0,s.f3)("errors"),(0,ke.iH)("")),l=(0,s.Fl)((()=>e.value.metadata.filter((t=>"video_link"==t.meta_key)))),o=(0,ke.iH)(""),i=(0,s.Fl)((()=>e.value.metadata.filter((t=>"landing_page_link"==t.meta_key)))),w=()=>{const t={meta_key:"video_link",meta_value:r.value};e.value.metadata.push(t),r.value=""},n=t=>{e.value.metadata=e.value.metadata.filter((e=>!("landing_page_link"==e.meta_key&&e.meta_value==t)))},d=t=>{e.value.metadata=e.value.metadata.filter((e=>!("video_link"==e.meta_key&&e.meta_value==t)))},c=()=>{const t={meta_key:"landing_page_link",meta_value:o.value};e.value.metadata.push(t),o.value=""};return(t,e)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Are,[(0,s._)("div",$re,[Ere,(0,s._)("div",Tre,[(0,s._)("div",Fre,[(0,s._)("div",jre,[Vre,(0,s._)("div",Ire,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),type:"text",class:"tw-bg-gray-50 tw-border tw-flex-1 tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"https://www...",required:""},null,512),[[a.nr,o.value]]),(0,s._)("button",{onClick:c,class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(u,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.kq)("",!0)])])]),(0,s._)("div",Ore,[i.value.length?((0,s.wg)(),(0,s.iD)("div",Mre,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-px-4 tw-py-1 tw-flex tw-items-center tw-gap-4"},[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-uppercase"},[(0,s._)("span",Nre,"LP Link "+(0,wt.zw)(e+1),1)],8,Rre),(0,s._)("div",Yre,[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Zre),(0,s._)("button",{onClick:e=>n(t.meta_value),class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"flowbite:close-outline",class:"tw-text-xl tw-text-gray-500"})],8,Kre)])])))),128))])):((0,s.wg)(),(0,s.iD)("div",Hre," No landing pages has been added "))])]),Bre,(0,s._)("div",Qre,[Jre,(0,s._)("div",Gre,[(0,s._)("div",Xre,[(0,s._)("div",tae,[eae,(0,s._)("div",rae,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),class:"tw-bg-gray-50 tw-border tw-flex-1 tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"https://www...",required:""},null,512),[[a.nr,r.value]]),(0,s._)("button",{onClick:w,class:"tw-bg-gray-800 tw-text-white tw-p-1 tw-h-full tw-flex tw-items-center tw-justify-center tw-aspect-square tw-rounded-lg"},[(0,s.Wm)(u,{icon:"pepicons-pop:plus",class:"tw-text-white tw-text-xl"})])]),(0,s.kq)("",!0)])])]),(0,s._)("div",aae,[l.value.length?((0,s.wg)(),(0,s.iD)("div",lae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-px-4 tw-py-1 tw-flex tw-items-center tw-gap-4"},[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-uppercase"},[(0,s._)("span",iae,"Video Link "+(0,wt.zw)(e+1),1)],8,oae),(0,s._)("div",wae,[(0,s._)("a",{href:t.meta_value,target:"_blank",class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,nae),(0,s._)("button",{onClick:e=>d(t.meta_value),class:"tw-flex tw-items-center tw-p-1"},[(0,s.Wm)(u,{icon:"flowbite:close-outline",class:"tw-text-xl tw-text-gray-500"})],8,dae)])])))),128))])):((0,s.wg)(),(0,s.iD)("div",sae," No videos has been added "))])])])}}};const uae=cae;var pae=uae;const gae={class:"tw-pt-2 tw-pb-20x tw-overflow-hidden"},mae={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},hae={class:"tw-flex tw-items-center tw-gap-1 tw-w-fit tw-h-fit tw-p-1 tw-bg-gray-100 tw-rounded-md tw-border tw-border-solid tw-border-gray-200/80 tw-relative tw-z-10"},fae=["onClick"],bae=["disabled"],vae=(0,s._)("span",null,"Create",-1),xae={class:"tw-mt-4"};var yae={__name:"CreateProductView",setup(t){const e=[{key:"main-details-tab",component:dte,name:"Informations",icon:"clarity:help-info-solid",fields:["name","description","buying_price","selling_price","sku","status","offers","categories","tags"]},{key:"product-stock-tab",component:Dee,name:"Inventory",icon:"ic:round-warehouse",fields:["product_variations","warehouse","product_deliveries","has_variations","initial_quantity"]},{key:"media-tab",component:Wre,name:"Media",icon:"mdi:folder-media",fields:["media"]},{key:"metadata-tab",component:pae,name:"Metadata",icon:"dashicons:admin-links",fields:["metadata"]}],r=(0,ke.XI)(e[0]),l=(0,ke.iH)({}),o=(0,ke.iH)(!1),i=(0,ke.iH)({status:!0,tags:[],categories:[],variations:[],has_variations:!1,media:[],metadata:[],category_id:"",initial_quantity:0,description:""});(0,s.JJ)("product",i),(0,s.JJ)("errors",l);const w=async()=>{const t={...i.value,media:i.value.media.map((t=>({uuid:t.uuid,id:t.id,collection_name:t.collection_name})))};o.value=!0,await Z8t.create(t).then((t=>{"SUCCESS"==t.data.code&&(Tc("Product created successfully","success"),i.value={status:!0,tags:[],categories:[],variations:[],metadata:[],has_variations:!1,media:[],category_id:"",initial_quantity:0,description:""})}),(t=>{if(t?.response?.data?.errors&&422==t?.response.status)for(const e in t.response.data.errors)e.startsWith("variations.")?l.value[e]=t?.response?.data?.errors[e]:l.value[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return(t,n)=>{const d=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",gae,[(0,s._)("div",mae,[(0,s._)("div",hae,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("div",{key:t.key,onClick:e=>r.value=t,class:(0,wt.C_)([[r.value.key==t.key&&" tw-border-neutral-200 tw-bg-white",r.value.key!=t.key&&"tw-border-transparent hover:tw-bg-white tw-cursor-pointer hover:tw-border-neutral-200",Object.keys(l.value).find((e=>t.fields.includes(e)))&&"!tw-border-red-500 !tw-text-red-400"],"tw-flex tw-items-center tw-relative tw-gap-2 tw-px-8 tw-py-2 tw-rounded tw-duration-200 tw-border tw-border-solid"])},[(0,s.Wm)(d,{icon:t.icon,class:"tw-text-2xl"},null,8,["icon"]),(0,s._)("span",null,(0,wt.zw)(t.name),1)],10,fae))),64))]),(0,s._)("div",null,[(0,s._)("button",{disabled:o.value,class:(0,wt.C_)([[o.value&&"!tw-bg-gray-300 !tw-text-gray-600 tw-cursor-not-allowed"],"tw-bg-gray-800 hover:tw-bg-gray-900 tw-text-white tw-flex tw-items-center tw-gap-2 tw-pr-8 tw-pl-6 tw-py-3 tw-rounded"]),onClick:w},[o.value?((0,s.wg)(),(0,s.j4)(d,{key:0,icon:"eos-icons:three-dots-loading",class:"tw-text-2xl"})):((0,s.wg)(),(0,s.j4)(d,{key:1,icon:"mynaui:plus",class:"tw-text-2xl"})),vae],10,bae)])]),(0,s._)("div",xae,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(r.value.component),{product:i.value,"onUpdate:product":n[0]||(n[0]=t=>i.value=t)},null,40,["product"]))])),_:1})],1024))])])}}};const _ae=yae;var kae=_ae;const Cae={key:0,class:"tw-p-2"},Dae=(0,s.uE)('<div class="tw-w-2/5 tw-h-[60px] tw-bg-gray-200 tw-rounded tw-animate-pulse"></div><div class="tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"><div class="tw-col-span-8 tw-min-h-[500px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div><div class="tw-col-span-4 tw-min-h-[500px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div><div class="tw-col-span-8 tw-min-h-[200px] tw-bg-gray-200 tw-animate-pulse tw-rounded"></div></div>',2),Sae=[Dae],zae={key:1,class:"tw-pt-2 tw-pb-20x tw-overflow-hidden"},Uae={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},qae={class:"tw-flex tw-items-center tw-gap-1 tw-w-fit tw-h-fit tw-p-1 tw-bg-gray-100 tw-rounded-md tw-border tw-border-solid tw-border-gray-200/80 tw-relative tw-z-10"},Pae=["onClick"],Lae=["disabled"],Wae=(0,s._)("span",null,"Update",-1),Aae={class:"tw-mt-4"};var $ae={__name:"EditProductView",setup(t){const e=[{key:"main-details-tab",component:dte,name:"Informations",icon:"clarity:help-info-solid",fields:["name","description","buying_price","selling_price","sku","status","offers","categories","tags"]},{key:"product-stock-tab",component:Dee,name:"Inventory",icon:"ic:round-warehouse",fields:["product_variations","warehouse","product_deliveries","has_variations","initial_quantity"]},{key:"media-tab",component:Wre,name:"Media",icon:"mdi:folder-media",fields:["media"]},{key:"metadata-tab",component:pae,name:"Metadata",icon:"dashicons:admin-links",fields:["metadata"]}],r=(0,b.yj)(),l=(0,ke.iH)(!0),o=(0,ke.iH)(!1),i=(0,ke.XI)(e[0]),w=(0,ke.iH)({}),n=(0,ke.iH)({status:!0,tags:[],categories:[],variations:[],has_variations:!1,media:[],metadata:[],category_id:"",initial_quantity:0,description:""});(0,s.JJ)("product",n),(0,s.JJ)("isUpdate",!0),(0,s.JJ)("errors",w);const d=async t=>{l.value=!0,await Z8t.edit(t).then((t=>{"SUCCESS"==t.data.code&&(n.value=t.data.product)})),l.value=!1},c=async()=>{const t={...n.value,media:n.value.media.map((t=>({uuid:t.uuid,id:t.id,collection_name:t.collection_name})))};o.value=!0,await Z8t.update(r.params.id,t).then((t=>{"SUCCESS"==t.data.code&&Tc("Product updated successfully","success")}),(t=>{if(t?.response?.data?.errors&&422==t?.response.status)for(const e in t.response.data.errors)e.startsWith("variations.")?w.value[e]=t?.response?.data?.errors[e]:w.value[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return d(r.params.id),(t,r)=>{const d=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l.value?((0,s.wg)(),(0,s.iD)("div",Cae,Sae)):(0,s.kq)("",!0),l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",zae,[(0,s._)("div",Uae,[(0,s._)("div",qae,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("div",{key:t.key,onClick:e=>i.value=t,class:(0,wt.C_)([[i.value.key==t.key&&" tw-border-neutral-200 tw-bg-white",i.value.key!=t.key&&"tw-border-transparent hover:tw-bg-white tw-cursor-pointer hover:tw-border-neutral-200",Object.keys(w.value).find((e=>t.fields.includes(e)))&&"!tw-border-red-500 !tw-text-red-400"],"tw-flex tw-items-center tw-relative tw-gap-2 tw-px-8 tw-py-2 tw-rounded tw-duration-200 tw-border tw-border-solid"])},[(0,s.Wm)(d,{icon:t.icon,class:"tw-text-2xl"},null,8,["icon"]),(0,s._)("span",null,(0,wt.zw)(t.name),1)],10,Pae))),64))]),(0,s._)("div",null,[(0,s._)("button",{disabled:o.value,class:(0,wt.C_)([[o.value&&"!tw-bg-gray-300 !tw-text-gray-600 tw-cursor-not-allowed"],"tw-bg-gray-800 hover:tw-bg-gray-900 tw-text-white tw-flex tw-items-center tw-gap-2 tw-pr-8 tw-pl-6 tw-py-3 tw-rounded"]),onClick:c},[o.value?((0,s.wg)(),(0,s.j4)(d,{key:0,icon:"eos-icons:three-dots-loading",class:"tw-text-2xl"})):(0,s.kq)("",!0),Wae],10,Lae)])]),(0,s._)("div",Aae,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(i.value.component),{product:n.value,"onUpdate:product":r[0]||(r[0]=t=>n.value=t)},null,40,["product"]))])),_:1})],1024))])]))],64)}}};const Eae=$ae;var Tae=Eae;const Fae={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},jae={class:"tw-px-3"},Vae={class:"tw-mt-5x tw-flexx tw-items-centerx"},Iae={key:0},Oae={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Hae={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},Mae={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},Rae=["src"],Nae=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),Yae={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},Zae=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),Kae={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var Bae={__name:"ImportListView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)([]),a=async()=>{e.value=!0,await Z8t.imported().then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.kq)("",!0),(0,s._)("div",Fae,[(0,s._)("section",jae,[(0,s.kq)("",!0),(0,s._)("div",Vae,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Iae,[r.value.length?((0,s.wg)(),(0,s.iD)("div",Oae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(p7t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",Hae,[(0,s._)("div",Mae,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,Rae),Nae])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",Yae,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[Zae,(0,s._)("div",Kae,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const Qae=Bae;var Jae=Qae;const Gae={class:"py-5 px-2x tw-borderx tw-bg-whitex tw-w-full tw-rounded-mdx tw-mb-5"},Xae={class:"tw-px-3"},tse={class:"tw-mt-5x tw-flexx tw-items-centerx"},ese={key:0},rse={key:0,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},ase={key:1,class:"tw-h-[calc(100vh-150px)] tw-flex tw-w-full tw-items-center tw-justify-center tw-bg-white"},sse={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-5 tw-w-full"},lse=["src"],ose=(0,s._)("p",{class:"tw-text-3xl tw-font-semibold"},"No Data",-1),ise={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-4 tw-w-full"},wse=(0,s._)("div",{class:"tw-h-[400px] tw-bg-gray-300 tw-relative"},[(0,s._)("div",{class:"tw-w-[95px] tw-h-[40px] tw-bg-gray-200 tw-rounded tw-shadown tw-shadow-white tw-absolute tw-right-2 tw-bottom-2"})],-1),nse={vi:"",class:"tw-h-[100px] tw-flex tw-items-end tw-p-2"};var dse={__name:"WishlistView",setup(t){const e=(0,ke.iH)(!1),r=(0,ke.iH)([]),a=async()=>{e.value=!0,await Z8t.wishlisted().then((t=>{r.value=t.data.products.data}),(t=>{console.log(t)})),e.value=!1};return a(),(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.kq)("",!0),(0,s._)("div",Gae,[(0,s._)("section",Xae,[(0,s.kq)("",!0),(0,s._)("div",tse,[e.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ese,[r.value.length?((0,s.wg)(),(0,s.iD)("div",rse,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,ke.SU)(p7t),{key:t.id,product:t},null,8,["product"])))),128))])):((0,s.wg)(),(0,s.iD)("div",ase,[(0,s._)("div",sse,[(0,s._)("img",{src:t.$frontend("images/no-data.png"),alt:"",class:"tw-w-1/2 tw-max-w-[400px] tw-object-contain"},null,8,lse),ose])]))])),e.value?((0,s.wg)(),(0,s.iD)("div",ise,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(8,(t=>(0,s._)("div",{key:t,class:"tw-rounded tw-relative tw-border tw-border-solid tw-border-gray-200 tw-overflow-hidden tw-animate-pulse"},[wse,(0,s._)("div",nse,[(0,s.kq)("",!0)])]))),64))])):(0,s.kq)("",!0)])])])],64))}};const cse=dse;var use=cse;const pse={class:"tw-min-h-[calc(100dvh-148px)] tw-w-full tw-bg-white tw-rounded tw-overflow-hidden tw-p-5"},gse=(0,s.uE)('<div class="tw-grid tw-grid-cols-12 tw-gap-5"><div class="tw-col-span-full lg:tw-col-span-6 tw-flex tw-flex-col tw-gap-2 tw-animate-pulse"><div class="tw-h-[550px] tw-w-full tw-bg-gray-200 tw-p-5 tw-rounded"></div><div class="tw-w-full tw-grid tw-grid-cols-12 tw-gap-2"><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div><div class="tw-col-span-2 tw-aspect-square tw-bg-gray-100 tw-rounded"></div></div></div><div class="tw-col-span-full lg:tw-col-span-6 lg:tw-p-5 tw-animate-pulse"><div class="tw-w-full tw-h-[50px] tw-bg-gray-100 tw-rounded"></div><div class="tw-w-1/3 tw-h-[30px] tw-bg-gray-50 tw-mt-2 tw-rounded"></div><div class="tw-w-full tw-h-[300px] tw-bg-gray-50 tw-mt-10 tw-rounded"></div></div></div>',1),mse=[gse];function hse(t,e){return(0,s.wg)(),(0,s.iD)("div",pse,mse)}const fse={},bse=(0,m.Z)(fse,[["render",hse]]);var vse=bse,xse=r(1618);const yse={class:"tw-flex tw-flex-col tw-gap-4"},_se={class:"tw-h-[550px] tw-w-full tw-bg-gray-50 tw-border tw-border-solid tw-rounded tw-overflow-hidden"},kse=["src"],Cse={class:"tw-relative"},Dse=["onClick"],Sse=["src"];var zse={__name:"ProductImageSlider",setup(t){(0,xse.z2)();const e=(0,s.f3)("product"),r=(0,ke.iH)(e.value.thumbnail);return(t,a)=>{const l=(0,s.up)("swiper-slide"),o=(0,s.up)("swiper-container");(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",yse,[(0,s._)("div",_se,[(0,s._)("img",{class:"tw-h-full tw-w-full tw-object-contain tw-drop-shadow",src:r.value.url},null,8,kse)]),(0,s._)("div",Cse,[(0,s.Wm)(o,{ref:"swiper-container","slides-per-view":5.5,"space-between":8},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(e).media.filter((t=>["thumbnail","normal"].includes(t.collection_name))),(t=>((0,s.wg)(),(0,s.j4)(l,{key:t,navigation:!0},{default:(0,s.w5)((()=>[(0,s._)("button",{onClick:e=>r.value=t,class:(0,wt.C_)([[r.value.url==t.url&&"!tw-border-orange-500"],"tw-aspect-square tw-border-2 tw-border-solid tw-border-transparent tw-rounded tw-overflow-hidden tw-cursor-pointer"])},[(0,s._)("img",{src:t.url,class:"tw-w-full tw-h-full tw-object-cover"},null,8,Sse)],10,Dse)])),_:2},1024)))),128))])),_:1},512),(0,s.kq)("",!0),(0,s.kq)("",!0)])])}}};const Use=zse;var qse=Use;const Pse={class:"tw-w-full tw-h-[50px] md:tw-text-4xl tw-text-3xl tw-font-bold tw-rounded tw-truncate tw-font-[cairo]"},Lse={class:"tw-flex tw-items-center tw-gap-4"},Wse={key:0,class:"tw-w-fit tw-h-[30px] md:tw-text-xl tw-text-lg tw-font-bold tw-rounded tw-truncate tw-text-orange-500 tw-font-[cairo]"},Ase={class:"tw-px-4 tw-border-l tw-border-solid tw-border-gray-200 tw-flex tw-items-center tw-gap-4"},$se=(0,s._)("span",null,"SKU:",-1),Ese={class:"tw-mt-10 tw-w-full tw-rounded"},Tse=(0,s._)("div",{class:"tw-p-1 tw-px-10 tw-bg-orange-500 tw-text-white tw-w-fit tw-rounded-t"},"Pricing",-1),Fse={class:"tw-border-2 tw-border-solid tw-border-orange-500 tw-rounded-b tw-overflow-hidden tw-rounded-tr"},jse={class:"tw-w-full"},Vse=(0,s._)("thead",null,[(0,s._)("tr",{class:"tw-bg-gray-100"},[(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Variation"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Available"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Price")])],-1),Ise={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Ose={key:0},Hse={key:1,class:"tw-flex tw-items-center tw-gap-1"},Mse={key:0},Rse={key:1},Nse={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Yse={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Zse={class:"tw-mt-10 tw-w-full tw-rounded"},Kse=(0,s._)("div",{class:"tw-p-1 tw-px-10 tw-bg-emerald-500 tw-text-white tw-w-fit tw-rounded-t"},"Rates",-1),Bse={class:"tw-border-2 tw-border-solid tw-border-emerald-500 tw-rounded-b tw-overflow-hidden tw-rounded-tr"},Qse={class:"tw-w-full"},Jse=(0,s._)("thead",null,[(0,s._)("tr",{class:"tw-bg-gray-100"},[(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Confirmation"),(0,s._)("th",{class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},"Delivery")])],-1),Gse={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"},Xse={class:"tw-p-2 tw-text-start tw-border-r tw-border-solid tw-border-gray-200 last:tw-border-none"};var tle={__name:"ProductDetails",setup(t){const e=(0,s.f3)("product"),r=t=>{navigator.clipboard.writeText(t),Tc("Copied to clipboard")};return(t,a)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Pse,(0,wt.zw)((0,ke.SU)(e).name),1),(0,s._)("div",Lse,[(0,ke.SU)(e).category?((0,s.wg)(),(0,s.iD)("div",Wse,(0,wt.zw)((0,ke.SU)(e).category),1)):(0,s.kq)("",!0),(0,s._)("div",Ase,[$se,(0,s._)("button",{onClick:a[0]||(a[0]=t=>r((0,ke.SU)(e).sku)),class:"tw-py-0.5 tw-px-2 tw-bg-orange-50 tw-text-orange-500 tw-rounded tw-flex tw-items-center tw-gap-2"},[(0,s._)("span",null,(0,wt.zw)((0,ke.SU)(e).sku),1),(0,s.Wm)(l,{icon:"solar:copy-linear"})])])]),(0,s._)("div",Ese,[Tse,(0,s._)("div",Fse,[(0,s._)("table",jse,[Vse,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,ke.SU)(e).variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",Ise,[t.size||t.color?((0,s.wg)(),(0,s.iD)("div",Hse,[t.size?((0,s.wg)(),(0,s.iD)("span",Mse,(0,wt.zw)(t.size),1)):(0,s.kq)("",!0),t.color?((0,s.wg)(),(0,s.iD)("span",Rse,(0,wt.zw)(t.color),1)):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("span",Ose,"Default"))]),(0,s._)("td",Nse,(0,wt.zw)(t.available_quantity),1),(0,s._)("td",Yse,(0,wt.zw)((0,ke.SU)(c)+(0,ke.SU)(e).selling_price),1)])))),128))])])])]),(0,s._)("div",Zse,[Kse,(0,s._)("div",Bse,[(0,s._)("table",Qse,[Jse,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",Gse,(0,wt.zw)((0,ke.SU)(e).confirmation_rate)+"%",1),(0,s._)("td",Xse,(0,wt.zw)((0,ke.SU)(e).delivery_rate)+"%",1)])])])])]),(0,s.Wm)(X6t,{"is-card":!1,product:(0,ke.SU)(e)},null,8,["product"]),(0,s.kq)("",!0),(0,s.kq)("",!0)])}}};const ele=tle;var rle=ele;const ale={class:"tw-aspect-square tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},sle={class:"tw-w-full tw-bg-gray-50"},lle=["src"],ole=["download","href"];var ile={__name:"ImageCard",props:["file"],emits:["show-preview","update"],setup(t,{emit:e}){const r=t,a=e,l=(0,ke.Vh)(r,"file"),o=(0,s.f3)("product"),i=(0,ke.iH)(!1),w=(0,ke.iH)(0),n={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(i.value=!1)}},d=async()=>(i.value=!0,zee.store(l.value.file,l.value.collection_name,n).then((t=>{if(t.data.uuid){const e={...l.value,uuid:t.data.uuid};a("update",l.value,e),console.log(e)}}),(t=>{console.log(t)})));function c(t){const e=new URL(t),r=e.pathname,a=r.split(".").pop();return a.includes("/")?"":a}return l.value.uuid||!l.value.is_new||i.value||d(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ale,[(0,s._)("div",sle,[i.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,wt.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("img",{onClick:e[0]||(e[0]=t=>a("show-preview")),src:l.value.url,class:"tw-w-full tw-h-full tw-object-contain group-hover:tw-scale-105 tw-duration-200"},null,8,lle),(0,s._)("a",{target:"_blank",download:(0,ke.SU)(o).name+"-"+l.value.id+"."+c(l.value.url),href:l.value.url,class:"hover:tw-bg-black/50 tw-rounded tw-duration-200 tw-p-1 tw-absolute tw-bottom-4 tw-right-4 tw-bg-black/20 tw-backdrop-blur"},[(0,s.Wm)(r,{icon:"octicon:download-16",class:"tw-text-3xl tw-text-white"})],8,ole)])])])}}};const wle=ile;var nle=wle;const dle={class:"tw-aspect-square tw-group tw-border tw-border-solid tw-border-gray-500 tw-cursor-pointer tw-flex tw-items-center tw-justify-between tw-relative tw-overflow-hidden tw-group"},cle={class:"tw-w-full tw-h-full tw-bg-gray-50"},ule=["controls","src"],ple=["download","href"];var gle={__name:"VideoCard",props:["file"],emits:["show-preview","update"],setup(t,{emit:e}){const r=t,a=e,l=(0,ke.Vh)(r,"file"),o=(0,ke.iH)(null),i=(0,s.f3)("product"),w=(0,ke.iH)(0),n=(0,ke.iH)(!1),d=(0,ke.iH)(null),c=()=>{a("show-preview")},u={onUploadProgress:t=>{w.value=Math.round(100*t.loaded/t.total),w.value>=100&&(n.value=!1)}},p=async()=>(n.value=!0,zee.store(l.value.file,l.value.collection_name,u).then((t=>{if(t.data.uuid){const e={...l.value,uuid:t.data.uuid};a("update",l.value,e),console.log(e)}}),(t=>{console.log(t)})));function g(t){const e=new URL(t),r=e.pathname,a=r.split(".").pop();return a.includes("/")?"":a}return l.value.uuid||!l.value.is_new||n.value||p(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",dle,[(0,s._)("div",cle,[n.value?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,wt.j5)({width:w.value+"%"}),class:"tw-absolute tw-top-0 tw-h-[5px] tw-w-full tw-bg-orange-500 tw-duration-200"},null,4)):(0,s.kq)("",!0),(0,s._)("video",{ref_key:"video",ref:o,controls:d.value,preload:"false",src:l.value.url,class:"tw-w-full tw-h-full tw-object-contain tw-duration-200"},null,8,ule),d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:c,class:"tw-absolute tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center group-hover:tw-scale-110 tw-duration-200 tw-bottom-1/2 tw-right-1/2 tw-translate-x-1/2 tw-translate-y-1/2 tw-p-5"},[(0,s.Wm)(r,{icon:"solar:play-circle-bold",class:"tw-text-7xl tw-drop-shadow-md tw-text-white"})])),(0,s._)("a",{target:"_blank",download:(0,ke.SU)(i).name+"-"+l.value.id+"."+g(l.value.url),href:l.value.url,class:"hover:tw-bg-black/50 tw-rounded tw-duration-200 tw-p-1 tw-absolute tw-bottom-4 tw-right-4 tw-bg-black/20 tw-backdrop-blur"},[(0,s.Wm)(r,{icon:"octicon:download-16",class:"tw-text-3xl tw-text-white"})],8,ple)])])])}}};const mle=gle;var hle=mle;const fle={class:"tw-fixed tw-bottom-4 tw-right-3 tw-z-[1000]"},ble=["multiple"],vle={class:"tw-px-5 tw-mt-5 tw-flex tw-items-center tw-gap-5 tw-justify-between"},xle={class:"tw-text-lg tw-font-medium tw-pl-5 tw-py-1 tw-border-l-2 tw-border-solid tw-border-orange-400"},yle=(0,s._)("span",null,"Upload",-1),_le={class:"tw-p-5"},kle={key:0,class:"tw-p-4 tw-bg-gray-100 tw-rounded tw-text-center tw-border tw-border-solid"},Cle=(0,s._)("p",{class:"tw-font-medium tw-text-lg tw-text-gray-600"}," No media has been added yet ",-1),Dle=[Cle],Sle={key:1,class:"tw-grid md:tw-grid-cols-4 lg:tw-grid-cols-4 xl:tw-grid-cols-6 tw-grid-cols-1 tw-gap-4"};var zle={__name:"MediaCollection",props:{label:{type:String,default:"Media"},collection:{type:String,default:"normal"},multiple:{type:Boolean,default:!0},upload:{type:Boolean,default:!1}},setup(t){const e=t,r=(0,s.f3)("product"),a=(0,ke.iH)(null),l=(0,ke.iH)(!1),o=(0,ke.iH)(0),i=(0,s.Fl)((()=>r.value.media.filter((t=>t.collection_name==e.collection)))),w=t=>{const a=t.target.files;for(const s of a){const t=s.type.startsWith("image/")?"image":s.type.startsWith("video/")?"video":"other";if("other"==t)return Tc("Only images and videos are supported","warning"),!1;const a=new FileReader;a.onload=()=>{r.value.media.push({id:Date.now(),name:s.name,url:a.result,file:s,type:s.type,category:t,is_new:!0,collection_name:e.collection})},a.readAsDataURL(s)}},n=t=>{o.value=t,l.value=!0},d=(t,e)=>{const a=r.value.media.indexOf(t);r.value.media[a]=e};return(t,r)=>{const c=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",fle,[(0,s._)("input",{ref_key:"imageFilePicker",ref:a,type:"file",name:"image-input",onChange:w,multiple:e.multiple,class:"tw-invisible tw-absolute tw-pointer-events-none"},null,40,ble)])])),(0,s.Wm)(hre,{files:i.value,visible:l.value,"onUpdate:visible":r[0]||(r[0]=t=>l.value=t),index:o.value,"onUpdate:index":r[1]||(r[1]=t=>o.value=t)},null,8,["files","visible","index"]),(0,s._)("div",vle,[(0,s._)("h1",xle,(0,wt.zw)(e.label),1),e.upload?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[2]||(r[2]=t=>a.value.click()),class:"tw-bg-gray-200 tw-flex tw-items-center tw-gap-2 tw-pr-6 tw-pl-4 tw-py-1 tw-rounded tw-text-gray-700 tw-border tw-border-solid tw-duration-200 hover:tw-border-gray-700"},[(0,s.Wm)(c,{icon:"mynaui:upload",class:"tw-text-xl"}),yle])):(0,s.kq)("",!0)]),(0,s._)("div",_le,[i.value.length?((0,s.wg)(),(0,s.iD)("div",Sle,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.id},["image"==t.category?((0,s.wg)(),(0,s.j4)((0,ke.SU)(nle),{key:0,file:t,onUpdate:d,onShowPreview:t=>n(e)},null,8,["file","onShowPreview"])):(0,s.kq)("",!0),"video"==t.category?((0,s.wg)(),(0,s.j4)((0,ke.SU)(hle),{key:1,file:t,onUpdate:d,onShowPreview:t=>n(e)},null,8,["file","onShowPreview"])):(0,s.kq)("",!0)],64)))),128))])):((0,s.wg)(),(0,s.iD)("div",kle,Dle))])],64)}}};const Ule=zle;var qle=Ule;const Ple={class:"tw-min-h-[300px] tw-p-2x"},Lle={class:""};var Wle={__name:"AdvertisingTab",setup(t){(0,s.f3)("product");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",Ple,[(0,s._)("div",Lle,[(0,s.Wm)((0,ke.SU)(qle),{collection:"facebook_ads",label:"Facebook"}),(0,s.Wm)((0,ke.SU)(qle),{collection:"tiktok_ads",label:"TikTok"})])]))}};const Ale=Wle;var $le=Ale;const Ele={class:"tw-w-full tw-p-4 tw-text-gray-600"};var Tle={__name:"OverviewTab",setup(t){const e=(0,s.f3)("product");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",Ele,[(0,s.kq)("",!0),(0,s.Wm)((0,ke.SU)(J7t),{modelValue:(0,ke.SU)(e).description,"onUpdate:modelValue":r[0]||(r[0]=t=>(0,ke.SU)(e).description=t),editable:!1},null,8,["modelValue"])]))}};const Fle=Tle;var jle=Fle;const Vle={class:"tw-min-h-[400px] tw-px-4"},Ile={class:""},Ole=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold"},"Landing pages",-1),Hle={key:0,class:"tw-flex tw-flex-col tw-gap-2 tw-mt-4"},Mle=["href"],Rle={key:1,class:"tw-mt-4 tw-p-4 tw-bg-gray-100 tw-text-center"},Nle=(0,s._)("p",null,"No landing pages available",-1),Yle=[Nle],Zle={class:"tw-mt-5"},Kle=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold"},"Videos",-1),Ble={key:0,class:"tw-flex tw-flex-col tw-gap-2 tw-mt-4"},Qle=["href"],Jle={key:1,class:"tw-mt-4 tw-p-4 tw-bg-gray-100 tw-text-center"},Gle=(0,s._)("p",null,"No videos available",-1),Xle=[Gle];var toe={__name:"LinksTab",setup(t){const e=(0,s.f3)("product"),r=(0,s.Fl)((()=>e.value.metadata.filter((t=>"landing_page_link"==t.meta_key)))),a=(0,s.Fl)((()=>e.value.metadata.filter((t=>"video_link"==t.meta_key))));return(t,e)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Vle,[(0,s._)("div",Ile,[Ole,r.value.length?((0,s.wg)(),(0,s.iD)("div",Hle,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,((t,e)=>((0,s.wg)(),(0,s.iD)("a",{target:"_blank",href:t.meta_value,key:t,class:"tw-w-full tw-p-2 tw-flex tw-items-center tw-justify-between tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("span",null,"Landing Page link "+(0,wt.zw)(e+1),1),(0,s.Wm)(l,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Mle)))),128))])):((0,s.wg)(),(0,s.iD)("div",Rle,Yle))]),(0,s._)("div",Zle,[Kle,a.value.length?((0,s.wg)(),(0,s.iD)("div",Ble,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value,((t,e)=>((0,s.wg)(),(0,s.iD)("a",{target:"_blank",href:t.meta_value,key:t,class:"tw-w-full tw-p-2 tw-flex tw-items-center tw-justify-between tw-border tw-border-solid tw-border-gray-200"},[(0,s._)("span",null,"Video link "+(0,wt.zw)(e+1),1),(0,s.Wm)(l,{icon:"quill:link-out",class:"tw-text-xl tw-text-gray-500"})],8,Qle)))),128))])):((0,s.wg)(),(0,s.iD)("div",Jle,Xle))])])}}};const eoe=toe;var roe=eoe;const aoe={class:"tw-flex tw-items-center tw-gap-2"},soe=["onClick"],loe={class:"tw-bg-white tw-w-full tw-border tw-border-solid tw-border-gray-200"},ooe={class:"tw-mt-4 tw-overflow-hidden"};var ioe={__name:"TabContainer",setup(t){const e=[{key:"overview-tab",component:jle,name:"Overview",icon:"clarity:help-info-solid"},{key:"advertising-tab",component:$le,name:"Advertising Data",icon:"ic:sharp-ads-click"},{key:"links-tab",component:roe,name:"Links",icon:"lucide:link"}],r=(0,s.f3)("product"),l=(0,ke.XI)(e[0]);return(t,o)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",aoe,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(t=>(0,s._)("button",{key:t.key,onClick:e=>l.value=t,class:(0,wt.C_)([[t==l.value&&"tw-bg-orange-400 !tw-text-white"],"tw-bg-white tw-text-gray-600 tw-flex tw-items-center tw-duration-200 tw-gap-2 tw-px-4 tw-py-2 tw-rounded-t tw-border tw-border-b-0 tw-border-solid tw-border-gray-200"])},[(0,s.Wm)(i,{icon:t.icon,class:"tw-text-xl"},null,8,["icon"]),(0,s._)("span",null,(0,wt.zw)(t.name),1)],10,soe))),64))]),(0,s._)("div",loe,[(0,s._)("div",ooe,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-opacity-0 tw-translate-x-[10px]","leave-to-class":"tw-opacity-0 -tw-translate-x-[10px]",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(l.value.component),{product:(0,ke.SU)(r),"onUpdate:product":o[0]||(o[0]=t=>(0,ke.dq)(r)?r.value=t:null)},null,40,["product"]))])),_:1})],1024))])])])}}};const woe=ioe;var noe=woe;const doe={class:"tw-p-2"},coe=(0,s._)("span",null,"Go Back",-1),uoe={class:"tw-p-2"},poe={key:1,class:"tw-min-h-fit tw-w-full tw-bg-white tw-rounded tw-overflow-hidden tw-p-5 tw-border tw-border-solid tw-border-gray-200"},goe={class:"tw-grid tw-grid-cols-12 tw-gap-5"},moe={class:"tw-col-span-full lg:tw-col-span-6"},hoe={class:"tw-col-span-full lg:tw-col-span-6 lg:tw-p-5"},foe={key:2,class:"tw-mt-5"};var boe={__name:"ShowProductView",setup(t){const e=(0,b.yj)(),r=(0,ke.iH)(!1),a=(0,ke.iH)({});(0,s.JJ)("product",a),(0,s.JJ)("loading",r);const l=async t=>{r.value=!0,await Z8t.get(t).then((t=>{"SUCCESS"==t.data.code&&(a.value=t.data.product),console.log(t)}),(t=>{console.log(t)})),r.value=!1};return l(e.params.id),(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",doe,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$router.go(-1)),class:"tw-text-gray-600 tw-flex tw-items-center tw-gap-1 tw-duration-200 hover:tw-text-gray-700"},[(0,s.Wm)(a,{icon:"iconamoon:arrow-left-2",class:"tw-text-3xl tw-text-gray-400"}),coe])]),(0,s._)("div",uoe,[r.value?((0,s.wg)(),(0,s.j4)((0,ke.SU)(vse),{key:0})):((0,s.wg)(),(0,s.iD)("div",poe,[(0,s._)("div",goe,[(0,s._)("div",moe,[(0,s.Wm)((0,ke.SU)(qse))]),(0,s._)("div",hoe,[(0,s.Wm)((0,ke.SU)(rle))])])])),r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",foe,[(0,s.Wm)((0,ke.SU)(noe))]))])],64)}}};const voe=boe;var xoe=voe;const yoe={class:"tw-min-w-full tw-leading-normal"},_oe={class:""},koe={key:0},Coe=(0,s._)("div",{class:"tw-w-full tw-py-3 tw-bg-gray-50 group-even:tw-bg-white tw-rounded tw-min-w-[30px] tw-animate-pulse"},null,-1),Doe=[Coe],Soe={key:1},zoe={class:"tw-px-5 tw-py-3 tw-text-sm"},Uoe={class:"tw-px-5 tw-py-3 tw-text-sm"},qoe={class:"tw-px-5 tw-py-3 tw-text-sm"},Poe={class:"tw-px-5 tw-py-3 tw-text-sm"},Loe={class:"tw-px-5 tw-py-3 tw-text-sm"},Woe={class:"tw-px-5 tw-py-3 tw-text-sm"},Aoe={class:"tw-text-green-500"},$oe={class:"tw-px-5 tw-py-3 tw-text-sm"},Eoe={class:"tw-text-green-500"},Toe={class:"tw-px-5 tw-py-3 tw-text-sm"},Foe={class:"tw-text-green-500"},joe={key:1},Voe=["colspan"],Ioe=(0,s._)("div",{class:"tw-p-5 tw-bg-white tw-min-h-[250px] tw-text-gray-600 tw-flex tw-items-center tw-justify-center tw-text-lg"},[(0,s._)("p",null,"No results was found")],-1),Ooe=[Ioe];var Hoe={__name:"ProductSellerTable",setup(t){const e=(0,ke.iH)(!1),r=(0,s.f3)("product",{}),a=(0,s.Fl)((()=>r.value.sellers)),l=(0,ke.iH)([{name:"seller",label:"Seller",classes:["tw-w-[220px]x"]},{name:"orders",label:"Orders",classes:["tw-w-[150px]"]},{name:"quantity",label:"Quantity",classes:["tw-w-[150px]"]},{name:"confirmation",label:"Confirmation",classes:["tw-w-[220px]"]},{name:"delivery",label:"Delivery",classes:["tw-w-[220px]"]},{name:"revenue",label:"Seller Revenue",classes:["tw-w-[200px]"]},{name:"expenses",label:"Expenses",classes:["tw-w-[200px]"]},{name:"profit",label:"Estimated Profit",classes:["tw-w-[200px]"]}]);return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("table",yoe,[(0,s._)("thead",_oe,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.name,class:(0,wt.C_)([t.classes,"tw-px-5 last:tw-border-e-0 tw-whitespace-nowrap tw-border-e tw-py-3 tw-border-b tw-borderx tw-border-gray-100 tw-bg-gray-50 tw-text-start tw-text-[12px] tw-font-semibold tw-text-gray-600 tw-uppercase tw-tracking-wider"])},(0,wt.zw)(t.label),3)))),128))])]),e.value?((0,s.wg)(),(0,s.iD)("tbody",koe,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("tr",{class:"tw-border-b tw-border-solid tw-border-gray-100 last:tw-border-b-0 tw-group even:tw-bg-gray-50/50",key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,(t=>((0,s.wg)(),(0,s.iD)("td",{key:t.name,class:"tw-px-2 tw-py-3"},Doe)))),128))]))),64))])):((0,s.wg)(),(0,s.iD)("tbody",Soe,[a.value.length>0?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(a.value,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-border-b tw-border-solid tw-border-gray-100 last:tw-border-b-0 tw-group even:tw-bg-gray-50/50 hover:tw-bg-primary-50/60 tw-duration-100"},[(0,s._)("td",zoe,[(0,s._)("p",null,(0,wt.zw)(t.username),1)]),(0,s._)("td",Uoe,[(0,s._)("p",null,(0,wt.zw)(t.orders_count),1)]),(0,s._)("td",qoe,[(0,s._)("p",null,(0,wt.zw)(t.total_quantity),1)]),(0,s._)("td",Poe,[(0,s._)("p",null,(0,wt.zw)(t.confirmation_rate)+"%",1)]),(0,s._)("td",Loe,[(0,s._)("p",null,(0,wt.zw)(t.delivery_rate)+"%",1)]),(0,s._)("td",Woe,[(0,s._)("p",Aoe,(0,wt.zw)((0,ke.SU)(c))+" "+(0,wt.zw)(t.revenue),1)]),(0,s._)("td",$oe,[(0,s._)("p",Eoe,(0,wt.zw)((0,ke.SU)(c))+" "+(0,wt.zw)(t.product_expenses),1)]),(0,s._)("td",Toe,[(0,s._)("p",Foe,(0,wt.zw)((0,ke.SU)(c))+" "+(0,wt.zw)(t.product_profit),1)])])))),128)):((0,s.wg)(),(0,s.iD)("tr",joe,[(0,s._)("td",{colspan:l.value.length},Ooe,8,Voe)]))]))])]))}};const Moe=Hoe;var Roe=Moe;const Noe={key:0,class:"tw-p-2"},Yoe={class:"tw-p-2 tw-text-lg tw-font-bold"},Zoe={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-mt-2"},Koe={class:"tw-min-h-[100px] tw-grid tw-grid-cols-4 tw-col-span-12 tw-gap-2"},Boe={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},Qoe={class:"tw-flex tw-items-center tw-gap-4"},Joe=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Sellers",-1),Goe={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},Xoe={class:"tw-text-2xl tw-font-bold tw-ml-auto"},tie={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},eie={class:"tw-flex tw-items-center tw-gap-4"},rie=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Orders",-1),aie={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},sie={class:"tw-text-2xl tw-font-bold tw-ml-auto"},lie={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},oie={class:"tw-flex tw-items-center tw-gap-4"},iie=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Imported",-1),wie={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},nie={class:"tw-text-2xl tw-font-bold tw-ml-auto"},die={class:"tw-p-4 tw-bg-white tw-border tw-boder-solid tw-border-gray-300 tw-rounded"},cie={class:"tw-flex tw-items-center tw-gap-4"},uie=(0,s._)("p",{class:"tw-text-xl tw-font-semibold"},"Wishlisted",-1),pie={class:"tw-mt-2 tw-w-full tw-flex tw-justify-end tw-pr-5"},gie={class:"tw-text-2xl tw-font-bold tw-ml-auto"},mie={class:"tw-mt-2 tw-overflow-hidden tw-bg-white tw-border tw-border-solid tw-border-gray-300 tw-rounded"};var hie={__name:"ShowAffiliateProduct",setup(t){const e=(0,b.yj)(),r=(0,ke.iH)(!0),a=(0,ke.iH)(null);(0,s.JJ)("product",a);const l=async t=>{r.value=!0,await Z8t.details(t).then((t=>{"SUCCESS"==t.data.code&&(a.value=t.data.product)})).catch((t=>{console.log(t)})),r.value=!1};return l(e.params.id),(t,e)=>{const l=(0,s.up)("icon");return r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Noe,[(0,s._)("div",Yoe,(0,wt.zw)(a.value.name),1),(0,s._)("div",Zoe,[(0,s._)("div",Koe,[(0,s._)("div",Boe,[(0,s._)("div",Qoe,[(0,s.Wm)(l,{icon:"heroicons:user-group-20-solid",class:"tw-text-4xl tw-text-sky-400"}),Joe]),(0,s._)("div",Goe,[(0,s._)("p",Xoe,(0,wt.zw)(a.value.sellers.length),1)])]),(0,s._)("div",tie,[(0,s._)("div",eie,[(0,s.Wm)(l,{icon:"fa-solid:boxes",class:"tw-text-4xl tw-text-amber-400"}),rie]),(0,s._)("div",aie,[(0,s._)("p",sie,(0,wt.zw)(a.value.orders_count),1)])]),(0,s._)("div",lie,[(0,s._)("div",oie,[(0,s.Wm)(l,{icon:"lets-icons:import-fill",class:"tw-text-4xl tw-text-green-400"}),iie]),(0,s._)("div",wie,[(0,s._)("p",nie,(0,wt.zw)(a.value.import_count),1)])]),(0,s._)("div",die,[(0,s._)("div",cie,[(0,s.Wm)(l,{icon:"mdi:heart",class:"tw-text-4xl tw-text-rose-400"}),uie]),(0,s._)("div",pie,[(0,s._)("p",gie,(0,wt.zw)(a.value.wishlist_count),1)])])])]),(0,s._)("div",mie,[(0,s.Wm)((0,ke.SU)(Roe))])]))}}};const fie=hie;var bie=fie;const vie={class:"tw-flex tw-flex-col tw-mt-5"},xie={class:"tw-overflow-x-auto"},yie={class:"tw-inline-block tw-min-w-full tw-align-middle"},_ie={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},kie={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Cie={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},Die={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Sie={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},zie=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No seller has imported this product ! ")])],-1),Uie=[zie],qie={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Pie={colspan:"11"},Lie={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Wie=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Aie=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),$ie=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Eie=[Aie,$ie],Tie={class:"tw-mt-6"};var Fie={__name:"IndexTable",setup(t){const e={per_page:10,current_page:1,from:1,to:10,last_page:1,total:1},r=(0,ke.iH)([{name:"Username",key:"username",class:[""]},{name:"Orders",key:"orders",class:["tw-w-[200px]"]},{name:"Added",key:"added",class:["tw-w-[200px]"]}]),a=(0,ke.iH)(!1),l=(0,ke.iH)([]);return(t,o)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vie,[(0,s._)("div",xie,[(0,s._)("div",yie,[(0,s._)("div",_ie,[(0,s._)("table",kie,[(0,s._)("thead",Cie,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,wt.C_)([[t.class],"tw-px-4 tw-w-fit tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"]),scope:"col"},(0,wt.zw)(t.name),3)))),128))])]),!a.value&&l.value.length>0?((0,s.wg)(),(0,s.iD)("tbody",Die)):(0,s.kq)("",!0),a.value||0!=l.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Sie,Uie)),a.value?((0,s.wg)(),(0,s.iD)("tbody",qie,[(0,s._)("tr",null,[(0,s._)("td",Pie,[(0,s._)("div",Lie,[Wie,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.per_page-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Eie)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Tie,[(0,s.Wm)((0,ke.SU)(Xbt),{from:e.from,to:e.to,"last-page":e.last_page,"per-page":e.per_page,total:e.total,"current-page":e.current_page,onPageChange:o[0]||(o[0]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const jie=Fie;var Vie=jie;const Iie={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Oie={class:"tw-px-3"},Hie=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Product Sellers")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of sellers working on this product. ")])],-1);var Mie={__name:"ProductSellerListView",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",Iie,[(0,s._)("section",Oie,[Hie,(0,s._)("div",null,[(0,s.Wm)(Vie)])])]))}};const Rie=Mie;var Nie=Rie,Yie={name:"affiliate",path:"/affiliate",component:Wa,meta:{module:"affiliate"},children:[{name:"affiliate.admin.list",path:"admin/products",component:T7t,meta:{module:"affiliate",subModule:"affiliate.admin.list",title:"Affiliate Products",role:["admin","affiliate-manager"]}},{name:"affiliate.admin.show",path:"admin/products/:id",component:bie,meta:{module:"product",subModule:"affiliate.admin.show",title:"Affiliate Product",role:["admin","affiliate-manager"]}},{name:"affiliate.admin.create",path:"admin/products/create",component:kae,meta:{module:"affiliate",subModule:"affiliate.create",title:"Create Affiliate Product",role:["admin","affiliate-manager"]}},{name:"affiliate.admin.edit",path:"admin/products/:id/edit",component:Tae,meta:{module:"affiliate",subModule:"affiliate.edit",title:"Edit Affiliate Product",role:["admin","affiliate-manager"]}},{name:"affiliate.index",path:"products",component:q7t,meta:{module:"affiliate",subModule:"affiliate.index",title:"Affiliate Products",role:["admin","seller","affiliate-manager"]}},{name:"affiliate.show",path:"products/:id",component:xoe,meta:{module:"affiliate",subModule:"affiliate.show",title:"Product Details",role:["admin","seller","affiliate-manager"]}},{name:"affiliate.show.sellers",path:"products/:id/sellers",component:Nie,meta:{module:"affiliate",subModule:"affiliate.show.sellers",title:"Product Sellers",role:["admin"]}},{name:"affiliate.import",path:"products/imported",component:Jae,meta:{module:"affiliate",subModule:"affiliate.import",title:"Import List",role:["admin","seller"]}},{name:"affiliate.wishlist",path:"products/wishlisted",component:use,meta:{module:"affiliate",subModule:"affiliate.wishlist",title:"My wishlist",role:["admin","seller"]}}]};class Zie{async getOrdersCountByDays(t){return await E.getCookie(),A.get("api/analytics/orders-count-by-days",{params:t})}async getRevenue(t){return await E.getCookie(),A.get("api/analytics/revenue",{params:t})}async getConfirmationsCount(t){return await E.getCookie(),A.get("api/analytics/confirmations-count",{params:t})}async getDeliveriesCount(t){return await E.getCookie(),A.get("api/analytics/deliveries-count",{params:t})}async getOrdersBySellers(t){return await E.getCookie(),A.get("api/analytics/orders-by-sellers",{params:t})}async getProductsPerformance(t){return await E.getCookie(),A.get("api/analytics/products-by-performance",{params:t})}}var Kie=new Zie;const Bie={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},Qie={class:"tw-flex tw-items-center tw-gap-2"},Jie=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Orders",-1),Gie={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Xie={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},twe={class:"tw-flex tw-items-center tw-gap-2"},ewe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Orders",-1),rwe={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},awe=(0,s._)("div",{class:"tw-h-[230px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1);var swe={__name:"OrdersCountChart",setup(t){const e=(0,s.f3)("register"),r=(0,s.f3)("filters"),a=(0,ke.iH)(!0),l=(0,ke.iH)(0),o=(0,ke.iH)([]),i=(0,s.Fl)((()=>({chart:{id:"vuechart-example",foreColor:"#000",toolbar:{show:!1}},xaxis:{categories:o.value.map((t=>ze()(t.date).format("MMM D")))},yaxis:{show:!1},stroke:{colors:["#000"]},fill:{type:"gradient",colors:["#000"],gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[50,90,100]}},dataLabels:{enabled:!0,style:{fontSize:"10px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff",padding:4,borderRadius:2,borderWidth:1,borderColor:"#fff",opacity:.9,backgroundColor:"#000",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}}}}))),w=(0,s.Fl)((()=>[{name:"Orders",data:o.value.map((t=>t.count))}])),n=async()=>{a.value=!0,await Kie.getOrdersCountByDays({from:r.value.date.start,to:r.value.date.end,sellers:r.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&(console.log(o),o.value=t.data.data,l.value=t.data.count)}),(t=>{console.log(t)})),a.value=!1};return n(),e(n),(t,e)=>{const r=(0,s.up)("apexchart"),o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Bie,[(0,s._)("div",Qie,[Jie,(0,s._)("p",Gie,(0,wt.zw)((new Intl.NumberFormat).format(l.value)),1)]),(0,s.Wm)(r,{type:"area",height:"220",options:i.value,series:w.value},null,8,["options","series"])])),a.value?((0,s.wg)(),(0,s.iD)("div",Xie,[(0,s._)("div",twe,[ewe,(0,s._)("p",rwe,[(0,s.Wm)(o,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),awe])):(0,s.kq)("",!0)],64)}}};const lwe=swe;var owe=lwe;const iwe={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},wwe={class:"tw-flex tw-items-center tw-gap-2"},nwe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),dwe={class:"tw-px-1 tw-bg-emerald-500 tw-text-white tw-text-sm tw-rounded"},cwe=(0,s.uE)('<div class="tw-flex tw-gap-x"><div class="tw-w-[250px] tw-p-5 tw-h-[230px] tw-flex tw-items-center tw-justify-center"><div class="tw-w-[90%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-aspect-square tw-animate-pulse"></div></div><div class="tw-w-[50%] tw-p-2 tw-h-[230px] tw-flex tw-justify-center tw-flex-col tw-gap-3"><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div></div></div>',1),uwe={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},pwe={class:"tw-flex tw-items-center tw-gap-2"},gwe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Confirmation",-1),mwe={class:"tw-px-1 tw-bg-emerald-500 tw-text-white tw-text-sm tw-rounded"},hwe={class:"tw-h-fullx tw-flex tw-gap-2"},fwe={class:"tw-w-fit tw-flex tw-items-center tw-h-full"},bwe={class:"tw-flex-1 tw-p-0 tw-flex tw-flex-col tw-gap-3 tw-justify-center"},vwe={class:"tw-text-xs tw-font-semibold"},xwe={class:"tw-text-xs"};var ywe={__name:"ConfirmationChart",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ke.iH)(!0),l=(0,ke.iH)(0),o=(0,ke.iH)(0),i=(0,ke.iH)({confirmations:[]}),w=(0,ke.iH)([77]),n=(0,s.Fl)((()=>({chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#111",fontSize:"16px",fontFamily:"cairo",fontWeight:"medium"},value:{formatter:function(t){return parseInt(t)+"%"},color:"#111",fontSize:"25px",fontFamily:"cairo",fontWeight:"bold",show:!0}}}},fill:{type:"gradient",colors:w.value[0]>50?["#10b981"]:["#f43f5e"],gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:w.value[0]>50?["#22c55e","#10b981"]:["#f43f5e","#e11d48"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Confirmed"]}))),d=async()=>{a.value=!0,await Kie.getConfirmationsCount({from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&c(t.data.data)}),(t=>{console.log(t)})),a.value=!1},c=t=>{l.value=t.reduce(((t,e)=>t+e.count),0);let e=[],r=t.find((t=>"double"==t.confirmation))?.count??0,a=r>0?(r/l.value*100).toFixed(0):0,s={name:"Double",value:r,percentage:`${a}%`,color:"#8b5cf6"},n=l.value-r,d=t.find((t=>null==t.confirmation))?.count??0,c=d>0?(d/n*100).toFixed(0):0,u={name:"New",value:d,percentage:`${c}%`,color:"#000"};e.push(u);let p=t.find((t=>"confirmer"==t.confirmation))?.count??0,g=p>0?(p/n*100).toFixed(0):0;o.value=p,w.value=[g],e.push(s);let m=t.find((t=>"annuler"==t.confirmation))?.count??0,h=m>0?(m/n*100).toFixed(0):0,f={name:"Canceled",value:m,percentage:`${h}%`,color:"#e11d48"};e.push(f);let b=t.reduce(((t,e)=>e.confirmation?.includes("-call-")?t+e.count:t),0),v=b>0?(b/n*100).toFixed(0):0,x={name:"No Answer",value:b,percentage:`${v}%`,color:"#f59e0b"};e.push(x);let y=t.find((t=>"wrong-number"==t.confirmation))?.count??0,_=y>0?(y/n*100).toFixed(0):0,k={name:"Wrong Number",value:y,percentage:`${_}%`,color:"#ec4899"};e.push(k);let C=l.value-(d+p+r+m+b+y),D=C>0?(C/n*100).toFixed(0):0,S={name:"Others",value:C,percentage:`${D}%`,color:"#64748b"};e.push(S),i.value.confirmations=e};return d(),r(d),(t,e)=>{const r=(0,s.up)("icon"),l=(0,s.up)("apexchart");return a.value?((0,s.wg)(),(0,s.iD)("div",iwe,[(0,s._)("div",wwe,[nwe,(0,s._)("p",dwe,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),cwe])):((0,s.wg)(),(0,s.iD)("div",uwe,[(0,s._)("div",pwe,[gwe,(0,s._)("p",mwe,(0,wt.zw)((new Intl.NumberFormat).format(o.value)),1)]),(0,s._)("div",hwe,[(0,s._)("div",fwe,[(0,s.Wm)(l,{type:"radialBar",height:"230",width:"230",options:n.value,series:w.value},null,8,["options","series"])]),(0,s._)("div",bwe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value.confirmations,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{style:(0,wt.j5)({background:t.color}),class:"tw-p-0 tw-px-1 tw-rounded tw-text-[10px] tw-font-bold tw-text-white tw-text-center tw-w-[35px]"},(0,wt.zw)(t.percentage),5),(0,s._)("p",vwe,[(0,s.Uk)((0,wt.zw)(t.name)+" ",1),(0,s._)("span",xwe,"("+(0,wt.zw)((new Intl.NumberFormat).format(t.value))+")",1)])])))),128))])])]))}}};const _we=ywe;var kwe=_we;const Cwe={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},Dwe={class:"tw-flex tw-items-center tw-gap-2"},Swe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Delivery",-1),zwe={class:"tw-px-1 tw-bg-sky-500 tw-text-white tw-text-sm tw-rounded"},Uwe=(0,s.uE)('<div class="tw-flex tw-gap-x"><div class="tw-w-[230px] tw-p-5 tw-h-[230px] tw-flex tw-items-center tw-justify-center"><div class="tw-w-[90%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-aspect-square tw-animate-pulse"></div></div><div class="tw-w-[50%] tw-p-2 tw-h-[230px] tw-flex tw-justify-center tw-flex-col tw-gap-3"><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div><div class="tw-w-[60%] tw-p-2 tw-bg-gray-100 tw-rounded-full tw-animate-pulse"></div></div></div>',1),qwe={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[300px]"},Pwe={class:"tw-flex tw-items-center tw-gap-2"},Lwe=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Delivery",-1),Wwe={class:"tw-px-1 tw-bg-sky-500 tw-text-white tw-text-sm tw-rounded"},Awe={class:"tw-h-fullx tw-flex tw-gap-2"},$we={class:"tw-w-fit"},Ewe={class:"tw-flex-1 tw-p-2 tw-flex tw-flex-col tw-gap-3 tw-justify-center"},Twe={class:"tw-text-xs tw-font-semibold"},Fwe={class:"tw-text-xs"};var jwe={__name:"DeliveryChart",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ke.iH)(!0),l=(0,ke.iH)(0),o=(0,ke.iH)(0),i=(0,ke.iH)({deliveries:[]}),w=(0,ke.iH)([27]),n=(0,s.Fl)((()=>({chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#111",fontSize:"16px",fontFamily:"cairo",fontWeight:"medium"},value:{formatter:function(t){return parseInt(t)+"%"},color:"#111",fontSize:"25px",fontFamily:"cairo",fontWeight:"bold",show:!0}}}},fill:{type:"gradient",colors:w.value[0]>50?["#38bdf8"]:["#f43f5e"],gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:w.value[0]>50?["#38bdf8","#06b6d4"]:["#f43f5e","#e11d48"],inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Delivered"]}))),d=async()=>{a.value=!0,await Kie.getDeliveriesCount({from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&c(t.data.data)}),(t=>{console.log(t)})),a.value=!1},c=t=>{l.value=t.reduce(((t,e)=>t+e.count),0);let e=[],r=(l.value,t.find((t=>"printed"==t.delivery))?.count??0),a=r>0?(r/l.value*100).toFixed(0):0,s={name:"Printed",value:r,percentage:`${a}%`,color:"#000"};e.push(s);let n=t.find((t=>"paid"==t.delivery))?.count??0,d=n>0?(n/l.value*100).toFixed(0):0,c={name:"Paid",value:n,percentage:`${d}%`,color:"#06b6d4"},u=t.find((t=>"cleared"==t.delivery))?.count??0,p=u>0?(u/l.value*100).toFixed(0):0,g=t.find((t=>"livrer"==t.delivery))?.count??0,m=g>0?(g/l.value*100).toFixed(0):0,h={name:"Delivered",value:g,percentage:`${m}%`,color:"#10b981"};e.push(h),o.value=g,w.value=[(parseFloat(m)+parseFloat(d)+parseFloat(p)).toFixed(2)],console.log(w.value);let f=t.find((t=>"transfer"==t.delivery))?.count??0,b=t.find((t=>"expidier"==t.delivery))?.count??0+f,v=b>0?(b/l.value*100).toFixed(0):0,x={name:"Shipped",value:b,percentage:`${v}%`,color:"#8b5cf6"};e.push(x),e.push(c);let y=t.find((t=>"retourner"==t.delivery))?.count??0+f,_=y>0?(y/l.value*100).toFixed(0):0,k={name:"Returned",value:y,percentage:`${_}%`,color:"#e11d48"};e.push(k);let C=t.find((t=>"dispatch"==t.delivery))?.count??0,D=C>0?(C/l.value*100).toFixed(0):0,S={name:"Dispatched",value:C,percentage:`${D}%`,color:"#f59e0b"};e.push(S);let z=l.value-(r+g+b+n+u+C),U=z>0?(z/l.value*100).toFixed(0):0,q={name:"Others",value:z,percentage:`${U}%`,color:"#64748b"};e.push(q),i.value.deliveries=e};return d(),r(d),(t,e)=>{const r=(0,s.up)("icon"),o=(0,s.up)("apexchart");return a.value?((0,s.wg)(),(0,s.iD)("div",Cwe,[(0,s._)("div",Dwe,[Swe,(0,s._)("p",zwe,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),Uwe])):((0,s.wg)(),(0,s.iD)("div",qwe,[(0,s._)("div",Pwe,[Lwe,(0,s._)("p",Wwe,(0,wt.zw)((new Intl.NumberFormat).format(l.value)),1)]),(0,s._)("div",Awe,[(0,s._)("div",$we,[(0,s.Wm)(o,{type:"radialBar",height:"230",width:"230",options:n.value,series:w.value},null,8,["options","series"])]),(0,s._)("div",Ewe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value.deliveries,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{style:(0,wt.j5)({background:t.color}),class:"tw-p-0 tw-px-1 tw-rounded tw-text-[10px] tw-font-bold tw-text-white tw-text-center tw-w-[35px]"},(0,wt.zw)(t.percentage),5),(0,s._)("p",Twe,[(0,s.Uk)((0,wt.zw)(t.name)+" ",1),(0,s._)("span",Fwe,"("+(0,wt.zw)((new Intl.NumberFormat).format(t.value))+")",1)])])))),128))])])]))}}};const Vwe=jwe;var Iwe=Vwe;const Owe={key:0,class:"tw-p-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200"},Hwe={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-5 tw-divide-x tw-gap-5"},Mwe={class:"tw-h-[125px] tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},Rwe={class:"tw-flex tw-items-center tw-gap-1"},Nwe=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Transaction Volume",-1),Ywe=(0,s._)("div",{class:"tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1),Zwe=(0,s.uE)('<div class="tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"><p class="tw-text-sm tw-text-gray-400">Gross Delivered</p><div class="tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"></div></div><div class="tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"><p class="tw-text-sm tw-text-gray-400">Gross Paid</p><div class="tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"></div></div><div class="tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"><p class="tw-text-sm tw-text-gray-400">Net Paid</p><div class="tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"></div></div><div class="tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"><p class="tw-text-sm tw-text-gray-400">AOV</p><div class="tw-h-[30px] tw-w-[120px] tw-bg-gray-100 tw-rounded tw-animate-pulse"></div></div>',4),Kwe={key:1,class:"tw-p-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200"},Bwe={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-5 tw-divide-x tw-gap-5"},Qwe={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},Jwe={class:"tw-flex tw-items-center tw-gap-1 tw-relative"},Gwe=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Transaction Volume",-1),Xwe={class:"tw-text-2xl tw-font-bold"},tne={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},ene=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Gross Delivered",-1),rne={class:"tw-text-2xl tw-font-bold"},ane={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},sne={class:"tw-font-bold tw-text-black"},lne={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},one=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Gross Paid",-1),ine={class:"tw-text-2xl tw-font-bold"},wne={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},nne={class:"tw-font-bold tw-text-black"},dne={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},cne=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"Net Paid",-1),une={class:"tw-text-2xl tw-font-bold"},pne={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},gne={class:"tw-font-bold tw-text-black"},mne={class:"tw-h-[150px]x tw-border-gray-100 tw-p-4 tw-pl-10 tw-flex tw-flex-col tw-gap-2"},hne=(0,s._)("p",{class:"tw-text-sm tw-text-gray-400"},"AOV",-1),fne={class:"tw-text-2xl tw-font-bold"},bne={class:"tw-text-sm tw-text-gray-400 tw-font-medium"},vne={class:"tw-font-bold tw-text-black"};var xne={__name:"FinanceData",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),a=(0,ke.iH)(!1),l=(0,ke.iH)({}),o=async()=>{a.value=!0,await Kie.getRevenue({from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{console.log(t.data),l.value=t.data.revenue}),(t=>{console.log(t)})),a.value=!1};return o(),r(o),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.value?((0,s.wg)(),(0,s.iD)("div",Owe,[(0,s._)("div",Hwe,[(0,s._)("div",Mwe,[(0,s._)("div",Rwe,[Nwe,(0,s.Wm)(r,{icon:"ph:info-light",class:"tw-text-lg tw-text-gray-400"})]),Ywe]),Zwe])])):(0,s.kq)("",!0),a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Kwe,[(0,s._)("div",Bwe,[(0,s._)("div",Qwe,[(0,s._)("div",Jwe,[Gwe,(0,s.Wm)(r,{icon:"ph:info-light",class:"tw-text-lg tw-text-gray-400 hover:tw-text-gray-600 tw-duration-200 tw-cursor-pointer"})]),(0,s._)("p",Xwe,[(0,s.Uk)((0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.sum_livrer+l.value.sum_paid))+" ",1),(0,s.kq)("",!0)]),(0,s.kq)("",!0)]),(0,s._)("div",tne,[ene,(0,s._)("p",rne,[(0,s.Uk)((0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.sum_livrer))+" ",1),(0,s.kq)("",!0)]),(0,s.kq)("",!0),(0,s._)("p",ane,[(0,s.Uk)("COD Fees: "),(0,s._)("span",sne,(0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.cod_fees)),1)])]),(0,s._)("div",lne,[one,(0,s._)("p",ine,[(0,s.Uk)((0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.sum_paid))+" ",1),(0,s.kq)("",!0)]),(0,s._)("p",wne,[(0,s.Uk)("Shipping Fees: "),(0,s._)("span",nne,(0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.shipping_fees)),1)])]),(0,s._)("div",dne,[cne,(0,s._)("p",une,[(0,s.Uk)((0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.net_paid))+" ",1),(0,s.kq)("",!0)]),(0,s._)("p",pne,[(0,s.Uk)("Other fees: "),(0,s._)("span",gne,(0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.other_fees)),1)])]),(0,s._)("div",mne,[hne,(0,s._)("p",fne,[(0,s.Uk)((0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format((l.value.sum_livrer+l.value.sum_paid)/l.value.count_orders_paid_delivered>0?(l.value.sum_livrer+l.value.sum_paid)/l.value.count_orders_paid_delivered:0))+" ",1),(0,s.kq)("",!0)]),(0,s._)("p",bne,[(0,s.Uk)("Profit per order: "),(0,s._)("span",vne,(0,wt.zw)(new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(l.value.cod_fees/l.value.count_orders_paid_delivered>0?l.value.cod_fees/l.value.count_orders_paid_delivered:0)),1)])])])]))],64)}}};const yne=xne;var _ne=yne;const kne={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[350px]x"},Cne={class:"tw-flex tw-items-start tw-justify-between"},Dne={class:"tw-flex tw-items-center tw-gap-2"},Sne=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Sellers",-1),zne={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Une={class:"tw-flex tw-items-center"},qne=(0,s._)("option",{value:"high"},"High to Low",-1),Pne=(0,s._)("option",{value:"low"},"Low to High",-1),Lne=[qne,Pne],Wne={class:"tw-p-4 tw-flex tw-gap-2 tw-items-center"},Ane=["disabled"],$ne=["disabled"],Ene={id:"chart"},Tne={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[550px]"},Fne={class:"tw-flex tw-items-center tw-gap-2"},jne=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Sellers",-1),Vne={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Ine=(0,s._)("div",{class:"tw-h-[500px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1);var One={__name:"SellerData",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),l=(0,ke.iH)("high"),o=(0,ke.iH)({}),i=(0,ke.iH)(!1),w=(0,ke.iH)(0);(0,s.YP)((()=>l.value),(()=>{c()}));const n=(0,ke.iH)([{name:"Orders",group:"budget",data:[]},{name:"Confirmed",group:"actual",data:[]}]),d=(0,ke.iH)({chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!1}},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:t=>t},plotOptions:{bar:{horizontal:!0}},xaxis:{categories:[],labels:{formatter:t=>t}},fill:{opacity:1},colors:["#000","#10b981"],legend:{position:"top",horizontalAlign:"left"}}),c=async(t=6,r=1)=>{i.value=!0,await Kie.getOrdersBySellers({per_page:t,page:r,order_by:l.value,from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&(u(t.data.data.data),o.value=t.data.data,w.value=o.value.total)}),(t=>{console.log(t)})),i.value=!1},u=t=>{const e=Object.keys(t);d.value.xaxis.categories=e;const r=e.map((e=>{const r=Object.keys(t[e]).reduce(((r,a)=>r+(t[e][a].order_count||0)),0),a=t[e]["confirmer"]?.order_count||0;return[r,a]}));n.value[0].data=r.map((t=>t[0])),n.value[1].data=r.map((t=>t[1]))},p=()=>{c(o.value.per_page,o.value.current_page+1)},g=()=>{c(o.value.per_page,o.value.current_page-1)};return c(),r(c),(t,e)=>{const r=(0,s.up)("icon"),c=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",kne,[(0,s._)("div",Cne,[(0,s._)("div",Dne,[Sne,(0,s._)("p",zne,(0,wt.zw)((new Intl.NumberFormat).format(w.value)),1)]),(0,s._)("div",Une,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"tw-h-[35px] tw-px-2 tw-outline-none tw-border tw-rounded tw-border-solid tw-border-gray-200 tw-w-[180px]"},Lne,512),[[a.bM,l.value]]),(0,s._)("div",Wne,[(0,s._)("button",{disabled:!o.value.prev_page_url,onClick:g,class:(0,wt.C_)([o.value.prev_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-left",class:"tw-text-3xl tw-text-gray-500"})],10,Ane),(0,s._)("button",{disabled:!o.value.next_page_url,onClick:p,class:(0,wt.C_)([o.value.next_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-right",class:"tw-text-3xl tw-text-gray-500"})],10,$ne)])])]),(0,s._)("div",null,[(0,s._)("div",Ene,[(0,s.Wm)(c,{type:"bar",height:"450",options:d.value,series:n.value},null,8,["options","series"])])])])),i.value?((0,s.wg)(),(0,s.iD)("div",Tne,[(0,s._)("div",Fne,[jne,(0,s._)("p",Vne,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),Ine])):(0,s.kq)("",!0)],64)}}};const Hne=One;var Mne=Hne;const Rne={key:0,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[350px]x"},Nne={class:"tw-flex tw-items-start tw-justify-between"},Yne={class:"tw-flex tw-items-center tw-gap-2"},Zne=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Products",-1),Kne={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},Bne={class:"tw-flex tw-items-center"},Qne=(0,s._)("option",{value:"high"},"High to Low",-1),Jne=(0,s._)("option",{value:"low"},"Low to High",-1),Gne=[Qne,Jne],Xne={class:"tw-p-4 tw-flex tw-gap-2 tw-items-center"},tde=["disabled"],ede=["disabled"],rde={id:"chart"},ade={key:1,class:"tw-bg-white tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-h-[550px]"},sde={class:"tw-flex tw-items-center tw-gap-2"},lde=(0,s._)("p",{class:"tw-p-2 tw-font-bold tw-text-lg"},"Products",-1),ode={class:"tw-px-1 tw-bg-black tw-text-white tw-text-sm tw-rounded"},ide=(0,s._)("div",{class:"tw-h-[500px] tw-w-full tw-bg-gray-100 tw-rounded tw-animate-pulse"},null,-1);var wde={__name:"TopProductChart",setup(t){const e=(0,s.f3)("filters"),r=(0,s.f3)("register"),l=(0,ke.iH)("high"),o=(0,ke.iH)({}),i=(0,ke.iH)(!0),w=(0,ke.iH)(0);(0,s.YP)((()=>l.value),(()=>{c()}));const n=(0,ke.iH)([{name:"Orders",group:"orders",data:[]},{name:"Quantity",group:"quantity",data:[]}]),d=(0,ke.iH)({chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!1}},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:t=>t},plotOptions:{bar:{horizontal:!0}},xaxis:{categories:[],labels:{show:!1,formatter:t=>t,trim:!0}},yaxis:{categories:[],labels:{show:!0,formatter:t=>t,trim:!0}},fill:{opacity:1},colors:["#000","#06b6d4"],legend:{position:"top",horizontalAlign:"left"}}),c=async(t=6,r=1)=>{i.value=!0,await Kie.getProductsPerformance({per_page:t,page:r,order_by:l.value,from:e.value.date.start,to:e.value.date.end,sellers:e.value.sellers}).then((t=>{"SUCCESS"==t.data.code&&(u(t.data.data.data),o.value=t.data.data,w.value=o.value.total)}),(t=>{console.log(t)})),i.value=!1},u=t=>{n.value[0].data=t.map((t=>t.count_orders)),n.value[1].data=t.map((t=>t.total_quantity)),d.value.xaxis.categories=t.map((t=>t.name))},p=()=>{c(o.value.per_page,o.value.current_page+1)},g=()=>{c(o.value.per_page,o.value.current_page-1)};return c(),r(c),(t,e)=>{const r=(0,s.up)("icon"),c=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Rne,[(0,s._)("div",Nne,[(0,s._)("div",Yne,[Zne,(0,s._)("p",Kne,(0,wt.zw)((new Intl.NumberFormat).format(w.value)),1)]),(0,s._)("div",Bne,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"tw-h-[35px] tw-px-2 tw-outline-none tw-border tw-rounded tw-border-solid tw-border-gray-200 tw-w-[180px]"},Gne,512),[[a.bM,l.value]]),(0,s._)("div",Xne,[(0,s._)("button",{disabled:!o.value.prev_page_url,onClick:g,class:(0,wt.C_)([o.value.prev_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-left",class:"tw-text-3xl tw-text-gray-500"})],10,tde),(0,s._)("button",{disabled:!o.value.next_page_url,onClick:p,class:(0,wt.C_)([o.value.next_page_url?"":"tw-cursor-not-allowed","tw-p-0.5 tw-aspect-square tw-rounded tw-border tw-border-solid tw-border-gray-200 hover:tw-bg-gray-100 tw-duration-200"])},[(0,s.Wm)(r,{icon:"ic:round-chevron-right",class:"tw-text-3xl tw-text-gray-500"})],10,ede)])])]),(0,s._)("div",null,[(0,s._)("div",rde,[(0,s.Wm)(c,{type:"bar",height:"450",options:d.value,series:n.value},null,8,["options","series"])])])])),i.value?((0,s.wg)(),(0,s.iD)("div",ade,[(0,s._)("div",sde,[lde,(0,s._)("p",ode,[(0,s.Wm)(r,{icon:"eos-icons:three-dots-loading",class:"tw-text-xl"})])]),ide])):(0,s.kq)("",!0)],64)}}};const nde=wde;var dde=nde;const cde={class:"tw-absolute tw-top-full tw-z-10 tw-pt-2"},ude={class:"tw-flex tw-flex-col tw-w-[800px] tw-h-[380px] tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-shadow tw-overflow-hidden"},pde={class:"tw-grid tw-grid-cols-12 tw-h-full"},gde={class:"tw-col-span-3 tw-p-2 tw-flex tw-flex-col tw-gap-2 tw-max-h-[320px] tw-overflow-auto tw-relative"},mde=["onClick"],hde={key:0,class:"tw-col-span-9 tw-p-2 tw-border-l tw-border-solid tw-border-gray-200"},fde={class:"tw-flex tw-p-2 tw-h-full tw-mt-2"},bde={class:"tw-col-span-12 tw-bg-white tw-h-[50px] tw-border-t tw-border-solid tw-border-gray-200"},vde={class:"tw-flex tw-items-center tw-justify-end tw-gap-2 tw-h-full tw-px-2"};var xde={__name:"DateFilter",emits:["close","setName"],setup(t,{emit:e}){const r=e,a=(0,s.f3)("filters"),l=(0,s.f3)("filter"),o=new Date(Date.now()),i=(0,ke.iH)(o.getMonth()),w=(0,ke.iH)(o.getFullYear()),n=(0,ke.iH)(o.getDay()),d=(0,ke.iH)({start:null,end:null});setTimeout((()=>{a.value.date=d.value}));const c=(0,ke.iH)("Lifetime"),u=[{name:"Lifetime",start:null,end:null},{name:"Today",start:new Date(o),end:new Date(o)},{name:"Yesterday",start:new Date(new Date(o).setDate(o.getDate()-1)),end:new Date(new Date(o).setDate(o.getDate()-1))},{name:"Last 7 days",start:new Date(new Date(o).setDate(o.getDate()-6)),end:new Date(o)},{name:"Last 30 days",start:new Date(new Date(o).setDate(o.getDate()-29)),end:new Date(o)},{name:"Last 90 days",start:new Date(new Date(o).setDate(o.getDate()-89)),end:new Date(o)},{name:"Last 365 days",start:new Date(new Date(o).setDate(o.getDate()-364)),end:new Date(o)},{name:"Last month",start:new Date(new Date(o.getFullYear(),o.getMonth()-1,1)),end:new Date(new Date(o.getFullYear(),o.getMonth(),0))},{name:"Last 12 months",start:new Date(new Date(o).setFullYear(o.getFullYear()-1)),end:new Date(o)},{name:"Week to date",start:new Date(new Date(o).setDate(o.getDate()-o.getDay()+1)),end:new Date(o)},{name:"Month to date",start:new Date(o.getFullYear(),o.getMonth(),1),end:new Date(o)},{name:"Quarter to date",start:new Date(o.getFullYear(),3*Math.floor(o.getMonth()/3),1),end:new Date(o)},{name:"Year to date",start:new Date(o.getFullYear(),0,1),end:new Date(o)}];(0,s.YP)((()=>d.value),(()=>{a.value.date=d.value}),{deep:!0});const p=(t,e)=>{i.value=t,w.value=e,console.log(e,t)},g=t=>{console.log("month: ",t)},m=t=>{console.log("day: ",t)},h=t=>{d.value.start=t.start,d.value.end=t.end,c.value=t.name,r("setName",t.name)},f=()=>{l(),r("close")};return(t,e)=>{const a=(0,s.up)("icon"),l=(0,s.up)("DatePicker");return(0,s.wg)(),(0,s.iD)("div",cde,[(0,s._)("div",ude,[(0,s._)("div",pde,[(0,s._)("div",gde,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(u,(t=>(0,s._)("button",{onClick:e=>h(t),key:t.name,class:(0,wt.C_)([[t.name===c.value&&"!tw-bg-gray-100 !tw-text-black"],"tw-flex tw-items-center tw-justify-between tw-p-2 tw-rounded tw-bg-white tw-text-start tw-font-semibold tw-text-gray-600 tw-duration-200 hover:tw-bg-gray-100"])},[(0,s._)("span",null,(0,wt.zw)(t.name),1),t.name===c.value?((0,s.wg)(),(0,s.j4)(a,{key:0,icon:"mage:check",class:"tw-text-xl tw-text-black"})):(0,s.kq)("",!0)],10,mde))),64))]),"Lifetime"!=c.value?((0,s.wg)(),(0,s.iD)("div",hde,[(0,s.kq)("",!0),(0,s._)("div",fde,[(0,s.Wm)(l,{"multi-month":"","allow-range":"",month:i.value,year:w.value,day:n.value,modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=t=>d.value=t),onMonthChange:p,onDayChange:m,onChange:g},null,8,["month","year","day","modelValue"])])])):(0,s.kq)("",!0)]),(0,s._)("div",bde,[(0,s._)("div",vde,[(0,s._)("button",{onClick:e[3]||(e[3]=t=>r("close")),class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-gray-50 tw-text-gray-500"},"Close"),(0,s._)("button",{onClick:f,class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-orange-400 tw-text-white"},"Filter")])])])])}}};const yde=xde;var _de=yde;const kde={class:"tw-absolute tw-top-full tw-z-10 tw-pt-2"},Cde={class:"tw-flex tw-flex-col tw-w-[400px] tw-h-[380px]x tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-shadow tw-overflow-hidden"},Dde={class:"tw-grid tw-grid-cols-12 tw-h-full"},Sde={class:"tw-col-span-12 tw-grid tw-grid-cols-2 tw-p-2 tw-gap-2 tw-h-fit tw-max-h-[200px] tw-overflow-auto"},zde=["title","onClick"],Ude={class:"tw-col-span-12 tw-bg-white tw-h-[50px] tw-border-t tw-border-solid tw-border-gray-200"},qde={class:"tw-flex tw-items-center tw-justify-end tw-gap-2 tw-h-full tw-px-2"};var Pde={__name:"SellerFilter",emits:["close"],setup(t,{emit:e}){const r=e,a=(0,s.f3)("filters"),l=(0,s.f3)("filter"),o=(0,i.oR)(),w=(0,s.Fl)((()=>o.getters["user/users"].filter((t=>"seller"==t.role_name)))),n=t=>{a.value.sellers.includes(t)?a.value.sellers=a.value.sellers.filter((e=>e!=t)):a.value.sellers.push(t)},d=()=>{r("close"),l()};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",kde,[(0,s._)("div",Cde,[(0,s._)("div",Dde,[(0,s._)("div",Sde,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,title:t.firstname+" "+t.lastname,onClick:e=>n(t.id),class:(0,wt.C_)([[(0,ke.SU)(a).sellers.includes(t.id)&&"!tw-bg-orange-500 tw-text-white"],"tw-cursor-pointer tw-p-2 tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-h-fit hover:tw-bg-gray-50 tw-duration-200"])},(0,wt.zw)(t.username),11,zde)))),128))]),(0,s._)("div",Ude,[(0,s._)("div",qde,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r("close")),class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-gray-50 tw-text-gray-500"},"Close"),(0,s._)("button",{onClick:d,class:"tw-px-4 tw-py-0.5 tw-rounded tw-bg-orange-400 tw-text-white"},"Filter")])])])])]))}};const Lde=Pde;var Wde=Lde;const Ade={class:"tw-flex tw-items-center tw-gap-2"},$de={class:"tw-relative"},Ede={class:"tw-text-sm tw-font-medium tw-text-gray-800"},Tde={class:"tw-relative"},Fde=(0,s._)("p",{class:"tw-text-sm tw-font-medium tw-text-gray-800"},"All Sellers",-1);var jde={__name:"FilterContainer",setup(t){const e=(0,ke.iH)("Lifetime"),r=(0,ke.iH)({date:!1,sellers:!1});return(t,l)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ade,[(0,s._)("div",$de,[(0,s._)("button",{onClick:l[0]||(l[0]=t=>r.value.date=!r.value.date),class:"tw-px-4 tw-py-2 tw-rounded tw-flex tw-items-center tw-gap-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200 hover:tw-shadow tw-duration-200"},[(0,s.Wm)(o,{icon:"mage:calendar",class:"tw-text-xl tw-text-gray-700"}),(0,s._)("p",Ede,(0,wt.zw)(e.value),1)]),(0,s.wy)((0,s.Wm)((0,ke.SU)(_de),{onSetName:l[1]||(l[1]=t=>e.value=t),onClose:l[2]||(l[2]=t=>r.value.date=!1)},null,512),[[a.F8,r.value.date]])]),(0,s._)("div",Tde,[(0,s._)("button",{onClick:l[3]||(l[3]=t=>r.value.sellers=!r.value.sellers),class:"tw-px-4 tw-py-2 tw-rounded tw-flex tw-items-center tw-gap-2 tw-bg-white tw-border tw-border-solid tw-border-gray-200 hover:tw-shadow tw-duration-200"},[(0,s.Wm)(o,{icon:"mage:user",class:"tw-text-xl tw-text-gray-700"}),Fde]),(0,s.wy)((0,s.Wm)((0,ke.SU)(Wde),{onClose:l[4]||(l[4]=t=>r.value.sellers=!1)},null,512),[[a.F8,r.value.sellers]])])])])}}};const Vde=jde;var Ide=Vde;const Ode={class:"tw-pb-16"},Hde={class:"tw-flex tw-items-center tw-justify-between tw-gap-2 tw-mb-2"},Mde=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("div",{class:"tw-bg-white tw-h-[40px] tw-w-[150px] tw-border tw-border-solid tw-border-gray-300"}),(0,s._)("div",{class:"tw-bg-white tw-h-[40px] tw-w-[150px] tw-border tw-border-solid tw-border-gray-300"})],-1),Rde={class:"tw-grid tw-grid-cols-12 tw-gap-2"},Nde={class:"tw-col-span-12 md:tw-col-span-12 lg:tw-col-span-4"},Yde={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},Zde={class:"tw-col-span-12 md:tw-col-span-6 lg:tw-col-span-4"},Kde={class:"tw-col-span-12"},Bde={class:"tw-col-span-12 md:tw-col-span-12 lg:tw-col-span-6"},Qde={class:"tw-col-span-12 md:tw-col-span-12 lg:tw-col-span-6"};var Jde={__name:"SellersAnalyticsView",setup(t){const e=(0,ke.iH)({date:{start:null,end:null},sellers:[]}),r=(0,ke.iH)([]),a=t=>{r.value.push(t)},l=()=>{r.value.forEach((t=>t()))};return(0,s.JJ)("filter",l),(0,s.JJ)("filters",e),(0,s.JJ)("register",a),(t,e)=>((0,s.wg)(),(0,s.iD)("div",Ode,[(0,s._)("div",Hde,[(0,s._)("div",null,[(0,s.Wm)((0,ke.SU)(Ide))]),Mde]),(0,s._)("div",Rde,[(0,s._)("div",Nde,[(0,s.Wm)((0,ke.SU)(owe))]),(0,s._)("div",Yde,[(0,s.Wm)((0,ke.SU)(kwe))]),(0,s._)("div",Zde,[(0,s.Wm)((0,ke.SU)(Iwe))]),(0,s._)("div",Kde,[(0,s.Wm)((0,ke.SU)(_ne))]),(0,s._)("div",Bde,[(0,s.Wm)((0,ke.SU)(Mne))]),(0,s._)("div",Qde,[(0,s.Wm)((0,ke.SU)(dde))])])]))}};const Gde=Jde;var Xde=Gde,tce={name:"analytics.admin",path:"/admin/analytics",component:Wa,meta:{module:"analytics"},children:[{name:"analytics.admin.sellers",path:"sellers",component:Xde,meta:{module:"analytics",subModule:"analytics.admin.sellers",title:"Analytics",role:["admin"]}}]};const ece=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Page not found")])],-1),rce={class:"py-5 px-5 tw-border bg-white tw-w-full tw-flex tw-items-center tw-justify-center tw-rounded-md tw-min-h-[500px]"},ace={class:"tw-flex tw-items-center tw-flex-col"},sce=(0,s._)("div",{class:"md:tw-text-6xl tw-text-4xl tw-font-black text-primary-color"},"404",-1),lce={class:"tw-w-fit tw-flex tw-items-center md:tw-text-2xl tw-text-xl mt-md-5 mt-3 tw-gap-2"},oce=(0,s._)("div",{class:"tw-max-w-[400px] tw-text-center md:tw-text-lg tw-text-sm mt-5"}," The page you requested was not found or you don't have the permission to access it. ",-1);function ice(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[ece,(0,s._)("div",rce,[(0,s._)("div",ace,[sce,(0,s._)("div",lce,[(0,s.Wm)(ct.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-circle")])),_:1}),(0,s.Uk)(" Oops! Page not found! ")]),oce])])])}var wce={};const nce=(0,m.Z)(wce,[["render",ice]]);var dce=nce;const cce={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"};function uce(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",cce,[(0,s._)("div",null,[(0,s.Wm)(nt.T,{onClick:o.sendRequest,loading:l.isLoading,variant:"flat",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("Send Request")])),_:1},8,["onClick","loading"])])])])}const pce="/api/storeimport",gce="post";var mce={name:"Orders from Youcan",sheet_id:"QSDfFsqdDSQDfrsqFDSRHTRzer",sheet_name:"Youcan-Orders",auto_fetch:!0},hce={data(){return{isLoading:!1,test:mce}},methods:{async sendRequest(){switch(this.isLoading=!0,await E.getCookie(),gce){case"get":A.get(pce).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"post":A.post(pce,mce).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"delete":A["delete"](pce).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;default:break}}}};const fce=(0,m.Z)(hce,[["render",uce]]);var bce=fce;const vce=[Qt,gAt,yBt,mq,OA,u7,Zlt,cwt,Vct,mgt,Lmt,oSt,PUt,VOt,DIt,D5t,kw,k3t,N8t,Qut,Yie,tce,{name:"default",path:"/test",component:Wa,children:[{name:"test",path:"",component:bce,meta:{title:"Test abro m3a rasek",module:"test",gate:"all"}}]},{name:"not-found",path:"/404",component:Wa,meta:{title:"Not Found"},children:[{name:"404",path:"",component:dce}]},{name:"catch-all",path:"/:pathMatch(.*)",beforeEnter:(t,e,r)=>r({name:"404"}),meta:{title:"Not Found"}}],xce=(0,b.p7)({history:(0,b.PO)("/"),routes:vce});xce.beforeEach(((t,e)=>it(t,e,xce)));var yce=xce,_ce=(r(9773),r(8957));const kce={colors:{"primary-color":"#FF9F43","secondary-color":"#1B2850","primary-indigo":"#1B2850","primary-orange":"#FF9F43","primary-blue":"#00CFE8","primary-green":"#28C76F"}};var Cce=(0,_ce.Rd)({theme:{defaultTheme:"customTheme",themes:{customTheme:kce}}});const Dce={install(t){t.config.globalProperties.$can=function(t){const e=this.$store.getters["user/permissions"];return e.includes(t)}}};var Sce=Dce;const zce={install(t){t.config.globalProperties.$alert=function(t){this.$store.dispatch("alert/toggleAlert",t)}}};var Uce=zce,qce={install(t){t.config.globalProperties.$frontend=t=>w+t,t.config.globalProperties.$backend=t=>n+t;const e={get:(e,r)=>t.config.globalProperties.$store.getters["user/user"][r]};t.config.globalProperties.$user=new Proxy(t.config.globalProperties.$store.getters["user/user"],e)}};const Pce={install(t){t.config.globalProperties.$handleApiError=function(e){const r=e?.response?.data?.code;let a="error",s="Something wrong happened. Try again",l=!0;const o=["VALIDATION_ERROR","NOT_ACTIVE_ERROR","INVALID_CREDENTIALS","PERMISSION_DENIED"];switch(o.includes(r)&&(l=!1),console.log(e),"ERR_NETWORK"==e.code&&(s="Network error. Check your connection"),r){case"NOT_ALLOWED":s="Your are not allowed to this resources";break;case"ERROR":s=e?.response?.data.message;break;case"NOT_AUTHENTICATED":s="Your session expired",setTimeout((()=>{t.config.globalProperties.$store.dispatch("user/logout"),t.config.globalProperties.$router.push("/login")}),2e3);break;case"NOT_FOUND":l=!1,t.config.globalProperties.$router.push({name:"404"});break;case"RELOAD":l=!1,console.log("reload"),location.reload(!0);break;case"HIDE_APP":l=!1,document.getElementById("app").innerHTML="";break;default:break}return l&&t.config.globalProperties.$alert({type:a,title:s}),e}}};var Lce=Pce,Wce=r(7025);const Ace=t=>((0,s.dD)("data-v-ff4afcd0"),t=t(),(0,s.Cn)(),t),$ce={class:"tw-min-h-[500px] tw-flex tw-items-center tw-justify-center tw-bg-white tw-rounded-md tw-border"},Ece=Ace((()=>(0,s._)("div",{class:"tw-w-[40px] tw-h-[40px] tw-animate-spin loading tw-border-4 tw-border-x-transparent tw-border-t-transparent tw-rounded-full"},null,-1))),Tce=[Ece];function Fce(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",$ce,Tce)}var jce={};const Vce=(0,m.Z)(jce,[["render",Fce],["__scopeId","data-v-ff4afcd0"]]);var Ice=Vce;const Oce={class:"tw-flex tw-justify-center tw-items-center"},Hce=(0,s._)("div",{class:"tw-relative tw-w-8 tw-h-8 tw-animate-spin tw-rounded-full tw-bg-gradient-to-r tw-from-purple-400 tw-via-blue-500 tw-to-red-400"},[(0,s._)("div",{class:"tw-absolute tw-top-1/2 tw-left-1/2 tw-transform tw--translate-x-1/2 tw--translate-y-1/2 tw-w-7 tw-h-7 tw-bg-white tw-rounded-full tw-border-2 tw-border-white"})],-1),Mce=[Hce];function Rce(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Oce,Mce)}var Nce={};const Yce=(0,m.Z)(Nce,[["render",Rce]]);var Zce=Yce;const Kce={key:0},Bce={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"},Qce={name:"body",class:"tw-z-[50999] tw-bg-white md:tw-min-w-[300px] md:tw-max-w-[800px] tw-flex tw-flex-col md:tw-min-h-[170px] tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5"},Jce=["innerHTML"],Gce={key:1,class:"tw-text-lg tw-text-gray-700"},Xce={class:"tw-flex tw-gap-3 tw-justify-end mt-5"};function tue(t,e,r,a,l,o){return r.visible?((0,s.wg)(),(0,s.iD)("div",Kce,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",Bce,[(0,s._)("div",Qce,[(0,s._)("div",{class:(0,wt.C_)(["tw-font-medium tw-text-lg mb-5 tw-text-start",o.currentType.class])},[(0,s.Wm)(ct.t,{size:"small",class:"mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,wt.zw)(o.currentType.icon),1)])),_:1}),(0,s._)("span",null,(0,wt.zw)(r.title),1)],2),r.body?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tw-text-center tw-text-lg tw-text-gray-700",innerHTML:r.body},null,8,Jce)):((0,s.wg)(),(0,s.iD)("div",Gce,[(0,s.WI)(t.$slots,"default")])),(0,s.Wm)(nr.C),(0,s._)("div",Xce,[(0,s.Wm)(nt.T,{variant:"flat",color:"grey",onClick:e[0]||(e[0]=t=>o.resolve(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),r.noConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(nt.T,{key:0,loading:r.loading,variant:"flat",color:r.btnColor?r.btnColor:"red",onClick:e[1]||(e[1]=t=>o.resolve(!0))},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","color"]))])]),(0,s._)("div",{onClick:e[2]||(e[2]=t=>o.resolve(!1)),class:(0,wt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var eue={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("resolved",t)}},computed:{currentType(){return this.types[this.type]}}};const rue=(0,m.Z)(eue,[["render",tue]]);var aue=rue;const sue={key:0},lue={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function oue(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",sue,[((0,s.wg)(),(0,s.j4)(s.lR,{to:".my-application"},[(0,s._)("div",null,[(0,s._)("div",lue,[(0,s._)("div",{name:"body",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] tw-overflow-y-auto tw-max-h-screen tw-flex tw-flex-col md:tw-min-h-[170px]"},[(0,s.WI)(t.$slots,"default")]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,wt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var iue={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("cancel",t)}},computed:{currentType(){return this.types[this.type]}}};const wue=(0,m.Z)(iue,[["render",oue]]);var nue=wue,due=r(2340),cue=r(5781),uue=r.n(cue),pue=r(6088),gue=r(32),mue=r(6580),hue=(0,a.ri)(f).use(yce).use(st).use(Cce).use(Sce).use(Uce).use(qce).use(Lce).use(Wce.Z).use(gue.Z).use(mue.ZP).component("LoadingAnimation",Ice).component("Loading",Zce).component("Popup",aue).component("PopupFull",nue).component("VueDatePicker",due.Z).component("downloadCsv",uue()).component("popupNew",ere).component("icon",pue.JO).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var l=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,l){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],l=t[d][2];for(var i=!0,w=0;w<a.length;w++)(!1&l||o>=l)&&Object.keys(r.O).every((function(t){return r.O[t](a[w])}))?a.splice(w--,1):(i=!1,l<o&&(o=l));if(i){t.splice(d--,1);var n=s();void 0!==n&&(e=n)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[a,s,l]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,l,o=a[0],i=a[1],w=a[2],n=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(w)var d=w(r)}for(e&&e(a);n<o.length;n++)l=o[n],r.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return r.O(d)},a=self["webpackChunkproduction"]=self["webpackChunkproduction"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(5682)}));a=r.O(a)})();
//# sourceMappingURL=app.ac295878.js.map